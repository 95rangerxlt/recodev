User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.7.3) Gecko/20040913 Firefox/0.10
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.7.3) Gecko/20040913 Firefox/0.10

Every time you select a tab, except the first one, with the default icon,
an HTTP request for /favicon.ico is submitted

Reproducible: Always
Steps to Reproduce:
1.Open a 2nd tab for site without favicons
2.select first tab
3.select second tab

Actual Results:  
Another request for /favicon is generated

Expected Results:  
Should remember that there is no icon.



This could be related to bug 260500

User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.7.3) Gecko/20040913 Firefox/0.10
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.7.3) Gecko/20040913 Firefox/0.10

Every time you select a tab, except the first one, with the default icon,
an HTTP request for /favicon.ico is submitted

Reproducible: Always
Steps to Reproduce:
1.Open a 2nd tab for site without favicons
2.select first tab
3.select second tab

Actual Results:  
Another request for /favicon is generated

Expected Results:  
Should remember that there is no icon.



This could be related to bug 260500
Somehow the number of requests should be limited if possible.

->NEW
Looking at the logs for my site, it seems that it's generating 1 or 2 requests
for /favicon.ico when switching between tabs.  If I have two tabs open,
switching between them with a long delay (more than 20 seconds) between
switches, it generates a single request.  If I switch less than 20 seconds
apart, it generates two.
Seeing same thing using "Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.7.3)
Gecko/20041001 Firefox/0.10.1"

Really obnoxious bug, this should be escalated.  My web server logs are half
full with these things  now.

see also Seamonkey bug 118548
*** Bug 264752 has been marked as a duplicate of this bug. ***
changing->All/All
I don't know if whiteboard [perf] would be justified

CC->Vlad

if this is "easy" it should be included in 1.0 milestone

I missed a missed-favicon cache check; the patch went in a few days ago, I think.
Nm, still not fixed.. taking this.
Created attachment 162517
262262-favicon-request-each-time-fix-0.patch

Fix; there were some cases where we kept around an autogenerated favicon.ico
URL where we shouldn't have done that.
Comment on attachment 162517
262262-favicon-request-each-time-fix-0.patch

r+a=ben@mozilla.org


favicon.ico requested every time tab selected if doesn't exist

fixed-aviary1.0