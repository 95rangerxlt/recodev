2.1

This refactoring is the last one that uses the old code block classes. I 
inlined the classes into the refactoring. We should try to get rid of the 
classes for 2.2

2.1

This refactoring is the last one that uses the old code block classes. I 
inlined the classes into the refactoring. We should try to get rid of the 
classes for 2.2
using the rewriter is lower prio but i will inline the function that i use from 
the code block class
fixed


Move Inner to Top refactoring should use AST rewriting [refactoring]

