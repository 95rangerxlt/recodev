Build ID: M20070212-1330

Steps To Reproduce:
1. Install JDK 6 Update 2
2. Use it as default JRE (Preferences > Java > Installed JREs)
3a. Modify "Compiler Compliance Level" to JDK 1.4 (Preferences > Java > Compiler)
3b. (Optional) Set Project "Compiler Compliance Level" also to JDK 1.4 (just to make sure)
5. Use JDK 6 specific constructs like Arrays.copyOfRange
6. No errors will be generated by IDE even if you clean/rebuild project

More information:

Build ID: M20070212-1330

Steps To Reproduce:
1. Install JDK 6 Update 2
2. Use it as default JRE (Preferences > Java > Installed JREs)
3a. Modify "Compiler Compliance Level" to JDK 1.4 (Preferences > Java > Compiler)
3b. (Optional) Set Project "Compiler Compliance Level" also to JDK 1.4 (just to make sure)
5. Use JDK 6 specific constructs like Arrays.copyOfRange
6. No errors will be generated by IDE even if you clean/rebuild project

More information:
Created attachment 70761
Setting default JRE to JDK 6
Created attachment 70762
Setting "Compiler Compliance Level" to 1.4
Created attachment 70763
No errors regarding Source Incompatibility displayed
AFAIK that's working as expected.  You also need to provide a 1.4 execution environment (an Installed JRE for 1.4.2) for your project to compile against.

Moving to JDT for comment.
PW
As Paul said, the compliance doesn't indicate the libraries against which the user code is compiled. It indicates the level of the Java language being compiled.

Many users have difficulties to grasp this difference. Indeed this is an advanced concept. And the UI doesn't do a good job at hiding this advanced concept for novice users.

I think the UI should present a simple way of switching between JDK level. This switch would set both the compliance and the libraries at the same time. That way a user that decides to develop against 1.4 would not have to worry about compiling against the wrong libraries.

Of course, an avanced mode should allow an expert user to separate the compliance from the libraries.

Moving to JDT/UI
Really moving to JDT/UI
*** Bug 150343 has been marked as a duplicate of this bug. ***
we should show the currently selected JDK directly below the compliance level, as information.
Not major since it works as it should. But we should show a warning like we do on the new Java project wizard.
Created attachment 73307
fix
fixed > N20070707-0010 


[build path] Setting Compiler Compliance Level to 1.4 Problem with JDK 6



Bug 191804 [build path] Setting Compiler Compliance Level to 1.4 Problem with JDK 6 