Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-15 21:34:22 PDT for push 418b5cbc7cd9

slave: talos-r4-lion-018

https://tbpl.mozilla.org/php/getParsedLog.php?id=14425279&tree=Mozilla-Inbound

{
TEST-START | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | set a window value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | stored window value matches original
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | delete the window value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | window value was deleted
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | delete non-existent window value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | store a tab value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | stored tab value match original
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | delete the tab value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | tab value was deleted
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | delete non-existent tab value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | getClosedTabCount returns zero or at most max_tabs_undo
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | after closing a tab, getClosedTabCount has been incremented
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | undoCloseTab doesn't throw
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | correct tab was reopened
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
Stack trace:
    JS frame :: chrome://mochikit/content/tests/SimpleTest/SimpleTest.js :: simpletestOnerror :: line 994
    native frame :: <unknown filename> :: <TOP_LEVEL> :: line 0

TEST-INFO | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | Console message: [JavaScript Error: "NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode]" {file: "chrome://browser/content/places/controller.js" line: 1637}]
INFO TEST-END | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | finished in 672ms
}

Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-15 21:34:22 PDT for push 418b5cbc7cd9

slave: talos-r4-lion-018

https://tbpl.mozilla.org/php/getParsedLog.php?id=14425279&tree=Mozilla-Inbound

{
TEST-START | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | set a window value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | stored window value matches original
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | delete the window value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | window value was deleted
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | delete non-existent window value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | store a tab value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | stored tab value match original
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | delete the tab value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | tab value was deleted
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | delete non-existent tab value
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | getClosedTabCount returns zero or at most max_tabs_undo
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | after closing a tab, getClosedTabCount has been incremented
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | undoCloseTab doesn't throw
TEST-PASS | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | correct tab was reopened
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
Stack trace:
    JS frame :: chrome://mochikit/content/tests/SimpleTest/SimpleTest.js :: simpletestOnerror :: line 994
    native frame :: <unknown filename> :: <TOP_LEVEL> :: line 0

TEST-INFO | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | Console message: [JavaScript Error: "NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode]" {file: "chrome://browser/content/places/controller.js" line: 1637}]
INFO TEST-END | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | finished in 672ms
}
edmorley
https://tbpl.mozilla.org/php/getParsedLog.php?id=14465540&tree=Firefox
Rev4 MacOSX Lion 10.7 mozilla-central opt test mochitest-other on 2012-08-17 04:10:34
slave: talos-r4-lion-037

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ryanvm%gmail.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=14486034&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-17 18:39:41
slave: talos-r4-lion-053

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14487853&tree=Mozilla-Inbound
Rev3 Fedora 12x64 mozilla-inbound opt test mochitest-other on 2012-08-17 19:59:45
slave: talos-r3-fed64-019

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14497452&tree=Ionmonkey
Rev3 Fedora 12x64 ionmonkey pgo test mochitest-other on 2012-08-18 07:10:13
slave: talos-r3-fed64-004

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
https://tbpl.mozilla.org/php/getParsedLog.php?id=14530170&tree=Mozilla-Inbound
edmorley
https://tbpl.mozilla.org/php/getParsedLog.php?id=14561991&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-21 06:26:41
slave: talos-r4-lion-025

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14586720&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-21 22:15:36
slave: talos-r4-lion-068

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
past
https://tbpl.mozilla.org/php/getParsedLog.php?id=14592260&tree=Fx-Team
Rev4 MacOSX Snow Leopard 10.6 fx-team opt test mochitest-other on 2012-08-22 02:27:19
slave: talos-r4-snow-066

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ryanvm%gmail.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=14601828&tree=Try
Rev3 Fedora 12 try opt test mochitest-other on 2012-08-22 09:29:20
slave: talos-r3-fed-016

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
3641 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/events/test_docload.xul | an unexpected uncaught JS exception reported through window.onerror - TypeError: currentTabDocument(...).getElementsByTagName(...)[0] is undefined at chrome://mochitests/content/a11y/accessible/events/test_docload.xul:112
3642 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/events/test_docload.xul | an unexpected uncaught JS exception reported through window.onerror - TypeError: currentTabDocument(...).getElementsByTagName(...)[0] is undefined at chrome://mochitests/content/a11y/accessible/events/test_docload.xul:112
3645 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/events/test_docload_aria.html | finished in a non-clean fashion (in chrome://mochitests/content/a11y/accessible/events/test_docload.xul)
3709 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/events/test_dragndrop.html | finished in a non-clean fashion (in chrome://mochitests/content/a11y/accessible/events/test_docload.xul)
3716 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/events/test_flush.html | Focus event for input2 was expected! - got [object HTMLDocument], expected [object HTMLInputElement]
3717 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/a11y/accessible/events/test_flush.html | finished in a non-clean fashion (in chrome://mochitests/content/a11y/accessible/events/test_dragndrop.html)
past
https://tbpl.mozilla.org/php/getParsedLog.php?id=14664497&tree=Fx-Team
Rev4 MacOSX Lion 10.7 fx-team opt test mochitest-other on 2012-08-24 03:12:35
slave: talos-r4-lion-073

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
robcee
https://tbpl.mozilla.org/php/getParsedLog.php?id=14670077&tree=Fx-Team
Rev4 MacOSX Lion 10.7 fx-team opt test mochitest-other on 2012-08-24 06:57:23
slave: talos-r4-lion-050

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14674347&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-24 09:51:23
slave: talos-r4-lion-022

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ryanvm%gmail.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=14702829&tree=Try
Rev4 MacOSX Lion 10.7 try opt test mochitest-other on 2012-08-25 06:40:40
slave: talos-r4-lion-081

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ryanvm%gmail.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=14703301&tree=Try
Rev4 MacOSX Lion 10.7 try opt test mochitest-other on 2012-08-25 07:08:14
slave: talos-r4-lion-052

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14706367&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-25 09:59:27
slave: talos-r4-lion-045

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
cc'ing mak and tim - recent orange involving both Places and Session Restore?
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14750189&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-27 08:55:50
slave: talos-r4-lion-076

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14737195&tree=Profiling
Rev4 MacOSX Lion 10.7 profiling opt test mochitest-other on 2012-08-26 23:08:28
slave: talos-r4-lion-008

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
RyanVM
https://tbpl.mozilla.org/php/getParsedLog.php?id=14775385&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-28 07:18:20
slave: talos-r4-lion-077

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
RyanVM
https://tbpl.mozilla.org/php/getParsedLog.php?id=14786548&tree=Firefox
Rev4 MacOSX Snow Leopard 10.6 mozilla-central opt test mochitest-other on 2012-08-28 14:45:08
slave: talos-r4-snow-077

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
jimb
https://tbpl.mozilla.org/php/getParsedLog.php?id=14691942&tree=Try
Rev4 MacOSX Lion 10.7 try opt test mochitest-other on 2012-08-24 21:15:24
slave: talos-r4-lion-038

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14820995&tree=Services-Central
Rev3 Fedora 12x64 services-central opt test mochitest-other on 2012-08-29 16:28:03
slave: talos-r3-fed64-006

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14825723&tree=Mozilla-Inbound
Rev3 Fedora 12x64 mozilla-inbound opt test mochitest-other on 2012-08-29 20:33:12
slave: talos-r3-fed64-069

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14825912&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-29 20:48:46
slave: talos-r4-lion-028

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14861761&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-08-30 21:04:18
slave: talos-r4-lion-038

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
vporof
https://tbpl.mozilla.org/php/getParsedLog.php?id=14872076&tree=Fx-Team
Rev4 MacOSX Snow Leopard 10.6 fx-team opt test mochitest-other on 2012-08-31 04:48:22
slave: talos-r4-snow-072

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=14880080&tree=Mozilla-Inbound
Rev3 Fedora 12 mozilla-inbound opt test mochitest-other on 2012-08-31 09:50:32
slave: talos-r3-fed-054

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
WG9s
https://tbpl.mozilla.org/php/getParsedLog.php?id=14904766&tree=Mozilla-Inbound
Rev3 Fedora 12x64 mozilla-inbound opt test mochitest-other on 2012-09-01 20:24:29
slave: talos-r3-fed64-018

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
edmorley
https://tbpl.mozilla.org/php/getParsedLog.php?id=15005824&tree=Profiling
Rev4 MacOSX Snow Leopard 10.6 profiling opt test mochitest-other on 2012-09-05 22:57:36
slave: talos-r4-snow-079

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/content/tests/browser/browser_DeferredTask.js | Deferred task 3 shouldn't be pending - Got true, expected false
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/content/tests/browser/browser_DeferredTask.js | Deferred task 1 should be pending - Got false, expected true
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15039957&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-09-06 22:10:24
slave: talos-r4-snow-021

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15042771&tree=Services-Central
Rev4 MacOSX Lion 10.7 services-central opt test mochitest-other on 2012-09-07 00:56:14
slave: talos-r4-lion-033

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ryanvm%gmail.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=15057805&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-09-07 14:06:37
slave: talos-r4-lion-048

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
paul
https://tbpl.mozilla.org/php/getParsedLog.php?id=15099911&tree=Fx-Team
Rev4 MacOSX Lion 10.7 fx-team opt test mochitest-other on 2012-09-10 05:35:11
slave: talos-r4-lion-082

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15102822&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-09-10 07:57:19
slave: talos-r4-lion-077

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15172456&tree=Mozilla-Inbound
Rev5 MacOSX Mountain Lion 10.8 mozilla-inbound debug test mochitest-other on 2012-09-12 14:17:16
slave: talos-mtnlion-r5-043

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15208819&tree=Mozilla-Inbound
Rev5 MacOSX Mountain Lion 10.8 mozilla-inbound debug test mochitest-other on 2012-09-13 19:59:27
slave: talos-mtnlion-r5-046

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15207917&tree=Firefox
Rev4 MacOSX Lion 10.7 mozilla-central opt test mochitest-other on 2012-09-13 19:47:20
slave: talos-r4-lion-039

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15220378&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-09-14 08:16:53
slave: talos-r4-lion-028

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
RyanVM
https://tbpl.mozilla.org/php/getParsedLog.php?id=15236235&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-09-14 19:13:18
slave: talos-r4-lion-006

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15237860&tree=Mozilla-Inbound
Rev5 MacOSX Mountain Lion 10.8 mozilla-inbound opt test mochitest-other on 2012-09-14 21:45:32
slave: talos-mtnlion-r5-083

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15246980&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-09-15 15:34:25
slave: talos-r4-snow-064

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15265166&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-09-17 00:08:13
slave: talos-r4-lion-057

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ttaubert
https://tbpl.mozilla.org/php/getParsedLog.php?id=15277565&tree=Fx-Team
Rev3 Fedora 12 fx-team opt test mochitest-other on 2012-09-17 10:38:26
slave: talos-r3-fed-062

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15283637&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-09-17 14:19:17
slave: talos-r4-lion-015

33037 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/chrome/widget/tests/test_bug596600.xul | box shouldn't be hovered
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15317330&tree=Services-Central
Rev4 MacOSX Lion 10.7 services-central opt test mochitest-other on 2012-09-18 13:48:49
slave: talos-r4-lion-081

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
graememcc_firefox%graeme-online.co.uk
https://tbpl.mozilla.org/php/getParsedLog.php?id=15338096&tree=Mozilla-Inbound
Rev5 MacOSX Mountain Lion 10.8 mozilla-inbound opt test mochitest-other on 2012-09-19 04:35:25
slave: talos-mtnlion-r5-056

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ttaubert
https://tbpl.mozilla.org/php/getParsedLog.php?id=15346602&tree=Try
Rev4 MacOSX Snow Leopard 10.6 try opt test mochitest-other on 2012-09-19 09:35:02
slave: talos-r4-snow-022

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
past
https://tbpl.mozilla.org/php/getParsedLog.php?id=15369897&tree=Fx-Team
Rev4 MacOSX Snow Leopard 10.6 fx-team opt test mochitest-other on 2012-09-20 00:26:20
slave: talos-r4-snow-046

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
jmaher%mozilla.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=15379517&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-09-20 07:09:10
slave: talos-r4-snow-025

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
DougT
https://tbpl.mozilla.org/php/getParsedLog.php?id=15388214&tree=Firefox
Rev4 MacOSX Lion 10.7 mozilla-central opt test mochitest-other on 2012-09-20 13:20:14
slave: talos-r4-lion-076

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ryanvm%gmail.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=15394820&tree=Firefox
Rev4 MacOSX Lion 10.7 mozilla-central opt test mochitest-other on 2012-09-20 17:04:40
slave: talos-r4-lion-050

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15401594&tree=Mozilla-Inbound
Rev5 MacOSX Mountain Lion 10.8 mozilla-inbound opt test mochitest-other on 2012-09-20 22:58:32
slave: talos-mtnlion-r5-013

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
mbrubeck
https://tbpl.mozilla.org/php/getParsedLog.php?id=15423330&tree=Try
Rev4 MacOSX Lion 10.7 try opt test mochitest-other on 2012-09-21 14:16:28
slave: talos-r4-lion-021

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
ryanvm%gmail.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=15427737&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-09-21 16:45:34
slave: talos-r4-snow-058

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15433661&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-09-21 21:44:38
slave: talos-r4-snow-031

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15444790&tree=Fx-Team
Rev4 MacOSX Snow Leopard 10.6 fx-team opt test mochitest-other on 2012-09-22 09:42:37
slave: talos-r4-snow-029

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15460885&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-09-23 12:52:11
slave: talos-r4-lion-052

8581 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/chrome/dom/tests/mochitest/webapps/test_install_errors.xul | an unexpected uncaught JS exception reported through window.onerror - NS_NOINTERFACE: Component returned failure code: 0x80004002 (NS_NOINTERFACE) [nsIFileURL.file] at chrome://mochitests/content/chrome/dom/tests/mochitest/webapps/test_install_errors.xul:159
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
froydnj
https://tbpl.mozilla.org/php/getParsedLog.php?id=15478313&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-09-24 05:06:12
slave: talos-r4-snow-042

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
edmorley
https://tbpl.mozilla.org/php/getParsedLog.php?id=15511794&tree=Mozilla-Inbound
Rev3 Fedora 12 mozilla-inbound opt test mochitest-other on 2012-09-25 03:41:04
slave: talos-r3-fed-063

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
edmorley
https://tbpl.mozilla.org/php/getParsedLog.php?id=15544384&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-09-26 00:35:24
slave: talos-r4-snow-082

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15556953&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-09-26 08:19:26
slave: talos-r4-snow-082

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
jdm
https://tbpl.mozilla.org/php/getParsedLog.php?id=15569596&tree=Try
Rev3 Fedora 12x64 try opt test mochitest-other on 2012-09-26 15:27:26
slave: talos-r3-fed64-057

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_bug734076.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=15577243&tree=Mozilla-Inbound
Rev4 MacOSX Lion 10.7 mozilla-inbound opt test mochitest-other on 2012-09-26 19:43:18
slave: talos-r4-lion-040

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
Ms2ger%gmail.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=15659849&tree=Mozilla-Inbound
Rev3 Fedora 12 mozilla-inbound opt test mochitest-other on 2012-09-29 02:58:22
slave: talos-r3-fed-058

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/devtools/tilt/test/browser_tilt_controller.js | Exited with code 1 during test run
edmorley
https://tbpl.mozilla.org/php/getParsedLog.php?id=15704157&tree=Mozilla-Inbound
Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-other on 2012-10-01 07:21:42
slave: talos-r4-snow-025

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/sessionstore/test/browser_350525.js | an unexpected uncaught JS exception reported through window.onerror - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637
Created attachment 666927
patch

It seems strange to me that a script keeps running while its own host document isn't accessible anymore. Maybe controller.js being loaded from an overlay plays a role here...
You should be able to use Components.Utils.isDeadWrapper (introduced in bug 773980) instead of trying to get the value and catching the exception.
(In reply to Andrew McCreight [:mccr8] from comment #67)
> You should be able to use Components.Utils.isDeadWrapper (introduced in bug
> 773980) instead of trying to get the value and catching the exception.

Thanks, I guess I'll try that. Though, do you know why we get an unhelpfully unspecific NS_ERROR_FAILURE rather than "can't access dead object"?
(In reply to Dão Gottwald [:dao] from comment #68)
> Thanks, I guess I'll try that. Though, do you know why we get an unhelpfully
> unspecific NS_ERROR_FAILURE rather than "can't access dead object"?

I have no idea. It does kind of sound like it hits the dead object exception in some kind of indirect way, then the exception bubbles out in C++ code, which turns it into a meaningless exception. Maybe Kyle has some idea...
Will Components.utils.isDeadWrapper work regardless?
Comment on attachment 666927
patch

Review of attachment 666927:
-----------------------------------------------------------------

::: browser/components/places/content/controller.js
@@ +1633,5 @@
>  function doGetPlacesControllerForCommand(aCommand)
>  {
>    // A context menu may be built for non-focusable views.  Thus, we first try
>    // to look for a view associated with document.popupNode
> +  let popupNode; 

trailing space

@@ +1638,5 @@
> +  try {
> +    popupNode = document.popupNode;
> +  } catch (e) {
> +    // The document went away.
> +    return null;

I'm fine with a workaround, though may you please file a followup bug to try to figure out why this happens and annotate the bug number in the comment here?
I'm not really sure. Probably not, I guess? Maybe there's some other kind of weird wrapping going on or something. If the outermost wrapper or whatever isn't a Dead Object Proxy (which not getting the useful error message suggests to me), then I suppose isDeadWrapper probably won't work. Maybe you should just stick with what you have.
https://hg.mozilla.org/integration/mozilla-inbound/rev/d7b6af267d42
https://hg.mozilla.org/mozilla-central/rev/d7b6af267d42
Comment on attachment 666927
patch

>   // A context menu may be built for non-focusable views.  Thus, we first try
>   // to look for a view associated with document.popupNode
>-  let popupNode = document.popupNode;
>+  let popupNode; 
>+  try {
>+    popupNode = document.popupNode;
>+  } catch (e) {
>+    // The document went away.

The document-went-away case can by caught by checking |window.closed. That wouldn't hide any potential exceptions for other cases we don't know of.

At the very least, the exception should be reported to the console.


Intermittent browser_350525.js, browser_bug734076.js | uncaught JS exception - NS_ERROR_FAILURE: Failure arg 0 [nsIDOMXULDocument.popupNode] at chrome://browser/content/places/controller.js:1637

intermittent-failure, regression

Bug 783273 - Work around doGetPlacesControllerForCommand being called while the browser window is already closed (fixes intermittently failing browser_350525.js and browser_bug734076.js). r=mak 