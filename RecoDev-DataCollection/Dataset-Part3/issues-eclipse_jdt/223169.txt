HEAD

I shut down my runtime workbench. Dialog "Wanna save files?" -> Yes.

Log entry:

!ENTRY org.eclipse.jface 4 0 2008-03-19 10:29:46.671
!MESSAGE Unhandled event loop exception during blocked modal context.
!STACK 0
org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException)
	at org.eclipse.swt.SWT.error(SWT.java:3756)
	at org.eclipse.swt.SWT.error(SWT.java:3674)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:133)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3749)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3374)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:165)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:360)
	at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:503)
	at org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run(ProgressMonitorJobsDialog.java:275)
	at org.eclipse.ui.internal.ide.application.IDEWorkbenchAdvisor.disconnectFromWorkspace(IDEWorkbenchAdvisor.java:397)
	at org.eclipse.ui.internal.ide.application.IDEWorkbenchAdvisor.postShutdown(IDEWorkbenchAdvisor.java:314)
	at org.eclipse.ui.internal.Workbench.shutdown(Workbench.java:2694)
	at org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:927)
	at org.eclipse.ui.internal.Workbench.access$15(Workbench.java:844)
	at org.eclipse.ui.internal.Workbench$22.run(Workbench.java:1088)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.ui.internal.Workbench.close(Workbench.java:1086)
	at org.eclipse.ui.internal.Workbench.close(Workbench.java:1058)
	at org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:695)
	at org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:674)
	at org.eclipse.ui.internal.WorkbenchWindow$2.run(WorkbenchWindow.java:790)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:788)
	at org.eclipse.jface.window.Window.handleShellCloseEvent(Window.java:741)
	at org.eclipse.jface.window.Window$3.shellClosed(Window.java:687)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:91)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:83)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1011)
	at org.eclipse.swt.widgets.Decorations.closeWidget(Decorations.java:306)
	at org.eclipse.swt.widgets.Decorations.WM_CLOSE(Decorations.java:1622)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3778)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:334)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1555)
	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1909)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4472)
	at org.eclipse.swt.internal.win32.OS.$$YJP$$DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(OS.java)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2331)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:474)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3866)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:334)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1555)
	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1909)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4472)
	at org.eclipse.swt.internal.win32.OS.$$YJP$$DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(OS.java)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2331)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:474)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3866)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:334)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1555)
	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1909)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4472)
	at org.eclipse.swt.internal.win32.OS.$$YJP$$DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(OS.java)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2336)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3369)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2368)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2332)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2198)
	at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:476)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:471)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1236)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1212)
Caused by: java.lang.NullPointerException
	at org.eclipse.jdt.internal.ui.javaeditor.JavaEditorBreadcrumb$1.run(JavaEditorBreadcrumb.java:349)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:130)
	... 77 more

HEAD

I shut down my runtime workbench. Dialog "Wanna save files?" -> Yes.

Log entry:

!ENTRY org.eclipse.jface 4 0 2008-03-19 10:29:46.671
!MESSAGE Unhandled event loop exception during blocked modal context.
!STACK 0
org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException)
	at org.eclipse.swt.SWT.error(SWT.java:3756)
	at org.eclipse.swt.SWT.error(SWT.java:3674)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:133)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3749)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3374)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:165)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:360)
	at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:503)
	at org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run(ProgressMonitorJobsDialog.java:275)
	at org.eclipse.ui.internal.ide.application.IDEWorkbenchAdvisor.disconnectFromWorkspace(IDEWorkbenchAdvisor.java:397)
	at org.eclipse.ui.internal.ide.application.IDEWorkbenchAdvisor.postShutdown(IDEWorkbenchAdvisor.java:314)
	at org.eclipse.ui.internal.Workbench.shutdown(Workbench.java:2694)
	at org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:927)
	at org.eclipse.ui.internal.Workbench.access$15(Workbench.java:844)
	at org.eclipse.ui.internal.Workbench$22.run(Workbench.java:1088)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.ui.internal.Workbench.close(Workbench.java:1086)
	at org.eclipse.ui.internal.Workbench.close(Workbench.java:1058)
	at org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:695)
	at org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:674)
	at org.eclipse.ui.internal.WorkbenchWindow$2.run(WorkbenchWindow.java:790)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:788)
	at org.eclipse.jface.window.Window.handleShellCloseEvent(Window.java:741)
	at org.eclipse.jface.window.Window$3.shellClosed(Window.java:687)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:91)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:83)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1011)
	at org.eclipse.swt.widgets.Decorations.closeWidget(Decorations.java:306)
	at org.eclipse.swt.widgets.Decorations.WM_CLOSE(Decorations.java:1622)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3778)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:334)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1555)
	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1909)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4472)
	at org.eclipse.swt.internal.win32.OS.$$YJP$$DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(OS.java)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2331)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:474)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3866)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:334)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1555)
	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1909)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4472)
	at org.eclipse.swt.internal.win32.OS.$$YJP$$DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(OS.java)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2331)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:474)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3866)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:334)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1555)
	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1909)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4472)
	at org.eclipse.swt.internal.win32.OS.$$YJP$$DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(OS.java)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2336)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3369)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2368)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2332)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2198)
	at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:476)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:471)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1236)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1212)
Caused by: java.lang.NullPointerException
	at org.eclipse.jdt.internal.ui.javaeditor.JavaEditorBreadcrumb$1.run(JavaEditorBreadcrumb.java:349)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:130)
	... 77 more
Created attachment 92878
fix

The viewer is set to 'null' on disposal.
fixed > I20080318-0800
