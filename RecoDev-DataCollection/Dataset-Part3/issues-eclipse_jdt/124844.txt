I20060119-0800 + JDT (core, ui, apt) from HEAD

Window > Preferences..., select Java > Compiler > Annotation Processing

Two error dialogs appear, page does not show up. Log entry:

java.lang.NullPointerException
	at org.eclipse.jdt.apt.core.internal.generatedfile.GeneratedSourceFolderManager.validate(GeneratedSourceFolderManager.java:438)
	at org.eclipse.jdt.apt.core.util.AptConfig.validateGenSrcDir(AptConfig.java:656)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.validateGenSrcDir(AptConfigurationBlock.java:384)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.validateSettings(AptConfigurationBlock.java:369)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.updateModel(AptConfigurationBlock.java:432)
	at org.eclipse.jdt.apt.ui.internal.preferences.BaseConfigurationBlock$UpdateAdapter.dialogFieldChanged(BaseConfigurationBlock.java:169)
	at org.eclipse.jdt.internal.ui.wizards.dialogfields.DialogField.dialogFieldChanged(DialogField.java:70)
	at org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField.setText(StringDialogField.java:162)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.updateControls(AptConfigurationBlock.java:417)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.<init>(AptConfigurationBlock.java:215)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptPreferencePage.createControl(AptPreferencePage.java:42)
	at org.eclipse.jface.preference.PreferenceDialog.createPageControl(PreferenceDialog.java:1371)
	at org.eclipse.jface.preference.PreferenceDialog$12.run(PreferenceDialog.java:1138)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
	at org.eclipse.core.runtime.Platform.run(Platform.java:785)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1132)
	at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage(FilteredPreferenceDialog.java:350)
	at org.eclipse.jface.preference.PreferenceDialog$8.selectionChanged(PreferenceDialog.java:638)
	at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:802)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
	at org.eclipse.core.runtime.Platform.run(Platform.java:785)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:800)
	at org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:1081)
	at org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:1101)
	at org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:232)
	at org.eclipse.jface.util.OpenStrategy.access$4(OpenStrategy.java:227)
	at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:393)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3264)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2910)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:811)
	at org.eclipse.jface.window.Window.open(Window.java:789)
	at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:66)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:492)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:920)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1790)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1754)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:400)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:373)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:168)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:615)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)

I20060119-0800 + JDT (core, ui, apt) from HEAD

Window > Preferences..., select Java > Compiler > Annotation Processing

Two error dialogs appear, page does not show up. Log entry:

java.lang.NullPointerException
	at org.eclipse.jdt.apt.core.internal.generatedfile.GeneratedSourceFolderManager.validate(GeneratedSourceFolderManager.java:438)
	at org.eclipse.jdt.apt.core.util.AptConfig.validateGenSrcDir(AptConfig.java:656)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.validateGenSrcDir(AptConfigurationBlock.java:384)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.validateSettings(AptConfigurationBlock.java:369)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.updateModel(AptConfigurationBlock.java:432)
	at org.eclipse.jdt.apt.ui.internal.preferences.BaseConfigurationBlock$UpdateAdapter.dialogFieldChanged(BaseConfigurationBlock.java:169)
	at org.eclipse.jdt.internal.ui.wizards.dialogfields.DialogField.dialogFieldChanged(DialogField.java:70)
	at org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField.setText(StringDialogField.java:162)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.updateControls(AptConfigurationBlock.java:417)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptConfigurationBlock.<init>(AptConfigurationBlock.java:215)
	at org.eclipse.jdt.apt.ui.internal.preferences.AptPreferencePage.createControl(AptPreferencePage.java:42)
	at org.eclipse.jface.preference.PreferenceDialog.createPageControl(PreferenceDialog.java:1371)
	at org.eclipse.jface.preference.PreferenceDialog$12.run(PreferenceDialog.java:1138)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
	at org.eclipse.core.runtime.Platform.run(Platform.java:785)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1132)
	at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage(FilteredPreferenceDialog.java:350)
	at org.eclipse.jface.preference.PreferenceDialog$8.selectionChanged(PreferenceDialog.java:638)
	at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:802)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
	at org.eclipse.core.runtime.Platform.run(Platform.java:785)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:800)
	at org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:1081)
	at org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:1101)
	at org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:232)
	at org.eclipse.jface.util.OpenStrategy.access$4(OpenStrategy.java:227)
	at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:393)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3264)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2910)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:811)
	at org.eclipse.jface.window.Window.open(Window.java:789)
	at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:66)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:492)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:920)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1790)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1754)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:400)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:373)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:168)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:615)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)
I can repro.  Only happens in Window -> Preferences, not in Project -> Properties.  Looking into it now - thanks.
Fixed.  Also propagated fix to 3.1.1 branch.
*** Bug 125726 has been marked as a duplicate of this bug. ***
