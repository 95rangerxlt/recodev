Build: I20070220

Each time the refactoring history property page is opened on a project, four images are leaked. Sample sleak trace:

java.lang.Error
	at java.lang.Throwable.<init>(Throwable.java:58)
	at org.eclipse.swt.graphics.Device.new_Object(Device.java:786)
	at org.eclipse.swt.graphics.Image.<init>(Image.java:491)
	at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:289)
	at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:227)
	at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:205)
	at org.eclipse.ltk.ui.refactoring.history.RefactoringHistoryLabelProvider.<init>(RefactoringHistoryLabelProvider.java:96)
	at org.eclipse.ltk.ui.refactoring.history.RefactoringHistoryControlConfiguration.getLabelProvider(RefactoringHistoryControlConfiguration.java:113)
	at org.eclipse.ltk.internal.ui.refactoring.history.BrowseRefactoringHistoryLabelProvider.<init>(BrowseRefactoringHistoryLabelProvider.java:48)
	at org.eclipse.ltk.internal.ui.refactoring.history.SortableRefactoringHistoryControl.getLabelProvider(SortableRefactoringHistoryControl.java:277)
	at org.eclipse.ltk.internal.ui.refactoring.history.RefactoringHistoryControl.createControl(RefactoringHistoryControl.java:390)
	at org.eclipse.ltk.internal.ui.refactoring.history.SortableRefactoringHistoryControl.createControl(SortableRefactoringHistoryControl.java:153)
	at org.eclipse.ltk.internal.ui.refactoring.history.ShowRefactoringHistoryControl.createControl(ShowRefactoringHistoryControl.java:73)
	at org.eclipse.ltk.internal.ui.refactoring.history.RefactoringPropertyPage.createContents(RefactoringPropertyPage.java:156)
	at org.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:233)
	at org.eclipse.jface.preference.PreferenceDialog.createPageControl(PreferenceDialog.java:1407)
	at org.eclipse.jface.preference.PreferenceDialog$12.run(PreferenceDialog.java:1166)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
	at org.eclipse.core.runtime.Platform.run(Platform.java:850)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:52)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:153)
	at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1160)
	at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage(FilteredPreferenceDialog.java:433)
	at org.eclipse.jface.preference.PreferenceDialog$8.selectionChanged(PreferenceDialog.java:665)
	at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:841)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
	at org.eclipse.core.runtime.Platform.run(Platform.java:850)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:52)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:153)
	at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:839)
	at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1606)
	at org.eclipse.jface.preference.PreferenceDialog.selectSavedItem(PreferenceDialog.java:962)
	at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.selectSavedItem(FilteredPreferenceDialog.java:476)
	at org.eclipse.jface.preference.PreferenceDialog$3.run(PreferenceDialog.java:349)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.jface.preference.PreferenceDialog.createContents(PreferenceDialog.java:345)
	at org.eclipse.jface.window.Window.create(Window.java:426)
	at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1135)
	at org.eclipse.ui.internal.dialogs.PropertyDialog.createDialogOn(PropertyDialog.java:81)
	at org.eclipse.ui.dialogs.PropertyDialogAction.createDialog(PropertyDialogAction.java:175)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:154)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3507)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3121)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2286)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2250)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2125)
	at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:459)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:454)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
	at java.lang.reflect.Method.invoke(Method.java:391)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1124)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1099)

Build: I20070220

Each time the refactoring history property page is opened on a project, four images are leaked. Sample sleak trace:

java.lang.Error
	at java.lang.Throwable.<init>(Throwable.java:58)
	at org.eclipse.swt.graphics.Device.new_Object(Device.java:786)
	at org.eclipse.swt.graphics.Image.<init>(Image.java:491)
	at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:289)
	at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:227)
	at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:205)
	at org.eclipse.ltk.ui.refactoring.history.RefactoringHistoryLabelProvider.<init>(RefactoringHistoryLabelProvider.java:96)
	at org.eclipse.ltk.ui.refactoring.history.RefactoringHistoryControlConfiguration.getLabelProvider(RefactoringHistoryControlConfiguration.java:113)
	at org.eclipse.ltk.internal.ui.refactoring.history.BrowseRefactoringHistoryLabelProvider.<init>(BrowseRefactoringHistoryLabelProvider.java:48)
	at org.eclipse.ltk.internal.ui.refactoring.history.SortableRefactoringHistoryControl.getLabelProvider(SortableRefactoringHistoryControl.java:277)
	at org.eclipse.ltk.internal.ui.refactoring.history.RefactoringHistoryControl.createControl(RefactoringHistoryControl.java:390)
	at org.eclipse.ltk.internal.ui.refactoring.history.SortableRefactoringHistoryControl.createControl(SortableRefactoringHistoryControl.java:153)
	at org.eclipse.ltk.internal.ui.refactoring.history.ShowRefactoringHistoryControl.createControl(ShowRefactoringHistoryControl.java:73)
	at org.eclipse.ltk.internal.ui.refactoring.history.RefactoringPropertyPage.createContents(RefactoringPropertyPage.java:156)
	at org.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:233)
	at org.eclipse.jface.preference.PreferenceDialog.createPageControl(PreferenceDialog.java:1407)
	at org.eclipse.jface.preference.PreferenceDialog$12.run(PreferenceDialog.java:1166)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
	at org.eclipse.core.runtime.Platform.run(Platform.java:850)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:52)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:153)
	at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1160)
	at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage(FilteredPreferenceDialog.java:433)
	at org.eclipse.jface.preference.PreferenceDialog$8.selectionChanged(PreferenceDialog.java:665)
	at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:841)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
	at org.eclipse.core.runtime.Platform.run(Platform.java:850)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:52)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:153)
	at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:839)
	at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1606)
	at org.eclipse.jface.preference.PreferenceDialog.selectSavedItem(PreferenceDialog.java:962)
	at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.selectSavedItem(FilteredPreferenceDialog.java:476)
	at org.eclipse.jface.preference.PreferenceDialog$3.run(PreferenceDialog.java:349)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.jface.preference.PreferenceDialog.createContents(PreferenceDialog.java:345)
	at org.eclipse.jface.window.Window.create(Window.java:426)
	at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1135)
	at org.eclipse.ui.internal.dialogs.PropertyDialog.createDialogOn(PropertyDialog.java:81)
	at org.eclipse.ui.dialogs.PropertyDialogAction.createDialog(PropertyDialogAction.java:175)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:154)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3507)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3121)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2286)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2250)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2125)
	at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:459)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:454)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
	at java.lang.reflect.Method.invoke(Method.java:391)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1124)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1099)
fixed for I20070227

Thanks John for finding this!
