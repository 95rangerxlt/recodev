TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75 

https://tbpl.mozilla.org/php/getParsedLog.php?id=11522732&tree=Services-Central&full=1

TEST-START | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must to be declared in the document or in the transfer protocol." {file: "http://mochi.test:8888/" line: 0}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "TelemetryStopwatch: key "FX_SESSION_RESTORE_WRITE_FILE_MS" was already initialized" {file: "resource://gre/modules/TelemetryStopwatch.jsm" line: 53}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must to be declared in the document or in the transfer protocol." {file: "http://mochi.test:8888/" line: 0}]
TEST-PASS | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | thumbnail file was updated
TEST-PASS | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | copy of thumbnail has been removed
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
Stack trace:
    JS frame :: chrome://mochikit/content/tests/SimpleTest/SimpleTest.js :: simpletestOnerror :: line 983
    native frame :: <unknown filename> :: <TOP_LEVEL> :: line 0

INFO TEST-END | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | finished in 1797ms
TEST-INFO | checking window state
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "ReferenceError: aFile is not defined" {file: "chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js" line: 75}]
TEST-START | chrome://mochitests/content/browser/browser/devtools/debugger/test/browser_dbg_bug723069_editor-breakpoints.js

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75 

https://tbpl.mozilla.org/php/getParsedLog.php?id=11522732&tree=Services-Central&full=1

TEST-START | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must to be declared in the document or in the transfer protocol." {file: "http://mochi.test:8888/" line: 0}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "TelemetryStopwatch: key "FX_SESSION_RESTORE_WRITE_FILE_MS" was already initialized" {file: "resource://gre/modules/TelemetryStopwatch.jsm" line: 53}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must to be declared in the document or in the transfer protocol." {file: "http://mochi.test:8888/" line: 0}]
TEST-PASS | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | thumbnail file was updated
TEST-PASS | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | copy of thumbnail has been removed
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: chrome://browser/content/sanitize.js :: <TOP_LEVEL> :: line 191"  data: no]" {file: "chrome://browser/content/sanitize.js" line: 191}]
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
Stack trace:
    JS frame :: chrome://mochikit/content/tests/SimpleTest/SimpleTest.js :: simpletestOnerror :: line 983
    native frame :: <unknown filename> :: <TOP_LEVEL> :: line 0

INFO TEST-END | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | finished in 1797ms
TEST-INFO | checking window state
TEST-INFO | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | Console message: [JavaScript Error: "ReferenceError: aFile is not defined" {file: "chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js" line: 75}]
TEST-START | chrome://mochitests/content/browser/browser/devtools/debugger/test/browser_dbg_bug723069_editor-breakpoints.js
https://tbpl.mozilla.org/php/getParsedLog.php?id=11574961&tree=Mozilla-Inbound
edmorley
https://tbpl.mozilla.org/php/getParsedLog.php?id=11647131&tree=Firefox
Rev3 WINNT 6.1 mozilla-central pgo test mochitest-other on 2012-05-10 09:36:49
slave: talos-r3-w7-043

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/mozapps/extensions/test/xpinstall/browser_relative.js | Test timed out
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/mozapps/extensions/test/xpinstall/browser_relative.js | Found a tab after previous test timed out: http://example.com/browser/toolkit/mozapps/extensions/test/xpinstall/installtrigger.html?%7B%22Unsigned%20XPI%22%3A%7B%22URL%22%3A%22unsigned.xpi%22%2C%22IconURL%22%3A%22icon.png%22%7D%7D
WG9s
https://tbpl.mozilla.org/php/getParsedLog.php?id=11675132&tree=Firefox
Rev3 WINNT 6.1 mozilla-central opt test mochitest-other on 2012-05-11 05:07:08
slave: talos-r3-w7-009

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=11686571&tree=Fx-Team
Rev3 WINNT 6.1 fx-team opt test mochitest-other on 2012-05-11 13:21:38
slave: talos-r3-w7-049

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
msucan
https://tbpl.mozilla.org/php/getParsedLog.php?id=11706202&tree=Fx-Team
Rev3 WINNT 6.1 fx-team pgo test mochitest-other on 2012-05-12 09:32:18
slave: talos-r3-w7-028

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
philor
https://tbpl.mozilla.org/php/getParsedLog.php?id=11710085&tree=Mozilla-Inbound
Rev3 WINNT 6.1 mozilla-inbound opt test mochitest-other on 2012-05-12 14:40:31
slave: talos-r3-w7-039

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
bill%wg9s.com
https://tbpl.mozilla.org/php/getParsedLog.php?id=11713724&tree=Firefox
Rev3 WINNT 6.1 mozilla-central pgo test mochitest-other on 2012-05-13 02:54:08
slave: talos-r3-w7-066

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
mbrubeck
https://tbpl.mozilla.org/php/getParsedLog.php?id=11717644&tree=Mozilla-Inbound
Rev3 WINNT 5.1 mozilla-inbound opt test mochitest-other on 2012-05-13 09:15:20
slave: talos-r3-xp-048

TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js | an unexpected uncaught JS exception reported through window.onerror - ReferenceError: aFile is not defined at chrome://mochitests/content/browser/browser/components/thumbnails/test/browser_thumbnails_storage.js:75
Created attachment 623645
trivial patch

The aFile argument doesn't exist anymore and I forgot to remove it. Additionally, we need to yield when calling clearHistory() to wait until the history has actually been cleared.
Comment on attachment 623645
trivial patch

Review of attachment 623645:
-----------------------------------------------------------------

::: browser/components/thumbnails/test/browser_thumbnails_storage.js
@@ +71,5 @@
>    s.range = null;
>  
>    executeSoon(function () {
>      if (PageThumbsStorage.getFileForURL(URL).exists())
> +      clearHistory(aUseRange);

can things happen synchronously after this? or does next() do more executeSoon magic?
(In reply to Dietrich Ayala (:dietrich) from comment #10)
> ::: browser/components/thumbnails/test/browser_thumbnails_storage.js
> @@ +71,5 @@
> >    s.range = null;
> >  
> >    executeSoon(function () {
> >      if (PageThumbsStorage.getFileForURL(URL).exists())
> > +      clearHistory(aUseRange);
> 
> can things happen synchronously after this? or does next() do more
> executeSoon magic?

Yeah, that's intended. We tried clearing the history and it didn't work the first time. So we'll call executeSoon() and then try again, and again, ... next() can just continue synchronously.
Pushed to fx-team:

https://hg.mozilla.org/integration/fx-team/rev/470fddafc49b

and merged:

https://hg.mozilla.org/mozilla-central/rev/470fddafc49b
