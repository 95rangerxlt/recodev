11:28:42 INFO - 791 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
11:28:42 INFO - Stack trace:
11:28:42 INFO - chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:simpletestOnerror:1476
11:28:42 INFO - null:null:0
11:28:42 INFO - JavaScript error: , line 0: uncaught exception: undefined
11:28:42 INFO - 792 INFO Console message: [JavaScript Warning: "unsafe CPOW usage" {file: "chrome://global/content/bindings/remote-browser.xml" line: 162}]
11:28:42 INFO - 793 INFO Console message: [JavaScript Error: "uncaught exception: undefined"]
11:28:42 INFO - 794 INFO Console message: [JavaScript Error: "Error: operation not possible on dead CPOW"]
11:29:25 INFO - libpng warning: zero length keyword
11:29:25 INFO - libpng warning: Empty language field in iTXt chunk
11:29:25 INFO - TEST-INFO | screencapture: exit 0
11:29:25 INFO - 795 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
11:29:25 INFO - 796 INFO MEMORY STAT vsize after test: 3790696448
11:29:25 INFO - 797 INFO MEMORY STAT residentFast after test: 671367168
11:29:25 INFO - 798 INFO MEMORY STAT heapAllocated after test: 144823592
11:29:25 INFO - 799 INFO TEST-OK | browser/base/content/test/general/browser_tab_dragdrop.js | took 45071ms
11:29:25 INFO - 800 INFO checking window state
11:29:25 INFO - 801 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS

11:28:42 INFO - 791 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
11:28:42 INFO - Stack trace:
11:28:42 INFO - chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:simpletestOnerror:1476
11:28:42 INFO - null:null:0
11:28:42 INFO - JavaScript error: , line 0: uncaught exception: undefined
11:28:42 INFO - 792 INFO Console message: [JavaScript Warning: "unsafe CPOW usage" {file: "chrome://global/content/bindings/remote-browser.xml" line: 162}]
11:28:42 INFO - 793 INFO Console message: [JavaScript Error: "uncaught exception: undefined"]
11:28:42 INFO - 794 INFO Console message: [JavaScript Error: "Error: operation not possible on dead CPOW"]
11:29:25 INFO - libpng warning: zero length keyword
11:29:25 INFO - libpng warning: Empty language field in iTXt chunk
11:29:25 INFO - TEST-INFO | screencapture: exit 0
11:29:25 INFO - 795 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
11:29:25 INFO - 796 INFO MEMORY STAT vsize after test: 3790696448
11:29:25 INFO - 797 INFO MEMORY STAT residentFast after test: 671367168
11:29:25 INFO - 798 INFO MEMORY STAT heapAllocated after test: 144823592
11:29:25 INFO - 799 INFO TEST-OK | browser/base/content/test/general/browser_tab_dragdrop.js | took 45071ms
11:29:25 INFO - 800 INFO checking window state
11:29:25 INFO - 801 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2099216
repository: fx-team
start_time: 2015-02-25T11:23:34
who: rvandermeulen[at]mozilla[dot]com
machine: talos-mtnlion-r5-099
buildname: Rev5 MacOSX Mountain Lion 10.8 fx-team opt test mochitest-e10s-browser-chrome-1
revision: c7f0a0caee42

791 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
795 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
801 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6988493
repository: mozilla-inbound
start_time: 2015-02-25T11:08:11
who: rvandermeulen[at]mozilla[dot]com
machine: t-w864-ix-047
buildname: Windows 8 64-bit mozilla-inbound pgo test mochitest-e10s-browser-chrome-1
revision: 5db197d838c4

794 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
798 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7001410
repository: mozilla-inbound
start_time: 2015-02-25T17:21:10
who: rvandermeulen[at]mozilla[dot]com
machine: tst-linux64-spot-219
buildname: Ubuntu ASAN VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-browser-chrome-3
revision: da80a09d5b4e

82 INFO TEST-UNEXPECTED-FAIL | toolkit/components/thumbnails/test/browser_thumbnails_bg_no_cookies_stored.js | uncaught exception - uncaught exception: undefined at :0
86 INFO TEST-UNEXPECTED-FAIL | toolkit/components/thumbnails/test/browser_thumbnails_bg_no_cookies_stored.js | Test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7034858
repository: mozilla-inbound
start_time: 2015-02-26T13:34:54
who: rvandermeulen[at]mozilla[dot]com
machine: t-snow-r4-0017
buildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 44144b892414

795 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
799 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1418100
repository: b2g-inbound
start_time: 2015-02-26T18:48:42
who: wkocher[at]mozilla[dot]com
machine: t-w732-ix-022
buildname: Windows 7 32-bit b2g-inbound pgo test mochitest-e10s-browser-chrome-1
revision: 4d718acaad56

794 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
798 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7093077
repository: mozilla-inbound
start_time: 2015-03-01T18:16:39
who: rvandermeulen[at]mozilla[dot]com
machine: tst-linux64-spot-429
buildname: Ubuntu ASAN VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 0fa6398b46b9

707 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
711 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<body%20onload='clicks=0'%20onclick='++clicks'><embed%20type="application/x-test"%20allowscriptaccess="always"%20allowfullscreen="true"%20wmode="window"%20width="640"%20height="480"></embed> - expected PASS
712 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<title>tab3</title><body>tab3<iframe> - expected PASS
713 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/plain;charset=utf-8,tab2 - expected PASS
714 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<title>tab1</title><body>tab1<iframe> - expected PASS
SUMMARY: AddressSanitizer: 144 byte(s) leaked in 2 allocation(s).
SUMMARY: AddressSanitizer: 432 byte(s) leaked in 6 allocation(s).
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7092440
repository: mozilla-inbound
start_time: 2015-03-01T16:58:56
who: rvandermeulen[at]mozilla[dot]com
machine: talos-mtnlion-r5-048
buildname: Rev5 MacOSX Mountain Lion 10.8 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: a1a89ff4ee31

836 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tabMatchesInAwesomebar.js | uncaught exception - uncaught exception: undefined at :0
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7112778
repository: mozilla-inbound
start_time: 2015-03-02T15:15:27
who: philringnalda[at]gmail[dot]com
machine: t-snow-r4-0085
buildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: bd849bbe77da

795 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
799 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7133665
repository: mozilla-inbound
start_time: 2015-03-03T02:10:00
who: tomcat[at]mozilla[dot]com
machine: t-w864-ix-047
buildname: Windows 8 64-bit mozilla-inbound pgo test mochitest-e10s-browser-chrome-1
revision: b7cdf1cf0939

794 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
798 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1104598
repository: mozilla-central
start_time: 2015-03-03T05:55:54
who: tomcat[at]mozilla[dot]com
machine: tst-linux64-spot-742
buildname: Ubuntu ASAN VM 12.04 x64 mozilla-central opt test mochitest-e10s-browser-chrome-1
revision: e545f650c695

707 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
711 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<body%20onload='clicks=0'%20onclick='++clicks'><embed%20type="application/x-test"%20allowscriptaccess="always"%20allowfullscreen="true"%20wmode="window"%20width="640"%20height="480"></embed> - expected PASS
712 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<title>tab3</title><body>tab3<iframe> - expected PASS
713 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/plain;charset=utf-8,tab2 - expected PASS
714 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<title>tab1</title><body>tab1<iframe> - expected PASS
SUMMARY: AddressSanitizer: 144 byte(s) leaked in 2 allocation(s).
SUMMARY: AddressSanitizer: 432 byte(s) leaked in 6 allocation(s).
log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2146915
repository: fx-team
start_time: 2015-03-03T16:05:52
who: wkocher[at]mozilla[dot]com
machine: t-w732-ix-020
buildname: Windows 7 32-bit fx-team opt test mochitest-e10s-browser-chrome-1
revision: 9740c8bfd125

761 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
784 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
790 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<body%20onload='clicks=0'%20onclick='++clicks'><embed%20type="application/x-test"%20allowscriptaccess="always"%20allowfullscreen="true"%20wmode="window"%20width="640"%20height="480"></embed> - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7228385
repository: mozilla-inbound
start_time: 2015-03-04T17:32:15
who: wkocher[at]mozilla[dot]com
machine: t-w864-ix-042
buildname: Windows 8 64-bit mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: dfaf613b7be5

794 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
798 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7228890
repository: mozilla-inbound
start_time: 2015-03-04T18:12:59
who: philringnalda[at]gmail[dot]com
machine: t-snow-r4-0084
buildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: dfaf613b7be5

790 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
794 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
1398 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_586068-select.js | Uncaught exception - [Exception... "[JavaScript Error: "child process crashed or timedout" {file: "resource:///modules/sessionstore/TabState.jsm" line: 96}]'[JavaScript Error: "child process crashed or timedout" {file: "resource:///modules/sessionstore/TabState.jsm" line: 96}]' when calling method: [nsISessionStore::setBrowserState]"  nsresult: "0x80570021 (NS_ERROR_XPC_JAVASCRIP
1454 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got 0, expected 1
1455 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got 0, expected 1
1456 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got , expected qux
1464 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got 0, expected 1
1465 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got 0, expected 1
1466 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got , expected qux
1473 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got 0, expected 1
1474 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got 0, expected 1
1475 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got , expected qux
1486 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got 0, expected 1
1487 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | undefined assertion name - Got 0, expected 1
1501 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | [test_setBrowserState] window3 busy event count correct - Got 0, expected 1
1502 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_615394-SSWindowState_events.js | [test_setBrowserState] window3 ready event count correct - Got 0, expected 1
1578 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_636279.js | Test timed out - expected PASS
1602 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_662812.js | uncaught exception - Error: Not a number at chrome://browser/content/tabview.js:7904
1604 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_662812.js | Test timed out - expected PASS
1609 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_662812.js | Found a tab after previous test timed out: about:mozilla - expected PASS
1717 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_cleaner.js | uncaught exception - Error: Not a number at chrome://browser/content/tabview.js:7904
1738 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_cleaner.js | uncaught exception - Error: Not a number at chrome://browser/content/tabview.js:7904
PROCESS-CRASH | Main app process exited normally | application crashed [None]
log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5399230
repository: try
start_time: 2015-03-05T00:25:57
who: paul[at]mozilla[dot]com
machine: t-w732-ix-055
buildname: Windows 7 32-bit try opt test mochitest-e10s-browser-chrome-1
revision: bca900dad1a8

794 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
798 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
I just hit this on try. Above the test failure there are a ton of PBackgroundTest related ipc failures, I wonder if that has something to do with this.

https://treeherder.mozilla.org/#/jobs?repo=try&revision=1e6c41b44a9d
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7279943
repository: mozilla-inbound
start_time: 2015-03-05T19:16:38
who: tomcat[at]mozilla[dot]com
machine: t-snow-r4-0156
buildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: eb1d40720855

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
806 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7289197
repository: mozilla-inbound
start_time: 2015-03-06T04:31:14
who: tomcat[at]mozilla[dot]com
machine: t-snow-r4-0040
buildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 66772bfc2a64

792 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
802 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5408198
repository: try
start_time: 2015-03-05T06:55:20
who: jmathies[at]mozilla[dot]com
machine: t-w732-ix-014
buildname: Windows 7 32-bit try opt test mochitest-e10s-browser-chrome-1
revision: 1e6c41b44a9d

794 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
798 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1124088
repository: mozilla-central
start_time: 2015-03-06T05:47:24
who: tomcat[at]mozilla[dot]com
machine: t-w864-ix-098
buildname: Windows 8 64-bit mozilla-central opt test mochitest-e10s-browser-chrome-1
revision: 7d85ac833cff

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2179772
repository: fx-team
start_time: 2015-03-06T08:31:22
who: rvandermeulen[at]mozilla[dot]com
machine: t-w864-ix-048
buildname: Windows 8 64-bit fx-team opt test mochitest-e10s-browser-chrome-1
revision: 3618b66ef3aa

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
1345 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_463206.js | A promise chain failed to handle a rejection:  - undefined
1359 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_463206.js | Test timed out - expected PASS
1365 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_463206.js | Found a tab after previous test timed out: http://mochi.test:8888/browser/browser/components/sessionstore/test/browser_463206_sample.html - expected PASS
1366 INFO TEST-UNEXPECTED-FAIL | browser/components/sessionstore/test/browser_463206.js | Found a tab after previous test timed out: http://mochi.test:8888/browser/browser/components/sessionstore/test/browser_463206_sample.html - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7304193
repository: mozilla-inbound
start_time: 2015-03-06T09:07:04
who: rvandermeulen[at]mozilla[dot]com
machine: t-yosemite-r5-0023
buildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 8f3bdc52f1d1

98 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_aboutAccounts.js | This test exceeded the timeout threshold. It should be rewritten or split up. If that's not possible, use requestLongerTimeout(N), but only as a last resort. - expected PASS
879 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
883 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
889 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5451592
repository: try
start_time: 2015-03-06T12:18:37
who: jmathies[at]mozilla[dot]com
machine: t-w732-ix-116
buildname: Windows 7 32-bit try opt test mochitest-e10s-browser-chrome-1
revision: b56a61c964b6

794 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
798 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
805 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5460252
repository: try
start_time: 2015-03-06T19:19:13
who: jmathies[at]mozilla[dot]com
machine: t-w732-ix-095
buildname: Windows 7 32-bit try opt test mochitest-e10s-browser-chrome-1
revision: 9f80d8078c82

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5463841
repository: try
start_time: 2015-03-06T20:45:44
who: jmathies[at]mozilla[dot]com
machine: t-w732-ix-097
buildname: Windows 7 32-bit try opt test mochitest-e10s-browser-chrome-1
revision: 9f80d8078c82

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7328694
repository: mozilla-inbound
start_time: 2015-03-07T03:08:01
who: philringnalda[at]gmail[dot]com
machine: t-w732-ix-153
buildname: Windows 7 32-bit mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 16f240fd86de

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1133465
repository: mozilla-central
start_time: 2015-03-08T14:52:52
who: philringnalda[at]gmail[dot]com
machine: t-w732-ix-104
buildname: Windows 7 32-bit mozilla-central opt test mochitest-e10s-browser-chrome-1
revision: eab4a81e4457

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2190763
repository: fx-team
start_time: 2015-03-08T15:08:43
who: philringnalda[at]gmail[dot]com
machine: t-w864-ix-069
buildname: Windows 8 64-bit fx-team opt test mochitest-e10s-browser-chrome-1
revision: eab4a81e4457

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
Looks like I might have mucked up fixing this test in bug 1087966 so let's correct that and remove all the CPOW traffic and see where that gets us.
log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5522551
repository: try
start_time: 2015-03-10T04:04:43
who: jmathies[at]mozilla[dot]com
machine: tst-linux32-spot-619
buildname: Ubuntu VM 12.04 try opt test mochitest-e10s-browser-chrome-1
revision: 89be45c8f056

750 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
754 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
760 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1140524
repository: mozilla-central
start_time: 2015-03-10T04:51:25
who: tomcat[at]mozilla[dot]com
machine: t-w864-ix-044
buildname: Windows 8 64-bit mozilla-central opt test mochitest-e10s-browser-chrome-1
revision: 6686aacf006f

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
Created attachment 8575325
MozReview Request: bz://1136910/Mossop

/r/5065 - Bug 1136910: Fix browser_tab_dragdrop.js to avoid CPOWs and correctly test clicks.

Pull down this commit:

hg pull review -r 6db7a8f3f8bb187ebfd11a14e1313b4ceeee921e
Comment on attachment 8575325
MozReview Request: bz://1136910/Mossop

/r/5065 - Bug 1136910: Fix browser_tab_dragdrop.js to avoid CPOWs and correctly test clicks.

Pull down this commit:

hg pull review -r d05dbdde9eb028f331f2e193b83d1cc96f54b1e0
The test here relies on bug 1128060
log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1491220
repository: b2g-inbound
start_time: 2015-03-10T18:20:26
who: wkocher[at]mozilla[dot]com
machine: t-w864-ix-038
buildname: Windows 8 64-bit b2g-inbound opt test mochitest-e10s-browser-chrome-1
revision: f690c0bad51c

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
Comment on attachment 8575325
MozReview Request: bz://1136910/Mossop

https://reviewboard.mozilla.org/r/5063/#review4223

This looks good - just some questions. Thanks!

::: browser/base/content/test/general/browser_tab_dragdrop.js
(Diff revision 2)
> -  function moveTabTo(a, b) {
> +function moveTabTo(a, b) {

moveTabTo is really not the right name here - that suggests that we're moving the tab elements around, not swap/closing. While you're here, can we call this swapAndCloseTab or something?

::: browser/base/content/test/general/browser_tab_dragdrop.js
(Diff revision 2)
> -    var plugin = tabs[4].linkedBrowser.contentDocument.wrappedJSObject.body.firstChild;
> +  let plugin = tabs[4].linkedBrowser.contentDocument.wrappedJSObject.body.firstChild;

Still using a CPOW here. Was the aim of this patch to eliminate all CPOW usage? Or just a large chunk of them?

::: browser/base/content/test/general/browser_tab_dragdrop.js
(Diff revision 2)
> +  tabs[4].linkedBrowser.permanentKey = { foo: "bar" };

Can you mention that you're going to be checking for this at the end of the test?
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7496857
repository: mozilla-inbound
start_time: 2015-03-11T14:05:11
who: philringnalda[at]gmail[dot]com
machine: t-snow-r4-0011
buildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 6bd5b08c6ff4

798 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
802 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
808 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
https://reviewboard.mozilla.org/r/5063/#review4233

> Can you mention that you're going to be checking for this at the end of the test?

Oh that's left over from debugging, I'll drop it.

> Still using a CPOW here. Was the aim of this patch to eliminate all CPOW usage? Or just a large chunk of them?

Ideally all but getting rid of the plugin bits looked harder so I left it for now. Had you read the changeset comment you would have seen that :p
https://hg.mozilla.org/integration/fx-team/rev/49ff034c930e
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7505799
repository: mozilla-inbound
start_time: 2015-03-11T17:09:28
who: wkocher[at]mozilla[dot]com
machine: t-w864-ix-032
buildname: Windows 8 64-bit mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 4bdf782dda82

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
Backed out for bc1 orange: 
https://treeherder.mozilla.org/logviewer.html#?job_id=2238309&repo=fx-team
https://hg.mozilla.org/integration/fx-team/rev/3691c7f82b95
log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2240914
repository: fx-team
start_time: 2015-03-11T21:32:35
who: philringnalda[at]gmail[dot]com
machine: t-w864-ix-059
buildname: Windows 8 64-bit fx-team opt test mochitest-e10s-browser-chrome-1
revision: a72fa2612001

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5582473
repository: try
start_time: 2015-03-11T22:41:39
who: dbaron[at]dbaron[dot]org
machine: t-w864-ix-049
buildname: Windows 8 64-bit try opt test mochitest-e10s-browser-chrome-1
revision: 0a310d156884

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
807 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1154803
repository: mozilla-central
start_time: 2015-03-12T04:08:26
who: tomcat[at]mozilla[dot]com
machine: tst-linux64-spot-127
buildname: Ubuntu ASAN VM 12.04 x64 mozilla-central opt test mochitest-e10s-browser-chrome-1
revision: 58c9d079f318

746 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
750 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
755 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
SUMMARY: AddressSanitizer: 216 byte(s) leaked in 2 allocation(s).
SUMMARY: AddressSanitizer: 144 byte(s) leaked in 2 allocation(s).
SUMMARY: AddressSanitizer: 432 byte(s) leaked in 6 allocation(s).
log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1505411
repository: b2g-inbound
start_time: 2015-03-12T17:41:04
who: tomcat[at]mozilla[dot]com
machine: t-w864-ix-033
buildname: Windows 8 64-bit b2g-inbound opt test mochitest-e10s-browser-chrome-1
revision: c6fc46892109

702 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
706 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
713 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2269373
repository: fx-team
start_time: 2015-03-13T11:44:28
who: rvandermeulen[at]mozilla[dot]com
machine: t-w732-ix-116
buildname: Windows 7 32-bit fx-team opt test mochitest-e10s-browser-chrome-1
revision: 9790bffba1f3

704 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
708 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
715 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7608902
repository: mozilla-inbound
start_time: 2015-03-13T14:28:03
who: wkocher[at]mozilla[dot]com
machine: t-w864-ix-094
buildname: Windows 8 64-bit mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: a1b7c775f60d

704 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
708 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
715 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7626750
repository: mozilla-inbound
start_time: 2015-03-14T03:15:57
who: jmaher[at]mozilla[dot]com
machine: t-snow-r4-0035
buildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 75709d46ba3b

796 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
800 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
806 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2275853
repository: fx-team
start_time: 2015-03-14T04:20:07
who: jmaher[at]mozilla[dot]com
machine: tst-linux32-spot-061
buildname: Ubuntu VM 12.04 fx-team opt test mochitest-e10s-browser-chrome-1
revision: 61faee68488e

750 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
754 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
760 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1516987
repository: b2g-inbound
start_time: 2015-03-15T21:03:00
who: philringnalda[at]gmail[dot]com
machine: t-w864-ix-007
buildname: Windows 8 64-bit b2g-inbound opt test mochitest-e10s-browser-chrome-1
revision: 6f5c6fca0663

704 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
708 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
715 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7643931
repository: mozilla-inbound
start_time: 2015-03-15T22:45:07
who: tomcat[at]mozilla[dot]com
machine: t-w732-ix-022
buildname: Windows 7 32-bit mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 71966b47b3f9

704 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
708 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
715 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1173629
repository: mozilla-central
start_time: 2015-03-16T04:51:07
who: tomcat[at]mozilla[dot]com
machine: t-yosemite-r5-0071
buildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-1
revision: 436686833af0

702 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
706 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
712 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7663160
repository: mozilla-inbound
start_time: 2015-03-16T11:43:58
who: rvandermeulen[at]mozilla[dot]com
machine: tst-linux32-spot-200
buildname: Ubuntu VM 12.04 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: a970cb5c73f8

626 ERROR TEST-UNEXPECTED-TIMEOUT | browser/base/content/test/general/browser_tab_dragdrop.js | application timed out after 330 seconds with no output on browser/base/content/test/general
627 ERROR TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | application terminated with exit code 6
PROCESS-CRASH | browser/base/content/test/general/browser_tab_dragdrop.js | application crashed [@ linux-gate.so + 0x424]
log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5685182
repository: try
start_time: 2015-03-16T12:29:12
who: ttaubert[at]mozilla[dot]com
machine: t-w864-ix-067
buildname: Windows 8 64-bit try opt test mochitest-e10s-browser-chrome-1
revision: 750a03f2ffe4

704 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
708 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
715 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Return code: 1
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7680360
repository: mozilla-inbound
start_time: 2015-03-16T16:10:08
who: wkocher[at]mozilla[dot]com
machine: t-w864-ix-094
buildname: Windows 8 64-bit mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 93c84c87ed78

706 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
710 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
717 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
827 ERROR TEST-UNEXPECTED-FAIL | automation.py | application terminated with exit code 1
PROCESS-CRASH | automation.py | application crashed [@ ntdll.dll + 0xf47c0]
Return code: 1
Created attachment 8578689
fix browser_tabopen_reflows.js

So fixing the browser_tab_dragdrop test was causing a new reflow to show up in browser_tabopen_reflows. What was happening is the click test in browser_tab_dragdrop was leaving the mouse cursor in the middle of the screen then when browser_tabopen_reflows opens about:newtab the mouse is conveniently hovering over a tile for dummy_page.html because by that point in the test run that page has been loaded enough to show up. This causes the link status display to appear causing a reflow while it figures out whether the mouse is overlapping it or not.

The simplest solution I found was just to simulate a click outside of the tiled area in content before opening the new tab, try runs show this solves the problem. I also ended up converting this test to task based.
log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2302385
repository: fx-team
start_time: 2015-03-17T08:06:35
who: rvandermeulen[at]mozilla[dot]com
machine: t-snow-r4-0066
buildname: Rev4 MacOSX Snow Leopard 10.6 fx-team opt test mochitest-e10s-browser-chrome-1
revision: 2f412765998a

707 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | uncaught exception - uncaught exception: undefined at :0
711 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
717 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a browser window after previous test timed out - expected PASS
Comment on attachment 8578689
fix browser_tabopen_reflows.js

Review of attachment 8578689:
-----------------------------------------------------------------

Great work figuring this out and thanks for updating the test!

::: browser/base/content/test/general/browser_tabopen_reflows.js
@@ +107,5 @@
> +  docShell.addWeakReflowObserver(observer);
> +  BrowserOpenTab();
> +
> +  // Wait until the tabopen animation has finished.
> +  yield waitForTransitionEnd()

nit: missing semicolon
https://hg.mozilla.org/integration/fx-team/rev/2f0f28241140
https://hg.mozilla.org/mozilla-central/rev/2f0f28241140
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7735897
repository: mozilla-inbound
start_time: 2015-03-17T21:53:40
who: tomcat[at]mozilla[dot]com
machine: tst-linux64-spot-563
buildname: Ubuntu ASAN VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: dd13fdf7b284

643 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Uncaught exception - expected PASS
649 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found an unexpected tab at the end of test run: data:text/html;charset=utf-8,<body%20onload='clicks=0'%20onclick='++clicks'><embed%20type="application/x-test"%20allowscriptaccess="always"%20allowfullscreen="true"%20wmode="window"%20width="640"%20height="480"></embed> - expected PASS
SUMMARY: AddressSanitizer: 1008 byte(s) leaked in 14 allocation(s).
SUMMARY: AddressSanitizer: 576 byte(s) leaked in 8 allocation(s).
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7737484
repository: mozilla-inbound
start_time: 2015-03-17T22:18:38
who: tomcat[at]mozilla[dot]com
machine: t-snow-r4-0026
buildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: f46c7fbdfb00

685 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Uncaught exception - expected PASS
697 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found an unexpected tab at the end of test run: data:text/html;charset=utf-8,<body%20onload='clicks=0'%20onclick='++clicks'><embed%20type="application/x-test"%20allowscriptaccess="always"%20allowfullscreen="true"%20wmode="window"%20width="640"%20height="480"></embed> - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7731023
repository: mozilla-inbound
start_time: 2015-03-17T20:34:55
who: tomcat[at]mozilla[dot]com
machine: t-yosemite-r5-0059
buildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: e5a94f80f342

685 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Uncaught exception - expected PASS
697 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found an unexpected tab at the end of test run: data:text/html;charset=utf-8,<body%20onload='clicks=0'%20onclick='++clicks'><embed%20type="application/x-test"%20allowscriptaccess="always"%20allowfullscreen="true"%20wmode="window"%20width="640"%20height="480"></embed> - expected PASS
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7932291
repository: mozilla-inbound
start_time: 2015-03-23T07:01:34
who: rvandermeulen[at]mozilla[dot]com
machine: tst-linux64-spot-935
buildname: Ubuntu ASAN VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 027c4d441a02

SUMMARY: AddressSanitizer: 432 byte(s) leaked in 4 allocation(s).
787 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/social/browser_blocklist.js | uncaught exception - uncaught exception: undefined at :0
791 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/social/browser_blocklist.js | Test timed out - expected PASS
795 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/social/browser_blocklist.js | Found a tab after previous test timed out: https://test1.example.com/browser/browser/base/content/test/social/social_activate.html - expected PASS
SUMMARY: AddressSanitizer: 720 byte(s) leaked in 10 allocation(s).
SUMMARY: AddressSanitizer: 144 byte(s) leaked in 2 allocation(s).
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8011730
repository: mozilla-inbound
start_time: 2015-03-24T17:02:25
who: rvandermeulen[at]mozilla[dot]com
machine: tst-linux64-spot-995
buildname: Ubuntu ASAN VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-browser-chrome-1
revision: 979433554c81

SUMMARY: AddressSanitizer: 432 byte(s) leaked in 4 allocation(s).
787 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/social/browser_blocklist.js | uncaught exception - uncaught exception: undefined at :0
791 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/social/browser_blocklist.js | Test timed out - expected PASS
795 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/social/browser_blocklist.js | Found a tab after previous test timed out: https://test1.example.com/browser/browser/base/content/test/social/social_activate.html - expected PASS
SUMMARY: AddressSanitizer: 144 byte(s) leaked in 2 allocation(s).
SUMMARY: AddressSanitizer: 576 byte(s) leaked in 8 allocation(s).
SUMMARY: AddressSanitizer: 144 byte(s) leaked in 2 allocation(s).
log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1581722
repository: mozilla-central
start_time: 2015-06-01T08:53:34
who: wkocher[at]mozilla[dot]com
machine: tst-linux64-spot-620
buildname: Ubuntu ASAN VM 12.04 x64 mozilla-central opt test mochitest-e10s-browser-chrome-1
revision: 666b584fb521

518 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Test timed out - expected PASS
520 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<body%20onload='clicks=0'%20onclick='++clicks'><embed%20type="application/x-test"%20allowscriptaccess="always"%20allowfullscreen="true"%20wmode="window"%20width="640"%20height="480"></embed> - expected PASS
521 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<title>tab3</title><body>tab3<iframe> - expected PASS
522 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/plain;charset=utf-8,tab2 - expected PASS
523 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_tab_dragdrop.js | Found a tab after previous test timed out: data:text/html;charset=utf-8,<title>tab1</title><body>tab1<iframe> - expected PASS
SUMMARY: AddressSanitizer: 144 byte(s) leaked in 2 allocation(s).
SUMMARY: AddressSanitizer: 576 byte(s) leaked in 8 allocation(s).
Comment on attachment 8575325
MozReview Request: bz://1136910/Mossop
Created attachment 8619596
MozReview Request: Bug 1136910: Fix browser_tab_dragdrop.js to avoid CPOWs and correctly test clicks.
