Created attachment 270470
Patch

Created attachment 270470
Patch
Comment on attachment 270470
Patch

Canceling the review request for now, as bug 386536 will help clean this up a bit.
Created attachment 278022
Patch
Any reason for the license-header "cleanup"?
Created attachment 278486
Patch

Same patch minus preprocessing.
Comment on attachment 278486
Patch

r=mano
mozilla/browser/components/shell/src/nsSetDefaultBrowser.js 1.9
mozilla/browser/components/shell/src/Makefile.in            1.24
