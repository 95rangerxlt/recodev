mit.edu

Adding test, bug 371375. 
Fix JS strict warning in the wrapper code.  Bug 371948, r+sr=brendan 
Don't look for random JS contexts; if our target doesn't have one, just bailout.  Bug 349467, r=peterv, sr=jst 
Bug 375779. nsIWritablePropertyBag2 needs a UUID change. r+sr=bzbarsky 
Rename nsIFrame::GetPresContext to nsIFrame::PresContext.  Bug 376042, patch byTaras Glek <tglek@mozilla.com>, rs=roc. 
Fix handling of initial and -moz-inherit for -moz-broken-image-icon, quotes, and -moz-box-ordinal-group.  b=375363  r+sr=bzbarsky 
Make non-blockframe kids of xul not have to end up with a zero height.  Bug374038, r+sr=dbaron 
Adding test for bug 374038 
Adding tests for bug 351633 
Fix race condition that led to the orange yesterday, and fix a test that wasn'tactually testing things. 
Comment out just the one failing part, not hte whole test. 
Make sure to update view positions if we move our block around verticallyduring reflow.  Bug 365294, r+sr=dbaron 
Default javascript: URIs to running in a sandbox instead of not running atall.  Bug 376484, r+sr=jst 
Set mChannel so consumers can get it even if we have no data.  Bug 376660,r+sr=biesi 
This test fails for now, pending bug 221428 being fixed. 
Make sure to end our update before we decrement mSink->mInNotification.  Bug373669, r+sr=sicking 
Treat <mtable> as special, since the outermost frame it creates is not in facta table-related frame.  Bug 374193, r=bernd, sr=rbs 
Add test. 
Test should be XHTML, not HTML.  Fixes orange. 
Fixing bug 376987. Add missing code to event listener registration helper code. r=mrbkap@gmail.com, sr=bzbarsky@mit.edu 
Make sure to set our out param on early return.  Bug 372426, r+sr=biesi 
Don't block the parser on scripts we'll never execute.  Bug 371743, r+sr=sicking 
Adding some more reftests. 
Adding testcase. 
Bug 376891 - <center><marquee direction=up/down></center> has different result in IE, r=dbaron, sr=bzbarsky 
Bug 376223. Make frame construction for XUL listbox content grab pseudo frames if necessary. r+sr=bzbarsky 
For caret browsing, initialize the caret position to the top of the page (if there isn't already a selection). bug=144000 r+sr=bzbarsky 
Bug 368994. Move mochitests near the code they test, round 6. r=bzbarsky 
If we have an /etc/mime.types extension for a type, that should NOT make/etc/mailcap override the gnome-vfs handler for that type.  Patch partially byMike Hommey  <mh+mozilla@glandium.org> and partially by me, r+sr=biesi 
Convert background-position to use nsCSSValuePair rather than acting like a shorthand property.  b=258080  r+sr=bzbarsky 
Change the way we determine the style context parent frame to skip css anonboxes unless we're determining the style context parent for something that isitself a css anon box (and is not a non-element frame).  Fixes bug 323656(which is where the patch is), bug 85872, bug 280610.  As far as I can tell,also fixes bug 317876, bug 372376, bug 374297.  r+sr=dbaron 
Recalc quotes and counters before reflow.  Bug 377216, r+sr=dbaron 
Improve detection of blocks with first-letter style.  Bug 372550, r+sr=dbaron 
The parent style context frame determination for an inner table should use theinner table's pseudo, not the outer table's.  Bug 377603, r+sr=dbaron 
Bug 368994. move mochitests near the code they test. round 7. r=bzbarsky 
Add tests 
This test should not be waiting past onload. 
Fixing bug 377356. Move code around to ensure security checks are always done against the right object. r+sr=bzbarsky@mit.edu 
Add test and some docs for bug 376660.  r=biesi 
Reland bug 326603, which got accidentally backed out by the landing of bug313309. 
Don't try to use ranges to represent chunks of the flattened tree, becauseranges can't have endpoints that are anonymous wrt the other endpoint.  Bug374873, r+sr=rbs 
Fix regression of background-position serialization.  b=258080  r+sr=bzbarsky 
Don't use the same pseudo-element name to mean two different things.  Bug377824, r+sr=dbaron 
Stop blocking the parser on CSS stylesheet loads.  We still block scriptexecution on them, however.  Bug 84582, r+sr=sicking 
Followup to bug 84582 to restore the old error-handling behavior here.  Fixesone of the reftests. 
A bunch of one-liners to fix bugs found by CSS mochitests.  b=377731  r+sr=bzbarsky 
Fix assertion to be more correct.  No bug. 
Move the Background struct to its new rightful place.  Bug 378245, r+sr=dbaron 
Bug 378178 - Some code that doesn't compile under DEBUG_FIND anymore, r+sr=bzbarsky 
Give captions the right style context parent when dynamically restyling.  Bug378240, r=bernd, sr=dbaron 
bug 378383. nsReflowStatus not always initialized in nsBlockFrame::ReflowInlineFrame. r+sr=bzbarsky 
Round instead of truncating when converting a percentage color into aninteger.  Bug 340613, r+sr=dbaron 
min-width/height should not affect computed max-width or max-height.  Both ofthem should affect computed width and height, though.  Bug 371042, r+sr=dbaron 
Set the status bar before actually handling the DOM event.  That way if theevent is canceled, we'll still show the right status bar text.  Bug 40838,patch by Florian Qu√®ze <f.qu@queze.net, r=smaug, sr=bzbarsky 
Trying something to see its effect on Tp2.  Will back out in the morning.Followup to bug 84582, no reviews yet. 
Seems to cause orange, and doesn't help Tp2, so backing out.  :( 
bug 378487. allocator mismatch in SpanningCellSorter. r+sr=bzbarsky 
Another peformance test for bug 378480.  Will back out in a few cycles. 
Back out.  This actually hurts Tp2, the mac reftests are _still_ orange 
Bug 377833 - Crash on SVG element nested in a xul:stack. r+sr=bzbarsky 
Don't drop the old sheet when "rel" changes from one value that contains"stylesheet" to anoher.  Bug 360746, r+sr=sicking 
Remove the root from mDirtyRoots if we resize-reflow it, so that we don't getassertions about frame state not matching with whether the frame is inmDirtyRoots.  Bug 374167, r+sr=dbaron 
Make assertion reflect reality better.  Bug 357044, r+sr=roc 
Resolve the right (parentless) style context for a table as a document root,and fix the assertion when adjusting parent style context frames to not triggerin non-scrollable documents.  Bug 378693, r+sr=roc 
Fix the vertical scrollbar guessing in nsHTMLScrollFrame to do better for aninitial reflow if we're doing that initial reflow a ways into the documentload.  Bug 378480, r+sr=roc 
Handle restoring scroll position correctly even if InitialReflow comes afterEndLoad.  Bug 378606, r+sr=roc 
Make sure to return at the end of a method that returns nsresult, in casecallers are actually checking the return value.  Bug 378827, patch by RyanVanderMeulen <ryanvm@gmail.com>, r+sr=bzbarsky 
Don't do incremental reflow for now, because tables can't deal.  Followup forbug 378480, r+sr=roc 
272830-1.html succeeds everywhere now that we disallow incremental reflow of pagesequences. 
Flush tags before calling StartLayout; otherwise we might end updouble-constructing frames for whatever content we hadn't notified on yet.  Bug378559, r+sr=sicking 
Adding some test code for a single tinderbox run so I can see what's going onwith Tp2 and such.  Will back out after one cycle. 
Sprinkle null-checks in an attempt to "fix" the orange so I can get answers. 
Back out the test code. 
Be a little more careul with inheriting principals.  Bug 304690, r=dveditz,sr=jst 
Don't unblock onload on the document if we no longer have a parser.  Bug375051, r=mbkap, sr=sicking 
Fix long-standing XBL bug where we didn't update insertion points correctly insome cases.  Bug 375299, r+sr=sicking 
Allow getting the lineNumber of XPConnect expceptions.  Bug 291377, r=sicking,sr=jst.  r=mrbkap, sr=jst for the test. 
Implement "content: none".  Bug 378535, r+sr=dbaron 
Crash [@ nsPresContext::GetContainerInternal]. b=378682 r+sr=bzbarsky 
Reduce #include dependencies on style system headers:  reduce what nsRuleData.h pulls in.  b=379089  r+sr=bzbarsky 
Make sure to flush out reflows before firing onload instead of (imperfectly)blocking onload on reflow events.  This makes sure that we are in fact fullyreflowed before onload fires.  Bug 379093, r+sr=roc 
Put back this test code for one run so I can get data from Tp/Tp2 
This test is failing for good reasons.... 
remove debugging code again. 
Fix bug 379229, r+sr=dbaron 
Fix build bustage 
Fixing parsing of opacity components of rgba() and hsla() that are out of the0 <= x <= 1 range.  Bug 379316, r+sr=dbaron 
This test passes now. 
Make InitialReflow just post a reflow event instead of doing a synchronousreflow.  Bug 378975, r=dbaron and Eli Friedman, sr=dbaron 
Don't throw from attribute sets if we can't find a script global to compile anevent handler attribute on.  This happens; just don't compile it.  Bug 379120,r+sr=peterv 
Switch order around a bit to be safer.  Followup to bug 379093, r+sr=roc 
Stylesheets should know what their principal is, and it should be based on theURI the sheet was loaded from, its certificate (if any) and the loaderprincipal, not just on the page the sheet is being applied to.  Propagate thisprincipal as the loading principal to @import loads from stylesheets.  Changesheet access checks to use this principal instead of the sheet URI.  Bug221428, r+sr=peterv 
This test passes now that bug 221428 is fixed. 
Introduce a GetPrimaryShell() API on nsIDocument.  Convert existing callers ofGetShellAt(0) to using this API.  Bug 378780.  API introduction part by me,r+sr=jst.  Mass-changes done by taras using squash, r+sr=me 
Fix assert to not fire when it shouldn't. Bug 379405, r+sr=dbaron 
Fix assert to be more correct.  Bug 379383, r+sr=dbaron 
Don't make embedding of a content viewer in a child frame force a layout flushon the parent.  The child doesn't really care that much about up-to-date layoutinfo at this point; if its size changes it will deal.  Bug 379485, r+sr=jst 
Propagate a stylesheet's principal to the URI and Image CSSValues derived fromthat sheet.  Bug 377091, r+sr=dbaron 
set timeout for parent window to fire after child window. b=379484 r=bzbarsky 
When we have a url() value that doesn't give us an imgIRequest (e.g. couldn'tcreate nsIURI, URI load blocked by security manager, etc), make sure to stillpick up the fallback value for cursor.  Bug 379440, r+sr=dbaron 
Add support for -moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill for width, min-width, and max-width.  b=311415  r+sr=bzbarsky 
Make computed style handle "normal" for line-height by computing an actualnumeric height.  Bug 371041, r+sr=dbaron 
Make sure that the style context doesn't live too long.  Bug 375399, r=smaug,sr=jst 
When pushing on top of a JSContext on the XPConnect JSContext stack, save offthe JSStackFrame chain on that JSContext.  When popping, restore the stackframe chain.  Bug 371858, r=jst, sr=brendan 
Make computed style handle eStyleUnit_Chars.  Bug 371043, r+sr=dbaron 
Bail out of ReconstructDocElementHierarchy early if there is no root frame(which shouldn't even happen!).  Bug 377850, r=mats, sr=dbaron 
Simplify code.  Bug 367442 followup, jag's idea, r+sr=dbaron 
Don't cut off the right-hand side of empty comboboxes.  Bug  364510, r+sr=dbaron 
Override just the border width, not all the border properties.  Bug 377584, r+sr=dbaron 
Fixing build bustage 
Don't apply user stylesheets to native anonymous content.  Bug 286895, r+sr=dbaron 
Comment out test for now until I can debug it.  Bug 379809. 
Factor out test that fails on Mac. 
Oops.  Missed a file. 
This passes now. 
Address bzbarsky's final review comments (comment 14) on bug 311415: consider ch units fixed as well. 
Change the FrameNeedsReflow API to pass the dirty flags to be added directly tothe method, instead of setting them before calling the method.  That way we canavoid reflowing the ancestor of a reflow root which is not itself dirty but hasdirty children.  This also makes it harder to set dirty bits inconsistentlywith the FrameNeedsReflow call.  Bug 378784, r+sr=dbaron, pending rbs' reviewon the mathml parts. 
Make nsIDocShellTreeItem inherit from nsIDocShellTreeNode.  Bug 377303,r=bsmedberg, sr=biesi 
Followup to bug 378784 based on rbs's review comments. 
Fixing typo. 
Back out bug 377850 -- it regresses bug 71191, and causes bug 379920. 
Better check for first-letter.  Bug 379799, r+sr=dbaron 
Rename some functiosn as suggested by dbaron.  Bug 379799 followup. 
This is failing... which is sort of expected.  Whether it fails or not willdepend on the exact restyles and frame reconstructs happening here; maybe weeven want to mark it random until bug 8253 is fixed. 
Make the sync loader handle streams that close on EOF (e.g. data: URLs).  Bug379957, r=biesi, sr=peterv 
Fix determination of the style context parent for the inner table frame of aroot table.  Bug 379386, r+sr=roc 
Ignore attempts to reframe things before we've done initial reflow.  Bug379975, r+sr=roc 
Search docshell ancestors for a device context if it can't be found on the current one. b=377539 r+sr=bzbarsky 
Store the charset we had when we were written into when document.open()happens.  Then restore that as the document charset when loading from a wyciwygchannel, instead of just claiming to be UTF-16.  Bug 255820, r+sr=jst 
Add test for last-minute regression I found. 
Mochitest for bug 377539. b=377539 r=bzbarsky 
Bug 380209. Hooks for a textframe-specific textrun cache startup/shutdown. r+sr=bzbarsky 
Twiddle parentheses a little bit.  Bug 311415 followup, r+sr=dbaron 
Don't put null coords in nsStyleCoords when they have the same meaning as some other coord type.  b=379741  r+sr=bzbarsky 
Remove eCSSUnit_Proportional and eStyleUnit_Proportional, which were used only for a removed feature.  b=333352  r+sr=bzbarsky 
Add eStyleUnit_None so we don't have to use eStyleUnit_Null as a real value for max-width and max-height.  b=379741  r+sr=bzbarsky 
Remove now-unneeded checks for eStyleUnit_Null.  b=379741  r+sr=bzbarsky 
Make use of the wonders of inline-block to produce a much smaller DOM for XMLprettyprinting (fewer nodes, fewer frames, etc).  Speeds up prettyprinting by afactor of 2 or so over here, with a 25% memory usage decrease.  Bug 379683,r+sr=sicking 
Process XBL constructors right after the frame construction inInitialReflow().  Bug 377119, r+sr=sicking 
Put content types and charsets on the text/plain parts of the form submissionfor multipart POST submissions.  Bug 116346, patch by David Nesting<david@fastolfe.net>, r=bzbarsky, sr=sicking 
Make PSM make sure to shut down NSS before trying to start it up with theinitial profile on app startup.  Fix leak of one of the user modules that waspreventing a clean shutdown.  Bug 379582, r=rrelyea, kaie, sr=biesi. 
Handle -moz-initial for 'font' shorthand (and fix bugs in some of its subproperties).  b=377521  r+sr=bzbarsky 
Push the new content on the stack before calling BindToTree, since someBindToTree implementations apparently flush out the sink (!).  Bug 372323,r+sr=sicking. 
Fix bug introduced into collapsing of long PIs and comments.  Bug 379683followup, r+sr=sicking. 
Change round-trip testing for specified sub-properties of a shorthand to setthem all before looking at computed style, since, for example, the specifiedfont-family affects the computed line-height if the specified line-height is"normal".  Bug 379809, r=dbaron 
Use the right parent when resolving style contexts in IsValidSibling.  Bug380096, r=bernd, sr=roc 
Make sure FrameNeedsReflow() is not called during reflow, and remove thewasDirty asserts and O(N^2) check for existing reflow root in the list.  Bug379904, r=roc, sr=dbaron 
Apparently we can't handle "thin" here yet. 
Back out part of the last change which is not actually correct 
Followup tweak for bug 379809, r=dbaron 
Fix regression bug 380842: allow block-display generated content on table cellsand captions again.  r+sr=dbaron 
Minor tweaks to the HTML. 
Make rule nodes know their level in the cascade.  b=374907  r+sr=bzbarsky 
Rewrite the pref for forbidding pages from setting colors and backgrounds so that it changes transparency less often and interferes less with user and user-agent styles.  b=58048, 255829, 255411  r+sr=bzbarsky 
Revert part of bug 377521 to fix bug 380825 (and add comment).  r+sr=bzbarsky 
Fix some debugging code.  b=380825  r+sr=bzbarsky 
Remove addref that shouldn't be there and causes leaks.  No bug, r=vlad 
Remove no longer needed null-check too.  Still no bug. 
Protect against frame destruction during event handling and document when that can occur. b=378670 r+sr=bzbarsky 
Attach bindings via addBinding even to nodes not in a document.  Bug 380990, r+sr=sicking 
Update our child counts if notifying on our children caused more updates. bug 376761, r=bzbarsky sr=sicking 
Move nsIDocShellTreeItem::childOffset to nsDocShell and remove all uses except internally by nsDocShell (it should be removed eventually). b=376562 r=Olli.Pettay sr=bzbarsky 
Block outline-color for always use my colors pref.  b=380924  r+sr=bzbarsky 
Don't call DidBuildModel twice if Terminate is called twice since consumers aren't expecting it. bug 378982, r+sr=bzbarsky 
Bug 237770: Mozilla fails to ignore 'float' property even though 'position: absolute' is set. r=dbaron, sr=bzbarsky. 
Make sure we flush out content before we try to set up the plug-in, sincethat's going to perform DOM access that can flush.  Bug 377070, r+sr=biesi 
No max-width means "none", not null unit.  Bug 381284, r+sr=dbaron 
SVG Load events shouldn't need a presshell to fire.  Bug 380417, r=jwatt andsmaug, sr=tor 
Fix bug 380516, bug 375342, bug 374293.  Patch in bug 380516.  r=jwatt, sr=dbaron 
Add an API to observe all loads in a CSSLoader.  Change XML prettyprinting tonot start layout till after the prettyprinter stylesheet is loaded, so we don'treflow and reconstruct the whole thing twice.  Bug 380612, r+sr=sicking 
Adding test. 
Create XPCNativeWrapper function wrappers with the right parent. bug 370127, r=bzbarsky sr=brendan 
Don't react to changes in anonymous content subtrees.  Bug 383137, r+sr=sicking 
Adding regression test. 
Make OrderRowGroups type-safe.  Bug 367706, r=bernd, sr=roc 
When serializing a <q> as plaintext, put in quotes even if we're not doingformatted output.  Bug 378407, r=glazman, sr=sicking 
Adding test. 
Adding test. 
Wrong bug numbers... oops. 
Looks like this test is failing on mac and all... 
Ignore mutations in anonymous content when deciding whether to reclone <use>targets.  Bug 380101, r=tor, sr=peterv 
Bug 322436. Disable floats inside XUL. r+sr=bzbarsky 
Make the about:blank documents created by CreateAboutBlankContentViewer havethe same encoding as real about:blank documents (that is, UTF-8).  Bug 380383,r+sr=jst 
Fix refcounting of some event objects to not leak.  Bug 342810, investigationby Jim Mathies <jmathies@mozilla.com>, r+sr=jst 
Fix NS_InputStreamIsBuffered to detect buffered empty streams correctly.  Bug368328, patch by Ryan Jones <sciguyryan@gmail.com>, r=bsmedberg, sr=biesi 
Remove duplicated "is this an event attr?" code.  Bug 383714, patch by RyanJones <sciguyryan@gmail.com>, r+sr=bzbarsky 
Make sure to do async javascript: execution only against the inner window theload started against.  Bug 372666, r=jst, sr=biesi 
Change the URI argument to Components.utils.import to be a resource: URI.  Bug380970, patch by Alex Vincent <ajvincent@gmail.com>, r=sayrer, sr=bsmedberg 
Followup to fix build bustage for bug 380970, patch by Alex Vincent<ajvincent@gmail.com>, r=sayrer, sr=bsmedberg 
Bug 382383 - nsDocShell::LoadURI discards LOAD_FLAGS_FIRST_LOAD. r=bzbarsky, sr=cbiesinger 
Bug 383786 - nsIOService uses an Init method when it doesn't need to.  Patch by Ryan Jones <sciguyryan@gmail.com>. r=bzbarsky sr=cbiesinger 
Add checkLoadURI calls to reftest harness.  b=371075  r=bzbarsky 
Implement correct intrinsic width calculation (for container) for elements with specified height properties and an intrinsic ratio.  b=364066  r+sr=bzbarsky 
Rewrite handling of CSS system fonts to fix bugs in cascading and serialization.  b=377947  r+sr=bzbarsky 
Fixing bug 383424. Make the context pusher use the owner document. r=mrbkap@gmail.com, sr=bzbarsky@mit.edu 
Bug 366128. Restrict disabling of floats in XUL to cases where the container is not a float containing block. r+sr=bzbarsky 
Don't create huge surfaces.  We need a surface big enough to hold our widget'spixel dimensions, not twip dimensions.  Bug 384266, r+sr=roc 
Make plug-in loads of javascript: URIs execute synchronously.  Bug 364028,r=biesi, sr=jst 
Cycle collect through the bookmark service.  Bug 383945, r+sr=neil 
Cycle-collect through the internet search datasource.  Bug 383942, r+sr=neil 
Mathml inlines are still bidi containers.  Bug 371481, r=uriber, sr=rbs 
Don't allow loads to start in a docshell that's firing the unload event.  Alsodon't allow document.open of the document in that docshell.  Bug 371360,r=biesi, sr=jst 
Restrict who can claim to implement nsISecurityCheckedComponent. bug 352882, r=jst sr=bzbarsky 
285140, r+sr=dbaron 
Bug 380116, r+sr=dbaron 
to an already-dirty reflow root.  Bug 383992, r+sr=dbaron 
Bug 380668 - Extra newlines added after a meta element that already has them before and after. Patch by Ryan Jones <sciguyryan@gmail.com>. r+sr=bzbarsky. 
Backing out bug 300079 to see whether that fixes tinderbox orange. 
succeeded... otherwise we'll be testing random quantities.  Bug 384264, r+sr=roc 
principals.  Bug 369201, r=dveditz, sr=jst 
Optimize immutability of codebase/domain a little bit.  Bug 380475, r=dveditz, sr=biesi 
is the system principal.  Bug 383783, r=dveditz, sr=jst 
'sysKin' Czyz <syskin@syskin.cjb.net>, r=alfredkayser@nl.ibm.com, sr=biesi 
referencing it.  Bug 384728, r+sr=tor 
r+sr=sicking 
Move NOTIFY_OBSERVERS to the end of nsBindingManager::ContentRemoved (and avoid early returns so we get to it).  b=382376  Patch by Daniel Holbert <dholbert@mozilla.com>.  r=bzbarsky  sr=sicking 
Fix flipping of Arabic text when pasted to clipboard. Bug 197375, r+sr=bzbarsky 
Bug 180380. nsXPCComponents object and its wrapper leaked at shutdown. Patch by David Baron, David Bradley, and Robert Sayre. r=jst/bzbarsky, sr=dbaron 
Bug 372768: {inc}Setting nowrap attribute dynamically does not change layout like it should. r=bzbarsky,sr=dbaron. 
not a document URI, or its parent if they are.  Bug 384981, r=jst, sr=biesi 
Adding test. 
there.  Bug 310165, r=sicking, sr=dbaron 
Menubars are special on OSX too.  Bug 385880, r=bernd, sr=roc 
Fixing build bustage 
Fix spelling in comment.  Bug 384981 
Use predefined load types instead of rolling our own. b=385663 r+sr=bzbarsky 
Bug 383129. Don't treat tree-related XUL tags as special when they're root elements. r+sr=bzbarsky 
Remove unused copy constructors.  b=386809  r+sr=bzbarsky 
Bug 387044: cleanup string usage in nsCSSParser. r+sr=bzbarsky 
Include the stuff we use.  Bug 279703 followup, r=enn. 
Bug 386475 - Should not flush when resolving em and ex units. r=tor,sr=bzbarsky 
Adding test. 
Let's see whether turning off native theming helps with this test... 
Mark test as failing for now until I can figure out what's going on 
text over to the left) regressed.  r+sr=dbaron 
Bug 99319, Silence startup printf "Note: styleverifytree is disabled" and friends in the "disabled" case. Patch by Ryan Jones, r+sr=bzbarsky. 
Bug 386854 - Bustage build fix MOX_XUL disabled, patch by romaxa <romaxa@gmail.com>, r+sr=bzbarsky 
for a constructor.  Bug 387218, r=dmose, sr=biesi 
Bug 382947 - XMLHttpRequest should only set the charset in the Content-Type request header if we know the charset, patch by Ryan Jones <sciguyryan@gmail.com>, r=bzbarsky, sr=peterv 
before processing events.  Bug 326777, r=bsmedberg, sr=jst 
Backing out to fix red 
Bug 387204, r+sr=jst 
Use a Subsumes() check, not a same-origin one.  r+sr=jst 
Equals/Subsumes.  Bug 387212, r=mrbkap, sr=jst 
Relanding bug 326777, r=bsmedberg, sr=jst 
Notify before firing mutation events.  Bug 387460, r+sr=sicking 
just unset.  Bug 326777 
double-free things.  Bug 387572, r+sr=brendan 
Bug 380028, r+sr=sicking 
unload fired on them.  Bug 364461, r=biesi, sr=jst. 
Add test.  Patch by Sylvain Pasche <sylvain.pasche@gmail.com>, r=smaug 
Pass through loader principal and URI to LoadSheet().  Bug 387317, r+sr=peterv 
Don't check for namespaced attributes when checking which attributes have case-insensitive values.  b=387615  r+sr=bzbarsky 
sr=sicking. 
r=bernd, sr=roc 
Minor tweak to test 
Hold a strong ref to the URI while we're using it.  Bug 387968, r+sr=jst 
Bug 387978, r+sr=sicking 
Adding test. 
Bug 337771 - Native -moz-appearance work for menus and toolbars on Windows XP. Patch by Simon B√ºnzli <zeniko@gmail.com>. r=emaijala, sr=bzbarsky. 
Adding test. 
Slightly better handling of exceptions, especially parse errors.  Bug 388248, r=gavin 
Adding test. 
Make SetPort actually update the internal offsets correctly.  Bug 388281, r+sr=biesi 
Move where we convert things into strings into a more centralized place. bug 372075, r=bzbarsky sr=jst 
boundaries.  Bug 388121, r+sr=jst 
Avoid IndexOf calls while walking up the tree in FindForm(). Bug 388386, r+sr=jst 
387588, r+sr=biesi 
style context parent.  Bug 380012, r+sr=dbaron 
Fix build bustage 
Remove unused code; no bug. rs=bzbarsky. 
Adding test. 
link to local files. 
Checking in missing file.  Bug 204140 
r+sr=jst,bzbarsky 
Landing tests that somehow never made it into the tree. 
Don't generate state keys at all, if there's nothing to get.  Bug 388387, r+sr=sicking. 
Use a Subsumes() chec, not same-origin.  Bug 387202, r=vlad, sr=jst 
Actually return a failure rv on failure.  Bug 388115, r=jst, sr=brendan 
<vladimir.sukhoy@gmail.com>, r=shebs 
Don't clobber 'pos' in the inner loops since we might need it again for the outer loop. b=388424 r=cbiesinger sr=bzbarsky 
Make aRuleDetail parameters to Compute*Data not be references.  b=388546  r+sr=bzbarsky 
Make CheckFontProperties consider font-size:larger and font-size:smaller as well.  b=388548  r+sr=bzbarsky 
Implement remaining properties in computed style (with some hacks for counter() values for content), and fix some page-break-* bugs exposed by the added test coverage.  b=316981  r+sr=bzbarsky 
Adding test. 
Bug 386470 - <marquee contentEditable> should stop, r=peterv, sr=bzbarsky 
r=bzbarsky sr=dveditz 
Address nits in patch for bug 257868.  r+sr=roc 
Add assertion.  Bug 382199, r+sr=dbaron 
instead of cloning the selector.  Bug 386123, r+sr=dbaron 
369816, patch by Chris Shoemaker <chris.shoemaker@cox.net>, r=afri, sr=bzbarsky 
Avoid potential recursion into Compute*Data on the same rule node (for an inherited struct), which can cause a leak.  Add bolder and lighter font-weight to CheckFontProperties.  Fix incorrect propagation of generic fonts in ComputeFontData.  b=383979  r+sr=bzbarsky 
Implement -moz-initial for almost all remaining properties.  b=80887  r+sr=bzbarsky 
table-driven QI landing.  Bug 387926, r+sr=bsmedberg 
Fix string leak.  Bug 389191, r=josh, sr=bsmedberg 
data should still work.  Bug 389151, r+sr=biesi 
peterv and a little bit me, r=me, sr=roc 
r=aaronleventhal sr=bzbarsky 
data.  Bug 379819, patch by Ryan Jones <sciguyryan@gmail.com>, r=me, sr=biesi 
Adding tests that make sure bug 352980 doesn't regress anything. 
r=bzbarsky sr=dveditz 
Fix enumerated values of font-size to depend on the right preference.  b=389464  r+sr=bzbarsky 
Fix case where FillContentHandlerProperties incorrectly returns NS_ERROR_FAILURE (bug 389446), r+sr=bzbarsky 
r=bzbarsky sr=dveditz 
<jlurz24@gmail.com>, r+sr=bzbarsky. 
Make SetGenericFont not use aStartStruct-based computation since it's fundamentally incompatible with it.  b=216456  r+sr=bzbarsky 
Remove additional unused code from system font redesign, and add one comment.  b=377947  r+sr=bzbarsky 
Bug 387969. Use CSS 'text-rendering' property to control text quality. r=pavlov,r+sr=bzbarsky 
bug 389739 - Add IDL constants for XMLHttpRequest readyStates. r/sr=bzbarsky 
Fix bug 389334.  r+sr=biesi 
Bug 386266: Crash [@ nsFrameManager::UnregisterPlaceholderFrame] or assertions with -moz-column and float. r+sr=bzbarsky, a=blocking1.9+ 
381512, r=biesi, sr=jst 
update the resize flags properly.  Bug 388084, r+sr+a=dbaron 
Remove bogus assert.  Bug 350128, r+sr=roc, a=dbaron 
384649, r+sr=dbaron 
Fix EOF handling after an !important.  Bug 390318, r+sr+a=dbaron 
Don't set up counters for the anon cols set up by a <col span="n">.  Bug 385866, r+sr+a=dbaron 
Make ContentInserted for captions more like ContentAppended and normal frame construction.  Bug 386014, r=bernd, sr=roc, a=dbaron 
Make sure to reflow the caption if it gets inserted into our table before another caption.  Bug 389924, r=bernd, sr+a=dbaron 
Add the tests too. 
Remove bogus assertion.  Bug 314307, r+sr=roc, a=dbaron 
Don't optimize away necessary reflows.  Bug 388374, r+sr+a=dbaron 
Account for the padding on our anonymous div when sizing.  Bug 388086, r+sr+a=dbaron 
Give bullet frames the right style context parent.  Bug 387219, r+sr+a=dbaron 
Make debug code not assert when it shouldn't.  Bug 388712, r+sr=jst, a=dbaron 
Remove a value for a property not listed in nsCSSPropList.h.  b=258079  r+sr=bzbarsky  a1.9=roc 
Hoist the code for handling class and id up from nsGenericHTMLElement to the newly-created nsStyledElement so that it can be reused by MathML and to some extent by SVG.  Bug 379178, patch by Daniel Kraft <domob@daniel-kraft.net>, r=jwatt for the SVG changes, r+sr=sicking for the rest, a=dsicore 
Fix crash if the channel gets canceled too early.  Bug 390938, r+sr=biesi 
Make it possible to serialize an nsISerializable instance to an arbitrary stream, not just to the fastload file.  Bug 390474, r=bsmedberg, sr=brendan, a=bsmedberg. 
Don't set aside the JS stack when pushing a JSContext which is already on top of the JSContext stack on top of itself.  Bug 390488, r=jst, sr=brendan, a=jst 
Keep track of both the first submit in elements and the first submit not in elements, to speed up some operations.  Bug 352980, r+sr+a=jst 
Add some sanity null-checks. Bug 387446, r=dveditz, sr+a=jst 
Bug 389767 - Regression: Fixed-position items are missing on 2nd page of print-preview, fixed on behalf of HP, r+sr=bzbarsky 
Bug 387445: Remove thread safety from atoms. r+sr=dbaron, a=bzbarsky 
Use the principal doing the load to decide on the URI to pass to content policies.  This will help do the right thing for data:/javascript:/about:blank, as well as allow us to skip content policies altogether if the caller is system.  Bug 388597, r+sr=sicking 
Better handling of appending captions.  Bug 387544, r=bernd, sr=roc, a=dbaron. 
Make XPCSafeJSObjectWrapper easier to use by not throwing for primitive values passed to the constructor. Use it in more places in PAC. bug 388450, r=crowder sr=brendan a=bzbarsky 
Allow UniversalXPConnect scripts to touch XPCNativeWrappers. bug 390788, r+sr=bzbarsky a=jst 
Add a mochitest for bug 390001. r=sayrer sr=bzbarsky 
Remove animation hrottling that we don't want.  Bug 386269, patch by tor and Alfred Kayser <alfredkayser@nl.ibm.com>, r=pavlov, sr=tor 
Adding tests contributed by jlurz24@gmail.com 
Remove windows newlines that snuck in 
Another test. 
Fixing test 
Fixing bug 390275. Make setTimeout() always register the timeout on the right inner window, and add a new JS_GetGlobalForObject() JS API to eliminate some code duplication. r=mrbkap@gmail.com/brendan@mozilla.org, sr=bzbarsky@mit.edu 
Bug 391380 - moz-icon: launches handler dialog.  r=bzbarsky, sr=dmose, a=bzbarsky 
Make NS_CheckContent(Load|Process)Policy only take a principal, not a principal and a uri.  Get the URI from the principal.  Bug 391438, r+sr+a=sicking 
Adding tests 
Don;t process pseudo-frames if we're not going to actually create a replaced element frame (or in fact any frame at all, in this case!).  Bug 391140, r=bernd, sr+a=roc 
Add a stack-and-abort value of XPCOM_DEBUG_BREAK 
Simplify handling of {ib} splits.  Bug 390425, r+sr=roc, a=dbaron 
Don't add a dirty bit that shouldn't be needed.  Bug 387209, r+sr=roc, a=dbaron 
Improve performance when trace-malloc is built but not used by adding a fast-path around the locking.  b=150015  r=brendan  a=bzbarsky 
Export a stack walking API (usable from C or C++) from XPCOM.  b=374689  r=bsmedberg  a=bzbarsky 
Split the address->symbol mapping from the rest of the stack walking code.  b=374829  r=bsmedberg  a=bzbarsky 
Export a stack walking API (usable from C or C++) from XPCOM.  b=374689  r=bsmedberg  a=bzbarsky 
Fix up whitespace issue from checking in -w patch.  No code change.  Bug 390318 
Back out bug 390425 to fix performance regression. 
Switch the order of Content-Disposition and Content-Type headers for non-file parts of multipart form submissions to match that for files.  Apparently some server software depends on the order of the MIME headers!  Bug 116346 followup, r+sr=jst 
Don't play games with the <meta> tag when not serializing an entire document. Bug 390735, patch by Ryan Jones <sciguyryan@gmail.com>, r+sr=bzbarsky, a=jst 
Bug 391640 - Unable to use the "Open" link in download manager.  r=cbiesinger, sr=dmose, a=bzbarsky 
Adding test. 
Adding test. 
Adding tests 
Allow embeddors to override helper apps.  Bug 147142, patch by philipl@mail.utexas.edu (Philip Langdale), r=bzbarsky, sr=blake 
220111 nsIDownload should document that Init must be called r=bzbarsky sr=darin 
document @mozilla.org/download;1 don't delete incomplete files when the download is cancelled/aborts tell the download impl about the location of the temp file, if it is interested 244448 r=bzbarsky sr=darin 
Fix misspellings of "transferring" in the tree.  Bug 258874, patch by Chris Thomas (CTho) <cst@andrew.cmu.edu>, r=bsmedberg, spelling fix rs=brendan 
When a file has already been selected, correctly prefill the filepicker with that file.  Bug 374013, r+sr=sicking, a=dbaron 
Bug 391992. nsMathMLOperator statics leak. r=bzbarsky, sr=rbs, a=dbaron 
Fix a few more issues with eSyleUnit_Chars in computed style.  Bug 391221, r+sr+a=dbaron 
Bug 322689 - ASSERTION: Wrapping frame should be block-level: aLastRS->frame->GetStyl, r+sr=bzbarsky, a=dbaron 
Relanding bug 390425, with attempted performance regression fix.  r+sr+a=roc 
Testing a fix for the perfomrance regression.  Bug 390425, no reviews, no approval, will back out once I have some data. 
Backing out test patch 
Put back in an optimization that we apparently really do need.  Bug 390425, r+sr+a=roc 
Ignore 'ordinal' attribute for out-of-flow and popup frames. r=enndeakin sr=bzbarsky a=dbaron 
Fix computed style for relative offsets when they're specified in |ch| units. Bug 391034, r+sr+a=dbaron 
Bug 389392 - Mingw build error, mozlcms.lib: No such file or directory, r=dbaron, sr=benjamin, a=bzbarsky 
Adding test. 
Followup for bug 390423: remove a now-unused variable.  Patch by Ben Karel <web+moz@eschew.org>, r+sr+a=bzbarsky 
Debugging code and cleanup from fixing Windows stack traces to work on VC8-compiled builds in addition to VC7.1-compiled builds.  b=391848  r=bsmedberg  a=bzbarsky 
Fix the way we build frameworks so it doesn't break dependencies of the form -ltracemalloc.  b=392118  r=bsmedberg  a=bzbarsky 
Force linking with the C++ compiler rather than the C compiler (since we're using SIMPLECPPSRCS rather than CPPSRCS).  b=392118  r=bsmedberg  a=bzbarsky 
Bug 391937 -- Linux x86_64 startup-notification relocation error gcc-4.2.x. Patch by Walter Meinl <wuno@lsvw.de>, r=bsmedberg, a=bzbarsky 
Bug 385757 Can't enable gnomeui. patch by Hideo Oshima<hidenosuke@hidenosuke.org> r=benjamin, a=bzbarsky 
Bug 389822 'make package' in topdir missed some files on Solaris SPARC r=benjamin a=bzbarsky 
Bug 387511: CSs scanner causes parse error for URLs starting with a codepoint > 255. r+sr=bzbarsky, a=dbaron 
bug 391096, fix mac accessibility bustage. Patch by Mats Palmgren (mats.palmgren@bredband.net). r=bsmedberg, a=bzbarsky 
Make HTML content objects use QI tables.  Bug 389797, r+sr=jst, a=sicking. 
Split nsIHandlerInfo.launchWithURI into nsIHandlerInfo.launchWithURI and nsIMIMEInfo.launchWithFile (bug 391194) r=cbiesinger@gmx.at, sr=bzbarsky@mit.edu 
Make sure HAVE_FT_BITMAP_SIZE_Y_PPEM has the right value; ported from the cairo configure.in.  Bug 327879, patch by Karl Tomlinson <mozbugz@karlt.net>, r=pavlov 
Fix compilation issues from HAVE_FT_GLYPHSLOT_EMBOLDEN with libxul on some distros.  Bug 333126 (or rather part of it), patch by MATSUURA Takanori <t.matsuu@gmail.com>, r+a=pavlov 
Don't make getting .selected change what .selected returns in the future.  Bug 391994, r+sr+a=sicking 
Make <object> do the same text/plain sniffing that <iframe> does, and use the content type hint if the type comes back as application/octet-stream or sniffed-binary.  Bug 389677, r+sr=biesi, a=sicking 
Let only top level documents call this code, bug 391043, r=jst, sr=bzbarsky, a=dbaron 
Fix leak when two documents race to load the same script (but leave for later fixing that we load the same script twice).  b=392542  r=enndeakin  sr=bzbarsky  a=roc 
Bug 392840: Get rid of nsCSSScanner::Unread. r+sr=bzbarsky, r+a=dbaron 
Fixing bug 375175. Get rid of unused function nsSVGOuterSVGFrame::InitiateReflow. Patch by Eli Friedman <sharparrow1@yahoo.com>. r=jwatt@jwatt.org, sr=tor@acm.org, a=bzbarsky@mit.edu 
Make sure to process style updates before reflow, and both before painting. Bug 375436, r+sr=roc, a=dbaron 
Make auto-height abs-pos textfields with top and bottom offsets both set use their intrinsic height, per spec.  Bug 385870, r+sr+a=dbaron 
Fix Windows build bustage 
Make maxlength not affect initial values or scripted sets.  Bug 345267, r+sr=mats, a=dbaron 
When selectedIndex is set, make sure to display the corresponding text in the display area.  Bug 330554, r+sr=mats, a=dbaron 
Make content policy api (nsIContentPolicy) not suck. bug 191839. Original patch and hard work by Tim <riceman+bmo@mail.rit.edu>, r=bzbarsky (on backend stuff), r=neil (on the tabbrowser stuff), sr=bzbarsky 
Fixing bug 265921. Prevent script from closing tabs. r=bryner@brianryner.com, sr=brendan@mozilla.org, patch by bzbarsky@mit.edu and jst@mozilla.org 
Removing uneeded manual wrapper.  More attempts at bug 294893, r+sr=jst, a=drivers 
Bug 285438 Drag and drop gestures can be hijacked to load priviliged xul - xpfe/toolkit trunk patch v2.0 p=jst/me r=neil.parkwaycc.co.uk sr=bzbarsky a=benjamin 
b=304561, firefox unsuitable for browsing high-res image galleries due to preview on tab icon, r=mconnor,sr=bzbarsky,a=asa 
locationless windows need hostname in titlebar (match 1.0x -- bug 304388) r=mconnor/jruderman, sr=bzbarsky 
Front-end part of bug 326009. r=mconnor, sr=neil 
Stop about:blank loads in new tabs in case we're loading a javascript: URL. Bug 357437, r=mconnor for toolkit, r=neil for xpfe 
Make sure layout is up to date before moving the caret.  Bug 375436 followup to fix orange, pending reviews from roc. 
Bug 393080: Make count and offset in nsCSSScanner unsigned. r+sr=bzbarsky, a=dbaron 
Put our load into the newly-created loadgroup when we go and create one.  Bug 383961, r+sr=biesi, a=bzbarsky 
Fix build bustage 
Make Suspend() work on an HTTP channel if called right after AsyncOpen.  Bug 392837, r+sr=biesi, a=bzbarsky 
Make it possible to fastload NSSCertificates.  Bug 388128, r=kaie, sr=brendan, a=bzbarsky 
Make sure to not think we're in the middle of firing unload just because we created an about:blank content viewer.  Bug 388579, r=biesi, sr=jst 
bug 386654, Implement notification for EV certs r=rrelyea, sr=bzbarsky, a=bzbarsky 
bug 386654, Implement notification for EV certs r=rrelyea, sr=bzbarsky, a=bzbarsky 
a=bzbarsky@mit.edu 
Bug 393286: Make nsCSSScanner::Read regularize newlines. r+sr=bzbarsky, a=dbaron 
Bug 321517: A text file in a frame is not properly saved (backend patch v3.3), p=sciguyryan, r/sr=cbiesinger, a=bzbarsky 
Relanding patch for bug 137155 on trunk because we think it may be OK now. Patch by darin, r+sr=bzbarsky+biesi, a=bzbarsky 
Add comment for bug 388579 
Bug 321517: A text file in a frame is not properly saved (UI patch 2.0), p=sciguyryan, r=neil, sr/a=bzbarsky 
Make line-height specified in ch units work.  Bug 391909, r+sr+a+dbaron 
Make sure to store the security info correctly for wyciwyg.  Bug 390168, r+sr=jst 
Fix orange from bug 390168 by adopting a slightly different approach.  Reviews from jst pending. 
Bug 391485 - memory leak in nsToolkitProfileService::Flush p=brian.lu@sun.com (Boying Lu) r=benjamin@smedbergs.us (Benjamin Smedberg) a=bzbarsky@mit.edu (Boris Zbarsky) 
Bug 393499: Clean up character lookup in nsCSSScanner. r=bzbarsky, sr+a=dbaron 
Be less noisy in debug builds. 
Bug 392852: Upgraded Mozilla trunk to NSPR_HEAD_20070820. r=wtc. a=bzbarsky 
Set the property on the right frame.  Bug 393649, r+sr=dbaron, a=roc 
Fix crash bug 393517.  r+sr=roc, a=dbaron 
Adding tests 
Fix filename. 
Fix bug 393671.  r+sr+a=roc 
Do stack walking on a single thread to avoid deadlocks during thread creation.  b=391321  r=robarnold@mozilla.com  sr=jmathies@mozilla.com (delegated by bsmedberg)  a1.9=bzbarsky@mit.edu 
Fix accounting showing leak of CSS value types, and optimize CSS value constructors/destructors a bit.  b=382027  r+sr=bzbarsky  a1.9=roc 
Bug 389816: Port badCertHandler to xpinstall. r+sr=dveditz, a=bzbarsky 
Bug 392493 - "Add forget() method to nsCOMPtr and nsRefPtr". r=dbaron, a=bzbarsky. 
Bug 392244 - "Allow alternate ssh port in upload_symbols.sh". r=luser, a=bzbarsky. 
Bug 304048 - "xpconnect getters/setters don't have principals until after they pass or fail their security check." Patch by jst, sr=bzbarsky, a=jst. 
Bug 389600 - add .pl to IDN whitelist. Patch by gerv; a=bzbarsky. 
Flush out layout when doing sync updates.  Bug 393723, r+sr=roc, a=dbaron 
Make "view iamge" work on -moz-icon images.  Bug 392799, patch by Rich Dougherty <rich@rd.gen.nz>, r+a=pavlov, sr=biesi 
Fixing bug 353460. SVG image has no horizontal scrollbar. r=bzbarsky@mit.edu, sr=roc@ocallahan.org, a=auto (blocking1.9+) 
Fixing build bustage on GCC 3.3.  Bug 350425, r=luser 
Back out bug 367829 to fix smoketest blocker.  a=pavlov 
Bug 252830: Blocked XPI install should have allow once feature. r+sr=dveditz, r=gavin.sharp, a=bzbarsky 
389719 always release notification callbacks/progress sink r+sr+a=bzbarsky 
block document loads for URIs tagged as malware by the url-classifier service.  b=384941, r=bzbarsky, r=tony, sr=biesi, ui-r=johnath, a=bzbarsky 
Adding test. 
Revoke presentation restore events even if we just get a network stop.  Bug 306283, r+sr=biesi 
Checking in test for bug 324378 and bug 214577 
Fix bug 394111.  r+sr+a=bzbarsky 
Adding tests. 
Make sure content is up to date before we start processing restyles.  Bug 393801, r+sr+a=roc 
Bug 394466 - "Call XCloseDisplay before exit and exec" [p=karlt r=roc r=bsmedberg a1.9=bzbarsky] 
Bug 394042 - "Dangling pointer in nsXULPDGlobalObject leads to mem corruption/crashes". r+sr=bzbarsky, a=jst. 
Bug 394042 - "Dangling pointer in nsXULPDGlobalObject leads to mem corruption/crashes". r+sr=bzbarsky, a=jst. 
Bug 389638 - "Broken cairo linkage in embedding-profile < default" [p=romaxa r=bsmedberg a1.9=bzbarsky] 
Bug 387023: minor string cleanup in nsAtomTable.cpp. r=bsmedberg, a=bzbarsky. 
Bug 282814: nsAutoBuffer::EnsureElemCapacity is broken. r=bsmedberg, a=bzbarsky. 
Bug 392567 - "Impossible to submit forms to JAR URLs" [p=trev.moz@adblockplus.org (Wladimir Palant) r=bzbarsky sr=sicking a1.9=sicking] 
Landing fix for bug 394418. Notify on text changes before firing mutation events. Patch by bzbarsky@mit.edu, r+sr=jonas@sicking.cc, a=jst@mozilla.org/dsicore@mozilla.com 
Fixing bug 394534. Make first attribute win in misplaced content. Patch by bzbarsky@mit.edu, r=mrbkap@gmail.com, sr=peterv@propagandism.org, a=jonas@sicking.cc/dsicore@mozilla.com 
Comment-only change to address review comments in bug 394534. 
Make disabling image loading in prefs also block images loaded via <object>. Bug 393503, r+sr=biesi, a=jst 
Fix serialization of '&' in "script" attribute values so that it round-trips correctly.  Bug 392511, r+sr=peterv, a=jst 
Process XBL constructors after processing style reresolves.  In particular, this makes sure that we process the former even if there were none of the latter.  Bug 394676 and bug 394014, r=smaug, sr=sicking, a=roc 
Add a flag to nsIWebNavigation to disable popup-blocking for loads as needed. Bug 278357, r=biesi, sr=jst, a=bsmedberg 
Only update the select command for focused text inputs.  Bug 394792, r=roc, sr=neil, a=roc 
Set the script's filename correctly and don't treat the lack of a filename as a failure. bug 391470, r+sr=bzbarsky 
Bug 390328 - "Let nsIXPConnect::debugDumpJSStack take a file" [p=Mook r=bsmedberg sr=bzbarsky a1.9=jst] 
Bug 393681 - "New file listing makes very poor use of space, truncates filenames all over" [p=dao@design-noir.de (D√£o Gottwald) r=bzbarsky r=Mano sr=bzbarsky a=blocking1.9] 
Bug 390046: fix build break with Windows/mingw and OS/2 about undefined XRE_GetFileFromPath symbol, r=benjamin, a=bzbarsky 
Bug 379633: Scriptable zipwriter component. r=bsmedberg, sr=cbiesinger, a=bzbarsky 
When sniffing text/plain and we decide it's really text/plain, just claim the sniffer didn't find a type, so that other sniffers get a crack at it.  Bug 395533, r+sr=biesi, a=bsmedberg 
bug 395272: include uriloader/exthandler/tests directory in toolkit/toolkit-makefiles.sh; rs=bsmedberg; a=bzbarsky 
bug 391740: make header in richlistbox appear on top/left instead of bottom/right of richlistitems; Patch by Michael Ventnor; r=mano; a=bzbarsky 
Bug 395539 - FTP TransportStatus's progressMax reports the full file size for REST retrieval (resuming partial download).  Patch by Edward Lee <edilee@gmail.com>.  r=cbiesinger, sr=cbiesinger, a=bzbarsky 
Bug 392780 - "nsNSSCertificateDB::FindCertByDBKey() crashes on invalid input" [p=mozbugzilla@velox.ch (Kaspar Brand) r=rrelyea sr=kaie a1.9=bzbarsky] 
Bug 338202 - "Leak in nsInstallExecute::toString (xpinstall/src/nsInstallExecute.cpp)" [p=ehsan.akhgari@gmail.com (Ehsan Akhgari) r=bsmedberg a1.9=bzbarsky] 
Bug 343514 - "Typos in compare-locales.pl" [p=supernova_00@yahoo.com (Kurt [supernova_00]) r=Pike a1.9=bzbarsky] 
Make the nsISerializable implementation of nsPrincipal actually work.  This makes it possible to save principal objects to a stream and read them back. Bug 369566, r=dveditz+brendan, sr=jst, a=jst 
Fix nsStandardURL serialization/deserialization to properly restore all state. Bug 396389, r+sr=biesi, a=bsmedberg 
Fix session restore to save and restore principals, so that about:blank, javascript:, data: stuff gets restored correctly.  Bug 389274, r+sr=jst for the docshell changes, r=zeniko@gmail.com for the session restore changes, a=mconnor 
Improve docs.  Bug 396069, r+sr=biesi, a=bsmedberg 
Remove incorrect use of NS_METHOD.  b=394566  r+sr=peterv  a=bzbarsky 
Add shouldBeFreed calls for nsJSContext.  b=394566  r+sr=peterv  a=bzbarsky 
Fix leak of mPendingHTTPRequest in nsSSLThread::rememberPendingHTTPRequest by converting it to an nsCOMPtr.  b=394528  r=kengert  sr=bzbarsky  a=bsmedberg 
Fix bug 396286.  r+sr+a=roc 
a=bzbarsky@mit.edu (Boris Zbarsky) 
Bug 382990 - Tree onkeypress should check for ctrl key (+ test to make sure this keeps working) r=mano@mozilla.com (Asaf Romano) a=bzbarsky@mit.edu (Boris Zbarsky) 
Bug 394691. nsTArray should not do default initialization of POD elements. Also, switch nsAutoBuffer users to nsAutoTArray. patch by Chris Pearce, r=bsmedberg, sr=roc, a=bzbarsky 
Bug 394789 - Add a finalize() method to mozStorageStatement.  r=neil, r=sspitzer, a=bzbarsky 
Adding tests 
Fix detection of whether we're in HTML.  Bug 386526, r=sayrer 
Resize the subdocument off a post-reflow callback so that we don't run script during reflow, and a few related checks to make sure we can deal with script in reflow callbacks better.  Bug 396587, r+sr+a=roc. 
Backing out bug 396587 to hopefully fix orange. 
Make getElementsByClassName handle the root element properly.  Bug 395915, r+sr=peterv, a=sicking. 
Adding test. 
Relanding bug 396587.  Maybe it'll stick now.  r+sr+a=roc 
Make sure to tear down the XBL binding for nodes which forced one even though not in the document.  Bug 389636, r+sr+a=sicking 
Fix bug 392318.  r+sr+a=sicking. 
Simplify reflow and restyle event processing a tad.  Bug 396099, r+sr+a=roc 
Fixing test to actually pass 
Fixing test for real. 
Adding test. 
Slight code simplification. 
Add comment that sicking asked for and I forgot 
Make this test actually test something 
Bug 396648. nsPermissionManager tries to open two files that usually don't exist. r/sr=biesi, a=bzbarsky 
Bug 396861: Need short libname for zipwriter on OS/2, r=ted.mielczarek, a=bzbarsky 
Fire DOMContentLoaded async from EndLoad.  Bug 344305, r=sicking, sr=jst, a=sicking 
Bug 395526 - Change assertions to real errors in mozStorageStatement.cpp.  r=sspitzer, a=bzbarsky 
Fix content leak due to double-init of oveflow placeholders.  Bug 397011, r+sr+a=roc 
Bug 392055 - NS_ENSURE_SUCCESS should print out the error code. r=benjamin, sr=bzbarsky, a=bzbarsky 
Bug 397200 - "OS X dylibs have non-unique signatures causing incorrect stack traces". r=luser,mento. a=bzbarsky. 
Bug 181160: Drop unused variables to stop assertions. r=dveditz, a=bzbarsky. 
Expose the image's principal on its imgIRequest.  Bug 389188, r=pavlov, sr=biesi, a=pavlov. 
Do lazy evaluation of XBL fields.  Bug 372769, r=mrbkap, sr=sicking 
Backing out bug 372769 due to leaks. 
Fix bug 397605.  r+sr+a=jst 
Bug 397436 - "Add SVN version information support for symbolstore.py". r=luser, a=bzbarsky. 
Always delete the old content array so that we run destructors.  b=397022  r+sr=bzbarsky  a=roc 
Fix leak of nsCSSValueList.  b=397149  r+sr=bzbarsky  a=roc 
Bug 394466 - "Call XCloseDisplay before exit and exec" [p=karlt r=roc r=bsmedberg a1.9=bzbarsky] 
Bug 368445. Make nsDisplayBorder::OptimizeVisibility use accurate borders, r+sr=bzbarsky 
Bug 392629. Be a bit more clever about invalidating listboxes and combobox dropdowns when the focus ring moves. r+sr=bzbarsky 
Bug 396649: Content viewers not evicted when going back.  r+sr+a=bzbarsky 
Add 4 more server names, two of which are not granted privs by default, to facilitate testing of enablePrivilege. 
Relanding bug 372769 with some cycle collection changes to fix leaks. r=mrbkap, sr=sicking, with r=sicking on the leak fixes. 
Fix test.  Bug 372769. 
Fix a few scriptable helpers to correctly communicate NS_SUCCESS_I_DID_SOMETHING.  Bug 396843, r+sr+a=jst 
Somewhat reduce the amount of memory an nsPrincipal allocates in the common case.  Bug 397733, r+sr+a=jst 
Don't assume that redirect URIs are ASCII (though they should be). Bug 317254, r+sr+a=jst 
Fix leak of PRAddrInfos.  Bug 397716, r+sr=biesi, a=bsmedberg 
Block scripts in subframes if the parent has script blocked in the scriptloader.  Fixes bug 383331, r+sr+a=sicking 
Bug 392055: NS_ENSURE_SUCCESS should print out the error code. Original patch by Shawn Wilsher (sdwilsh) <comrade693+bmo@gmail.com>, updated by me to handle the standalone xpcom glue case and to use printf safely. r=bsmedberg, sr=bzbarsky, a=dsicore. 
Bug 299555 - F5 reloads Print Preview after right clicking several times on this specific testcase, r=bzbarsky, sr+a=jst 
Bug 215068 - "leading spaces are lost (HTML compose, plain-text send)" [p=andrit@ukr.net (Andriy Tkachuk) r=mscott sr=bzbarsky a1.9=bzbarsky] 
Bug 392873. Add debugging code to help track down a crash in the bfcache-expiry code. r+sr=bzbarsky,a=damon 
Make sure to be in an update when we do frame construction.  Bug 393326, r+sr+a=dbaron 
Bug 125928 - "HTML composition converted to PlainText fails to strip spaces before hard breaks with format=flowed" [p=andrit@ukr.net (Andriy Tkachuk) r=mscott r=BenB sr=bzbarsky (NPOFx)] 
Bug 393804: Fix alignment of non-iconic menuitems to make them match iconic menuitems, r=robarnold, r=vlad, sr=neil, a=bzbarsky 
Add asserts to catch dangerous cases.  Bug 398108, r+sr+a=dbaron 
Skip installing fields which have no text.  Bug 397924, r+sr+a=sicking 
Don't unlink so aggressively.  Bug 398083, r+sr+a=sicking 
Delete gVolumeList on shutdown.  b=397305  r+sr+a1.9=bzbarsky 
Make sure to restore state on form-less controls correctly.  Bug 398243, r+sr+a=jst 
Fix the way mochitest finds the body.  Bug 398347, r=sayrer 
Make really sure that pending binding constructor events block onload.  Bug 394676, r+sr+a=sicking 
Make sure we always resolve style contexts with the right parent.  Bug 390689, r+sr+a=dbaron 
Make sure to notify on the root if a flush happens before we've done so.  Bug 397856, r=peterv, sr=sicking 
Remove trunk instances of MOZILLA_1_8_BRANCH interfaces.  Bug 347910, r+sr+a=jst 
Fix a few issues in bfcache and XBL when javascript is being toggled on and off.  Bug 398668, r+sr+a=jst 
Fix build bustage by not using debug-only member in opt code.  Bug 398668 
Add test 
Adding test. 
Make test actually run 
adding test 
Fix the test 
Call RemoveMappingsForFrameSubtree() before destroying an "internal" popup frame. b=372685 r+sr=bzbarsky blocking1.9=dsicore 
Make the GetListBoxBody() call from the frame constructor not Flush_Frames. b=392285 r+sr=bzbarsky a=dsicore 
Adding test. 
Reoder some checks to do the fast one that will test false most often first. Bug 398222, r+sr+a=sicking 
Give the about:blank document we create when loading a javascript: URI from history the principal of the history entry so the JS will actually execute against that about:blank, not in a sandbox.  Bug 384014, r+sr+a=jst 
Fixing typos 
Fix build bustage when building with old enough gtk.  Bug 362682 followup, r=stuart 
Add tests 
Fix test to actually fail with old builds 
Allow MapRuleInfoInto to map data for multiple structs at the same time.  b=240117  r+sr=bzbarsky  a=roc 
Make IsWidgetStyled use style system to really check whether author styled borders or backgrounds, rather than depending on default values in forms.css.  b=240117  r+sr=bzbarsky  a=roc 
Fix bug 398326.  Make sure to let the frame constructor know before constructing frames.  r+sr+a=dbaron. 
Make sure to not propagate special height reflows too far.  Bug 391901, r+sr+a=dbaron 
Elimninate the last known source of bogus "wrong parent style context" warnings, and make these warnings into assertions.  Bug 374297, r+sr+a=dbaron 
Wrap the strftime() call with an empty "invalid parameter handler" on Windows. b=395836, patch by Mats Palmgren <mats.palmgren@bredband.net>,  r=crowder a=brendan 
Fixing bug 393928. Lazily initialize liveconnect, and only initialize it when we can't find a Java plugin that supports NPRuntime. When a Java plugin that supports NPRuntime is found, use NPRuntime to expose liveconnect functionality (i.e. window.java and window.Packages). r=cbiesinger@gmx.at, sr=bzbarsky@mit.edu, a=jonas@sicking.cc 
Don't leak strings from <keygen>.  Bug 398665, r=kaie, sr=jst, a=dbaron 
Fix bug 399219.  r=roc, sr=neil, a=roc 
Don't allow first-letter on the block inside a mathml table cell.  Bug 398510, r+sr+a=roc 
Fix regression tests.  Bug 398510 
Bug 397518. Wrap inline non-MathML children of MathML frames in anonymous blocks. r+sr=bzbarsky 
Fix bug 345609.  r+sr+a=roc 
Adding test 
Bug 398414 - "in file listings front-end code, build the gRows array lazily" [p=dao r+sr=bzbarsky a1.9=sayrer] 
Bug 398895 - "about:bloat should only be built if trace-refcnt logging is built" [p=xfsunoles@gmail.com (Jonathan Steele) r+sr=bzbarsky a1.9=sayrer] 
Fix bug 387258 by hacking in a force-override for the "txt" extension-to-type mapping.  r+sr=biesi, a=sayrer 
Adding tests. 
This doesn't pass on Linux yet 
Bug 399022, Leak-prone code in nsCertTree r=bzbarsky, a=sayrer 
Don't show the plug-in view when it should actually be hidden.  Bug 398213, r+sr=roc 
Make vertical resizing of framesets work in standards mode.  Bug 376981, r+sr=dbaron 
Don't run XBL constructors during frame construction, ever.  Bug 398006, r=sicking, sr=roc 
Put the notification about root removal in document.open inside an update batch.  Bug 399803, r+sr+a=jst 
Work around bug 399791 by changing the assert to not fire in that case.  Bug 399712, r+sr+a=jst 
Bug 399384: Make first-letter frames use nearest ancestor blockFrame's content node, instead of direct parent's. r=bzbarsky, r+a=roc 
relanding Bug 399022, Leak-prone code in nsCertTree r=bzbarsky, a=sayrer 
Actually unhook the binding proto when we're tearing down the binding anonymous content.  Hasn't worked in years, apparently.  Bug 398135, r+sr=sicking 
Adding testx 
Discard aPrevFrame if it's the mPopupFrame since it's on a different lists. b=394800 r=enndeakin sr=bzbarsky a=dbaron 
Reftests for bug 391412 - Regression in float layout causing clear: to be ignored, r=bzbarsky 
Make the "href" property of stylesheets reflect the original URI that was reflected to load the sheet.  Bug 397427, r=dbaron,biesi, sr=dbaron, a=dsicore 
Landing files that somehow got missed.  Bug 397427. 
Call WillDestroyFrameTree() before destroying the frame tree in ReconstructDocElementHierarchyInternal() because we have cleared the placeholder map etc at this point and we don't want RemoveMappingsForFrameSubtree() to mess with it.  Also, remove the RemoveMappingsForFrameSubtree() call that was added in bug 372685 which was wrong since all the frames on a popupset's ::popupList are out-of-flows that are reachable (directly or indirectly) from a normal flow placeholder. b=398982 r+sr=bzbarsky a=dsicore 
Bug 330128. Calling cancel() on a timer doesn't drop ref to the callback. r=brendan, sr=bzbarsky, a=beltzner 
Bug 400208. Don't leak mScrollCnt when we take an early exit from UpdateViewAfterScroll. r+sr=bzbarsky,a=beltzner 
Fix assert to not fire on <svg:use>.  Bug 400459, r+sr=jst, a=vlad 
Don't install fields during binding teardown.  Bug 400705, r+sr=sicking, a=beltzner 
Fix bug 399185 -- Make image request URIs immutable so that we don't have to clone them later.  r=jst, sr=biesi, a=vlad 
Making comment a little clearer.  No code change.  Bug 324464. 
Improve this comment too 
Bug 401137. Silence ASSERTION: RefreshURIList timer callbacks should only be RefreshTimer objects. Docshell expects to be able to getCallback during a Timer fire. r=bzbarsky, sr=brendan, a=mconnor 
Bug 401575 - "Support cert overriding from SSL error pages" [p=johnath r=kaie r=gavin r+sr=bzbarsky ui-r=beltzner a=blocking1.9+ for M9] 
Fix CSS error.  Bug 281652, patch by Anne van Kesteren <bug@annevankesteren.nl>, r+sr=bzbarsky 
Replace more -moz-opacity with opacity.  Bug 281907, patch by Anne van Kesteren <bug@annevankesteren.nl>, r+sr=bzbarsky 
Fix bug 390975: when a form that is not an ancestor of a form control is removed, clear the control's mForm pointer if it points to the now-removed form.  r+sr=jst, a=damons 
Refactor and improve sibling frame finding, especially for popups.  Bug 386642, r+sr=roc, a=vlad 
Implement hixie's first-line proposal: only inherit properties that inherit by default from ::first-line.  Inherit the reset properties from its style parent (which is the node that we'd inherit from if the ::first-line were not there). Bug 395623, r+sr=dbaron, a=beltzner 
Don't set our separator count to -1 when we really have 0 of them.  Bug 400157, r+sr=dbaron 
If we moved but did not reflow either the caption or the inner table, invalidate the relevant area.  Bug 379353, r=bernd, sr=roc 
HTMLAppletElement.code should not be an absolute URI.  Bug 400485, r+sr=sicking 
Handle image embeds with a null URI.  Bug 402320, r+sr=jst 
Log parser token refcounting, and fix a number of token leaks in view-source that were also leaking strings.  Bug 402633, r+sr=mrbkap 
Fixing test 
Seems like stress-11 doesn't actually render right... 
Move hidden style to HTML 
Bug 356466 - Rev nsIEditor IID and documentation due to ownership model changes [p=roc r=Neil sr=bzbarsky a=blocking1.9+] 
Bug 336153 - Fix fieldset content-block sizing when a specified height is given [p=roc r+sr=bzbarsky a=blocking1.9+] 
Bug 398733 - The first *continuation* for an element should be the abs-pos container frame, not just any one of its first-in-flows [p=roc r+sr=bzbarsky a=blocking1.9+] 
Bug 399940 - Prevent content duplication by having ContentRemoved tell us whether it already reconstructed frames and therefore ContentInserted need not be called [p=roc r+sr=bzbarsky a=blocking1.9+] 
Bug 130078 - Make chrome subdocuments of chrome parents share the view hierarchy [p=roc r+sr=bzbarsky a=blocking1.9+] 
Relanding bug 389188. r=pavlov, sr=biesi 
Give first-line and first-letter frames the right parent style context.  Bug 398803, r+sr+a=roc 
Adding test 
Adding test 
Handle GetPositionAndSize flushing reflow.  Bug 399410, r+sr=roc, a=beltzner 
Make canvas security checks use principals, not URIs.  Bug 397524, r=vlad, sr=jst, a=pavlov 
Make sure to remove anonymous cols created by a <col span="n"> when that col is removed.  Bug 399209, r=bernd, sr+a=roc 
Fixing build bustage. 
Use a stack array for the pending restyles unless there are lots of them.  Bug 403113, r+sr+a=roc 
Fix leak bug 391978.  r=biesi, sr=dmose, a=sayrer 
Bug 392873 - "crash in nsExpirationTracker<nsSHEntry,3>::RemoveObject" (add more debugging code) [p=roc r+sr=bzbarsky a1.9=damons] 
Bug 400057 - ""ASSERTION: Frame is not in the block" with xul and mathml" (MathML fix) [p=roc r+sr=bzbarsky a=blocking1.9+] 
Bug 382849 - "Wrong gzip comment process in HTTP Compress converter" [p=solar@netease.com (Solar) r=bzbarsky sr=biesi a1.9=sayrer] 
Bug 399468 - Can open multiple bookmark popups on clicking folders after right-click context menu (check context menu state) [p=enndeakin r+sr=bzbarsky a1.9=beltzner] 
Bug 379418 - ""ASSERTION: internal error: '!aListName'" with MathML and Hebrew text" [p=mats.palmgren@bredband.net (Mats Palmgren) r=roc sr=bzbarsky a1.9=stuart] 
Remove unused nsIFocusController::GetPopupEvent/SetPopupEvent methods. b=400104 r+sr=bzbarsky a=dsicore 
Fixing comment 
Give placeholders for out-of-flow tables the right parent style context.  Bug 403175, r+sr+roc, a=schrep 
When invalidating the canvas, do a DEFERRED view batch to prevent us entering reflow under frame construction.  Bug 402713, r+sr=roc, a=schrep 
Base our referrer on the URI of the principal executing the code, not on the URI of the document currently loaded in the window associated to the context we're running on.  Bug 402649, r+sr=jst 
Relanding Mats Palmgren's patch: Remove unused nsIFocusController::GetPopupEvent/SetPopupEvent methods. b=400104 r+sr=bzbarsky a=dsicore 
Don't assume that GetPrimaryFrameFor actually works correctly.  Bug 403245, r+sr+a=roc 
Bug 397428. Return 'complete' on *all* paths whenever we push a rowgroup to the next page. r=bernd,sr=bzbarsky,a=schrep 
Fixing bug 392532. Infinite recursion crash when getting scroll chrome flags off of a window at the wrong point in time. r+sr=bzbarsky@mit.edu, a=vladimir@pobox.com 
Fixing bug 386493. Work around WMP plugin bug where it's unable to process incoming data while waiting for initialiation streams. r=cbiesinger@gmx.at, sr=bzbarsky@mit.edu 
Bug 395590 - "Entity ProtocolFlagError should be rephrased" [p=hendrik.maryns@uni-tuebingen.de (Hendrik Maryns) r+sr=bzbarsky a1.9=damons] 
Bug 394525 - "malware check non-http URIs" (treat Suspend() failures as nonfatal) [p=dcamp r=bzbarsky sr=biesi a=blocking1.9+] 
Don't compare lines from different blockframes' lists to each other.  Also fix handling of text-decorations in in-flows of blocks with text-indent.  Bug 393330, r+sr=roc, a=schrep 
We can destroy style contexts during ruletree reconstruct.  Bug 403454, r+sr=dbaron 
Fix privacy leak where script could get the path to the file selected in a file input.  Bug 143220, r+sr=sicking, a=schrep. 
Fix bug 403733: dynamic legend insertion should not use text as valid siblings.  r+sr=roc, a=schrep 
Adding test 
Fix bug 400794 and bug 401569: don't try to uninstall fields that are not installed.  r+sr=sicking.  Patch in bug 400794. 
Handle dynamic appends to a node which has a binding with multiple insertion points correctly.  Bug 372323, r+sr=sicking. 
Adding test. 
Rename new width keywords to match CSS WG decision.  b=402706  r+sr=bzbarsky  a=blocking1.9+ 
When calling open() on an in-progress XMLHttpRequest, abort the request but still allow the open() to reinitialize it.  Bug 322317, r+sr=sicking, a=vlad 
Adding test 
Unhook event handlers on binding teardown.  Bug 403162, r+sr=sicking 
Adding test. 
Fixing bug 402866. Don't make modal dialogs resizable just because pref dom.disable_window_open_feature.resizable is set to true. r+sr=bzbarsky@mit.edu 
Bug 392873. Make some code debug-only and add mitigation code to try to not crash when we're getting into the bad state, setting a viewer on a session history item that already has one. r+sr=bzbarsky 
Bug 402843. Don't persistently store scroll positions in device pixels, it just gets out of sync and causes bugs during full zoom. r+sr=bzbarsky 
Don't allow presentational attributes to set colors if the "don't use document colors" pref is set.  Bug 400452, r+sr=dbaron 
Fix build bustage 
Bug 396649: Assert that content viewers aren't where they shouldn't be (debug-only), r+sr=bzbarsky, a=mtschrep 
Make 'vertical-align' work on 'display: inline-table'.  b=404030  r+sr=bzbarsky  a=blocking1.9+ 
Make find code less sensitive to exactly which nodes return true for IsNativeAnonymous().  Bug 403090, r+sr=mats, a=schrep 
The frame model depends on the span attribute, so changing span should reconstruct frames.  Bug 403249, r=bernd, sr=roc 
Bug 403659. Instead of trying to move frames around in the hierarchy after we've discovered they should be inserted after ::before content, just construct them at the right position in the first place. r+sr=bzbarsky 
Adding test. 
Fix the case when a binding's single insertion point is a node that is itself bound by a binding with insertion points.  Bug 403962, r+sr=sicking 
Don't pass around redundant information, so it can't get out of sync.  Bug 404218, r+sr=roc, a=schrep 
When inserting a col into a colgroup after a col with span, insert it after the last columnframe spanned by the span.  Bug 404301, r=bernd, sr=roc, a=schrep 
Fixing manifest 
Remove some duplicated code.  Bug 397651, r=kaie, sr=jst, a=schrep 
Fixing test because we changed the -moz prop name 
Fix bug 404548.  r+sr=jst, a=schrep 
Fix very long-standing bug with incorrect insertion indices reported by the HTML content sink.  Bug 404553, r+sr=peterv, a=schrep 
Make getElementById in HTML always return the first node in document order. Bug 403868, r+sr=sicking 
Make to reinitialize windowless plug-ins correctly when restoring from bfcache.  Bug 385649, r+sr=roc.  Many thanks to Matthew Gregan for spotting the problem! 
Bug 404748 - "__defineSetter__ regression in FF3: no longer works with event properties when used on prototype" [p=jst@mozilla.org (Johnny Stenback) r+sr=bzbarsky a1.9=schrep] 
Bug 398105 - Removing xlink:href attribute from svg:a does not update elements influenced by :link styles. r+sr=bzbarsky,a1.9=tor 
Don't resize widgets to negative sizes.  Bug 397871, r+sr=roc, a=beltzner. 
Adding test. 
Backing out bug 392040 to fix bug 404872.  a="it's a blocker regression, and it's keeping me and Gavin from using Bugzilla" 
Fix bug 403134.  r+sr=roc 
This test fails.  Suck. 
Note the bug that covers the failure 
Apparently this can pass sometimes.  What a mess. 
Bug 363696 - "Crash [@ nsHTMLReflowState::ComputeContainingBlockRectangle] with file upload control in xul" [p=kinetik@flim.org (Matthew Gregan) r=bzbarsky sr=roc a=blocking1.9+] 
Hold the ref to the binding as we install its fields.  Bug 404869, r+sr=sicking 
Make XOW's toString consistent over all cases. bug 398109, r=jst sr=bzbarsky a=beltzner 
Fix FindFrameWithContent to properly walk out-of-flows.  Bug 405186, r+sr=roc, a=beltzner 
Remove unused variable.  No bug, r+sr+a-ish=roc on irc. 
Bug 405241 - "Don't register nsDownloadHistory if it's not needed" [p=comrade693+bmo@gmail.com (Shawn Wilsher [sdwilsh]) r=biesi sr=bzbarsky a1.9=damons] 
Keep bug order 
Bug 405732. Fix crash in XSLT document that does an initial reflow before SetDOMDocument in the document viewer, by recreating the viewmanager, root view and root widget that were mangled when we tore down the old presshell. r+sr=bzbarsky 
Adding test 
Fix handling of <script> of unknown type to not screw up the content model. Bug 401946, r+sr=jst 
Wrong filename 
Backing out to see whether it somehow fixes the orange 
Relanding without the test just to make sure this is in fact what's breaking stuff 
Silly test to see what the mac orange is about 
Trying for more tinderbox debugging 
I think the test box was just on crack 
Relanding test 
Fix bug 400556 by tearing down editor a little earlier.  r+sr=peterv 
Fix bug 390565.  r+sr=mrbkap 
Don't position bullets on empty list items too high.  Bug 403657, r+sr=dbaron 
See whether this fixes the orange 
Disable test for now 
Don't do arithmetic with unconstrained widths when reflowing comboboxes.  Bug 363858, r+sr=dbaron 
Fixing test 
Landing part of bug 363858 that somehow got misplaced.  pending r=dbaron 
Fix bug 404666 by making spanned colframes be continuations of the col that spans them.  r=bernd, sr=roc, a=schrep 
Tweak reference 
Adding tests 
Backing out bug 403657 to see whether it causes the Ts regression 
Sniff "text/plain; charset=UTF8" for possibly being binary.  Bug 394647, r+sr=biesi 
Disable test for now.  tbox sucks 
Relanding bug 403657, since there was no obvious perf impact 
Add a way to extract the charset and the position of the charset parameter from a content-type header.  Use this in XMLHttpRequest to not clobber the non-charset parameters and not clobber the charset if it's already what we'll set, up to case.  Apparently some broken servers are case-sensitive when looking at charsets!  Bug 393968 (wherein the patch lies) and bug 397234, r+sr=biesi 
Reenable test now that we have a higher timeout for Tunit 
Propagate the node's principal as the owner to <object> loads as needed, and allow <object data="javascript:"> to work.  Bug 353334 and bug 300263, r=biesi, sr=jst, a=dsicore 
Fix bug 402937 -- don't allow recursion into Instantiate().  r=biesi, sr=jst, a=dsicore. 
Assert that the channel succeeded, so if it fails we'll know 
Disabling again for now 
Follow up to bug 404290, make sure embedding clients don't crash (bug 406108). r+sr=bzbarsky a1.9=blocking1.9 
Bug 401328: Account for appunit/pixel conversion when painting from nsWebBrowser [p=roc]. r=smorgan sr=bzbarsky a1.9=blocking1.9 
Make <select> handle changes to defaultSelected on node for which selected has not been set.  Bug 395107, r+sr=sicking. 
Try to handle people processing events from inside an XBL constructor somewhat sanely.  Bug 401743, r+sr+a=sicking 
Fix build bustage.  Bug 395107 
Fix comment too.  Bug 395107 
Fixing build bustage.  Bug 401743 
Update the binding manager before doing any other notifications, and don't notify the document for nodes not in the document.  Bug 398492, r+sr=sicking. 
Fix bug 406485. Patch by fantasai, r+sr=roc 
Fix assertion.  Bug 406903, r+sr=mrbkap, a=dsicore 
Remove dead code.  Bug 404666 followup, r=bernd, sr=roc, a=schrep 
Adding a whole bunch of canvas mochitests.  Bug 407049, tests contributed by Philip Taylor <philip.taylor@cl.cam.ac.uk> 
Split tests up into groups so nsinstall doesn't blow away Windows' little mind. 
Fix up comments a dram 
Add documentation of the JS hooks 
Bug 407297 - "nsIHTMLToTextSink should use nsStringGlue.h instead of nsString.h" [p=prasad@medhas.org (Prasad Sunkari) r=bsmedberg sr=bzbarsky a1.9=schrep] 
Bug 393002 - ""Server not found" message for view-source window doesn't display server name" [p=anant@kix.in (Anant Narayanan) r=bsmedberg sr=bzbarsky a1.9=damons] 
Bug 337418: added a generation count for the addr_info field of nsHostRecord to detect the change of addr_info and invalidate addr_info's iterator, and added a lock to protect access to the addr_info and addr_info_gencnt fields.  r=cbiesinger,sr=bzbarsky blocking1.9+ Modified files: nsDNSService2.cpp nsHostResolver.cpp nsHostResolver.h 
Bug 406073 - OnMouseOver and OnMouseOut Dysfunctional On Marquee, r=bzbarsky, sr=roc, a=beltzner 
Fixing bug 408009. Make doGetObjectPrincipal() faster. r+sr=bzbarsky@mit.edu, r+a=brendan@mozilla.org 
Fix bug 342504.  r=gavin/neil, sr=bsmedberg 
Put more recently focused tabs in a window at the beginning of the named item search order.  Bug 407421, r+sr=jst, a=schrep 
Make document classes use QI tables as possible.  Bug 408403, r+sr+a=jst 
fix handling of empty rowgroups (that are rg without a row beneath) in the border collapse code (bug 383193 r/sr=bzbarsky a=mtschrep 
Adding tests 
Adding tests 
Fixing bug 408139. Make XPConnect string argument handling code use stack space for string wrappers rather than to heap allocate them for each string argument. r+sr=bzbarsky@mit.edu 
Adding test. 
Bug 408772: Replace nscoord_MAX-unsafe arithmetic with safe call to NSCoordSaturatingSubtract, in nsComboboxControlFrame::GetIntrinsicWidth. r+sr=bzbarsky a=mtschrep 
Fix leak bug 408883.  r+sr=roc, a=sicking 
Changing the alt or value attribute of an image input should change the text shown when the image is broken.   Bug 408782, r+sr=dbaron, a=schrep 
Adding test 
Adding test 
Bug 408749. Reflow captions with unconstrained height, because we have no logic to reflow their continuations. r+sr=bzbarsky 
Bug 408749. Use a QI check instead of a frame-type check to detect blocks. r+sr=bzbarsky,a=schrep 
Adding tests 
Fixing test bugs 
Fixing bug 408792. Remove some expensive QI calls from frequently called code. r=jonas@sicking.cc, sr=bzbarsky@mit.edu 
Add mochitests for bug 409298 and bug 403005 r=bzbarsky 
Always free the curren token at the end of HandleToken. bug 408939, r=bzbarsky sr=jst 
Adding test. 
Fix bug 409885: don't do string-manipulation to set the domain on a URI. r+sr+a=jst 
Backing out bug 409885, since this part of Necko happens not to exist. 
Bug 409376 - getScreenCTM testcase fails on reload. r+sr=bzbarsky,a1.9=beltzner 
Bug 409310 - Make SVG image viewing in page info more robust. r=mano,sr=bzbarsky,a1.9=mconnor 
Bug 387466 - Bug 309020 (SVG references breaks when used inside XBL) has regressed. r+sr=bzbarsky,a1.9=blocking1.9+ 
Bug 398362 First menuitem is not selected when opening a menu for the first time r=enndeakin sr=bzbarsky 
Bug 404634 - "http urls don't render in TestGtkEmbed" [p=asac@jwsdot.com (Alexander Sack) r=bsmedberg r=bzbarsky a=blocking1.9+] 
Make image controls splittable just like regular images.  Bug 409659, r+sr=roc, a=dsicore 
Handle session history navigation across a document.open with nothing written. Bug 376064, r=biesi, sr=jst, a=schrep 
Bug 392407: appstrings.properties should not be using branded strings r+sr=bzbarsky, ui-r=beltzner, a=blocking1.9 
Report cycle collector faults to the error console and the observer service. Bug 410295, r+sr=peterv, a=schrep 
Fix bug 392338.  r=mrbkap, sr=jst, a=schrep 
Bug 392802 - "File listings very hard to read" [p=dao@mozilla.com (D√£o Gottwald) r=Mano sr=bzbarsky ui-r=beltzner a=blocking-firefox3+] 
Bug 348577 - Implement MathML <mtable> with display:inline-table (mtable has incorrect baseline). Patch by Bill Gianopoulos <wgianopoulos@yahoo.com>, r=rbs, sr=bzbarsky. 
Bug 407016 - Marquee GetMinWidth() is no longer 0 after bug 402567 landed, r=dholbert, sr=bzbarsky, a=blocking1.9 
Make non-threadsafe addreff/release in nsAgg assert the owning thread.  Bug 410746, r+sr=bsmedberg 
Bug 406784. Do more presentation setup in the SetDOMDocument path to fix regressions mainly in Camino. r+sr=bzbarsky 
Bug 322074. Check more carefully whether a transparent document is actually a top-level window. r+sr=bzbarsky 
Bug 411212, cannot prevent file-picker from showing on <INPUT TYPE=FILE>, r+sr=roc+bzbarsky, a=mtschrep 
Fixing bug 410853. Make NPN_Evaluate() pass in a sensible script file name argument when possible to get the appropriate wrapper automation when necessary. r=jonas@sicking.cc, sr=bzbarsky@mit.edu 
Bug 405721. nsContainerFrame::RemoveFrame should search the frame's overflow list if the frame isn't found in the main child list. r+sr=bzbarsky 
Bug 405271. MathML should not reflow children with a constrained height; that triggers pagination which is definitely not what we want. r+sr=bzbarsky 
Try all continuations of the block when looking for a letter frame. b=408493 r+sr=bzbarsky a=blocking1.9 
Bug 352791 - "Permission denied to get property XULElement.ownerDocument". Patch by Blake Kaplan <mrbkap@gmail.com>. r=jst,bzbarsky. sr=brendan. a=blocking1.9. 
Add a null-check to wallpaper bug 411582. b=411582 r+sr=bzbarsky a=mtschrep 
Bug 382526 - "Content Encoding Error" error page repeats itself. r=beltzner, sr=bzbarsky, a1.9=schrep 
Bug 409461 - ASSERTION: SVG frame expected with svg:after. r+sr=bzbarsky,a1.9=beltzner 
Add an internal security-check-less method for adding rules to stylesheets to fix bug 386939.  r+sr=dbaron 
Ignore restyle requests once PresShell::Destroy() has been called. b=279505 r+sr=bzbarsky a=mtschrep 
When showing a document viewer, don't start layout on the documnt unless it's already had layout started once.  Otherwise, just wait for the sink, or whoever is responsible for it, to start layout once they're ready.  Bug 404470, r+sr=jst 
Adding test 
Bug 403565. Give each contentviewer it's own device context. r+sr=bzbarsky 
Fix bug 405818: need to copy the original sheet URI when cloning.  r+sr=dbaron, a=schrep. 
Bug 413016 - ASSERTION: SVG frame expected with svg:after in SVG document. r+sr=bzbarsky,a1.9=mtschrep 
Bug 407201. Not dropping references for one shot timers on Fire. r/sr=bzbarsky 
Fix width of images where max-width < min-width <= width (min-width should win), and other similar problems.  b=413361  r+sr=bzbarsky  a=schrep 
Bug 363986 - "nsJPEGEncoder::ReadSegments() and nsPNGEncoder::ReadSegments() do not advance read pointer" [p=daim.project@free.fr (David Marteau) r=stuart sr=bzbarsky a1.9=beltzner a=blocking1.9+] 
Allow certain restricted loads in unload events.  Bug 409888, r+sr=jst 
Improve the warning that shows up when pages use -moz-inline-box.  b=413195  r+sr=bzbarsky  a=beltzner 
Make leaf frames follow the CSS2.1 rules on height sizing for abs-pos replaced elements.  Bug 412679, r+sr=dbaron, a=schrep 
Adding tests. 
Fixing the tests too. 
Fixing bug 397791. Prevent document principals from ever changing, and make us not use XOWs for same origin document objects. r=jonas@sickin.cc, sr=bzbarsky@mit.edu 
Bug 413292. Make Begin/EndUpdateViewBatch be sure to remove the batch-count from the same viewmanager we added one to. r+sr=bzbarsky 
handle dynamic insertion with overflow containers properly, b=403369 r=bzbarsky sr=roc 
Tighten up the named-target navigation policy to better match the HTML5 spec and Safari.  Bug 408052, patch by Adam Barth <hk9565@gmail.com> and Collin Jackson <mozilla@collinjackson.com>, r=jst, sr=bzbarsky. 
Fixing build bustage 
Relanding bug 412679.  r+sr=dbaron 
Fix the test: off-domain subframes can no longer change the location of a non-toplevel parent frame, with the checkin for bug 408052. 
Need this change too. 
Put the script in a <script>! 
Fix bug 342954 by making sure to update our insertion point data when removing nodes from the DOM.  r=smaug, sr=sicking 
Adding crashtests. 
Bug 414306 - exthandler should set STATE_IS_(REQUEST|NETWORK) to conform with nsIWebProgressListener. r=biesi, sr=bzbarsky, b-ff3=beltzner for bug 405107 
Fixing bug 317240. Re-enabling caps optimization now that a documents principal never changes. r+sr=bzbarsky@mit.edu 
Reenable the test on non-Windows. 
Fix bug 406900 by doing a better job of unbinding XBL default content. r=smaug, sr=sicking 
Make the test work in embedding builds too.  Bug 414303, patch by Adam Barth <hk9565@gmail.com> and Collin Jackson <mozilla@collinjackson.com>, r+sr=bzbarsky. 
Speed up page zoom by skipping the unnecessary resize reflow when we tell the viewmanager about its new size, since we plan to go ahead and do a full dirty reflow right after that.  Bug 403660, patch by Daniel Brooks <db48x@yahoo.com>, r=bzbarsky, sr=roc 
Followup patch for bug 409888: make replace loads work more like they used to. r=biesi, sr=jst 
Don't wrap chrome objects in SJOWs if we don't have to. bug 414296, r=jst sr=bzbarsky 
Bug 414982 - "Use gcZeal setting in nsJSEnvironment, as we once did with WAY_TOO_MUCH_GC" [p=crowder@fiverocks.com (Brian Crowder) r+sr=bzbarsky a1.9=brendan a1.9b3=schrep] 
Don't invalidate the entire table just because we reflowed something inside it.  Bug 414298, r+sr+a=roc 
Bug 415078 - "nsWebShell.cpp attempts to fixup immutable URIs" [p=graememcc_firefox@graeme-online.co.uk (graememcc) r+sr=bzbarsky a1.9=schrep] 
Fix bug 416073: invalidate more things as needed during table reflow to prevent glitches.  r+sr=roc 
Fix serialization of currentColor for some properties.  b=414550  r+sr=bzbarsky  a=schrep 
Make changes in table-layout cause a reframe.  b=367375  r+sr=bzbarsky  a=schrep 
Make CSS namespace identifiers case sensitive to match change in spec.  b=416106  r+sr=bzbarsky  a=schrep 
Bug 414112. CSS 2.1 300px fallback width doesn't play nice with percentages. r=bzbarsky@mit.edu, sr=tor@acm.org, b1.9=mtschrep@gmail.com 
Make the minimum font size preference leave font-size:0 untouched.  b=401046  r+sr=bzbarsky  a=schrep 
Adding test 
Make this actually pass 
Bug 416622 - "docshell navigation tests intermittently failing with NS_ERROR_XPC_BAD_OP_ON_WN_PROTO" (Tolerate partially-constructed windows) [p=hk9565@gmail.com (Adam Barth) r=bzbarsky] 
Bug 401322 - "missing "Text Size" zoom feature, Full page zoom should be an option not replacement" [p=elmar.ludwig@uos.de (Elmar Ludwig) ui-r=beltzner r=gavin sr=bzbarsky a1.9=schrep] 
Make sure to not call ContentRemoved outside of an update.  Bug 415388, r+sr=jst, a=schrep 
Give the prefs stylesheet a .href.  Bug 416896, r+sr=dbaron, a=schrep 
Make sure to push a null float containing block for <mtd>.  Bug 399676, r+sr=roc 
Stop treating _new as a special window target.  No other browser does.  Bug 417067, r+sr=jst, a=beltzner 
Make sure to not set a negative computed width.  Bug 403576, r+sr=dbaron, a=beltzner 
Adding crashtest 
Make sure that changes to the "span" attribute on a colgroup actually work. Bug 404309, r=bernd, sr=dbaron, a=beltzner 
Change the nsICSSParser::Parse() API so that we don't hand out a stylesheet; require a stylesheet to be set before calling Parse().  Bug 404315, r+sr=dbaron, a=beltzner 
Allow JS 1.7 in XBL.  Bug 389322, r=brendan, sr=jst, a=brendan 
Fixing build bustage 
Adding test 
Fix handling of dynamic changes for advanced CSS selectors (and avoid the cost of doing so in the normal case).  b=401291, 75386, 98997, 229915, 404418 (blocking1.9+)  r+sr=bzbarsky  a=blocking1.9+ on 404418 
Fix handling of dynamic changes for advanced CSS selectors (and avoid the cost of doing so in the normal case).  b=401291, 75386, 98997, 229915, 404418 (blocking1.9+)  r+sr=bzbarsky  a=blocking1.9+ on 404418 
Adding test 
Treat backgrounds on body the same in XHTML as for HTML.  b=379461  r+sr=bzbarsky  a=schrep 
Don't parse "style" attributes in data documents unless someone asks for .style.  Bug 418214, r+sr=peterv, a=schrep 
Make sure that <frame>s don't fall through to nsLeafFrame sizing, unlike <iframe>s.  Bug 414322, r+sr=dbaron, a=schrep. 
Adding test 
Treat backgrounds on body the same in XHTML as for HTML.  b=379461  r+sr=bzbarsky  a=schrep 
Fix line numbering in JS components so it's not off by 1.  Bug 418491, r+sr+a=brendan 
Adding sanity tests. 
Bug 403574 - ""ASSERTION: Infinite loop! Calling EnsureScriptEnvironment() from within EnsureScriptEnvironment()!" with XBL, <frame>" [p=jst@mozilla.org (Johnny Stenback [jst]) r+sr=bzbarsky (DEBUG builds only)] 
Call cancel() if we can't show the helper app dialog, so we break cycles, avoid leaks, and don't continue doing the download.  b=417949  sr=bzbarsky  r=gavin.sharp  a=schrep 
Adding test. 
Adding one more test. 
expand the cellmap to cover empty content rows when rebuilding the cellmap bug 351326 r/sr=bzbarsky a=mtschrep 
Use width, not min-width, for empty selects.  Plays nicer with author styling. Bug 315296, r+sr=dbaron, a=beltzner 
Fixing bug 417852. Push the context we're using to clear scopes on to make code down the road find the right context. r=dveditz@cruzio.com, sr=bzbarsky@mit.edu 
Bug 416175. Don't leak nsHttpConnectionInfo in nsHttpConnectionMgr::AddTransactionToPipeline. Also instruments nsHttpConnectionInfo so we can easily find more leaks of that object in future. r+sr=bzbarsky 
Bug 197466 - "Back button (session history) has 50 entries regardless of setting in prefs.js" [p=zug_treno@yahoo.com r+sr=bzbarsky a1.9=damons] 
Bug 419080 - "build with undefined CSS_REPORT_PARSE_ERRORS broken" [p=romaxa@gmail.com (romaxa) r+sr=bzbarsky a1.9=beltzner] 
Bug 419147 - "MOZ_XUL define required for nsContentUtils::HidePopupsInDocument" [p=romaxa@gmail.com (romaxa) r+sr=bzbarsky a1.9=beltzner] 
Bug 417967. Align subframe drawing so that drawing at (0,0) relative to the root view's origin is aligned to a pixel boundary. r+sr=bzbarsky 
Bug 405952. Add scrollbar width to pref and min widths for overflow:scroll elements but for no other overflow values. r+sr=bzbarsky,dbaron,dholbert, a=beltzner 
Fixing bug 410946. Prevent plugins from being destroyed while there's code from those plugins on the stack. r+sr=bzbarsky@mit.edu, a=beltzner@mozilla.com 
Fix longstanding issue where anchor scrolls on a POST result page could lead to a silent re-POST during history traversal.  Bug 413310, r+sr=biesi, a=dsicore,beltzner,righteousness. 
Add the charset right after the type, before all other params, if there is no existing charset in the type.  Bug 413974, r=biesi, sr=sicking, a=beltzner 
Don't use the guaranteed-not-null getter when the presshell might be null.  No bug, r="obvious", a="asserts all over the place" 
Bug 408913. Do a proper fix for pixel-aligned drawing of IFRAME contents. The secret is make ViewToWidgetOffset return correct results for the root views of subdocuments. r+sr=bzbarsky 
Bug 420609 - "XMLHttpRequest no longer able to parse XHTML documents with entity references" [p=trev.moz@adblockplus.org (Wladimir Palant) r+sr=bzbarsky a1.9=sicking a=blocking1.9+] 
Don't leave an exception hanging on the JS context when we return ok.  Bug 418133, r=jst, sr=brendan, a=beltzner. 
Init the selected panel to the right value to prevent window size flicker.  Bug 405390, r=enn, a=beltzner 
Revert the change to RequiresBody.  In particular, an <input type="Hidden"> needs to not require it, for now...  Bug 418464, r+sr=mrbkap, a=jonas 
Bug 419111: unfrozen interfaces listed in SDK_XPIDLSRCS, r=kaie, sr=bzbarsky 
Fix greediness of A ~ B C selector matching.  b=420814  r+sr=bzbarsky  a=beltzner 
Bug 358599: Crash when closing tab [@ nsSHistory::EvictWindowContentViewers], r+sr=bzbarsky, a=shaver 
Give radio buttons and checkboxes a useful baseline, and switch checkboxes from text-bottom to baseline alignment (to match radios).  b=402940  r+sr=bzbarsky  a=blocking1.9+ 
Make sure to do saturating adds on possibly-unconstrained nscoords.  Bug 421404, r=dholbert, sr=roc, a=beltzner 
Fixing bug 393845. Crash with Windows Media Player 10 plugin when stopping plugin. r+sr=bzbarsky@mit.edu 
Add string needed if we implement :nth-*() pseudo-classes.  b=75375  r+sr=bzbarsky 
Bug 420285 Internationalize plugin tag and plugin host r=jst, sr=bzbarsky, b1.9=jst 
Fixing bug 415324. Don't change principals on documents during document.load() now that document principals must remain unchanged. r=jonas@sicking.cc, sr=bzbarsky@mit.edu 
Don't do floating point assignment from uninitialized data, since it can crash.  b=422011  r+sr=bzbarsky  a=damon 
Fixing bug 419846. Only let chrome documents load scripts from the fastload files. r=enndeakin@gmail.com, sr=bzbarsky@mit.edu 
Don't use fieldset pref widths as min widths, since pref widths can be unconstrained.  Incidentally makes it possible for text to legends to wrap if the page wants it to. Bug 404123 and bug 354502, r+sr=dbaron, a=beltzner. 
Fixing bug 414291. Make window.open() ignore modal=yes for backwards compatibility. r+sr=bzbarsky@mit.edu and jonas@sicking.cc 
Invalidate tables a little harder.  Bug 421632, r+sr=roc 
Comment fix 
Pass the right nodes to our boundary-check, and clean up some remaining DOM-api cruft.  Bug 414076 and bug 379280, patch in bug 414076, r+sr=sicking 
Show certificate error pages (instead of dialogs) in frames.  b=423247, p=kengert, r=rrelyea, r=bzbarsky, a=blocking-1.9 (ted) 
Fixing bug 395110. Give type attribute higher priority when deciding what plugin to use. r=jonas@sicking.cc, sr=bzbarsky@mit.edu 
Set the right url in the script and don't allow loading non-chrome scripts. Bug 418356, r+sr=jst 
Bug 423377. Change max-persistent-connections-per-server. r=bzbarsky, sr=brendan 
Finally kill off CheckSameOriginPrincipal, fix remaining callers to do the checks they really want to be doing.  Fix screw-up in nsPrincipal::Equals if one principal has a cert and the other does not.  Bug 418996, r=mrbkap,dveditz, sr=jst 
Remove method that no longer exists. 
Don't garbage-collect still-loading Image nodes until their onload/onerror has fired.  Bug 421602, r=stuart, sr=sicking 
bug 422118 crash reading malformed zip archives. r=biesi, sr=bzbarsky, a=schrep 
Don't use uninitialized variables.  Bug 414076 followup, patch by Ronny Perinke <ronny.perinke@gmx.de>, r+sr=bzbarsky 
bug 420425 restore frame targeting behavior for local file: apps, r=jst, sr=bzbarsky, blocking1.9+ 
Don't leave an exception just hangin' out on the JSContext.  Bug 422009, r+sr=jst, a=shaver 
Adding test 
Adding test dir 
Fix warning.  No reviews other than my attempt to get useful info from our compile-time output, which this hindered. 
Landing fix for bug 402983. Make security checks on file:// URIs symmetric. Patch by dveditz@cruzio.com, r=jonas@sicking.cc,bzbarsky@mit.edu. jst@mozilla.org 
Followup fix for bug 418356. Re-enable loading file:// URIs using the subscript loader. r+sr=bzbarsky@mit.edu 
Fixing orange from bug 402983. Make file:///foo and file:////foo#bar compare as equal URLs. r+sr=bzbarsky@mit.edu 
Hold strong ref to ourselves so we don't die while touching members.  Bug 421602 followup, r= and a= pending 
use the firstinflow when looking up rowgroups bug 424291 r/sr=bzbarsky a=mtschrep 
Treat <xul:script> more like <html:script>.  Bug 424188, r+sr=sicking, a=dsicore 
Fix bug 424212, r+sr=sicking, a=beltzner 
Adding test 
Landing followup fix for bug 402983 and re-enabling the new stricter file URI security policies. r+sr=bzbarsky@mit.edu 
Just drop loads of scripts that are not signed if the loading page is. Bug 424426, r+sr=jst, a=beltzner 
Bug 424066 - "CheckSameOriginURI reports spurious error during routine internal comparison" (make NS_ScriptErrorReporter not whine about inequal origin URLs when constructing exceptions) [p=shaver@mozilla.org (Mike Shaver) sr=bzbarsky a1.9b5=beltzner] 
Fixing bug 425013. Make Firefox show the plugin finder UI for unsupported object tags w/o alternate content. r+sr=bzbarsky@mit.edu 
lookup all columns for possible originating cells, bug 423514 r/sr=bzbarsky a=mtschrep 
Fixing bug 393756. Get the plugin mimetype from the file extension in the URI if no other type information is available. r+sr=bzbarsky@mit.edu 
Fix bug 421228.  r+sr=sicking 
Invalidate things correctly when the caption or inner table is resized.  Bug 424465, r=bernd, sr=roc 
Bug 408955. UpdateViewAfterScroll shouldn't just bail out for content in popups. Instead we should do the invalidation but limit it to the correct displayRoot. r+sr=bzbarsky 
Fix a mistake in the fix for bug 363986 that was causing writes to the wrong part of memory.  Patch and tests by Fredrik Larsson <nossralf@gmail.com>, r=stuart, sr=bzbarsky. 
Invalidate the original overflow rect too when the frame moves.  Bug 424766, r+sr=roc 
Ignore a non-existent CSS file instead of causing a parse error (YSOD). b=418391 r+sr=bzbarsky a1.9=mtschrep 
initialize all border parameters so that the border is initialized even for empty rowgroups bug 424434 r/sr=bzbarsky a=mtschrep 
lookup all columns for possible originating cells, bug 426706 r/sr=bzbarsky a=beltzner 
Bug 411854 directory list should use localized ellipsis p=Masahiro Yamada<masa141421356@gmail.com> r=bzbarsky a1.9=beltzner 
Bug 423371. Make sure we use a non-null reference frame to compute the size of the element in GetOffsetRect. r+sr=bzbarsky,a=beltzner 
bug 428288 chrome crash in nsDocShell::ValidateOrigin, problem found by timeless, r/sr=bzbarsky, a=beltzner 
bug 292789 prevent use of chrome: URIs from <script>, <img> stylesheets, etc except for chrome packages explicitly marked contentaccessible. r=bzbarsky, sr=jst, a=beltzner 
Bug 421828: about:cache hexdump does not truncate buffer, overwrites counter, patch by Jan Darmochwal <jdarmochwal@gmx.de>, r=biesi, sr=bzbarsky, a=schrep 
Bug 421067: 'Try Again' after a DNS error sometimes loads previous page, not the one that failed to load, patch by Michal Novotny <michal@allpeers.com>, r+sr=bzbarsky, a=schrep 
Allow a signed jar to load scripts which are at least as privileged as the jar.  Bug 428873, r+sr=jst, a=beltzner 
display:block legends should still shrink-wrap.  Bug 428423, tests by dholbert, r=dholbert, sr=dbaron, a=beltzner 
Bug 411433: properly handle file location URL in directory listings, patch by Masahiro Yamada <masa141421356@gmail.com>, r=biesi, sr=bzbarsky, a=damon 
Bug 429315. Don't reparent toplevel widgets when we reparent a view subtree; they should remain toplevel. r+sr=bzbarsky,a=beltzner 
Bug 429315. Relanding. Don't reparent widgets that are supposed to be toplevel. r+sr=bzbarsky,a=beltzner 
Don't try to include the selection area in our text-decoration overflow if we're not selected.  Bug 429595, r+sr=roc, a=beltzner 
Bug 430412. Don't bother showing a scrollbar if there's less than one device pixel to scroll into view. r+sr=bzbarsky,a=beltzner 
Don't report bogus errors when DOMParser is used from chrome.  Bug 429785, r+sr=sicking, a=dsicore 
Fixing bug 431280. Sniff the URI file extension for a mimetype to use if the one given in an embed elements type attribute isn't a supported type. r+sr=bzbarsky@mit.edu, a=dsicore@mozilla.com 
Fix bug 431833: fire DOMFrameContentLoaded on the immediate parent document of the frame. r=bent, sr=sicking, a=beltzner 
Adding test. 
Fixing bug 430802 (and bug 405357). Prevent plugin instantiation code re-entrancy. r=jwatt@jwatt.org, sr=bzbarsky@mit.edu, a=beltzner 
Bug 431703 - "Crash [@ nsXMLContentSink::HandleEndElement] setting innerHTML with SVG, onload" (null check) [p=longsonr@gmail.com (Robert Longson) r+sr=bzbarsky a1.9=beltzner] 
Bug 433727. Make DocumentViewerImpl::GetFullZoom work when there's no presentation. r+sr=bzbarsky,a=beltzner 
Propagate the linking page's principal when a file:// URI links to a file:// URI that it's allowed to read.  Bug 435362, r=dveditz, sr=sicking, a=shaver 
Rename nsAtomStringList to nsPseudoClassList, since that's what it's for, and we want to make it more than just atoms and strings.  Also remove an unused constructor.  b=75375  r+sr=bzbarsky 
Make nsPseudoClassList capable of storing integer pairs for :nth-*().  b=75375  r+sr=bzbarsky 
Implement :nth-child(), :nth-last-child(), :nth-of-type(), :nth-last-of-type().  b=75375  r+sr=bzbarsky 
Implement :first-of-type, :last-of-type, and :only-of-type.  b=128585  r+sr=bzbarsky 
Allow the initial value of -moz-user-select to be specified with 'auto'.  b=432888  r+sr=bzbarsky 
Remove no-longer-needed else clauses, and make the *IsExact members DEBUG-only.  b=419076  r+sr=bzbarsky 
Don't call SelectorMatches on document fragments.  (Bug 437170)  r+sr=bzbarsky 
Don't call SelectorMatches on document fragments (test).  (Bug 437170)  r+sr=bzbarsky 
Don't restyle slow selectors for changes to native anonymous content.  (Bug 436453)  r+sr=bzbarsky 
Count U+000C as a whitespace character for separating class attributes.  (Bug 437915)  r=bzbarsky  sr=sicking 
Bug 441876: remove UTF-7 option from browser Character Encoding menus, r=smontagu, sr=bzbarsky 
Annotate the out param with [shared] and add a comment about it. b=434429 r+sr=bzbarsky 
Bug 439164: refactor test_bug413310 to avoid intermittent timing-related failures 
fix typo in previous push (bug 439164) 
during the iteration.  Bug 429744, r+sr=jst 
disconnected fragments.  Bug 422868, r+sr=dbaron 
Make sure to not call Pushback(-1) on EOF error conditions.  Bug 422868, r+sr=dbaron 
Bug 433374.  Fix bogus assert.  r+sr=dbaron 
Bug 431770.  Make sure to start/end a frame constructor update when reconstructing frames.  r+sr=dbaron 
Bug 444838.  Correctly stringify all tokens instead of asserting on some.  r+sr=dbaron 
Bug 442629 - "Ignore mailcap entries with needsterminal" [p=mh+mozilla@glandium.org (Mike Hommey) r=bzbarsky] 
Bug 440840 - "mailcap handling may fail due to race conditions between thread waiting and system()" [p=mh+mozilla@glandium.org (Mike Hommey) r+sr=bzbarsky] 
Bug 441169 - [r=bzbarsky sr=dveditz] 
Avoid stack overflow by not using recursion to add the important rules.  (Bug 439184.)  r=fantasai  sr=bzbarsky 
Replace nsRuleList with a next sibling pointer on the rule node itself (saving one word in the normal linked list case, and wasting one in the hash table case).  (Bug 439184.)  r+sr=bzbarsky 
Make rule node children destruction happen in a queue from the root rule node (or root of the subtree being destroyed) rather than using recursion.  (Bug 439184.)  r+sr=bzbarsky 
Avoid stack overflow by not using recursion to add the important rules.  (Bug 439184.)  r+sr=bzbarsky 
Bug 430424: Remove no longer needed code that munges "type" attributes in the DOM.  r+sr=jst 
Ensure that we call WillBuildModel. bug 420008, r+sr=bzbarsky 
limit mathml row- and colspans as we do for html bug 443089 r/sr=bzbarsky 
Enable bug 442629 test. r=bzbarsky 
Bug 444824.  Remove useless assignment.  r+sr=peterv 
Bug 430352.  Use the same border throughout.  r+sr=roc 
Make sure Destroy() is called before an nsIWidget is destroyed. b=434089 r=bzbarsky sr=vladimir 
But 444823.  Improve comments.  r+sr=sicking 
Bug 424698.  Don't treat it as a value set if a text input with a default value has its frame go away.  r+sr=sicking 
Bug 424698.  Don't treat it as a value set if a text input with a default value has its frame go away.  r+sr=sicking 
Bug 424698.  Don't treat it as a value set if a text input with a default value has its frame go away.  r+sr=sicking 
Bug 416317.  Implement querySelector(All) API.  r=dbaron, sr=jst 
Fix build bustage 
Fix test bustage 
Bug 416317 changing test message to unconfuse tinderbox 
Change the binding parent for native anonymous content to work like the binding parent for XBL anonymous content, and be the parent of the anonymous content subtree rather than the root of the anonymous content subtree.  (Bug 436453)  r=bzbarsky,smaug,surkov  sr=bzbarsky 
Don't restyle slow selectors for changes to anonymous content (non-native-anonymous).  (Bug 436453)  r+sr=bzbarsky 
Bug 418756.  When inserting a radio, default its "checked changed" state to its existing "checked changed" state.  r+sr=sicking 
Oh, and add this file 
A few more tests 
Don't do special parsing for media lists in HTML: match parentheses, even across commas, and allow media queries through.  (Bug 156716)  r+sr=bzbarsky 
Make ParsePositiveVariant restrict integers too, which affects existing call for -moz-column-count.  (Bug 156716)  r=bzbarsky sr=roc 
Implement Media Queries.  (Bug 156716)  r+sr=bzbarsky 
Implement Media Queries, part 2: infrastructure for dynamic change handling at the rule cascade and style sheet level.  (Bug 156716)  r+sr=bzbarsky 
Remove pointless null checks that are extremely unlikely to fail.  (Bug 156716)  r+sr=bzbarsky 
Implement media queries, part 3: infrastructure for dynamic change handling at the rule processor and style set level.  (Bug 156716)  r+sr=bzbarsky 
Implement Media Queries, part 4: infrastructure for dynamic change handling at the pres context level.  (Bug 156716)  r+sr=bzbarsky 
When propagating flushes up to the parent document, promote style flushes into layout flushes, since media queries mean that to get the correct style we need our container to be the correct size.  (Bug 156716)  r+sr=bzbarsky 
Tests for css3-mediaqueries.  (Bug 156716)  r+sr=bzbarsky 
Fold DoParseMediaList into ParseMediaList, since it is no longer necessary now that we don't do special parsing for media lists in HTML.  (Bug 156716)  r+sr=bzbarsky 
Handle effects of medium feature changes on XBL style sheets.  (Bug 156716)  r+sr=bzbarsky 
Fix a bunch of issues relating to dynamic changes of border images.  (Bug 445810)  r=robarnold  sr=bzbarsky 
Bug 437361.  Propagate exceptions from showModalDialog's guts to script as needed instead of dropping them on the floor.  r+sr=bzbarsky 
Bug 293834.  Save As, Complete should save form input state.  r=bzbarsky, sr=sicking 
Bug 434522.  Make the "Permission denied to access Class.property" mesage more useful.  r+sr=jst 
Bug 430356.  Don't return negative pref and min intrinsic widths for XUL boxes/  r+sr=dbaron 
Bug 431520.  Don't do first-line styling on fieldsets, because it confuses the legend code, and it's not clear what it should even do.  r+sr=dbaron 
Bug 437723.  Make sure to look at the nested innermost URI when looking for the origin.  r+sr=sicking 
Bug 434522 follow-up bustage fix. 
Bug 431520 followup.  Actually return a value! 
Bug 448445.  Fix crash when there is no original node and no fixup.  r+sr=bzbarsky 
Adding more tests to figure out where the test timeout is happening 
Bug 448572 followup.  Remove the gNavigatorBundle here. 
Bug 448161.  Don't crash when getting computed style for a link that's not in the document 
Bug 426273.  Make sure to clear out bogus Content-Disposition values before checking whether we can handle the 206 response.  r+sr=biesi 
p=sgautherie r/sr=bzbarsky 
make sure that we initialize the BCDamageArea bug 351068 r/sr=bzbarsky 
Label types of nsStyleCoord and nsStyleSides.  b=443057  r+sr=bzbarsky 
Make scrollbars not be reflow roots anymore, since they don't obey all the invariants needed.  (Bug 366791)  r+sr=bzbarsky 
Merge Quotes and CounterData storage types into ValuePairList.  (Bug 322475)  r+sr=bzbarsky 
Adding test 
bug 445101 - rendering does not change if systemLanguage attribute changes r=jwatt,sr=bzbarsky 
Only rebuild rule cascades on medium feature change if they've already been built before.  (Bug 448281)  r+sr=bzbarsky 
Assert when we set the quirk style sheet after building rule cascades.  (Bug 448281)  r+sr=bzbarsky 
Don't printf CSS errors to standard output.  (Bug 449429)  r+sr=bzbarsky 
Bug 431701.  Fix our inputEncoding handling to comply with the DOM spec, and fix XHR of a in-memory-only document to follow the XHR spec and send it as UTF-8.  r+sr=sicking 
Bug 416845.  Use the right x position when distributing height to rows. r=bernd, sr=bzbarsky 
Bug 416845 tests 
Mark one of the border-image tests as failing on Mac OS X 10.4.  (Bug 448121)  r+sr=bzbarsky 
Bug 449422.  Assert early and hopefully not often when table-row frames have the wrong display type.  r=bernd, sr=roc 
Bug 121341.  Switch nsPersistentProperties::Load from reading a char at a time to reading a block at a time, with a state-machine parser and all. r=bsmedberg, sr=bzbarsky 
Bug 449168. Fix selection details leak.  r=masayuki, sr=roc 
Bug 113934.  Backend and some minimal front end for dragging tabs between windows.  r=gavin, r+sr=jst 
Adding test 
Bug 444931.  prevent network load of an img with the same URL as the HTML document that included it in order to prevent aborting the HTTP load early and losing the persistent connection.  r+sr=bzbarsky 
Bug 210094.  Make min-height and max-height work on fieldset.  r+sr=dbaron 
Forgot to take out the style 
Adding missing space 
Bug 113934.  Backend and some minimal front end for dragging tabs between windows.  r=gavin, r+sr=jst 
Create implicit XPCNativeWrappers in fewer situations. bug 441087, r=jst sr=bzbarsky 
Fixing bug 445520. Make sure plugin instantiation attempts that happen before a plugin frame has been reflown re-instantiates the plugin so that updates to the plugin src etc actually do happen in those cases as well. r=cbiesinger@gmail.com, sr=bzbarsky@mit.edu 
Bug 238072. Make generated content take the normal frame construction path. Relanding with changes so that counter and quote nodes are initialized after their frames are available, more like the old code. r+sr=dbaron,bzbarsky 
Bug 265534.  Take some string constructors out of line to reduce codesize.  r=bsmedberg, sr=dbaron 
Bug 432813.  Fix another infinite-recursion issue in XBL.  r+sr=bzbarsky 
Bug 432813.  Fix another infinite-recursion issue in XBL.  r+sr=bzbarsky 
Bug 449447.  Reuse the caching GetNthIndex for first/last/onlyChild selectors 
Bug 434163.  Make sure to not let our hashtable mutate while we're iterating it.  r+sr=jst 
Bug 449781.  Toggling display on a subframe shouldn't give the subframe's document the same device context as the parent document.  r=roc, sr=jst 
Bug 379034 - Relative URLs with capitalized schemes are treated as absolute, r=biesi sr=bzbarsky 
bug 449712 - Handle trailing carriage returns at the end of parser text tokens. r+sr=mrbkap 
bug 449712 - Deal with a carriage return at our 4096 character boundary. r+sr=bzbarsky 
bug 448587 - Allow getting the 'prototype' property through SJOWs. r=jst sr=bzbarsky 
Bug 451168 - "Borders around folder icons in directory listings (e.g. when viewing FTP sites)" [r+sr=bzbarsky] 
Bug 449362 - "Table border is rendered incorrectly when the table cell size changes due to javascript." [r+sr=roc] 
remove obsolete assert and comment bug 430374 r/sr=bzbarsky 
Backed out changeset 6958399a2eb1 o try to fix failed mochitests on Windows and Linux 
merge backout 
Bug 113934 tests 
Bug 293834 test.  r=bzbarsky 
Bug 430155.  New nsHttpChannel interface to allow examination of HTTP data before it is passed to the channel's creator.  r=biesi, sr=bzbarsky 
Bug 451123.  Make sure to not call SetValueInternal on file inputs.  r+sr=sicking 
Fixing strict warning; no bug 
Bug 447917 followup: remove duplicate friend decl. 
Bug 424238.  Make sure to guard against mutations happening while we notify on opening the <body> and <frameset> tags, just like we do in FlushTags.  r+sr=sicking 
Bug 448166 test 
Back out bug 333177 "fix", since it would break searching across &shy; 
Bug 452086.  Shouldn't send keypress events with default action when keydown was prevented in the test harness, since the browser doesn't do it.  r=enn 
Bug 452086.  Shouldn't send keypress events with default action when keydown was prevented in the test harness, since the browser doesn't do it.  r=enn 
Bug 449233.  Assert when decrementing the jsdhash/pldhash recursion level past 0.  r=dbaron,brendan, sr=dbaron 
Bug 452164.  Make nsIWindowProvider scriptable.  r+sr=jst 
imported patch bug431701 
Bug 447579.  Be a little more careful about inheriting principals for file URIs.  r=dveditz, sr=jst 
Adding test for bug 227263 and bug 196523 
Fix orange caused by bug 407216 
r=bzbarsky 
Bug 453105 -  Error: setting a property that has only a getter on cars.com (r+sr=bzbarsky) 
Tests for bug 453105 (r+sr=bzbarsky) 
Bug 376662. Make nsIFrame::GetOffsetTo not explicitly use views. r+sr=bzbarsky 
Bug 439206.  Make sure to not skip over the next char after the high surrogate when we have a missing low surrogate.  r+sr=jst 
Merging to fix bug# mistake.  The correct one is 430061 
Backed out changeset aaecc637558e 
Merging backout 
Make sure we have a pres context. b=453278 r+sr=bzbarsky 
Make spacer attribute mapping code not depend on data in the style context (which attribute mapping code should not do).  (Bug 449435)  r+sr=bzbarsky 
Bug 453307 -  Building without XUL failed. r=bzbarsky. 
Bug 451053.  Move nsMutationGuard into a shared location and use it to assert some invariants.  r+sr=sicking 
Bug 394416.  Feed sniffing should apply to fewer MIME types.  r=sayrer 
Fixing test to match new reality 
Fixing second part of bug 453571. Use more [optional] idl arguments, and less nsAXPCNativeCallContext. r+sr=bzbarsky@mit.edu 
Bug 452238.  Remove unused imports collection code.  r+sr=dbaron 
Bug 443769.  Fix operator precedence snafu.  r+sr=dbaron 
Bug 453702.  Don't try to convert |length| to a number for various array-like class resolve hooks. 
Bug 376662. Convert nsIFrame::GetOffsetTo to not use views. We need to ensure that for popups and scrollframes, views and frames are kept in sync at *all* times. Also fixes bugs in tests for NS_FRAME_NO_MOVE_FRAME. r+sr=bzbarsky 
Update to new parsing rules for grid media query per http://lists.w3.org/Archives/Public/www-style/2008Aug/0191.html .  (Bug 453759)  r+sr=bzbarsky 
Make min-/max- prefixed media features without values be parse errors, per http://lists.w3.org/Archives/Public/www-style/2008Sep/0002.html .  (Bug 453759)  r+sr=bzbarsky 
Change evaluation of media queries like (width) where actual values are lengths; treat zero lengths as false in such cases, per http://lists.w3.org/Archives/Public/www-style/2008Aug/0190.html and spec clarification.  (Bug 453759)  r+sr=bzbarsky 
Bug 406787 - Empty index shown after ftp error if you hit return in the URL Bar; r+sr=bzbarsky 
Bug 408138 - File URL incorrect when file path is not in filesystem encoding; r=cbiesinger sr=bzbarsky 
Bug 453406.  Make sure to properly update our bits.  r+sr=jst 
Bug 436990.  Make sure to remove already-fired timers from our refresh URI list.  r+sr=jst 
Flush view manager's delayed resize when flushing layout.  (Bug 453896)  r+sr=bzbarsky 
Bug 183348.  Fix cloning of sheets with @import rules.  Also fixes bug 290018, bug 436261, bug 444723, bug 445415.  r+sr=dbaron 
Bug 183348 followup: rename the args in the header too. 
Fix build bustage: parent or proto might be not JSObject* when setting to null.  r=brendan 
Fixing orange.  Bug 183348 
One more part of bug 453571. Use [optional] for the optional arguments for window.open() and friends. r+sr=bzbarsky@mit.edu 
Bug 396519.  Encapsulate content viewer eviction in session history.  r+sr=bzbarsky 
Bug 454411.  Fix caching of redirects to actually work.  r+sr=biesi 
Bug 449171.  Fix bogus assertion.  r+sr=dbaron 
Removing stray '+' 
Bug 451605.  Make sure to properly restore the thisp for the innermost frame when taking a nested side exit with a callDepth > 0.  r=brendan,gal 
Removing shark think which landed by accident 
Bug 453858.  Get rid of some XPCOM-ness in nsArraySH::GetItemAt.  r+sr=jst 
Bug 453496.  Split up SetForm() into SetForm and ClearForm and rationalize the args.  r+sr=jst 
Bug 454317.  Improve GetClasses to not do virtual calls when not needed.  r=smaug, sr=jst 
Bug 454394.  Speed up the copying code when using a single-byte buffer in the textfragment.  r+sr=jst 
Bug 389394.  Fix FTP upload of small files to properly report failures.  r+sr=bzbarsky 
Fixing typo leading to build bustage.  Bug 453496 
Bug 453858 followup to fix orange.  Hurray for tests! 
Removing code that can't possibly work.  Bug 453858 
Still need this cast.  Bug 453858 
Missing * bad.  Bug 453858 
Bug 454280.  Improve content list performance.  r+sr=sicking 
Add some logging to make things easier to debug 
Backing out changeset 1bbcf1a4dc5a and changeset 1bbcf1a4dc5a to attempt to fix orange 
Bug 454280 relanding, now with orangeness fixed 
Convert outline offset storage from nsStyleCoord to nscoord.  (Bug 443057)  r+sr=bzbarsky 
Convert border spacing storage from nsStyleCoord to nscoord.  (Bug 443057)  r+sr=bzbarsky 
Convert text-shadow and box-shadow storage from nsStyleCoord to nscoord.  (Bug 443057)  r+sr=bzbarsky 
Use consistent terms in comments describing nsStyleCoord values (length -> coord).  (Bug 443057)  r+sr=bzbarsky 
Ensure we always skip to the next close parenthesis if a media query expression parse fails.  (Bug 454227)  r+sr=bzbarsky 
Bug 454798 - Add a type conversion from PRUnichar* to jschar*; r+sr=bzbarsky 
Bug 454820. r=smaug sr=bzbarsky 
Bug 455598 - nsICookieManager2.cookieExists incorrectly assumes a nsCookie param; r=dwitte sr=bzbarsky 
Bug 455665 -  nsSplitterFrameInner crashes in some special case. r+sr=bzbarsky. 
Adding test 
Bug 455598 - nsICookieManager2.cookieExists incorrectly assumes a nsCookie param; test; r=dwitte sr=bzbarsky 
Bug 455226 - Removing the xlink:href attribute of an feImage filter does not cause it to change; r+sr=bzbarsky 
Bug 432813 followup fix, r+sr=bzbarsky 
Adding some documentation 
Adding some comments 
Adding test for bug 451605 
Adding missing file 
Backed out changeset c0364f5e0a84 
Bug 456369.  Checking of JIT stats should not loop.  r=brendan 
Bug 389034 - JS_SetProperty() ends up resolving w/o JSRESOLVE_ASSIGNING (r=brendan, sr=bzbarsky) 
Bug 454029.  Don't assert bogus things. r+sr=sicking 
Bug 456008.  Make sure to not claim nodes are created via parser in the XML fragment sink, just like the HTML fragment sink doesn't claim it.  r+sr=jst 
Bug 456896.  Need to flush here.  r+sr=jst 
Bug 455451.  Don't notify from inside frame construction.  r+sr=jst 
Bug 355567.  Handle disk cache collisions by refusing to open a cache entry instead of by sometimes clobbering the content in the existing entry.  r+sr=bzbarsky 
Bug 453858 followup - quiet console warnings in nsDOMClassInfo.cpp. r+sr=bzbarsky 
use the right method to insert more than one frame, bug 456041 r/sr=bzbarsky 
r+sr=bzbarsky 
Bug 396519. Encapsulate content viewer eviction in session history. r+sr=bzbarsky 
Bug 433616 part 1.  Make it possible to create a document viewer with no parent widget or container, and make various code saner about handling null document/prescontext/documentviewer containers.  r=roc, sr=jst 
Bug 433616 part 2.  Implement loading of external resource documents.  r=jst, sr=roc 
Bug 433616 part 3.  Integration of externa resource documents into nsReferencedElement, plus some SVG fixups needed to handle nsReferencedElement returning an element from a different document, r+sr=roc 
Bug 433616 tests.  r+sr=roc 
Bug 433616.  Fix the XML parser's bailing out on CSS loads blocked by the security manager, fix a base URI bug in <svg:use>, add some more tests.  r=jst, sr=roc 
Bug 398289 - persist="selectedIndex" no longer working for tabbox elements; v2; r=bzbarsky 
Bug 361401 - nsAppleFileDecoder assumes big-endian platform, effectively corrupts AppleDouble thunderbird mail attachments; r+sr=bzbarsky 
Backing out changesets 2ea77fa990af, 7d2d8869e73c, 93441e4f521e, 43d2ee100f3b, a2d84821ea71 to see whether they're causing the Windows Txul or Mac Tp regressions 
Bug 433616 part 1.  Make it possible to create a document viewer with no parent widget or container, and make various code saner about handling null document/prescontext/documentviewer containers.  r=roc, sr=jst 
Backing our changeset 60fc5f224a5b to try to fix Mac Tp 
Adding some tests 
Bug 457050.  Don't mess up our background load flag.  r+sr=biesi 
Bug 373701.  Make sure to properly cancel multipart image loads when they need canceling.  r=joedrew, sr=biesi 
Bug 455311.  Treat .url files as redirects.  r+sr=biesi 
r+sr=bzbarsky 
Bug 456165 part 1.  Get rid of icky JS_LL macros, r=brendan 
Bug 456370.  Flush the fragment cache earlier on global shape mismatch.  r=gal 
Bug 456165 part 2.  Trace Date.now. r=gal 
Bug 365133 - "The FTP folder won't open!" [r=bzbarsky sr=dougt] 
Bug 412945 - "Malformed POST requests generated when using elance.com" [r=biesi sr=bzbarsky] 
Bug 429347 - "URL parser gets confused by ref with no path" [r=bzbarsky sr=cbiesinger] 
Backing out changeset afcc5aa0fb07 to see effect on the Windows Txul 
Backed out changeset d07aa0d0712a: Relanding: Bug 373701.  Make sure to properly cancel multipart image loads when they need canceling.  r=joedrew, sr=biesi 
Backing out changeset ec3a3468d1b9 to see whether it's responsible for the Txul regression 
Backed out changeset 4e7a2d27d636: relanding Bug 433616 part 2. Implement loading of external resource documents. r=jst, sr=roc 
Bug 454324:  Handle error from SelectNode to fix crash when selection-less items are dragged (including, recently, tabs).  r+sr=bzbarsky 
Bug 433616 part 3.  Integration of externa resource documents into nsReferencedElement, plus some SVG fixups needed to handle nsReferencedElement returning an element from a different document, r+sr=roc 
Bug 433616 tests.  r+sr=roc 
Bug 433616.  Fix the XML parser's bailing out on CSS loads blocked by the security manager, fix a base URI bug in <svg:use>, add some more tests.  r=jst, sr=roc 
Back out changeset a8eb5fc88c01: relanding bug 455311.  Treat .url files as redirects.  r+sr=biesi 
Bug 455540.  Eliminate the non-OOM-failures-possible version of GetNodInfo.  r+sr=jst 
Bug 452969.  Drop native theming for controls that inherit user-specified values.  r+sr=dbaron 
Bug 456484.  Kids of an inline-block that has overflow:'something other than visible' should not necessarily shrink-wrap.  r+sr=roc 
Bug 452964.  Don't flag pseudo-frames wrapping generated content as themselves being generated content, since they might be shared with non-generated content.  r+sr=roc. 
Bug 456617.  Refactor some ugly code to only live in one spot.  r+sr=jst 
Bug 458100.  Make sure that we'll also instantiate the plug-in even if the nsPluginDocument has no presshell yet at OnStartRequest time.  Thanks to Evgeny <evg.salmin@gmail.com> for pointing out the problem.  r+sr=jst 
Fixing build warnings due to us null-checking a pointer that's never null.  No bug. 
Fix warnings about CascadeSheetRulesInto being declared but not defined.  (Bug 458813)  r+sr=bzbarsky 
Fix warnings about breaking strict aliasing rules by making mChildren a union.  (Bug 458813)  r+sr=bzbarsky 
Add a flags table for CSS properties.  (Bug 160403)  r+sr=bzbarsky 
Add CSS_PROPERTY_DIRECTIONAL_SOURCE property flag.  (Bug 160403)  r+sr=bzbarsky 
Handle serialization of inherit and -moz-initial for shorthand properties correctly, and refuse to serialize most unspecifiable cases of shorthands.  (Bug 160403)  r+sr=bzbarsky 
Bug 456980.  Make it possible to swap chrome docshells as well, if there is no session history involved.  Can be used for sidebars and such.  r+sr=jst 
Bug 454850.  Make sure that whenever nsPrincipal::Equals would return true for a pair of principals their nsPrincipal::GetHashValue returns are also equal.  r+sr=bzbarsky 
Bug 457299 - nsScriptSecurityManager doesn't suspend the request on the current context when it starts using the safe context. r+sr=bzbarsky 
Bug 435558 - Certificate error page not displayed while using proxy on 'localhost'; r=cbiesinger sr=bzbarsky 
Bug 450990.  Kill off EnsureContentsGenerated.  r=peterv, sr=bzbarsky, sicking helped write the patch 
But 427779.  Make the XML parser not bail out on invalid URI in <xhtml:base>.  r+sr=sicking 
Bug 440595.  Report the right line number in the onerror handler even if not reporting the whole error.  r=jonas, sr=jst 
Bug 458637.  Make sure to properly flag the XSLT result document as not being ready for layout until we StartLayout.  r+sr=sicking 
Fixing build bustage 
Adding test for bug 427779 
Bug 450990.  Address review comments too 
Bug 450990.  Build bustage fix 
Backing out bug 450990 to try to fix leaks 
Construct all our image loaders when we create frames so that we can allow arbitrary numbers of image loaders per frame (for multiple background images).  (Bug 322475)  r+sr=bzbarsky 
Rename nsImageLoader to nsImageLoadNotifier, since it doesn't actually load images.  (Bug 322475)  r+sr=bzbarsky 
Fix issues with parsing of media query lists that have bad queries in them.  (Bug 454226)  r+sr=bzbarsky 
Fixing bug due to missing parentheses.  Bug 344258 followup, no bug. 
Bug 448564.  Better handling of sink context switches.  r=mrbkap, sr=bzbarsky 
Bug 458883, r+sr=bzbarsky 
Backing out changeset 43d8e57c41e9 
Adding mandelbrot to trace-test 
Bug 456165.  Trace |new Date()|.  r=brendan 
Adding a few more comments 
Adding some documentation 
Fixing docs a bit 
Bug 459424.  Don't pass null documents to the enumerator.  r+sr=roc 
Bug 208312.  Cache DNS failure responses, not just successful lookups.  r+sr=bzbarsky 
Make sure DidSetStyleContext methods call the base class DidSetStyleContext, and change the signature to return void.  (Bug 459649)  r+sr=bzbarsky 
Bug 455633 - Protect against the weird Sandbox global object case when creating XPCNativeWrappers. r+sr=bzbarsky 
Relanding bug 459424 (backing out backout changeset 530f1077cae4).  Don't pass null documents to the enumerator.  r+sr=roc. 
Unset the zoom, because apparently it can leak out to other mochitests 
Bug 251475.  Make sure channels don't return null for the originalURI.  Initial work by Daniel Kraft <domob@daniel-kraft.net> and Brandon Ferguson <bnferguson@gmail.com>.  r+sr=bzbarsky. 
Bug 458381.  The empty string should represent the null namespace even for the default @namespace rule (no prefix case).  r+sr=dbaron 
No need to have virtual methods on nsCSSStyleSheetInner.  There's only one such class.  r+sr=dbaron 
Bug 442542.  Make sure to reflow our possibly-size-dependent abs pos kids on the followup reflow that happens if clearance is discovered. r+sr=roc 
Bug 449219.  Don't flush out textnodes unconditionally in the XML sink on packet boundaries.  Instead, do smart coalescing like the HTML sink does.  Also, always coalesce everything when doing XSLT.  r+sr=sicking 
Bug 460124.  Remove no-longer-needed code, since now we calculate hash values for nsPrincipals in a sane way.  r+sr=bzbarsky 
Make this test pass in profiles where the default charset is not ISO-8859-1 
Bug 424359. Fix OutputBodyOnly to not output a stray </html> and fix newline stuff for doctypes, comments, and the entire XML serializer.  Now with passing tests.  r=smaug, sr=bzbarsky 
Bug 458588 - remove uses of -moz-outline* and drop the aliases afterwards; m-c part; r=(gavin.sharp + myk) sr=bzbarsky 
Bug 424733.  Be a little more careful with certificate principals.  r+sr=sicking 
Subtract the row index from the row count, not the col count. b=284852 r=bernd sr=bzbarsky 
Bug 248970 - Private Browsing mode (global toggle for saving/caching everything) [nsIPrivateBrowsingService interface]; r,sr=bzbarsky 
Bug 248970 - Private Browsing mode (global toggle for saving/caching everything) [cookie part]; r=dwitte,mconnor sr=bzbarsky 
Remove additional chunk of code that should have been removed in bug 238072.  (Bug 460029)  r+sr=bzbarsky 
Fix failure to propagate aInherited result of nsRuleNode::CalcLength.  (Bug 460440)  r=kschwarz  sr=bzbarsky 
Bug 460664.  Reset prop inheritance should skip first-line even if the whole struct is inheriting.  r+sr=dbaron 
Bug 460665.  Whack another XBL sink mole.  r+sr=sicking 
Fixing test 
Bug 460323.  Do a better job of maintaining our invariants.  r+sr=peterv 
Bug 455327 - geolocation - support timeout position option. r=Olli.Pettay sr=bzbarsky 
Bug 248970 - Private Browsing mode (global toggle for saving/caching everything) [a fix to the cookie part]; r=dwitte sr=bzbarsky 
Add a preference for visited link support.  (Bug 147777)  r+sr=bzbarsky 
Bug 460240. Need to repaint the overflow area if the overflow area changes, the frame has effects/outline/box-shadow, and the frame size has not changed. r+sr=bzbarsky 
Remove bogus assertion and comment 
Bug 460803.  Start layout more like the content sinks do.  r+sr=sicking 
Bug 424359. Fix OutputBodyOnly to not output a stray </html> and fix newline stuff for doctypes, comments, and the entire XML serializer. Now with even better passing tests.  Third time is the charm! r=smaug, sr=bzbarsky 
Bug 424359. Fix OutputBodyOnly to not output a stray </html> and fix newline stuff for doctypes, comments, and the entire XML serializer. Now with even better passing tests.  Third time is the charm! r=smaug, sr=bzbarsky 
Bug 424847.  Clamp mousewheel text zoom to min/max percentages at zoom time.  r+sr=bzbarsky. 
Bug 455311.  Better handling of Cancel and IsPending() on nsBaseChannel redirects, plus unit tests.  r+sr=biesi 
Fixing indent 
Pass the right thing to InternalLoad here.  It happened to work before, but let's not depend on that.  No bug, r+sr=biesi 
Fixing test to actually pass on Mac 
Bug 396851 - Check to see if we're UniversalXPConnect-enabled to allow privileged web pages to unwrap XOWs. r+sr=bzbarsky 
Removing stray trailing ';' 
Bug 455311.  Better handling of a successful redirect.  r+sr=biesi pending 
Moving closing paren to make it clearer what the logic really is and removing redundant comment.  No behavior change. 
Add parens to make the operation order here clearer.  No bug 
Bug 349451 - "about:about is File not found error" [r+sr=bzbarsky] 
bug 451170, avoid hanging by going to the next frame instead of quering the same frame again. r/sr=bzbarsky 
bug 448543, video frame creation is tag based not display type based so this is special content r/sr=bzbarsky 
bug 360422 remove obsolete code r/sr=bzbarsky 
bug 258377, make border collapsed tables to listen for dynamic border style changes r/sr=bzbarsky 
bug 258377, make border collapsed tables to listen for dynamic border style changes r/sr=bzbarsky 
Make a CSS property bit for whether serialized value lists should use commas.  (Bug 461731)  r+sr=bzbarsky 
Add nsCSSProps::PropHasFlags to address bzbarsky's review comments.  (Bug 461731)  r+sr=bzbarsky 
Bug 461327 - White list entries fix; r=dcamp sr=bzbarsky 
Bug 439965.  Make sure to flush frames on our parent before checking whether editing is on, since editing depends on the presshell.  r+sr=peterv 
Bug 461239.  Be a bit more careful with unsigned arithmetic.  r+sr=bzbarsky 
Bug 448603. Support direct loading of Ogg audio and video files by creating a synthetic <video> document. r=doublec,sr=bzbarsky 
Bug 462378 - Cache video/audio downloads to file - r+sr=bzbarsky 
Bug 411952 - Cookie's creationTime needs to be exposed via nsICookie2; r=mconnor, sr=bzbarsky 
Bug 411952 - Cookie's creationTime needs to be exposed via nsICookie2; r=mconnor, sr=bzbarsky (unit test) 
bug 258377 remove inline on PeekStyleData so that it can be called from the layout library r/sr=bzbarsky 
Mute a warning when typing Alt+ArrowKey. Code cleanup. b=460680 r+sr=bzbarsky 
ASSERTION: disconnected nodes.  b=424276 r+sr=bzbarsky 
bug 286797 dynamic changes of the border color require a update of the cellmap as there is stored where a new segment starts. This is used by painting. r/sr=bzbarsky 
Keep pres shell alive during ProcessRestyledFrames.  (Bug 462392)  r+sr=bzbarsky 
Don't eat up too much when we hit an error in the last media query in a list.  (Bug 461266)  r+sr=bzbarsky 
Bug 388794.  Send 0,0 as the x,y values of the click if there was no click, or if there's no imageframe for the image input.  Aligns with HTML5.  r+sr=sicking 
Bug 454578.  Load the quirk stylesheet separately from the general UA stylesheet, so it can be sensibly enabled/disabled in style sets.  r+sr=dbaron 
Adding test file too 
Fixing merge; no idea where that came from 
Fixing linux orange and hoping for the best; on my local Mac setup it came out that way, but maybe tinderbox will be happier 
Disabling this part of the test for now, until I can figure out why it's broken in so many different ways on different machines 
Fixing mochitest to round, not truncate, coords when trying to dispatch mouse events relative to nodes which are positioned at fractional pixels.  Reenabling the test that was failing because of the truncation 
Bug 462804.  Remove redundant method.  r=dcamp, biesi, sr=roc 
Bug 462803.  Remove dead code.  r=enn 
Fix rounding behavior in this test to reflect reality, if even dispatch is not broken. 
bug 462849 degenerated colgroups can be empty r/sr=bzbarsky 
Bug 411929 - Private Browsing UI; r=mconnor,bzbarsky sr=bzbarsky 
Bug 462373 - Code simplifications for Media elements - r+sr=bzbarsky 
Bug 459724.  Fix normalization of flags in the DNS cache to allow other work that depends on these flags to happen.  r+sr=bzbarsky 
Bug 459724.  Make page reload bypass the DNS cache.  r+sr=bzbarsky 
Bug 453403.  Add DNS prefetching, similar to what Google chrome does.  r+sr=bzbarsky 
Bug 453403.  Add DNS prefetching, similar to what Google chrome does.  r+sr=bzbarsky 
Backing out changesets 374d3cf7b48d, 5d9dc9b6127e, 8c4f57a5674d, cd9a392337b7 
Bug 459724.  Fix normalization of flags in the DNS cache to allow other work that depends on these flags to happen.  r+sr=bzbarsky 
Bug 459724.  Make page reload bypass the DNS cache.  r+sr=bzbarsky 
Bug 453403.  Add DNS prefetching, similar to what Google chrome does.  r+sr=bzbarsky 
Bug 453403.  Fix leak of nsHostResolver by making sure to wake up all the worker threads on shutdown 
Bug 461803: add elementFromPoint method on nsIDOMWindowUtils which optionally ignores root scroll frame and lets callers avoid flushing layout, r+sr=bzbarsky 
Bug 370461 - Fix the scope returned from Components.utils.lookupFunction. r=bzbarsky sr=jst 
Bug 451680 - Use a more reliable function to compile and execute XBL. r+sr=bzbarsky 
Bug 462184.  Make INCLUDE_VERBOSE_OUTPUT actually work, and rename it to JS_JIT_SPEW.  r=brendan 
Backing out unintended change 
Bug 461735.  Use the final channel URI as the script URI.  r+sr=jst, a=beltzner 
Bug 458381 followup: tests and a code fix for a problem the tests caught.  r+sr=dbaron, a=beltzner 
Bug 462458.  Update @charset detection to spec changes.  r+sr=dbaron, a=beltzner 
Bug 460713.  Sanity-check the length.  r+sr=jst, a=beltzner 
Bug 453403. Add DNS prefetching, similar to what Google chrome does.  r+sr=bzbarsky, a=beltzner 
Fix for bug 420363 (Scrollbars missing due to <meta http-equiv="MSThemeCompatible" content="no">). r=mstange, sr=bzbarsky, a=beltzner. 
Bug 460609 - Temporary files for helper applications are not deleted when leaving Private Browsing mode; r,sr=bzbarsky a=blocking1.9.1 
Fixing bug 425153. Fix script filenames such that our wrapper automation story is more consistent. r=jonas@sicking.cc, sr=bzbarsky@mit.edu, a=b2 blocker 
Bug 462806.  Don't init PSM to deal with random JARs.  Save that for signed JARs.  r=dveditz, sr=vlad, a=beltzner 
Adding some tests 
Bug 445004.  Make the base and document URI of document.written documents be the base and document URI of the document on whose current context our code is running.  r+sr=jst, r=dcamp 
Adding test 
Test for bug 49312 
Adding test for bug 132255 
Bug 465752.  Fix Equals() to work right on javascript: URIs.  r=dcamp, sr=jst, a=mconnor 
Fixing typo 
Bug 457153.  Introduce an nsILoadContext interface so that consumers can get load context information from a channel/loadgroup without having to depend on getInterface of docshell stuff.  r=dwitte for cookie part, r=jst for rest, sr=jst, a=beltzner for CLOSED TREE 
Drop extra semicolons.  Fix build bustage in CLOSED TREE 
Use a host that we proxy to the local server so that the test doesn't require network access.  (Bug 466102)  r+sr=bzbarsky  a=tests 
Fix assertion about being too late to set quirks style sheet.  (Bug 450191)  r+sr=bzbarsky  a=blocking1.9.1+ 
Fix cascading bugs with @font-face rules (and prepare for handling dynamic changes) by accumulating the @font-face rules across rule processors through the style set.  (Bug 457821)  sr=bzbarsky  r=jdaggett  a=blocking1.9.1+ 
Rebuild the user font set when style sheets are enabled/disabled/added/removed, rules are modified/added/removed, or media changes change which style sheets apply.  (Bug 457821)  sr=bzbarsky  r=jdaggett,bzbarsky  a=blocking1.9.1+ 
Introduce two different definitions of the placeholder's containing block in InitAbsoluteConstraints, since we want to use a different one for the hypothetical box and for the direction.  (Bug 462844)  r+sr=bzbarsky  a=blocking1.9.1+ 
Handle some additional codepaths for position: fixed elements inside elements with -moz-transform.  (Bug 455171)  r+sr=bzbarsky  a=blocking1.9.1+ 
Fix cascading bugs with @font-face rules (and prepare for handling dynamic changes) by accumulating the @font-face rules across rule processors through the style set.  (Bug 457821)  sr=bzbarsky  r=jdaggett  a=blocking1.9.1+ 
Rebuild the user font set when style sheets are enabled/disabled/added/removed, rules are modified/added/removed, or media changes change which style sheets apply.  (Bug 457821)  sr=bzbarsky  r=jdaggett,bzbarsky  a=blocking1.9.1+ 
Introduce two different definitions of the placeholder's containing block in InitAbsoluteConstraints, since we want to use a different one for the hypothetical box and for the direction.  (Bug 462844)  r+sr=bzbarsky  a=blocking1.9.1+ 
Handle some additional codepaths for position: fixed elements inside elements with -moz-transform.  (Bug 455171)  r+sr=bzbarsky  a=blocking1.9.1+ 
Bug 466681.  Undo the weirdness in the webnavigation flags.  r+sr=jst 
Bug 437142.  Be a little more careful with GetPrimaryFrameFor to work around the mess that <area> elements cause.  r+sr=roc 
Bug 460425.  Do better security checks during redirection.  r=sicking,biesi, sr=sicking 
Fixing test to test the right thing 
Bug 454959. When a document is in a floating view, floating-ness doesn't propagate across view manager boundaries. So use the display-root view as the place to invalidate from. r+sr=bzbarsky 
Bug 454751. Use a fresh nsFrameConstructorState when we construct new frames in ReconstructDocElementHierarchyInternal, so internal state pointing to deleted frames is flushed out. r+sr=bzbarsky 
Bug 460012. When recreating frames for a generated content node, reframe the nearest non-generated-content ancestor. r+sr=bzbarsky 
Fixing comments and assertion text.  Bug 466681 
Bug 462519.  Make NSPR logging of document construction/destruction work in opt builds again.  r+sr=jonas, a=beltzner 
Bug 462800.  Treat document.domain in a more uniform manner in DOM storage.  Also fixes bug 462801.  r=dcamp, sr=sicking, a=beltzner. 
Bug 462979.  Fix synthesizeMouse to send events to the right place.  r=enn, sr=roc, a=beltzner 
Bug 465263.  When setting location.hash to empty string, treat that as identical to '#' for compat with IE.  r+sr=jst, a=beltzner 
Merging in bug 453432 
Backed out changeset 7bc1ba9f91fe to fix test orange 
Marge backout 
Bug 462800.  Fix test bustage by making sure to test the right thing 
Bug 466518.  Teach content policy utils about resource documents.  r+sr=jst, a=beltzner 
Bug 465455.  Use the charset we'll send in the header to encode with.  r+sr=sicking, a=beltzner 
Don't assert when we call GetUserFontSet during frame construction.  (Bug 466756)  r+sr=bzbarsky  a191=beltzner 
Bug 462887: document ignoreScrollFrame argument in nsLayoutUtils, rename it to ignoreRootScrollFrame, r=roc, sr=bzbarsky, a=beltzner 
Bug 454821.  Better signature for GetChildArray.  r+sr=sicking 
Bug 465806.  Use the principal that corresponds to our securityInfo in document.open.  r+sr=jst 
Bug 461917.  Do a better job of reporting pending exceptions when compiling an event listener.  r=mrbkap, sr=jst 
Bug 466084.  Fix reframing of plugin documents to reinstantiate the plugin correctly.  r+sr=jst 
Backed out changeset d351bde7a804 
Merging backout 
Adding test 
Bug 215405.  Restore scroll position, but not form state, on no-store and SSL no-cache sites.  r+sr=bzbarsky 
Disable tests for now to fix orange 
Make the code to suppress infinite synthesized mouse move loops work again with asynchronous style changes.  (Bug 302561)  r+sr=bzbarsky,roc 
Avoid discontinuity when options drop to height:0 by using CalcFallbackRowHeight only when GetNumberOfOptions() == 0, thus eliminating the last caller of CalcFallbackRowHeight passing a non-zero option count.  (Bug 467084)  sr=roc  r=bzbarsky  a=blocking1.9.1+ 
Remove some unreachable stub code for en (half an em) and cap (cap-height metric of font) units that we never create.  (Bug 458878)  r+sr=bzbarsky  a=blocking1.9.1+ 
Allow PostRebuildAllStyleData to be called with an aExtraHint.  (Bug 458878)  r+sr=bzbarsky  a=blocking1.9.1+ 
Make 'width', 'height', and 'aspect-ratio' features use the page size when printing.  (Bug 466559)  r+sr=bzbarsky  a=blocking1.9.1+ 
Add a workaround for bfcache suckage and reenable these tests. r=sheriff for CLOSED TREE 
Bug 440614 - text entry field unable to take focus; r=(bzbarsky + jst + peterv) sr=peterv 
Bug 440614 - text entry field unable to take focus; r=(bzbarsky + jst + peterv) sr=peterv
Use a local stack rather than the call stack in SkipUntil to avoid excessive recursion.  (Bug 432561)  r+sr=bzbarsky 
Make the code to suppress infinite synthesized mouse move loops work again with asynchronous style changes.  (Bug 302561)  r+sr=bzbarsky,roc 
Bug 451117. Remove obsolete assertion. r+sr=bzbarsky 
Rebuild all style data when the user font set changes so that we recompute ex and ch units.  (Bug 458878)  r=jdaggett  sr=bzbarsky  a=blocking1.9.1+ 
Fix parent class name.  Followup to bug 368773, r+sr=peterv 
Bug 393936 - nsIRequest::cancel() must not notify anything sync. Make removal from the loadgroup async, and add another call cancelAndForgetObserver() that removes the listener immediately (since some callsites expect that). Note, however, that this new method shouldn't be used in any new code; it exists only to support code that relied on the broken behaviour prior to this checkin. r=bzbarsky sr=vlad 
Handle 302 redirects properly in imagelib. b=89419 r=bzbarsky sr=vlad/pavlov 
Keep track of the URI we're keyed on in imgRequests. This makes it possible to avoid leaks. b=468160 r=bzbarsky sr=vlad 
Bug 462233 - Checkboxes and radio buttons being squashed / stretched horizontally on Mac, r=josh r=bzbarsky sr=dbaron 
Bug 467648.  Fix shutdown leak by making sure to clear out the deferred DNS prefetch queue at shutdown.  r+sr=bzbarsky 
Bug 445725.  Copy over the history entry owner to the clone on anchor scroll, so that we get the right owners on reload of scrolled file:// pages.  r+sr=jst 
Bug 465806.  Use all of our security information from a single place.  r+sr=jst 
Bug 444322 - Ignore OnDataAvailable calls when we're executing a script. r+sr=bzbarsky 
Bug 466935.  Make JS_JIT_SPEW non-DEBUG build again.  r=dmandelin,brendan 
Handle 302 redirects properly in imagelib. b=89419 r=bzbarsky sr=vlad/pavlov 
Bug 441751 - "Directives not to cache pages ignored." [r+sr=bzbarsky]
Bug 441751 - "Directives not to cache pages ignored." (fix for offline cache updating) [r+sr=bzbarsky] 
Bug 448600. Add prefs to disable Ogg and WAVE backends. r=doublec,sr=bzbarsky 
Bug 468690. Remove leftover assertion that's no longer needed after the fix for bug 460012. r+sr=bzbarsky 
Disable -moz-transform and -moz-transform-origin for :first-line and :first-letter pseudo-elements.  (Bug 466845)  r+sr=bzbarsky  a=blocking1.9.1+ 
Replace mechanism for restricting the properties that apply to :first-line and :first-letter.  (Bug 469227)  r+sr=bzbarsky 
Don't mark properties as applying to first-line / first-letter if there were comments if those properties were implicitly ignored by the old code either through never being used, or through another (*-style) property being ignored.  (Bug 469227)  r+sr=bzbarsky 
Fix properties that incorrectly applied to :first-letter or :first-line.  (Bug 469227)  r+sr=bzbarsky 
Bug 468210.  Do a better job of unhooking our anonymous content.  r+sr=sicking 
Bug 468263.  Handle the src attribute being removed or set to  by dropping the image.  r+sr=sicking 
Bug 467008.  Pointing to a non-existent file:// binding URI leaks.  r+sr=sicking 
Bug 468758.  Make sure to report exceptions from BindCompiledEventHandler.  r+sr=jst 
Bug 469361.  Remove unused API (revert to previous interface version).  r+sr=jst 
Combobox steals mouse event after menu is closed with Alt+Up. b=348236 r=mats sr=bzbarsky 
Bug 469513 - 453406-1.html : missing |dump('\n');| at end; r+sr=bzbarsky 
Adding a test for stream copier 
Renaming these files to make life happier 
Bug 449149. Implement the 'controls' attribute for audio elements. r+sr=bzbarsky,r=dolske,r=enndeakin 
Bug 469247. Implement 'canPlayType' API for video/audio elements. r=doublec,r+sr=bzbarsky 
Bug 466578. Speed up XBL parsing by increasing the buffer size. r+sr=bzbarsky 
Bug 393936 - nsIRequest::cancel() must not notify anything sync. Make removal from the loadgroup async, and add another call cancelAndForgetObserver() that removes the listener immediately (since some callsites expect that). Note, however, that this new method shouldn't be used in any new code; it exists only to support code that relied on the broken behaviour prior to this checkin. r=bzbarsky sr=vlad 
Bug 455629 - Test that we actually do wrap the return value of nsISVGDocument::getSVGDocument in a XOW. r=bzbarsky 
Handle 302 redirects properly in imagelib. b=89419 r=bzbarsky sr=vlad/pavlov 
Adding asserts for bug 470167 
Fix bugs in handling of inherit, initial, and none for -moz-border-*-colors.  (Bug 389404)  r+sr=bzbarsky 
Remove comment that should have been removed in bug 160403.  (Bug 376075)  r+sr=bzbarsky 
Check consistency before returning 'border' shorthand.  (Bug 376075)  r+sr=bzbarsky 
Suppress serialization of -moz-use-text-color in border shorthand in property getters just like we do in declaration serialization.  (Bug 376075)  r+sr=bzbarsky 
Condense box property four side shorthands in value getters, just as in serialization.  (Bug 376075)  r+sr=bzbarsky 
Don't say that the font or background shorthands are present when the properties that they reset but can't otherwise specify are not their initial values.  (Bug 376075)  r+sr=bzbarsky 
Rewrite the shorthand condensation code in nsCSSDeclaration::ToString.  (Bug 376075)  r+sr=bzbarsky 
Disallow negative values on -moz-box-ordinal-group, since it's stored in an unsigned integer and clearly intended to be only positive.  (Bug 470703)  r=enndeakin  sr=bzbarsky 
Reject duplicate keywords for 'text-decoration'.  (Bug 470704)  r+sr=bzbarsky 
Enforce the restriction that values of stroke-miterlimit are greater than 1, rather than just using ParsePositiveVariant.  (Bug 470706)  r=jwatt  sr=bzbarsky 
Fix computed style for large integers by using double instead of float.  (Bug 470769)  r+sr=bzbarsky 
Readd test for computed style for large integers (even though patch was backed out).  (Bug 470769)  r+sr=bzbarsky 
Keep track of the URI we're keyed on in imgRequests. This makes it possible to avoid leaks. b=468160 r=bzbarsky sr=vlad 
Bug 449778.  Don't fire pageshow in the new place on viewer swap if it's about to fire anyway.  Do fire it in the old spot in that case, though.  r+sr=jst 
Bug 467647.  Fix editor leak in error conditions.  r+sr=peterv 
Bug 437366.  Make sure to not paint black-on-black in dark high-contrast themes when 'Allow pages to use their own colors' is unchecked and the page tries styling a form control.  r+sr=dbaron 
Give nsPageBreakFrame a frame name for DEBUGging code.  (Bug 468645)  r+sr=bzbarsky 
Fix style context invariants so we can re-resolve page break frames.  (Bug 468645)  r+sr=bzbarsky 
Prevent posting media query changed events during construction.  (Bug 468645)  r+sr=bzbarsky 
DeCOMtaminate nsIPresShell::GetDidInitialReflow.  (Bug 468645)  r+sr=bzbarsky 
Fix handling of 'orienation' feature in print-preview.  (Bug 468645)  r+sr=bzbarsky 
SetVisibleArea doesn't need to lead to media query change handling when paginated (e.g., when doing a SizeToContent around a print preview window).  (Bug 468645)  r+sr=bzbarsky 
Prevent rebuilding all style data when paginated.  (Bug 468645)  r+sr=bzbarsky 
Pass the correct parent content when re-resolving the inner table for a display:table pseudo-element (:before or :after).  (Bug 468645)  r+sr=bzbarsky 
Don't post media features values changed events when nothing changed.  (Bug 468645)  r+sr=bzbarsky 
Fix nsLayoutUtils::IsReallyFixedPos to work right in paginated mode.  (Bug 468645)  r+sr=bzbarsky 
Reject 0 as a value for -moz-column-count.  (Bug 471341)  r+sr=bzbarsky 
Distinguish clip:rect(auto,auto,auto,auto) from clip:auto as the spec requires.  (Bug 372063)  r+sr=bzbarsky 
Bug 469019 - gfxRect shouldn't be forward declared as a class; fixing forward declaration to match impl; r=(bzbarsky + longsonr) sr=roc 
Bug 466384 - "ASSERTION: OnDataAvailable implementation consumed no data" loading standalone video from local file; r+sr=bzbarsky 
Fix some missed renames from bug 471356.  r+sr=bzbarsky 
Fix assertion in bug 468645, per bzbarsky's followup review comment.  r+sr=bzbarsky 
Bug 465448. Perform sanity check to avoid resizing a window smaller than the content area we're trying to achieve. r+sr=bzbarsky 
Adding test 
Adding a test 
Backed out changeset f87b46d44d22 (bug 437366) 
merge backout of bug 437366. 
Bug 472138.  Eliminate unused or unnecessary CreateAnonymousFrames args.  r+sr=roc 
Bug 472138.  Push CreateAnonymousFrames into ProcessChildren.  r+sr=roc 
Bug 291854.  Push float containing blocks inside ProcessChildren.  r+sr=roc 
Reftest for bug 462233, r=bzbarsky 
Bug 437366. Make sure to not paint black-on-black in dark high-contrast themes when 'Allow pages to use their own colors' is unchecked and the page tries styling a form control. r+sr=dbaron 
Bug 472322.  Don't treat non-XUL listboxbody/listitem specially in XUL frame construction.  r=enndeakin, sr=roc 
Bug 284320.  Remove the contentParentFrame hack in subdocument frames, along with the no-longer-used arg it used to be used for.  r+sr=roc 
Bug 468189.  Stop failing the test if we don't finish within 5 seconds.  It causes sporadic failures. 
Bug 472501.  Add XUL namespace checks in some more places where they're needed, and make the XBL suppression of child frame processing work for all frames, not just XUL.  r=enndeakin, sr=roc 
Bug 472500.  Allow generated content on XUL frames.  r+sr=roc 
Bug 425981. Make first-letter frame wrapping build its own frame constructor state to ensure it's for the correct place in the frame tree. r+sr=bzbarsky 
Bug 464838.  Try to resolve performance issues in DNS prefetch by putting elements, not URIS, in the queue, and deferring URI creation to pageload complete (or a timer, if we're not in pageload).  r+sr=bzbarsky 
Backed out changeset b73e063a3f99 (bug 464838) 
Backout merge 
Bug 467481. Don't reorder the children of listboxbody frames using their ordinals. r+sr=bzbarsky 
Bug 472239.  Make sure to set up our listener before trying to call OnStartRequest on it. r+sr=jst 
Put the root element in the undisplayed map so that we reconstruct it when it has its 'display' changed from 'none' to something else.  (Bug 283686)  r+sr=bzbarsky 
Bug 464838. Try to resolve performance issues in DNS prefetch by putting elements, not URIs, in the queue, and deferring URI creation to pageload complete (or a timer, if we're not in pageload).  Now with leak fixes.  r+sr=bzbarsky 
Bug 473089.  Make sure that our DNS listener (which may be released on random threads) doesn't hold refs to Elements.  r+sr=bzbarsky 
Bug 464956.  Make .desktop files report a redirect not of type REDIRECT_INTERNAL so that we can use that type to detect redirects not under the control of the target resource.  r+sr=biesi 
Bug 472487.  Use the default filename in modeOpen in the Mac filepicker (e.g. so that file inputs prefill the currently-selected file in the filepicker).  r=josh, sr=roc 
Fixing bug 470993. Expose the remainder of the Java plugins XPCOM dependency through the NPAPI. r=joshmoz@gmail.com, sr=bzbarsky@mit.edu 
Bug 449780.  When doing a frameloader swap, clear the bfcache on both docshells, since we can't deal with all those presentations.  r+sr=jst 
Bug 465993.  When opening a dependent window with an invisible non-chrome parent, throw.  r=jst,ere, sr=jst 
Bug 473162.  Make getElementsByClassName case-insensitive in quirks mode, per spec.  r+sr=jst 
Bug 472648.  Make XBL in signed jars work again.  r+sr=jst 
When re-resolving style, re-resolve root in undisplayed map too.  (Bug 473042)  r+sr=bzbarsky 
Bug 472648.  Make XBL in signed jars work again.  r+sr=jst 
Bug 453736.  Make <svg:script> more like other scripts and fix up a few other minor issues.  r=roc, r+sr=sicking 
Bug 467562.  Fix race between the timeout on our DNS thread waits and signals to those threads that could cause DNS requests to go AWOL every so often.  r+sr=bzbarsky 
Bug 453801.  Make sure to not fire onload before deferred scripts have executed.  r+sr=sicking 
Adding some tests 
View Source Linkification should only linkify "safe" URLs.  p=cbartley, r=mrbkap, sr=bzbarsky, b=467852 
Adding test 
Bug 473974.  Don't DNS-prefetch nodes whose document went away.  r+sr=bzbarsky 
Recheck media queries when changing text zoom since em units have changed.  (Bug 473400)  r+sr=bzbarsky 
When re-resolving style, re-resolve root in undisplayed map too.  (Bug 473042)  r+sr=bzbarsky 
Add assertions to EndReconstruct that all style contexts have been reresolved.  (Bug 473871)  r+sr=bzbarsky 
Remove handling of comments inside CSS url() tokens.  (Bug 473914)  r+sr=bzbarsky 
Avoid recursion after parsing CSS comments.  (Bug 473914)  r+sr=bzbarsky 
Avoid recursion when handling mNegations in CalcWeight.  (Bug 473908)  r+sr=bzbarsky 
Avoid building user font set when handling units involving font metrics in media query expressions.  (Bug 473892)  r+sr=bzbarsky 
Bug 469446. Necko should be able to cache byte-range requests when the start offset is zero. Then we can make our initial video load a byte-range request to detect whether the server supports byte-range requests, and the video data can still be cached. r=doublec,sr=roc,r=bzbarsky 
Bug 471594. In ContentInserted, when we have an insertionPoint and we take the isAppend path, use the insertionPoint's last continuation as the place to append so we don't insert the new frames in the middle of some other content's continuation chain. r+sr=bzbarsky 
Bug 463830. Use the video file name as the window title for standalone video objects, for now. r+sr=roc,r+sr=bzbarsky 
Bug 473390 part 1.  Stop checking IsSpecialContent for the root frame.  Just construct a table if it's got a table display type and isn't XUL or SVG.  This is safe because we no longer have the weirdness that was ConstructDocElementTableFrame.  r+sr=roc 
Bug 473390 part 2.  Call SetInitialChildList on HTML frames even if the child list is empty, to bring HTML in line with everything else.  r+sr=roc 
Bug 473390 part 3.  Move some HTML frame construction assertions out of the frame constructor and into the relevant frame creation methods.  r+sr=roc 
Bug 473390 part 4.  Remove vestigial XBL form control stuff.  r+sr=roc 
Bug 473390 part 5.  Move the checkbox and radio face style code out of the frame constructor and into those frames.  r+sr=roc 
Bug 473390 part 6.  Move the flag-setting for file controls out of the frame constructor and into the frame implementation.  r+sr=roc 
Bug 473390 part 7.  Switch HTML frame construction over to the new setup.  r+sr=roc 
Bug 473390 part 8.  Move the <mathml:math> display switching out of the frame constructor and into the frame creation function. r+sr=roc 
Bug 473390 part 9.  Switch MathML frame construction over to the new setup.  r+sr=roc 
Bug 473390 part 10.  Move various XUL nsIBoxLayout stuff out of the frame constructor into frame creation functions, and make the XUL frame creation functions have the right signature to fit into the new world.  r+sr=roc 
Bug 473390 part 11.  Make some of the nsIBoxLayout constructors have nicer signatures.  r+sr=roc 
Bug 473390 part 12.  Simplify some of the parent frame mess in XUL frame construction and remove some confusing comments.  r+sr=roc 
Bug 473390 part 13.  Remove the unused aScrolledChildStyle argument of BuildScrollFrame.  r+sr=roc 
Bug 473390 part 14.  Eliminate the mRootBox member of the frame constructor state, and move its only consumer into the relevant frame Init method.  r+sr=roc 
Bug 473390 part 15.  Switch XUL frame construction over to the new setup.  r+sr=roc 
Bug 473390 part 16.  Move around SVG assertions so that they happen in frame init, not during frame creation.  r=jwatt, sr=roc 
Bug 473390 part 17.  Switch SVG frame construction over to the new setup.  r=jwatt, sr=roc 
Bug 473390 part 18.  Eliminate IsSpecialContent.  r+sr=roc 
Bug 459443.  Make sure to detach our editor even if we don't have a session history entry, so that scripts will get correctly reenabled.  r+sr=peterv 
Move to correct place 
Bug 474041.  Don't leak if we end up with a Reset() while we have a pending id change notification.  r+sr=roc 
Bug 166591 - marquee created dynamically (e.g. innerHTML) is not rendered, r+sr=bzbarsky 
Bug 474417.  <wbr> support broken.  r+sr=roc 
Back out bug 459443 for now, until the patch in bug 474389 gets reviewed 
Bug 468700 -  Having "Ask me Everytime" enabled for Cookies during Private Browsing is unusable; r=dwitte sr=bzbarsky 
Bug 468700 - Having "Ask me Everytime" enabled for Cookies during Private Browsing is unusable (test fix); r,sr=bzbarsky 
Bug 474349.  Set mOSHE when starting load for document.write, since there will never be an Embed call, and do so in all cases, not just when we already have an mOSHE.  r+sr=jst 
This test passes now 
Fix parsing of 'none' values in 'list-style' shorthand.  (Bug 474135)  r+sr=bzbarsky 
Make getComputedStyle() for 'outline-width' return values in pixels even when keywords are used.  (Bug 474184)  r+sr=bzbarsky 
Fix mismatch between new[] and delete.  (Bug 376075)  r+sr=bzbarsky 
Remove nsStyleContext::Equals, since it is unused.  (Bug 474675)  r+sr=bzbarsky 
Warn when nsIDOMCSSStyleDeclaration::GetPropertyCSSValue is called.  (Bug 474655)  r+sr=bzbarsky 
Eliminate all callers to forms of nsROCSSPrimitiveValue::SetIdent other than the one taking nsCSSKeyword.  (Bug 474712)  r+sr=bzbarsky 
Make nsROCSSPrimitiveValue store ident values as nsCSSKeyword rather than nsIAtom*.  (Bug 474712)  r+sr=bzbarsky 
Bug 346659 tests 
Bug 459443. Make sure to detach our editor even if we don't have a session history entry, so that scripts will get correctly reenabled. r+sr=peterv 
Bug 474389.  Fix the 'set up editor after this load' setup, which hasn't really worked for a while, except for initial loads in the window.  r+sr=peterv 
Bug 474938.  Restore silly speculative parsing workaround.  r+sr=peterv 
Fixing bug 474866. Don't null out the peer when stopping plugins to break reference cycles, as cached plugins depend on the peer remaining set. Null out the owner instead. r=joshmoz@gmail.com, sr=bzbarsky@mit.edu 
Bug 473161 - Fix imgRequest::Cancel() to call Cancel() on the loadgroup instead of the channel. The fix to bug 89419 included a mistaken change from cancelling the loadgroup to cancelling the channel. r=bzbarsky, sr=vladimir, a=blocking1.9.1+ 
Bug 475419.  Make sure to set up our user font set no matter what the ordering of flushes and font loading is.  r+sr=dbaron, a=bsmedberg 
Bug 473161 - Fix imgRequest::Cancel() to call Cancel() on the loadgroup instead of the channel. The fix to bug 89419 included a mistaken change from cancelling the loadgroup to cancelling the channel. r=bzbarsky, sr=vladimir, a=blocking1.9.1+ 
Bug 335615.  Don't do editor init inside frame construction.  r=mats, sr=roc 
Bug 307394 part 1.  Create a non-COM way to get at XBL child nodes, and put an IndexOf() method on nsINodeList.  r+sr=peterv 
Bug 307394 part 2.  Fix the indexing in ContentInserted to work correctly even when XBL is around.  r+sr=dbaron.  Also fixes bug 232990, bug 261826 , bug 272646, bug 386310, bug 468546 
Fixing build bustage on Windows.  Bug 307394 
Implement CSS computation of font-stretch property and store it in the gfx font structures.  (Bug 3512)  r=vlad  sr=bzbarsky 
Weaken assertion so that it doesn't fire.  (Bug 472353)  r+sr=bzbarsky 
Keep old rule trees around until they are no longer referenced.  (Bug 475128)  r+sr=bzbarsky 
Clear back-pointer in more cases.  (Bug 475136)  r+sr=bzbarsky 
Adding test for bug 457537 
Adding test for bug 309914 
Adding test for bug 374719 
Bug 475268.  Make sure to not set background without setting color in XML prettyprinting.  r+sr=sicking 
Keep old rule trees around until they are no longer referenced.  (Bug 475128)  r+sr=bzbarsky 
Add logging to try to sort out why some of our inputs are not nsIFormControl sometimes 
Backing out the logging now that we've hit it.  See bug 474537 
Another attempt at logging for bug 474537 
Backing out logging for bug 474537 for the moment 
Another attempt at logging for bug 474537 
Backing out logging patch for bug 474537 
Fixing bug 474022. Make sure we always stop plugins, no matter how they were started. r=smichaud@pobox.com, sr=bzbarsky@mit.edu 
Fixing bug 474022. Reflow if we're about to instantiate a plugin whose frame has not been reflown yet. This fixes a problem where the WMP plugin doesn't work right if its initial size is 0x0. r+sr=bzbarsky@mit.edu 
Bug 476087.  Work around editor breakage with anonymous content.  r+sr=dbaron 
Bug 476063.  Only do special fieldsetty stuff with <legend>s that are in a fieldset.  r+sr=dbaron 
Bug 472258 - Reinitializing one-shot timers by resetting delay (->SetDelay) doesn't work anymore - fix callers; r+sr=bzbarsky 
Bug 476295.  Remove unused prescontext local.  r+sr=bzbarsky 
Bug 475915.  Rev nsPIWindowWatcher iid in CLOSED TREE 
Bug 475913.  Rev nsIXULWindow iid in CLOSED TREE 
Bug 475912.  Rev nsITokenDialogs iid in CLOSED TREE 
Bug 475897.  Rev imgIContainer iid in CLOSED TREE 
Bug 476724.  Recomputed underline offset after we rebuild our font set.  r+sr=roc 
Bug 474406.  Revoke our pending constructor processing event if our document goes away.  r+sr=sicking 
Make legends display:block by default when they're not in a fieldset.  Bug 476063 
Ensure correct alignment for nsCSSValue objects inside nsCSSValue::Array.  (Bug 476345)  r+sr=bzbarsky 
Correctly handle a style change reflow on a subtree that has placeholders with out of flows outside that subtree.  (Bug 363247)  r+sr=bzbarsky 
Fix incorrect uses of aInherited rather than inherited so that we can make aInherited const.  (Bug 476598)  r+sr=bzbarsky 
Make the aInherited parameters to Compute*Data const.  (Bug 476598)  r+sr=bzbarsky 
Reverse the boolean meaning of inherited/aInherited.  (This patch, without the next patch to rename things, makes the code make less sense.)  (Bug 476598)  r+sr=bzbarsky 
Rename aInherited/inherited to aCanStoreInRuleTree/canStoreInRuleTree.  (Bug 476598)  r+sr=bzbarsky 
Ensure correct alignment for nsCSSValue objects inside nsCSSValue::Array.  (Bug 476345)  r+sr=bzbarsky 
Bug 476724.  Recompute underline offsets when user fonts load, and make sure to initialize all our members.  r=jdaggett, sr=roc 
Bug 475986.  Make text-align:start work on <html:th> correctly. r+sr=dbaron 
Bug 299837.  Implement text-align:end. r+sr=dbaron 
Address review comment from bug 299837.  r+sr=dbaron 
Bug 299837.  Use the right test filenames 
Make serialization handle system fonts and the font shorthand better.  (Bug 475214)  r+sr=bzbarsky 
Eliminate nsCSSDeclaration::GetValueOrImportantValue.  (Bug 475214)  r+sr=bzbarsky 
Typesafe helpers for nsCSSDataBlock::StorageFor.  (Bug 475214)  r+sr=bzbarsky 
Invalidate the correct area when loading an image for which we've displayed the loading-image icon.  (Bug 409870)  r+sr=bzbarsky  r=roc 
remove dead debugging code r/sr=bzbarsky bug 475075 
Bug 454990.  On Windows, increase the size of our TCP send window to 128KB, from the default of 8KB.  The value is already 128KB on other OSes, and it appears that other browsers on Windows change the default in the same way.  r=jduell, r+sr=bzbarsky. 
Remove nsStyleContext::DumpRegressionData, code that uses it, and code that exists only for it.  (Bug 477522)  r+sr=bzbarsky 
Bug 459666. GetReferencedFrame should bail out if we've destroyed the frame tree while reconstructing frames for the entire document. r+sr=bzbarsky 
Bug 469933. Window sizing methods need to be DPI-aware. r+sr=bzbarsky,r=dev-null 
Bug 475621.  Make saving an iframe which points to an image work when doing "save page, complete".  r+sr=bzbarsky 
Bug 477333.  Make sure to skip over editor's bogus anon content when dealing with first-letter too.  r+sr=dbaron 
Remove the aBits parameter from ReLayoutChildren, given that what it does blows away the distinction between NS_FRAME_IS_DIRTY and NS_FRAME_HAS_DIRTY_CHILDREN.  (Bug 477294)  r+sr=bzbarsky 
Bug 477531. Support CSS3 :indeterminate pseudo-class. r+sr=dbaron,r=bzbarsky 
Bug 468353 - designmode.css is not removed after designMode is turned off; r=bzbarsky sr=(bzbarsky + peterv) 
Bug 449198 - http-on-examine-response isn't fired when a response comes from the cache; r=bzbarsky sr=cbiesinger 
Bug 348233 - FTP and Gopher index pages are LTR always; r+sr=bzbarsky 
Bug 473962 - Can't print Messages, App process hangs after closing; r=bzbarsky sr=(bzbarsky + roc) 
Bug 477880.  Since we kick off some loads during reflow, make sure to flush layout before our last pre-onload emptiness check.  r=jst, sr=roc 
Bug 478101.  Suppres GetUsed* assertions during all display list processing, not just during display list construction.  r+sr=roc 
Bug 478267.  Make sure to set our overflow area correctly for objects even in cases without box-shadow. r+sr=roc 
Adding test 
Adding test for bug 410621.  r+sr=bzbarsky 
Adding test for bug 410621.  r+sr=bzbarsky 
Bug 455367.  Don't just assume that all image loads get data; ask imagelib instead.  r=kaie, r=joedrew, sr=jst 
Bug 477700.  Push a null JSContext around editor init, so it'll work no matter what JS is on the stack.  r+sr=smaug 
Adding test for bug 647. 
Adding test for bug 105 
Put these files in the right place 
Bug 477700 followup.  Don't fail Push() calls for an event target that has no associated script context at all.  r+sr=smaug pending 
Bug 478754.  Remove effectively unused argument.  r+sr=roc 
Bug 478811.  Use the right IsTableRelated check when finding absolute containing blocks.  r=bernd, sr=roc 
Adding test for bug 307076 
No longer need these gcparam calls to improve performance.  In fact, even on hardware with a lot of RAM we're faster running the mandelbrot tests without these calls. 
Bug 478814.  Don't leave the XUL display types that are unimplemented if not MOZ_XUL defined if not MOZ_XUL.  r+sr=dbaron 
Bug 400226.  Do text redisplay as soon as it's safe, not after a trip to the event loop.  r+sr=mats 
Remove MailNews special casing from nsScriptSecurityManager (bug 374577), r+sr=bzbarsky 
Bug 478820 part 1.  Reorganize ConstructFrameByDisplayType a bit in the block/inline department.  r+sr=roc 
Bug 478820 part 2.  Reorganize ConstructFrameByDisplayType a bit in the tables department.  r=bernd, sr=roc 
Bug 478820 part 3.  Switch ConstructFrameByDisplayType to FrameConstructionData.  r+sr=roc 
Construct all our image loaders when we create frames so that we can allow arbitrary numbers of image loaders per frame (for multiple background images).  (Bug 322475)  r+sr=bzbarsky 
Implement multiple background layers, implement fallback background color, and make -moz-background-inline-policy no longer be part of the background shorthand.  (Bug 322475)  r+sr=roc,bzbarsky 
Remove PerFrameData::mFrameType, since it's write-only.  (Bug 478899)  r+sr=bzbarsky 
Add tests for code I'm going to change, and fix crash when running those tests.  (Bug 475215)  r+sr=bzbarsky 
Stop using potentially-deep recursion to serialize selectors.  (Bug 475215)  r+sr=bzbarsky 
Fix another case where we incorrectly serialize an -x-system-font property.  (Bug 478156)  r+sr=bzbarsky 
Backed out changeset 59e2945cce3c to see whether that fixes Linux unit tests. 
Backed out changeset 9059416d26cf to see whether that fixes Linux unit tests 
Backed out changeset dcb3aa2fd0ab to see whether this fixes unit test bustage 
Merging backout 
Merging backout 
Merging backout 
Construct all our image loaders when we create frames so that we can allow arbitrary numbers of image loaders per frame (for multiple background images).  (Bug 322475)  r+sr=bzbarsky 
Implement multiple background layers, implement fallback background color, and make -moz-background-inline-policy no longer be part of the background shorthand.  (Bug 322475)  r+sr=roc,bzbarsky 
Remove PerFrameData::mFrameType, since it's write-only.  (Bug 478899)  r+sr=bzbarsky 
Add tests for code I'm going to change, and fix crash when running those tests.  (Bug 475215)  r+sr=bzbarsky 
Stop using potentially-deep recursion to serialize selectors.  (Bug 475215)  r+sr=bzbarsky 
Fix another case where we incorrectly serialize an -x-system-font property.  (Bug 478156)  r+sr=bzbarsky 
Bug 448141 - Unable to open file with special characters in file:// ftp:// listing (";", semicolon, in file name); r+sr=bzbarsky 
Bug 321361 - Cache corruption when viewing sites with several large images; r=dcamp sr=bzbarsky 
Construct all our image loaders when we create frames so that we can allow arbitrary numbers of image loaders per frame (for multiple background images).  (Bug 322475)  r+sr=bzbarsky 
Bug 479178.  Remove some unnecessary refcounting in XUL trees.  r+sr=roc 
Bug 479180.  Don't hold strong refs in ChildIterator.  r+sr=roc 
Bug 84106.  Actually pass a cache key to web browser persist so that POST result pages have a chance of being read from cache.  Also change nsWebBrowserPersist to accept a session history entry, not just an nsIWebPageDescriptor or necko cache key, as its cache key argument.  r=gavin, r+sr=jst 
Bug 474536.  Expose the underlying channel's content-disposition on jar: channels.  r+sr=bzbarsky 
Implement multiple background layers, implement fallback background color, and make -moz-background-inline-policy no longer be part of the background shorthand.  (Bug 322475)  r+sr=roc,bzbarsky 
Bug 474536.  Expose the underlying channel's content-disposition on jar: channels.  r+sr=bzbarsky 
Remove PerFrameData::mFrameType, since it's write-only.  (Bug 478899)  r+sr=bzbarsky 
Add tests for code I'm going to change, and fix crash when running those tests.  (Bug 475215)  r+sr=bzbarsky 
Stop using potentially-deep recursion to serialize selectors.  (Bug 475215)  r+sr=bzbarsky 
Fix another case where we incorrectly serialize an -x-system-font property.  (Bug 478156)  r+sr=bzbarsky 
Speed up canvas comparisons in bidi mochitests.  No bug 
Fixing test 
Implement multiple background layers, implement fallback background color, and make -moz-background-inline-policy no longer be part of the background shorthand.  (Bug 322475)  r+sr=roc,bzbarsky 
Bug 386167 - firefox doesn't show login/password form when connecting to ftp server with anonymous accounts disabled; r+sr=bzbarsky 
Make FindPrimaryFrameFor faster by traversing the parent's special siblings and descendant continuations etc only once. b=470978 r+sr=bzbarsky 
Bug 474434 - Active ftp sessions are not closed when clearing recent history; r=bzbarsky sr=cbiesinger 
Fixing comments to match reality.  No bug. 
Bug 371561.  Use the right codepath for absolutely positioned tables so that they get a useful containing block.  r+sr=dbaron 
Bug 476245.  Keep better track of our anonymous content.  r=smaug, sr=dbaron 
Flush layout earlier in getComputedStyle().  (Bug 454276)  r+sr=bzbarsky 
Fix outparam static analysis warnings in nsComputedDOMStyle by actually assigning to the outparam.  (Bug 479433)  r+sr=bzbarsky 
Fixing bug 475646. Don't call GetPeer() on plugins as it's apparently not safe to do so on all plugins. r=joshmoz@gmail.com, sr=bzbarsky@mit.edu 
Bug 479016 - ftp fails opening PASV data connection over socks with remote dns resolution enabled; r=bzbarsky sr=cbiesinger 
Bug 479016 - ftp fails opening PASV data connection over socks with remote dns resolution enabled; r=bzbarsky sr=cbiesinger
Bug 476245.  Keep better track of our anonymous content.  r=smaug, sr=jst 
Bug 480318.  Fix getting of content-disposition for the document save-as case.  r=gavin 

Bug 480318.  Fix getting of content-disposition for the document save-as case.  r=gavin Adding tests 
Bug 478956.  Merge pseudo-frame handling for outer tables and non-table frames.  r=bernd, sr=roc 
Bug 479114.  Create page-break frames only after we know our final parent. 
Bug 480017.  Suppress misplaced popups before we construct table pseudoframe parents.  r+sr=roc 
Bug 480208.  Eliminate the tag version of CreateAnonymousFrames.  r+sr=roc 
Bug 480430 - Don't wrap objects that are same-origin but differently scoped. r=jst sr=bzbarsky 
Bug 328412 - Find in empty document triggers "ASSERTION: No first node!"; r=bzbarsky sr=jst 
Bug 481045.  <svg:use> shouldn't paint its kids.  r+sr=roc 
Bug 480323.  Always create a trailing inline for {ib} splits.  r+sr=dbaron 
Wallpaper for bug 480300. 
Bug 481434 - Fix up the logic a bit. r+sr=bzbarsky 
Bug 480979 part 1.  Introduce FrameConstructionItem and restructure existing ConstructFrame and ProcessChildren code to use it internally without any other behavior changes.  r+sr=roc 
Bug 480979 part 2.  Pass FrameConstructionItems through to the FrameFullConstructor implementations.  r+sr=roc 
Bug 480979 part 3.  Move suppression of kids of columns and non-column kids of colgroups out further so that we don't even create FrameConstructionItems for them.  r+sr=roc 
Bug 480979 part 4.  Create separate FrameConstructionItems for page-break frames.  r+sr=roc 
Bug 480979 part 5.  Build up a tree of FrameConstructionItems so that we'll know which inlines might need splitting.  r+sr=roc 
Bug 480979 part 6.  Push use of FrameConstructionItem all the way up to ContentAppended/ContentInserted, and eliminate the need for DestroyNewlyCreatedFrames.  r+sr=roc 
Bug 480979 part 7.  Create a FrameConstructionItemList class so we can abstract away item lists and change the implementation as needed.  r+sr=roc 
Bug 481359 - Mouse shouldn't show spinner while pages are transferring, ui-r=beltzner r+sr=bzbarsky 
Disabling test that fails any time the network happens to be slow.  See bug 481729 
Change nsStyleUtil::EscapeCSSString to nsStyleUtil::AppendEscapedCSSString, since almost all callers prefer append behavior anyway.  (Bug 478160)  r+sr=bzbarsky 
Quote and escape contents of url() when serializing.  (Bug 478160)  r+sr=bzbarsky 
nsCSSDeclaration::ValueAppended is never called on shorthands, so it doesn't need code to handle them.  (Bug 481594)  r+sr=bzbarsky 
Split eCSSUnit_String into eCSSUnit_String (with quotes), eCSSUnit_Ident (without quotes), and eCSSUnit_Families (font family list, but not for @font-face descriptor where the single family is stored as eCSSUnit_String).  (Bug 481591)  r+sr=bzbarsky 
Append the list-style-type part of counters correctly in computed style.  (Bug 481591)  r+sr=bzbarsky 
Fix serialization of the list-style-type part of counter values.  (Bug 481591)  r+sr=bzbarsky 
Remove unreachable code, since text-decoration:none is not stored as an enumerated value.  (Bug 481595)  r+sr=bzbarsky 
Fix serialization bugs with text-decoration:-moz-anchor-decoration.  (Bug 481596)  r+sr=bzbarsky 
Bug 481105.  Create anonymous child frames before non-anonymous ones for all our frames, not just root boxes.  r+sr=roc 
Bug 481688.  Stop firing our DOMLink* events to content.  r+sr=smaug 
Bug 481777.  Don't fire DOMTitleChanged events to content.  r+sr=smaug 
Bug 481769.  Treat ib special inline siblings as continuations for purposes of background painting.  r+sr=roc 
Bug 481257.  Make the insertion triggers not do an O(N) scan of the whole table.  r=sdwilsh 
Rename ParsePositiveVariant to ParseNonNegativeVariant.  (Bug 481826)  r+sr=bzbarsky 
Reject non-positive values for widows and orphans.  (Bug 481826)  r+sr=bzbarsky 
Remove internal support for units that were never in CSS (feet, miles, meters, kilometers, didots, ciceros).  (Bug 482146)  r+sr=bzbarsky 
Bug 481318.  Don't serialize then reparse the URI on anchor property mutations.  r+sr=jst 
Bug 481335.  Cache the href URI of <html:a> once we resolve it.  r+sr=sicking 
Bug 482394.  Drop the aForStyling check in IsHTMLLink/IsLink: if we change the link state, we need to start tracking the link.  r+sr=dbaron 
Bug 481788.  Make FrameConstructionItemList a PRCList.  r+sr=roc 
Bug 480065.  Make chrome registry not mess with inline stylesheets.  r=bsmedberg, sr=dbaron 
Adding test for bug 262998. 
Bug 482585.  Move some XUL textbox-specific rules out of xul.css and into the relevant bindings.  r=enn, sr=dbaron 
Bug 482592.  Use the right container in ContentInserted.  r+sr=roc 
Bug 482601.  Add tests for bug 449198. r=bzbarsky 
Test change to trigger a crash when trying to construct a table frame so we can test the new talos stack tooling 
Test change to trigger a crash when trying to construct a table frame so we can test the new talos stack tooling, but should compile 
Back out the crasher test change from CLOSED TREE 
Bug 483217.  Don't return an nsresult as a PRBool.  r+sr=bzbarsky 
Bug 482889 Part 1.  Tests for table anonymous object construction.  r=bernd, r+sr=roc 
Bug 482889 Part 2.  Refactor calls to CreateRequiredPseudoFrames so that they all happen in AdjustParentFrame.  r=bernd, r+sr=roc 
Bug 482889 Part 3.  Switch to a new algorithm for creating anonymous table objects.  r=bernd, r+sr=roc 
Bug 480880.  Fix InvalidateCanvasIfNeeded callers and impl to actually work.  r+sr=roc 
Bug 483341.  End updates before removing script blockers.  r=smaug, sr=sicking 
Bug 478219.  Put a script blocker around delayed editor init.  r+sr=sicking 
Bug 478219 test. 
Bug 478219.  Put a script blocker around delayed editor init.  r+sr=sicking 
Bug 471962: wrong post data sent when saving an inner frame, r=bzbarsky 
Bug 482659.  Give about:blank documents the base URI of the document that did the load.  r=dcamp, sr=jst 
Bug 416942.  Give user and ua sheets the system principal.  r+sr=sicking 
Bug 482659.  Give about:blank documents the base URI of the document that did the load.  r=dcamp, sr=jst 
Bug 482659.  Disabling part of the test to work around bug 483818. 
Bug 479328 and bug 481753 - Ensure imgRequest always knows when it's in the cache, and doesn't try to do cache manipulation when it isn't. Also, fix redirect handling to not simply invalidate the cache entry. r=vlad, sr=bzbarsky 
Bug 479016 - ftp fails opening PASV data connection over socks with remote dns resolution enabled; r=bzbarsky sr=cbiesinger 
Bug 484004.  Don't reframe on removal of an non-first, non-last block from an {ib} parent.  r+sr=roc 
Bug 481440.  Make our id table always live.  r=jst, sr=roc 
Backing out bug 481440 (revision 8fddfa5d2748) 
Bug 162063.  Remove pseudo-frames as needed when the frame that needs them is removed from the frame tree.  r=bernd, sr=roc.  Also fixes bug 97506, bug 143397, bug 156888, bug 277995, bug 293576, bug 315146, bug 338735, bug 339388, bug 407115, 473824. 
Bug 483788.  Don't leak if a broken protocol handler returns a channel but error rv.  r=bsmedberg, moa=biesi 
Bug 484820.  When closing the head context, flush out notifications on its kids, so we won't forget to notify on them.  r+sr=mrbkap 
Bug 481440.  Make our id table always live.  r=jst, sr=roc 
Backing out changeset b47f0de93a82 (bug 457809) due to test failures 
Bug 465804.  Remove no-longer-needed method.  r+sr=jst 
Adding some tests 
Adding test for bug 203923 
Adding test for bug 302113. 
Bug 148810.  Handle dynamic insertion and append better when table pseudo-frames are involved.  r=bernd, sr=roc.  Also fixes bug 112142, bug 208305, bug 325543, bug 368932, bug 371054, bug 372649, bug 394402, bug 448111. 
Bug 290032 - Some files are never cached due to hash collisions which are quite common due to weak string hash function; r=(bzbarsky + dcamp) sr=bzbarsky 
Bug 340571. Removing getBoxObjectFor from non-XUL documents. r+sr=bzbarsky 
Bug 484031.  Be a bit more careful with ContentAppended.  r+sr=roc 
Bug 457809 preliminary.  Fix this test so it doesn't fail when we preload the sheet.  r+sr=dbaron 
Bug 457809 and bug 457810 - Speculatively load images and stylesheets (respectively). r=mrbkap, sr=bzbarsky 
Bug 337957.  Make WipeContainingBlock not trigger warnings about reentry into frame construction.  r+sr=dbaron 
Bug 485631.  Suppress dirty frame asserts while painting to a canvas.  r+sr=roc 
Bug 471875 and bug 300032.  Refactor the saving code in contentAreaUtils a bit, and make sure that POST data gets correctly sent when saving non-HTML documents (e.g. text, image, etc).  r=bzbarsky 
Bug 470716.  Make the close-on-completion behavior of nsAsyncStreamCopier configurable.  r+sr=bzbarsky. 
Backing out revision 6a8a88c62925 (bug 484031) on suspicion of causing a Tp increase 
Backing out changeset c428086801d0 (bug 457809 and bug 457810) on suspicion of causing the Tp3 regression 
Bug 484031.  Be a bit more careful with ContentAppended.  r+sr=roc 
Bug 486052.  Make our FCData bits match GetAbsoluteContainingBlock again.  r+sr=roc 
Removing unused variable.  r=shaver, sr=make-gcc-happy 
Use the local instead of making another virtual  function call.  Followup for bug 484031 
Bug 486044.  Make sure to pass the right principal to CreateSheet even in the non-document sheet case. r+sr=sicking 
Bug 459666. Guard assertion containing GetPrimaryFrameFor so it doesn't run at a bad time to be calling GetPrimaryFrameFor. Also, nsCSSFrameConstructor::PostRestyleEvent should check mPresShell->IsDestroying() when deciding whether to drop requests, and it should drop requests silently because it's perfectly safe and correct to do so. r+sr=bzbarsky 
Remove unneeded code for handling nulls in compressed blocks.  (Bug 486415)  r+sr=bzbarsky 
Remove remnant of key-equivalent property, which we removed in bug 265721.  (Bug 486353)  r+sr=bzbarsky 
Remove the CSS_PROP_NOTIMPLEMENTED macro, which hasn't been needed since bug 3247 landed.  (Bug 486353)  r+sr=bzbarsky 
Use a valid value for storing in a bitfield as the style struct ID for backend-only properties.  (Bug 469244)  r+sr=bzbarsky 
Bug 457809 - Speculatively load images from preloading.  r=mrbkap, sr=bzbarsky 
Backing out changeset 37661caab4ce due to the Tp regression 
Bug 457810 - Speculatively load stylesheets from preloading.  r=mrbkap, sr=bzbarsky 
Bug 432068.  Fix stupid assumption in listbox code.  r+sr=roc 
Bug 485537.  window.plugins.refresh() shouldn't reregister XPCOM components.  r=josh, sr=jst 
Bug 485553.  Fix issue with mutating anchor uri properties and visited state, and cache the resulting URI when the URI is mutated instead of just reparsing it later.  r+sr=jst 
Adding test for bug 246669, r=bzbarsky 
Backing out changeset ec2bec209571 and changeset 140f64990c51 (fix for bug 481566) due to test failures. 
Bug 474369 - get rid of nsVoidArray, docshell part; r=bzbarsky 
Bug 465007. Harmonize content sniffing in HTML5 and Firefox. r=jdrew,sr=bzbarsky 
Bug 486848.  Don't clobber |result| until we're done using it.  r+sr=roc 
Bug 486547 part 1.  Switch nsTypedSelection to storing nsIRange, not nsIDOMRange, objects.  r+sr=smaug 
Bug 486547 part 2.  Switch nsFrameSelection::mMaintainRange to storing nsIRange, not nsIDOMRange.  r+sr=smaug 
Bug 486547 part 3.  Eliminate the Fetch*Node methods of nsTypedSelection.  r+sr=smaug 
Bug 486547 part 4.  Switch some more code off nsIDOMNode/nsIDOMRange  r+sr=smaug 
Bug 486547 part 5.  Switch various table cell selection stuff off nsIDOMRange.  r+sr=smaug 
Bug 486547 part 6.  Simplify some cell-related code in nsFrameSelection.  r+sr=smaug 
Bug 486547 part 7.  Simplify some more of the table code in nsFrameSelection.  r+sr=smaug 
Add test for bug 360965. r=bzbarsky 
Bug 486547.  Fix build bustage on Windows 
Fixing bug 486269. Prevent plugins from being destroyed while calling into them. r=joshmoz@gmail.com, sr=bzbarsky@mit.edu 
Bug 484448.  Fix handling of whitespace kids of table-related frames. r=bernd, sr=roc 
Adding test for bug 363326 
Bug 472020.  Blindly appending to our insertion point really is the wrong thing to do.  This doesn't get us to correct behavior, but it gets us closer.  r+sr=sicking. 
Backed out changeset 0ea22856b5d9 (bug 484448). 
Merge backout of rev 0ea22856b5d9 (bug 484448). 
Remove nsCSSOMFactory/nsICSSOMFactory.  (Bug 376111)  r+sr=bzbarsky 
Backed out changeset 510bd328a29d (bug 483552) due to landing on orange tree. 
Backed out changeset 86c8e18f20eb (bug 486933) due to landing on orange tree. 
Merge backout of rev 86c8e18f20eb 
Backed out changeset 0233d2bb8a07 (bug 485563) on suspicion of causing intermittent leak orange. 
Merging backout of rev 0233d2bb8a07 
Backed out changeset 3c687f3d4ff4 (bug 482971) on suspicion of causing intermittent leak orange. 
Merging backout of rev 3c687f3d4ff4 
Backed out changeset 17abd3beeabf (bug 419612) on suspicion of causing intermittent leak orange. 
Merging backout of rev 17abd3beeabf 
Backed out changeset b1237eca3670 (bug 481598) on suspicion of causing intermittent leak orange. 
Merging backout of rev b1237eca3670 
Backed out changeset 716fc2e4f7d3 (bug 486821) on suspicion of causing intermittent leak orange. 
Merging backout of rev 716fc2e4f7d3 
Bug 485631 followup.  Only disable the dirty frae asserts under drawWindow if the flag to not flush was passed in.  r+sr=roc 
Bug 403199.  Don't log addref/release of nsSimpleNestedURI, becuse it doesn't work right when someone addrefs the derived class but releases the base class canonical nsISupports, due to aggregation.  r=dbaron 
test orange. 
Merge backout of rev 50940a1eb1e9 
Bug 485808.  Create an iterator class to do forward iteration over the result of GetChildArray(). r+sr=sicking 
Bug 481647.  Give the document created via CreateAboutBlankContentViewer the right base URI too. r+sr=jst 
Bug 487539.  Don't use an <area>'s primary frame as a primary frame hint.  r+sr=roc 
Bug 485012.  Allow passing a charset hint (e.g. the element's 'charset' attribute for preloads) to nsICSSLoader::LoadSheet.  r+sr=peterv 
Bug 485012 followup.  Rev the iid of nsICSSLoader.  r+sr=peterv 
Bug 487844.  No need to mark self as NS_FRAME_IS_DIRTY just because our child list changed.  r+sr=dbaron 
Bug 486673. <object> elements containing video document should scale the video to fill the document. r+sr=bzbarsky 
Bug 482885. Ensure media channels are in the document loadgroup. r=bzbarsky,r+sr=roc 
Bug 487899.  Start column indices incorrect in nsCellMap::ExpandWithCells if an array with more than one cell is passed in.  r=bernd, sr=roc 
Bug 479943.  Pass in the right owner for link clicks and form submissions and stop inheriting from the document.  r=dveditz, sr=jst 
Bug 485643.  Remove some unnecessary code,  r+sr=jst 
Backed out changeset 524ab31ef073 (bug 477014) in an attempt to fix the unit test orange on Mac. 
Merge backout of rev 524ab31ef073 to CLOSED TREE. 
Backed out changeset 05fd6a9c8ff7 (bug 487631) on suspicion of causing Windows unit test orange in CLOSED TREE. 
Bug 488129  Fix end checks that were incorrectly reversed as part of part 7 of bug 480979.  r+sr=roc 
Bug 487895.  Inserting an inline child into an inline with block :before, inline :after, and no other frame kids (but content kids to trigger ContentInserted) is broken.  r+sr=roc 
Bug 487449.  Figure out the correct prevSibling for the new frames in ContentAppended, always pass the correct prevSibling to WipeContainingBlock, and make its aIsAppend argument exactly correspond to whether we'll call nsCSSFrameConstructor::AppendFrames.  Change nsCSSFrameConstructor::AppendFrames() to take the prevSibling for the new frames.  r+sr=roc 
Bug 484448.  Fix handling of whitespace kids of table-related frames. r=bernd, sr=roc 
This should be a bit-check, not a boolean check.  No bug, r+sr=dbaron 
Bug 488390.  Get special siblings correctly even when bidi is involved.  r+sr=roc 
Bug 488388.  Handle inserts at the end of a colgroup that has anonymous colframe kids.  r=bernd, sr=roc 
Bug 484579 - nsIMIMEService.getTypeFromExtension may fail unexpectedly on Windows when "Content Type" is empty in the registry; r=(robert.bugzilla + sdwilsh) sr=bzbarsky 
Destroy content viewers in session history when destroying docshell, just like we destroy the current one.  (Bug 488394)  r+sr=bzbarsky 
Bug 488811 - nsIPermissionManager.removeAll() should delete DB and re-init rather than just bailing; r=dwitte sr=bzbarsky 
Bug 488417.  Need to hold strong refs to ranges across calling RemoveRange.  r+sr=roc 
Disable test for bug 488417 because it seems to be making mochitest unhappy for later tests somehow. 
Trying to reenable test for bug 488417, with a test change to hopefully make the orange go away. 
Bug 67752.  Implement interruptible reflow.  r=roc,dbaron 
Disabling test for bug 488417 because it seems to be making mochitest unhappy for later tests somehow. 
Bug 489585 - Private browsing cache test leaves directories behind; r+sr=bzbarsky 
Bug 475864 - Move native anonymous content checks into a wrapper so that quickstubs don't sidestep them. r=jst sr=bzbarsky 
Disable the tests for bug 394759 to see whether they're causing other test bustage. 
Backed out changeset aa38257f6744, since the tests are not the problem 
Fix the test orange from bug 394759.  Thanks to D√£o for pointing to the right code to change. 
Bug 489479.  Make nsTableFrame::InsertFrames handle a framelist that includes both colgroups and rowgroups being inserted at the end of the principal child list.  r=bernd, sr=roc 
Fixing test broken by checkin for bug 475318 
Bug 489560.  Trying to reenable the test for bug 488417 
Backed out changeset cad52cbe6537, since it still goes orange. 
Bug 479880.  Prevent failed SSL tunnel replies from being interpreted: replace with boilerplate error pages.  r=jwalden, sr=bzbarsky 
Bug 482398.  Fix insertions when there are Letter frames around to be sane.  r+sr=dbaron 
Bug 481024.  Text control frame screws up max-width and max-height.  r+sr=dbaron 
Bug 490220.  Make sure to skip over whitespace when looking for a following pseudo-sibling for a frame being removed.  r+sr=roc 
Adding some tests 
Bug 484579 - nsIMIMEService.getTypeFromExtension may fail unexpectedly on Windows when "Content Type" is empty in the registry; fix for test; r=sdwilsh sr=bzbarsky 
Bug 491415.  Need to initialize this member so we don't report bogus ascents.  r+sr=roc 
Bug 67752.  Implement interruptible reflow.  r=roc,dbaron 
Fixing bug 488162. Disable prefetches on proxy config and pref, r+sr=bzbarsky@mit.edu 
Bug 490957.  Eliminate nsWebShell.  r+sr=bsmedberg 
Bug 490173.  Switching display from -moz-popup to block in an HTML document doesn't trigger a frame reconstruct.  r+sr=dbaron 
Bug 482310.  Add a JS api to asynchronously copy data to an output stream.  r+sr=bsmedberg. 
Actually address review comments for bug 482310.  a=sdwilsh for CLOSED TREE 
Fixing orange in CLOSED TREE 
Bug 476526. Release the style context before calling LoadBindings. r+sr=bzbarsky 
Bug 492080.  More correct marking of dirty bits on floats when we interrupt.  r+sr=dbaron 
Bug 491537.  Make sure to set dirty buts all the way up the tree when interrupting inside an abs pos child or child of a columnset.  r+sr=dbaron 
Bug 491842.  Check for suppressed scroll before doing the layout flush, so that we don't end up scrolling during the flush when scroll is suppressed.  r+sr=dbaron 
Bug 490182.  Ask to reflow the right frame.  r=bernd, sr=dbaron. 
Bug 78070. When the root element is removed, remove all frames except the viewport; when it's reinserted, recreate them as needed.  r=roc,dbaron sr=roc 
Bug 486741.  Remove hack around broken scrollbars, since it's not needed anymore.  r+sr=jst 
Bug 480452.  Make {ib} splits behave the same way with regard to margins, borders, and padding as inline frames that just have a line-break happening inside them do.  r+sr=dbaron 
Fix the test now that bug 480452 is fixed 
Bug 488057.  Be more careful when we unsuppress painting.  r+sr=roc 
Bug 492575.  Trying to eliminate random orange from this test 
Bug 492469.  Better handling of end margins/borders/padding for frames that end up complete while having both fluid and fixed continuations.  r+sr=dbaron 
Bug 483672 - Give regular JS objects that have been reflected into C++ a security policy that follows the same-origin model. Also teach caps about "same origin" for these cases. r=jst sr=bzbarsky 
Bug 489415. Handle media streams with data from different principals in the media cache. r=bzbarsky,doublec 
Bug 492163, bug 492112, and bug 483604.  Stop putting the style contexts of textnodes and CSS generated content in the undisplayed map, and make sure to properly unbind generated content if we don't plan to actually create a frame construction item for it.  r+sr=dbaron 
Bug 492760.  Don't try to do a best-effort scroll to never-been-laid-out frames.  r+sr=roc 
Bug 493025.  Don't assert if we happen to do bitblit scroll analysis on some frames that are dirty because a reflow got interrupted. r+sr=roc 
Bug 489415. Handle media streams with data from different principals in the media cache. r=bzbarsky,doublec 
Bug 493240. r+sr=bzbarsky 
Bug 492196.  Make it possible to disable dns prefetch on a per-docshell-tree level; disable it by default in embedding contexts, for api compat.  r+sr=jst 
Bug 489050.  Make sure to not notify on our content once we've disconnected from the document.  r=bent, sr=sicking 
Add the crashtest for bug 490760 
Fixing test 
Adding test for bug 329359. r=bzbarsky 
Bug 489008. Destroy anonymous content off a script-runner. r=bzbarsky 
Bug 485471. nsHTMLMediaElement's mChannel should be updated when redirects happen. r=bzbarsky,sr=roc 
Bug 492387.  Flush out content notifications before initing our editor.  r+sr=jst 
Bug 489671.  Make sure the error reporter doesn't suppress our error reports.  r=mrbkap, sr=jst 
Followup for bug 489671.  Remove orphaned comment. 
Fixing bug 488649 build bustage 
Bug 410486.  Fix test failures due to the exception message getting truncated. 
Bug 493495.  Protect against recursive attempts to report a security exception in cases when the URI objects involved can't be accessed due to being implemented as a JS component.  r+sr=mrbkap 
Bug 491323. Allow splitters to collapse siblings that aren't XUL elements. Also fix the logic for finding the right sibling. r+sr=bzbarsky 
Bug 480205 -  Implement a wrapper for exposing chrome objects to content (aka COWs). r+sr=jst sr=bzbarsky on some parts. 
Bug 494225: correct check for property-not-set in nsHTMLDocument::Get*LinkColor, r+sr=bzbarsky 
Bug 493495 followup.  Just cut off the recursion if it gets too deep.  r+sr=mrbkap 
Bug 494534: fix typo, r+sr=bzbarsky 
Bug 493968.  Correctly keep track of all the kids of a cloned sheet, not just the last one.  r=roc, r+sr=dbaron pending. 
Make the reference not use a <style> so it's easier to script-convert this test to the CSSWG format 
Bug 495219: nsGlobalWindow::GetInner* report zero when there is no prescontext, to restore old behavior for display:none. r+sr=bzbarsky 
Bug 495269.  Fix our detection of @import rules when cloning sheets.  r+sr=dbaron 
Bug 495274.  Fix broken selector cloning.  r+sr=dbaron 
Bug 493246.  Improve ::guard logging.  r=jorendorff 
Bug 495648.  Work around yet more listbox suckage: it'll randomly create frames for content it hasn't included in its row count!  r=enn, sr=roc pending 
Bug 499543: handle total transparency in LegacyRGBToHex.  r+sr=bzbarsky 
Bug 495269 followup.  Rev the iid of nsICSSRule. 
Backed out changeset 171da87539a4 due to persistent failure of the browser_420786.js test on Linux. 
Bug 495635. Don't register overlay content in the ID-map etc if it hasn't actually ended up in the document. r+sr=bzbarsky 
Another attempt to fix bug 492575. 
Bug 484459.  Give SandboxClass a convert method so it doesn't end up delegating that to the prototype.  r+sr=mrbkap 
Adding test for bug 443616 
Adding test for nsTObserverArray 
Bug 497102 - Add missing call. r+sr=bzbarsky 
Bug 493863.  We might have stopped the loop right after reflowing a column, so put off the CheckForInterrupt on the column-set until after the loop.  r+sr=roc 
Bug 493881: ignore attempts to set legacy color props on a HTML document object before its body element exists.  r+sr=bzbarsky 
Bug 436046 - "display != none should not apply to input[type=hidden]". r+sr=bzbarsky 
Bug 495499.  Speed up PutImageData for cases when the array contains doubles.  r=brendan,vlad,jorendorff 
Bug 491541 - changes default value of http.keep-alive.timeout from 300 to 115.  r=jduell, sr=bzbarsky 
Bug 495728 - "###!!! ASSERTION: destroy called on frame while scripts not blocked: '!nsContentUtils::IsSafeToRunScript()', file /Users/bzbarsky/mozilla/vanilla/mozilla/layout/generic/nsFrame.cpp, line 446." r+sr=bzbarsky 
Bug 496020 - "nsCSSFrameConstructor::BeginUpdate is called when scripts are not blocked." r+sr=bzbarsky 
Bug 495618 - "Reloading form posts fails with javascript nsIPromptService implementation". r+sr=bzbarsky 
Bug 192902 - "Words wrap in nowrap cell when width=0 and next cell have width=100%". r+sr=bzbarsky 
Bug 495350.  Do a better job of keeping track of our line participant count.  r+sr=roc 
Bug 493649.  Make sure that we never end up incomplete when our available height is unconstrained.  r+sr=roc 
Bug 497028.  Make sure to have mRunningEvent still incremented when we call the runnable's destructor, since that can also do work. r=bsmedberg 
Bug 496891.  Handle NSGetModule returning null.  r=bzbarsky 
Bug 234844 - NS_HTMLEDITOR_COMMANDTABLE_CID and NS_HTMLEDITOR_DOCSTATE_COMMANDTABLE_CID have malformed CIDs; (Av1) nsEditingSession.cpp: (unrelated) s/as/has/; r+sr=bzbarsky 
Trying to fix Windows build bustage 
Backing out part of bug 495728 to fix Windows test build bustage 
Better build bustage fix for bug 495728 
Bug 492837. If a scrollframe's reflow is interrupted, don't clamp the scroll position to the new size. r=bzbarsky 
Bug 496032. Buttons should should lay out their contents using IsBlockInside not IsBlockOutside. r+sr=bzbarsky 
Bug 496840. Make dynamic insertion and removal of legends work in the presence of multiple legends. r+sr=bzbarsky 
Bug 496486 - Don't let our wrapped natives get garbage collected out from under us. r+sr=bzbarsky 
Bug 491700 - "hang while resizing windows (CPU hits 100%, no interaction is possible)." r+sr=bzbarsky 
Adding test 
Bug 495385. Text inputs should set the white-space style of the anonymous inner div when that div is created, not later when it will trigger a restyle. r+sr=bzbarsky 
Bug 495385. Text frames adjacent to block boundaries that contain only collapsible whitespace cannot affect layout, so don't create them. r+sr=bzbarsky 
Bug 496593 - Image cache entry comparison is wrong. r=vladimir, sr=bzbarsky 
Bug 495167.  Make XPCOMUtils.generateQI deal with string interface names.  r+sr=bsmedberg 
Disable this test for now, due to random orange.  See bug 492575 
Remove support for fallback background colors.  (Bug 496721)  r+sr=bzbarsky 
Bug 498530.  Don't try to remove array elements that might not be in the array.  r+sr=smaug 
Bug 495798.  Drop native theming for controls styled with transparent backgrounds, even if the user said to not use the page colors.  r+sr=dbaron 
Work around bug 494546 causing performance problems when running chrome tests. 
             channels with no docshell.  r+sr=bzbarsky.
Bug 498324 - Network layer support for Symbian emulator. r=bzbarsky, sr=cbiesinger 
Bug 499235.  Quickstub nsIDOMNodeSelector.  r+sr=peterv 
Bug 497242.  GetElementsByName should not find non-HTML elements.  r+sr=sicking 
Bug 498875.  nsEmbedStream::OpenStream fails if content type includes charset. r=bzbarsky, sr=biesi 
Bug 495385. Text frames adjacent to block boundaries that contain only collapsible whitespace cannot affect layout, so don't create them. r+sr=bzbarsky 
Bug 478465.  Don't clobber our NS_FRAME_IN_REFLOW flag by scrolling.  r+sr=roc 
Bug 488210.  Stop returning non-listitems' frames from GetNextItemBox.  r+sr=bzbarsky 
Bug 500124. Fix regression from bug 495385 by initializing text items correctly. Also avoid reframing text nodes in ContentRemoved when we know the text node doesn't need to be unsuppressed. r+sr=bzbarsky 
Adding test for bug 421632.  r=bzbarsky 
Adding test or bug 424465.  r=bzbarsky 
Bug 500467.  When removing table rows/rowgroups/cells, don't try to create frames for their adjacent whitespace.  We don't need it.  r+sr=roc 
Adding crashtest 
Test for bug 499115. r=bzbarsky 
Bug 498228 - "Profile item doesn't look selected anymore in the profile manager." r+sr=bzbarsky 
Bug 500556. Split FRAMETREE_DEPENDS_ON_CHARS bit into NS_CREATE_FRAME_IF_NON_WHITESPACE and NS_REFRAME_IF_WHITESPACE so we don't need to reframe for every data change. r+sr=bzbarsky 
Bug 500629. Remove NS_SCROLL_PROPERTY_ALWAYS_BLIT, only XUL listboxes use it, and for no good reason. r+sr=bzbarsky 
Bug 467144 - nsIMutationObserver::AttributeChanged should provide old attribute value; r=bzbarsky, r+sr=sicking 
Bug 500905.  Don't try to create text frames for textnodes that don't have frames if their parent frame's parent type is not block.  That way we won't reconstruct the row, for example, if a cell is reframed and has whitespace next to it.  Also fix WipeContainingBlock to not reframe in that case anyway.  r+sr=roc 
Fixing some formatting issues with the test 
Bug 499865.  Log blacklists as part of our jitstats.  r=jorendorff 
Bug 501235 - "add new mochitest sub-harness for docshell testing." r=bzbarsky 
Bug 498000 - Throw a better error when toString is called cross-origin on an XPCNativeWrapper from an unprivileged context. r+sr=bzbarsky 
Bug 500846 - Calculate sObjectClass in non-browser embeddings. r+sr=bzbarsky 
Bug 500691 - Call JS_ClearScope before XPConnect tries to update our outer window's scope's concept of what {Function,Object}.prototype are so that we forward correctly to the inner window's versions. r=jst sr=bzbarsky 
Bug 293670.  Pages rendered with gtkmozembed stream API don't fire onload.  r=bzbarsky 
Bug 500912. Remove realTimeDrag flag, it's always true. r=bzbarsky 
Bug 501878. Don't suppress whitespace-only SVG text frames. r+sr=bzbarsky 
Bug 500208: select element should update label when script changes selection, r=bzbarsky 
Bug 457809 - Speculatively load images from preloading.  r=mrbkap, sr=bzbarsky 
Bug 502941.  Don't bother appending if we already know our correct prevsibling.  r+sr=roc 
Bug 466409.  If the load is stopped, don't run any pending scripts.  r+sr=sicking 
Bug 503177.  Don't assert when invalidating on dirty geometry from canvas.  r+sr=roc 
Bug 503028.  Don't flush out mCells laziness unless we have to.  r+sr=jst 
Add test for bug 294258.  r=bzbarsky 
Adding test for bug 293235.  r=bzbarsky 
Bug 498562.  Skip the Expand/Compress cycle in the common case of inline style sets.  r+sr=dbaron 
Bug 503364.  Make GetAbsoluteContainingBlock work correctly for abs pos table ancestors again.  r+sr=roc 
Bug 498559.  Speed up tokenizing numbers in CSS.  r+sr=dbaron 
Bug 371839. Assertions that scan all continuations should bail out if the continuation chain is too long, so they don't add O(N) to algorithmic complexity. r=bzbarsky 
Adding test for bug 498559.  r=dbaron 
Bug 498559 followup to clean up the code.  r=dbaron 
Adding test for bug 321671.  r=bzbarsky 
Adding test for bug 298622.  r=bzbarsky 
Adding test for bug 360511.  r=bzbarsky 
Adding test for bug 396649.  r=bzbarsky 
bug 240245 remove some bizarre col frame construction code that is never called. r=bzbarsky 
Make the test output somewhat more useful. 
Bug 496292 - Support changing the Accept header via a preference; r=joedrew sr=bzbarsky 
Make whether a property should be ignored when page colors are disabled part of the property flags table.  (Bug 503188)  r=bzbarsky 
Block text-shadow when using document-specified colors is disabled.  (Bug 503188)  r=bzbarsky, roc 
Reformat the list of CSS properties by splitting macros into multiple lines to make the list easier to edit and merge.  Whitespace changes only.  pre-r=bzbarsky 
Trying to fix bug 503988 
Bug 504032.  Make sure to copy mIsEmpty when cloning media lists.  r=dbaron 
Also block -moz-box-shadow when using document-specified colors is disabled, and fix a testing error with the patch for text-shadow.  (Bug 503188)  r=bzbarsky 
Bug 501422 - HTML5 offline resources doesn't work, r=bzbarsky 
Bug 475053 - Implement asyncPromptAuth to fix multiple password prompt overlap, r=bzbarsky+dolske 
Bug 475053 - Implement asyncPromptAuth to fix multiple password prompt overlap, r=bzbarsky+dolske 
Bug 505186. Don't add useless nsDisplayReflowCount items to display lists in debug builds. r=bzbarsky 
Bug 352093. Part 1: Add view parameter to nsViewManager::DispatchEvent so we can target view system events to widget-less documents. r=bzbarsky 
Bug 352093. Part 8: Fix view returned for eToplevelWindowCoordinates. r=bzbarsky 
Bug 352093. Part 11: Remove GetWidget cals from the view maanger. r=bzbarsky 
Bug 352093. Part 13: Remove nsIViewManager::GetWidget since no-one should be using it. r=bzbarsky 
Bug 352093. Part 14: Make content IFRAMEs windowless. r=bzbarsky 
Bug 502447.  Make sure to recompute the viewport scrollbar flags early enough during root frame setup.  r=roc 
Bug 491180.  <button> should not clip overflowing contents.  r=roc 
Bug 503467.  Rearrange the code a bit in ParseNumber to make it more readable. r=dbaron 
Bug 503926 - Don't call QueryInterface on content JS objects. r=bzbarsky sr=jst 
Bug 480205 -  Implement a wrapper for exposing chrome objects to content (aka COWs). r+sr=jst sr=bzbarsky on some parts. 
Bug 505482.  Make sure to not leave frames on overflow lists when we interrupt reflow.  Also fixes bug 478527 and bug 496742.  r=roc 
Bug 332893.  <form>.elements['x'] order is not updated after reordering element using DOM.  r=bzbarsky 
Bug 505693. Remove nsIView::DisownWidget. r=bzbarsky 
Bug 371839. Remove useless SetSelected implementations. r=bzbarsky 
Bug 371839. Simplify SetSelected signature and semantics, and reimplement it in nsTextFrame much more efficiently. r=bzbarsky 
Bug 371839. Remove ParentDisablesSelection, which is effectively unused. r=bzbarsky 
Bug 371839. Some simple selection rendering tests. r=bzbarsky 
Bug 496823.  Blocks can implement GetLastChild() much faster than by just getting first child and iterating its siblings.  r=roc 
Bug 495176.  Improve security error reporting when document.domain is involved.  r=jst,pike sr=jst 
Fixing crashes during tests by null-checking the principal URI as appropriate.  Bug 495176 
Bug 506602. fix "warning: recurring into frame construction" when there isn't anything wrong. r=bzbarsky 
Bug 504221 part 1.  Introduce framelist slice and enumerator classes and make the framelist versions of nsFrameList::AppendFrames/InsertFrames return a slice for the new frames.  r=fantasai, r+sr=roc 
Bug 504221 part 2.  Switch ReparentFrameViewList to nsFrameList.  r+sr=roc 
Bug 504221 part 3.  Switch overflowFrames storage to nsFrameList.  r=fantasai, r+sr=roc 
Bug 504221 part 4.  Switch MarkFramesForDisplayList to nsFrameList.  r+sr=roc 
Bug 504221 part 5.  Switch from GetFirstChild to GetChildList (returning an nsFrameList).  For now, keep a GetFirstChild shim so callers don't have to be updated.  r=fantasai, r+sr=roc 
Bug 504221 part 6.  Switch nsBlockFrame::AddFrames to nsFrameList.  r=fantasai,roc 
Bug 504221 part 7.  Make nsFrameItems inherit from nsFrameList.  rfantasai, r+sr=roc 
Bug 504221 part 8.  Make CreateAnonymousColFrames saner.  r=bernd, sr=roc 
Bug 504221 part 9.  Get rid of a silly LengthOf function.  r+sr=roc 
Bug 504221 part 10.  Switch the first-line frame list munging to nsFrameList.  r=fantasai, r+sr=roc 
Bug 504221 part 11.  Switch the {ib}-split list munging to nsFrameList.  r=fantasai,roc 
Bug 504221 part 12.  Switch SetInitialChildList to nsFrameList.  r=fantasai, r+sr=roc 
Bug 504972.  Remove some redundant code.  r=roc 
Bug 504975.  Go back to overriding  HandleMultiplePress on various XUL frames.  r=roc 
Followup for bug 504221 to fix debug orange.  Have to hold on to an object, not a reference, if the thing passed in might be a temporary. 
Bug 484200. src attribute on <style> makes styles not apply.  r=bzbarsky 
Make this test actually test the right thing 
the WinXP Txul regression. 
Backed out changeset b55e7e3c0bfb to see whether bug 495176 might be causing the WinXP Txul regression 
Backed out changeset 622a29736f33 to see whether bug 496823 causes the WinXP Txul regression. 
Bug 506641: Click image resizing for nsImageDocument should be disabled, r=bzbarsky 
Relanding bug 496823 in the hopes that it's not causing the XP Txul issue. 
Bug 451898.  When stopping an error page load, make sure to null out mLSHE.  r=biesi 
Bug 495176.  Improve security error reporting when document.domain is involved.  r=jst,pike sr=jst 
Bug 496908.  Make JSVAL_IS_* functions, not macros.  r=brendan,jwalden 
Bug 269908. <legend> default style changes restrict styling options. r+sr=bzbarsky 
This test is testing stuff that is just not true anymore now 
Backed out changeset 03c40c5a2d4b (bug 505988) to fix password manager test orange. 
Bug 496500.  Don't try to interrupt on lines we're not actually reflowing, since during a resize on Windows HasPendingInputEvent returns true while the mouse is down.  r+sr=roc 
Bug 281387.  Make nsIFrame::Append/InsertFrames use nsFrameList.  r=bernd,roc, sr=dbaron 
Followup for bug 495176.  Fix the localization notes. 
Don't resolve a new context for the root when we're computing rem units for the root.  (Bug 478321)  r=bzbarsky 
Separate RuleProcessorData and derived structs into their own header file to reduce include dependencies.  (Bug 435441)  r=bzbarsky 
Bug 494283.  Unregister our placeholder if someone forgot to.  r=dbaron 
Bug 502942.  Make fieldsets use their content's last-line baseline.  r=dbaron 
Bug 502288.  Provide finer-grained style change hints for triggering reflow.  r=dbaron 
Backed out changeset 25462849adcc (bug 502288) to get some talos cycles for the tracemonkey merge without this patch in. 
Bug 502288.  Provide finer-grained style change hints for triggering reflow.  r=dbaron 
Bug 508057.  Make sure to drop the ref to the observer when clearing our cached tree images.  r=joedrew 
Add assertions that the rule walker is at the root.  (Bug 507457)  r=bzbarsky 
Avoid flushing during media query evaluation.  (Bug 507457)  r=bzbarsky 
Rewrite parsing of CSS url() function to make it more like the tokenization that's described in the spec.  (bug 476856, though originally written for bug 337287)  r=bzbarsky 
Fix bug 505988. r=bzbarsky sr=jst 
Bug 485531.  Make --debugger-gdb work reliably on mac.  r=ted 
Bug 504877 - Check for UniversalXPConnect access further down on the stack chain. r=jst sr=bzbarsky 
Bug 502959 - Restore code to make caps allow wrapping same-origin wrappedjs objects. r=jst sr=bzbarsky 
Bug 508919.  Stop leaking nsStyleBorder objects.  r=dbaron 
Bug 415394.  Don't let the listbox row-munging kill our block wrapper, if we have one.  r=dbaron 
Bug 497519 part 1.  Clear the undisplayed map correctly in the presence of XBL.  r=dbaron,bzbarsky 
Bug 497519 part 2.  Only do special handling for legends whose content parnt is an HTML fieldset.  bzbarsky 
Bug 484684 - ParseFTPList can't handle regular unix ls -l listing of filenames starting with spaces; r=jduell.mcbugs sr=bzbarsky 
Bug 509188 - Fix OS/2-only build break in nsCanvasRenderingContext2D.cpp, r=bzbarsky 
Bug 508900.  Fix assertion due to us not unsetting all the bits we should unset.  r=dbaron 
Bug 509156.  Don't assert on GetUniqueStyleData calls if we're using our parent's struct before the call.  r=dbaron 
Bug 509155.  Don't store outline structs in the rule tree if outline-color:inherit is set on the root element.  r=dbaron 
Bug 508819. Stop relying on getElementById returning anonymous nodes.  r=gavin,dietrich,davidb 
Bug 509170.  Correctly invalidate the canvas frame on resizes of the root element.  r=roc 
Bug 508050.  Make sure to reparent views when pulling overflows from our prevsibling.  r=roc 
Make style contexts know whether they have data from a pseudo-element.  (Bug 505515, Bug 435441)  r=bzbarsky 
Add flags to pseudo-elements, and add one that says which ones are expected to contain elements.  (Bug 505515)  r=bzbarsky 
Make computed style (and canvas text styling, which shares the same code) avoid using style data that was influenced by pseudo-elements.  (Bug 505515)  r=bzbarsky 
Add more parameters to nsStyleSet::ResolveStyleForRules.  (Bug 435441)  r=bzbarsky 
Remove InspectorCSSUtils, part 1:  Move GetStyleContextForContent to nsComputedDOMStyle.  (Bug 371655)  r=bzbarsky 
Remove InspectorCSSUtils, part 2: Move remaining substantive code to inDOMUtils.  (Bug 371655)  r=bzbarsky 
Remove InspectorCSSUtils, part 3: Remove the trivial methods and replace their callers with appropriate internal calls.  (Bug 371655)  r=bzbarsky 
Remove InspectorCSSUtils, part 4: Remove nsIInspectorCSSUtils and nsInspectorCSSUtils.  (Bug 371655)  r=bzbarsky 
Adding some tests 
Bug 500063. "ASSERTION: Already have an undisplayed context entry for aContent" while running leak tests. r=bzbarsky 
Test for bug 301397.  r=bzbarsky 
Bug 508927. Assuming that the binding parent of the listboxbody content is the listbox content (and hence parent of listitems) is just wrong. Use ChildIterator instead to access the XBL nodes of the listboxbody content and get the frame constructor to pass the listboxbody frame the right container. r=bzbarsky, a=beltzner for CLOSED TREE 
Bug 508927 minor cleanup. In debug listing of XUL content get rid of the leading '<' so that angle brackets balance.  r=bzbarsky, a=beltzner for CLOSED TREE 
Hack to make bug 509557 less annoying. 
Don't resolve a bogus non-element parent when we don't need to and it confuses things.  (Bug 510071)  r=bzbarsky 
Flush the sink before zooming (restyle processing). b=506349 r=bzbarsky 
Bug 444377 - preserve string form of color attributes; r=bzbarsky 
Implement CSS transitions: implement the parsing and computation of the transition properties.  (Bug 435441)  r=bzbarsky 
Bug 506481.  Make sure that we'll scroll to the selected option even if it's added after our initial reflow but before we finish adding initial option kids.  r=mats 
Followup for bug 510651 to make non-debug builds with --enable-extensions=layout-debug build. 
Bug 488249 build bustage fix. 
Bug 488249 more build bustage fixes 
Backed out changeset eb32cbfba7f5 (bug 488249 followup) to fix test orange. 
Backed out changeset 59ae87416f96 (bug 488249 followup) to fix test orange. 
Backed out changeset 4aa19414e651 (bug 488249) to fix test orange. 
Bug 511521 - downloading file with RTL override (RLO) presents conflicting filenames; r=bzbarsky 
Bug 508927. In list box body frame don't return a frame for an item that is not in its child list, and don't destory a frame if it is not in the childlist.  r=bzbarsky 
Bug 513544 - Crash [@nsImageFrame::DisplayAltFeedback] - r=bzbarsky 
Fixing bug 504862. Sanitize modal dialog argument handling. r=mrbkap@gmail.com, sr=bzbarsky@mit.edu 
bug 513647: fixed a compil warning on nsHTMLContentSerializer::SerializeAttributes. r=Olli.Pettay, sr=bzbarsky 
Bug 513923. [HTML5] HTML5 parser fails layout/reftests/bugs/495385-1c.html. r=bzbarsky 
Bug 478504.  Need to clear textruns in bidi continuations too.  r=roc 
Bug 489925.  getElementById should not return anonymous nodes.  r=jst 
Adding test for bug 474536.  r=dcamp sr=bzbarsky 
Backed out changeset 6ee269c6c118 (test for bug 474536) because it hangs on Tinderbox 
Disabling test that makes bogus assumptions about DOM behavior 
sr=bzbarsky. 
Don't scroll to the selected element if the reflow was interrupted, we'll do it later. b=512410 r=bzbarsky 
Bug 513153.  Update the default submit correctly even if multiple form controls are removed in one remove operation.  r=jst 
Remove unneeded detail == eRuleNone check.  (Bug 114100)  r=bzbarsky 
Add stylestruct_ parameter to CSS_PROP macro.  (Bug 504652)  r=bzbarsky 
Add fields to nsCSSPropList.h for style struct offset and animation type.  (Bug 504652)  r=bzbarsky 
Add support for animation of nsStyleCoord and nsStyleSides values to nsStyleAnimation.  (Bug 504652)  r=dbaron  sr=bzbarsky 
Add support for animation of nscoord values to nsStyleAnimation.  (Bug 504652)  r=dholbert  sr=bzbarsky 
Add support for color values to nsStyleCoord so nsStyleAnimation can animate colors.  (Bug 504652)  r=bzbarsky 
Add support for animation of color values (conversion of nscolor values to nsStyleCoord and animation of eStyleUnit_Color nsStyleCoords) to nsStyleAnimation.  (Bug 504652)  r=dholbert  sr=bzbarsky 
Add support for animation of nsStyleSVGPaint values to nsStyleAnimation.  (Bug 504652)  r=dholbert  sr=bzbarsky 
Make style changes know whether they are for transitions or not.  (Bug 435441)  r=bzbarsky 
Separate nsCSSPropertySet out from nsCSSDataBlock so that it can be used elsewhere (for transitions).  (Bug 435441)  r=bzbarsky 
Allow multiple post-resolve callbacks.  (Maybe not the long term approach for CSS transitions, but easiest right now.)  (Bug 435441)  r=bzbarsky 
Pass style rule to post-resolve callbacks.  (Maybe not the long term approach for CSS transitions, but easiest right now.)  (Bug 435441)  r=bzbarsky 
Use nsRefPtr for new context in ReResolveStyleContext.  (Bug 435441)  r=bzbarsky 
Bug 515080 - setting fill doesn't always cause re-styling. r=bzbarsky 
Bug 509557 - Initialize the prototype's flags so that we can always assume that an XPCNativeWrapper's flags are integers. r=jst sr=bzbarsky 
Bug 497495 (frame poisoning) part 4: Change nsPresArena to maintain separate free lists for every frame class, based on its FrameIID.  Pass the necessary information in from AllocateFrame and FreeFrame. r=roc sr=dbaron 
Null-check document pointer.  (Bug 516307)  r=bzbarsky 
Bug 507970, part 1: nsIStreamLoader changes to support downloadable font code, r=bzbarsky 
Bug 233463, patch 0 - Use nsFrameList methods instead of nsIFrame::SetNextSibling.  r=bzbarsky 
Bug 233463, patch 1 - Minor cleanup of frame list related code in nsTableRowGroupFrame.  r=bzbarsky 
Bug 233463, patch 2 - Introduce nsFrameList::mLastChild member for fast access to the last sibling frame.  r=bzbarsky 
Bug 233463, patch 3 - Make Destroy/RemoveFrame() methods void and assert that the frame to remove is present.  r=bzbarsky 
Bug 233463, patch 4 - Make nsIFrame::mNextSibling private.  r=bzbarsky 
Bug 233463, patch 5 - Remove nsFrameList(nsIFrame*) ctor.  r=bzbarsky 
Bug 515703.  In some cases we can end up checking whether an element is the default submit before we've updated our default submit; in that situation wehave to do it the slow way.  r=jst 
Bug 515829.  Don't assume that mDefaultSubmitElement is non-null just because our firstSubmitSlot contains non-null.  r=jst 
Bug 515534.  Simplify some nsTableRowGroupFrame methods by assuming that the frame constructor did not screw up.  r=bernd 
Bug 409500.  Compute the right output length for our base64 decoding.  r=jduell 
Remove unused methods. b=516976 r=bzbarsky 
Bug 516740. Never simplify the visible region by increasing its area when we're subtracting opaque areas from the visible region. Instead, just don't subtract the opaque area if it would make the visible region too complex. r=bzbarsky 
Bug 334460. Turn warning on re-entry into frame construction into an assertion.  r=bzbarsky 
Bug 515028. Change the description of openPopupAtScreen to reflect that coordinates are not relative to the current screen.  r=enndeakin sr=bzbarsky 
Store the overflow out of flows as an nsFrameList. b=516974 r=bzbarsky 
Bug 478251.  Implement the Null and Undefined annotations from webidl in quickstubs.  r=jst,bsmedberg,jorendorff 
Bug 514773.  Don't trigger rulenode gc unless we have rulenodes to gc.  r=dbaron 
Bug 516286.  No need to clear ancestor intrinsic widths on top/left/right/bottom changes anymore.  r=dbaron 
Bug 209275 - Links' hrefs should be updated when a <base>'s href changes. r=bzbarsky 
Bug 518274.  Disabling this test until we can make it pass reliably on Linux in hopes of reopening the CLOSED TREE 
Another fix for bug 485531, working around the bustage from bug 504480.  r=ted 
Bug 209275 - Links' hrefs should be updated when a <base>'s href changes. r=bzbarsky 
Bug 423599: eliminate space from reftest, to avoid dependency on default font metrics. r=bzbarsky 
Bug 479485 - Invalid port numbers cause default port to be used, should fail to load, r=bzbarsky 
Reset the rule walker before calling NS_NewStyleContext.  (Bug 513741)  r=bzbarsky 
Bug 512471.  Make nsBlockFrame's mFrames track its principal child list.  r=roc,fantasai 
Bug 514823.  r=Mardak, r=sdwilsh 
Bug 504021 - Add an API to the script security manager to clamp principals for a given context. r=jst/bzbarsky sr=dveditz 
Bug 519608.  In the common case, when wrapping .childNodes and .style we already have a wrapper for the element; make the PreCreate fast in this case.  r=peterv 
Bug 514425.  Be a little more careful about our ClearForm calls.  r=sicking 
Backed out changeset e22b5d4e8ce9 (bug 518940) on suspicion of causing Linux orange. 
Bug 488249 followup.  Make some more HTML nodeinfos use the right namespace. 
Bug 514120.  Don't bother looking for XBL bindings on non-XUL nodes in display:none subtrees.  r=sicking,enn 
Bug 519987.  Test and assert.  r=sicking 
Bug 518003 - implement function to check whether element matches a CSS selector. r+sr=bzbarsky 
Bug 514660. Use classes instead of an explicit 'style' attribute to style the anonymous DIV of a text control, so that the styles are treated as user-agent styles and not removed when author styling is disabled. r=bzbarsky 
Bug 512336.  Make frame lists doubly-linked.  r=roc,fantasai 
Bug 516742.  Make RFindLineContaining walk backwards along the lines' frames too, not just along the lines.  r=roc,fantasai 
Bug 512338.  Make HitTestChildren use GetPrevSibling.  r=jwatt 
Bug 499447.  Don't restart our interrupted reflow until some time passes, to give system event processing a fair shot.  r=bzbarsky 
Bug 519590.  Don't interrupt reflow until some time has passed.  r=roc 
Update comment to reflect reality; no bug 
Add missing SetLevel call that is caught by assertions once the following patch lands.  (Bug 492675)  r=bzbarsky 
Make nsStyleSet use nsRuleWalker objects on the stack rather than in a member variable.  (Bug 492675)  r=bzbarsky 
Bug 506267 - [r=bzbarsky sr=dbaron] 
Bug 514415 - Expose NetUtil's reference to nsIIOService. r=sdwilsh, sr=bzbarsky 
Bug 520353. querySelector(), querySelectorAll() and mozMatchesSelector() handle null and undefined incorrectly. r=bzbarsky 
Bug 519905.  Avoid some QIs to nsWrapperCache.  r=peterv 
Fixing bug 504862. Sanitize modal dialog argument handling. r=mrbkap@gmail.com, sr=bzbarsky@mit.edu 
Bug 502567.  Get rid of the silly ShouldBuildChildFrames check.  r=neil 
Bug 521010.  Expose a .script on jsdIValue, r=brendan 
Implement CSS transitions:  handle starting and animation of the transitions.  (Bug 435441)  r=bzbarsky  sr=roc 
Eliminate nsStyleAnimation::StoreComputedValue.  (Bug 520396)  r=dholbert,bzbarsky 
Make parsing of tree pseudo-elements do proper parenthesis matching.  (Bug 521044)  r=bzbarsky 
Parse pseudo-elements into their own pointer so we don't have to go through the trouble of removing them from the pseudo-class list.  (Bug 520848)  r=bzbarsky 
Fix serialization of tree pseudo-elements with arguments.  (Bug 521044)  r=bzbarsky 
Existing callers call IsCSS2PseudoElement on non-pseudo-elements (in particular, anon boxes), so we need to make that not assert and be deterministic.  (Bug 521044)  r=bzbarsky 
Bug 519492.  Use more bits for offsets, fewer for length, for dependent strings.  r=brendan 
Add some much-needed documentation for getAnonymousNodes.  No bug. 
Bug 520421.  HasAttributeDependentStyle is broken on HTML for cased attribute selectors.  r=dbaron 
Fixing grammar error in comment. 
Bug 521525.  Make sure to reflow kids with percentage heights if our computed height changes from specified to auto.  r=dbaron 
Bug 509851 - Flash object does not appear with HTML5 parser enabled. r=bzbarsky. 
Bug 519901 - Allow deleting props from XPCNativeWrappers. r=bzbarsky 
Backed out changeset c5fe17b1caa9 (bug 489925) 
Bug 489925 and bug 522030 branch-safe fix.  Hold strong refs in the id table.  r=jst 
Bug 522030 followup; do the release at a better point.  Fixes orange. 
Add previously-skipped border and outline properties to nsStyleAnimation.  (Bug 521292)  r=dholbert, bzbarsky 
nsCSSValue constructor taking nscolor is a bad idea since nscolor is just PRInt32.  (Bug 521350)  r=bzbarsky 
Better disambiguate nsStyleCoord constructors taking nscoord and nscolor.  (Bug 521352)  r=bzbarsky 
Bug 522050 - select menus appear huge on bugzilla r=bzbarsky 
Put :-moz-system-metric values in nsGkAtoms.  (Bug 522149)  r=bzbarsky 
Make nsMediaFeature::mKeywordTable an mData union.  (Bug 522149)  r=bzbarsky 
Pass the media feature to media feature value getters.  (Bug 522149)  r=bzbarsky 
Add media queries for all of our system metrics exposed in :-moz-system-metric().  (Bug 522149)  r=bzbarsky 
Call WillPaint() on all descendant view observers.  b=517772 r=bzbarsky r=roc 
Bug 521461 - SSL spoofing by setting location.href to SSL page with 204 (No Content) response: security ui treats 204/205 top level requests as subrequests, r=bzbarsky 
Bug 327323 - Can't "Open with" files that are send as application/octet-stream (Linux). r=bzbarsky 
Make ReResolveStyleContext no longer rerun selector matching on next-continuations by making both ReResolveStyleContext and ReParentStyleContext enforce the invariant that all continuations have the same style context.  (Bug 522563)  r=bzbarsky 
Adding test for bug 523096 
Switch nsStyleAnimation from using nsStyleCoord to using its own nsStyleAnimation::Value, so we don't have to add nontrivial destructors to nsStyleCoord.  (Bug 522852)  r=dholbert,bzbarsky 
Implement nsStyleAnimation::Add and Interpolate using the same code underneath.  (Bug 523193)  r=dholbert  sr=bzbarsky 
Bug 522601.  Make inDeepTreeWalker closer to spec behavior and implement various unimplemented methods.  r=sicking,sdwilsh 
Bug 523089.  Fix serialization of [*|foo] selectors.  r=dbaron 
Bug 475156 - correcting cache behavior when using custom conditional request headers, r=bzbarsky 
Serialize type selectors with original case.  (Bug 523341)  r=bzbarsky 
Add support for animation of text-shadow and -moz-box-shadow (the first complex value types that we animate).  (Bug 523196)  r=dholbert  sr=bzbarsky 
Add support for animation of stroke-dasharray to nsStyleAnimation.  (Bug 523355)  r=dholbert  sr=bzbarsky 
Only call GetFromExtension if we have an extension.  (Bug 523672)  r=bzbarsky 
Bug 523817.  Make optional out params actually work and allow [retval] after [optional].  r=shaver 
Bug 523651.  Add a CallQueryInterface that works well with nsCOMPtr.  r=bsmedberg 
Bug 524175.  Compute weight correctly again for selectors involving pseudo-elements, and fail parsing selectors with more than one pseudo-element.  r=zwol 
Bug 507448.  Expose the names of the function arguments on jsdIScript.  r=timeless,brendan 
Bug 497794.  Don't allocate two copies of the image data when doing GetImageData/CreateImageData, just to throw one away immediately.  r=robarnold,jwalden 
Bug 504877 - Check for UniversalXPConnect access further down on the stack chain. r=jst sr=bzbarsky 
Bug 521364.  Make sure that TMFLAGS=stats shows all jitstats other than the platform-specific ones.  r=lw 
Bug 525295.  Rename nsStyleContext::GetPseudoType to GetPseudo.  r=dbaron 
Bug 522390.  Fix percentage-height kids of scrollframes in quirks mode to deal with the height of the scrollframe becoming auto.  r=dbaron 
Bug 507764.  No need to reflow on z-index changes.  r=roc 
Bug 520563.  Shouldn't predefine xml and xmlns prefixes for CSS selectors.  r=dbaron,sicking 
Bug 467005.  Be smarter about our removable script blockers.  r=sicking 
Bug 523666.  Make nsGenericHTMLFormElement::mForm an nsHTMLFormElement.  r=sicking 
Bug 522390 followup.  Fix test orange 
Bug 498648 - Start private browsing while editing a message, cancel, doesn't cancel private browsing; r=bzbarsky,jst,ehsan 
Bug 501847 part 1.  Some preparatory cleanup of GetIBSpecialSiblingForAnonymousBlock.  r=roc 
Bug 501847 part 2.  Make various consumers deal with more than 2 inlines in an {ib} split.  r=tn, sr=roc 
Bug 501847 part 3.  Make nsInlineFrame::SelfIsEmpty return false as needed for inlines that are part of an {ib} split, to avoid weird blank lines in the middle of {ib} splits.  r=dbaron 
Bug 501847 part 4.  Change frame construction to create {ib} splits that have blocks wrapping runs of block kids and inlines wrapping runs of inline kids instead of wrapping all kids from the first block to the last block in a single block.  r=tn,dbaron,roc 
Bug 501847 part 5.  Get rid of the MoveFrames function now that there is only one caller.   r=tn,roc 
Bug 501847 part 6.  Simplify MoveChildrenTo now that it doesn't have to deal with float reparenting.  r=tn,roc 
Bug 524696 Use nsTArray<nsRefPtr<nsAccEvent> > for mEventsToFire r=surkov.alexander sr=bzbarsky 
Bug 526178.  Fix constructor firing order to match Gecko 1.9.1 again.  r=roc 
Backed out changeset 2fa27d8cd3d2 (bug 526178) to fix browser-chrome orange. 
Bug 526178.  Fix constructor firing order to match Gecko 1.9.1 again.  r=roc 
Bug 514232, r=bzbarsky 
Bug 259636.  Don't do sync reflow when setting .value on text inputs.  r=roc, sr=dbaron 
Bug 528002.  InvalidateCanvasIfNeeded can do a lot less work.  r=roc 
Bug 526178 followup.  Remove now-unused AutoEnqueueBinding. 
Bug 528259.  Fixing broken test that was checked in as part of bug 493615. 
Bug 528208.  Measure interval delays from start of callback to start of callback, not from end of callback to start of callback.  r=peterv 
Fix computed values of 'font-weight' to report integers for bold (like for normal) and to report usable values for bolder/lighter.  (Bug 173331, Bug 77882)  r=bzbarsky 
In the ValueList case, don't start image loads for declarations that are overridden by others (just like we already do for the Value case).  (Bug 517224)  r=bzbarsky 
Use property flags for which properties need StartLoadImage called.  (Bug 528634)  r=bzbarsky 
Bug 518114 part 1.  Don't force a virtual GetType call in GetFloatFromPlaceholder.  r=roc 
Bug 518114 part 2.  Use state bits to keep track of what a placeholder is a placeholder for.  r=roc 
Null check mShell in nsPresContext::MediaFeatureValuesChanged.  (Bug 528832)  r=bzbarsky 
Bug 521542.  Fix IsValidSibling to not lie when non-table-related siblings are involved.  r=bernd 
Bug 527464.  Go back to ignoring nowrape in quirks mode if a nonzero width is set in the width attribute.  r=bzbarsky 
Test for bug 513194 - HTML5 parser ends up parsing inline stylesheets twice. r=bzbarsky. 
Bug 513194 - HTML5 parser ends up parsing inline stylesheets twice. r=bzbarsky. 
Bug 528038.  Make sure to propagate inherited changes properly for cases where the change hint doesn't apply to all descendants.  r=dbaron 
Bug 526375.  Enforce always appending to the last continuation for {ib} splits.  r=roc 
Bug 505059.  Don't shut down the layout module while someone is holding a reference to the stylesheet service.  r=dbaron 
Fix bug 528038 merge weirdness 
Bug 505059 build bustage fix. 
Bug 501934. r=bzbarsky sr=Olli.Pettay 
Bug 528493. Prevent script execution while initializing nsDocumentViewer. r=bzbarsky 
Bug 529819.  Don't double-add a node to form.elements['foo'].  r=smaug 
Bug 529859.  Need to submit empty file inputs too.  r=smaug 
Bug 520386. Don't clear scope while executing code in that scope. r=bzbarsky@mit.edu, sr=jst@mozilla.org 
Update bug 529119 tests to not rely on error page titles. 
Bug 528493 preliminary.  Don't MaybeLoadImage on bind if image loading for this node is disabled.  r=bzbarsky 
Bug 528493 preliminary number 2.  Don't call a function that needs to flush while we might be under a scriptblocker.  r=bzbarsky 
Bug 528493. Prevent script execution while initializing nsDocumentViewer. r=bzbarsky 
Bug 529371 - Fix nsPopupSetFrame sibling pointers (crash [@nsWeakFrame::Init][@nsWeakFrame::InitExternal]). r=bzbarsky 
Bug 528134.  Hand out the style context with the rulenode.  r=dbaron 
Bug 530686 followup.  Fix reftest manifest 
Bug 530686 second followup. Fix reftest. 
Bug 531371.  Correctly propagate the backround from a <body style="display: table"> to the viewport as needed.  r=bzbarsky 
Fix test ordering. 
Bug 455472.  Be a little more careful with our handling of application/octet-stream.  r=jst 
Bug 530322 - crash [@ nsWindowWatcher::SizeOpenedDocShellItem(nsIDocShellTreeItem*, nsIDOMWindow*, SizeSpec const&)] [r=bzbarsky] 
Bug 521423.  Make JSString 4 words instead of 2; make substring() and company never have to copy.  r=brendan 
Bug 530240.  Faster NormalizeThis for String objects.  r=brendan 
Bug 532823 followup.  Fix where we add the 3+fp->argc.  r=brendan 
Bug 530255.  Replace GetFromClosure/GetClosureVar/GetClosureArg with hand-crafted LIR in the common easycase of a Call object whose frame is no longer active at record time, and make GetFromClosure use a direct read from the object's dslots if we discover that the frame became inactive between record and trace.  r=dmandelin,brendan 
Bug 532477.  Replace js_SetCallArg/js_SetCallVar with hand-crafted LIR in the common easy case of a Call object whose frame is no longer active at record time.  r=dmandelin,brendan 
Bug 532477 followup to fix bustage. 
Bug 530240 followup.  Can't assume vp[1] is an object here, in fact.  Fixes orange. 
Bug 532847.  Can't assert that sprop has a shortid in callProp/setCallProp until we know the prop is special.  r=brendan 
Bug 523148.  Speed up AddImportantRules.  r=dbaron 
Bug 523288 part 1.  Move matching on id and class to right after matching on tag in SelectorMatches.  r=dbaron 
Bug 523288 part 2.  Get link state and content state lazily.  r=dbaron 
Bug 523288 part 3.  Do a bit less work still in the RuleProcessorData constructor.  r=dbaron 
Bug 523294 part 1.  Change the signature of HasAttributeDependentStyle.  r=dbaron 
Bug 523294 part 2.  Get rid of the aAttribute argument to SelectorMatches; handle attribute changes by checking for matches on selectors including the given attribute both before and after the change.  r=dbaron 
Bug 523294 part 3.  Get rid of the now-unused aStateMask argument to AttributeChanged.  r=dbaron 
Bug 525608 part 1.  Introduce an enum for keeping track of pseudo-elements.  r=dbaron 
Bug 525608 part 2.  Change the CSS parser to not allow anon box selectors with more than the anon box name in them.  Store the pseudo type in pseudo-element selectors.  Enforce that all non-anon-box pseudo selectors have an mNext that selects the element they apply to.  r=dbaron 
Bug 525608 part 3.  Change all style set consumers that ask for a pseudo style context to indicate what they're actually asking for (pseudo-element, anonymous box, or xul tree thing).  r=dbaron 
Bug 525608 part 4.  Change pseudo-element probing and resolution to not use EnumerateTagRules.  r=dbaron 
Bug 525608 part 5.  Change anonymous box rule matching to just use a separate hashtable and not ever run SelectorMatches.  r=dbaron 
Bug 525608 part 6.  Remove null-checks on RuleProcessorData::mContent.  r=dbaron 
Bug 525608 part 7.  Make tree pseudos use a separate hashtable instead of riding along on the rulehash.  r=dbaron 
Bug 525608 part 8.  Reorder the cases in AddRule in order of likelihood.  r=dbaron 
Bug 525952 part 1.  Make sure pseudo-element selectors never land inside SelectorMatches (because tree pseudo-elements do weird stuff with pseudo-classes).  r=dbaron 
Bug 525952 part 2.  Have different macros so nsCSSPseudoClassList.h consumers can tell apart state-related and not-state-related pseudo-classes.  r=dbaron 
Bug 525952 part 3.  Introduce an enum for pseudo-clases.  r=dbaron 
Bug 525952 part 4.  Use the new pseudoclass enum in IsStateSelector and SelectorMatches.  r=dbaron 
Backing out bug 525608 and bug 525952 
Bug 525608 part 1.  Introduce an enum for keeping track of pseudo-elements.  r=dbaron 
Bug 525608 part 2.  Change the CSS parser to not allow anon box selectors with more than the anon box name in them.  Store the pseudo type in pseudo-element selectors.  Enforce that all non-anon-box pseudo selectors have an mNext that selects the element they apply to.  r=dbaron 
Bug 525608 part 3.  Change all style set consumers that ask for a pseudo style context to indicate what they're actually asking for (pseudo-element, anonymous box, or xul tree thing).  r=dbaron 
Bug 525608 part 4.  Change pseudo-element probing and resolution to not use EnumerateTagRules.  r=dbaron 
Bug 525608 part 5.  Change anonymous box rule matching to just use a separate hashtable and not ever run SelectorMatches.  r=dbaron 
Bug 525608 part 6.  Remove null-checks on RuleProcessorData::mContent.  r=dbaron 
Bug 525608 part 7.  Make tree pseudos use a separate hashtable instead of riding along on the rulehash.  r=dbaron 
Bug 525608 part 8.  Reorder the cases in AddRule in order of likelihood.  r=dbaron 
Bug 525952 part 1.  Make sure pseudo-element selectors never land inside SelectorMatches (because tree pseudo-elements do weird stuff with pseudo-classes).  r=dbaron 
Bug 525952 part 2.  Have different macros so nsCSSPseudoClassList.h consumers can tell apart state-related and not-state-related pseudo-classes.  r=dbaron 
Bug 525952 part 3.  Introduce an enum for pseudo-clases.  r=dbaron 
Bug 525952 part 4.  Use the new pseudoclass enum in IsStateSelector and SelectorMatches.  r=dbaron 
Add support for animation of -moz-box-flex.  (Bug 524853)  r=bzbarsky 
Add support for animation of -moz-column-count.  (Bug 524854)  r=bzbarsky 
Add support for animation of -moz-column-rule-width.  (Bug 524855)  r=bzbarsky 
Add support for animation of border-spacing and -moz-transform-origin.  (Bug 524861)  r=bzbarsky 
Stop transitions when -moz-transition-property changes to a value that no longer includes the transitioning property.  (Bug 525530)  r=bzbarsky 
Call BeginUpdate before going into the guts of updating a style attribute so that the resulting flush happens sooner.  (Bug 522595)  r=bzbarsky 
Reference-count CSS compressed data blocks and make them immutable when their reference count is above 1.  (Bug 522595)  r=bzbarsky 
Remove unneeded SlotForValue calls (since SlotForValue will soon require EnsureMutable has been called).  (Bug 522595)  r=bzbarsky 
Ensure that declarations are mutable before calling SlotForValue.  (Bug 522595)  r=bzbarsky 
Call RuleMatched method on CSS rules when they are matched.  (Bug 522595)  r=bzbarsky 
Cache important rule the first time the rule is matched so we don't rely on the declaration for it past that point.  (Bug 522595)  r=bzbarsky 
Make CSS style rule implementations hold on to their data block once RuleMatched has been called so that they follow the immutability contract of nsIStyleRule.  Remove workarounds in tests for transitions bugs caused by these violations of style rule immutability.  (Bug 522595)  r=bzbarsky 
Bug 340017.  Make document.formName work in XHTML.  r=bzbarsky 
Bug 526596.  Make sure appends to an {ib} split coalesce blocks correctly if the appended frames start with a block and the trailing inline of the split is empty.  r=roc 
Bug 531148.  Fix appends of a block to the trailing inline of an {ib} split which has an inline parent.  r=roc 
Bug 529749.  Make sure nsRuleWalker never has a null mCurrent.  r=dbaron 
Bug 531933.  Give HasStateDependentStyle a better signature.  r=dbaron 
Bug 533048.  Don't do extra work for link targeting in nsDocShellTreeOwner.  r=jst 
Bug 533636.  Speed up IsSecurityWrapper.  r=mrbkap 
Bug 525608 followup.  Initialize the variable, and remove the extra branch.  r=dbaron 
Bug 534120.  When jsd is paused unhook as much as we can, so we don't interfere with the jit.  r=timeless, jorendorff. 
Change common NS_ASSERTION (bug 404693) to NS_WARN_IF_FALSE so we can make progress on making assertions be reftest failures (bug 472557).  r=bzbarsky 
Bug 534120.  Fixing build bustage on windows. 
bug 528292: convey the mForceAllowThirdPartyCookie flag when setting up a replacement channel for a redirected HTTP request; r,sr=bzbarsky 
Bug 513990 -  Add provisions to nsFrameLoader for reflow and resize events. r=bzbarsky 
Bug 534676.  Fix object hashtable lifetime management.  r=timeless 
Bug 533529.  Detect it if someone calls GetNextToken when we're not initialized and bail out.  r=bzbarsky 
update comments to clarify that (get|set)CookieString[FromHTTP] should be passed a channel so that cookies are correctly get/set when third-party cookies are disabled by the user; rs=bzbarsky 
Bug 531148 followup.  Actually return a value here! 
Bug 532363 - TM: "Assertion failure: IsDenseArrayId(cx, obj, (jsid) prop), at ../jsarray.cpp". r=bzbarsky. 
Bug 533148.  Go back to the MAX_LENGTH we used to have.  r=brendan 
Don't try to get a nsLineBox* from an empty line list, it aborts a debug build. b=533379 r=bzbarsky 
Drain overflow frames when the last frame from principal child list is pulled. b=533379 r=bzbarsky 
Bug 488046 - Some random crash in [@ nsDocShell::EnsureContentViewer], r=bzbarsky 
Make nsRefreshDriver reference-counted instead of being a sub-object of the pres context.  (Bug 531585)  r=bzbarsky 
Make the transition manager reference-counted.  (Bug 531585)  r=bzbarsky 
Make nsRefreshDriver hold a reference to its observers while notifying them.  (Bug 531585)  r=bzbarsky 
Add support for animation of nsRect values.  (Bug 520488)  r=bzbarsky 
Add support for animation of 'visibility' to transitions (but make it a special case for transitions).  (Bug 531942)  r=bzbarsky 
Add support for animation of 'background-position' and 'background-size'.  (Bug 532307)  r=bzbarsky 
Make setting property after setting transition-duration and transition-delay to 0 stop running transitions on that property: step 1: move static function up.  (Bug 522643)  r=bzbarsky 
Make setting property after setting transition-duration and transition-delay to 0 stop running transitions on that property: part 2: make GetElementTransitions faster so we can call it more often.  (Bug 522643)  r=bzbarsky 
Make setting property after setting transition-duration and transition-delay to 0 stop running transitions on that property: part 3: main patch.  (Bug 522643)  r=bzbarsky 
Bug 531364 - Change up the order of these calls. r=peterv sr=bzbarsky 
Bug 508562.  Make it possible to not have js strict warnings in debug builds.  r=bzbarsky, sr=jst 
Bug 524408.  File inputs should remember the last-used directory on a per-site basis.  r=bzbarsky 
Make nsRefreshDriver reference-counted instead of being a sub-object of the pres context.  (Bug 531585)  r=bzbarsky 
Make the transition manager reference-counted.  (Bug 531585)  r=bzbarsky 
Make nsRefreshDriver hold a reference to its observers while notifying them.  (Bug 531585)  r=bzbarsky 
Add mechanism for returning computed value name of certain longhand properties of our fake shorthands.  (Bug 531585)  r=bzbarsky 
Dispatch transitionend events.  (Bug 531585)  r=bzbarsky 
Make nsRefreshDriver reference-counted instead of being a sub-object of the pres context.  (Bug 531585)  r=bzbarsky 
Make the transition manager reference-counted.  (Bug 531585)  r=bzbarsky 
Make nsRefreshDriver hold a reference to its observers while notifying them.  (Bug 531585)  r=bzbarsky 
Add mechanism for returning computed value name of certain longhand properties of our fake shorthands.  (Bug 531585)  r=bzbarsky 
Dispatch transitionend events.  (Bug 531585)  r=bzbarsky 
Bug 535911.  Silence the bogus assertion.  r=roc 
Bug 535721.  Deal with MoveChildrenTo on non-siblings.  r=roc 
Bug 535361.  Clear our child docshell list before messing with the new document viewer.  r=jst 
Bug 500882 part 1.  Give nsIContent an nsIFrame member.  r=smaug, sr=roc 
Bug 500882 part 2.  Switch setting of primary frames to the new API; switch nsFrameManager::GetPrimaryFrameFor to the new API; remove resulting gobs of dead code.  r=roc 
Bug 500882 part 3.  Switch accessibility module to using the new GetPrimaryFrame API.  r=surkov, sr=roc 
Bug 500882 part 4.  Switch content module to using the new GetPrimaryFrame API.  r=smaug, sr=roc 
Bug 500882 part 5.  Switch layout module to using the new GetPrimaryFrame API.  r=roc 
Bug 500882 part 6.  Switch remaining modules to using the new GetPrimaryFrame API.  r=smaug,roc 
Bug 500882 part 7.  Remove the old GetPrimaryFrameFor API.  r=roc, sr=dbaron 
Bug 500882 part 8.  Remove the SetMayHaveFrame/MayHaveFrame vestiges.  r=smaug 
Bug 500882 followup.  For some frame types, we set the primary frame multiple times, to the same value.  Fixes orange 
Bug 500882 another followup.  This assertion is currently false for comboboxes; we need to fix them first.  Needed to fix orange. 
Bug 500882 followup.  Restore bit that shouldn't have gone away. 
Bug 536789.  Null-check the body, since we might not have one.  r=dbaron 
Bug 536772.  Wallpaper over us switching the subdoc map entry too early.  r=dbaron 
Bug 536931.  Check whether we found a content node before trying to get its primary frame.  r=dbaron 
Bug 508473 followup.  Remove some more dead code. 
Bug 536718.  Clean up NotifyDestroyingFrame.  r=roc 
Bug 534808. Need to clear descendant intrinsic widths on height changes, due to replaced elements.  r=dbaron 
Rename HTMLCSSStyleSheetImpl to nsHTMLCSSStyleSheet.  (Bug 239008)  r=bzbarsky 
Move class definition of nsHTMLCSSStyleSheet into its own header.  (Bug 239008)  r=bzbarsky 
DeCOMify nsHTMLCSSStyleSheet.  (Bug 239008)  r=bzbarsky 
Make EnsureUniqueInner return a tri-state result that says whether it needed to do any cloning.  (Bug 536379)  r=bzbarsky 
ClearRuleCascades when ensuring a stylesheet has a unique inner so that matched rules point back to the new rules.  (Bug 536379)  r=bzbarsky 
Add method to nsStyleSet to call EnsureUniqueInner on all CSS sheets.  (Bug 536379)  r=bzbarsky 
Add nsPresContext::EnsureSafeToHandOutCSSRules.  (Bug 536379)  r=bzbarsky 
Ensure that it is safe to hand out CSS rules before doing so.  (Bug 536379)  r=bzbarsky 
Bug 536716.  Make BuildScrollFrame not set the primary frame on the content, fix letter frames to reset primary frames to 0 before resetting them to the new value as needed, fix things so <area> never gets a frame of its own, and reenable the SetPrimaryFrame assertion when the primary frame is being changed from one non-null frame to another.  r=roc 
Bug 536623 and bug 537141.  Don't attempt to maybe-create textframes for kids of parents that have xbl childlists on insert and append: we know we didn't skip creating any frames that didn't need skipping unconditionally in that situation, and trying to create them can put them in the wrong place.  r=roc 
Bug 528306 part 1.   Don't stop the refresh driver timer on observer removal; instead just stop it if it fires when there are no observers.  r=dbaron 
Bug 528306 part 2.  Make nsCSSFrameConstructor reference-counted.  r=dbaron 
Bug 528306 part 3.  Hook up restyle processing to nsRefreshDriver.  r=dbaron 
Trying to fix orange due to landing of bug 528306 by fixing assumption in test. 
Bug 537419.  mContent might be null here.  r=dbaron 
Bug 499841. Pass the block frame that contains the first letter style to RemoveFirstLetterFrames so that the NS_BLOCK_HAS_FIRST_LETTER_CHILD bit can be unset on it. Always set the NS_BLOCK_HAS_FIRST_LETTER_CHILD bit on the first continuation only. r=bzbarsky 
Bug 484400. When removing a positioned element use the placeholder frame to get the relevant containing block for first-letter processing. r=bzbarsky 
Bug 396367. Make sure that we have flushed content notifications anytime we process restyles that might cause frame construction. r=bzbarsky 
Bug 396367. Make sure that we have flushed content notifications anytime we process restyles that might cause frame construction. r=bzbarsky 
Bug 531364 - Add a function call here. r=peterv sr=bzbarsky 
Bug 508369. Fix test. r=bzbarsky 
Make members of nsCSSStyleSheetInner private.  (Bug 239008)  r=bzbarsky 
Remove CID and layout module constructor for CSS style sheets.  (Bug 239008)  r=bzbarsky 
Bug 507817 followup.  Remove some code that was just triggering a warning and not doing anything.  r=vlad 
bug 43178 - replace incorrect border, frame and rules handling code in content by css rules, initial patch - fantasai, a lof of input - bz r=bzbarsky 
Store transitions for one refresh cycle after they complete so that merging with a non-animation style change doesn't make us start a second transition to transition the last step.  (Bug 537151)  r=bzbarsky 
Bug 514300 part 1.  Use the owner document to look for the binding manager.  r=sicking 
Bug 514300 part 2.  Make nsBindingManager::ContentRemoved remove the node from all the places it needs to be removed from.  Also fixes bug 415301 and bug 495354.  r=sicking 
Bug 537507.  Make sure to flag XUL documents as allowing InitialReflow to be called on the presshell even if there are no presshells around when StartLayout is called on the document.  r=jst 
Adding bug 535806 test.  r=dbaron 
Bug 514300.  Actually add the test to reftest.list 
bug 28800 remove support for scrollable rowgroups moa=roc r=bzbarsky 
Bug 539362 - Get rid of hidden function warnings. r=bzbarsky 
Bug 540642 - Call CanLoadImage before preloading images too. r=bzbarsky sr=dbaron 
Bug 539891 - test_bug478251.html fails with the HTML5 parser. r=bzbarsky. 
bug 500983 - "Use System Proxy Settings" should be default for new profiles. r=bzbarsky 
Bug 538421: Add a nsIAboutModule flag to hide 'about:' pages from about:about. r=mano, sr=bzbarsky 
Ensure intrinsic size is always initialized.  (Bug 541028)  r=bzbarsky 
Fake pushback of invalid eCSSToken_URL results from NextURL.  (Bug 541434)  r=bzbarsky 
Bug 539882 - Make test_bug324378.html not expect that attributes on second <head> move to head. r=bzbarsky. 
Bug 520581 - HTML5 parser reverses attributes on some elements. r=bzbarsky. 
Bug 541382.  Buttons with non-visible overflow should clip their contents.  r=roc 
Bug 538063.  Fix the assert condition to not trigger for <area>s.  r=tn 
Bug 541742 - Make XPCNativeWrapper.unwrap work. r=bzbarsky 
Fix CSS 2.1 test suite metadata for tests bzbarsky wrote in 2005. 
Bug 539687 - Add </label> tags in test_bug353415-2.html to make type=hidden not be a child of label. r=bzbarsky. 
Bug 542912 - Refactor the newline handling behavior in nsTextEditRules; r=bzbarsky sr=roc 
Bug 533381 - Use the old parser for about:blank when HTML5 parser enabled. r=bzbarsky. 
Bug 540576 - Remove trailing white space from a blank document to make its body have no WS with the HTML5 parser. r=bzbarsky. 
Bug 496011. If removing the root of a native anonymous subtree, recreate the parent. r=bzbarsky 
Bug 537645. When pulling frames try the overflow list before going to the next in flow. r=bzbarsky 
Bug 538267. Use the correct continuation of the block frame when creating floating first-letter frames. r=bzbarsky 
Bug 538308. Inside a tree don't consider XUL nodes under non-XUL nodes. r=neil sr=bzbarsky 
Bug 542406.  Make readonly='true' on XBL fields work again.  r=sicking 
Bug 540531.  Freeze the refresh driver when a page goes into bfcache.  r=dbaron 
Bug 543930 - Assertion misplaced after code additions above a disconnected #ifdefed else branch. r=bzbarsky. 
Bug 541050 - Add greater-than signs to test_bug404548.html to make it not fail with the HTML5 parser. r=bzbarsky. 
Bug 543959 - Weaken test_bug486741.html not to test if document.open() creates a root element. r=bzbarsky. 
Appropriately escape CSS identifiers when serializing.  (Bug 543428)  r=bzbarsky 
Bug 329212 - display the title element contents as a tooltip in SVG. r=dao,sr=bzbarsky 
Bug 542033.  Use the right MOZ_FIX_LINK_PATHS when darwin is the target.  r=ted 
Bug 543079.  Put system libs into OS_LIBS, not EXTRA_DSO_LDOPTS, when building libxul.  r=ted 
Bug 543081.  Put -lobjc in LDFLAGS, not LIXBUL_LIBS.  r=ted 
Bug 543086.  Don't try to build the default plug-in on mac if we don't have pbbuild.  It'll just fail.  r=ted 
Bug 543111.  Make breakpad compile when cross-compiling with toolwhip.  r=ted 
Bug 453929.  Cache getElementsBy(Class)Name return values.  r=jst 
Backed out changeset df90f0171ba7 (bug 543111) 
Bug 542620. Fix incorrect usage of nsFrameList. r=bzbarsky 
Bug 452093 - [r=bzbarsky r=joe] 
Adding a test 
Bug 542919 - Refactor the plain text editor initialization to facilitate lazy initialization; r=bzbarsky sr=roc 
Bug 221820 - Part 1: Call EnsureEditorInitialized from all places where editor needs to exist; r=bzbarsky 
Bug 538087.  Hook up reflow to refresh driver.  r=dbaron 
Bug 545927.  Check for negative numbers before doing roman-numeral stuff.  r=sicking 
Bug 513146.  Since this test assumes things about the positioning of things on the page but doesn't flush layout before running, we need to make sure to either run it when pageload is done or make it flush layout up front.  Do the former.  Will get gavin's review. 
Bug 547342 attempted fix.  Since scrollToRow doesn't flush layout, and since layout is what sets up the tree view, and since scrollToRow bails out early if there's no view, make sure to flush layout before calling scrollToRow.  But we should really consider fixing scrollToRow instead. 
Bug 530275.  Move more MIME types into nsMimeTypes.h so we don't have to hardcode the strings in various places.  r=bzbarsky 
Bug 124709.  Treat application/mathml+xml as an XML type.  r=bzbarsky 
Bug 530373.  Use NS_MIN/NS_MAX instead of PR_MIN/PR_MAX in DOM code.  r=bzbarsky 
Bug 530410.  Use NS_MIN/NS_MAX instead of PR_MIN/PR_MAX in embedding code.  r=bzbarsky 
Bug 530415.  Use NS_MIN/NS_MAX instead of PR_MIN/PR_MAX in spellcheck code.  r=bzbarsky 
Bug 530373 followup.  Fix build bustage. 
[mq]: Fix build bustage from bug 530410. 
Bug 513146.  Address review comment about adding a comment.  r=gavin 
r=cbiesinger sr=bzbarsky. 
Bug 513074 -  remove sync writes from current cache, r=biesi,michal.novotny sr=bzbarsky 
Bug 510202 - xlink:title should only work on links. r=dao,sr=bzbarsky 
Bug 534526 part 1.  Remove a SetAttrAndNotify caller by making XUL inherit from nsStyledElement.  r=sicking 
Bug 534526 part 2.  Move AttributeWillChange out of SetAttrAndNotify, and in particular to before ParseAttribute, since some ParseAttribute implementations actually change the attribute value.  Also move it to before we've changed the CSSDeclaration for inline style changes.  r=sicking,longsonr,dbaron 
Bug 534526 part 3.  Change the ordering in nsSVGElement::UnsetAttr.  r=longsonr 
Bug 534526 part 4.  Tests. 
Bug 547239.  Don't lose our POST body on 307 redirects and internal proxy-related redirects.  r=sicking.  r=jduell and biesi pending. 
Bug 431524.  Make the 'cursor' set on a file input work for its button too.  r=bzbarsky, ui-r=alimi 
Merge a push that I failed to actually push to the right tree initially 
Bug 538663.  Allow traceable natives with up to 8 arguments, and use that in quickstubs as we can.  r=jorendorff 
Bug 538663.  Allow traceable natives with up to 8 arguments, and use that in quickstubs as we can.  r=jorendorff 
Bug 538663 followup.  Don't rely on having python 2.5.  r=jorendorff 
Bug 547685 - Weaken test_bug418464.html to make both the old and the HTML5 parser pass. r=bzbarsky. 
Bug 539887 - Comment out a test assertion in test_bug255820.html. r=bzbarsky. 
Make the 'border' shorthand reset -moz-border-image (per recent CSS WG decision) and -moz-border-*-colors.  (Bug 482692)  r=bzbarsky 
Bug 457800 - Implement placeholder attribute for text input fields; r=ehsan,bzbarsky,bolter sr=roc ui-r=faaborg 
Bug 469861.  Create a block for any block-level <math>.  r=dbaron 
Bug 548495.  Eliminate sources of O(N^2) backtracking in the linebreaker.  r=masayuki 
Add reftest for bug 124709, r=bzbarsky 
Bug 152001.  Map the .mml extension to application/xhtml+mathml if there is no existing mapping for it.  r=bzbarsky 
Bug 548495 followup to fix reftest failure.  r=masayuki pending 
Bug 549132 - middle-mouse paste fails in text input field if it is empty and does not have focus; r=bzbarsky 
Make the nsIChannel comments clearer in terms of threading behavior.  r=biesi 
Bug 549208 - Dragging a text in an input/textarea element doesn't make the placeholder disappear; r=bzbarsky 
Bug 547854 - Improve outermost svg:title tooltip behaviour. r=dao,r=bzbarsky 
Bug 523496: DeCOMtaminate nsCSSParser.  r=bzbarsky sr=dbaron 
Bug 544112 part 1: Make speculative and chrome style sheet loads go through the document object.  Rearrange some C++ unit tests so they'll still link after part 2.  r=bzbarsky sr=dbaron 
Bug 544112 part 2: DeCOMtaminate and devirtualize nsCSSLoader.  r=bzbarsky sr=dbaron 
Bug 527977 part 1.  Remove unused ClearInheritedData functions.  r=zwol 
Bug 527977 part 2.  Add a way to destroy the structs in an nsInheritedStyleData without trying to deallocate the object itself.  r=zwol 
Bug 527977 part 3.  Change the style context cached struct storage; inline GetStyle* and PeekStyle* now that they're pretty dead-simple.  r=zwol, sr=dbaron 
Bug 527977 part 4.  Have rulenode always cache inherit structs on the style context (posibly in addition to caching on the rulenode.  r=zwol, sr=dbaron 
Bug 527977 followup.  Fix build bustage. 
Bug 547239 followup to address biesi's review comments. 
Bug 522632.  Make cellContent blocks returns false from IsContainingBlock.  r=dbaron 
Part of bug 541496: Don't use the CSS parser's "low level" error flag to signal namespace lookup failure.  r=bzbarsky 
bug 281241 if a content based column looses its content based children we need to create anonymous cols r=bzbarsky 
bug 229247 remove no op quirk code r=bzbarsky 
bug 378935 the border collapse code relies on having mutliple dead cell data entries in a row r=bzbarsky 
Bug 550386: content/base/src/nsFileDataProtocolHandler.cpp failed to compile with SS12 r=bzbarsky 
Bug 550405: [Sun Studio] Mangled name mismatch for LoadInlineStyle and LoadStyleLink (release build only) r=bzbarsky 
Bug 488850.  Remove imgRequestProxies from the loadgroup asynchronously.  r=joedrew, sr=vlad 
Bug 550569 - Integrate BrowserScope's HTML editor test suite with Mozilla's mochitest framework; r=bzbarsky 
Bug 550842.  Ensure at least pointer compatible alignment of memory area for RuleProcessorData::operator new.  r=bzbarsky 
Bug 503832.  Visiting a new fragmentid (scrolling to named anchor) should set the title of the page in the global history for the url with that anchor.  r=bzbarsky 
Bug 550882.  Make sure to create scrollbars for the viewport even if it's currently overflow:hidden, since various changes to <body> and the like can change the propagated overflow.  r=roc 
Bug 550458.  Treat quotes the same as spaces for determining whether a string should be passed to keyword.URL.  r=jst 
Bug 531801 followup (should fix bug 547537).  Don't prevent caching of non-SSL content to disk if the pref for not caching SSL content to disk is set.  r=bzbarsky 
Bug 550842 followup.  Make this actually compile. 
Backed out changeset 2da8ac54d264 (followup to bug 503832) 
Backed out changeset c7c0db9074c7 (bug 550882) on suspicion of causing a Tsspider regression. 
Backed out changeset dc835fb21c0c (bug 503832) on suspicion of causing a Tsspider regression. 
Bug 548441.  Don't write to ndata after we delete the object it's in.  r=bzbarsky 
Bug 549236.  Initialize these variables, so we don't use uninitialized values later.  r=bzbarsky 
Bug 545407 Remove code that disables DNS pre-fetching for APP_TYPE_MAIL/EDITOR docshells (in favour of letting it be managed by app specific policies). r=bzbarsky 
Bug 550882.  Make sure to create scrollbars for the viewport even if it's currently overflow:hidden, since various changes to <body> and the like can change the propagated overflow.  r=roc 
Backed out changeset f0239b3789d9 (bug 550882) because it causes a Tsspider regression. 
Bug 503832.  Visiting a new fragmentid (scrolling to named anchor) should set the title of the page in the global history for the url with that anchor.  r=bzbarsky 
Bug 510202 - simplify C++ code now that bug 461199 has landed. r=sdwilsh,sr=bzbarsky 
Bug 182954 - Content should use the newer nsIPrefService APIs instead of nsIPref.  r=neil,bzbarsky 
Bug 541078 - Turn editing off in BeginLoad(). r=bzbarsky. 
Bug 458037 - Implement isContentEditable; r=bzbarsky sr=roc 
Remove code that was a remnant of the old storage for transition-property.  (Bug 550497)  r=bzbarsky 
Bug 546573 - EnsureInnerWindow from wrappers. r=jst sr=bzbarsky 
Bug 541937 - XMLSerializer should serialize content of link tags. r=Olli.Pettay sr=bzbarsky 
Bug 550882.  Make sure to create scrollbars for the viewport even if it's currently overflow:hidden, since various changes to <body> and the like can change the propagated overflow.  r=roc 
Bug 551118.  Reuse string-to-number code and fix bug with negative hex in strings being treated as a negative integer.  r=brendan 
Bug 551118 followup.  Need to conver spaces to 0, not NaN.  r=jorendorff 
Bug 549094 - Change the value of editor.singleLine.pasteNewlines to match the Firefox value across all Gecko based applications; r=bzbarsky 
Bug 509569.  Avoid assertion by not storing structs with unused inherit logical box props in them, even though it would be ok to do so.  r=dbaron 
Bug 538082.  These asserts are asserting things that happen to not always be true.  r=dbaron 
Bug 551699.  Use the content insertion frame of our containing block when looking for our static position.  r=dbaron 
Bug 552439.  Make sure to gtk_widget_realize() the GtkEntry before trying to get information out of it; otherwise it doesn't pick up the right styles before being interrogated.  r=karlt 
Bug 554707.  Throw the right exception when document.open/close/write/writeln happen on an XHTML document.  r=bzbarsky 
Bug 552334.  Deal with z-indices whose difference overflows a 32-bit signed int.  r=roc 
Bug 494117: remove PresContext argument to nsStyleSet::GetContext. r=bzbarsky 
Bug 494117: Mechanically change 'ReParent' to 'Reparent' throughout the tree.  r=bzbarsky 
Split nsStyleSet::ResolveStyleForRules into two different APIs for the two different types of uses.  (Bug 147777)  r=bzbarsky 
Add mechanism for separate style data for visited style.  (Bug 147777)  r=bzbarsky 
Add function to nsStyleUtil for choosing the appropriate color from style data based on link visitedness.  (Bug 147777)  r=bzbarsky 
Add nsIDOMWindowUtils::getVisitedDependentComputedStyle for use in tests.  (Bug 147777)  r=bzbarsky 
Introduce TreeMatchContext for additional output from SelectorMatchesTree.  (Bug 147777)  r=bzbarsky 
Introduce NodeMatchContext for additional input into SelectorMatches.  (Bug 147777)  r=bzbarsky 
Propagate whether we have a relevant link out of selector matching.  (Bug 147777)  r=bzbarsky 
Make nsStyleContext::FindChildWithRules deal with the visited style context.  (Bug 147777)  r=bzbarsky 
Pass through desired link-visitedness on the rule walker and construct if-visited style contexts in the style set when visited styles are present.  (Bug 147777)  r=bzbarsky 
Propagate whether we have a relevant link from rule processors to style set.  (Bug 147777)  r=bzbarsky 
Set NS_STYLE_RELEVANT_LINK_IS_VISITED when appropriate.  (Bug 147777)  r=bzbarsky 
Put visited handling in the tree match context.  (Bug 147777)  r=bzbarsky 
Add method to munge the content state appropriately for how we're matching so that matching operations in HTML and CSS style sheets follow the new rules.  (Bug 147777)  r=bzbarsky 
Bug 551118 followup.  Need to conver spaces to 0, not NaN.  r=jorendorff 
Bug 551533.  Use StringMatch in find_split instead of rolling our own search.  r=lw 
Bug 551539 - use memcmp for inner loop of StringMatch, sometimes (r=bzbarsky) 
(Fixed assert) Bug 551539 - use memcmp for inner loop of StringMatch, sometimes (r=bzbarsky) 
Make style contexts know if they are the if-visited style.  (Bug 557287)  r=bzbarsky 
Don't start image loads for the if-visited style contexts.  (Bug 557287)  r=bzbarsky 
Bug 553124 - After bug 147777 lands, private browsing doesn't need to disable coloring of visited links any more; r=sdwilsh,bzbarsky 
Bug 550882 followup.  Remove the hack, since it's not useful anymore. 
Bug 542919 - Refactor the plain text editor initialization to facilitate lazy initialization; r=bzbarsky sr=roc 
Bug 221820 - Part 1: Call EnsureEditorInitialized from all places where editor needs to exist; r=bzbarsky 
Bug 221820 - Part 2: Make the editor initialization lazy (initialize only when needed); r=bzbarsky 
Bug 221820 - Part 3: Debug-only assertion for reentrancy detection; r=bzbarsky 
Bug 221820 - Part 4: Fix the newline handling for text fields without an editor; r=bzbarsky 
Bug 221820 - Part 5: Make lazy editor initialization compatible with placeholder values; r=bzbarsky 
Bug 221820 - Part 6: Fix a failing test; r=bzbarsky 
Eliminate NS_HIDDEN and NS_HIDDEN_ from layout/style/.  Search-and-replace plus formatting fixes.  rs=bzbarsky, no bug. 
No need to null-check aRuleWalker.  (Bug 557154)  r=bzbarsky 
Avoid showing black when the if-visited style is transparent and the unvisited style is a color.  (Bug 557584)  r=bzbarsky 
Bug 533882 - Don't call into CAPs when we don't have to. r=jst sr=bzbarsky 
Bug 537120 part 1: Make sure the multipart converter's part channels install a type sniffer as needed.  r=jduell 
Bug 537120 part 2: be more conservative as far as application of converters goes.  r=jst 
Bug 553366. When flushing, make sure to flush external documents too. r=bzbarsky 
Bug 553363. Don't allow being in the middle of a flush to prevent the docloader from stopping. r=bzbarsky 
Bug 553359. Cache whether the PresContext is chrome or not. r=bzbarsky 
Bug 553363. Don't allow being in the middle of a flush to prevent the docloader from stopping. r=bzbarsky 
Bug 542919 - Refactor the plain text editor initialization to facilitate lazy initialization; r=bzbarsky sr=roc 
Bug 553359. Cache whether the PresContext is chrome or not. r=bzbarsky 
Bug 221820 - Part 1: Call EnsureEditorInitialized from all places where editor needs to exist; r=bzbarsky 
Bug 221820 - Part 2: Make the editor initialization lazy (initialize only when needed); r=bzbarsky 
Bug 221820 - Part 3: Debug-only assertion for reentrancy detection; r=bzbarsky 
Bug 221820 - Part 4: Fix the newline handling for text fields without an editor; r=bzbarsky 
Bug 221820 - Part 5: Make lazy editor initialization compatible with placeholder values; r=bzbarsky 
Bug 221820 - Part 6: Fix a failing test; r=bzbarsky 
Bug 553366. When flushing, make sure to flush external documents too. r=bzbarsky 
Bug 553359. Cache whether the PresContext is chrome or not. r=bzbarsky 
Bug 507775. r=bzbarsky sr=roc 
Bug 556830. Fill the propcache even if we start the lookup on a Call whose parent is the global the property is on.  r=jorendorff 
Bug 556866.  Try to cache the slot even for JOF_INCDEC ops, as long as the setter is a stub.  r=jorendorff 
Backed out changeset 698ace1f1027 (bug 556830) for causing jsreftest failures. 
Bug 502937. Part 0. Make sure onload blocker is in place with document.open(). r=bzbarsky 
Bug 502937. Part 1. Fix up a test. r=bzbarsky 
Bug 502937. Part 1.1. Fix up another test. r=bzbarsky 
Bug 502937. Part 1.2. Make sure that SVG references to external documents in reftests get loaded before onload. r=bzbarsky 
Bug 502937. Part 2. Add bits to nsINode.h. r=bzbarsky sr=sicking 
Bug 502937. Part 2.5. Provide an API to get the flattened tree parent of an nsIContent. r=bzbarsky 
Bug 502937. Part 3. Implement lazy frame construction. r=bzbarsky sr=roc 
Bug 502937. Part 4. Implement ContentRangeInserted to create frames for a range of nodes that aren't at the end of a childlist. r=bzbarsky sr=roc 
Bug 557605.  Quickstub some XHR things.  r=peterv 
Bug 552573.  Cache the Unicode responseText.  r=sicking 
Bug 492925.  Make array access on medialists actually work.  r=jst 
Clean up SkipUntil handling in parsing of pseudo-classes with arguments.  (I haven't found any cases where this actually changes behavior, but it's needed for the next patch.)  (Bug 544834)  r=bzbarsky 
Implement :-moz-any() selector to allow simplification of user-agent style sheets.  (Bug 544834)  r=bzbarsky 
Make some selectors in html.css faster using :-moz-any().  (Bug 544834)  r=bzbarsky 
Bug 561516.  Switch from an array of function pointers to a switch to make it easier to modify this code in the future.  r=dbaron 
Bug 559284.  Make various HTML5 sectioning elements display:block.  r=dbaron 
Bug 559618.  Treat negative max-age values as 0.  r=jduell 
Bug 514412: about:blank should derefence to an empty stream. r=bzbarsky 
Bug 548232 - Make meta charset not have an effect on document.open()ed documents in the HTML5 parser (reverting most of bug 539887). r=bzbarsky. 
Bug 562688 part 1.  Add a new non-virtual IsElement API on nsINode.  r=jst, sr=sicking 
Bug 562688 part 2.  Create a mozilla::dom::Element class sitting between nsGenericElement and nsIContent.  r=jst, sr=sicking 
Bug 562688 part 3.  Use the new element APIs in nsContentList.  r=jst 
Bug 562688 part 4.  Change GetRootContent and the like to return Elements.  r=jst, sr=sicking 
Bug 562688 part 5.  Change the document id and named item table APIs to use Element.  r=jst 
Bug 562688 part 6.  Eliminate eELEMENT users in content/base.  r=jst 
Bug 562688 part 7.  Eliminate eELEMENT users in the rest of content/.  r=jst 
Bug 562688 part 8.  Change broadcasters to use Element.  r=jst 
Bug 562688 part 9.  Eliminate eELEMENT users in dom/.  r=jst 
Bug 562688 part 10.  Eliminate eELEMENT usage in layout/base.  r=dbaron 
Bug 562688 part 11.  Eliminate eELEMENT usage in layout/generic.  r=dbaron 
Bug 562688 part 12.  Eliminate eELEMENT usage in the rest of layout except layout/style.  r=dbaron 
Bug 562688 part 13.  Eliminate eELEMENT usage in layout/style, except the rule processor.  r=dbaron 
Bug 562688 part 14.  Eliminate eELEMENT usage in the rule processor; switch to Element as we can.  r=dbaron 
Bug 562688 part 14.  Eliminate all remaining eELEMENT consumers.  r=jst 
Bug 562688 part 15.  Remove the eELEMENT bit.  r=jst 
Bug 550889 - Don't pass negative values to SetComputedWidth/Height in nsFrame::BoxReflow. r=bzbarsky 
Bug 559970. Allow input type=text and password and textareas to have their frames constructed lazily. r=bzbarsky 
Bug 560447. Quiet lazy frame construction assertions for area's because they misbehave. r=bzbarsky 
Bug 560441. Quiet some lazy frame construction asserts because framesets don't play the XBL game. r=bzbarsky 
Bug 562319 - Make NavigationUtils.js try harder when detecting if a frame is done loading. r=bzbarsky. 
Bug 556830 part 1.  Change things so a bindname resolve of a global property won't define it on the window in ES5 strict mode.  r=jorendorff 
Bug 556830 part 2. Fill the propcache even if we start the lookup on a Call whose parent is the global the property is on. r=jorendorff 
Bug 556830 followup to fix debug bustage 
A malformed XBL file should trigger a warning, not an assertion, since the code should be able to (and does) handle it.  (Bug 397561)  r=bzbarsky 
Change assertion to error console report for malformed XBL file.  (Bug 397561)  r=bzbarsky 
Bug 560503.  Don't check for mutation observer uniqueness; callers should handle that.  r=sicking 
Bug 561536.  Make sure to call OnStartRequest even if we;re failing on an SSL CONNECT.  r=jduell 
Bug 562137.  Use the UTF-8 decoder to decode UTF-8 instead of just assuming that it really is UTF-8.  r=sicking 
Bug 563487.  removeEventListener on a Window shouldn't throw if there's not listener manager yet; just do nothing. r=smaug 
Bug 365410.  Set our mNumDisplayRows even if we have a height set.  r=mats 
Bug 562971.  Include Element.h as mozilla/dom/Element.h and don't use 'using namespace' quite as much.  r=jst 
Bug 563837.  Don't set primary frames when doing paginated replication of frames for whatever reason, and loosen up some asserts accordingly.  r=roc 
Bug 563837 followup.  Fix the asserts() annotations. 
Fix the font size on button padding tests that depend on it.  (Bug 559125)  r=bzbarsky 
Bug 445673 - Rename mType member of class nsMIMEInfoBase to nSchemeOrType to avoid confusion [r=bzbarsky] 
Bug 564079.  Check that we have a parent before checking whether it's an Element.  r=peterv 
Make PAGE_UP/DOWN scroll at least 1 item, if possible.  b=563642 r=bzbarsky 
Bug 564432 part 1.  Give nsINode next/previous sibling pointers.  r=jst, sr=sicking 
Bug 564432 part 2.  Give nsINode a first-child pointer  r=jst, sr=sicking 
Bug 564435.  Use iterative tree traversals in nsContentList so as to speed it up.  r=sicking 
Bug 564574.  Pass the first appended node to ContentAppended.  r=jst, sr=sicking 
Bug 534149.  Give each nsGlobalWindow a unique ID and expose the IDs on nsIDOMWindowUtils.  r=jst 
Bug 548828. Implement HTMLDocument.head. r=bzbarsky 
Bug 548828. Implement HTMLDocument.head. Mochitest-testcase r=bzbarsky 
Implement storage of calc() expressions in nsCSSValue.  (Bug 363249)  r=bzbarsky 
Add template-based mechanism for computing a calc() tree.  (Bug 363249)  r=bzbarsky 
Implement parsing of calc().  (Bug 363249)  r=bzbarsky 
Implement serialization of calc() values.  (Bug 363249)  r=bzbarsky 
Add mechanism for computation of calc() in the cases where the arguments are only lengths (i.e., where computed style can contain a simple result rather than a calc tree).  (Bug 363249)  r=bzbarsky 
Add mechanism for clamping computation of calc() to nonnegative values.  (Bug 363249)  r=bzbarsky 
Add calc() support for the easiest cases:  properties that take lengths but not percentages and take simple values only (-moz-column-rule-width, -moz-column-width, letter-spacing, word-spacing, marker-offset, outline-offset, border-spacing).  (Bug 363249)  r=bzbarsky 
Add calc() support for lengths in text-shadow and -moz-box-shadow.  (Bug 363249)  r=bzbarsky 
Add calc() support for 'font-size' property, which is the only property for which percents are computed to lengths in nsRuleNode.  (Bug 363249)  r=bzbarsky 
Get rid of (void) C-isms in nsStyleCoord.  (Bug 363249)  r=bzbarsky 
Instantiate the calc ops struct rather than a nested data struct inside of it.  (Bug 363249)  r=bzbarsky 
Bug 564063. If we encounter an area with a bogus primary frame we need to relax the asserts on remaining ancestors. r=bzbarsky 
Bug 564368. Clear lazy frame construction bits when constructing framesets. r=bzbarsky 
Bug 565125 and bug 564974.  Make sure to null out our sibling pointers even if our parent goes away due to gc.  r=jst 
Bug 564981.  Make content flushes after pageload faster.  r=jst 
merging in my changes because people are pushing like mad 
bug 564054 - rebuild cellmap if inserted rows contain a zero rowspan r=bzbarsky 
Bug 564368. Clear lazy frame construction bits when constructing framesets. r=bzbarsky 
Bug 564063. If we encounter an area with a bogus primary frame we need to relax the asserts on remaining ancestors. r=bzbarsky 
Bug 546573 - EnsureInnerWindow from wrappers. r=jst sr=bzbarsky 
Add appropriate styles for the effects of HTML5 sectioning elements on headers.  (Bug 562835)  r=bzbarsky 
Backed out changeset 6a71deda9822 (bug 562649) due to browser-chrome orange. 
Bug 565809.  Move checking for style attribute changes into the cascade level.  r=dbaron 
Bug 565815.  Use Element in the transition manager instead of nsIContent.  r=dbaron 
Bug 565818.  Pass Elements to HasAttributeDependentStyle and HasStateDependentStyle.  r=dbaron 
Bug 565819.  Switch RestyleForRemove/Append/InsertOrChange to using Element and the new DOM traversal APIs.  r=dbaron 
Bug 565820.  Use Element as the return value for ReferencedElement.  r=roc 
Bug 565826.  Use Element in SMIL code as needed.  r=dholbert 
Bug 562700 part 1.  Change some nsIPresShell APIs to take Element and pass it on to the frame constructor.  r=dbaron 
Bug 562700 part 2.  Change the restyle-event functions to take Element.  r=dbaron 
Bug 562700 part 3.  Store Element in the restyle table and pass it to the actual restyling functions.  r=dbaron 
Bug 484710.  Add a notification for when a window's scope stops being usable.  r=jst 
Bug 52019.  Don't treat <font size='+.5'> as <font size='5'>.  r=bzbarsky 
Additional restyling is needed for :empty + E and :empty ~ E selectors.  (Bug 534804)  r=bzbarsky 
Make the 'noappend' selector optimizations only restyle later siblings, which is what they need to do.  (Bug 534804)  r=bzbarsky 
Bug 566216.  Our parent could be a document fragment.  r=dholbert 
Bug 564979.  Get rid of nsINode::GetSibling and just use GetNext/PreviousSibling instead.  r=peterv, sr=sicking 
Backed out changeset 90d627f2471e (bug 564979) because it broke mochitests. 
Bug 563668 - "Be able to know if a form control is an input element or a button element from nsIFormControl" [r=bzbarsky] 
Bug 567292. When making asserts for lazy frame construction, if we hit a leaf frame, forgive any previous transgressions because leaf frames do their own thing. r=bzbarsky 
Bug 567680 - nsMemoryCacheDevide::BindEntry increments the entry count for doomed entries; r=bzbarsky 
Bug 565432 - Newline at the start of an ftp URL makes URL object creation fail. r=bzbarsky. 
Bug 566416.  Make attribute nodes set their mFirstChild correctly.  r=sicking 
Bug 564979.  Get rid of nsINode::GetSibling and just use GetNext/PreviousSibling instead.  r=peterv, sr=sicking 
Bug 564980.  Use JSString::length directly instead of JS_GetStringLength in some places in xpconnect.  r=mrbkap 
bug 567938 -  form.submit() broken if called from <input type='submit'>'s onclick handler. r=bzbarsky 
Bug 567944.  Work around inefficiency in handling eRestyle_LaterSiblings for now.  r=dbaron 
Bug 561874 - Make the HTML5 parser clip deep trees (similar to the old HTML parser) to avoid crashes in recursive code elsewhere. r=bzbarsky 
Bug 8253. Part 1. Disable first-letter and first-line styles in select elements. r=bzbarsky 
Bug 8253. Part 1. Disable first-letter and first-line styles in select elements. r=bzbarsky
Bug 564569.  Speed up the cache-hit case of getElementsBy(Class)Name.  r=jst 
Bug 568564.  Suppress the script filename for cross-origin onerror events.  r=jst 
Bug 558943.  Pass the right value for aIsLink from ReparentStyleContext.  r=dbaron 
Add assertions that would catch bug 558943 earlier.  r=dbaron 
Bug 568564 followup.  Use an empty filename, not a null one.  r=jst 
Bug 570866.  De-bogify the assertion. 
Fix the comment to not talk about irrelevant things. 
Bug 570291 - dump() inside sandbox truncates string's high bytes. r=bzbarsky 
Bug 570986 - nsGlobalWindow::Dump should check all bytes, not chars, when replacing \r with \n. r=bzbarsky 
Bug 571281.  Make list-style-position:inside + display:list-item + non-visible overflow work again.  r=roc 
Bug 571541.  Make sure to ShutdownDocAccessible even if we have no docshell.  r=surkov 
Bug 571735.  Remove unused variable.  r=bzbarsky 
Bug 571105.  Don't force creation of an if-visited style contest if we don't actually need one.  r=dbaron 
Bug 571618.  Fix asertion to match reality.  r=roc 
Bug 571459.  Shutdown the doc accessible if its presshell dies.  r=surkov,roc 
Bug 563327 part 1.  Expose an nsIPresShell API for refresh observers.  r=roc 
Bug 563327 part 2.  Drive accessibility events off the refresh driver instead of an ad-hoc timer.  r=surkov 
Bug 520189 - Fix copy and test for the HTML editor; f=bzbarsky,dbaron r=sayrer,peterv,bzbarsky sr=roc 
Fix the reftest harness so that a 'load' test that uses reftest-wait doesn't cause following '==' tests to fail.  r=roc pending 
Bug 479655 part 1.  Add some assertions to catch it if we add too many flags.  r=jst 
Bug 479655 part 1.5.  Free up two more element bits.  r=jst 
Bug 479655 part 2.  Add element restyle flags.  r=dbaron, sr=jst 
Bug 479655 part 3.  Refactor restyle processing into a new RestyleTracker class.  r=dbaron 
Bug 479655 part 4.  Move handling of eRestyle_LaterSiblings into RestyleTracker.  r=dbaron 
Bug 479655 part 5.  Pass the relevant restyle tracker through to style reresolution.  r=dbaron 
Bug 479655 part 6.  Add a private AddPendingRestyle API that allows removing restyle hints, as well as adding them.  r=dbaron 
Bug 479655 part 7.  Switch to the new setup for tracking and handling restyles.  r=dbaron 
Bug 494117 part 1.  Rename eRestyle_Self to eRestyle_Subtree.  r=dbaron 
Bug 494117 part 2.  Don't force selector matching on the whole subtree rooted at an element when the element's style changes.  r=dbaron 
Bug 569006.  Skip probing for ::before/::after during reresolve if we're not redoing matching on kids, since those can't appear/disappear without either a reframe or a change in what selectors we match.  r=dbaron 
Bug 571347.  In HasAttributeDependentStyle when the class attribute is changing, walk only selectors with classes that might be relevant.  r=dbaron 
Bug 571298.  Avoid flash of unstyled content in document.write-created documents.  r=jst 
Bug 517056.  Drawing an incomplete image to the canvas shouldn't throw; should instead silently do nothing.  r=vlad 
Bug 563327 part 1.  Expose an nsIPresShell API for refresh observers.  r=roc 
Bug 563327 part 2.  Drive accessibility events off the refresh driver instead of an ad-hoc timer.  r=surkov 
Attempt to somewhat mitigate bug 573085. 
Addressing some bug 479655 review comments I missed. 
Another missed review comment for bug 479655 
Bug 573241.  When reparenting a style context, don't include any transition rules the old context might have had in the new one, since that can confuse transitions.  r=dbaron 
Bug 573127.  Adjust the assert slightly to make it match reality.  r=dbaron 
Adding bug 573127 test 
Don't bother with 16-bit reference count and index in nsCSSValue::Array.  (Bug 574059)  r=bzbarsky 
Bug 571352 - <select multiple> does not reset the anchor <option> properly when the anchor is removed.  r=bzbarsky 
Make the simple cases of dynamic changes of -moz-box-ordinal-group work correctly.  (Bug 555987)  r=dbaron 
Bug 571347.  In HasAttributeDependentStyle when the class attribute is changing, walk only selectors with classes that might be relevant.  r=dbaron 
Bug 575336.  Stop flushing out layout on the whole viewmanager tree when layout is flushed on a document and results in invalidates.  r=roc 
Bug 555627.  Make transitions actually work correctly on :before and :after.  r=dbaron 
Backed out changeset 00dfcf7f4c9e (bug 575336) due to test orange.  Magic words for CLOSED TREE. 
Bug 516747 part 1; make TabChild hand things out via nsIInterfaceRequestor.  r=bsmedberg 
Bug 516747 part 2.  Change nsIBrowserDOMWindow to allow some sort of setup where it works with frameloaders.  r=bsmedberg 
Bug 516747 part 3.  Make TabChild and TabParent cooperate on window opening at least to the extent of doing all window opens in new tabs.  r=bsmedberg 
Bug 544192 - Qt Xembed version required for IPC browser content embedding. r=bzbarsky,mozbugz 
Bug 566305.  Serialize nsIStringInputStream.  r=bzbarsky 
Bug 575377 - Loading forever on pages with multipart image/motion jpeg streams.r=bzbarsky 
Bug 569018. If our candidate parent frame isn't for our container content then it's not a candidate parent frame. r=bzbarsky 
Bug 576136.  Use arrays of rulevalues, not linked lists, for slightly better cache locality.  r=dbaron 
Bug 573354.  Don't assert things that aren't true.  r=bernd 
Bug 290397.  Default values of 'shape' should be treated as 'rect'.  r=bzbarsky 
Bug 572668.  Don't send the useless crypto token in the UA string.  r=bzbarsky 
Bug 538813.  Make about:cache and about:cache-entry pretty.  r=bzbarsky 
Bug 562628.  Propagate nsProcess::Init failures back to LaunchWithIProcess.  r=bzbarsky 
Fire transitionend events only for transitions on elements (not pseudo-elements).  (Bug 537140)  r=bzbarsky 
Add nsStyleContext::Alloc for allocations scoped to the lifetime of the style context.  (Bug 363249)  r=bzbarsky 
Add nsStyleCoord::Array type.  (Bug 363249)  r=bzbarsky 
Add storage for calc() expressions to nsStyleCoord.  (Bug 363249)  r=bzbarsky 
Fix namespace usage in nsRuleNode.  (Bug 363249)  r=bzbarsky 
Switch calc() to saturating operations on nscoord.  (Bug 363249)  r=bzbarsky 
Add code to compute a computed-value calc() expression from a specified-value calc() expression, and make it reachable from SetCoord in nsRuleNode.  (Bug 363249)  r=bzbarsky 
Add additional template parameter expectations to ComputeCalc so that its input can be nsCSSValue or nsStyleCoord.  (Bug 363249)  r=bzbarsky 
Add API to compute computed-value calc() expressions to lengths.  (Bug 363249)  r=bzbarsky 
Add API to compute length, percentage or calc() style coords.  (Bug 363249)  r=bzbarsky 
Convert calc() serialization code to a template so it can also be used for nsStyleCoord.  (Bug 363249)  r=bzbarsky 
Handle computed-value calc() expressions in computed style.  (Bug 363249)  r=bzbarsky 
Allow CSS parser to forbid min()/max() within certain calc() expressions.  (Bug 531344)  r=bzbarsky 
Add support for calc() expressions in translate functions of -moz-transform.  (Bug 531344)  r=bzbarsky 
Bug 351235 <a href='foo' target='bar'> and window.open('foo', 'bar') should not be treated identically by browser.link.restriction r=bzbarsky 
Bug 576658.  Simplify AppendRuleToTagTable.  r=dbaron 
Bug 575467.  Improve the detection of whether we're in the transition's initial state.  r=dbaron 
Bug 289384 - Midas Editor: Shortcut command + left/right should go to beginning/end of line; r=masayuki,bzbarsky 
Bug 572637 - Paste image into Compose window broken with Shredder; r=bzbarsky 
Bug 289384 - Midas Editor: Shortcut command + left/right should go to beginning/end of line; r=masayuki,bzbarsky 
Bug 553597 - Add a mochitest. r=bzbarsky 
Bug 577309 part 1.  Fix the assertion in IsRootOfAnonymousSubtree to not fire on default insertion point content.  r=sicking 
Bug 577309 part 2.  Change the ContentRangeInserted signature to take the end child in addition to the start child.  r=tnikkel 
Bug 577309 part 3.  Change ClearLazyBitsInChildren to not use content indices.  r=tnikkel 
Bug 577309 part 4.  Change MaybeRecreateForFrameset to not use content indices.  r=tnikkel 
Bug 577309 part 5.  Change MaybeConstructLazily to not use content indices.  r=tnikkel 
Bug 577309 part 6.  Change nsListBoxBodyFrame usage of ChildIterator to not rely on indices.  r=tnikkel 
Bug 577309 part 7.  Stop using content indices in determining whether to suppress whitespace frames.  r=roc 
Bug 577309 part 8.  Stop using content indices in ChildIterator.  r=roc 
Bug 577309 part 9.  Stop using content indices in GetInsertionPrevSibling.  r=tnikkel 
Bug 577309 part 10.  Stop using content indices in GetRangeInsertionPoint.  r=tnikkel 
Bug 577309 part 11.  Stop using content indices in AddTextItemIfNeeded.  r=roc 
Bug 577309 part 12.  Eliminate most content index use in ContentRangeInserted.  r=tnikkel 
Bug 577309 part 13.  Stop using content indices entirely in nsCSSFrameConstructor::ContentInserted.  r=tnikkel 
Bug 577309 part 14.  Stop using content indices entirely in nsCSSFrameConstructor::ContentAppended.  r=tnikkel 
Bug 577309 part 15.  Stop using content indices entirely in nsCSSFrameConstructor::ContentRemoved.  r=tnikkel 
Bug 558306 part 1.  Add a TimeDuration::ToMilliseconds.  r=cjones 
Bug 558306 part 2.  Switch XPCOM timers to TimeDuration/TimeStamp.  r=cjones, sr=brendan 
Bug 558306 part 3.  Switch DOM timeout code to TimeDuration/TimeStamp.  r=jst 
Bug 577505.  Quickstub nsIDOMCSSStyleDeclaration.*.  r=peterv 
Bug 576833.  Transfer the author style boolean across bfcache loads just like we do for normal navigation.  r=jst 
Backing out revision e1d443d63be5 (bug 558306) in an attempt to fix test orange. 
Backing out rev b567a93a5086 (bug 558306) to fix test orange 
Bug 558663. When recreating frames, recreate the parent if the parent is a leaf frame. r=bzbarsky 
Bug 560455. Be more careful about the namespace when finding HTML frame construction data. r=bzbarsky 
Append style sheets from binding manager when ensuring unique inner on all sheets.  (Bug 578810)  r=bzbarsky 
Bug 576991 - file picker does not open file picker dialog. r=bzbarsky 
Bug 572604.  Don't flush layout before firing onload.  r=dbaron 
Bump the assertion counts, since they seem to be timing-dependent now that we're not flushing layout onload. 
Bug 441669.  Look for our flow by starting at the cached location and moving out, instead of always searching in one direction and then in the other.  r=roc 
Bump the mac assert count too.  Bug 579940. 
Reenable this test now that bug 556124 is fixed. 
Bug 578696 part 1.  Create new macros to notify nsTObserverArray observers without holding strong refs.  No behavior changes yet.  r=sicking 
Bug 578696 part 2.  Make nsXMLEventsManager inherit from nsStubDocumentObserver.  r=sicking 
Bug 578696 part 3.  Stop holding strong refs when calling ParentChainChanged.  r=sicking 
Bug 578696 part 4.  Stop holding strong refs when calling NodeWillBeDestroyed.  r=sicking 
Bug 578696 part 5.  Stop holding strong refs when calling CharacterDataWillChange.  r=sicking 
Bug 578696 part 6.  Stop holding strong refs when calling CharacterDataChanged.  r=sicking 
Bug 578696 part 7.  Stop holding strong refs when calling AttributeWillChange.  r=sicking 
Bug 578696 part 8.  Stop holding strong refs when calling AttributeChanged.  r=sicking 
Bug 578696 part 9.  Stop holding strong refs when calling ContentAppended.  r=sicking 
Bug 578696 part 10.  Stop holding strong refs when calling ContentInserted.  r=sicking 
Bug 578696 part 11.  Stop holding strong refs when calling ContentRemoved and remove the now-unused IMPL_STRONGREF_MUTATION_NOTIFICATION macro.  r=sicking 
Bug 558306 part 1.5.  Make TimeDuration::FromMilliseconds take a double.  r=cjones, sr=roc 
Bug 558306 part 2.  Switch XPCOM timers to TimeDuration/TimeStamp.  r=cjones, sr=brendan 
Bug 558306 part 3.  Switch DOM timeout code to TimeDuration/TimeStamp.  r=jst 
Bug 581036 - nsTimerImpl.cpp compilation fails on mingw.; r=bzbarsky approval2.0=benjamin 
Bug 580685.  We might not have a root element to resolve 'rem' against.  r=dbaron 
Bug 581007.  We might not have an ownerDocument.  r=jst 
Bug 581072.  Fix the handling of long timeouts across timeout suspend/resume and add APIs to suspend/resume timeouts from trusted script.  r=jst 
Bug 579744.  Extract the actual content type from the attribute value before using it as a type hint for the channel.  r=jst 
Revert incorrect changes made in http://hg.mozilla.org/mozilla-central/rev/f6beeb315747  (Bug 508452)  r=bzbarsky
Update to latest spec changes for ctx.font setter and getter.  (Bug 508452)  r=bzbarsky 
Bug 579963. Don't inline nsPoint::ConvertAppUnits because it causes PGO builds on windows to be slower in some cases. r=bzbarsky 
Make the transitions style rule hold on to its values and thus preserve rule immutability.  Do this by reusing the code for the covering style rule for both transitions style rule types.  (Bug 582111)  r=bzbarsky 
Clean up messy line thanks to new operator from bug 570912.  (Bug 582111)  r=bzbarsky 
Bug 582788 - Treat non-ASCII-superset encoding the same way in late meta handling as in meta prescan. r=bzbarsky, a=blocking2.0-betaN. 
Bug 582940 - Make the HTML5 parser URL unescape <a name> until HTML5-compliant fragment navigation is supported.  r=bzbarsky, a=blocking2.0-betaN. 
Bug 561076 - Use a hashtable to speed up nsContentUtils::UnregisterPrefCallback. r=bzbarsky a=blocking2.0 
Bug 573322 - Align td@align with HTML5; r=bzbarsky a=blocking-betaN 
DeCOMtaminate nsICSSPseudoComparator::PseudoMatches method signature.  (Bug 576794)  r=bzbarsky  a2.0=bsmedberg 
Remove QueryFrame support for nsICSSPseudoComparator.  (Bug 576794)  r=bzbarsky  a2.0=bsmedberg 
Remove aTag argument from nsICSSPseudoComparator::PseudoMatches.  (Bug 576794)  r=bzbarsky  a2.0=bsmedberg 
Bug 567360: Don't call UpdateExpirationTime if mRequestTime isn't set r=bzbarsky 
Bug 569719 part 8: forward to nsStyledElement::GetStyle from nsXULElement::GetStyle. r=bzbarsky 
Bug 338679: mark style declarations immutable if they are stringified. r=bzbarsky a=dbaron 
Bug 583839.  Also skip the string buffer refcounting for traceable native quickstubs, not just fastnative ones.  r=jst 
Bug 577838.  The first line baseline of a fieldset should be the first line baseline of its legend (if it has one), or of its content if it does not.  r=dbaron 
Removing stray CR characters that crept in.  Followup for bug 582303. 
More stray CRs.  Followup for bug 582303. 
Another bustage fix for bug 582303 
Bug 584287.  Speed up unwrapping for nsIDOMHTMLElement quickstubs.  r=peterv 
Bug 584293.  Make .style faster.  r=peterv 
Bug 582037.  When computing intrinsic widths, take the viewport's dimensions into account when it has percent-height descendants.  r=dbaron 
Bug 575750 - Implement support for OS protocol handlers on Android [r=mwu,bzbarsky] 
Backed out changeset ea50ac5c3d1f, which was a failed bustage fix, from CLOSED TREE 
Make nsIDOMSVGCSS2Properties use the specialized shorter quickstubs.  (Bug 584301)  r=bzbarsky 
Fix processing of matrix() transform functions to handle calc() rather than asserting.  (Bug 584569)  r=bzbarsky 
Bug 575336 part 1.  Make sure to update the size of the current prescontext on style flush, so that media queries do the right thing.  r=roc 
Bug 575336 part 2.  Make sure editor flushes layout before caret moves and scrolls that depend on layout information.  r=roc,ehsan 
Bug 575336 part 3.  Change the reftest harness to do its initial flush on all subframes, not just the root one.  r=roc 
Bug 575336 part 4.  Change the IME state iframe test to flush layout on the subframe before assuming something about coordinates of objects in that subframe.  r=roc 
Bug 575336 part 5.  Stop flushing out layout on the whole viewmanager tree when layout is flushed on a document and results in invalidates.  r=roc 
Bug 547342 real fix.  Flush on ScrollToRow.  r=enn 
Bug 564001 - Should use the first image map in tree order r=bzbarsky a=benjamin 
Adding missing test file for bug 564001.html to fix build bustage. 
Bug 580869 - bustage fix; irc stamp=bzbarsky 
Bug 547342 followup.  Need to make sure to flush even if we have a cached treebody. 
Hacking around broken test or tree code for now to fix orange in CLOSED TREE 
Bug 584299.  Inline the string constructors and destructors again.  r=bsmedberg 
Bug 584298.  Do a bit less work in ReadableToJSVal on the fast path.  r=jst 
Bug 546573 - EnsureInnerWindow from wrappers. r=jst sr=bzbarsky 
Bug 562698 - Part a: Pass Elements to nsIMutationObserver::AttributeChanged and nsCSSFrameConstructor::AttributeChanged; r=bzbarsky, a=dbaron 
Bug 562698 - Part b: Pass Elements to nsNodeUtils::AttributeChanged; r=bzbarsky, a=dbaron 
Bug 562698 - Part c: Pass Elements to AttributeWillChange; r=bzbarsky, a=dbaron 
Bug 576649. r=bzbarsky a=blocking2.0 
Bug 572290 - <title> value of HTML signature file shows up in signature; r=bzbarsky a=blocking2.0+ 
Bug 572290 - Fix mistakes in editor/libeditor/html/tests/test_bug520189.html; r=bzbarsky a=NPOTB 
Bug 576518 - e10s: InitDBFile and NS_GetSpecialDirectory fail in nsNavHistory. r=bzbarsky. a+ 
Bug 572290 - <title> value of HTML signature file shows up in signature; r=bzbarsky a=blocking2.0+ 
CSS transition timing functions should not allow X arguments to cubic-bezier() outside of 0-1.  (Bug 575672)  r=bzbarsky  a2.0=blocking2.0+ 
Fix places where we should skip to a closing parenthesis during errors parsing functions.  (Bug 575672)  r=bzbarsky  a2.0=blocking2.0+ 
Add a 'display:block' prerequisite for 'width' property tests so that calc() tests will actually have a percentage basis and thus actually test the code.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
There's no need for a separate CoordPercentCalc implementation; ComputeCalc can handle that.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Make a common base class for calc ops that use nsStyleCoord as input.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Consolidate code for determining when widths and heights depend on a container.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Distinguish between 50% and calc(50%), etc., in computed style calc expressions.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Add support for calc() to the 'width' property.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Bug 577607 part 1.  Make sure resource documents don't have presshells when their display document doesn't.  r=roc 
Bug 577607 part 2.  Teach the refresh driver to flush restyles and reflow on more than one presshell.  r=roc 
Bug 577607 part 3.  Use the main doc refresh driver for resource documents and the parent document's refresh driver for documents that are not roots of their type.  r=roc, a=joe 
Bug 569520 part 1.  Add a new beforepaint event.  r=smaug 
Bug 569520 part 2.  Implement a mozRequestAnimationFrame/mozAnimationStartTime API.  r=roc, a=joe 
Bug 586381.  Switch attribute atom array storage to nsTArray.  r=sicking 
Bug 586204.  Remove pointless null-check.  r=peterv, a=bsmedberg 
Fix some editor tests to actually change something instead of throwing. 
Bug 564652.  Make sure to flush out restyles on our parent before checking for a presshell.  r=dbaron 
Bug 577607 part 2.  Teach the refresh driver to flush restyles and reflow on more than one presshell.  r=roc 
Bug 577607 part 3.  Use the main doc refresh driver for resource documents and the parent document's refresh driver for documents that are not roots of their type.  r=roc, a=joe 
Bug 569520 part 1.  Add a new beforepaint event.  r=smaug 
Bug 569520 part 2.  Implement a mozRequestAnimationFrame/mozAnimationStartTime API.  r=roc, a=joe 
Bug 582228. Speed up getting style attributes. r=bzbarsky@mit.edu, a=dbaron@mozilla.com 
Bug 193911. Increase the disk cache size from 50 megs to 250 megs. This will show a significant increase in talos numbers, and it will thus look like a cpu usage regression since all of talos now fits in the cache. r=cbiesinger@gmail.com, sr=bzbarsky@mit.edu, a=jst@mozilla.org 
Correct parenthesis-matching inside of :not().  (Bug 586070)  r=bzbarsky  a2.0=bsmedberg 
Make nsICSSRule::Clone return the cloned value directly.  (Bug 585137)  r=bzbarsky  a2.0=dbaron 
Bug 577950 - Use a hashtable to speed up nsPrefBranch::RemoveObserver. r=bzbarsky, a2.0=jst 
Bug 531030 - Remove support for the spacer element; r=bzbarsky a=blocking-betaN 
Bug 577950 - Use a hashtable to speed up nsPrefBranch::RemoveObserver. r=bzbarsky, a2.0=jst 
Bug 562698 - Part a: Pass Elements to nsIMutationObserver::AttributeChanged and nsCSSFrameConstructor::AttributeChanged; r=bzbarsky, a=dbaron 
Bug 562698 - Part b: Pass Elements to nsNodeUtils::AttributeChanged; r=bzbarsky, a=dbaron 
Bug 562698 - Part c: Pass Elements to AttributeWillChange; r=bzbarsky, a=dbaron 
Bug 586900.  Loosen up the test condition for now, pending a fix for the real problem. 
Add prerequisites for better testing of 'height'.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add prerequisites for better testing of min/max-width/height properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add prerequisites for better testing of 'top', 'right', 'bottom', and 'left'.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Fix computed style for percents for offset properties when the element doesn't have a frame.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to ComputeWidthDependentValue and ComputeHeightDependentValue.  Also change calc() handling of percents from using round to using floor, which changes our handling of percents on 'width' back to using floor, reverting an earlier change in this bug.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Introduce nsStyleCoord::HasPercent to check for either a percent value or a calc() value containing a percent.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Introduce nsStyleCoord::HasCoordOrNonPercentCalc to check for either a coord value or a calc() value not containing a percent.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to the 'height', 'min-height', and 'max-height' properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to the 'min-width' and 'max-width' properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Avoid serializing calc() expressions in computed style when the calc() expression has no percentages and we have no percentage basis.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Make it possible to store pointer values in nsStyleSides.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to the 'top', 'right', 'bottom', and 'left' properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Make IsAutoHeight be a member of nsLayoutUtils so we don't have to have two copies of it.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Bug 580167 part 1.  Create an nsTextFrame::ReflowText that doesn't need a reflow state.  r=dbaron 
Bug 580167 part 2.  Add a construct() signature with 4 args for js::LazilyConstructed.  r=lw 
Bug 580167 part 3.  Make nsLineLayout call ReflowText as needed.  r=dbaron 
Bug 586400.  Cellpadding changes need to reresolve descendants.  r=dbaron 
Bug 585783.  Faster wrapping in quickstubs when we have a cache.  r=peterv 
Bug 589672.  Parsing of malformed namespace rules can skip over too many tokens while recovering.  r=dbaron, a=dbaron 
Bug 589672 followup.  Don't unget on code paths where it's already been handled for us.  Fixes test orange.  r+a=dbaron 
Bug 587573 - Log image requests to the WebConsole: DocShell fix r=bzbarsky a=blocking2.0 
Bug 590422.  Stop futzing with our timer scheduling and just schedule them.  r=brendan 
Bug 586201.  Throttle refresh drivers in background tabs.  r=roc, a=roc 
Bug 585014 - Use Element in nsDOMCSSAttributeDeclaration; r=bzbarsky approval2.0=benjamin 
Bug 590179.  Use -fomit-frame-pointer when building opt builds on mac.  r=ted a=beltzner 
Backed out changeset d578993db396 (bug 590422) due to possible performance regressions (especially WinXP Tscroll). 
Disabling failing test for now.  a=dholbert|sheriff for CLOSED TREE 
Bug 590179.  Use -fomit-frame-pointer when building opt builds on mac.  r=ted, a=beltzner 
Bug 590573 - pushState should save the scroll position of the old SHEntry, and going between pushStated entries should respect the saved scroll position. r=bzbarsky a2.0=blocking 
Bug 590883.  Don't forget to null-check the viewer, since the external resource load might have failed.  r=roc a=blocking 
Make nsStyleCoord::operator== check deep equality of calc() expressions rather than just doing pointer comparison.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Remove no-longer-needed code for handling unconstrained containing block widths.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Consolidate table-cell vertical align code.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to the '{margin,padding}-{top,right,bottom,left}' and '-moz-margin-{start,end}' properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking:beta6+ 
Share IsPaddingZero between nsBlockFrame and nsInlineFrame by putting it in nsLayoutUtils.  (Bug 585715)  r=bzbarsky  a2.0=blocking:beta6+ 
Add support for calc() to 'vertical-align' and 'text-indent'.  (Bug 585715)  r=bzbarsky  a2.0=blocking:beta6+ 
Cache non-percent margin and padding calc() on the style struct.  (Bug 585715)  r=bzbarsky  a2.0=blocking:beta6+ 
Bug 575172.  Make sure that setting script type IDs really doesn't clobber any other flags.  r=jst, a=blocking2.0 
Bug 593377 bug 585922 killed all tests in dom/tests/browser r=bzbarsky, a=blocking2.0 final+ 
Bug 585819 - When the context passed to Range.createContextualFragment is "html" in an HTML document, use "body" as the context instead. r=bzbarsky, a=blocking2.0-betaN. 
r=bzbarsky a=testing 
Bug 593026.  Make it possible to get the system principal from script.  r=jst a=jst 
Bug 593552.  If our parent document has no presshell, just fall back to a separate refresh driver instead of trying to dig around for a presshell by other means.  r=roc a=dbaron 
Bug 593544.  Apply first-letter to legends.  r=dbaron a=dbaron 
Bug 593544 followup.  Don't force legends to display:block for now.  r+a=orange 
588174.  Make it possible to pass an explicit callback function to mozRequestAnimationFrame.  r=roc, sr=dbaron 
Bug 560838.  Spell 'Content-Type' correctly.  r=bzbarsky, a=jst 
Bug 593689.  Convert arguments to new Image() to integers the way other conversions to integer happen.  r=jst a=jst 
Bug 592197 - SSL pages don't work when using a NTLM proxy.  r=bzbarsky, a=blocker 
Bug 577508 - Make the HTML5 parser hide the old page from view when the page being loaded shows a dialog. r=bzbarsky, a=blocking2.0-final. 
Add support for calc() on -moz-border-radius and -moz-outline-radius.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0:beta6 
Fix missing frame in style system mochitests.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0:beta6 
Fix places where I missed clamping negative calc() to 0.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0:beta6 
Negative values for stroke-dasharray should be rejected.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0:beta6 
Add calc() support for two properties I missed: outline-width and column-gap.  (Bug 363249)  r=bzbarsky  a2.0=blocking2.0:beta6 
Fix missing computation half of calc() for border-*-width.  (Bug 363249)  r=bzbarsky  a2.0=blocking2.0:beta6 
Add aliases for old names of border-radius properties.  (Bug 451134)  r=bzbarsky  a2.0=blocking2.0:beta6 
Bug 589667.  Make the layout debugger actually work in libxul builds. r=ted 
Bug 589667 test.  Make sure no one breaks my layout-debug again.  r=ted, a=npob 
Remove support for min() and max() in calc(): remove support for parsing and storage.  (Bug 363249)  r=bzbarsky  a2.0=blocking2.0:beta6 
Rename -moz-box-shadow to box-shadow: mechanical changes.  (Bug 590039)  r=bzbarsky  a2.0=blocking2.0:beta6
Rename -moz-box-shadow to box-shadow: manual changes.  (Bug 590039)  r=bzbarsky  a2.0=blocking2.0:beta6 
Simplify storage of computed calc() as a result of removing min() and max().  (Bug 363249)  r=bzbarsky  a2.0=blocking2.0:beta6 
Bug 592596. When we thaw a presshell, unsuppress painting after we update our active status. r=bzbarsky a=roc 
Bug 591157. Remove unneeded SetDOMDocument call. r=bzbarsky a=jst 
Bug 594267. Don't call WillPaint on hidden documents. r=bzbarsky a=roc 
Bug 590874 - Disable test_bug534293.html due to frequent orange until bug 590713 is fixed. r=bzbarsky, a=test-only. 
Change storage of background-size and background-position to allow percentages and lengths.  (Bug 594934)  r=bzbarsky  a=blocking2.0:betaN 
Support calc() on background-position, background-size, -moz-transform-origin, and background-image gradient stop positions.  (Bug 594934)  r=bzbarsky  a=blocking2.0:betaN
Add calc() unit to nsStyleAnimation::Value.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Extract calc() values in nsStyleAnimation when needed.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Add CSS property bit for which properties have stored calc() in style structs.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Allow calc() as an intermediate common animation unit between lengths, percentages, and calc().  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Allow calc() as an intermediate common animation unit for background-position and background-size.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Add a fallible version of nsCSSValue::Array::Create. (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Remove null-checks for infallible array allocations.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Bug 592698.  We might not have a presshell by this point, so null-check it.  r=dbaron 
Bug 594737.  Disabled selects with size and multiple should still look disabled.  r=dbaron 
Bug 583943.  Make sure our class is actually an XBL class before messing with its reserved slots.  r=sicking a=jst 
Bug 596506 - Going to end of line using Ctrl-e on Mac positions caret after newline in textareas; r=bzbarsky a=blocking-final+ 
Remove another piece of code I missed when removing min() and max().  (Bug 363249)  r=bzbarsky  a2.0=blocking 
Make NBSP an identifier character per resolution of CSS 2.1 issue 196.  (Bug 591589)  r=bzbarsky  a2.0=roc 
Save a word in nsCSSStyleRule on 32-bit systems by merging mWasMatched into one bit of mLineNumber.  (Bug 596140)  r=bzbarsky  a2.0=roc 
Eliminate all virtual functions from nsCSSRule to eliminate its vtable pointer.  (Bug 596140)  r=bzbarsky  a2.0=roc 
Add NS_FINAL_CLASS annotations to rule classes.  r=bzbarsky  Add virtual that I missed on nsCSSGroupRule.  (Bug 596140)  a=me 
Bug 598090 - Sync up the list of white-listed HTML tags and attributes in the sanitizing fragment sink with the HTML5 spec; r,a=bzbarsky 
Bug 598105 - Support the HTML5 data-* attributes in the sanitizing fragment sink; r,a=bzbarsky 
Bug 596797 - moz-do-not-send="true" in HTML signature or pasted HTML gets ignored/removed r=bzbarsky a=bzbarsky,branch-blocker 
Bug 597784 - The inserthtml command should not use a sanitizing fragment content sink; r=bzbarsky a=blocking-betaN,1.9.2.11,1.9.1.14 
Bug 596300 - Element Attributes dropped when dragging and dropping in DesignMode/ContentEditable sections; r=bzbarsky a=blocking-betaN,1.9.2.11,1.9.1.14 
Remove bogus JS that does nothing but throw from these reftests. a=test-only 
Bug 548904 - Remote console messages from content to chrome via a listener. r=bzbarsky a=blocking-fennec 
Fix silly error in test a=test-only 
Bug 599587.  If we don't plan to cache the stringbuffer, assign it to the output string.  r=smaug 
Bug 129941.  Don't create scrollframes for blockframes (except inline blocks) while printing, and make such blockframes clip their contents instead.  r=dbaron 
Bug 587106.  Make the alpha value of strokeStyle and company correct even for small alpha values.  r=vlad, a=vlad 
Bug 129941 followup.  Continue creating scrollframes for native anonymous content.  a=crashing tests 
Followup for bug 587106.  Update test to the new syntax. a=bustage 
Fix this test to deal better with float rounding issues.  Followup to bug 587106, a=bustage 
Annotate this test as asserting, since it does, a=bustage 
Adjust assertion annotation to be Linux-specific.  a2.0=bustage 
When we set border-radius on <hr>, make the ends circular rather than elliptical.  (Bug 597721)  r=bzbarsky  a2.0=blocking:betaN 
For elements that are in a document with a pres shell, always use that pres shell when getting computed style so we (a) return a more correct style and (b) don't mix rule nodes from two rule trees.  (Bug 596245)  r=bzbarsky  a2.0=blocking2.0:betaN 
Convert nsIFrame APIs from having a single overflow rect to having two distinct overflow rects.  (Bug 542595, patch 1)  r=roc  sr=bzbarsky  a2.0=blocking2.0:beta8 
Add a selector hack so that we can implement table border styles compatibly in CSS.  (Bug 539880)  Test by Geoff Lankow <geoff@darktrojan.net>.  r=bzbarsky  a2.0=blocking2.0:betaN 
Fix border-radius computed style code to reflect that percentage Y values are percentages of the box height.  (Bug 595650)  r=bzbarsky  a2.0=blocking2.0:betaN 
Fix border-radius computed style code to reflect clamping adjustments that we make to border radius.  (Bug 595651)  r=bzbarsky  a2.0=blocking2.0:betaN 
Set vertical resize flags on the root's reflow state when we're doing SizeToContent reflows.  (Bug 562955)  r=bzbarsky  a2.0=blocking2.0:betaN 
Give nsCSSFontFaceRule a copy-constructor that doesn't copy the reference count.  (Bug 601437)  r=bzbarsky  a2.0=blocking2.0:final 
Drop native appearance when border-radius or -moz-border-start/end are set.  (Bug 601366)  r=bzbarsky  a2.0=blocking2.0:betaN 
Check isValid, since bindings in chrome (e.g., Fennec select binding) can make it be false.  (Bug 596767)  r=bzbarsky  a2.0=blocking2.0:betaN 
Bug 602151 - Too many calls to OnValueChanged; r,a=bzbarsky 
Bug 410986 - Part 4: Switch the shortcut to Cmd+Option+Shift+V on Mac; r,a=bzbarsky 
Bug 601833 - layout/base/tests/bug240933-1.html and bug240933-2.html triggers uncaught exception: Unknown key: DOM_VK_VK_ENTER; r=bzbarsky a=NPOTB 
Bug 377498 - mozIJSSubscriptLoader::loadSubScript does not support specifying the character encoding (treats all files as ISO-8859-1); r=bzbarsky a=jst 
Bug 430910 - nsStandardURL gets confused when the query string or the anchor name contains slash characters; r=bzbarsky a=roc 
Bug 600570 - textarea: cut and paste broken, pastes more than cut, leaves selectionEnd with wrong value; r=bzbarsky a=blocking-betaN+ 
Bug 600803 - setting value with newline on textarea has excess newline (test case); r=bzbarsky a=NPOTB 
Bug 602141 - Right arrow navigation broken on later contenteditable content on single line; r=bzbarsky a=blocking-final+ 
Bug 587960. Don't run tree view code when the document is a zombie. r=bzbarsky a=roc 
Bug 602794. nsPresContext::IsRootContentDocument is wrong for the embedding situation. r=bzbarsky a=dbaron 
Flush frames after the event handler so that new nodes inserted into the Selection are visible.  b=602231 r=bzbarsky a=blocking2.0:final 
No bug.  Remove lying comment.  No review, a=NPOTB 
Bug 599584 - Do not let nsContentSink process <meta> tags when parsing an HTML fragment. r=bzbarsky, a=blocking2.0-betaN. 
Bug 593758 - List are not formated anymore during html to text conversion; r=bzbarsky a=blocking-betaN+ 
Bug 593758 - Part 2: unit tests for the plaintext serializer; r=bzbarsky a=blocking-betaN+ 
Bug 572243 - Media cache should be cleared when leaving private browsing mode; r=bzbarsky a=blocking-betaN+ 
Bug 601881 - video and audio should never play automatically in editor; r,a=bzbarsky 
Bug 597331 - Reframing a textarea sets the caret position to the end of its contents; r=bzbarsky a=blocking-final+ 
Bug 601968.  Trace call(null).  r=gal, a=sayrer 
Bug 599009.  Don't use setProperty for JSOP_DEFFUN unless there's already a property with that name around, to work around the fact that setProperty will define with class-default getter and setter while we always want to define with stub getter and setter if we can.  r=igor 
Bug 599009 followup.  Fix typo in assert. 
Another bug 599009 followup.  Don't assert things about uninitialized quantities. 
Bug 602130 - Caret positioned incorrectly in input[type=text] when hidden and redisplayed; r=bzbarsky a=blocking-final+ 
Bug 349985 - Move about: handling to nsAboutRedirector and re-enable release notes link in about:. r=bzbarsky,sr=dveditz,a=jst 
Bug 525222 - XML errors possible on file:// listings; r=bzbarsky a=jst 
Bug 602130 - Caret positioned incorrectly in input[type=text] when hidden and redisplayed; r=bzbarsky a=blocking-final+ 
Bug 601247.  Don't JSVAL_TO_PRIVATE a random jsval.  r=jst 
Bug 602780.  Fix handling of hosts in NS_SecurityCompareURIs.  r=jst, a=blocker,jst 
Bug 601247.  Don't JSVAL_TO_PRIVATE a random jsval.  r=jst, a=jst 
Bug 567350 - Make getComputedStyle's second argument optional; r=bzbarsky a=jst 
Fix double-subtraction of opposite margin when one of margin-top/bottom is auto, for absolutely positioned elements.  (Bug 604212)  r=bzbarsky  a2.0=roc 
Don't hit assertion when calling getPropertyPriority on unknown property.  (Bug 601439)  r=bzbarsky  a2.0=dbaron 
Accept PR_INT32_MIN as an integer in CSS.  (Bug 602890)  r=bzbarsky  a2.0=roc 
Bug 602780.  Fix handling of hosts in NS_SecurityCompareURIs.  r=jst, a=blocker,jst 
Bug 605157.  Style linking elements should work in XML when set via innerHTML.  r=sicking, a=blocker 
Bug 599473.  Don't leak script objects if a xul prototype script is used in both fastloaded and non-fastloaded situations.  r=bzbarsky, a=bzbarsky 
Bug 594808.  If the given range is detached, don't try to work with its start/end containers.  r=sicking 
Bug 605492 part 1.  Add an nsIScriptError2 interface that exposes an outer window id, and set the window id for script errors coming through the DOM JS error reporter.  r=mrbkap 
Bug 605492 part 2.  Add a way to get an outer window object given its window id via windowutils.  r=mrbkap 
Bug 605689.  Copy mUnknownProperty correctly.  r=dbaron, a=blocker 
Bug 605492 part 1.  Add an nsIScriptError2 interface that exposes an outer window id, and set the window id for script errors coming through the DOM JS error reporter.  r=mrbkap 
Bug 605492 part 2.  Add a way to get an outer window object given its window id via windowutils.  r=mrbkap, a=blocker 
Bug 605492 followup.  Make sure this method is not exposed to content. a=blocker 
Bug 605492 followup.  Make sure this method is not exposed to content. a=blocker 
Bug 605999.  Don't put stuff that changes the vtable in a C++ block.  r=roc 
Bug 605999.  Don't put stuff that changes the vtable in a C++ block.  r=roc, a=blocker 
Bug 484992 and bug 604420.  Don't start a new network request when instantiating the plug-in for <object>s.  r=josh, a=blocker 
Bug 604561.  Don't silently swallow OOM in getAsBinary/getAsText/getAsDataURL.  r=sicking a=blocker 
Make AnimValuesStyleRule::MapRuleInfoInto check that property hasn't been filled in yet, so that it cascades correctly and interacts correctly with nsStyleSet::ResolveStyleByAddingRules.  (Bug 598099)  r=bzbarsky  a2.0=blocking-betaN 
Change distance computation for transforms so that distance ratios match interpolation.  (Bug 598099)  r=bzbarsky  a2.0=blocking-betaN 
Add test for nsStyleAnimation::ComputeDistance.  (Bug 598099)  r=bzbarsky  a2.0=blocking-betaN 
Bug 597374 - Downloading of a file from a password protected directory fails, r=dolske, sr=bzbarsky, a=blocking2.0:betaN+ 
Bug 606430 - "ASSERTION: EnsureEditorInitialized has been called while a previous call was in progress"; r=bzbarsky a=blocking-final+ 
Bug 596443, SVG embedded by reference is not loading. r=bzbarsky@mit.edu, a=bzbarsky@mit.edu 
Bug 607222.  Start our update batches a little earlier.  Patches by smaug and sicking, r=smaug on sicking's code, r=sicking on smaug's code, r=me on the whole thing, a=clegnitto 
Bug 594339 - Create a FromParser enum. r=hsivonen, sr=bzbarsky, a=jonas. 
Bug 578890.  Stop leaking shutdown observers from prefbranches.  r=bsmedberg 
Bug 605481 and bug 595752.  When showing a frameloader, give it the correct size up front, so we don't depend on the ordering of Show() and reflow of the subdocument frame.  r=smaug 
Bug 609437.  Go through the central link-click-dispatch code for isindex.  r=sicking a=blocker 
Bug 372345 - [Midas] text cursor overrides CSS mouse cursor styles for some elements; r=bzbarsky a=blocking-final+ 
Bug 372345 - Part 2: Port the fix from bug 289384 to make sure that the editor gets reconstructed correctly when navigating back to an editable page; r=bzbarsky a=blocking-final+ 
Bug 372345 - Part 3: Some cleanup code, followup to the first part; r=bzbarsky a=blocking-final+ 
Bug 606070 - warning C4244: 'return' : conversion from 'const PRUint64' to 'PLDHashNumber' in nsHashKeys.h r,a=bzbarsky 
Bug 575653 - [e10s] string assignment to LossyCopyUTF16toASCII in nsHTMLCanvasElement r=bzbarsky, a=approval2.0 
Bug 610365 - Crash when typing .. on location bar on File Upload dialog [@ UploadLastDir::StoreLastUsedDirectory ].  r=bzbarsky, a=bzbarsky 
Fix division-by-zero crash that dholbert saw, although I haven't been able to, and make the code a bit more robust.  (Bug 582379)  r=bzbarsky  a2.0=blocking 
Don't use ComputeDistance in nsTransitionManager when shortening reversals of partially running transitions, and shorten only transitions that are actually back to the current start point.  (Bug 582379, bug 526784)  r=bzbarsky  a2.0=blocking 
Bug 551704 - Part 3: Don't copy invisible BR nodes to the clipboard for editable elements, to make us more compatible with WebKit and Opera; r=bzbarsky a=blocking-betaN+ 
Bug 551704 - Part 4: Set the selection to the beginning of the document when we're entering the design mode; r=bzbarsky a=blocking-betaN+ 
Bug 551704 - Part 5: Move breakIsVisible to nsIHTMLEditor_MOZILLA_2_0_BRANCH to make sure that nsIHTMLEditor does not change for Gecko 2.0; r=bzbarsky a=blocking-betaN+
Bug 601881 - video and audio should never play automatically in editor; r=bzbarsky,cpearce a=bsmedberg 
Bug 610654 - TEST-UNEXPECTED-FAIL (randomorange)   r=bz a=bzbarsky 
Bug 611182 - Backspace key does not work without typing something first (test cases); r=bzbarsky a=blocking-beta8+ 
Bug 611182 - Part 2: Correct the definition of EndOfDocument for the HTML editor in order to fix some tests which have been relying on the bogus node existing in non-empty editable documents; r=bzbarsky a=blocking-beta8+ 
Bug 611182 - Part 3: Handle dynamic changes to the editable documents and create/remove the bogus node if needed; r=bzbarsky a=blocking-beta8+ 
Bug 611182 - Part 4: Add some more tests; r=bzbarsky a=blocking-beta8+ 
Bug 611182 - Part 5: Adjust the assertion annotation for an assertion which now gets triggered more because we're doing things correctly; r=bzbarsky a=blocking-beta8+ 
Bug 611182 - Part 6: Actually allow the bogus node to be deleted from the document, and check if the parent is modifiable when inserting an element to prevent a bogus node being inserted under a contenteditable="false" element; r=bzbarsky a=blocking-beta8+
Bug 611182 - Part 7: Don't notify the edit rules object for document modifications outside of the editable area; r=bzbarsky a=blocking-beta8+ 
Bug 610956.  Don't set up loadListener as a shutdown observer until we're sure we're doing a load.  r=roc a=roc 
Bug 608373 - Do not call document.close() when stopping a script-created document load; flush tree ops when the parser exhausts the stream in the script-created case. r=bzbarsky, a=blocking2.0-betaN. 
Bug 610956.  Don't set up loadListener as a shutdown observer or set our mChannel to the new channel until we're sure we're doing a load.  r=roc 
Fixing bug 585787. Compare compartments instead of global objects in quickstubs when deteremining whether we need to wrap the return value or not. r=mrbkap@gmail.com, a=bzbarsky 
Remove spammy warning announcing that we haven't fixed bug 455338.  (Bug 611686)  r=bzbarsky  a2.0=DEBUG-only 
Animate skew in angle space rather than tangent space for interop and to avoid issues with infinite tangents.  (Bug 606722)  r=bzbarsky  a2.0=blocking 
Bug 606141.  ArrayCompPush can deep-bail, so handle that.  r=jorendorff 
Bug 605858.  Trace inc() for all primitive values, not just numbers.  r=dvander 
Bug 610370.  Make sure to hash shapes in dictionary lists too, if they need it.  r=brendan, a=shaver 
Backed out changeset 298e753a1726 (bug 610370) due to test orange. 
Bug 610583.  When guarding on no indexed properties on our proto chain, use a branch exit, and reduce the number of guards involved.  r=brendan 
Bug 610582.  Fix TMFLAGS=tracer for anonymous functions.  r=gal 
Fixing bug 594547, crash downstream from nsTreeContentView::InsertRow(). r=bzbarsky@mit.edu, tnikkel@gmail.com, a=jst@mozilla.org 
Bug 581628.  We can end up in situations where mConnection is null due to our use of async proxies that eat error codes.  r=sdwilsh, a=bzbarsky 
Fixing bug 606058. Given XUL overlay documents the principals of the containing document. r=bzbarsky@mit.edu, a=blocker 
Bug 612447 - Don't Recreate an editor object attached to a document in a frame if that frame is restyled; r=bzbarsky a=blocking-beta8+ 
Bug 612447 - Part 2: Protect the HTML editor from dying while a mutation event handler is in progress; r=bzbarsky a=blocking-beta8 
Bug 612447 - Part 3: Prevent the HTML editor from dying while we run a document modified handler from a script runner; r=bzbarsky a=blocking-beta8 
Bug 611189 - Parchment IF Reader Misbehaves; r=bzbarsky a=blocking-final+
Bug 613278 - "ASSERTION: Want to fire mutation events, but it's not safe" when CSP is considering the load of a font (test_CSP_evalscript.html / test_CSP.html); r=bzbarsky a=blocking-betaN+ 
Bug 607494. Add assertions to catch creating frames for content nodes that already have a frame. r=bzbarsky a=blocking-final+ 
Bug 607494. Don't create frame construction items for content that has a primary frame. r=bzbarsky a=blocking-final+ 
Bug 613692.  Make sure to update what our current value is when doing type conversions inside incHelper.  r=dvander 
Bug 602131.  Make the 'in' operator trace usefully when its right-hand side is a dense array.  r=jorendorff 
Bug 613692 followup: more exhaustive tests 
Bug 614724.  Quickstub createElementNS.  r=peterv a=jst 
Bug 614988 - "ASSERTION: We should never try to use the editor if we're not initialized unless we're being initialized" should not apply to textarea's; r=bzbarsky a=roc 
Bug 614286 - Don't initialize the socket transport service unless we know that we're online; r=bzbarsky a=blocking-beta8+ 
Bug 614724.  Quickstub createElementNS.  r=peterv 
Bug 608914 part 1.  Remove the nsString overloads of AppendInt and move AppendFloat up to nsAString.  r=bsmedberg 
Bug 608914 part 2.  Get rid of some temporary strings now that we can AppendFloat to an nsAString.  r=dbaron 
Bug 605296 part 1.  Infrastructure for supporting AUTF8String in quickstubs.  r=jorendorff 
Bug 605296 part 2.  Make username/password stringify undefined to empty string.  r=sicking 
Bug 478445 and bug 499628.  strokeText needs to not re-stroke the current path.  r=vlad, a=vlad 
Bug 609272.  Make sure to not apply clipping of overflow when printing to the root element, because it doesn't really make use of its overflow style itself.  r=dbaron 
Bug 614058.  Fix regression in IsEqualNode.  r=jst, a=blocker 
Bug 614724 followup.  Fix crash due to silly assumptions about order of argument evaluation.  a=orange 
Bug 605296 followup: fix test to do the right thing on failure.  a=orange 
Bug 615194.  Make all new tabs not active by default, not just those with a non-blank url.  r=gavin 

Bug 615194.  Make all new tabs not active by default, not just those with a non-blank url.  r=gavin Bug 615194: add test to check isActive annotation is correct for tabs.  r=bzbarsky, a=blocker 

Bug 615194: add test to check isActive annotation is correct for tabs.  r=bzbarsky, a=blocker Bug 614286 - Don't initialize the socket transport service unless we know that we're online; r=bzbarsky a=blocking-beta8+ 
Bug 615355 - Remove the assertion at the beginning of nsChromeRegistry::Init; r=bsmedberg a=bzbarsky 
Bug 614058.  Fix regression in IsEqualNode.  r=jst, a=blocker 
Bug 609272.  Make sure to not apply clipping of overflow when printing to the root element, because it doesn't really make use of its overflow style itself.  r=dbaron 
Bug 605296 part 1.  Infrastructure for supporting AUTF8String in quickstubs.  r=jorendorff 
Bug 605296 part 2.  Make username/password stringify undefined to empty string.  r=sicking, a=blocker 
Bug 608914 part 1.  Remove the nsString overloads of AppendInt and move AppendFloat up to nsAString.  r=bsmedberg 
Bug 608914 part 2.  Get rid of some temporary strings now that we can AppendFloat to an nsAString.  r=dbaron 
Bug 478445 and bug 499628.  strokeText needs to not re-stroke the current path.  r=vlad, a=vlad 
Bug 614724.  Quickstub createElementNS.  r=peterv, a=jst 
Bug 609227.  Always place a line at y<=0 in the block; there's no point in pushing such a line to the next block.  r=roc, a=blocker 
Bug 614958 - Part 2: Protect the destruction of the callback objects the same way as the event sink object to avoid possible deadlock scenarios; r=bzbarsky a=blocking-beta8+ 
Bug 591619.  Don't create frames for non-option kids of <optgroup> or non-option and non-optgroup kids of <select>.  r=dbaron 
Bug 616394. Make sure to set mPostedReflowCallback to false even if we have no frameloader when the callback happens. r=roc, a=blocker 
Bug 591619 followup.  Need to allow the <select>'s anonymous kids.  a=orange 
Bug 613793 - Raise an exception when trying to append a child to a DocumentType; r=bzbarsky a=jst 
Bug 613130 - Don't sanitize style nodes and attributes in the sanitizing parser if we have not found any unsafe properties; r=roc,bzbarsky a=blocking-final+ 
Bug 614723.  Don't get our acceptLangs unless we plan to use it.  r=jwatt a=roc 
Bug 616591 - Firefox 4.0b8pre crash in [@ nsHttpPipeline::GetConnectionInfo(nsHttpConnectionInfo**]; r=bzbarsky a=blocking-beta8+ 
Bug 616590 - Prevent documents loaded in mail editors to set up their own editors using the designMode or contentEditable APIs; r=bzbarsky a=blocking-final+ 
Bug 597224 - HTTP Cache: use directory tree to store cache files. sr=bzbarsky@mit.edu, a=blocker 
Bug 597345.  Discard script preloads if the charset doesn't match.  r=sicking, a=blocker 
Bug 614397.  Always descend through all placeholders while doing any sort of selection display list.  r=roc, a=roc 
Bug 616994.  Don't leak the buffer we create for the drag image.  r=roc, a=blocker 
Bug 615850 - Allow non-omnijar files list to be added to from outside of toolkit; r=khuey a=bzbarsky 
Bug 617296.  Window.URL should be replaceable.  r=sicking, a=sicking 
Bug 616591.  Fix crash due to http transactions trying to get connection info from the http pipeline while it's being closed.  r=bzbarsky, a=blocker 
Bug 616591 followup to fix a comment., a=DONTBUILD 
Bug 614138 part 1: Add an API for holding GC objects while we use values they own.  r=jorendorff, a=bzbarsky 
Bug 614138 part 2: Use js::Anchor to root things in traceable native quickstubs as needed.  r=jorendorff, a=bzbarsky 
Bug 614138 followup to fix Windows debug compile errors. 
Bug 614138 followup to fix Windows debug compile errors for good. 
Bug 614138.  Fix stupid typo that breaks opt builds. 
Bug 617097 part 1.  Fix Number.toLocaleString leak.  r=brendan 
Bug 617097 part 2.  Make the localeToUnicode callback take |const char*|.  r=brendan a=sayrer 
Bug 615714. When computing visibility of display lists we don't need a underlying frame to consider items opaque. r=roc a=bzbarsky 
Bug 611798 - Do not pretent that we need the presshell to exist in order to turn off update view batching when the editor operations finish, because we don't; r=bzbarsky a=blocking-final+
Bug 618217: Neaten up specialization of js::Anchor for struct-like jsval on non-GNU compilers. r=bzbarsky 
For transition reversing computations, ensure valuePortion is within 0.0-1.0.  (Bug 611238)  r=bzbarsky  a=blocking2.0:final
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 1; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 2; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 3; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 4; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 603706 - Need a way to track the originating window for all nsIConsoleMessages; r=joe,bzbarsky, a=blocking2.0 
Bug 603750 - nsWebSocket connection failure messages do not show in the Web Console; r=bzbarsky approval2.0=jst 
Bug 611241: Allow SVG filters from external documents to be used in about: pages. r=bzbarsky a=blocking-betaN+ 
Bug 616397.  Make |new Image| work again in Greasemonkey scripts.  r=mrbkap, a=blocker 
Bug 549459.  Don't show information about the object principal in the error string.  r=mrbkap a=blocker 
Adding test for bug 617296.  a=test-only 
Bug 620947.  Be a little more careful getting properties from document.all.  r=jst 
Bug 331959 and bug 127903.  Make situations in which an anchor or submit control is nested inside another anchor and the inner thing is clicked trigger the inner thing, not both.  r=smaug,gavin a=blocker 
Followup for bug 331959 to fix test orange. a=orange 
In contexts where the CSS parser accepts numbers and lengths, treat unitless zero as a number rather than a length.  (Bug 595648)  r=bzbarsky,dholbert  a=blocking2.0:betaN+
Correct handling of unitless zero in calc() expressions.  (Bug 595648)  r=bzbarsky  a=blocking2.0:betaN+
Bug 622117.  Fix flag collision.  r=smaug 
Bug 622246.  Just get our target off the event instead of relying on the ESM, since the ESM doesn't actually do what we want here.  r=smaug, a=blocker 
Bug 585258. Part 2: Make SimplifyOutward smarter by trying to avoid combinging rectangles that are vertically discontiguous. r=bzbarsky,a=blocking 
Fix backwards handling of zero-duration transitions.  (Bug 622461)  r=bzbarsky  a2.0=blocking2.0:betaN 
Bug 617617.  Remove remnants of the assumption that inc() and incHelper() preserve type.  r=njn 
Bug 614931.  Number.toLocaleString shouldn't miscumpute the string length.  r=brendan 
Bug 614931 test. 
Bug 621374.  Fix denseArrayElement to follow its contract for holes.  r=njn 
Fixing bug 606058. Given XUL overlay documents the principals of the containing document. r=bzbarsky@mit.edu, a=blocker 
Bug 614513 - Crash in nsCacheService::DeactivateEntry during Linux Talos. r=bzbarsky@mit.edu, a=blocker 
Bug 624301.  Only change background clip to padding-box for solid borders if it's border-box to start with.  r=dbaron 
Bug 619220.  Allow <base> elements that are not direct children of the <head>.  r=sicking 
Bug 613794.  Throw a reasonable exception when passed bogus imagedata. r=vlad 
Bug 577450.  Replicated fixed-pos frames should have the right style.  r=roc, a=roc 
Bug 619220 followup.  Nix unused member that was screwing things up.  a=orange 
Bug 589615 part 1.  Get rid of the non-HTML preshint level.  r=dbaron 
Bug 589615 part 2.  Rename the HTML preshint level to just the preshint level, since it's the only preshint level now. r=dbaron, a=dbaron 
Bug 625256.  Make the DOM timeout clamp a pref, but enforce that it's nonnegative.  r=jst, a=jst 
Bug 622326.  If we still have script running when we want to clear our window scope, use a termination function, not a runnable, to wait for it to finish.  r=bzbarsky, a=blocker 
Don't cancel transitions that are almost completed (and round to their final value) when we get an unrelated style change.  (Bug 613888)  r=bzbarsky  a2.0=blocking 
Add test for transitionend events firing for transitions that, prior to bug 613888, were canceled right before completing.  r=bzbarsky  a2.0=blocking 
Correctly fix up the parentage of child sheets when removing the primary nsCSSStyleSheet from an nsCSSStyleSheetInner.  (Bug 623351)  r=bzbarsky  a2.0=blocking 
Bug 579846 - nsIHttpChannel::SetResponseHeader should work after the stream has ended, r=bzbarsky, a=betaN+ 
Bug 622371 - Only set the selection to the beginning of the editable document if the editor is being initialized by entering designMode; r=bzbarsky a=blocking-final+ 
Bug 549260 - crash [@ nsTextInputListener::EditAction()][@ nsTextInputListener::EditAction ] while typing, pasting text in editor; r=bzbarsky a=blocking-final+ 
Bug 621630. Flush frames if we need to instantiate a plugin and it doesn't have one. r=bzbarsky a=blocking 
Bug 625434.  Make sure we don't get into a situation where we're failing to gc the ruletree for a page.  r=dbaron, a=blocker 
Bug 626259.  Use the right statvfs fields for determining disk size.  r=josh, a=blocker 
Bug 624995.  Make sure to fix the file permissions on Mac when downloading, now that mac's nsILocalFile::Create actually pays attention to permissions.  r=josh, a=blocker 
Backed out changeset 4e9a62d516ef (bug 573960) on suspicion of causing test orange. 
Merge backout of bug 573960, a=orange 
Bug 598726 - Prevent hangs in the refresh driver due to outstanding restyles on the same pres shell after processing the pending restyles on it; r=bzbarsky a=blocking-final+ 
Bug 626395.  Make sure that when we're clipping our kids we don't create overflow containers for their overflow.  Force the kids to lay out within our size instead.  Also don't include overflowing kids in our overflow area if we're clipping them.  r=roc, a=blocker 
Bug 611381.  Don't assume we have a prompt.  r=jst, a=blocker 
Bug 627474 - Part 2: Use nsIXPConnect::WrapNative directly in order to avoid having to link in libgklayout in non-libxul builds; r=bzbarsky a=bustage 
Bug 581536 part 0.  Change SetDocumentInternal to share the normal prescontext/presshell initialization codepath.  r=dbaron 
Bug 581536 - Part 2: Reconstruct the document element frames when the dir attribute is set on the document; r=bzbarsky a=blocking-betaN+ 
Bug 622528 - Open RTF document in Thunderbird with OpenOffice is not correct Ascii mode; r=bzbarsky a=bsmedberg 
Bug 579846 - nsIHttpChannel::SetResponseHeader should work after the stream has ended, r=bzbarsky+hsivonen, a=betaN+ 
Bug 585745.  Make sure the .style getter fails for MathML elements too.  r=peterv, a=blocker 
Add tests for bug 609227.  a=test-only 
Bug 559932 - intermittent content/html/document/test/test_bug445004.html | [SimpleTest/SimpleTest.js, window.onerror] An error occurred - uri.match(/^http:\/\/([a-z.0-9]*)/) is null; r=bzbarsky a=test-only 
Bug 622326. If we still have script running when we want to clear our window scope, use a termination function, not a runnable, to wait for it to finish. r=bzbarsky,jst a=blocker 
Bug 614513 - Crash in nsCacheService::DeactivateEntry during Linux Talos. r=bzbarsky@mit.edu, a=blocker 
Bug 625712.  Make useGlobalHistory work again on docshells.  r=sdwilsh 
Bug 629035.  Don't try to reconstruct frames if we don't have any.  r=dbaron, a=blocker 
Bug 629035 test.  a=test 
Bug 629035 test followup.  Add the test too. a=orange-n-such 
Bug 625991 - Let the server socket code deal with the cases where we don't have a live socket transport service due to being offline; r=bzbarsky a=blocking-final+ 
Bug 628209 partial fix.  On trace, make the element getter for typed arrays of unsigned integers that are less than 32 bits get signed 32-bit ints, not unsigned 32-bit ints.  r=gal 
Bug 377392 - 'Copy Link Location' strips random characters from URLs copied to the clipboard; r=wuno,bzbarsky a=dbaron 
Bug 629291.  Don't use native leaf names in safe output streams; they lose information. r=bsmedberg, a=jst 
Bug 630716 - Use a better method of comparing URIs for determining whether two compartments are same origin. r=bzbarsky, r=gal, a=blocker 
Bug 612135: Content Encoding Error (partial content request) on galaxys.samsungmobile.com  r=bzbarsky  a=blocking2.0 
Bug 612135: Content Encoding Error (partial content request) on galaxys.samsungmobile.com  r=bzbarsky  a=blocking2.0 
Bug 631682.  Make sure to start background image loads for the root element when we compute its style and decide to construct a frame.  r+a=dbaron 
Bug 631937 - Use case insensitive string comparison in TypeForClassID for clsid test r=bzbarsky a=jst 
Bug 630465.  Don't pretend everything is ok when allocating image surfaces failes.  r=vlad, a=joe 
Bug 623437.  Restore the relative enumeration order of arc and arcTo.  r=peterv,gal a=jst 
Bug 631352.  Changes to @lang need to restyle all descendants.  r=dbaron, a=blocker 
Fix test description.  a=DONTBUILD 
Bug 628888 - Ensure external documents loaded after page show get page show update; r=dholbert, bzbarsky; a=roc 
Bug 628888 - Ensure external documents loaded after page show get page show update; r=dholbert, bzbarsky; a=roc 
Bug 608191 - Fix dochsell assertion caused by not forwarding relevant nsGlobalWindow functions, r=bzbarsky a=jst 
Bug 632280 - Remove NS_NOTREACHED occurrences near nsCacheEntryDescriptor.cpp:686; r=bzbarsky,khuey a=bsmedberg 
Bug 633833 - Add function keyword to all the single function JSD interfaces, r=timeless, a=bzbarsky 
Bug 633413, don't bfcache so often, part 1, r=smaug 
Bug 622470 - "Decode on draw must be enabled for Mobile Fennec" [r=bzbarsky] a=blocking-fennec 
Bug 629908.  Don't blindly try to reconstruct the root element; we might not have one.  r=dbaron, a=dbaron 
Bug 631751 - Sniff Basic Latin BOMless UTF-16 for IE compat. r=bzbarsky, a=bzbarsky. 
bug 635705 - reorder code in GetParameterInternal. r+a=bzbarsky 
Bug 636495.  Make sure --enable-shark actually enables profiling. r=ted, a=gavin 
Bug 635977.  Make sure to always send OnStartRequest to our listener from nsIndexedToHTML.  r=jduell, a=bsmedberg 
Bug 635286.  Fix dynamic handling of :not() inside :-moz-any().  r=dbaron, a=dbaron 
Bug 636655 - Back out bug 582852 because of the performance regression it caused in creating large textnodes (while it was supposed to improve the performance); r,a=bzbarsky 
Bug 634986.  Don't act like we're redirecting if we don't have a channel.  r=jst, a=blocker 
Bug 637019 - Select element should fallback to ElementSH resolve hook. r=bzbarsky, a=blocker 
Bug 627729 - Force the old HTML parser for document.open()ed documents whose host name ends with ".mail.live.com". r=bzbarsky, a=blocking2.0-final. 
Bug 637214 - Block scripts when the document's ID table is being modified; r=bzbarsky a=hardblocker 
Bug 637214 - Test case; r=bzbarsky a=test-only 
Bug 637214 the continuing saga.  Add removable script blockers in a few more places, create an auto helper for that.  r=bzbarsky, a=blocker 
Bug 637214.  Restore our nice asserts.  r=bzbarsky, a=blocker 
Backed out changeset 7de6b799a753 (asserts for bug 637214) because they still fire.  a=fizzy-citrus-soft-drinks 
Bug 637644.  Start layout on the new document in CreateAboutBlankContentViewer, since if we don't do it here no one ever will.  r=jst, a=blocker 
Fix converter stream part of bug 638236.  r=bzbarsky  a2.0=blocking
Test for bug 638318 - Test that a byte run that has more than 1024 zeros but one non-zero byte among them before the 1024 byte limit does not sniff as UTF-16LE/BE. r=bzbarsky, a=test-only. 
Fix these tests to not break at smaller window widths or larger fonts.  a=test-only 
Bug 259861.  Warn when an XBL binding has no id attribute.  r=bzbarsky 
Bug 457102.  Remove vestiges of dead xpointer/fixptr stuff.  r=sicking 
Bug 585786.  Do fast-unwrapping even for non-slim wrappers as long as they're cached.  r=peterv 
Bug 595785.  Make sure the right channel is always passed to download progress listeners' onStateChange methods.  r=sdwilsh,bzbarsky 
Bug 601332.  Go back to allowing FOUC on document.written documents.  r=jst 
Bug 614145.  Fast-path null in quickstub return values.  r=peterv 
Bug 617339.  Make chrome channels always default to UTF-8.  r=bsmedberg 
Bug 632904.  Check IsEditable(), not content states, if we care about editability.  r=ehsan,masayuki 
Bug 636336.  Don't mess with whitespace in the src attribute of images, now that necko can deal with it itself.  r=sicking 
Bug 637644.  Start layout on the new document we just created in nsGlobalWindow::SetOpenerScriptPrincipal, since if we don't do it here no one ever will.  r=jst 
Backed out changeset 9dadd58e3317 (bug 617339) to fix test orange. 
Add missing UngetToken() for invalid contents of @charset rule.  (Bug 604172)  r=bzbarsky
Make GatherMedia() stop at block or semicolon in invalid cases.  (Bug 604172)  r=bzbarsky
Fix skipping of @-rules that are inside blocks to conform to new rule in CSS 2.1, which says that we must look for end-of-outer-block in addition to a semicolon or a block.  (Bug 604175)  r=bzbarsky
-moz-box-ordinal-group should not accept 0, since the code that uses the property ignores values of 0.  (Bug 636034)  r=bzbarsky 
Bug 614733.  Do exponential backoff on throttled refresh drivers.  r=dbaron 
Bug 632907.  Use Element more in the frame constructor.  r=roc 
Bug 621841.  Clear restyle flags in frameset kids when we process them.  r=dbaron 
Bug 616137.  Skip to the nearest ']' when parsing an attr selector fails.  r=dbaron 
Bug 585867 part 1.  Remove OOM checks on the return value of GetROCSSPrimitiveValue and GetROCSSValueList.  r=bzbarsky 
Bug 585867 part 2.  Make SetToRGBAColor return void.  r=bzbarsky 
Bug 585867 part 3.  Make AppendCSSValue infallible.  r=bzbarsky 
Bug 585867 part 4.  Make SetValueToStyleImage return void.  r=bzbarsky 
Bug 585867 part 5.  Remove outparam and AddRef from all property getters.  r=bzbarsky 
Bug 637807 - Use GetEntry on the ID hashtable in nsDocument::LookupImageElement; r=bzbarsky 
Bug 613595.  Speed up the cache-hit case for getElementsByTagName.  r=peterv 
Bug 600257.  Only flush in content lists if we're in an XML document.  r=peterv 
Bug 633146 - Remove unnecessary locking in nsCacheService::OpenCacheEntry; r=michal.novotny,bzbarsky 
Make sure all properties in nsCSSPropList.h have useful values for the method_ field.  (Bug 636039)  r=bzbarsky
Add parse types for CSS properties so we don't parse them in one huge switch.  (Bug 636029)  r=bzbarsky
Disable parsing of 'marker', 'run-in', and 'compact' in a less hacky way.  (Bug 636029)  r=bzbarsky
Separate the non-property parsed in ParseSingleValueProperty.  (Bug 636029)  r=bzbarsky 
Separate properties that are parsed in ParseSingleValueProperty with something other than ParseVariant.  (Bug 636029)  r=bzbarsky 
Add 'parsevariant_' parameter to CSS_PROP macro, with all properties initially zero.  (Bug 636029)  r=bzbarsky 
Fix keyword table entries in nsCSSPropList and code in nsRuleNode to match those used in the parser.  (Bug 636029)  r=bzbarsky 
Drive the ParseVariant calls in ParseSingleValueProperty from data rather than a big switch.  (Bug 636029)  r=bzbarsky 
Make generic mechanism for parsing lists of single values with ParseVariant.  (Bug 636029)  r=bzbarsky 
Use ParseSingleValueProperty for the components inside the 'transition' shorthand as well.  (Bug 636029)  r=bzbarsky 
Bug 630127.  Use a precise timer when we have animation frame callbacks.  r=dbaron 
Bug 608759.  Stop calling ContentEnumFunc through a function pointer; just call it directly.  r=dbaron 
Bug 576831 part 1.  Rename CSSStyleRuleImpl to mozilla::css::StyleRule.  r=bzbarsky 
Bug 576831 part 2.  Rename DOMCSSStyleRuleImpl to mozilla::css::DOMCSSStyleRule.  r=bzbarsky 
Bug 576831 part 3.  Rename CSSImportantRule to mozilla::css::ImportantRule.  r=bzbarsky 
Bug 576831 part 4.  Remove nsICSSStyleRule and use mozilla::css::StyleRule instead.  r=bzbarsky 
Bug 576831 part 5.  Make some methods that used to be virtual non-virtual.  r=bzbarsky 
Bug 576831 part 6.  DeCOMtaminate some StyleRule method signatures.  r=bzbarsky. 
Use GatherURL in ParseNameSpaceRule and ParseImageRect, and rename GatherURL to ParseURLOrString for clarity.  (Bug 604179, patch 1)  r=bzbarsky
Rename CSS tokens to be closer to the names of newly-added tokens (BAD_STRING, BAD_URI) in the CSS 2.1 tokenization.  (Bug 604179, patch 2)  r=bzbarsky 
Move the consumption of beginning whitespace (for all forms) and ending whitespace (for the string form) inside url() into the tokenizer.  (Bug 604179, patch 3)  r=bzbarsky 
Fix incorrect indentation in nsCSSScanner::NextURL.  (Bug 604179, patch 4)  r=bzbarsky 
Disallow control characters less than space inside unquoted url(), per spec.  (Bug 604179, patch 5)  r=bzbarsky 
Include the close parenthesis in the URL token and make quoted URLs produce URL tokens rather than string tokens.  (Bug 604179, patch 6)  r=bzbarsky 
Include the opening "url(" in URL and Bad_URL tokens (though the latter do not have a close paren), and make tokenization of url() function be noncontextual, as required by CSS.  (Bug 604179, patch 7)  r=bzbarsky
Bug 576877 Part 1: Rename CSSNameSpaceRuleImpl to mozilla::css::NameSpaceRule.  r=bzbarsky 
Bug 576877 Part 2: Remove nsICSSNameSpaceRule.  r=bzbarsky 
Bug 576877 Part 3: De-virtualize methods in NameSpaceRule. r=bzbarsky 
Bug 577002 Part 1: Rename CSSImportRuleImpl to mozilla::css::ImportRule.  r=bzbarsky 
Bug 577002 Part 2: Remove nsICSSImportRule.  r=bzbarsky 
Bug 577002 Part 3: Make various ImportRule functions non-virtual and cleanup some return types.  r=bzbarsky 
Bug 641856.  column-rule needs to work even when overflow is not visible.  r=roc 
Correct comment describing nsRuleData::ValueFor.  (Bug 636039, patch 2)  r=bzbarsky
Don't bloat nsCSSTable for members that only need to exist in nsRuleDataTable.  (Bug 636039, patch 3)  r=bzbarsky 
Allow the method field in nsCSSPropList.h to be used with or without prefixes.  (Bug 636039, patch 4)  r=bzbarsky 
Add nsRuleData::ValueForBackgroundColor, etc., methods for each CSS property.  (Bug 636039, patch 5)  r=bzbarsky 
Fix error in CSS vs. HTML precedence for the variable atttribute on the pre element.  (Bug 636039, patch 6)  r=bzbarsky 
Convert attribute mapping functions to property getters instead of accessing struct members.  (Bug 636039, patch 7)  r=bzbarsky 
Convert custom style rules to property getters instead of accessing struct members.  (Bug 636039, patch 8)  r=bzbarsky 
Remove unused *AtOffset methods.  (Bug 636039, patch 9)  r=bzbarsky 
Correct checks that were for the wrong pseudo-property (script-level vs. script-size-multiplier).  (Bug 636039, patch 10)  r=bzbarsky 
Convert nsRuleNode::Compute*Data to property getters instead of accessing struct members.  (Bug 636039, patch 11)  r=bzbarsky 
Remove now-unneeded parameters to COMPUTE_START_{INHERITED,RESET}.  (Bug 636039, patch 12)  r=bzbarsky 
Make the three CSS_PROP_INCLUDE_NOT_CSS properties much more like normal CSS properties, and (importantly) give them property IDs in the longhand range.  Replace CSS_PROP_INCLUDE_NOT_CSS with CSS_PROP_STUB_NOT_CSS for callers that need stubs.  (Bug 636039, patch 13)  r=bzbarsky 
Add index and count data for the properties that need to be computed for each style struct.  (Bug 636039, patch 14)  r=bzbarsky
Instead of stack-allocating nsRuleData* structs in separate methods for each style struct, allocate an array of nsCSSValue using alloca.  (Bug 636039, patch 15)  r=bzbarsky 
Remove Moz prefixes from names of subproperty tables.  (Bug 636039, patch 16)  r=bzbarsky
Remove now unused nsRuleData* structs.  (Bug 636039, patch 17)  r=bzbarsky 
Make test_property_database.html give all the errors rather than throwing an exception for the first missing longhand property.  (Bug 636039, patch 18)  r=bzbarsky
Add poisoning for nsRuleData::mValueOffsets.  (Bug 636039, patch 19)  r=bzbarsky
Keep reset and inherited style struct IDs separate.  (Bug 639231, patch 1)  r=bzbarsky 
Fix indentation.  (Bug 639231, patch 2)  r=bzbarsky 
Make nsCachedStyleData store arrays of nsStyleStruct*, and use style struct IDs for faster access to those arrays.  (Bug 639231, patch 3)  r=bzbarsky 
Remove support for the variable attribute on the HTML pre element.  (Bug 642227)  r=bzbarsky 
Check for the |var| element rather than the |variable| element in nsHTMLCopyEncoder::IncludeInContext.  (Bug 642716)  r=bzbarsky 
bug 628561  DNS caching forcing one to restart Firefox to eliminate temporary DNS redirection; r=bzbarsky
Bug 280661 - SOCKS proxy server connection timeout hard-coded; r=bzbarsky 
Bug 644637.  Make sure mRequest lives long enough that we don't hand dead objects around.  r=sdwilsh 
Bug 602341 part 1.  Switch the pseudoclass Has*Arg functions from atoms to pseudoclass types.  r=dbaron 
Bug 602341 part 2.  Switch tree pseudoelements to using an nsAtomList (mClassList, to be exact), not an nsPseudoClassList (mPseudoClassList), for their list of atoms.  r=dbaron 
Bug 602341 part 3.  Get rid of the mAtom member of nsPseudoClassList.  r=dbaron 
Bug 602341 part 4.  Drop the nsIAtom arguments to AddPSeudoClass.  r=dbaron 
Bug 602341 part 5.  Get rid of some pseudoclass atoms in the CSS parser.  r=dbaron 
Bug 602341 part 6.  Make pseudoclass atoms private to nsCSSPseudoClasses.  r=dbaron 
Bug 606087.  Don't reframe if overflow styles change on inlines.  r=dbaron.  Test changes by Alexander Surkov, r=marco.zehe 
Bug 602341 part 7.  Fix serialization of tree selectors.  r=dbaron 
Bug 638241. Part 1: remove useless QI. r=bzbarsky 
Bug 638241. Use a cache to avoid redoing SurfaceForElement and DoDrawImageSecurityCheck. r=bzbarsky 
Bug 629621 - Make the content sink no longer write http-equivs back to Necko. r=bzbarsky. 
Bug 633421.  Throttle timeouts in background tabs to 500ms, noot 10ms.  r=jst 
Bug 607529.  Don't trigger animation callbacks on documents that have gone away.  r=roc,smaug 
Bug 643945.  Use a <button type='button'>, not an <input type='button'>, for the dropmarker in a <select>.  r=ehsan 
Bug 618662.  Make nsIDocument::GetWindow a const method.  r=bzbarsky 
Bug 642717.  Hold strong references to our MozBeforePaint event targets.  r=roc 
Bug 644576.  Make sure that when we set up our iterator we don't decide we're done if the first row in our damage range contains no cells in our damage range.  r=roc 
Replace use of nsCSS* structs in nsCSSExpandedDataBlock with an array of nsCSSValue.  (Bug 645620, patch 1)  r=bzbarsky
Remove nsCSSDataBlock::kOffsetTable, which is no longer needed.  (Bug 645620, patch 2)  r=bzbarsky 
Move nsCSSCornerSizes from nsCSSStruct.h/cpp to nsCSSValue.h/cpp.  (Bug 645620, patch 3)  r=bzbarsky 
Remove nsCSSStruct.h/cpp.  (Bug 645620, patch 4)  r=bzbarsky 
Remove the datastruct_ and member_ fields of the CSS_PROP macro.  (Bug 645620, patch 5)  r=bzbarsky 
Bug 645938.  Make sure to set mFlushesNeeded for all content lists.  r=dbaron 
Bug 645943.  Initialize mLastTimerInterval correctly.  r=dbaron 
Bug 644069.  Fix the caching logic for cross-site requests.  r=sicking 
Bug 562701, part b: Use Element in nsDOMWindowUtils::ComputeAnimationDistance; r=bzbarsky 
Bug 601590 - Make AppendElementStart, AppendElementEnd take Element.  r=bzbarsky 
Bug 313351.  ContentStatesChanged should take only one argument.  r=dbaron 
Bug 633271 part 1.  Stop shoehorning focus state change notifications into the ESM.  r=enndeakin 
Bug 633271 part 2.  Simplify nsEventStateManager::SetContentState.  r=dbaron 
Bug 604596.  Stop using an out param for the return value of GetSMILOverrideStyle.  r=bzbarsky 
Bug 598832 part 1.  Move TreeMatchContext out to where things other than the rule processor can get at it.  r=dbaron 
Bug 598832 part 2.  Move tracking of the scope root to the TreeMatchContext.  r=dbaron 
Bug 598832 part 3.  Stop keeping track of whether the node or document is HTML in the RuleProcessorData.  r=dbaron 
Bug 598832 part 4.  Move tracking of whether we're in quirks mode to the TreeMatchContext.  r=dbaron 
Bug 598832 part 5.  Move caching of nth-index stuff to the TreeMatchContext.  r=dbaron 
Bug 598832 part 6.  Stop caching the language of elements; just reget it from the DOM as needed.  r=dbaron 
Bug 598832 part 7.  Stop caching the content state of elements; just reget it from the DOM as needed.  r=dbaron 
Bug 598832 part 8.  Move NodeMatchContext higher up the callstack, so that we don't have to call IsLink as much.  r=dbaron 
Bug 598832 part 9.  Stop caching the element's local name; just get it from the DOM as needed.  r=dbaron 
Bug 598832 part 10.  Stop caching information about the element's attributes; just get it from the DOM as needed.  r=dbaron 
Bug 598832 part 11.  Stop caching the parent content pointer and the element pointer; just use the passed-in aElement.  r=dbaron 
Bug 598832 part 12.  Stop using RuleProcessorData in SelectorMatchesTree.  r=dbaron 
Bug 598832 part 13.  Stop using RuleProcessorData in the DOM-exposed selector-matching methods.  r=dbaron 
Bug 598832 part 14.  Make RuleProcessorData a stack-only class.  r=dbaron 
Bug 598832 part 15.  Make RuleProcessorData not inherit from TreeMatchContext anymore, so we can decouple the lifetimes.  r=dbaron 
Bug 598832 part 16.  Use a single TreeMatchContext for all the style resolution that the frame constructor does as part of a single frame construction batch.  r=dbaron 
Bug 631837.  Stop doing recursive tree traversal in querySelector(All).  r=sicking 
Rev IIDs of interfaces that derive from nsIDOMDocument due to methods added to nsIDOMDocument.  (Bug 639849)  r=bzbarsky 
Don't call SetSheet with a null sheet.  (Bug 645951)  r=bzbarsky 
Go through the normal restyling codepath in RebuildAllStyleData so that we handle in-progress transitions correctly.  (Bug 583219)  r=bzbarsky 
Add test for bug 583219.  r=bzbarsky 
Bug 571685 - Move remainders of webshell into /docshell/base; r=bzbarsky 
Bug 557768 - A11y should use nsImageMapUtils; r=surkov 
Backed out changeset 68cf1028779b (bug 640117) because it doesn't build on Mac. 
Bug 59109 Part 1: Adding -moz-text-decoration-color and -moz-text-decoration-style r=dbaron, sr=bzbarsky 
Bug 629559.  Clone child session history entries on anchor navigation.  r=dtownsend,smaug 
Bug 280661 - SOCKS proxy server connection timeout hard-coded; r=bzbarsky 
Bug 610077.  Drop the default timeout clamp to 4ms.  r=jst 
Bug 646912.  Fix grad-to-degree conversion factor.  r=dholbert 
Bug 646850.  When resetting length to the pre-animation value, make sure to not lose track of our units.  r=dholbert 
Expose public APIs for converting doubles to signed/unsigned int per ECMA spec (bug 631132, r=bzbarsky). 
Bug 640272 - Check load status for border images before trying to render them.  r=bzbarsky 
Bug 614969 - Use the primary frame for the display style test.  r=bzbarsky 
Fix for bug 633934.  r=bzbarsky
Bug 646972.  Clamp the timeout interval after storing mInterval on the nsTimeout, so interval timers will correctly speed up when a tab goes from background to foreground.  r=jst 
Merge cedar into mozilla-central 
Bug 577974 - Part 1: Rename CSSGroupRuleListImpl. r=bzbarsky 
Bug 577974 - Part 2: Remove nsICSSGroupRule, r=bzbarsky 
Bug 577974 - Part 3: Rename nsCSSDocumentRule and nsCSSMediaRule, r=bzbarsky 
Bug 577974 - Part 4: DeCOM and de-virtualize methods in GroupRule, r=bzbarsky 
Bug 577976 - Part 1: Make nsCSSRule inherit from nsICSSRule and remove inheritance of nsICSSRule from other classes, r=bzbarsky 
Bug 577976 - Part 2: Remove forwarding methods to nsCSSRule from Rule classes, r=bzbarsky 
Bug 577976 - Part 3: Rename nsCSSRule and put in css namespace, r=bzbarsky 
Bug 577976 - Part 4: Move AddRef/Release back to nsCSSRule, r=bzbarsky 
Bug 577976 - Part 5: Remove AddRef from GetStyleSheet, r=bzbarsky 
Bug 645956 - Part 1: Remove NS_NewCSSStyleRule, r=bzbarsky 
Bug 645956 - Part 2: Remove NS_NewCSSImportRule, r=bzbarsky 
Bug 645956 - Part 3: Remove NS_NewCSSNamespaceRule, r=bzbarsky 
Bug 645956 - Part 4: Move CSSCharsetRule to header file and put in css namespace, r=bzbarsky 
Bug 645956 - Part 5: Remove NS_NewCSSCharsetRule, r=bzbarsky 
Bug 577976 - Part 6: Add cast to resolve ambiguity in case 'using' isn't supported by compiler, r=bzbarsky 
Bug 645115 - Flush tree ops in the fragment case when the tree builder yields due to a script. r=bzbarsky. 
Bug 639733 - Include the tag name in the frame state key.  r=bzbarsky 
Bug 581177 part 1.  Separate mFlags and mSlots into separate members.  Stop storing flags in slots.  r=sicking 
Bug 581177 part 2.  Separate mParent from the flags it used to cohabit with.  r=sicking 
Bug 581177 part 3.  Make IsElement() use a boolean flag.  r=sicking 
Bug 581177 part 4.  Make 'has id' into a boolean flag.  r=sicking 
Bug 581177 part 5.  Make 'may have style' into a boolean flag.  r=sicking 
Bug 581177 part 6.  Make 'has name' into a boolean flag.  r=sicking 
Bug 581177 part 7.  Make 'may have contenteditable attr' into a boolean flag.  r=sicking 
Bug 581177 part 8.  Compress the flags so it's clear what's free.  r=sicking 
Bug 581177 followup.  Remove bogus comment and rev iids. 
Bug 631437: Add length to SVGXXXList interfaces and make them respond to array indexing (v4) r=jwatt,bzbarsky 
Bug 628794.  SVG and HTML/XUL .style come from different interfaces.  r=peterv 
Bug 588389 - content-disposition: escaped characters in quoted-string give funny results; r=bzbarsky 
Backed out changeset 4cadb299e5ef (bug 588389) to fix orange. 
Implement step-start, step-end, and steps() timing functions.  (Bug 435442, patch 0)  r=bzbarsky 
Implement parsing and computation for the new properties in css3-animation.  (Bug 435442, patch 1)  r=bzbarsky 
Share implementation of GetCSSParsingEnvironment so we can use it for both style rules' declarations and keyframe rules' declarations.  (Bug 435442, patch 2)  r=bzbarsky 
Clean up handling of CSSOM modifications to rules that are non-child descendants of a sheet.  (Bug 435442, patch 3)  r=bzbarsky
Fix style rule inheritance macros.  (Bug 435442, patch 4)  r=bzbarsky 
Implement parsing and storage of @keyframes rule.  (Bug 435442, patch 5)  r=bzbarsky 
Add support for cascading of keyframes rules.  (Bug 435442, patch 6)  r=bzbarsky 
Refactor some parts of nsTransitionManager into common base class to be shared with AnimationManager.  (Bug 435442, patch 7)  r=bzbarsky 
Make AnimValuesStyleRule::AddEmptyValue infallible.  (Bug 435442, patch 8)  r=bzbarsky 
Add interface for taking over the refresh driver in a test (i.e., mocking time).  (Bug 435442, patch 9)  r=bzbarsky 
Factor some common testing code into animation_utils.js.  (Bug 435442, patch 10)  r=bzbarsky 
Implement and test animation of css3-animations.  (Bug 435442, patch 11)  r=bzbarsky 
Instead of incorrectly setting nsComputedDOMStyle's mOuterFrame and mInnerFrame when we have a pseudo-element to the element's frames, leave them null.  (Bug 435442, patch 13)  r=bzbarsky
Fire animation events at the correct times.  (Bug 435442, patch 14)  r=bzbarsky 
ifdef CSS animations so that the feature can be backed out by flipping the switches in configure.in and then reverting the changes to the following four files appropriately:  nsIDOMCSS2Properties.idl, nsIDOMCSSRule.idl, property_database.js, test_transitions_computed_values.html.   (Bug 435442, patch 15)  r=bzbarsky 
Bug 637671 - Don't display the selection for a non-focused text element when restoring the selection state after a reframe.  r=bzbarsky 
Bug 648943.  Use the wrapper cache for childNodes in quickstubs.  r=peterv 
Fix 32-bit mac opt bustage, bug 435442, r=dbaron 
We're going to use this same data structure for id selectors too, so the old name doesn't make sense any more. 
The basic idea is to only match against id selectors which might matter by keeping track of them in a hashtable instead of a flat list.  We still need to use a flat list for possibly-negated id selectors, unfortunately. 
Bug 649223 - Reftest for bug 366207 wastes two seconds, needlessly; r=bzbarsky 
Bug 637671 - Don't display the selection for a non-focused text element when restoring the selection state after a reframe; r=bzbarsky 
Bug 643885 - Part 2: Optimize nsContentUtils::RemoveScriptBlocker to minimize the number of memmove's; r=bzbarsky 
Bug 588389 - content-disposition: escaped characters in quoted-string give funny results; r=bzbarsky 
Bug 648871 - use NS_STDCALL_FUNCPROTO; r=bzbarsky 
Bug 648872 - use NS_STDCALL_FUNCPROTO; r=bzbarsky 
Bug 648873 - use NS_STDCALL_FUNCPROTO; r=bzbarsky 
Bug 649566 - @keyframe(s) missing from <style> sanitizing code in nsHTMLFragmentContentSink; r=bzbarsky 
Make nsIFrame::GetOrdinal accept all values that the CSS parser accepts (which currently adds no values).  (Bug 644514 patch 1)  r=bzbarsky 
Share code to count the length of the transition/animation property array.  (Bug 651801, patch 1)  r=bzbarsky 
Share code to compute timing functions.  (Bug 651801, patch 2)  r=bzbarsky 
Remove null-checks of nsCSSParser, since construction is infallible.  (Bug 542058, patch 1)  r=bzbarsky
Allow null media query cache key in some places.  (Bug 542058, patch 2)  r=bzbarsky 
Implement window.matchMedia for matching of media queries and notification of media query changes.  (Bug 542058, patch 3)  r=bzbarsky
Remove parsing and storage code for CSS 2.0 aural properties.  (Bug 649119)  r=bzbarsky 
Ensure nsRefreshDriver::MostRecentRefresh tells the truth even when we stop and restart timers.  (Bug 650469)  r=bzbarsky 
Add diagnostic for nested @-rules that are ignored.  (Bug 652014)  r=bzbarsky 
Use saner index names in nsAnimationManager.  (Bug 649400)  r=bzbarsky 
Fix css3-animations handling of properties that are not present in all keyframes to match WebKit and generally be more sensible.  (Bug 649400)  r=bzbarsky
Don't construct image loaders for null border-image.  (Bug 652052)  r=bzbarsky 
Make nsBox more careful about accepting XUL attributes only on XUL elements.  (Bug 102440)  r=bzbarsky 
unicode-bidi should inherit into ::-moz-cell-content, ::-moz-anonymous-block, ::-moz-anonymous-positioned-block, and ::-moz-fieldset-content.  (Bug 604294)  r=bzbarsky 
Should check link-related bits before reusing style context for root element.  (Bug 652268)  r=bzbarsky 
Reduce scope of :hover quirk:  make it apply normally if it has a class selector, and be quirky (only apply to links) only when actually global.  (Bug 197686)  r=bzbarsky 
Bug 647421 -moz-text-decoration-color and -moz-text-decoration-style should be reset by text-decoration r=dbaron, sr=bzbarsky 
Bug 649997 part 1.  Stop touching rv in DO_FOR_EACH_ROWGROUP on table rows collections.  r=peterv 
Bug 649997 part 2.  Change nsIHTMLCollection::GetNodeAt to not use an nsresult outparam.  r=peterv 
Bug 649997 part 3.  Change nsIHTMLCollection::GetNamedItem to not use an nsresult outparam.  r=peterv 
Bug 649997 followup.  Don't return uninitialized rv.  Caught by ms2ger 
Bug 647570.  Make nsJSURI inherit from nsSimpleURI. r=bzbarsky 
Bug 649163.  Stop refcounting the return values from GetCSSParsingEnvironment, where possible.  r=dbaron 
The :-moz-focusring style comes first so we don't have to do the :not() and :-moz-any() matching at all for the common case. 
Bug 652301 followup.  Also don't show focus outlines on frame and iframe, since editor tests depend on that.  r=dbaron 
Bug 642908 - Make the <noscript> handling state in the speculative document.write tree builder match the state of the non-speculative document.write tree builder. r=bzbarsky. 
Test for bug 642908 - Make the <noscript> handling state in the speculative document.write tree builder match the state of the non-speculative document.write tree builder. r=bzbarsky. 
 r=bzbarsky 
Remove incorrect nulling out of members that duplicates the correct code in Shutdown.  (Bug 652385)  r=bzbarsky 
Don't set mNeedsRefreshes to false when we get two refreshes at the same time stamp.  (Bug 651456)  r=bzbarsky 
Add support for regexp() function in @-moz-document rule.  (Bug 398962)  r=bzbarsky 
Fix comment describing nsHTMLReflowState::availableWidth.  (Bug 653356)  r=bzbarsky 
event-loop-hogging operation is running. So I don't think we should do that. 
Convert use of preferences API in style system mochitests to SpecialPowers.  (Bug 653461, patch 1)  r=bzbarsky 
Convert use of DOMWindowUtils in style system mochitests to SpecialPowers.  (Bug 653461, patch 2)  r=bzbarsky 
Convert use of zoom API in style system mochitests to SpecialPowers.  (Bug 653461, patch 3)  r=bzbarsky 
Assert that we destroy ElementAnimations/ElementTransitions through its Destroy() method.  (Bug 653644)  r=bzbarsky 
Lower the level in the cascade of animations.  (Bug 653645)  r=bzbarsky 
Merge cedar with mozilla-central 
Audit for places in style rule code that need to check for a null sheet.  (Bug 634373)  r=bzbarsky 
Pass whether we're in a string to ParseAndAppendEscape.  (Bug 384672, patch 1)  r=bzbarsky
Handle failure of GatherIdent, which can (starting with the next patch) fail when the character sequence is not an identifier.  Additionally, change the tokenization of a hash (#) followed by a non-name character or EOF to tokenize as DELIM (eCSSToken_Symbol) rather than as eCSSToken_Hash.  This only changes the behavior in the EOF case, because the only caller (color parsing) that accepts eCSSToken_Hash (rather than only eCSSToken_ID) checks the length. (Bug 384672, patch 2)  r=bzbarsky 
Allow ParseAndAppendEscape to fail when the stream does not contain an escape, and make callers handle this failure appropriately.  This changes our behavior when backslash immediately precedes end-of-stream.  (Bug 384672, patch 3)  r=bzbarsky 
Only allow escaped newlines inside strings (which includes url() tokens that contain strings).  (Bug 384672, patch 4)  r=bzbarsky 
Fix the remaining todo test in test_parse_rule.html, which is invalid since ~= selectors never match anything containing spaces.  (Bug 384672, patch 5)  r=bzbarsky 
Bug 654106 - Avoid registering a script observer in the fragment parsing case. r=bzbarsky. 
Backed out changeset 998b91ea0ffa (bug 648878) because it doesn't build on Windows. 
Merge backout of bug 648878 
Bug 654167.  Fix drawing of thin 'border-style: double' border-collapsed borders.  r=roc 
Merge cedar with mozilla-central 
Bug 652459.  Temporarily disabling these tests to reopen CLOSED TREE.  a=davidb 
Merge cedar with mozilla-central 
Bug 652401.  Make sure to not have straggling JSContexts on the stack when notifying in the refresh driver.  r=smaug 
Bug 349259.  Allow pages to override line-height on form controls, except for <select>.  r=dbaron 
Bug 614171 part 1.  Switch away from Init() to using a constructor for nodeinfo.  r=sicking 
Bug 614171 part 2.  Cache the qualified name, in normal and corrected case, on the nsINodeInfo.  r=sicking 
Bug 614171 part 3.  deCOM qualified name getters a bit.  r=sicking 
Bug 614171 part 4.  Eliminate nsINodeInfo::GetLocalName in favor of GetName.  r=sicking 
Bug 614171 part 5.  Inline the cheap Equals() methods on nsINodeInfo.  r=sicking 
Backed out changeset 7a3898f131f3 because it doesn't list a bug number. 
debug Mochitest-other permaorange from CLOSED TREE. 
Bug 557726.  Allow passing a pseudo-element argument to getCSSStyleRules in inspector utils.  r=bzbarsky 
Bug 654989 part 1.  Allow handing out both an nsIContent and an nsStyleContext from CreateAnonymousContent.  r=roc 
This asserts the parts of AddFrameConstructionItems that should never matter for anonymous content and then just copies the one-line style context get if it's needed. 
Bug 648925 - Part 1: Change uses of nsICSSRule to css::Rule.  r=bzbarsky 
Bug 648925 - Part 2: Make several css::Rule methods non-virtual and inline.  r=bzbarsky 
Bug 648925 - Part 3: Factor some common method bodies into css::Rule.  r=bzbarsky 
Bug 648925 - Part 4: DeCOMtaminate GetDOMRule and GetDOMRuleWeak.  r=bzbarsky 
Bug 648925 - Part 5: Make nsCSSKeyframeRule use inherited AddRef/Release from Rule.  r=bzbarsky 
Merge cedar with mozilla-central 
Bug 650001 - Make the HTML serializer pay attention to namespaces. r=bzbarsky. 
List value range restrictions more reliably in nsCSSPropList.  Change 'font-size-adjust' to reject negative values.  (Bug 653842, patch 1)  r=bzbarsky 
Unify positive-nonzero value restriction (used for integers) with one-or-larger value restriction (used for floats) as a single one-or-larger value restriction.  (Bug 653842, patch 2)  r=bzbarsky 
Ensure nsStyleAnimation doesn't produce values outside valid ranges.  (Bug 653842, patch 3)  r=bzbarsky 
-moz-animation-play-state should not be part of the -moz-animation shorthand.  (Bug 654890)  r=bzbarsky 
Propagate code that used to be in CSSParserImpl::ParseSingleValueProperty and mark -moz-script-size-multiplier and -moz-script-min-size as inaccessible to parser.  (Bug 636029, patch 9)  r=bzbarsky 
Bug 649134 - Ignore an empty or whitespace only <link> href.  r=bzbarsky 
Bug 649134 - Ignore an empty or whitespace only href in the Link HTTP header.  r=bzbarsky 
Bug 652775.  Remove the default nowrap styling on <legend>.  r=dbaron 
Bug 508369 part 1.  Move the detection of loads inheriting a principal later in InternalLoad so that we catch ones that pass in a non-null owner directly.  r=jst 
Bug 508369 part 2.  Change the test to catch the error fixed in part 1 in the future.  This is just removing an extra .parent from the scripts in anchors.html inside the zip file.  r=jst 
The zip file change is just a change to replace top.poke() with parent.poke() so that the refresh test will be useful in the harness too. 
In the new setup, the mURL member of nsCSSValue::URL stores either the actual URI pointed to or the base URI; a boolean flag keeps track of which is stored.  Consumers use GetURI() to get the URI instead of raw access to mURI, and GetURI calls NS_NewURI as needed. 
Bug 655513 - Remove nsIDOMDocumentRange; f=ehsan r=bzbarsky 
Bug 473841 - "ASSERTION: NULL mIconRequest!  Multiple calls to OnStopRequest()?"; r=josh,bzbarsky 
Bug 655682 - Perform discretionary flushes in the HTML parser even if the current node is foster-parenting. r=bzbarsky. 
Bug 541496 part 1: add an overload of nsCSSParser::Parse() that takes a string rather than a stream; rename both methods ParseSheet(); change calling convention of the older overload for the templated implementation's sake. r=bzbarsky 
Bug 541496 part 2: use the new string-taking API in nsHTMLParanoidFragmentSink. En passant prune some unnecessary inclusions of ns(I)UnicharInputStream.h. r=bzbarsky 
Bug 541496 part 3: use the new string-taking API in LoadInlineStyle. r=bzbarsky 
Bug 541496 part 4: rewrite ns(I)UnicharStreamLoader to produce a string rather than a stream; use string-taking parser API for async style loads. r=bzbarsky 
Bug 541496 part 5: use the string-taking API for sync sheet loads. r=bzbarsky 
Bug 541496 part 6: remove no-longer-used stream-processing code from css::Loader and nsCSSParser. r=bzbarsky 
Add a test for bug 644069.  r=bzbarsky 
Bug 611922.  When reparenting style contexts, use the visitedness of our new parent unless we're the style context for a link.  In that situation, assume that our visitedness did not change.  r=dbaron 
Bug 654399.  Try to make sure we always hand out the same exact string buffer each time location.hash is gotten.  r=roc 
Bug 657844 - SynthesizeMouseMove calls should be disabled in fennec r=bzbarsky 
Bug 658982.  Go back to not allowing changes to line-height on inputs (but continue to allowing it for <button>s, for site compat reasons). r=dbaron 
Bug 647885 part 1.  Keep better track of whether our computed background-position was specified with percentages.  r=dbaron 
Bug 647885 part 2.  Keep better track of whether our computed background-size was specified with percentages.  r=dbaron 
Bug 647885 part 1.  Keep better track of whether our computed background-position was specified with percentages.  r=dbaron 
Bug 647885 part 2.  Keep better track of whether our computed background-size was specified with percentages.  r=dbaron a=sheriff 
Bug 659207.  Don't inline a constructor that consumers can't actually inline without statically linking to JS.  r=luke a=sheriff 
Bug 529750 part 1.  Don't walk non-CSS UA rules when checking for important UA rules.  r=dbaron 
Bug 529750 part 2.  Assume that in AssertNoImportantRules and AddImportantRules the rule is a StyleRule.  r=dbaron 
Bug 529750 part 3.  Switch nsRuleWalker to only calling GetImportantRule on CSS StyleRules.  r=dbaron 
Bug 529750 part 4.  Move GetImportantRule to css::StyleRule.  r=dbaron 
Bug 633743 - reverting closed tab with pushState changes sends request with HTTP_X_REQUESTED_WITH:XMLHttpRequest  r=bzbarsky
Bug 529750 followup.  Disable assert that actually fails at the moment to fix orange. 
Bug 656379 part 1.  Move the class decl for nsHTMLLabelElement out to a header.  r=smaug 
Bug 656379 part 2.  Make labels expose a nicer API for getting their labeled content.  r=smaug 
Bug 656379 part 3.  Set :hover and :active state for labeled elements when their label has that state.  r=dbaron 
Bug 631529.  Pass a TreeMatchContext into ReResolveStyleContext so that we can share the nth-index cache across the entire reresolution.  r=dbaron 
Bug 657844 - SynthesizeMouseMove calls should be disabled in fennec r=bzbarsky 
Fixing part of bug 659569. Fix issue with Firefox getting stuck in a redirect loop when connecting to Ubiquiti radio equipment. r=bzbarsky@mit.edu 
Make nsJSURI inherit from nsSimpleURI.  Bug 647570, r=bzbarsky 
Bug Remove unused code from nsPrefetchNode::AsyncOnChannelRedirect, r=bzbarsky
Bug 529750 followup; reenable the assertion.  r=dbaron 
Bug 619590 - Bug Remove unused code from nsPrefetchNode::AsyncOnChannelRedirect, r=bzbarsky
Test for bug 655682 - Perform discretionary flushes in the HTML parser even if the current node is foster-parenting. r=bzbarsky. 
Bug 656904 - Make the view-source: URL constructor pay attention to the base URL. r=bzbarsky. 
Bug 658213.  Just pass an JSContext to ReparentContentWrappersInScope. r=peterv 
Bug 657353 part 1.  Switch the XML prettyprinter to using a script runner instead of EndUpdate to determine when to drop prettyprinting.  r=sicking 
Bug 657353 part 2.  Switch content state updates away from calling Begin/EndUpdate.  r=sicking 
Bug 657353 followup.  Put a scriptblocker around our call to VisitGroup with nsRadioSetValueMissingState, since that dispatches state change notifications. 
Bug 598833 part 1.  Move IntrinsicState from nsIContent to Element.  r=smaug 
Bug 598833 part 2.  Create basic infrastructure for letting the ESM store states on elements.  r=smaug 
Bug 598833 part 3.  Store hover and active state directly on elements.  r=dbaron 
Bug 598833 part 4.  Store urltarget and dragover state directly on elements.  r=dbaron 
Bug 598833 part 5.  Store focus and focusring state directly on elements.  r=smaug,enn 
Bug 598833 part 6.  Get rid of nsEventStateManager::GetContentState.  r=smaug 
Bug 598833 part 7.  Make IntrinsicState protected.  r=smaug 
This is a bit of a hack to make sure that we update link state sometime when doing style resolution, pending a better setup in bug 660959 for determining when to resolve the link URI. 
Bug 598833 part 9.  Store an Element pointer in Link.  r=smaug,sdwilsh 
Bug 598833 part 10.  Make unbinding a <select> update its validation state.  r=mounir 
Bug 598833 part 11.  Changes to @form should notify the old default submit correctly.  r=mounir 
Bug 598833 part 12.  Add dom::Element::UpdateState and use it in various places where elements update their own state.  r=smaug,sdwilsh,mounir 
Bug 655549 and bug 645768.  Rejigger the quirk table color rule to work more reliably.  r=dbaron 
The fundamental change is that instead of using 3000+ separate documents to test this we use one big document with distinct IDs for all the tests. 
Bug 660404.  Allow storing the previous page in bfcache even if the new one is a multipart response.  r=smaug 
Bug 316661 - Remove null-checks before delete: Part B; r=pbiggar,brendan,bzbarsky 
Bug 656277 - Prevent loading WebGL textures from cross-domain images - r=bzbarsky, a=jpr
Bug 311007 - Add onLocationChange2 which distinguishes between same-document and different-document location changes to web progress listeners.  r=smaug, sr=bzbarsky 
Add test for bug 200089. 
Bug 578564.  Remove nsIFrameSetElement and just use nsHTMLFrameSetElement instead.  r=bzbarsky 
Bug 653145 - move layout/xul/base/test/* mochitests to mochitest-chrome to avoid enablePrivileges. r=bzbarsky, a=test-only 
Bug 659263 - move content/xul/*.xul tests from mochitest-plain to mochitest-chrome. r=bzbarsky, a=test-only 
Backed out changeset 96fac50b57ed (bug 652294) because it makes Windows opt unit tests orange. 
Merge backout of rev 96fac50b57ed (bug 652294) 
Backing out revisions 33bcd05554f3, d8b5c9736831, 59c84742872f, f5a456d99df9, d580181e5434, 61e1aa1afa09, a1b563094e5a to fix Moth orange. 
Merge backout of revisions 33bcd05554f3, d8b5c9736831, 59c84742872f, f5a456d99df9, d580181e5434, 61e1aa1afa09, a1b563094e5a to fix Moth orange 
Address missed review comment from bug 644514 patch 1: remove unused macro.  r=bzbarsky 
Allow -moz-box-ordinal-group: 0 (but not negatives, since we store the value as PRUint32).  (Bug 644514)  r=bzbarsky 
Add missing break (Bug 398962)  r=bzbarsky 
Fix error in comment.  r=bzbarsky 
bug 467669 - pt 1 - get list of fonts actually used to render a document range. r=roc sr=bzbarsky 
Make assertion about timestamps in nsAnimationManager::GetAnimationRule non-fatal (bug 652976).  r=bzbarsky 
bug 467669 - pt 1 - get list of fonts actually used to render a document range. r=roc sr=bzbarsky 
Bug 548734.  Get rid of the footgun ui.use_native_popup_windows preference.  r=roc,khuey 
Merge mozilla-central into mozilla-inbound 
Back out bug 665564 (rev 9de9b3a9458c) and bug 666790 (rev 7d3d5b9710ea) due to Mac test orange. 
merge backout of bug 665564 (rev 9de9b3a9458c) and bug 666790 (rev 7d3d5b9710ea) to CLOSED TREE 
Bug 659993: Part 1: Expose a function to determine if a menuitem is a part of a menulist (and if so, what type). r=bzbarsky 
Test for bug 655682 - Perform discretionary flushes in the HTML parser even if the current node is foster-parenting, fixed to not affect later tests.  r=bzbarsky 
Bug 480686.  Don't assume that the next-continuation of an inline frame is in the same block; it could be in the next-in-flow of the block.  r=roc 
Bug 650806.  Make sure to only trigger links if their owner document's inner window is still the docshell's current inner window when OnLinkClickSync fires.  r=jst 
Bug 480686.  Don't assume that the next-continuation of an inline frame is in the same block; it could be in the next-in-flow of the block.  r=roc 
Bug 667520.  Fix nth index cache to work correctly when nth-child selectors are only applied to some elements of a child list.  r=dbaron 
Bug 667618.  Prevent mismatches between our enum and our strings.  r=sicking 
Bug 668030.  Warn when enablePrivilege is used.  r=sicking 
Bug 667618 followup.  The maemo compiler doesn't like arrays ending with ',', apparently 
When switching a window from background to foreground, reinitialize the timers that should fire sooner than the background clamp would have allowed.  Bug 647001, r=bzbarsky 
Don't assert when interpolating font-weight to a result less than 100.  (Bug 664927)  r=bzbarsky 
Remove NS_STYLE_LIST_STYLE_OLD_* constants to fix computed list-style-type style resulting from type attribute on lists.  (Bug 665857)  r=bzbarsky 
Bug 667518 - Don't ignore <link> href white-space only values.  r=bzbarsky 
Bug 639945 - tooltips are not displayed on inline svg elements. r=dao,bzbarsky 
Bug 667518 - Don't ignore <link> href white-space only values.  r=bzbarsky 
Added tag AURORA_BASE_20110705 for changeset 5eb553dd2cea 
Version bump from 7.0a1 to 8.0a1 
Merge version bump 
Bump the XPCOM module version number as well. 
Bug 668690.  When scripts are disabled, don't bother preloading them.  r=sicking 
Bug 651185.  Only process RFC 2231 and RFC 5987 syntax when the value comes from a token (as opposed to a quoted-string).  r=bzbarsky 
Only apply overflow area reported by native theme to the visual overflow, and not to the scrollable overflow.  (Bug 669284) r=bzbarsky 
Bug 669220.  Use locale-independent float-to-string conversions for timing function computed styles.  r=bzbarsky 
Bug 636512 - Make document.getSelection() return the same as window.getSelection(). r=bzbarsky 
Bug 664916.  Make sure that we're dealing with an element when getting tagName.  r=sicking 
Bug 667907.  For HTTP 0.9 on non-default ports, be more conservative.  r=jduell 
Bug 649924 followup.  Mark now-passing tests as passing. 
Bug 669158.  Don't try to unclamp the dummy timeout.  r=jst 
Bug 648045.  Mark the currently selected tab in a minimized window as inactive.  r=gavin,smaug 
Bug 648045 followup; merging to bug 663042. 
Bug 516547.  Remove the browser.display.base_font_scaler preference and all the code to process it.  r=bzbarsky, sr=dbaron. 
Bug 670333.  Make sure that when parsing MIME header params we check for the actual presence of a '=' between the name and the value.  r=bzbarsky 
Bug 648045.  Mark the currently selected tab in a minimized window as inactive.  r=gavin,smaug 
bug 670900 - font downloader should recognize HTTP errors and not try to load the error page as a font. r=bzbarsky 
Bug 670452.  Fix WindowSnapshot's windowutils codepath to work correctly for canvases of different sizes.  r=joe 
Bug 671160.  Pass the outer window to DispatchTrustedEvent in nsGlobalWindow::DispatchCustomEvent.  r=smaug 
bug 671799 - add tests for null URI in @font-face load-failure logging. r=bzbarsky 
Bug 576174 - "ASSERTION: Losing track of existing primary frame".  r=bzbarsky 
Bug 664721.  Treat a document load in a subframe as first-party if it's first-party with all _ancestors_ of the subframe, no matter what's loaded in the subframe itself.  r=dwitte 
Bug 672709 - Update the intrinsic state for elements in designMode documents correctly; r=bzbarsky
Bug 670553.  Don't try to read more than aCount bytes in nsUnicharStreamLoader::OnDataAvailable.  r=zwol 
Bug 666562.  fix quoted-string unescaping in HTTP link header fields, r=bzbarsky 
Bug 652301.  Show focus outlines on all but a blacklist of focusable things in HTML, not just on a whitelist of them. r=dbaron 
Bug 667336.  Make sure we don't overflow unsigned int on item().  r=peterv 
Bug 642088 - Subtract the caption height and vertical margins from the available height before reflowing the inner table frame.  r=bzbarsky 
Bug 672810 - ctrl+shift+arrow should extend selection in multiselectable listbox (HTML select).  r=bzbarsky 
Bug 667818.  When computing cookie expiration times, watch out for division by unsigned PR_USEC_PER_SEC screwing things up.  r=dwitte 
Bug 672081 - Stop feeding chardet when seeing an actionable late charset <meta>. r=bzbarsky. 
Bug 674558 - Implement the HTML5 selectionDirection property for text controls (input and textarea); r=bzbarsky 
Make hypothetical box calculation consider types that are inline-outside rather than just inline.  (Bug 505706)  r=bzbarsky
Backed out changeset 489b47df5c6e (bug 666863) because it doesn't compile on Windows. 
Merge backout of changeset 489b47df5c6e (bug 666863) 
Bug 482909 part 2 - Implement an HTML/SVG/MathML sanitizer independently of parsers or serializers. r=bzbarsky. 
Bug 671453.  Fix use of [implicit_jscontext] with non-quickstubbed setters.  r=mrbkap 
Bug 672014.  Pass the crossorigin attribute through to image preloading code.  r=joe,hsivonen 
Fix bug 672079: single quotes are not delimiters inside the Link header field, r=bzbarsky 
Back out changeset f5aecf9010ef (bug 672014) due to build bustage. 
Merge backout of rev f5aecf9010ef (bug 672014) 
Bug 672014.  Pass the crossorigin attribute through to image preloading code.  r=joe,hsivonen 
Bug 675267.  Remove some target arguments from nsEventListenerManager APIs, since we have a perfectly good mTarget.  r=smaug 
Bug 596182 - Make fragment parsers global. Remove resulting dead code. r=Olli.Pettay, r=bzbarsky. 
Bug 613662 - Implement insertAdjacentHTML. r=bzbarsky. 
Tests for bug 613662 - Implement insertAdjacentHTML. r=bzbarsky. 
Bug 675437 - Obtain the local name atom of attributes in a non-crashy way in nsTreeSanitizer. r=bzbarsky. 
Bug 669979.  Don't do zoom or history actions for momentum scrolls, no matter what's going on with pixel scrolling.  r=smaug,masayuki 
Bug 675246.  Make sure generated content that's being replicated doesn't end up with no primary frame.  r=roc 
Bug 675587.  Change the location on hash changes even if we can't scroll right then.  r=jlebar 
Bug 675916 - Restart iteration over attributes in the sanitizer when URL check ends up removing an attribute. r=bzbarsky. 
Bug 675492 - Null-check base URI in nsScriptableUnescapeHTML::ParseFragment in the HTML case. r=bzbarsky. 
Bug 675499 - Transfer initially sniffed document charset through the speculative load queue to avoid race conditions. r=bzbarsky. 
Bug 659907 - Expand console object with a dir method that displays an interactive listing of all the properties of an object.; f=rcampbell r=mihai.sucan,bzbarsky sr=bzbarsky 
Bug 653120.  Switch sBlockedScriptRunners to be an nsTArray so removing from it is faster.  r=sicking 
Bug 676057.  Get rid of the malloc-happy AttributeSelectorEntry class.  r=dbaron 
Bug 671635.  Set chrome margins off a scriptrunner.  r=smaug 
Bug 506844.  Remove kids in order, not in reverse order, when clearing textContent and innerHTML.  r=sicking 
Bug 578534.  Make Navigator.cookieEnabled take per-site exceptions into account.  r=bzbarsky 
Bug 674820 - input/textarea.selectionStart/selectionEnd/selectionDirection should not require the presence of a frame; r=bzbarsky 
Tests for bug 613662 - Implement insertAdjacentHTML. r=bzbarsky. 
Bug 676174.  Remove the unncessary RuleHash_CSMatchEntry and resulting complications from AtomSelector_CSOps.  r=dbaron 
Bug 645998.  Improve the recursion detection in the CSS loader to detect mutual recursion scenarios.  r=sicking 
Bug 675121.  Unregister animation frame callbacks from the refresh driver while we have event handling suppressed.  r=smaug,roc 
Bug 675405 part 1.  Create a header that defines the various event names in HTML5.  r=smaug 
Bug 675405 part 2.  Add some events that we implement that aren't in the spec to the event list, and convert the long lists of event stuff in classinfo to using the canonical event list.  r=smaug 
Bug 675405 part 3.  Expand the event list to contain more information than just the name and move all the information from the tables in nsContentUtils to it.  r=smaug 
Bug 667533 - Display application/json data as text. r=bzbarsky 
Bug 677105 - <noscript> content cannot be copied to clipboard.  r=bzbarsky 
"The empty string is also a valid keyword, and maps to the Anonymous state. The attribute's invalid value default is the Anonymous state. The missing value default, used when the attribute is omitted, is the No CORS state." 
"The empty string is also a valid keyword, and maps to the Anonymous state. The attribute's invalid value default is the Anonymous state. The missing value default, used when the attribute is omitted, is the No CORS state." 
Media queries spec defines <resolution> values as allowing <number>, not just <integer>.  (Bug 677642)  r=bzbarsky 
Bug 670467.  Correctly reresolve style on non-first continuations and non-first parts of {ib} splits even when we're restyling both an ancestor of the element and the element itself.  r=dbaron 
Bug 666516.  Stop casting things gotten by contract to concrete classes.  r=kaie 
Bug 680786.  nsImageFrame::OnStartContainer should not assume that its intrinsic size has changed.  r=roc 
Bug 659350 part 1.  Add an nsITouchEventReceiver interface that will hold the touch-related on* properties, make it possible to declare conditional interfaces in classinfo, and make this new interface conditional on the touch event preference for documents.  r=smaug,peterv 
Bug 659350 part 2.  Add nsITouchEventReceiver for windows.  r=smaug 
Bug 659350 part 3.  Add nsITouchEventReceiver for elements.  r=smaug 
Bug 659350 part 4.  Change some tests that depend on the old behavior where inline event handlers hang directly off the JSObject to not depend on it.  r=smaug 
3) IDL-based methods for on* properties have been added. 
Bug 659350 part 6.  Add various tests for the on* properties.  r=smaug 
really bad at handling single frame removals. 
Bug 612658 - Implement ConsoleAPIStorage - add caching for the window.console API; r=gavin.sharp,ddahl sr=bzbarsky 
Bug 670896 - Add inner window ID and timestamp to nsIScriptError2; r=bzbarsky 
Bug 451081 - Add flag to protocol handler to distinguish that trust domain is the whole spec, mozilla-central part, r=bzbarsky 
Bug 679671.  Save the original string when parsing nonnegative or positive integer values shows them as non-strict.  r=mounir 
Bug 679689.  Allow empty string values to be associtated to enumerated attributes.  r=sicking 
Bug 639720.  Get rid of the Window class setter so that SETNAME on the global is faster in the browser.  r=mrbkap 
Bug 679689.  Allow empty string values to be associtated to enumerated attributes.  r=sicking 
Bug 679671.  Save the original string when parsing nonnegative or positive integer values shows them as non-strict.  r=mounir 
Bug 639720.  Get rid of the Window class setter so that SETNAME on the global is faster in the browser.  r=mrbkap 
Bug 639720.  Get rid of the Window class setter so that SETNAME on the global is faster in the browser.  r=mrbkap 
Bug 684135 - Protect against calling this function during shutdown. r=bzbarsky 
Bug 684544.  Restore missing null-check for location setter.  r=mrbkap 
Bug 642551.  Save status info we may want to use in a list so we don't have to walk the entire pending request hashtable looking for one of the rare ones with status info.  r=neil 
Bug 683952.  Speed up iterating over the continuations of the frame when scrolling to it.  r=roc 
Bug 642551 followup to address review comment 
Bug 684544.  Restore missing null-check for location setter.  r=mrbkap 
Bug 642551 followup to address review comment 
Bug 683952.  Speed up iterating over the continuations of the frame when scrolling to it.  r=roc 
Bug 684435.  Add a way for an nsIXPCScriptable to request a null equality hook, and do so for DOM nodes.  r=peterv 
Bug 684695 - Document the effect of non-null mLSHE on how subframe loads behave for session history purposes. r=bzbarsky. 
Bug 645572 - Test case; r=bzbarsky 
Bug 684447.  Eliminate the Equality hook on windows, and stub out their class equality hook.  r=mrbkap 
Bug 489259.  Grab the parent chain for our OnStateChange calls before we fire onload and possibly change the docshell tree.  r=jst 
Bug 685518 part 1.  Look at the image CORS mode for drawImage into a canvas 2d context.  r=roc 
Bug 685518 part 2.  Move the crossorigin webgl test to a saner location so I can add cross-origin non-webgl tests.  r=roc 
Bug 685518 part 3.  Add crossorigin 2d canvas tests.  r=roc 
bug 589292 - add contentDisposition{Filename} props to nsIChannel. r=honzab sr=bzbarsky 
Bug 686247 - Text control frames should accept dynamic changes to the CSS overflow property; r=bzbarsky,surkov 
Bug 686247 - Text control frames should accept dynamic changes to the CSS overflow property; r=bzbarsky,surkov 
Bug 686247 - Text control frames should accept dynamic changes to the CSS overflow property; r=bzbarsky,surkov 
Bug 686342 - Uninitialize the XUL template builder when XPCOM is being destroyed; r=bzbarsky 
Bug 685581 - Do not treat the empty string as a speculatively preloadable URL. r=bzbarsky. 
Bug 687755.  Refactor some code to make it easier to add new nsDOMStorageDBWrapper methods that forward to the various storage implementations.  r=honza 
Bug 682554.  Move onreadystatechange to live on Document only.  r=smaug 
Bug 680922.  Don't try to remove anonymous elements from the name map.  r=sicking 
Bug 444641 part 1.  Factor out IsAboutBlank into nsNetUtil.h.  r=jduell,jst 
Bug 444641 part 2.  Factor out the channel owner setting from docshell so other consumers can use it too.  r=jst,dveditz 
Bug 444641 part 3.  Propagate the loading principal to the image channel as needed.  r=joe,dveditz 
Bug 444641 part 4.  Remove the data: special-casing for images in canvas, since we now set the right principal for data: images.  r=roc 
Bug 612128 - Prevent the editor from modifying nodes which are not under an editing host; r=roc,bzbarsky
Bug 686656.  Make sure to skip animation rules as well as transition rules when we're reparenting a style context when not processing an animation restyle.  r=dbaron 
Add mochitest for bug 686656.  r=bzbarsky 
Backed out changeset adceb7fb0fce (bug 660233) due to test failures. 
Merge backout of revision adceb7fb0fce (bug 660233) 
Bug 688685.  Propcached property adds that just write to a slot are not sound when the class has an addProperty hook.  r=bhackett 
Bug 660233 part 1.  Fix tests that assume UniversalXPConnect in otherwise-untrusted pages will get one nodePrincipal, documentURIObject, baseURIObject properties.  r=mrbkap 
Bug 684671.  Allow the onreadystatechange getter/setter on Document.prototype to not throw even if its |this| is bogus.  r=peterv,sicking 
Bug 680903.  Make the set of interfaces exposed by windows saner across different window types.  r=jst 
Bug 688681.  Back out the fix for bug 674321 because it broke a bunch of docshell tests.  r=khuey 
Bug 677002.  Back out the patch for bug 666643 because it disabled a bunch of tests.  r=khuey 
Bug 680903 followup.  Remove no longer needed FIXME comments. 
Bug 688405.  Allow rowspans up to 65534, up from our current 8190.  r=bernd 
Bug 645538.  Remove bogus warning.  r=roc 
Bug 624763.  When cloning the fragment we'll munge, clone it into a data document.  r=smaug 
Bug 185236 part 1.  Fix add-ons manager to ignore load events on stylesheet PIs.  r=mossop 
Bug 185236 part 2.  Make sure to remove our SheetLoadData from mPostedEvents before calling SheetComplete on it, so that checking for pending loads from inside SheetComplete will work correctly.  r=peterv 
Bug 185236 part 3.  Add a way to differentiate SheetComplete calls for actual loads and for the fake SheetLoadData we use to trigger observer notifications for already-complete sheets.  r=peterv 
Bug 185236 part 4.  Pass along the owning element to all sheet load datas, assuming we have one at all.  r=peterv 
Bug 185236 part 5.  Fire load and error events on stylesheet linking elements.  r=peterv 
Bug 677643 part 1.  Clone the URI argument in OnLinkClickSync to work around content policies mutating the URI which is shared with some random caller.  r=smaug 
Bug 677643 part 2.  Clone the URI argument when loading external stylesheets from a <link> element to work around content policies mutating the URI.  r=jlebar 
Bug 681755.  Switch some of the style system's arrays in hashtables to be auto arrays.  r=dbaron 
Merge mozilla-inbound to mozilla-central 
Merge mozilla-central to mozilla-inbound 
Added tag AURORA_BASE_20110927 for changeset c0983049bcaa to CLOSED TREE, DONTBUILD 
Bump XPCOM version to 10 on CLOSED TREE. 
Version bump to 10.0a1 on CLOSED TREE 
Bug 688044 - ASSERTION: Why is the root in mDirtyRoots already?  r=bzbarsky 
Bug 689564.  Only forward event attributes on body/frameset to the window if we also forward the corresponding on* property.  r=smaug 
Bug 460323 testcase. 
Bug 10209 - Part 6: Implement the CSS "containing block" concept correctly as a binary relation, as opposed to a unary relation; r=bzbarsky 
Bug 656130 - Part 1: Make sure that the absolute containing frame to be returned is actually marked as such in the frame tree; r=bzbarsky 
Crashtest for bug 665853; r=bzbarsky 
Update to rules in current css3-mediaqueries spec for handling malformed media queries:  all of the handling is now at the query level rather than the query list level.  (Bug 689319)  r=bzbarsky 
Bug 691226.  Make about:memory do more escaping, since item descriptions can contain characters that are not allowed in XML attribute values.  r=jlebar 
Bug 690990.  Don't assert that sheets are not modified when it would be just fine for them to be modified.  r=peterv 
Bug 691215.  Fix stupid logic error in the XML prettyprinter that can cause a null-dereference crash.  r=sicking 
Bug 685782.  SetHistoryEntry should start syncing at the root of the docshell tree, not at its parent docshell.  r=smaug 
Bug 641341.  Speed up CalculateHypotheticalBox for the case of a block containing a bunch of lines but absolutely no in-flows anywhere.  r=roc 
Bug 681755.  Switch some of the style system's arrays in hashtables to be auto arrays.  r=dbaron 
Bug 681755. Switch some of the style system's arrays in hashtables to be auto arrays. r=dbaron 
Bug 691725.  Actually initialize the mIsDragPopup member of nsWidgetInitData.  r=enn 
Bug 692506.  Make sure that SVG animated strings keep track of whether the base value is set correctly.  r=longsonr 
Bug 692520 - Handle the case where the frame might going away while retrieving selection properties from a text control; r=bzbarsky 
Bug 648801 (new DOM list bindings) - Hook up the new code so we actually create the proxy wrappers. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Templatize the proxy handler. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Implement namedItem on HTMLCollections. r=bz/jst/mrbkap. 
Bug 682088.  Allow arbitrary CSS colors as values of the various color preferences.  r=dbaron 
fire the event asynchronously.  In all cases, the actual state changes just before the event fires. 
Bug 693219.  Don't use TimeDuration methods from static constructors.  r=roc 
Bug 684266 - Do ellipsing on the end-edge only when a single value was specified for text-overflow.  r=bzbarsky r=roc 
Make the Darwin TimeStamp implementation assert when used before it is initialized.  (Bug 693821)  r=bzbarsky 
Bug 677050 - Return NS_ERROR_DOM_INVALID_STATE_ERR if fragment parsing is invoked re-entrantly. r=bzbarsky. 
Bug 619043 - Check for parser termination after flushing speculative loads. r=bzbarsky. 
Bug 432391.  Hook up imgRequestProxy clones to the imgCacheValidator for the imgRequest as needed.  r=joe 
Update to rules in current css3-mediaqueries spec for handling malformed media queries:  all of the handling is now at the query level rather than the query list level.  (Bug 689319)  r=bzbarsky 
Bug 432391 part 1.  Fix CancelAndForgetObserver to work correctly even if Cancel has been called.  r=joe 
Bug 432391 part 2.  Hook up imgRequestProxy clones to the imgCacheValidator for the imgRequest as needed.  r=joe 
Bug 684806.  Make sure that zero-size files wrapped in buffered streams are correctly reopened by a seek after EOF.  r=honza, sr=bsmedberg 
Bug 320799.  Fix client* and scroll* for comboboxes to not consider the dropdown's scrollable area.  r=roc 
Backed out changeset 0d2caaf1d0a8 (bug 432391) because the validator seems to trigger onload firing at some bogus time 
Merge backout of changeset 0d2caaf1d0a8 (bug 432391) 
Bug 612128 - Prevent the editor from modifying nodes which are not under an editing host; r=roc,bzbarsky
Bug 688438 - Fix the IME code to handle text controls correctly when checking for IME status; r=bzbarsky 
Bug 695538 followup.  Fix typo in reference and format the test to look more like the reference. 
Bug 695538 another test followup.  Make sure that the test actually _could_ pass. 
bug 695430 - stop trying to insert previously emptied framelists r=bzbarsky 
Bug 696195.  Add single-argument SafeElementAt specializations for nsTArrays of smart pointers.  r=jlebar 
Bug 696188.  Fix leak when adding different transform lists for animation.  r=dholbert 
Bug 697351.  Implement has() on the nodelist proxy handler so that we don't have to do the property descriptor song and dance for it.  r=peterv 
There are two changes here.  The first is that the aCheckEdgeOnly case is factored out into a separate branch so as to avoid branching on aCheckEdgeOnly inside the sibling loop.  This also allows us to reuse the IndexDetermined code for both aIsFromEnd and !aIsFromEnd cases.  In particular, when aIsFromEnd we start by walking backwards and hoping for a cached index on a previous sibling and only walking forwards if that fails.  For short child lists there's not that much of a difference, but for long ones this is a win. 
Bug 696233.  Switch the nth-index cache to having a single hashtable per selector type (from end vs from start and of-type vs not-of-type).  Gives somewhat better cache locality on some workloads and makes entry addition much cheaper because we no longer need to initialize all the new memory when the hashtable store is resized; we just initialize the parts of it we need as we need them.  r=smaug 
Bug 697244.  Quickstub nsIDOMWindow.self.  r=peterv 
Bug 697917.  Avoid atomizing the token for nsDOMTokenList containment tests.  r=smaug 
The basic idea is that mOriginalDisplay and mOriginalFloats are kept synchronized with mDisplay and mFloats unless the latter are changed due to position:absolute/fixed (for both) or float:left/right (for display).  When initializing an nsStyleDisplay from a start struct, we restore the values from mOriginalDisplay/Floats to get correct behavior. 
Bug 667576.  Handle visited colors correctly in MathML.  r=dbaron 
Bug 697978 - make display:none svg images load. r=dholbert,bzbarsky 
Bug 696201.  Switch nsContentList to using an nsTArray as the element store.  r=sicking 
Bug 696205 part 1.  Refactor querySelector and querySelectorAll so that there is only one codepath to modify.  r=sicking 
Bug 696205 part 2.  Add a querySelector fast-path for selectors whose rightmost sequence of simple selectors contains an id.  r=sicking 
Bug 482921 part 0.5 - Restore support for using tree op queue to set document charset. r=bzbarsky. 
Bug 482921 part 8 - Start a new <pre> occasionally in View Source refixing bug 86355. r=bzbarsky. 
Test for bug 659763 - Make document.open("text/plain") work with the new parser. r=bzbarsky. 
Bug 697250.  When an interval is very late, just go ahead and schedule it for firing ASAP and update its target time to 'now' (the latter to prevent misbehavior when the interval is very late due to the computer being suspended, say) instead of trying to schedule it for a while from now.  r=jst 
Bug 620122.  Make sure, when unlinking, to remove the kids from our child list before unbinding them.  r=smaug 
Bug 325418.  When a repeating timer at interval X is reinitialized for interval Y, the next firing after that is incorrectly after time X+Y.  r=bzbarsky 
Bug 684638 part 1.  Speed up IsBreakElement.  r=ehsan 
Bug 684638 part 2.  Make it simpler to set up a range.  r=smaug 
Bug 684638 part 3.  Speed up mozInlineSpellWordUtil::MakeRange.  r=ehsan 
Bug 684638 part 4.  Switch from nsIDOMNode to nsINode in mozInlineSpellWordUtil.  r=ehsan 
Bug 684638 part 5.  When we have an event posted to spell-check the whole document, suppress other spell-check events.  r=ehsan 
Bug 699661.  Call the class getElement hook from JSObject::getElement as needed.  r=waldo 
Bug 698974.  Fix assertion to not assert things that are just false. r=sicking 
Bug 688685 test.  r=waldo 
Bug 698551.  When forwarding gets to the prototype in nodelists, make sure to use the right |this|.  r=waldo,peterv 
Bug 698495 part 1.  Create a getElementIfPresent method on JSObject with a generic implementation and use it from JSArray code.  r=waldo 
Bug 698495 part 2.  Add an optional getElementIfPresent ObjectOps hook.  r=waldo 
Bug 698495 part 3.  Expose IndexToId to API consumers.  r=waldo 
Bug 698495 part 4.  Implement a JS_GetElementIfPresent API.  r=waldo 
Bug 698495 part 5.  Implement getElementIfPresent on nodelist proxies.  r=peterv 
Bug 699237.  Add a getElementIfPresent on typed arrays. r=waldo 
Bug 699705.  When forwarding property gets to the proto for arrays, send along the right receiver even if the property lives on a non-native object.  r=waldo 
Bug 698495 followup: deal with uint32 being inconsistently defined by JS and NSPR in ways that break the Win64 build. r=waldo pending 
Bug 693212 - Fix "Assertion failure: !cx->isExceptionPending()" by adding a missing ReportPendingException() call.  r=bzbarsky 
Backed out changeset 0cd9ed297f73 (bug 641341) to fix bug 696175.  r=roc 
Merge backout of bug 641341. 
Bug 700116.  Fix the ordering if IsAlternate calls and sheet state determination so that the hashtable munging IsAlternate can do doesn't mess up our sheet states.  r=sicking 
Bug 691547.  Don't record a navigationStart for a docshell when one of its descendants navigates.  r=bzbarsky 
Bug 699826.  Fix nodelist access out of bounds to correctly forward to the proto.  r=peterv 
Bug 280391 - implement SVGSVGElement.getElementById. r=jwatt,bzbarsky 
Bug 700116.  Fix the ordering if IsAlternate calls and sheet state determination so that the hashtable munging IsAlternate can do doesn't mess up our sheet states.  r=sicking 
Bug 683712.  Add a null-check to avoid bogus assumptions about blocks not being reflow roots.  r=mats 
The new boolean argument to SetDebugModeWhenPossible is needed because if we allow sync-disable of debug mode we seem to crash when loading pages with Firebug active. 
Bug 311007 - Add aFlags arg to onLocationChange(...), to distinguish between same-document and different-document. r=smaug, sr=bzbarsky 
Bug 661746 - Part 1: Delay setting slow selector flags during selector matching to avoid mutating Elements.  r=bzbarsky 
Bug 661746 - Part 2: Make selector matching work with const elements.  r=bzbarsky 
Bug 661746 - Part 3: Use const selectors during selector matching.  r=bzbarsky 
Bug 661746 - Part 4: use const nsIDocument in selector matching.  r=bzbarsky 
Bug 661746 - Part 5: Avoid creating atoms during selector matching.  r=bzbarsky 
Bug 693399 - r=bzbarsky. 
Add support for -moz-text-size-adjust CSS property.  (Bug 627842, patch 1)  r=bzbarsky
When font size inflation is enabled, horizontal resizes of blocks must cause a full dirty reflow.  (Bug 627842, patch 5)  r=bzbarsky
Bug 694612.  Hook up the performance timing APIs even inside an <object>.  r=bzbarsky 
Bug 589857 - Remove the nsFileControlFrame::mTextFrame member in favor of just retrieving it from the text input content when needed.  r=bzbarsky 
Bug 703197.  Make window.print() work in display:none iframes.  r=smaug 
Bug 690598.  Change the test to paint the whole canvas so that we don't get upscaling antialiasing differences.  r=roc 
Fix the test to handle one-pixel clipping near the left edge that can happen if invalidates happen in a different order.  No bug. 
Fix logging message to reflect reality.  Followup to bug 703197 
Add support for -moz-text-size-adjust CSS property.  (Bug 627842, patch 1)  r=bzbarsky
When font size inflation is enabled, horizontal resizes of blocks must cause a full dirty reflow.  (Bug 627842, patch 5)  r=bzbarsky
Bug 704989: add workaround for broken Outlook Web APP (OWA) attachment handling (and specifically for it sending broken headers only to Firefox).  r=bzbarsky 
Bug 704175 part 1.  Rename onBeforePaint to sample for animation frame callbacks.  r=roc 
Bug 704175 part 2.  Rename nsIAnimationFrameListener to nsIFrameRequestCallback.  r=roc 
Bug 704171 part 1.  Stop using the no-argument form of mozRequestAnimationFrame in our chrome.  r=roc,gavin 
Bug 704171 part 2.  Remove the no-argument form of mozRequestAnimationFrame.  r=roc 
Bug 635618 part 1.  Only get computed style in IsElementVisible if we end up in a situation where we're waiting on lazy frame construction.  r=ehsan 
Bug 635618 part 2.  Add nsINode overloads of various editor helper methods.  r=ehsan 
Bug 635618 part 3.  Switch GetPriorNodeImpl and GetNextNodeImpl to working with nsINode.  r=ehsan 
Bug 635618 part 4.  Switch GetNextNode and GetPriorNode to working with nsINode.  r=ehsan 
Bug 635618 part 5.  Pass an optional argument to GetPriorNode and GetNextNode to limit the search.  r=ehsan 
Bug 705280 - (2/2) Custom quickstub nsIDOMHTMLDocument.head and change nsIDOMHTMLDocument.body custom quickstub. r=mrbkap 
Bug 706323.  Fix scrollbar smoothscrolling to get the timestamp the new way.  r=dao 
Bug 706323.  Fix scrollbar smoothscrolling to get the timestamp the new way.  r=dao 
Bug 706528.  Remove vestigial beforepaint event stuff.  r=smaug 
Bug 699351. Add nsIFrameLoader::clipSubdocument API to allow XUL <iframe> and <browser> to not clip the subdocument. r=tnikkel,sr=bzbarsky 
Bug 706283.  Handle null passed to requestAnimationFrame gracefully.  r=roc 
Fix test to not depend on hover state.  No bug.  r=roc. 
Bug 557047 - Replace mailnews specific ifdef (MOZ_MAIL_NEWS) in cookie code with tests for a protocol flag. r=sdwilsh,sr=bzbarsky 
Bug 699351. Add nsIFrameLoader::clipSubdocument API to allow XUL <iframe> and <browser> to not clip the subdocument. r=tnikkel,sr=bzbarsky 
Bug 704399.  When doing the 'restrict background painting to the padding area' optimization, actually restrict it to padding area plus 1px on each side to deal with seams caused by curved borders better.  r=roc 
Bug 704911.  Don't restyle based on state selectors that match our node but don't depend on the state that's changing.  r=dbaron 
Fix missing braces compile warning.  No bug. 
Bug 647518 part 1.  Make requestAnimationFrame return handles for animation frame requests.  r=roc 
Bug 647518 part 2.  Allow canceling requestAnimationFrame requests.  r=roc 
Mitigation (not fix) for bug 694254. 
Bug 708173.  Use cancelRequestAnimationCallback instead of tracking booleans in scrollbox code.  r=dao 
This incidentally fixes a bug where we were copying the per-weight data very inefficiently. 
Bug 589640 part 1.  Add an SVGUnknownElement, like HTMLUnknownElement, so random elements in the SVG namespace create SVGElements (instead of XML Elements).  r=bzbarsky 
Bug 589640 (part 2) - Make nsIContent::IsSVG more like IsHTML, and remove the eSVG node type.  r=bzbarsky 
Bug 589640 followup to fix breakage. 
Bug 589640 second followup: make sure the new element class actually QIs to nsIClassInfo. 
Bug 705987 - Use mallocSizeOf in the layout memory reporters.  r=khuey,bzbarsky 
Bug 700914.  Initialize the rulehash's hashtables lazily.  r=dbaron 
Bug 709256 part 1.  Fast-path RestyleTracker::ProcessRestyles when there aren't any restyles to process.  r=roc 
Bug 709256 part 2.  Short-circuit PresShell::ProcessReflowCommands when there aren't any.  r=roc 
Bug 709256 part 3.  Skip calling PresShell::FlushPendingNotifications altogether if there might not be anything to flush.  r=roc 
Bug 709256 part 4.  Don't flush the sink for HTML if we've already started layout.  r=smaug 
Bug 709256 part 5.  Fast-path nsAnimationManager::DispatchEvents when there are no events. r=dbaron 
Bug 709483.  Fix off-by-one error in the call to memmove that could cause us to copy memory we didn't own.  r=bzbarsky 
Bug 709384.  Manage our scheduled state better when animation frame requests are canceled. r=roc 
Bug 708169.  Warn when null or no argument is passed to mozRequestAnimationFrame.  r=roc 
Bug 710981.  Add the new name for cancelAnimationFrame.  r=roc 
Bug 708405.  Make sure to propagate out failures from JS_HasPropertyById in the old nodelist resolve hook.  r=mrbkap 
Bug 689834.  Only look at the muted attribute when initially creating the element.  r=bzbarsky 
Bug 706731: Support for defaultMuted DOM attribute on media elements.  r=kinetik,bzbarsky 
Bug 672013. Drawing an SVG image to a canvas need not clear its origin-clean flag. r=dholbert,sr=bzbarsky 
Bug 672013. Drawing an SVG image to a canvas need not clear its origin-clean flag. r=dholbert,sr=bzbarsky 
Bug 624621 part 2.  Add an origin principal argument on nsIScriptContext::EvaluateString and pass that through to the JS engine.  r=mrbkap 
Bug 624621 part 3. Use the pre-redirect filename as the script filename and the channel principal as the origin principal, and base our cross-origin check on the origin principal. r=mrbkap 
Bug 624621 part 2.  Add an origin principal argument on nsIScriptContext::EvaluateString and pass that through to the JS engine.  r=mrbkap 
Bug 624621 part 3. Use the pre-redirect filename as the script filename and the channel principal as the origin principal, and base our cross-origin check on the origin principal. r=mrbkap 
Bug 624621 part 2.  Add an origin principal argument on nsIScriptContext::EvaluateString and pass that through to the JS engine.  r=mrbkap 
Bug 624621 part 3. Use the pre-redirect filename as the script filename and the channel principal as the origin principal, and base our cross-origin check on the origin principal. r=mrbkap 
Bug 710917.  Moving hover from a button to text in the label containing the button should keep the button's hover state.  r=dbaron 
Bug 302566.  Show canvas fallback content when script is disabled.  r=tnikkel 
Bug 711721 - merge nsIScriptError and nsIScriptError2 interfaces; r=neil, sr=bzbarsky 
Bug 711557.  Expose js::ObjectClass via friendapi.  r=waldo 
Bug 700221.  Don't pay attention to whether author color are allowed when deciding whether a change to a non-color property should drop native theming.  r=dbaron 
Bug 712937 - Null-check aRange.  r=bzbarsky 
Bug 598482 part 14.  Rename IsRefreshEnabled to IsPaintingAllowed.  r=roc 
Bug 598482 part 16.  When flushing layout, also flush out widget geometry changes.  r=roc 
Bug 598482 part 23.  Set a backup timer to update plugin geometry if we don't manage to do any painting or layout flushes for a while.  r=roc 
Bug  598482 part 24.  Flush on every mousemove, because otherwise we can end up with mouse events (mousemove, mousein, mouseout) dispatched to the wrong elements.  r=smaug 
Bug 707717.  Don't dynamically mutate the proto chains of DOM prototypes.  r=peterv 
Fix font size inflation assertion when XUL is in native-anonymous content by making XUL always be a container for font size inflation.  (Bug 708036)  r=bzbarsky 
Backing out bug 707717 because it seems to be a perf hit, not a perf win. 
Bug 716549.  Flush on every mousemove, because otherwise we can end up with mouse events (mousemove, mousein, mouseout) dispatched to the wrong elements.  r=smaug 
We use Flush_Display here because mousemoves flush out layout, so we want to do the synthetic one after we've done our normal layout flushing 
Back out rev 2a35bcdd7c1e (bug 716793) to fix orange tests 
Bug 716456 - Make sure to pass a correct ancestor to GetPreviousContent; r=bzbarsky 
Bug 717154 - Make sure the focus handler is only run once in order to avoid the intermittent orange; r=bzbarsky 
Bug 716226.  When using insertRule on a keyframes rule, set up the child keyframe rule correctly.  r=dbaron 
We use Flush_Display here because mousemoves flush out layout, so we want to do the synthetic one after we've done our normal layout flushing 
Bug 718150.  Make sure to update our stored size on Swap() even if we didn't already have a front surface.  r=cjones 
Bug 717819 - Remove the special casing of getting the offset parent for children of tables now that bug 10209 has been fixed; r=bzbarsky 
Bug 716031.  Fix editor test to not assume simply doing a timeout will flush layout.  r=ehsan pending 
Bug 598482 part 0.  Change a few more tests to not depend on pointer positions, since we don't control those. 
Bug 598482 part 14.  Rename IsRefreshEnabled to IsPaintingAllowed.  r=roc 
Bug 598482 part 16.  When flushing layout, also flush out widget geometry changes.  r=roc 
Bug 598482 part 23.  Set a backup timer to update plugin geometry if we don't manage to do any painting or layout flushes for a while.  r=roc 
Bug 712289.  Make sure that alignment requirements agree for js::Value and jsval_layout.  r=luke 
Bug 718316 - Try to fix the intermittent orange introduced after the landing of bug 598482 by flushing before capturing the screenshot; r=bzbarsky 
Bug 713427.  Don't assume things about lazy frame construction bits that just aren't true when doing IsVisible() testing.  r=tnikkel 
Fix error report for unexpected character terminating style attribute.  (Bug 720163)  r=bzbarsky 
Bug 664737 - Make GetNext use a belt as well as its braces. r=bzbarsky 
Bug 722734.  Add const signatures for converting back and forth between JS::Class and JSClass.  r=mrbkap 
Added tag AURORA_BASE_20120131 for changeset bbc7014db2de 
Bug 722729.  Expose a public API for LinkConstructorAndPrototype.  r=bhackett 
Backed out changeset a3ea1a70905f (no bug) for breaking Android builds. 
Merge backout of rev a3ea1a70905f 
Backed out changeset 614b573550d6, effectively relanding changeset a3ea1a70905f. 
Merge backout of rev 614b573550d6 (reinstatement of rev a3ea1a70905f) 
Backed out changeset e57ddd9fdd5e (bug 721741) because it breaks Android builds. 
Merge backout of rev e57ddd9fdd5e (bug 721741) 
Bug 723111 - Add an option to js::UnwrapObject so that it doesn't stop at outer windows when unwrapping. This is useful for cases where we are trying to find the wrapped native for a security wrapper. r=bzbarsky 
Bug 723111 - Add an option to js::UnwrapObject so that it doesn't stop at outer windows when unwrapping. This is useful for cases where we are trying to find the wrapped native for a security wrapper. r=bzbarsky 
Bug 723446.  Be a little more careful changing declarations on keyframe rules.  r=dbaron 
Bug 723441.  Add a way to store base URI object on nodes out-of-band, and use the for <use>-cloned content.  r=dholbert 
Bug 709083 - Call DoneCreatingElement before children have been appended to the element. r=bzbarsky. 
Bug 716628.  Implement support for 'turn' unit in CSS.  r=dbaron 
Bug 724453.  Don't assume that sizeof(bool) == 1 when memsetting arrays of bools in nsTextFrame.  r=bzbarsky 
Bug 724456.  Don't assume that sizeof(bool) == 1 when memsetting arrays of bools in nsLineBreaker.  r=bzbarsky 
Bug 723498.  Make sure to always set our out param in nsMultiplexInputStream::IsNonBlocking when returning success.  r=bsmedberg 
Bug 674370 - Make browser windows (and other document-like windows) zoom on creation on OS X 10.7. r=mstange,dao sr=bzbarsky 
Bug 627616.  Do proxy authentication even for LOAD_ANONYMOUS loads.  r=mayhemer 
Bug 627616.  Do proxy authentication even for LOAD_ANONYMOUS loads.  r=mayhemer 
Bug 655478 - CSSStyleDeclaration.setProperty shouldn't require the third parameter to be set; r=bzbarsky 
Bug 674370 - Make browser windows (and other document-like windows) zoom on creation on OS X 10.7. r=mstange,dao sr=bzbarsky 
Bug 726182.  Add a JS_GetFunctionPrototype API for getting the canonical Function.prototype.  r=waldo 
Bug 728111.  Fix the block inside foreignObject to really be the absolute containing block for its kids.  r=roc 
Bug 728516.  Refactor frame construction for things that want to wrap kids in a block.  r=roc 
Bug 640917.  Treat foreignObject as a fixed position containing block.  r=jwatt 
Bug 722037.  Correctly ignore javascript: images in security UI.  r=kaie 
Drop support for -moz-box-shadow and -moz-border-radius-* now that we've supported the unprefixed versions since Firefox 4.  (Bug 693510)  r=bzbarsky 
Bug 729143.  Don't treat table rows as containing blocks.  r=dbaron 
Depend on assignment and copy construction of unions in nsStyleCoord.  (Bug 730240)  r=bzbarsky 
Make nsStyleCoord's member variables private, as they should have been.  (Bug 730240)  r=bzbarsky 
Add a header file for CSS property aliases (and temporarily resurrect the aliases whose DOM properties we forgot to remove).  (Bug 730532, patch 1)  r=bzbarsky 
Remove the CSS2Properties aliases for MozOutline* and MozOpacity for CSS properties whose CSS aliases were removed long ago (but temporarily readded in the previous changeset).  (Bug 730532, patch 2)  r=bzbarsky 
Bug 730100.  Add a Bloom filter implementation.  r=waldo 
Bug 730414.  Expose a quick way to get a hash key for an atom.  r=bsmedberg 
Bug 730414 followup comment to address review comments 
Hold on to MediaQueryList objects that have listeners so that notification doesn't depend on GC timing.  (Bug 716751)  r=bzbarsky
Bug 732178.  Set up the image cache validator before the CORS listener.  r=joe,sicking 
Bug 615595.  Set the form submission's mCharset to the charset we're actually using to encode the data.  r=sicking 
Bug 730100 followup.  Add missing include guards.  Assumed r=ms2ger 
Bug 406541 - Followup - Handle failed URI creation, fix typo. r=bzbarsky 
Bug 732319.  Fix leaks on CORS failures in imagelib.  r=joe 
Bug 731813 - Do not attempt to serialize SVG attributes for mutation events if they do not exist. r=jwatt,bzbarsky 
Bug 734406.  Fix printing and print preview for <canvas> by checking for script-enabled on the original document, not on the printing document.  r=tnikkel 
Bug 696301 part 1.  Refactor CORS attribute handling a bit.  r=sicking 
Bug 696301 part 2.  Communicate the crossorigin preload state from the parser to the scriptloader.  r=sicking,hsivonen 
Bug 696301 part 3.  Propagate the CORS mode to the script loader correctly; make sure the CORS mode of script preloads matches the actual load.  r=sicking 
Bug 696301 part 4.  Actually hook up a CORS listener on script loads as needed.  r=sicking 
Bug 705877 part 1.  Rename mayContain on BloomFilter to mightContain.  r=dbaron 
at least performance-wise, though it's possible we could use less memory and still do OK on the performance. 
Bug 705877 part 3.  Hang an optional Bloom filter and some methods for managing it off the TreeMatchContext.  r=dbaron 
Bug 705877 part 4.  Use the TreeMatchContext's ancestor filter, if any, in EnumerateAllRules.  r=dbaron 
Bug 705877 part 5.  Make style reresolution actually use ancestor filters.  r=dbaron 
Bug 705877 part 6.  Make frame construction use ancestor filters when resolving style.  r=dbaron 
Bug 732667.  Only do checks for :hover selectors when hover state changes on nodes which have relevant hover rules.  r=dbaron 
Bug 705877 part 1.  Rename mayContain on BloomFilter to mightContain.  r=dbaron 
at least performance-wise, though it's possible we could use less memory and still do OK on the performance. 
Bug 705877 part 3.  Hang an optional Bloom filter and some methods for managing it off the TreeMatchContext.  r=dbaron 
Bug 705877 part 4.  Use the TreeMatchContext's ancestor filter, if any, in EnumerateAllRules.  r=dbaron 
Bug 705877 part 5.  Make style reresolution actually use ancestor filters.  r=dbaron 
Bug 705877 part 6.  Make frame construction use ancestor filters when resolving style.  r=dbaron 
Bug 732667.  Only do checks for :hover selectors when hover state changes on nodes which have relevant hover rules.  r=dbaron 
Bug 735481.  Skip ancestor filtering on IDs and classes in quirks mode, because that matching needs to be case-insensitive.  r=dbaron 
Bug 736389.  Get rid of code that reresolved style on overflow containers multiple times and in the process violated some invariants other code depended on.  r=mats 
Bug 735579.  Correctly handle changes to column widths in fixed-layout tables.  r=ehsan 
Bug 709083 - Call DoneCreatingElement before children have been appended to the element. r=bzbarsky. 
Bug 709083 addendum - Exclude the test case from Fennec. r=bzbarsky. 
Bug 721659.  Update the width/height of an image synchronously when src is set to something that was preloaded.  r=bholley 
Bug 537624.  Don't set up undisplayed entries until we're sure we're creating frames from the relevant FrameConstructionItemList.  r=roc 
Bug 737149 - Fix build of nsTreeSanitizer.cpp (error: 'video' is not a member of 'nsGkAtoms') with undefined MOZ_MEDIA. r=bzbarsky 
Bug 483992. (Bv1) dom-level*-*/*: Work around tests that report no SimpleTest checks. r=bzbarsky. 
Bug 622491.  Make the global scope polluter work in standards mode too.  r=jst 
Bug 700981 part 1.  Get rid of nsMappedAttributeElement::BindToTree and inline some of the things it used to call so they're faster.  r=sicking 
Bug 700981 part 2.  Get rid of nsStyledElement::BindToTree/UnbindFromTree.  r=smaug 
Bug 700981 part 3.  Inline nsNodeUtils::ParentChainChanged.  r=smaug 
Bug 700981 part 4.  Add a fast-path to IsAllowedAsChild for the case of a child that has no kids.  r=smaug 
Bug 700981 part 5.  Reduce the amount of time spent calling GetBindingParent().  r=smaug 
Change css3-animations behavior for repeated keys in an @keyframes rule:  do replacement on a per-property basis.  (Bug 738003)  r=bzbarsky
Bug 738108.  When restricting to the element subtree in querySelector(All), make sure to disallow the element itself.  r=smaug 
Bug 738572 - #include nsIHTMLContentSink.h in fewer places. r=bzbarsky. 
Bug 739004.  When cloning a static clone, set the mOriginalDocument of the new clone to the mOriginalDocument of the thing being cloned, not to the thing being cloned (which is not an original document at all).  r=smaug 
Bug 729044 - Avoid nsIParserService in nsFind. r=bzbarsky. 
Bug 739905 - Make nsFind use nsGkAtoms. r=bzbarsky. 
Bug 732377.  Add the API for the new DOM bindings to XMLHttpRequest.  r=bzbarsky 
Bug 739541.  Add faster versions of JS_ValueToNumber and JS_ValueToECMAInt32.  r=dmandelin 
Bug 740526.  Change LookupName to return the nsGlobalNameStruct as a return value, not an out param.  r=bzbarsky 
Bug 740769. (Av1) Fix multiple issues in test_bug325418.js. r=bzbarsky. 
Bug 738356.  Add JSAPI for doing the equivalent of Function.prototype.bind.  r=jorendorff 
Bug 742222.  Make sure to JS_WrapValue values being returned for callback types and 'any' types.  r=peterv 
Bug 742030.  When cloning nodes with inline style, preserve the inline style string.  r=sicking 
Bug 731521.  Computed border on our descendants can change due to a change of our specified border styles even if our computed border did not change.  r=dbaron 
content and IDL property names in the test. 
Bug 741266.  document.open with 3 or more arguments should invoke the scriptable version of window.open, not the noscript one.  r=jst 
Bug 741266.  document.open with 3 or more arguments should invoke the scriptable version of window.open, not the noscript one.  r=jst 
Bug 740769. (Bv1) Convert test_bug325418.js file to LF end-of-lines, Fix nsITimer.idl documentation. r=bzbarsky.
Bug 740769. (Cv1a) test_bug325418.js: Create separate observers, Initialize gStartTime[12] later, Use Date.now() instead of (new Date()).getTime(), "timer = null;" a bit later, Nits. r=bzbarsky. 
Bug 742167.  Give extendedAttribute() a better name.  r=khuey 
Bug 742200.  Use JSVAL_VOID, not JSVAL_NULL, as the default value for optional arguments that are not specified.  r=peterv 
Bug 742184.  Use CGThings for whitespace munging in CGNativeToSupportsMethod.  r=peterv 
Bug 721730.  When we have a null aKey, don't do a linear search down to mLastBuffer.  r=hsivonen 
Bug 714631.  Feed converter should check HTTP channel response status before proceeding.  r=gavin 
    to sequences or arrays. 
Bug 744366 - Assert about old readyState before readyState transitions. r=bzbarsky. 

Bug 726949.  Instead of using the given proto for the sandbox directly, use a proxy that forwards to the given proto but rebinds all getters/setters/methods to use the given proto, not the sandbox global, as this.  r=bholley, a=tracking-firefoxThe code in XPCQuickStubs.h just moved from XPCQuickStubs.cpp. 

Backout 3e24a0ebd104 (bug 726949) for M-oth orange; a=backout 
Bug 726949.  Instead of using the given proto for the sandbox directly, use a proxy that forwards to the given proto but rebinds all getters/setters/methods to use the given proto, not the sandbox global, as this.  r=bholley, a=tracking-firefoxThe code in XPCQuickStubs.h just moved from XPCQuickStubs.cpp. 
Bug 740811.  Make SVGElement.prototype be Element.prototype again.  r=peterv, a=akeybl 
Bug 745899.  Make it easier to use Nullable for non-primitive types.  r=peterv 
Bug 742168.  Refer to experimental bindings, not Paris bindings, in the pref code, since it will only control a subset of the Paris bindings.  r=peterv 
Bug 742170.  Use CGThings in CGCreateInterfaceObjectsMethod more.  r=peterv 
Bug 742425.  Remove the extra compartment-entering code we don't need.  r=peterv 
Bug 742422.  Make DOM prototypes more typeinference-friendly.  r=peterv 
Bug 742197.  Make unannotated non-nullable string arguments stringify null and undefined in the webidl bindings.  r=peterv 
Bug 748254.  When we encounter an unexpected '}' terminating a font-face descriptor's value, correctly close the font-face rule instead of eating the rest of the stylesheet.  r=dbaron 
Bug 747815.  Use const strings for arguments in DOM bindings.  r=peterv 
Bug 747819.  When wrapping non-prefable objects, don't generate a fallback-to-XPConnect codepath.  r=peterv 
Bug 747826.  Return the value inside a Nullable by reference, not by value, so Nullable around some sort of complex type works sanely.  r=peterv 
Bug 748237.  Only do the c++11 stuff for clang here, since otherwise we get scary warnings with gcc on android.  r=luke 
Examine parentBorder only when parentContext is non-null.  (Bug 749860)  r=bzbarsky 
Bug 664918. Part 0: Refactor nsMediaCache's handling of principals into a helper method in nsContentUtils. r=bzbarsky 
Bug 750146 - Do not call back on the nsTextEditorState if the restore selection event has been revoked; r=bzbarsky 
Bug 748803.  Don't autofocus the Try Again button in error pages if the error page is not a toplevel page.  r=mounir 
names for concrete classes, which is fairly desirable. 
Bug 748983.  Fix the instanceof behavior for new bindings in situations where we don't need a custom hasInstance hook.  r=peterv 
Bug 478927 - Add a new flag LOCATION_CHANGE_ERROR_PAGE for onLocationChangeBug. r=smaug, sr=bzbarsky 
Bug 751458.  Don't let DOM workers confuse the slow-script time accounting and trigger slow script dialogs.  r=bent 
Bug 747825.  Make the WebGLContext a wrapper cache.  r=peterv 
Bug 747827.  Add some structs that can be used to represent typed arrays in DOM bindings.  r=peterv 
versions of the WebGL context API call through to the new-binding versions. 
Bug 748637.  Refactor argument conversion to primitive values to make it easier to extend in the future.  r=peterv 
Bug 749539.  Make IsContextStable an inline function.  r=bjacob 
that needs. 
that needs. 
Bug 751077.  Skip binding for the XPConnect-default property ops as well when resolving properties on a sandbox prototype.  r=bholley 
Bug 612128 - Prevent the editor from modifying nodes which are not under an editing host; r=roc,bzbarsky
Bug 751012.  When saving frame state, make sure to walk through placeholders so we save the state of out-of-flow descendants properly.  Also make sure to walk the continuations and special siblings of the root frame that we're saving state for.  r=roc 
the DOM reflections of properties. 
Bug 753518.  Add an explicit way for GetParentObject to return an (nsISupports*,nsWrapperCache*) pair.  r=peterv 
Alphabetize the interface list in Bindings.conf.  r=peterv, no bug 
converted to has moved out, since we may not be converting onto the stack. 
Bug 748267 part 2.  Implement codegen for dealing with sequence arguments.  r=peterv 
The big block in getRetvalDeclarationForType is just direct cut/paste from CGCallGenerator plus the addition of the sequence case.  The IDL parser changes were OKed by khuey; they're needed so that we don't have to worry about the ordering of sequence with conversions for strings and primitives. 
Bug 754457.  Disallow copy-construction of ErrorResult, so it can only be passed by reference, not by value.  r=peterv 
Remove unused functions from nsComputedDOMStyle.  (Bug 756219, patch 1)  r=bzbarsky
Don't use Moz prefix on internal function names in nsComputedDOMStyle for recommendation-track properties.  (Bug 756219, patch 2)  r=bzbarsky
Bug 753522.  Add support for controlling the existence of methods, properties, interface constants, etc with a pref.  r=peterv 
Bug 755080 part 1.  Add infrastructure for binding codegen tests.  r=khuey,peterv 
Bug 755080 part 2.  Exercise integer types a bit.  r=peterv 
Bug 755080 part 3.  Exercise castable interface types a bit.  r=peterv 
Bug 753642.  Rip out the codegen for the Xray-related bits of worker bindings, since we don't have Xrays in workers.  r=peterv 
Bug 748276.  Don't record a navigationStart for javascript: URI loads that don't produce a document.  r=smaug 
Bug 757699.  Use JS::NumberValue, not JS::DoubleValue, for returning uint32_t values to JS.  r=bjacob 
Bug 751200 - Don't fall in infinite loops if the content iterator has gone bad; r=bzbarsky 
Bug 749864.  Codegen for typed array and arraybuffer arguments.  r=peterv 
Bug 750264.  Give IDLType an operator!= so that codegen actually works correctly.  r=khuey 
Bug 755636 part 1.  Convert sequence argument codegen to dom::Sequence.  r=peterv 
Bug 755636 part 2.  Add some tests (not exhaustive!) for sequence codegen and fix the bugs they uncover.  r=peterv 
Bug 617339.  Make chrome channels always default to UTF-8.  r=bsmedberg 
Bug 688438 - Fix the IME code to handle text controls correctly when checking for IME status; r=bzbarsky 
Bug 741216 - Allow dropping files into the file picker control; r=bzbarsky 
Bug 758885.  Don't apply the dynamic :hover reresolution skipping optimization to selectors which can match on mutable state other than :hover.  r=dbaron 
Bug 464758.  Don't try to check for :before/:after pseudos for frames that can't have them.  r=dbaron 
Bug 743906 part 1.  Improve test coverage for various interface arguments.  r=peterv 
Bug 743906 part 2.  Use Optional<> for optional arguments that don't have default values.  r=peterv 
Bug 743906 part 3.  Stop listing default values for optional arguments with no defaults, now that we're guaranteed to only examine such values if argc is big enough.  r=peterv 
Add more tests for sequence and typed array codegen.  No bug, no review. 
Serialize border-image shorthand to shortest form, with the exception that we'll always serialize 'border-image-source'.  (Bug 713643, patch 1)  r=bzbarsky 
Make the serialization of the 'border' shorthand fail when we have a 'border-image' subproperty or a '-moz-border-*-colors' property with a non-default value.  (Bug 713643, patch 2)  r=bzbarsky 
Remove nsStyleBorder::GetActualBorder, since it now does the same thing as nsStyleBorder::GetComputedBorder.  (Bug 713643, patch 3)  r=bzbarsky 
Rename nsStyleBorder::GetActualBorderWidth to GetComputedBorderWidth.  (Bug 713643, patch 4)  r=bzbarsky 
Unprefix the border-image-* properties and add a temporary alias for -moz-border-image (but not for its subproperties, which we haven't shipped prefixed).  (Bug 713643, patch 5)  r=bzbarsky 
Bug 748266.  Switch the WebGL canvas context to new DOM bindings.  r=peterv 
Bug 759997.  Break out the three branches of SurfaceFromElement into separate functions so that we can call the one that matches the kind of element we have directly.  r=roc 
Bug 759995.  Stop warning on use of the global scope polluter.  r=jst 
Backed out changeset f96e0f078b49 (bug 748266) because the test suite is bogus and we're failing a crashtest too. 
Merge backout of changeset f96e0f078b49 (bug 748266) 
Backed out changeset 6a46906eb017 (bug 759997) because the bug it depends on got backed out. 
Merge backout of changeset 6a46906eb017 (bug 759997) 
Bug 731447.  Make buttons display:inline-block by default so that underlines don't reach into them.  r=dbaron 
Bug 748692.  Don't reparse inline stylesheets on random attribute changes.  r=sicking 
Bug 748266.  Switch the WebGL canvas context to new DOM bindings.  r=peterv 
Bug 759997.  Break out the three branches of SurfaceFromElement into separate functions so that we can call the one that matches the kind of element we have directly.  r=roc 
Attempt to fix reftest failure on android XUL, where buttons seem to use a non-block color for some reason.  Followup for bug 731447 
Disable the test on Windows, since it just can't pass there.  Followup for bug 731447. 
Add a simple codegen test for constructors.  No review, no bug, DONTBUILD 
Fix for bug 743666 (Add back deprecated XHR.onuploadprogress).  r=bzbarsky 
Bug 760749.  Make interface type constructor args work in WebIDL bindings.  r=khuey 
since the lexer seems to report the line number of the start of the lex data, which is always 1 in our case. 
Bug 761707 part 1.  Rip out the various infrastructure for allowing different slot indices on different DOMJSClass instances.  r=bholley 
Bug 761707 part 2.  Drop the vestigial jsclass argument to UnwrapDOMObject.  r=bholley 
Bug 761086.  Throw if someone passes an invalid argument to inDOMUtils::GetCSSStyleRules.  r=smaug 
Bug 762345 - Skip all the QIing stuff in the TreeMatchContext constructor if possible; r=bzbarsky 
Bug 761882.  Run the WebIDL parser tests during make check.  r=khuey 
Bug 761707 followup.  Restore an assert that should not have gone away.  r=ms2ger 
Do the necessary reflow when our font inflation data changes.  (Bug 759755, patch 2)  r=roc/bzbarsky 
Don't assume ordering of callers of nsPresContext::ScreenWidthInchesForFontInflation; instead, track changes only for the caller that cares about changes.  (Bug 759755, patch 5)  r=bzbarsky 
Bug 761772.  Add support for 'implements' in WebIDL.  r=khuey 
Bug 763424.  Dynamic changes to generated content don't work correctly on frames which pass a child content insertion frame to ProcessChildren (e.g. <td>).  r=dbaron 
Bug 736695 part 1.  Rearrange node insertion/replacement such that we remove the newChild from its parent before removing the refChild, if we need to remove refChild.  r=smaug 
Bug 736695 part 2.  Use separate mutation observer batches and script blockers for the removal of newChild from its parent and the other mutations we do during an insert.  r=smaug 
Bug 736695 part 3.  Tear down XBL bindings off a scriptrunner when unbinding nodes.  r=smaug 
Bug 763133 - border-radius not clipping SVG contents. r=bzbarsky 
Bug 742153 part 1.  Add support for dictionaries in the WebIDL parser.  r=khuey 
Bug 742153 part 2.  Rename isSequenceMember to isMember, since it will apply to both sequences and dictionaries.  r=peterv 
figuring out a way to pass an actual descriptor provider to dictionary codegen. 
Bug 742153 part 4.  Allow strings inside sequences and dictionaries.  r=peterv 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (uriloader parts); r=bzbarsky 
Don't mark intrinsic widths dirty for font inflation width changes at box/block boundaries.   (Bug 764354)  r=bzbarsky 
Bug 750096. r=bzbarsky. 
Bug 763225.  Take a bit more care about our compartments in SetJSEventListenerToJsval.  r=smaug,bholley 
Bug 750297 part 1.  Add support for objects that do not have a wrapper cache in WebIDL bindings.  r=peterv 
Bug 750297 part 2.  Switch WebGLUniformLocation to Paris bindings.  r=peterv, bjacob 
Bug 764104.  Avoid collisions with C++ reserved words by using initial-caps for WebIDL enum values.  r=peterv 
Bug 746570.  Get rid of bogus uses of rstrip() that are leaving random trailing spaces in the middle of our string.  r=peterv 
Bug 764591.  Handle removals of kids of document fragments being inserted under a separate scriptblocker, just like we do with the single-node insert case, so their XBL binding teardown happens before insert.  r=smaug 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more uriloader parts); r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (dom parts); r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more dom parts); r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (content parts); r=bzbarsky 
Bug 764420.  Fix ArrayBufferView unwrapping to allow DataViews.  r=khuey 
Bug 763911.  Add support for interface members of dictionaries.  r=khuey 
Add a test for enum inside dictionary.  No bug, no review. 
Bug 764698.  Fix isDistinguishableFrom for dictionaries to work right.  r=peterv 
Bug 763724.  Detect cycles in the interface inheritance and implementation graph.  r=jlebar 
Implement new values of animation-direction.  (Bug 655920)  r=bzbarsky 
Treat animation-iteration-count:0 specially.  (Bug 765218)  r=bzbarsky 
Bug 661746 - Part of part 2: Introduce a const AsElement(). r=bzbarsky 
Bug 766798.  Throw SYNTAX_ERR, not NAMESPACE_ERR, from querySelector(All) on unknown namespaces.  r=dbaron 
Bug 764456 part 1.  Flag consequential interfaces in the WebIDL data model.  r=khuey 
Bug 742213.  isDistinguishableFrom should correctly check whether two interfaces can be implemented on the same object.  r=jlebar 
Bug 742152.  Move distinguishing index determination and verification of type-identity of preceding arguments out of codegen and into the WebIDL parser.  r=jlebar 
Bug 766844.  Non-callback interfaces must not inherit from callback interfaces.  r=jlebar 
Bug 766853.  The two sides of an implements statement must both be non-callback interfaces.  r=jlebar 
Bug 766449.  Use the fully namespaced class name to determine the default header name for bindings.  r=peterv 
Bug 766853 followup to address review comment.  No review other than the other review. 
Bug 768085.  Speed up WebIDL tests and make them more usable by pickling the datastructures Yacc produces for the grammar and shutting up the logging it does in the debug mode we force it into.  r=khuey 
Bug 766796.  Make IDL conversions to 64-bit ints treat NaN and Infinity as 0 instead of whatever the compiler decides to do in that undefined-behavior case.  r=peterv 
Bug 766796 followup to deal with lack of WebGL on Mac OS 10.5.  No review. 
Bug 766843 - Exempt inner table frames from optimized dynamic position change handling, as the required handling is performed for outer table frames; r=bzbarsky 
Bug 558220 part 1.  Add more debugging spew to the test HTTP server.  r=waldo 
Bug 558220 part 2.  Fix a bug in the test HTTP header that caused it to misread headers when a packet boundary fell between the CR and LF at the end of a header value.  r=waldo 
Bug 722868 - Part 1: Add the deleteTemporaryPrivateFileWhenPossible API; r=bzbarsky 
Bug 722868 - Part 3: Make insExternalAppHandler::OpenWithApplication aware of the deleteTemporaryPrivateFileWhenPossible API; r=bzbarsky 
Bug 722868 - Part 5: Use the channel's private browsing flag to determine how to handle the temporary file in nsExternalAppHandler::OpenWithApplication; r=bzbarsky 
Bug 722868 - Part 6: Delete the temporary private files when the last private browsing window is closed; r=bzbarsky 
Bug 722868 - Part 7: Remove the usage of the global private browsing in the external app helper service since it is no longer needed; r=bzbarsky 
Bug 722868 - Part 1: Add the deleteTemporaryPrivateFileWhenPossible API; r=bzbarsky 
Bug 722868 - Part 3: Make insExternalAppHandler::OpenWithApplication aware of the deleteTemporaryPrivateFileWhenPossible API; r=bzbarsky 
Bug 722868 - Part 5: Use the channel's private browsing flag to determine how to handle the temporary file in nsExternalAppHandler::OpenWithApplication; r=bzbarsky 
Bug 722868 - Part 6: Delete the temporary private files when the last private browsing window is closed; r=bzbarsky 
Bug 722868 - Part 7: Remove the usage of the global private browsing in the external app helper service since it is no longer needed; r=bzbarsky 
Bug 769362 - Mark the rest of the relative position change tests as random on Mac; r=bzbarsky 
Bug 769653 - Initialize the transferable created in  nsDOMDataTransfer::FillInExternalDragData; r=bzbarsky 
Bug 767936.  Use Element* as the cache key for CanvasImageCache.  r=roc 
Bug 767546.  Make the WebIDLError constructor take a list of locations.  r=jlebar 
Bug 768190.  Don't allow [TreatNullAs] or [TreatUndefinedAs] on dictionary members.  r=jlebar 
Bug 725907 - for-of improvements, part 3: Implement .iterator() for arraylike DOM objects. r=bzbarsky. 
Bug 767352.  Keep track of a method's overloads in a list of IDLMethodOverload objects.  r=jlebar 
Bug 771683 - Mark some functions MOZ_ALWAYS_INILINE. r=bzbarsky.
Change our interpretation of resolution units in CSS to match updates to the spec:  i.e., device pixels per CSS inch (instead of device pixels per physical inch).  (Bug 771390)  r=bzbarsky
Implement dppx units [css3-images] for resolution media query.  (Bug 741644)  r=bzbarsky 
Add flush before we find our pres context, to fix media queries tests on ringmark.  (Bug 753777)  r=bzbarsky 
Bug 729182 - Implement visual event tracer, docshell instrumentation, r=bzbarsky 
Add support for unprefixed calc(), and prefer serializing to unprefixed form.  (Bug 771678)  r=bzbarsky
Rename VARIANT_POSITIVE_LENGTH to VARIANT_POSITIVE_DIMENSION since it also applies to times and frequencies.  (Bug 773102, patch 1)  r=bzbarsky 
Add VARIANT_NONNEGATIVE_DIMENSION.  (Bug 773102, patch 2)  r=bzbarsky 
Require animation-duration and transtion-duration to be nonnegative at parse time.  (Bug 773102, patch 3)  r=bzbarsky
Bug 771429.  Instead of using bound functions for the functions we get off the sandbox proto, use a function proxy.  That allows property gets on the functions to get through.  r=bholley 
Bug 558516.  Make getAttribute faster in the cases when we have no prefix and are in the right case.  r=smaug 
SetterInfallible=MainThread]. 
Bug 771594.  Allow preference control over what CSS properties we parse.  r=dbaron,dholbert 
Rename VARIANT_POSITIVE_LENGTH to VARIANT_POSITIVE_DIMENSION since it also applies to times and frequencies.  (Bug 773102, patch 1)  r=bzbarsky 
Add VARIANT_NONNEGATIVE_DIMENSION.  (Bug 773102, patch 2)  r=bzbarsky 
Require animation-duration and transtion-duration to be nonnegative at parse time.  (Bug 773102, patch 3)  r=bzbarsky
Bug 558516.  Make getAttribute faster in the cases when we have no prefix and are in the right case.  r=smaug 
Limit the hashless color quirk to the properties where it's needed, per http://simon.html5.org/specs/quirks-mode#the-hashless-hex-color-quirk .  (Bug 774122, patch 1)  r=bzbarsky
Limit the unitless length quirk to the properties where it's needed, per http://simon.html5.org/specs/quirks-mode#the-unitless-length-quirk .  (Bug 774122, patch 2)  r=bzbarsky 
Disable the unitless length quirk inside of calc().  (Bug 774122, patch 3)  r=bzbarsky
Limit the hashless color quirk to the properties where it's needed, per http://simon.html5.org/specs/quirks-mode#the-hashless-hex-color-quirk .  (Bug 774122, patch 1)  r=bzbarsky
Limit the unitless length quirk to the properties where it's needed, per http://simon.html5.org/specs/quirks-mode#the-unitless-length-quirk .  (Bug 774122, patch 2)  r=bzbarsky 
Disable the unitless length quirk inside of calc().  (Bug 774122, patch 3)  r=bzbarsky
Bug 749101 - Move window.performance to the new DOM bindings; r=bzbarsky 
Bug 774556 - Remove nsIDOMWindowPerformance* XPCOM interfaces; r=bzbarsky 
Bug 607267.  Don't style imagemaps as block.  r=dbaron,tbsaunde 
    optional arguments that have no default value in the IDL but need to be treated as if they were null. 
Bug 768537 part 2.  Allow dictionaries to be initialized with null or undefined, and treat them as dictionaries in which everything has its default value.  r=peterv 
Bug 773519.  Speed up string argument conversion in DOM bindings by faking an XPCOM string.  r=peterv 
    optional arguments that have no default value in the IDL but need to be treated as if they were null. 
Bug 768537 part 2.  Allow dictionaries to be initialized with null or undefined, and treat them as dictionaries in which everything has its default value.  r=peterv 
Bug 773519.  Speed up string argument conversion in DOM bindings by faking an XPCOM string.  r=peterv 
Bug 773519 followup to make this code deal with silly string consumers too.  No review. 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (docshell parts); r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more content parts); r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more dom parts); r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (toolkit/url-classifier); r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more xpcom parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more toolkit parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (security parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (spellchecker parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (tools/profiler parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (accessibility parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (xpfe/appshell parts); blanket-r=bzbarsky 
Bug 764456 part 2.  Add some tests for callback interfaces.  r=peterv 
Bug 764456 part 3.  Clean up meaning of 'castable' and use thereof a bit.  r=peterv 
Bug 764456 part 4.  Make sure consequential interface used as arguments are non-castable.  r=peterv 
Bug 764456 part 5.  Actually look at hasConcreteDescendant in hasInterfacePrototypeObject() so that we can avoid codegen for [NoInterfaceObject] interfaces hat are only implemented via "implements".  r=peterv 
Fix dom binding test makefile to actually work right.  r=khuey, no bug 
Bug 725907 - for-of improvements, part 3: Implement .iterator() for arraylike DOM objects. r=bzbarsky. 
Bug 761278.  Remove the non-standard uploadprogress event on XMLHttpRequest.  r=sicking 
Bug 775317.  Add a test for the JSOPTION_VAROBJFIX behavior of JS_EvaluateScript.  r=jorendorff 
Bug 765163 followup.  Don't write DictionaryHelpers.h while generating DictionaryHelpers.cpp.  r=build-bustage for checkin to CLOSED TREE 
Bug 761278.  Remove the non-standard uploadprogress event on XMLHttpRequest.  r=sicking 
Bug 775317.  Add a test for the JSOPTION_VAROBJFIX behavior of JS_EvaluateScript.  r=jorendorff 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (gnome parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more toolkit parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more xpfe/appshell parts); blanket-r=bzbarsky 
Bug 777627.  Make sure we can't accidentally turn off mochitests for a directory by reordering the Makefile.in.  r=khuey 
Bug 776490 - variable lock (lockPref) does not work, r=bzbarsky 
Bug 777627.  Make sure we can't accidentally turn off mochitests for a directory by reordering the Makefile.in.  r=khuey 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more widget parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (ipc parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more intl parts); blanket-r=bzbarsky 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (more xpcom parts); blanket-r=bzbarsky 
Bug 775852.  Actually follow the WebIDL spec for creating JS representations of sequences.  r=khuey 
Bug 775845.  Fail codegen for variadic arguments until we add support for them.  r=peterv 
Bug 777415.  Disallow GetterInfallible/SetterInfallible annotations where they don't make sense.  r=khuey 
Bug 775844.  Make sure to examine constructor signatures when looking for union types.  r=peterv 
Bug 777438.  Make sure our C++ declarations are in the right order when a dictionary has a dictionary member.  r=khuey 
Bug 775467 - Make readyState progress through all states without duplicate transitions. r=bzbarsky. 
Bug 771636 part 1.  Rearrange default-value handling so we actually set C++ values directly instead of round-tripping through jsval.  r=peterv 
Bug 771636 part 2.  Implement default values for WebIDL enums.  r=peterv 
Bug 771636 part 3.  Implement default values for WebIDL strings.  r=peterv 
Bug 775852 followup: skip the test when WebGL is not around.  No review. 
Bug 778128.  Make putImageData and createImageData on non-Azure canvas work with Xrays.  r=peterv 
Bug 765588.  Make CSSFontFaceStyleDecl an nsICSSDeclaration.  r=dbaron 
Bug 753517 part 1.  Make GetParentObject() on CSS declarations return a useful nsINode if possible.  r=peterv,dbaron 
Bug 753517 part 2.  Make all CSS declarations wrappercached and make them correctly handle preserved wrappers. r=mccr8,peterv,smaug,dbaron 
Bug 753517 part 2.5.  Include nsWrapperCacheInlines so things will actually link correctly.  r=bustage 
Bug 753517 part 2.75.  Fix the QI impls to not lie.  r=bustage 
Bug 747287 - Part 3: Add callback interface to allow JIT to interrogate DOM. (r=peterv) 
Bug 780542.  Make construction via a function proxy with an object in the constructor slot actually construct instead of just calling.  r=ejpbruel 
Bug 703855.  Don't update performance timing or navigation timing state during document.open.  r=jst 
Bug 781046.  Make the Create() functions in TypedArray.h take a const data array, since they make a copy anyway.  r=bzbarsky 
Bug 703855.  Don't update performance timing or navigation timing state during document.open.  r=jst 
Accept unitless lengths in quirks mode for bottom, just as for left/top/right.  (Bug 776591)  r=bzbarsky 
Bug 783867.  Don't blindly assume IsDOMClass objects are nsISupports.  r=peterv 
Fix for bug 768692 (Move DOM list binding generation to the new DOM binding codegen). r=bzbarsky. 
Bug 784809.  Allow null for the repeat argument of canvas createPattern.  r=peterv 
Bug 784809.  Allow null for the repeat argument of canvas createPattern.  r=peterv 
Bug 753517 part 3.   Expose the API needed for Paris bindings on nsDOMCSSDeclaration and nsICSSDeclaration.  r=dbaron,peterv 
Bug 753517 part 4.  Set up auto-generation of CSS2Properties.webidl from nsCSSPropList.h and enable Paris bindings for CSSStyleDeclaration and CSS2Properties.  r=khuey,peterv,dbaron 
Bug 785754.  Fix handling of max-height for frame classes that still seem to think that the mComputedMinHeight/mComputedMaxHeight of a reflow state are border-box heights, not content-box heights.  r=mats 
Bug 690168.  Implement the 'Allow-From' directive for X-Frame-Options.  r=bzbarsky 
Bug 732209 part 1.  Clean up nsContentSink methods that used to take an element and now don't.  r=sicking 
Bug 732209 part 2.  Communicate the CORS state of style link loads to the CSS loader.  r=sicking 
Bug 732209 part 3.  Communicate the CORS state of preloads to the CSS loader.  r=sicking,hsivonen 
Bug 732209 part 4.  Propagate the CORS state throughout the CSS loading process.  r=sicking,dbaron 
Bug 732209 part 5.  Enforce CORS on stylesheet loads as needed.  r=sicking 
When gaining such access, the web page resets the stylesheet to its principal, because it can now edit the sheet. 
Bug 767930.  Add support for typed array return values (as just JSObject*) in WebIDL bindings.  r=peterv 
Bug 779046.  Have saner defaults for the nativeType of a WebIDL bindings.  r=peterv 
Bug 774970.  Add the ability to generate code for dealing with an XPConnect 'this' object in some cases.  r=peterv 
Bug 773520.  Add a one-slot cache for converting stringbuffers to JSStrings.  r=peterv,bhackett 
Bug 784869.  Stop allowing undefined as the second argument to createPattern in the WebIDL 2d context bindings.  r=peterv 
Bug 782660.  Resizing a text control frame with borders should invalidate the borders as needed.  r=roc 
Bug 567511.  Don't consider document.domain when deciding whether to taint a canvas.  r=roc 
Bug 785574 - Add a script blocker in nsHTMLEditor::SetAttributeOrEquivalent; r=bzbarsky 
Make author !important rules override CSS animations.  (Bug 783714)  r=bzbarsky
Bug 785753.  r=zackw,bzbarsky 
Bug 786564.  Add a crossOrigin IDL attribute on <link>.  r=sicking 
Bug 726125: Certificates of signed extensions were getting validated on each startup. r=taras, sr=bzbarsky 
Don't build dom/bindings as part of PARALLEL_DIRS, because that seems to parallelize it against dom/bindings/test, which is no good.  No bug, r=bustage. 
Bug 775302 - Stub out the implementation of mozAudioContext; r=bzbarsky,khuey 
Bug 786105.  Setting inline style properties to null should remove them, just like setting them to empty string does.  r=peterv 
Bug 787131.  Move management of primary content state stuff from the nsSubDocumentFrame into the nsFrameLoader, so it works on display:none elements.  r=jlebar 
Revert changeset b96a7ceeb647, since it had no effect on build stuff.  Bug 787498, no review, DONTBUILD 
Bug 778150 part 1.  Remove the vestigial ability to specify infallibility stuff in the conf file.  r=peterv 
throwing behavior is only happening on main thread or in workers. 
be set to MainThread or Workers if the throwing behavior is only happening on main thread or in workers 
Bug 788149.  Don't use jsids in worker code in bindings, because those are runtime-specific and workers can run on multiple runtimes.  r=peterv 
Bug 778044.  Add a way to pref off Paris binding constructor objects.  r=peterv 
Bug 742144.  Implement support for typedefs in WebIDL.  r=khuey 
Bug 787574 - Add a script for creating stub implementations of Web IDL interfaces; r=bzbarsky
Remove last use of enablePrivilege in layout/style mochitests.  (Bug 653461, patch 4)  r=bzbarsky 
Bug 767931.  Make drawWindow and asyncDrawXULElement ChromeOnly.  r=roc 
Bug 786946.  Don't propagate text-decoration to <select> by default.  r=dbaron 
Bug 780529.  Make people poking XHR via random XPCOM interfaces actually work as long as they stick to GetInterface.  r=peterv 
Bug 788369.  Allow passing strings to the XHR constructor, since CoffeeScript seems to want to do it.  r=peterv 
Bug 788369 followup.  Fix test to reflect the new world.  r=bustage 
Back out bug 786946 because it fails <select> font-inflation tests.  r=bustage 
Move nsStyleStruct MaxDifference methods inline, and make them available unconditionally rather than DEBUG-only.  (Bug 779968, patch 1)  r=bzbarsky 
Use nsStyleStruct MaxDifference methods instead of maxHint for hint handling in nsStyleContext::CalcStyleDifference.  (Bug 779968, patch 2)  r=bzbarsky 
Remove maxHint from nsStyleContext::CalcStyleDifference.  (Bug 779968, patch 3)  r=bzbarsky 
Abstract nsChangeHint_NonInherited_Hints into a function so that it accurately reports the reflow cases to all callers.  (Bug 779968, patch 4)  r=bzbarsky
Refix bug 731521 in the new setup for forcing comparison in nsStyleContext::CalcDifference, since we can no longer rely on nsStyleBorder::ForceCompare.  (Bug 779968, patch 5)  r=bzbarsky 
Make nsStyleContext::CalcStyleDifference force comparison based on the parent's hint instead of the style struct ForceCompare methods.  (Bug 779968, patch 6, the main patch)  r=bzbarsky
Remove ForceCompare methods from style structs.  (Bug 779968, patch 7)  r=bzbarsky 
Bug 786946.  Don't propagate text-decoration to <select> by default.  r=dbaron 
Bug 788923 - Part 1: When prefetching a document using a Link header, use the document element as the source node; r=bzbarsky 
Bug 788923 - Part 2: Use the load group of the document that the source node belongs to when prefetching links; r=bzbarsky 
Change some uses of nsChangeHint_ReflowFrame to check nsChangeHint_NeedReflow.  (Bug 789592, patch 1)  r=bzbarsky 
Rename nsChangeHint_ReflowFrame to nsChangeHint_AllReflowHints to make it clearer that it's the one that contains multiple bits.  (Bug 789592, patch 2)  r=bzbarsky 
Bug 601912.  Implement <ol reversed>.  r=dholbert 
Bug 788310 - Hide mozAudioContext behind a pref; r=bzbarsky 
Bug 789691 - Migrate BlobPropertyBag to WebIDL binding dictionary, r=bzbarsky 
Bug 709083 - Call DoneCreatingElement before children have been appended to the element. r=bzbarsky. 
Bug 716628.  Implement support for 'turn' unit in CSS.  r=dbaron 
Bug 661746 - Part of part 2: Introduce a const AsElement(). r=bzbarsky 
Bug 790123.  Make sure to not lose a single trailing newline in stripTrailingWhitespace.  r=mats 
Bug 789636.  Make getInterface on XHR and QueryInterface on all WebIDL objects be [ChromeOnly].  r=peterv 
Bug 787554.  Don't prefix WebIDL getters names with a Get if they look like simple member access on the C++ side.  r=peterv 
Bug 787543.  Put all the typedeffy bits back in WebGLRenderingContext now that we can.  r=peterv 
Bug 790273.  Add support for [LenientThis] in WebIDL.  r=peterv 
Bug 791372 - Navigator::MozIsLocallyAvailable doesn't associate its channel with a load group; r=bzbarsky 
Remove aPresContext parameter to nsStyleContext constructor and document parameters to constructor.  (Bug 791416)  r=bzbarsky 
Bug 774169, patch 1:  Make the property_database.js-based tests call getComputedStyle() for all properties that are expected to have longhand behavior.  r=bzbarsky
Bug 774169, patch 2:  Add property_database.js entries for property aliases.  r=bzbarsky
Bug 774169, patch 3:  Treat -moz-transform as a shorthand rather than an alias so the parsing function can know whether it is parsing a prefixed transform.  r=bzbarsky 
Bug 774169, patch 4:  Revert bug 719054 for prefixed -moz-transform but leave it for unprefixed transform.  r=bzbarsky 
Bug 788275 - Part 0: Make nsCORSListenerProxy's constructor not cause the object to be destroyed before it is constructed; r=bzbarsky
Bug 790975.  Support sequences as dictionary members in WebIDL.  r=peterv 
Bug 789856.  Fire error events on <script> elements which completely fail to start the load.  r=sicking 
Bug 791378 - nsPluginHost::NewPluginURLStream needs to take the privacy information into account when creating a channel on behalf of a plugin; r=bzbarsky 
Bug 777292 - Make sure that the Components.lastResult is interpreted as unsigned integers; r=bzbarsky 
Bug 792646 - Implement the skeleton of Web Audio source and destination nodes; r=bzbarsky
Bug 792646 - Implement the skeleton of Web Audio source and destination nodes; r=bzbarsky
Bug 793196.  Speed up hasAttribute string munging of the attr name.  r=sicking 
Bug 793253.  Infallible TArrays should really be infallible.  r=jlebar 
Test for bug 750096 - Make sure nsIParserUtils::parseFragment does not dereference <embed src=javascript:...>. r=bzbarsky. 
Bug 792215 part 1.  Convert quickstubs to using JSNative getters and setters. r=peterv 
Bug 793294 - Implement AudioBuffer; r=bzbarsky,smaug
Bug 795015 - Set the initial state of the per-docshell private browsing flag based on the state of the global PB service; r=jdm,bzbarsky 
Bug 793528.  Worker bindings should default to looking for headers in mozilla/dom/workers/bindings/.  r=khuey 
Bug 795751.  Make CSS2Properties stuff work even with pref names that are not identifiers.  r=dholbert 
  main-thread descriptor is assumed. 
Bug 792649 - Make the simplest of Web Audio tests work without audio playback for now; r=bzbarsky 
Bug 797150 - Rename AudioBufferSourceNode's noteOn and noteOff to start/stop; r=bzbarsky 
Bug 749964.  Don't try to save if what we have is not a real document object.  r=khuey 
Mark AsyncWaiter as final, no bug, blanket-r=bzbarsky 
Bug 790265.  Changes that might attach a binding (e.g. state changes on <object> elements) should trigger a frame construction attempt even for display:none elements, so the binding will get attached.  r=dholbert 
Bug 798011.  Deal with JS_ValueToString failing.  r=gabor 
Bug 796410.  Make things still work right if we disable Paris list bindings.  r=peterv 
outright. 
Bug 795221 part 2.  Hook up <style> elements to cycle collect their stylesheet.  r=smaug 
Bug 795221 part 3.  Implement cycle collection for GroupRule objects.  r=smaug,dbaron 
Bug 795221 part 4.  Hook up <link> elements to cycle collect their stylesheet.  r=smaug 
Bug 795221 part 5.  Hook up <svg:style> elements to cycle collect their stylesheet.  r=smaug 
Bug 795221 part 6.  Hook up xml-stylesheet PIs to cycle collect their stylesheet.  r=smaug 
Bug 798508 - Part 1: Implement the "private" window.open feature; r=bzbarsky
Bug 792137.  [TreatNonCallableAsNull] lives on the callback type now.  r=peterv 
   sequence of nullable interface objects. 
Bug 798800.  Turn off -Werror=conversion-null, since we trigger it with ANGLE on recent Macs.  r=cpeterson 
Bug 773247.  Don't keep looking forward for the first visible range and then just ignoring it.  r=masayuki 
Bug 799875.  Make the global scope polluter work even for qualified lookups.  r=jst 
Bug 801116.  Take box-sizing into account when computing intrinsic width based on a fixed height and an intrinsic ratio.  r=dholbert 
Bug 800386.  Fix getInterface from JS on XMLHttpRequest objects to actually work.  r=khuey 
Bug 801116 followup: clearer variable naming.  DONTBUILD 
Bug 802243 - WrapperCache DOMStringMap, quickstub, r=smaug 
Bug 796983 part 1.  Switch nullable primitives to using a const Nullable.  r=jst 
and operations default to non-const methods. 
Bug 599882.  Make baselines not depend on relative positioning of kids.  r=dbaron 
Bug 801994.  Fix intrinsic width determination in cases when we have an intrinsic ratio and our height is styled as calc() with percentages.  r=dholbert 
null but not exceptions, though.  :( 
style set side.  We can always make that switch if we need to, I guess. 
Bug 799796.  Do memory reporting for stylesheets that only the CSS loader might know about.  r=dbaron,njn 
Bug 802636.  Add a test that makes sure that codegen and example generation agree with each other.  r=jst 
Bug 801723.  WebIDL binding objects may not have classinfo even if they're nsISupports.  r=peterv 
Bug 776242.  Remove now-unused 2d canvas classinfo.  r=peterv 
Bug 801712 part 1.  Add the WebIDL binding API to ImageData.  r=peterv 
Bug 801712 part 2.  Switch ImageData to WebIDL bindings.  r=peterv 
Bug 801712 part 3.  Make object return values faster by only doing the JS_WrapValue if needed.  r=peterv 
Bug 798151.  Support stringifier operations (but not yet attributes!) on non-proxy bindings, and fix Object.prototype.toString for proxy bindings.  r=peterv 
Bug 798187 part 1.  Add support for dictionary return values.  r=peterv 
Bug 798187 part 2.  Switch WebGLContextAttributes to being a dictionary.  r=peterv,bjacob 
Bug 798187 followup.  Actually return our newly-created object from dictionary ToObject.  r=peterv 
Bug 798187 even more followup.  Disable broken WebGL test, and update to Peter's review comments.  r=peterv 
Bug 644534 - Make SMIL animation work when content is transformed through XSLT. r=bzbarsky 
helpers, unfortunately, which somewhat complicates those. 
Bug 804725.  Use the right type name for interface arguments for binding example codegen.  r=jst 
Bug 804799.  Make sure we keep advancing our current find point through the document even in cases when we optimize by moving it to the first visible range, so we don't get stuck in an infinite loop.  r=masayuki 
Bug 801488. Don't flush notifications when dragging a XUL splitter. r=bzbarsky 
Bug 804323. Mark newly-transformed frames as abs-pos containers (or not). r=bzbarsky 
Bug 801488. Don't flush notifications when dragging a XUL splitter. r=bzbarsky 
Bug 804323. Mark newly-transformed frames as abs-pos containers (or not). r=bzbarsky 
Bug 804970, patch 1: Don't force calc() units out of the rule tree.  r=bzbarsky
Bug 804970, patch 2: Add test for dynamic changes of viewport units.  r=bzbarsky 
Bug 804970, patch 3: Don't force vw/vh/vmin/vmax units out of the rule tree.  r=bzbarsky 
Bug 804970, patch 4: Refactor part of RebuildAllStyleData into a helper function (slightly reordering it), so that we can share that part.  r=bzbarsky 
Bug 804970, patch 5: Handle dynamic changes to the basis for 'rem' units by rebuilding all style data.  r=bzbarsky 
Bug 804970, patch 6: Don't force rem units out of the rule tree.  r=bzbarsky 
Add preferences (defaulting to enabled, for now) to control whether certain prefixed aliases for CSS properties are supported, so that authors can have a way to test what happens when they're turned off in advance of our disabling them.  (Bug 804944)  r=bzbarsky 
Bug 803392 - Initial implementation of AudioParam; r=bzbarsky
Bug 801819.  Remove nsIDOMCSS2Properties and the classinfo bits for CSS declarations.  r=peterv,dbaron 
Bug 807171 - Implement AudioParam.cancelScheduledValues; r=bzbarsky 
Bug 807526 - Implement GainNode; r=bzbarsky 
the window. 
Back out rev 2682f9a1fc58, bug 807222, because it assumes that people aren't putting completely broken stuff on Window, which b2g does.  CLOSED TREE 
Bug 807697 - Enable integer to float type coercion in the Web IDL parser; r=bzbarsky 
Bug 807533 - Implement DelayNode; r=bzbarsky 
Bug 800193 - Print a warning when setting nsILoadContext.usePrivateBrowsing in per-window private browsing builds; r=bzbarsky 
Bug 807222 part 1.  Propertly condition MozActivity so we don't stick it on the global in builds that we don't ship the xpt for it in.  r=fabrice 
Bug 807222 part 2.  Condition MozTimeManager classinfo so we don't stick it on the global in builds that don't ship the xpt for it.  r=jlebar 
Bug 807222 part 3.  Make sure we enter the right compartment before we try to define interface constants on a constructor.  r=bholley 
the window. 
Back out rev 6d36471ab3ca (part 5 of bug 807222) because now Android is shipping busted stuff on the global. 
Bug 749866 part 1.  Add support for failureCode for sequence unwrapping.  r=khuey 
Bug 749866 part 2.  Simplify the code generated by overload resolution a bit when we have sequences or dates at our distinguishing index.  r=khuey 
Bug 749866 part 3.  Rejigger overload resolution a bit more so we can tell argument conversion that we know the argument is null or undefined.  r=khuey 
Bug 749866 part 4.  Generate slightly better code when we know we're null or undefined.  r=khuey 
Bug 788225.  Implement WebIDL deleters.  r=peterv 
Bug 803306.  Calling a named creator should not define an expando.  r=peterv 
Bug 743171.  Fix the global's enumerate hook to correctly enumerate Proxy and WeakMap.  r=jorendorff 
Bug 807548.  Enumerating an Xray should not see the 'constructor' property on DOM prototypes unless we're told to include non-enumerable properties.  r=peterv 
Bug 772869.  Make getOwnPropertyNames work correctly for WebIDL proxy bindings.  r=peterv,ms2ger 
Bug 803519.  Require indexed/named getters if we have creators/deleters/setters. r=peterv 
Bug 803129.  Convert DOMStringMap to WebIDL.  r=peterv 
Bug 804635.  Make codegen deal with Document not being an external interface but not available in workers even though XMLHttpRequest (which can return or accept Document) is available there.  r=peterv 
Bug 804649.  Create a CommentNode header.  r=peterv 
Bug 804319.  Implement parsing of the "stringifier;" shorthand. r=khuey 
Bug 804632.  Allow certain reserved words as argument names in WebIDL.  r=khuey 
Bug 806033.  Finish getting rid of stray [Infallible] annotation bits.  r=khuey 
Bug 808841 - Implement AudioContext.listener; r=bzbarsky 
Bug 808876 - Implement PannerNode; r=bzbarsky 
Bug 807222 part 5.  Actually ship the xpts for camera api and devicestorage on Firefox for Android, like we do everywhere else.  r=khuey 
the window. 
Bug 804738 part 1.  Fix codegen for named operations to be consistent about the naming of the string argument.  r=peterv 
Bug 804738 part 2.  Fix codegen for indexed operations to be consistent about the naming of the index argument.  r=peterv 
Bug 808876 - Part 0: Only allow the usage of enum classes in gcc 4.5 and newer; r=bzbarsky
Bug 808876 - Part 1: Implement PannerNode; r=bzbarsky 
Bug 794599 - Add a preference to disable logging. r=bzbarsky 
Bug 572200, part 1:  Make rule nodes know whether they're used directly by a style context.  r=bzbarsky 
Bug 572200, part 2:  Allow rule nodes to cache data owned by an ancestor rule node:  don't destroy structs that we don't own.  r=bzbarsky 
Bug 572200, part 3:  Cache data that lives in the rule tree on every relevant rule node that has a style context directly pointing to it directly.  r=bzbarsky 
Bug 809271 - Implement DynamicsCompressorNode; r=bzbarsky 
Bug 809654 - Implement BiquadFilterNode; r=bzbarsky 
Bug 794599 - Add a preference to disable logging. r=bzbarsky 
Bug 808991.  Named getters should get called for indexed properties on objects that don't support indexed properties.  r=peterv 
Note that everything except the new asserts just got moved with no changes. 
Bug 809882 - Disallow non-positive arguments to AudioContext.createDelay; r=bzbarsky 
Bug 779048 part 0.5.  Don't require a JSContext argument for nsJSUtils::GetStaticScriptGlobal.  r=bholley 
Bug 779048 part 1.  Implement a parent class for C++ reflections of callback functions in WebIDL.  r=bholley,smaug 
Bug 779048 part 2.  Rearrange how we do our includes and forward-declares to actually work with callbacks and dictionaries sanely.  r=peterv 
Bug 779048 part 3.  Refactor the code we use for generating example declarations a bit so we can reuse it for callbacks.  r=peterv 
Bug 779048 part 4.  Implement basic codegen for callbacks, without handling of arguments or return values yet.  r=peterv 
Bug 779048 part 5.  Make js-to-native conversion support doing something other than "return false" on JS exceptions.  r=peterv 
Bug 779048 part 6.  Handling of return values for callbacks.  r=peterv 
Bug 779048 part 7.  Make native-to-JS conversion support doing something other than "return false" on JS exceptions.  r=peterv 
in const OwningNonNull or in plain object references. 
Bug 779048 part 9.  Give JS-to-native conversion an object pointer to work with so it can convert callback objects.  r=peterv 
Bug 779048 part 10.  Start using the new callback codegen in argument and return value conversion.  r=peterv,smaug 
Bug 779048 followup.  Add a comment that explains why the assert about exceptionCode being default when invalidEnumValueFatal is false is an ok thing to assert.  r=peterv, DONTBUILD 
Bug 807224.  Implement native-to-JS conversion for WebIDL unions.  r=peterv 
Bug 807226 part 0.5.  More undefs to stop Windows headers from messing with our GetClassName.  r=peterv 
Bug 807226 part 1.  Make it easier to do special things with beforeunload and error events as needed.  r=smaug 
Bug 807226 part 2.  Change event handlers to store WebIDL callback functions.  r=smaug 
Bug 807226 part 3.  Change event handlers to call their WebIDL callbacks directly.  r=smaug 
Bug 807226 part 4.  Allow event handlers to have a null nsIScriptContext if they won't have to compile from a string.  r=smaug 
Bug 807226 part 5.  Allow event handlers to have a null scope object if they don't have to compile from a string.  r=smaug 
Bug 807226 part 6.  Centralize our IMPL_EVENT_HANDLER macro definitions in nsDOMEventTargetHelper.  r=smaug 
automatically get the callback objects passed in from binding code. 
Bug 807226 part 8.  Remove the exceptions for EventHandler in WebIDL codegen.  r=smaug 
Bug 807224 followup to address review comments.  r=presumably-peterv 
Bug 805310.  Add some documentation for our object-wrapping helpers.  r=peterv 
Bug 796983 followup to address peterv's comments.  r=presumably-peterv 
Bug 808698.  Set up example codegen for proxy bindings to work correctly.  r=jst 
Bug 809260.  Example codegen should include ErrorResult.h in the header.  r=mccr8 
Bug 783630 - Make OOP console logs only show up once in logcat. r=bzbarsky 
Bug 809533, patch 3:  Stop handling allocation failures in the style system that no longer need to be handled.  r=bzbarsky 
Bug 809533, patch 4:  Remove null-checks of NS_New*Frame callers in the frame constructor.  r=bzbarsky 
Fix CheckFontCallback to match 'rem' unit changes.  (Bug 806310)  r=bzbarsky 
cleanup. 
Bug 810618.  Make sure we don't allow layout statics to go away while we're still trying to use them.  r=khuey 
Bug 809765.  Match the HTML spec in terms of which event handler attributes are compiled on which elements.  r=smaug 
Bug 810876. Don't double-count the size of our placeholder when determining the overflow area for an image frame.  r=mattwoodrow 
Bug 811663 part 1.  Rename nsDocumentFragment to mozilla::dom::DocumentFragment.  r=smaug 
All the code is just being moved without any changes. 
Bug 811555 - Make AudioContext.createDelay not accept arguments greater than or equal to 3; r=bzbarsky 
outside of the Link bits that are needed to make mock_Link compile. 
implementations around.  No substantive changes. 
Bug 811449 part 3.  Eliminate nsGenericElement as a separate class. 
Bug 811449 part 4.  Move the data members of Element to the end of the class.  r=peterv 
Bug 811449 part 5.  Drop no longer needed namespacing on arguments and return values of Element methods.  r=peterv 
Bug 811449 part 6.  Rename nsGenericElement.cpp to Element.cpp.  r=peterv 
Bug 811449 part 7.  Get rid of nsGenericElement in Element.cpp.  r=peterv 
Bug 811449 part 8.  Get rid of nsGenericElement.  r=peterv 
Bug 811864 - Remove PannerNode.coneGain/distanceGain; r=bzbarsky 
Bug 796882 - Implement CSS charset handling according to CSS3 Syntax. r=bzbarsky. 
Bug 811394.  Prevent recursion into nsXULWindow::Destroy.  r=smaug 
Bug 812390 - Protect against NaN in AudioContext.createDelay; r=bzbarsky 
Bug 812563 - Give nsHostObjectProtocolHandler a virtual destructor; r=bzbarsky 
Bug 812086 part 1.  Add unprefixed version of page visibility API.  r=smaug 
Bug 812086 part 2.  Convert internal consumers of mozvisibilitychange events to the unprefixed version.  r=smaug 
Bug 812086 part 3.  Convert internal consumers of mozHidden and mozVisibilityState to the unprefixed versions.  r=smaug 
Bug 812086 part 4.  Warn when consumers use the moz-prefixed versions of visibility API.  r=smaug 
Bug 813269 - Use double to represent time in Web Audio; r=bzbarsky 
Bug 813433 - Make nsMediaSniffer accept null request arguments; r=bzbarsky
Bug 812789.  Remove some dead code for converting jsvals to Matrix objects.  r=nrc 
Bug 813419.  Add a non-null-checking version of xpc_UnmarkGrayObject.  r=mccr8 
Bug 813423.  A bit more inlining for stuff that should really be inline.  r=peterv 
Bug 813373, patch 3:  Make sure all style rules have non-empty List implementations.  r=bzbarsky 
Bug 812744 part 1.  Set XSLT result documents to be data documents when we plan to return them to script.  r=sicking 
Anoother option would be to just explicitly wrap the node and use that, for what it's worth.  That wouldn't give us an nsIScriptContext, though. 
Bug 812392.  Make sure we don't allow descendant protoss to confuse whether a proto corresponds to a DOM type.  r=bhackett,peterv 
Bug 776443 part 1.  Support percent-less calc for internal table element heights.  r=dbaron 
Bug 776443 part 2.  Support percent-less calc for internal table element widths.  r=dbaron 
Bug 813746.  Link the webrtc unit tests to ZLIB as needed.  r=bz 
Bug 812744 part 1.  Set XSLT result documents to be data documents when we plan to return them to script.  r=sicking 
Anoother option would be to just explicitly wrap the node and use that, for what it's worth.  That wouldn't give us an nsIScriptContext, though. 
Bug 776443 part 1.  Support percent-less calc for internal table element heights.  r=dbaron 
Bug 776443 part 2.  Support percent-less calc for internal table element widths.  r=dbaron 
Bug 814302:  Don't print to console when an invalid selector is passed to mozMatchesSelector.  r=bzbarsky 
Bug 812392.  Make sure we don't allow descendant protoss to confuse whether a proto corresponds to a DOM type.  r=bhackett,peterv 
Bug 814064.  We should not fire a readystatechange for our transition to the SENT state.  r=sicking 
Bug 814093.  Require preflight requests to receive a 200 response.  r=sicking 
Bug 813438 - Part 1: Implement NS_SniffContent; r=bzbarsky 
Bug 813438 - Part 2: Remove the I/O service content sniffer cache; r=bzbarsky 
Bug 813438 - Part 3: Rewrite the unknown decoder to use NS_SniffContent; r=bzbarsky 
Bug 813438 - Part 4: Rewrite AsyncFaviconHelper to use NS_SniffContent; r=bzbarsky 
Bug 813438 - Part 1: Implement NS_SniffContent; r=bzbarsky 
Bug 813438 - Part 2: Remove the I/O service content sniffer cache; r=bzbarsky 
Bug 813438 - Part 3: Rewrite the unknown decoder to use NS_SniffContent; r=bzbarsky 
Bug 813438 - Part 4: Rewrite AsyncFaviconHelper to use NS_SniffContent; r=bzbarsky 
Bug 813623.  Fix Xrays to actually work correctly for static methods and properties.  r=peterv 
Bug 810641.  Implement support for variadic callback arguments in WebIDL.  r=peterv 
Bug 815460.  Always inline JS_THIS so that we don't run into performance issues if the compiler decides not to inline it.  r=waldo 
Bug 814789 - Tie the life-time of the AudioContext to the life-time of the document owning it; r=bzbarsky 
Bug 814789 - Tie the life-time of the AudioContext to the life-time of the document owning it; r=bzbarsky 
Bug 814576.  Make XMLHttpRequest really set its progress events as trusted.  r=smaug 
Bug 814050.  XMLHttpRequest.withCredentials header should throw on main thread too, in some cases.  r=peterv 
Bug 812742.  Fix sequence codegen to not do AppendElement multiple times by accident.  r=peterv 
Bug 767933 part 1.  Implement parser support for 'unrestricted float' and 'unrestricted double', and for the [LenientFloat] extended attribute.  r=khuey 
Bug 767933 part 2.  Implement codegen for 'unrestricted float' and 'unrestricted double', as aliases for float and double for now.  r=khuey 
Bug 767933 part 3.  Update our IDL as needed to use unrestricted float/double or [LenientFloat].  r=khuey,bjacob 
Bug 767933 part 4.  Make 'float' and 'double' types throw on non-finite values.  r=khuey,ehsan,bas 
Bug 767933 part 5.  Remove no longer needed FloatValidate calls from canvas code.  r=bas 
Bug 815359 - Use the correct contract ID to create nsISupportsPRUint32's in the icon decoder; r=bzbarsky 
Fix up indentation of the generated code for event handler return values.  No bug. 
Bug 815671 part 1.  Make RegisterRemoteChrome use InfallibleTArray like its caller does.  r=jlebar 
Bug 815671 part 2.  Make some content code use array references instead of array objects with implicit copies.  r=smaug 
Bug 815671 part 3.  Make nsXULPopupManager::GetVisiblePopups use an array out param instead of returning array object copies.  r=roc 
Bug 815671 part 4.  Remove some array copying in gfx code.  r=roc 
Bug 815671 part 5.  Various miscellaneous fixups in dom/ and hal/ code to copy arrays only when we explicitly want to.  r=jlebar 
Bug 815671 part 6.  Fixes to widget code to not copy arrays implicitly.  r=jlebar 
Bug 815671 part 7.  Fixes to layout code to not copy arrays implicitly.  r=roc 
Bug 815671 part 8.  Fix charset menu code to use copy constructors for arrays.  r=jlebar 
Bug 815671 part 9.  Fix hashtables to take a UserDataType reference on put, so that putting an array works.  r=bsmedberg 
Bug 815671 part 10.  Make nsTArray constructors explicit.  r=jlebar 
Bug 812783.  Add support for flagging callbacks as worker-only.  r=khuey 
Bug 814141.  Cross-site redirects of a CORS request should null out the request origin.  r=sicking 
Bug 811021.  Tell catalog sheets they have the document as an owning node so they won't get double-counted by memory reporters.  r=dbaron 
Bug 816828 - Implement AudioContext.sampleRate; r=bzbarsky 
Bug 814195 prerequisite: fix tests that do gczeal stuff to not enumerate the window for the first time while gc-ing on every allocation.  Otherwise our hang detector kicks in and kills us.  rs=jorendorff 
Bug 817476.  Really do WebIDL bindings for Screen.  r=ms2ger 
Bug 816160.  Don't require 'castable':False for prefable bindings with hasXPConnectImpls, and don't require hasXPConnectImpls bindings to be prefable.  r=peterv 
Bug 648722 part 1.  Add a :scope pseudo-class that just matches the same thing as :root for now.  r=dbaron 
Bug 648722 part 2.  Make :scope match the context node for selectors API calls.  r=dbaron 
Bug 817469.  Correctly handle embedded null in the string to parse in DOMParser.  r=emk 
Bug 817284.  When none of our code is associated with a window in an obvious way, assume that scripts should be allowed to execute for a WebIDL callback.  r=bholley 
Bug 818371.  Don't fire visibility change events until we're done updating vsibility states in the entire docshell tree.  r=smaug 
Bug 816376.  Create vanilla objects for the interface object of callback interfaces.  r=peterv 
Bug 816842.  Clean up jsval return values in quickstubs a bit.  r=bholley 
Bug 817473 part 1.  Make nsIDOMXULDocument inherit from nsIDOMDocument, so that XUL documents end up with Document.prototype and Node.prototype on their proto chain.  r=peterv 
Bug 817473 part 2.  Remove no-longer-needed nsNodeSH::PostCreatePrototype.  r=peterv 
Bug 817531.  Fix the referrer header for background image loads.  r=khuey 
Bug 803606.  Reverse the order of JSSLOT_PROXY_HANDLER and JSSLOT_PROXY_PRIVATE.  r=waldo 
Bug 815803.  Now that JSSLOT_PROXY_PRIVATE == 0, simplify binding code that had to deal with different slot indices on proxy and non-proxy objects.  r=peterv 
Bug 817531.  Fix the referrer header for background image loads.  r=khuey 
Bug 818263.  Make the EventTarget binding work for nodes.  r=smaug,peterv 
Bug 817531 followup.  Enable the test on android.  No review. 
Bug 787134 - Make links not in a document or with an invalid href respond to :link selector.  r=bzbarsky 
Bug 816846.  Correctly call up to our superclass to resolve an identifier conflict.  r=khuey 
Bug 817669 test.  r=bholley 
Bug 819745.  Correctly handle body.onerror = null.  r=peterv 
Bug 819751.  Turn out the WebIDL-based quickstubs for touch event handlers for now, because that setup doesn't handle prefable properties correctly. r=peterv 
Bug 819202 - Part 1: Implement the "non-private" window.open feature; r=bzbarsky
Bug 803677 - Fix offsetTop/offsetParent for element with display:table-cell that have anonymous table parents.  r=bzbarsky 
Bug 819588.  Null-check the window before jumping.  r=emk 
Bug 815502.  Implement support for variadic arguments in WebIDL.  r=peterv 
Bug 819670 - Web console object inspection does not handle native getters throwing very well; r=msucan,bz 

Bug 819670 - Web console object inspection does not handle native getters throwing very well; r=msucan,bz Bug 820862.  JSJitInfo should say what sort of function it is.  r=jandem 
Bug 820902.  nsAttrValue::Equals should do ASCII-case-insensitive compares when it's doing case-insensitive compares.  r=sicking 
Bug 759621 test.  No review, test only. 
Bug 821958. Disable test_multiple_hold.js due to permaorange.  a=busted CLOSED TREE 
Bug 820902.  nsAttrValue::Equals should do ASCII-case-insensitive compares when it's doing case-insensitive compares.  r=sicking 
Bug 816380.  Convert XPathEvaluator to WebIDL.  r=peterv 
Bug 816375.  Switch NodeFilter to WebIDL bindings.  r=peterv 
Bug 818379.  Make sure interface objects have a 'length' property even if they're not real function objects.  r=peterv 
Bug 819904.  Throw from WebIDL setters called with no arguments, per spec change.  r=peterv 
Bug 821438.  Allow inheritance from interfaces with Unforgeable attributes.  r=peterv 
Bug 821760.  Properly handle compartments in WebIDL static operation bindings.  r=peterv 
Back out bug 817006 (rev 0852e5efadac) because it depends on a patch I'm about to back out for test failures. 
Back out bug 675902 (rev 627a842914d0) from CLOSED TREE because it fails browser-chrome tests. 
Bug 821958. Disable test_multiple_hold.js due to permaorange.  a=busted CLOSED TREE 
Bug 773911 part 1.  Inline js::GetContextCompartment.  r=waldo 
Bug 773911 part 2.  Use the now-inline js::GetContextCompartment in a few places.  r=waldo 
Back out bug 818371 because what we used to do actually matches the spec. 
Bug 819523 part 1. Make it possible to use the various-allocator nsTArrays interchangeably as long as you're working with const objects. r=jlebar 
Bug 819523 part 2. Allow Nullable<> of various array types to work sanely. r=jlebar 
Bug 814302, part 2: Don't print to console when an invalid selector is passed to querySelector*.  r=bzbarsky 
it was being ensured accidentally before. 
Bug 819741.  Add support for passing an ArrayBufferView to XHR.send().  r=sicking,bent 
Bug 823173 test.  Make sure that navigator doesn't have any broken interfaces on it.  r=jlebar 
Bug 816380 followup.  Remove unnecessary code. 
Bug 822766.  Be a bit more careful with our level assert in ReplaceAnimationRule.  r=dbaron 
less code... 
Bug 816387 part 1.  Hook up the WebIDL bindings for Document.  r=peterv 
Bug 816387 part 2.  Hook up the Document WebIDL API to quickstubs.  r=peterv 
Bug 816387 followup.  Remove more todo stuff from tests now that we made it work.  r=bustage 
Fix for bug 811701 (Move innerHTML/outerHTML/insertAdjacentHTML from HTMLElement to Element).  r=bzbarsky. 
Bug 816180.  Convert DocumentFragment to WebIDL.  r=peterv 
Bug 818400.  Add a preference to control :scope and pref it off in release builds for now.  r=dbaron 
Bug 824517.  Quickstub window.performance.  r=peterv 
Bug 816425.  Mark a few more things [Constant] in IDL, especially ImageData.width/height.  r=peterv 
A lot of the changes here are just so I can actually build after including DocumentBinding.h in nsIDocument.h 
Bug 816421 followup.  Fix places that were not properly including things they depended on.  r=bustage 
Bug 819239.  Add the WebIDL API for HTMLDocument.  r=peterv 
Bug 819624 part 1.  Hook up the WebIDL bindings for HTMLDocument.  r=peterv 
Bug 819624 part 2.  Hook up the HTMLDocument WebIDL API to quickstubs.  r=peterv 
Bug 824448 part 1.  Rename nsHTMLHeadingElement to mozilla::dom::HTMLHeadingElement.  r=peterv 
Bug 824448 part 2.  Switch HTMLHeadingElement to WebIDL bindings.  r=peterv 
Bug 820909.  Make LowerCaseEqualsASCII and LowerCaseEqualsLiteral actually do ASCII-case-insensitive matching instead of doing odd things with KELVIN SIGN and LATIN CAPITAL LETTER I WITH DOT ABOVE.  r=bsmedberg, sr=dbaron 
Bug 824448 followup to fix test bustage.  r=peterv expected 
Bug 817943 part 1.  Introduce a GetTempRegForIntArg function that can be used to get registers to store things you plan to pass to a function call in, and use it for DOM getters/setters/methods.  r=pierron 
Bug 817943 part 2.  Make the x86-64 and ARM versions of passABIArg not generate no-op moves and add asserts to the moveResolver that there are no such moves.  r=pierron,mjrosenberg 
Bug 825365.  Fix the softp version of MacroAssemblerARMCompat::passABIArg to not add no-op register moves to the MoveResolver.  r=mjrosenb 
Bug 825025.  MaybeWrapValue should work with all gcthings.  r=peterv 
Bug 822691.  Need to enter the right compartment before working with objects from it.  r=smaug 
Bug 824917.  Add hasInstanceInterface to the DOM element classes we've converted that people use instanceof with.  r=peterv 
Bug 824824.  Add support for passing multiple touches as arguments to createTouchList.  r=mbrubeck,peterv 
Bug 819845.  Update WebIDL bindings to spec change: sequences/arrays are no longer distinguishable from dictionaries, and conversion to a sequence works on arbitrary objects.  r=khuey 
Bug 821177.  [TreatNonCallableAsNull] should only affect attribute setters.  r=khuey 
Bug 821580.  Disallow [Unforgeable] on static attributes, per spec update.  r=khuey 
Bug 825288.  Handle SOWs correctly in MaybeWrapValue.  r=peterv 
Bug 811753 - Add nsIContent::IsEventAttributeName and use it instead of having callers guess the right flags for the content node in question.  r=bzbarsky. 
Bug 823225.  Move .wrappedJSObject from nsWindowSH::GetProperty to the outer window get hook.  r=mrbkap 
Bug 825527 - Part 1: Look through an Xray wrapper at our images in tests so that we always see the QueryInterface method on them; r=bzbarsky 
Bug 825527 - Part 2: Rename nsHTMLImageElement to mozilla::dom::HTMLImageElement; r=bzbarsky 
Bug 825527 - Part 3: Move HTMLImageElement to WebIDL bindings; r=bzbarsky 
Bug 825527 - Part 4: Mirror the nsIImageLoadingContent API in HTMLImageElement for chrome callers; r=bzbarsky 
Bug 825527 - Part 5: Turn on the WebIDL bindings for HTMLImageElement; r=bzbarsky 
Bug 810644 part 1.  Switch setTimeout and setInterval to using WebIDL callback functions.  r=smaug, sr=peterv 
Bug 810644 part 2.  Eliminate the now-unused CallEventHandler.  r=smaug, sr=peterv 
Bug 818050.  Teach the JIT about DOM method and getter return types so that it doesn't have to type-guard when unboxing the boxed value in many cases.  r=jandem,peterv 
value are not relevant to us so far. 
normal callback arguments, but not the overload/union case. 
Specifically, any object that's not a Date or RegExp can implement a callback interface. 
Bug 820665 part 4.  Remove no-longer-used IsPlatformObject.  r=khuey 
Bug 810644 followup to fix -Werror red in opt builds. r=bustage 
Bug 815847 - Part 4: Implement a hidden private window managed by the app shell service; r=bzbarsky 
Bug 815847 - Part 5: Ignore the hidden private window when sending the last-pb-context-exited notification; r=bzbarsky 
Bug 826602 - Rename nsHTMLCanvasElement to mozilla::dom::HTMLCanvasElement; r=bzbarsky 
Bug 826602 - Rename nsHTMLCanvasElement to mozilla::dom::HTMLCanvasElement; r=bzbarsky 
Bug 826423.  Fix SpecialPowers.wrap() to reliably detect Xrays.  r=peterv 
Bug 824823 part 0.  Fix a test to keep using an XPCWrappedNative element for now until bug 825053 is fixed.  Verbal r=peterv 
Bug 824823 part 1.  Rename nsHTMLAnchorElement to mozilla::dom::HTMLAnchorElement.  r=peterv 
Bug 824823 part 2.  WebIDL binding for HTMLAnchorElement.  r=peterv 
Bug 824823 part 3.  Rename nsHTMLOListElement.cpp to something sane and move the class declaration into a header.  r=peterv 
PrototypeIDMap templates to completely fail to deal. 
Bug 824823 part 5.  Rename nsHTMLLIElement to mozilla::dom::HTMLLIElement and move the class declaration into a header.  r=peterv 
Bug 824823 part 6.  Move HTMLLIElement to WebIDL bindings.  r=peterv 
Bug 824823 part 7.  Implement WebIDL CharacterData API on nsGenericDOMDataNode.  r=peterv 
Bug 824823 part 8.  Convert nsTextNode to WebIDL.  r=peterv 
Bug 824823 part 9.  Convert Comment to WebIDL.  r=peterv 
Bug 824823 part 10.  Rename nsHTMLParagraphElement to mozilla::dom::HTMLParagraphElement and move the class declaration into a header.  r=peterv 
Bug 824823 part 11.  Switch HTMLParagraphElement to WebIDL.  r=peterv 
Bug 824823 part 12.  Rename nsHTMLPreElement to mozilla::dom::HTMLPreElement and move the class declaration into a header.  r=peterv 
Bug 824823 part 13.  Switch HTMLPreElement to WebIDL.  r=peterv 
Bug 824823 part 14.  Rename nsHTMLSpanElement to mozilla::dom::HTMLSpanElement and move the class declaration into a header.  r=peterv 
Bug 824823 part 15.  Switch HTMLSpanElement to WebIDL.  r=peterv 
Back out bug 810644 for now to fix bug 827035, until we manage to fix bug 765780.  r=stuff-is-broken 
Bug 827214.  Fix HTML lists to really be webidl.  r=peterv 
Back out bug 810644 for now to fix bug 827035, until we manage to fix bug 765780.  r=stuff-is-broken 
Make OrientationSyncPrefsObserver final, no bug, blanket-r=bzbarsky 
Bug 827654.  Actually QI to interfaces we implement in nsCancelableRunnable.  r=smaug 
Bug 827188 - Initialize the hidden private window lazily; r=bzbarsky 
Bug 827188 - Initialize the hidden private window lazily; r=bzbarsky 
Bug 822721:  Call CalcStyleDifference and process the style change list resulting from the miniflush we do to update throttled animations prior to seeing if we need to start transitions.  r=bzbarsky  a=blocking-basecamp
Bug 826703 part 1.  Rename nsXMLCDATASection to mozilla::dom::CDATASection.  r=peterv 
Bug 826703 part 2.  Convert CDATASection to WebIDL.  r=peterv 
Bug 826703 part 3.  Rename nsXMLProcessingInstruction to mozilla::dom::ProcessingInstruction.  r=peterv 
Bug 826703 part 4.  Convert ProcessingInstruction to WebIDL.  r=peterv 
Bug 828000 - Don't generate the `isNull' local variable if it's not needed; r=bzbarsky 
Bug 822721:  Call CalcStyleDifference and process the style change list resulting from the miniflush we do to update throttled animations prior to seeing if we need to start transitions.  r=bzbarsky
Bug 827579:  Remove post-resolve callback concept from style system.  r=bzbarsky 
Bug 827704:  Fix 'visibility' animation so that it doesn't animate between values when one of them is not 'visibile'.  r=bzbarsky 
Back out revision f18ed13abcea (bug 827960) for turning Windows debug builds purple.  They bruise easily! 
Bug 824237.  Add support for "partial interface" to WebIDL parser.  r=khuey 
Bug 608735.  Fix getAllResponseHeaders for cross-origin requests to actually expose the headers CORS says it can expose.  r=bzbarsky 
Bug 827698:  Use the length of the 'animation-name' list when determining how many animations to run.  r=bzbarsky
Bug 827717:  Change record of CSS animation start to be before delay so that dynamic changes to animation-delay are honored.  r=bzbarsky
Bug 827687:  Fix edge case in calculation of whichIteration.  r=bzbarsky 
Bug 827687, patch 2:  Be more careful walking segments.  r=bzbarsky 
Bug 827577. Be a lot more careful about saving and restoring frame constructor state for fixed-pos descendants of CSS-transformed elements. r=bzbarsky 
Bug 827799.  Apply clip to outer table frames as needed.  r=roc 
Bug 828139.  Expose a friend API for AppendUnique.  r=waldo 
Bug 830614.  Wrapping a wrappercached WebIDL object should watch out for reentry via WrapNativeParent.  r=peterv 
Bug 830553.  Make the asserts in nsWrapperCache.h fatal.  r=mccr8 
Bug 829363 - Make :scope match style scope roots. r=bzbarsky 
Bug 827158 - Part 1: Rename nsHTMLObjectElement to mozilla::dom::HTMLObjectElement; r=bzbarsky 
Bug 827158 - Part 2: Rename nsDOMValidityState to mozilla::dom::ValidityState; r=bzbarsky 
Bug 827158 - Part 1: Rename nsHTMLObjectElement to mozilla::dom::HTMLObjectElement; r=bzbarsky 
Bug 827158 - Part 2: Rename nsDOMValidityState to mozilla::dom::ValidityState; r=bzbarsky 
Bug 827158 - Part 3: Move the ValidityState API to Web IDL bindings; r=bzbarsky 
Bug 831198.  Make _arrowScrollAnim.stop() and _scrollAnim.stop() actually cancel the pending requestAnimationFrame callback.  r=dao 
Bug 823228 part 1.  Make browser-test.js ignore indexed properties on the window when determining whether a test leaked properties onto the global.  r=dao 
Bug 823228 part 2.  Move indexed property access on windows from nsWindowSH::GetProperty to the outer window proxy.  r=bholley 
Bug 831354, test fix 1:  Make continuous-inline-1{cd} tests no longer assume that the height of an inline in the default font is less than 20px.  r=bzbarsky 
Bug 831780.  Only count the broken-image placeholder in the visual overflow, not the scrollable overflow.  r=mattwoodrow 
Bug 234628 part 2 - Make manual encoding overrides not apply to internal URL schemes or to docs declared as UTF-16 on the HTTP level; make docshells able to report when the encoding menu should be disabled. r=bzbarsky. 
Bug 234628 part 4 - Test cases for character encoding override code. r=bzbarsky. 
Bug 774980.  Hook up nsCSSKeyframeRule to cycle collection.  r=smaug 
Bug 832435 - Fix compartment handling for EvaluteString and javascript: uris.  r=bzbarsky 
Bug 828787.  Stop allowing indexed expandos on windows.  r=peterv 
Bug 830192. Integrate GetFixedContainingBlock into GetAbsoluteContainingBlock and ensure only elements which can be abs-pos containing blocks are turned into fixed-pos containing blocks when transformed. r=bzbarsky 
Bug 832899.  Make sure our canonical isupports matches what various consumers expect.  r=smaug 
Bug 830192. Integrate GetFixedContainingBlock into GetAbsoluteContainingBlock and ensure only elements which can be abs-pos containing blocks are turned into fixed-pos containing blocks when transformed. r=bzbarsky 
Bug 830192. Integrate GetFixedContainingBlock into GetAbsoluteContainingBlock and ensure only elements which can be abs-pos containing blocks are turned into fixed-pos containing blocks when transformed. r=bzbarsky 
Bug 822470 part 1.  Factor out the code that callback functions and callback interfaces will be able to share into a CallbackObject class.  r=peterv 
Bug 822470 part 2.  Create a CallbackInterface helper class.  r=peterv 
Bug 822470 part 3.  Include headers as needed for callback interfaces.  r=peterv 
Bug 822470 part 4.  Expose the concept of "single operation interface" in the WebIDL data model.  r=peterv 
Bug 822470 part 5.  Refactor callback codegen so it can be reused for callback interfaces too.  r=peterv 
Bug 822470 part 6.  Hook up callback interface codegen.  r=peterv 
NodeFilter, EventListener, and DOMTransaction will be updated to use the new codegen once we've fixed the consumers. 
Bug 795896.  Speed up UnwrapProxy, since we know what we have there is either an Xray or our proxy.  r=peterv 
Bug 830099.  Flag WebIDL dictionaries and callbacks with some information indicating whether we need main-thread and worker codegen for them and then use that information to skip unneccessary codegen.  r=peterv 
Bug 835169:  Remove unused mapping into style of table cols attribute.  r=bzbarsky 
Bug 795896.  Speed up UnwrapProxy, since we know what we have there is either an Xray or our proxy.  r=peterv 
Bug 830099.  Flag WebIDL dictionaries and callbacks with some information indicating whether we need main-thread and worker codegen for them and then use that information to skip unneccessary codegen.  r=peterv 
Always build RTCIceServer.webidl, since it doesn't rely on WebRTC machinery, and is needed in DummyBinding.  Followup for bug 830099. 
Bug 832788. Part 4: PrimitiveConversions should avoid implicit narrowing casts to avoid compiler warnings; make them explicit. r=bzbarsky 
Bug 820508 part 2 - UA stylesheet for <main>. r=bzbarsky. 
Bug 830099.  Flag WebIDL dictionaries and callbacks with some information indicating whether we need main-thread and worker codegen for them and then use that information to skip unneccessary codegen.  r=peterv 
Bug 834785.  Make sure to not ask the JS engine for return values in toplevel scripts, so it'll be able to ion-compile them as needed.  r=bholley 
Bug 829072 part 1.  Move the event handlers that are shared by HTMLElement, Document, and Window onto a GlobalEventHandlers interface that can be on the RHS of 'implements'.  r=peterv 
Bug 829072 part 2.  Move the event handlers that are shared by HTMLElement and Document onto a NodeEventHandlers interface that can be on the RHS of 'implements'.  r=peterv 
Bug 829072 part 3.  Move the event handlers that are shared by HTMLBodyElement, HTMLFramesetElement, and Window onto a WindowEventHandlers interface that can be on the RHS of 'implements'.  r=peterv 
Bug 829252 part 1.  Change nsGlobalWindow to use nsIDOMEventTarget as the canonical isupports instead of nsIScriptGlobalObject.  We'll need this to be able to cast to it properly in binding code.  r=peterv 
Bug 829252 part 2.  Make nsGlobalWindow inherit from dom::EventTarget and ensure that all the things that inherit from it correctly QI to it.  r=peterv 
Bug 829252 part 3.  When wrapping things with an nsISupports in XPCWrappedJS for WebIDL callback interfaces, use the aggregated version.  r=peterv 
Bug 829252 part 4.  Turn on the EventTarget quickstubs.  r=peterv 
Bug 834877 part 1.  Add a DOMString struct to use for binding return values. r=peterv 
Bug 834877 part 2.  Start using DOMString as the return value for strings.  r=peterv 
Bug 834877 part 3.  Add faster DOMString-to-JS conversion code.  r=peterv 
Bug 834877 part 4.  Add overloads of GetAttr() and GetId() that take a DOMString.  r=peterv 
Bug 834877 part 5.  Add an overload of GetAttribute that takes a DOMString.  r=peterv 
Bug 829252 followup.  Now that WindowRoot has a wrapper cache, we need to be able to deal with ConstructSlimWrapper on things that have no classinfo.  r=peterv pending, but landing on CLOSED TREE now to fix orange. 
Fix comment.  Followup for bug 834877.  DONTBUILD 
swapFrameLoaders is no longer an XPConnect method. 
The various includes being removed are either fully on WebIDL now or using WebIDL quickstubs. 
Back out bug 829867 (rev 2a0424e177c1) on suspicion of Ts regression 
Back out bug 824589 (rev 22695cac3896) on suspicion of Ts regression 
Bug 835417 part 1.  Mark Node.namespaceURI as not throwing, since [Constant] things aren't allowed to throw (though we were not enforcing that).  r=peterv 
Bug 835417 part 2.  Implement WebIDL parser and codegen support for marking things pure.  r=peterv 
Bug 835417 part 3.  Add the notion of aliasing DOM stuff to MIR and flag MGetDOMProperty with the right alias set if it's pure.  r=jandem 
Bug 835417 part 4.  Flag a bunch of DOM getters as [Pure].  r=peterv 
swapFrameLoaders is no longer an XPConnect method. 
The various includes being removed are either fully on WebIDL now or using WebIDL quickstubs. 
Bug 836050 part 1.  Make Element::GetAttr non-virtual.  r=smaug 
Bug 836050 part 2.  Make Element::HasAttr non-virtual.  r=smaug 
Bug 836050 part 3.  Make Element::AttrValueIs non-virtual.  r=smaug 
Bug 836050 followup.  Rev the nsIContent and Element IIDs.  r=smaug 
Bug 836050 part 1.  Make Element::GetAttr non-virtual.  r=smaug 
Bug 836050 part 2.  Make Element::HasAttr non-virtual.  r=smaug 
Bug 836050 part 3.  Make Element::AttrValueIs non-virtual.  r=smaug 
Add a test for WebIDL-weakmap stuff in addition to XPConnect-weakmap.  No bug, no review 
Bug 836530:  Make all non-ASCII characters be CSS identifier characters.  r=bzbarsky
Bug 792263 - Implement decodeAudioData; r=bzbarsky,cpearce,padenot 
Bug 837416 - Part 1: Rename nsHTMLStyleElement to mozilla::dom::HTMLStyleElement; r=bzbarsky 
Bug 837416 - Part 2: Move HTMLStyleElement to Web IDL bindings; r=bzbarsky 
Bug 837416 - Part 1: Rename nsHTMLStyleElement to mozilla::dom::HTMLStyleElement; r=bzbarsky 
Bug 837416 - Part 2: Move HTMLStyleElement to Web IDL bindings; r=bzbarsky 
Bug 837520 - Part 1: Rename nsHTMLBRElement to mozilla::dom::HTMLBRElement; r=bzbarsky 
Bug 837520 - Part 2: Move HTMLBRElement to Web IDL bindings; r=bzbarsky 
Bug 836822.  Convert MathML elements to WebIDL.  r=peterv 
Bug 830992 part 1.  Make it possible to pass CallbackObject& as the thisObj for callback functions.  r=peterv 
Bug 830992 part 2.  Switch DOMTransaction to WebIDL codegen.  r=wchen,peterv 
dependency on the actual definition of FakeDependentString. 
Bug 836920 followup.  Fix warnins-as-errors bustage. r=tree-is-aflame-dance-around-it 
Bug 838518 part 1.  Fix treewalker callers per the API change that was made.  r=smaug 
Bug 838518 part 2.  Fix nodeiterator callers per the API change that was made.  r=smaug 
Bug 837645.  Support 'any' values in sequences and dictionaries.  r=smaug,peterv 
Bug 837031.  When unlinking a keyframe rule, make sure to DropReference on its declaration.  r=smaug 
Bug 836850.  Allow a single C++ class to implement multiple WebIDL interfaces.  r=peterv 
Bug 839116 part 1.  Rename nsHTMLSharedElement to HTMLSharedElement.  r=ms2ger 
Bug 839116 part 2.  Convert HTMLSharedElement to WebIDL.  r=ms2ger 
Bug 839116 part 3.  Add tests for HTMLSharedElement attribute reflection.  r=ms2ger 
Bug 839116 followup.  Stop depending on <html> elements having a content-visible QueryInterface in the poor CLOSED TREE.  r=mrbkap 
Bug 835007:  Make 'transition-property: all' work as an item within a list.  r=bzbarsky
Bug 765599:  Make CSS insertRule methods throw SYNTAX_ERR when given an empty rule or more than one rule.  r=bzbarsky
Bug 836990. Put fixed-pos items in the abs-pos list of the container whenever it doesn't have a fixed-pos list. It's simpler this way and handles all edge cases. r=bzbarsky 
Bug 618479 part 1.  Clean up the nsTArray binary-insert code a little bit.  r=jlebar,kinetik 
Bug 618479 part 2.  Use binary, not linear, search to determine timer insertion locations.  r=brendan 
Bug 833808 part 1.  Inspector code should be IMPL_NS_LAYOUT.  r=dbaron 
Bug 833808 part 2.  Add some utilities for working with selectors to inspector utils.  r=dbaron 
Bug 840614.  Fix the browserelement auth tests to not throw exceptions and actually test what they mean to test.  r=jdm 
Bug 833808 followup.  Placate over-strict test in CLOSED TREE. 
Bug 836329:  Fix regression handling 'rem' units in media queries.  r=bzbarsky
Bug 841225 - Do not create frames for HTML elements within a <tspan>. r=bzbarsky 
Bug 840898.  Flag our nullable return value as actually being nullable.  r=tbsaunde 
Another option would be to save it before we createUnique too, and just assume that this name is only used if the user really wants it so it's OK to overwrite files with it. 
Bug 822674.  Give RTCPeerConnection a sane classinfo.  r=jst,jesup.  r=peterv pending 
Bug 822674 followup to disable this test on Android.  r=jesup 
Bug 841404.  Make sure that we treat dictionaries inside sequence and array members of a dictionary as dependencies for it.  r=peterv 
Bug 563195:  Fix -Wshadow warnings in layout/style.  r=bzbarsky 
Bug 839088 part 1.  Add a way to throw a JS::Value on an ErrorResult.  r=peterv 
Bug 839088 part 2.  Add way to indicate to a CallSetup that it should propagate any exceptions thrown during the call out to the ErrorResult for the call.  r=peterv 
Bug 839088 part 3.  Add a way for callers of callback methods to ask for any exceptions from the callback to be rethrown on the ErrorResult.  r=peterv 
Bug 838691 part 1.  Add support in Prefable for calling a function to determine whether a property should be exposed in a WebIDL binding.  r=peterv 
Bug 838691 part 2.  Add codegen support for calling a function to determine whether a property should be exposed in a WebIDL binding.  r=peterv 
Bug 838691 part 3.  Switch touch event handler attributes to using a function to check whether they're enabled.  r=peterv 
I've manually verified that the generated code for this looks like it should. 
Bug 838691 part 5.  Uncomment touch stuff on Document, since now it's controlled on a per-member basis, which is supported even for quickstubs.  r=peterv 
Bug 842376 - Update HTMLImageElement's named constructor to use optional arguments; r=bzbarsky 
Bug 827976: Part 1 - Create hidden windows lazily on non-Mac platforms. r=bzbarsky 
Bug 827976: Part 2 - Remove unused getHiddenWindowAndJSContext function. r=bzbarsky 
Bug 838582 - Part 1: Rename nsHTMLTextAreaElement to mozilla::dom::HTMLTextAreaElement; r=bzbarsky 
Bug 832920.  Add a way for chrome iframes to opt into having a separate refresh driver (e.g. if they plan to be moved between windows) and make devtools use that opt-in.  r=tnikkel,paul 
Bug 842726.  Kill off GetterShim and the classinfo support for chrome-only stuff on Document now that we can do that via WebIDL.  r=peterv 
really. 
Bug 838582 - Part 2: Move HTMLTextAreaElement to Web IDL bindings; r=bzbarsky 
Bug 838582 - Part 2: Move HTMLTextAreaElement to Web IDL bindings; r=bzbarsky 
Bug 842726.  Kill off GetterShim and the classinfo support for chrome-only stuff on Document now that we can do that via WebIDL.  r=peterv 
really. 
Bug 844322.  Make plug-in getters and setters JSPROP_SHARED so they don't get shadowed by expandos on the DOM nodes.  r=jst 
Bug 844169 - Part 1: Rename nsHTMLIFrameElement to mozilla::dom::HTMLIFrameElement; r=bzbarsky 
Bug 845313.  Make mochitest-ipcplugins actually pay attention to the TEST_PATH.  r=bsmedberg 
Bug 838686 part 1.  Add a helper class that can store a WebIDL callback or an XPCOM interface.  r=peterv 
Bug 838686 part 2.  Use NodeFilterHolder in treewalker and nodeiterator and start using WebIDL codegen for NodeFilter.  r=peterv 
Back out changeset 1c851a5bbc9f (bug 838686) because it depends on a changeset gcc doesn't like 
Back out changeset a4763990a983 (bug 838686) because gcc doesn't like it and we get a CLOSED TREE. 
Bug 838686 part 1.  Add a helper class that can store a WebIDL callback or an XPCOM interface.  r=peterv 
Bug 838686 part 2.  Use NodeFilterHolder in treewalker and nodeiterator and start using WebIDL codegen for NodeFilter.  r=peterv 
Bug 836816 - WebIDL parser should enforce spec restrictions on dictionary member types.  r=bzbarsky 
Bug 444440 - Prioritize mailcap application over others in nsMIMEInfoUnix.  r=bzbarsky 
Bug 844169 - Part 3: Make sure that all callers of HTMLIFrameElement.mozbrowser have chrome privileges; r=bzbarsky 
Bug 838642 - Introduce nsFrameList::StartRemoveFrame/ContinueRemoveFrame that can be used in concert to remove a frame in O(1) time from a set of frame lists when its exact frame list is unknown.  Use them to make nsContainerFrame::StealFrame O(1).  r=bzbarsky 
Bug 838642 - Remove nsContainerFrame::RemovePropTableFrame which is now unused.  r=bzbarsky 
Bug 838671 - Make nsBlockFrame::RemoveFloat O(1) and make it just do the frame removal bit and let DoRemoveOutOfFlowFrame do the Destroy part (with the intent of making RemoveFloat reusable for other code).  r=bzbarsky 
Bug 838679 - Make nsMenuFrame::RemoveFrame not use DestroyFrameIfPresent.  r=bzbarsky 
Bug 838706 - Remove Destroy/RemoveFrameIfPresent O(n) methods. All consumers are now using Start/ContinueRemoveFrame instead which are O(1).  r=bzbarsky 
Bug 838688 - Make ReparentFloats/CollectFloats not require a priori knowledge of which child list a float is expected to be on.  r=bzbarsky 
Bug 838688 - Optimize CollectFloats by doing an early return if this block doesn't have any floats.  r=bzbarsky 
Bug 840818 - Simplify PullFrameFrom when the last frame was removed from an overflow list (avoiding an assertion).  r=bzbarsky 
Bug 843332 - Make PullFrame drain the overflow list before calling PullFrameFrom that can then be simplified to only deal with mList/mFrames (should be minor perf win too).  r=bzbarsky 
Bug 843332 - Don't pass the nsBlockReflowState to PullFrameFrom that doesn't use it.  Add some assertions. r=bzbarsky 
Bug 843332 - Pass 'false' to ReparentFloats since we only added one frame ('true' only works because the added frame never has any siblings in this case).  r=bzbarsky 
Bug 832920.  Add a way for chrome iframes to opt into having a separate refresh driver (e.g. if they plan to be moved between windows) and make devtools use that opt-in.  r=tnikkel,paul 
autogenerating this stuff 
Bug 776536 part 1.  Rename nsNodeIterator to mozilla::dom::NodeIterator.  r=peterv 
Bug 776536 part 2.  Rename nsTreeWalker to mozilla::dom::TreeWalker.  r=peterv 
Bug 776536 part 3.  Add a WebIDL API to NodeIterator and TreeWalker.  r=peterv 
any case. 
Bug 832920.  Add a way for chrome iframes to opt into having a separate refresh driver (e.g. if they plan to be moved between windows) and make devtools use that opt-in.  r=tnikkel,paul 
autogenerating this stuff 
Bug 776536 part 1.  Rename nsNodeIterator to mozilla::dom::NodeIterator.  r=peterv 
Bug 776536 part 2.  Rename nsTreeWalker to mozilla::dom::TreeWalker.  r=peterv 
Bug 776536 part 3.  Add a WebIDL API to NodeIterator and TreeWalker.  r=peterv 
any case. 
Bug 845881.  Go back to allowing any 2xx response code to a preflight request, since web sites do that.  r=sicking 
This keeps simple sequence arguments and variadics using an auto array, while everything else uses a non-auto array. 
Bug 827158 part 4.  Split out an HTMLObjectElement header.  r=peterv 
Bug 827158 part 5.  Refactor some of the nsHTMLPluginObjElementSH code to be able to work with WebIDL objects.  r=peterv,johns 
Bug 827158 part 6.  Add a telemetry ping for object/embed callability actually working.  r=bsmedberg 
Bug 827158 part 7.  Make nsJSNPRuntime work with WebIDL objects.  r=peterv 
Bug 827158 part 8.  Implement legacycaller support in WebIDL.  r=peterv 
Bug 827158 part 9.  Implement support for having a NewResolve hook in WebIDL.  r=peterv 
Bug 827158 part 10.  Implement the WebIDL API for <object>.  r=peterv,johns 
Bug 827158 part 11.   Move HTMLObjectElement to Web IDL bindings.  r=peterv 
Bug 847001.  Make globalgen depend on the actual set of WebIDL files we're compiling, not just on the individual files.  r=khuey 
Bug 845960 - Fix a crash resulted from a missing nullcheck for the optional failure callback of decodeAudioData; r=bzbarsky 
Bug 847119.  Fix the "did the DOM call throw?" test in IonMonkey to check the return value correctly.  r=jandem 
Remove no longer used NodeIterator quickstubs.  No bug.  r=peterv 
Bug 847928 - Element type of a WebIDL array must not be a sequence or dictionary type. r=bzbarsky 
Bug 848644 - Do not flush when determining if a node is preformatted or not; r=bzbarsky 
Bug 570896:  Allow separate background-origin and background-clip to be set in the background shorthand.  r=bzbarsky 
Bug 804944, patch 2:  Also condition @-moz-keyframes parsing on the animations preference.  r=bzbarsky 
Add ids for CSS property aliases to the nsCSSProperty enum.  (Bug 849656, patch 1)  r=bzbarsky
Move names for aliases from gAliases into kCSSRawProperties.  (Bug 849656, patch 2)  r=bzbarsky 
Move enabled state for aliases from gAliases to gPropertyEnabled.  (Bug 849656, patch 3)  r=bzbarsky 
Make gAliases be just an array of ids.  (Bug 849656, patch 4)  r=bzbarsky 
Bug 804944, patch 2:  Also condition @-moz-keyframes parsing on the animations preference.  r=bzbarsky 
Bug 837339.  Re-disallow nullable dictionary members inside dictionaries.  r=khuey 
An alternative would be using out-of-line constructors and destructors for such dictionaries. 
Bug 839443.  Add an API for getting our supported CSS property names in inspector code.  r=dbaron 
Bug 848745 part 1.  Add a scriptable API for converting CSS color names to RGB triples.  r=dbaron,miker 
Bug 848745 part 2.  Add a scriptable API for converting RGB triples to CSS color names.  r=dbaron,miker 
Bug 847209 - Don't assert if the frame is in the kOverflowList child list.  r=bzbarsky 
Bug 849603 - Make sure we use StartRemoveFrame for the first (existing) list to remove from.  r=bzbarsky 
Bug 851485 - Restoring scroll position from history should only suppress one scroll-to-anchor.  r=bzbarsky 
Bug 843627 part 1.  Rename nsHTMLSharedObjectElement to HTMLSharedObjectElement.  r=peterv 
Bug 843627 part 2.  Implement the WebIDL API for <embed> and <applet>.  r=peterv 
Bug 843627 part 3.  Enable WebIDL bindings for <embed> and <applet>.  r=peterv 
Bug 843627 part 4.  Add IDL attribute reflection tests for <embed>, <applet>, <object>.  r=peterv 
Bug 846972 part 1.  Make nsCSSStyleSheet wrappercached.  r=mccr8 
Bug 846972 part 2.  Add the WebIDL APIs for StyleSheet and CSSStyleSheet.  r=peterv 
Bug 846972 part 3.  Switch CSSStyleSheet to WebIDL.  r=peterv 
Bug 812617 - Provide a JSBindingFinalized hook for the native classes using Web IDL bindings to know when their JS wrapper has been finalized; r=bzbarsky 
Bug 823227 - Tests. r=bholley 
Bug 851584.  Don't generate a Length() on our C++ example class to handle our indexed getter if we already have a 'length' attribute in the WebIDL.  r=jst 
Bug 852118.  Stop window.name being malloc-happy.  r=smaug 
Bug 852408.  Don't reframe the parent if a frame whose next sibling is a table pseudo is removed, unless its prev sibling is also a table pseudo.  r=dholbert 
Bug 852428 part 1.  Make CreateViewForFrame infallible.  r=dholbert 
Bug 852428 part 2.  Make nsIFrame::Init infallible.  r=dholbert 
Bug 852501 part 1.  Make CreatePlaceholderFrameFor infallible.  r=dholbert 
Bug 852501 part 2.  Make nsFrameConstructorState::AddChild infallible.  r=dholbert 
Bug 852501 part 3.  Make some callees of CreateContinuingFrame infallible.  r=dholbert 
Bug 852501 part 4.  Make CreateContinuingFrame infallible.  r=dholbert 
Bug 852501 part 5.  Make InitAndRestoreFrame infallible.  r=dholbert 
Bug 852501 part 6.  Make ConstructTextFrame infallible.  r=dholbert 
Bug 852501 part 7.  Make WrapFramesInFirstLineFrame and AppendFirstLineFrames infallible.  r=dholbert 
Bug 852501 part 8.  Make WrapFramesInFirstLetterFrame infallible.  r=dholbert 
Bug 852501 part 9.  Optimistically make ConstructFramesFromItemList infallible in the hope that this is the only thing that makes other things fallible.  r=dholbert 
Bug 852501 part 10.  Make ProcessChildren infallible.  r=dholbert 
Bug 852501 part 11.  Make FlushAccumulatedBlock infallible.  r=dholbert 
Bug 852501 part 12.  Make ConstructBlock infallible.  r=dholbert 
Bug 852501 part 13.  Clean up ConstructSelectFrame a bit to get rid of unreachable codepaths.  r=dholbert 
Bug 852501 part 14.  Make FrameFullConstructor implementations infallible.  r=dholbert 
Bug 852501 part 15.  Make ConstructFramesFromItem infallible.  r=dholbert 
Bug 852501 part 16.  Make ConstructFrame infallible.  r=dholbert 
Bug 852501 part 17.  Make ConstructRootFrame infallible.  r=dholbert 
Bug 852501 part 18.  Make ConstructDocElementFrame return an nsIFrame*.  r=dholbert 
Bug 852118 followup.  Fix the layout debugger to fix bustage 
Bug 748669 followup.  Only build Instruments.cpp if we're doing --enable-instruments.  r=peterv 
Bug 852846.  Make .style [PutForwards=cssText].  r=ms2ger 
Bug 852636.  Remove unused argument of InitAndRestoreFrame.  r=dholbert 
Bug 848386 part 1.  Don't preserve our wrapper until we have one so unforgeable property setup won't try to preserve it.  r=peterv 
Bug 848386 part 2.  Implement a WebIDL equivalent for nsDocumentSH::PostCreate setting up the document as an own property on the Window.  r=peterv 
Bug 848386 part 3.  Rename nsSVGDocument to mozilla::dom::SVGDocument.  r=peterv 
Bug 848386 part 4.  Rename nsXMLDocument to mozilla::dom::XMLDocument.  r=peterv 
Bug 848386 part 5.  Convert SVGDocument to WebIDL.  r=peterv 
Bug 853556 - Make nsRootedJSValueArray::SetCapacity return void; r=bzbarsky 
Bug 853567 - Fix nsTArray::SetCapacity callers in nsContentIterator to not look at the return value; r=bzbarsky 
Bug 853569 - Fix nsTArray::SetCapacity callers in nsXULContentSink to not look at the return value; r=bzbarsky 
Bug 853572 - Fix nsTArray::SetCapacity callers in nsXULElement to not look at the return value; r=bzbarsky 
Bug 852803.  nsHTMLCanvasFrame::Init should call its superclass' init, not some random ancestor class.  r=tn 
Bug 815492 - Pause Web Audio playback when entering the bfcache, and resume it when coming out of the bfcache; r=bzbarsky 
Bug 853718 - Pause the AudioContext when it is being torn down; r=bzbarsky 
Bug 848895 part 1.  Always hold an on-stack strong reference to mRules when calling into it.  r=ehsan 
Bug 848895 part 2.  Null-check the pointer to the editor that the edit rules hold.  r=ehsan 
Bug 822281.  Stop assuming XPCOM timers can't fire early (at least where IEEE doubles are concerned).  r=avih 
Bug 832899 followup to add a test. 
Bug 852670 - Make nsContainerFrame::SetPropTableFrames return void since it's infallible.  r=bzbarsky 
Bug 851841 - Make nsListBoxBodyFrame::RemoveChildFrame assertions fatal.  r=bzbarsky 
Bug 851848 - Remove OOM checks for the result of NewLineBox now that PresArena allocations are infallible.  r=bzbarsky 
Bug 851848 - Remove the OOM check for allocating the BulletFrame now that PresArena allocations are infallible.  r=bzbarsky 
aFrameList is empty.  r=bzbarsky 
Bug 851847 - Optimize nsBlockFrame::StealFrame when removing a normal flow child.  r=bzbarsky 
Bug 851847 - Optimize nsBlockFrame::StealFrame when removing a normal flow child.  r=bzbarsky 
Bug 849657 patch 1: Expose CSS_PROP_PUBLIC_OR_PRIVATE macro to users of nsCSSPropList.h rather than CSS_PROP_DOMPROP_PREFIXED, so that we can avoid 'CssFloat' spreading even further.  r=bzbarsky 
Bug 849657 patch 2: Change internal uses of 'CssFloat' to 'Float'.  r=bzbarsky 
Bug 848796 part 1.  Rename nsXULDocument to mozilla::dom::XULDocument.  r=ms2ger 
Bug 848796 part 2.  Add WebIDL API for XULDocument.  r=peterv 
Bug 848796 part 3.  Convert XULDocument to WebIDL.  r=peterv 
Bug 848332 part 1.  Add WebIDL API for XMLDocument.  r=peterv 
Bug 848332 part 2.  Switch XMLDocument to WebIDL.  r=peterv 
Bug 848840.  Sniff the first 1024 bytes, not the first 512, for charsets, since <meta> can be anywhere in the first 1024 bytes.  r=annevk 
Bug 851162.  Make the auto-generated WrapObject in JS-implemented WebIDL codegen MOZ_OVERRIDE.  r=mccr8 
Bug 853910 part 1.  Stop using prclist for our list of ListenerCollections.  r=khuey 
Bug 853910 part 2.  Stop using prclist for individual ListenerCollections.  r=khuey 
Bug 855025.  Always do Xrays for DOM interface objects.  r=peterv 
Bug 607441 part 1.  Don't disable SVG presentational attributes when page styles are disabled.  r=dbaron,jwatt 
Bug 607441 part 2.  Mark the scoped sheet rule processor dirty when author styles are enabled or disabled.  r=dbaron 
Bug 820657.  Implement the NamedGetter on HTMLDocument.  r=peterv 
Bug 854001 part 1.  Give workers that are pretending to be on WebIDL bindings separate JSClasses for instance objects and prototype objects.  r=peterv,bent 
Bug 854001 part 2.  Remove a null check in bindings code that is no longer needed because workers no longer use a DOMJSClass for prototype objects.  r=peterv,bent 
Bug 851781.  Make sure that we don't reenter scriptblocker removal when we don't expect to.  r=smaug 
Bug 729519 - Use SafelyDestroyFrameListProp also for the OverflowList.  r=bzbarsky 
Bug 729519 - Simplify DestroyOverflowList() by requiring that the list is empty.  r=bzbarsky 
Bug 729519 - Allocate nsFrameList::sEmptyList from the .rodata segment, not the heap.  r=bzbarsky 
Bug 729519 - Make frames destroy all child frames and remove their nsFrameList properties when destroyed.  r=bzbarsky
Bug 729519 - Allocate heap nsFrameLists from the shell arena.  r=bzbarsky
Bug 792215.  Convert quickstubs to using JSNative getters and setters. r=peterv 
The change to enum wrapping is just to fix an indentation bug I ran into while reading the generated code for some of these test methods. 
Bug 854439.  Expose the underlying JS object of scripted event listeners on nsIEventListenerInfo.  r=smaug 
Bug 855990 - Part 1: Implement the DOM bindings to AnalyserNode; r=bzbarsky 
Bug 855990 - Part 1: Implement the DOM bindings to AnalyserNode; r=bzbarsky 
Bug 856752.  Reinstate Node.hasAttributes.  r=khuey 
Bug 856833 part 1.  Make JS_ObjectIsDate use ObjectClassIs.  r=waldo 
Bug 856833 part 2.  Make JS_ObjectIsRegExp use ObjectClassIs.  r=waldo 
Bug 856833 part 3.  Rip out no longer needed proxy-unwrapping code.  r=waldo 
Bug 856215.  Fix conversion of sequences of sequences to JS to not screw up its indexing.  r=khuey 
Bug 855582 part 1.  Make JS_DefineFunctions and JS_DefineProperties take const function specs and property specs respectively.  r=waldo 
Bug 855582 part 2.  Make the bindings' various spec arrays const, and make the jitinfo structs static.  r=khuey 
Also fixes whitespace in _hasInstance and makes sure the .pp files are always in the same order 
Bug 852219 part 1.  Don't mark JS-implemented interfaces with descendant interfaces as final.  r=khuey,mccr8 
Bug 852219 part 2.  Add an infallible constructor for CallbackObjects which are already in the right compartment and use this to simplify construction of the autogenerated implementation of a JS-implemented WebIDL binding.  r=mccr8 
Bug 852219 part 3.  Handle JS-implemented interfaces having a parent interface.  r=mccr8 
Bug 852219 part 4.  Fix forward-declarations and includes for JS-implemented interfaces.  r=mccr8 
Bug 852219 part 5.  Add tests for JS-implemented interfaces inheriting from other interfaces.  r=mccr8 
Bug 852219 part 6.  Handle cases when the C++ class we want to actually inherit from is not the one that the WebIDL interface is mapped to.  r=mccr8 
Bug 856841.  Don't pass in an implicit JSContext based on argument or return value types for JS-implemented interfaces.  r=mccr8 
Bug 856819 part 1.  Refactor the dependency-sorting we do for dictionaries so that we can also use it for JS-implemented interfaces.  r=mccr8 
Bug 856819 part 2.  Sort js-implemented interfaces in a given file so that the declarations in C++ come in the right order.  r=mccr8 
Bug 855700.  Make returning an nsIVariant from a WebIDL interface work.  r=smaug 
Bug 857645.  Make it possible to copy-initialize an nsCOMPtr<T> from an already_AddRefed<U> as long as U inherits from T.  r=ehsan 
Bug 850090.  Don't assert things about our stylesheets during unlink, since our state can be kinda inconsistent then.  r=smaug 
Bug 765780 part 1.  Stop disallowing script and plug-ins in designMode documents.  r=ehsan 
I'm leaving the editing session APIs for enabling/disabling script and finding out whether the editing session has done that, in case someone else is using it. 
Bug 810644 part 1.  Switch setTimeout and setInterval to using WebIDL callback functions.  r=smaug, sr=peterv 
Bug 810644 part 2.  Eliminate the now-unused CallEventHandler.  r=smaug, sr=peterv 
Bug 857645.  Make it possible to copy-initialize an nsCOMPtr<T> from an already_AddRefed<U> as long as U inherits from T.  r=ehsan 
Bug 858671.  Make do_GetAtom infallible.  r=khuey 
Bug 688691.  Warn when LenientThis actually causes us to not throw.  r=ms2ger 
Bug 857417.  Trigger a fatal assertion when wrapping a wrappercached and nsISupports WebIDL object which has the wrapper cache before the nsISupports in its object layout.  r=khuey 
Bug 856428.  Don't try to root an uninitialized value.  r=peterv 
Back out Bug 810644 part 2 to fix b2g test_closeOnGC.html orange. 
Back out Bug 810644 part 1 to fix b2g test_closeOnGC.html orange on CLOSED TREE 
Bug 859594 - Remove AudioSourceNode; r=bzbarsky 
Bug 859602 - Remove AudioParam.minValue/maxValue; r=bzbarsky 
Bug 859675.  Return the canonical nsISupports from ToSupports(SpeechRecognition).  r=smaug 
Bug 859617.  Make WebGLContext's primary nsISupports its canonical nsISupports.  r=khuey 
Bug 857417.  Trigger a fatal assertion when wrapping a wrappercached and nsISupports WebIDL object which has the wrapper cache before the nsISupports in its object layout.  r=khuey 
Bug 851917.  Get rid of the classinfo for HTMLObjectElement, HTMLEmbedElement, HTMLAppletElement, and rip out nsHTMLPluginObjElementSH.  r=peterv,johns 
Bug 859503.  Make unknown extended attributes into parse errors.  r=khuey 
Bug 860473 part 1.  Root WebIDL dictionary ParseJSON.  r=evilpie, smaug 
Bug 860473 part 2.  Root WebIDL dictionary ToObject.  r=evilpie,smaug 
Bug 860473 part 3.  Root ErrorResult::ThrowJSException.  r=evilpie,smaug 
Bug 860551.  Fix instanceof for prototype-less interface objects to be saner.  r=dzbarsky 
Bug 861021 - Mark AudioBufferSourceNode.playbackRate as not-addrefed; r=bzbarsky 
Bug 859595 - Implement the alternate names for AudioBufferSourceNode, AudioContext and AudioParam; r=bzbarsky
Bug 810644 part 1.  Switch setTimeout and setInterval to using WebIDL callback functions.  r=smaug, sr=peterv 
Bug 810644 part 2.  Eliminate the now-unused CallEventHandler.  r=smaug, sr=peterv 
Bug 860591.  Install WebIDL quickstubs for event interfaces as needed.  r=smaug 
Back out bug 860591 (rev 8488f69f8f91) because it causes orange, resulting in a CLOSED TREE 
Bug 860591.  Install WebIDL quickstubs for event interfaces as needed.  r=smaug 
Bug 861064.  Root WebIDL dictionary Init.  r=smaug,terrence 
Bug 861325 - Use an optional NamedConstructor argument for HTMLAudioElement; r=bzbarsky 
Bug 849996. Check the correct frame for transforms in PushAbsoluteContainingBlock --- it might not be the containing block itself. r=bzbarsky 
Bug 862388.  Fix test_bug328885.html to actually test things.  r=bholley 
Right now it thinks its IID is the nsISupports IID! 
Bug 835643 part 2.  Store an EventListenerHolder, not an nsIDOMEventListener, in nsListenerStruct.  r=smaug 
Bug 835643 part 3.  Expose the ability to add WebIDL event listeners to an event listener manager via its API.  r=smaug 
Bug 835643 part 4.  Put in place all the infrastructure to switch EventListener to WebIDL codegen.  r=smaug 
Bug 850090.  Don't assert things about our stylesheets during unlink, since our state can be kinda inconsistent then.  r=smaug 
Bug 855866: Fire toplevel-window-ready after usePrivateBrowsing is initialized, but still before the document starts loading; r=bzbarsky 
Bug 862113.  Fix test for CSS2 pseudo-elements to not trigger assertions.  r=dholbert 
Bug 862610.  When we have named constructors, make sure we managed to set up an interface object before looking for them.  r=peterv 
Bug 849996. Check the correct frame for transforms in PushAbsoluteContainingBlock --- it might not be the containing block itself. r=bzbarsky 
Bug 862540.  Make window.status actually be settable (but have no effect unless the pref that no one ever sets is set).  r=smaug 
Bug 862917.  Remove the non-standard window.defaultStatus.  r=smaug,gavin 
This incidentally fixes bug 843355 
Bug 862077.  Even if we have a wrapper cache, don't assume that no cached wrapper means no wrapped native.: it's not true for inner windows.  r=peterv 
Test for bug 862702.  r=peterv 
Bug 855898 - Limit ProcessChildren recursion depth to avoid exhausting stack space and crashing.  r=bzbarsky 
Bug 863878 - The CSP logging from bug 821877 should go to the new Security Pane in the Web Console. r=bzbarsky r=ddahl 
Bug 799816.  Try to not have preload sheets (or other unreferenced sheets) hanging out in our mCompleteSheets hashtable.  r=dbaron 
Bug 864535.  Drop some comments from WebIDL proxy [[Delete]] implementations, since the spec has changed.  r=waldo 
Bug 843264.  Allow returning sequences of non-primitive types from callback methods.  r=mccr8 
Bug 862629 part 1.  Stop playing compartment games with WebIDL callbacks and just use the given object as-is.  r=peterv 
Bug 862629 part 2.  Remove the now-unused scope object bit in js-to-native conversions.  r=peterv 
Bug 864590.  Assert that the object is not null when wrapping WebIDL objects.  r=peterv 
Bug 865004 - Disconnect the AudioNode from the graph before deleting it; r=bzbarsky 
Bug 865004 - Disconnect the AudioNode from the graph before deleting it; r=bzbarsky 
Bug 731746 part 1.  Add a constructor on nsDOMEventTargetHelper that takes a window, for use by JS-implemented event targets.  r=smaug 
Bug 731746 part 2.  Change JS-implemented webidl codegen to pass an nsPIDOMWindow, not an nsISupports, to the object constructor.  r=mccr8 
Bug 731746 part 3.  Change JS-implemented webidl codegen to always invoke the parent constructor if there is a parent interface.  r=mccr8 
Bug 731746 part 4.  When wrapping a JS-implemented webidl object, define the new object as a property on the implementing object.  r=mccr8 
Bug 753453.  Add a way for us to pass a high-res timestamp to requestAnimationFrame callbacks.  r=roc 
Bug 704063.  Add an unprefixed version of requestAnimationFrame.  r=roc, sr=smaug 
I sort of wish GetGlobalJSObject just returned a handle. 
Bug 864727 part 2.  Pass a handle for the scope object to union conversions.  r=ms2ger,terrence 
Bug 864727 part 3.  Pass a handle for the parent object to WebIDL dictionary ToObject.  r=ms2ger 
Note: The JS::Rooted in CGWrapWithCacheMethod is just there until we start passing a handle to Wrap(). 
Bug 864727 part 5.  Make all the WrapObject methods take a handle for the scope object.  r=ms2ger 
Bug 864727 part 6.  Make all the WrapNode methods take a handle for the scope object.  r=ms2ger 
Bug 864727 part 7.  Make the WebIDL binding Wrap methods take a handle for the scope object and use a Rooted for the parent.  r=ms2ger 
Bug 863898.  Add support for dictionary arguments in JS-implemented WebIDL bindings.  r=mccr8 
8) Adds some friend API to report things as not being functions. 
Bug 766583 part 1.  Stop declaring dictionaries as const on the stack in bindings code.  r=smaug 
Bug 766583 part 2.  Stop declaring sequences as const on the stack in bindings code.  r=smaug 
Bug 766583 part 3.  Stop declaring nullable things as const on the stack in bindings code.  r=smaug 
Bug 766583 part 4.  Stop declaring strings as const on the stack in bindings code.  r=smaug 
Bug 766583 part 5.  Stop declaring optional arguments as const on the stack in bindings code.  r=smaug 
Bug 766583 part 6.  Stop declaring unions as const on the stack in bindings code.  r=smaug 
Bug 766583 part 7.  Stop declaring variadic arguments as const on the stack in bindings code.  r=smaug 
Bug 865940.  Remove AsMutable now that our binding stack variables aren't const.  r=bholley 
Bug 857555.  Make window.content return an existing named frame with that name if there is one.  r=bholley 
Bug 861643 - nsFirstLineFrame continuations should fixup its style context in Init instead of Reflow.  r=bzbarsky 
Bug 865964.  Remove dead WrapCallbackInterface code.  r=smaug 
Bug 865975.  Better rooting for the 'this', 'callable', and 'rval' values in WebIDL callbacks.  r=bholley 
Bug 717637.  Stop using non-global parent objects for everything that's not an element, since having a mix of parent objects makes us fail shape guards in the JIT.  r=peterv 
Bug 865961.  Root the scope argument of wrap-the-xpconnect-object helpers in WebIDL bindings.  r=ms2ger 
Bug 867312.  Expose some APIs for working with millisecond timestamps corresponding to JS dates.  r=waldo 
Bug 866545.  Remove the obsolete dom.enable_performance preference, so we can rely on things like performance.now() existing.  r=smaug 
Bug 861022 part 1.  Root the non-globals in WebIDL prototype and interface object setup.  r=peterv,terrence 
Bug 861022 part 2.  Root the global object in WebIDL prototype and interface object setup.  r=peterv,terrence 
Bug 860841.  Hook up the proto chain of a WebIDL interface object to the interface object of its nearest ancestor interface that has one, as if these were ES6 classes.  r=peterv 
Bug 742206 part 1.  Introduce a simple mozilla::dom::Date for use in WebIDL bindings.  r=smaug 
Bug 742206 part 2.  Implement WebIDL parser support for Date.  r=smaug,khuey 
Bug 742206 part 3.  Implement type conversions for Date in WebIDL.  r=smaug 
Bug 742206 part 4.  Start using the new Date stuff for HTMLInputElement.valueAsDate.  r=smaug 
Add test for bug 560072. 
Bug 742206 followup.  Fix unexpected passes so we can get rid of this CLOSED TREE. 
Bug 868266.  Root the arguments list in nsObjectLoadingContent::LegacyCall.  r=terrence 
Bug 865969 part 1.  Better rooting in bindings for 'object' arguments, as well as for worker interface arguments passed as JSObject*.  r=smaug 
Bug 865969 part 2.  Better rooting in bindings for 'any' arguments.  r=smaug 
Bug 865969 part 3.  Add ways of creating Handle<Value> holding null and undefined values.  r=terrence 
Bug 865969 part 4.  Pass handles to WebIDL dictionary init.  r=smaug,terrence 
Bug 865969 part 5.  Root the id argument of WebIDL DefineInterface methods.  r=smaug 
Bug 865969 part 6.  Fix rooting hazards in BindingUtils.cpp.  r=smaug 
Bug 865969 part 7.  Fix rooting hazards in DOMJSProxyHandler.cpp.  r=ms2ger 
Bug 865969 part 8.  Fix rooting hazards in CallbackObject.  r=ms2ger 
Bug 865969 part 9.  Remaining miscellaneous rooting fixes in WebIDL bindings.  r=ms2ger 
Bug 865785 part 1.  Go back to passing a JSContext* to the constructors for JS-implemented interfaces.  r=mccr8 
Bug 865785 part 2.  Fix rooting issues in JS-implemented webidl.  r=mccr8 
Bug 867844 part 1.  Fix rooting hazards in LegacyCall.  r=smaug 
Bug 867844 part 2.  Fix remaining rooting hazards in nsFrameMessageManager.cpp.  r=smaug 
Bug 867844 part 3.  Fix rooting issues in canvas 2d code.  r=smaug 
Bug 868765.  Make the jsid constructor for nsDependentJSString take a Handle.  r=ms2ger 
Bug 868448.  Fix the successCode in dictionary to-js conversions to actually work right, and document the requirements on successCode better.  r=smaug 
Bug 869311.  More rooting in dom/bindings and content/base.  r=smaug 
Bug 868102.  Don't swallow exceptions from the XPCOM/XPConnect goop when setting up a js-implemented webidl object.  r=mccr8 
Bug 867863.  Be a little more careful in GlobalObject initialization.  r=peterv 
Bug 869040.  Fix ion IC for non-overridebuiltins named gets on ListBase proxies to not cache lack of a property when it's just missing on the prototype.  r=djvj 
Bug 861587.  Rejigger the WebIDL binding build system to do all binding codegen in a single python process while still using our dependency tracking for bindings to minimize the number of bindings we try to regenerate.  r=khuey 
Bug 867903.  Speed up getDescriptors and some other obvious slow points in codegen.  r=khuey 
Bug 870219.  Add a way for chrome JS that's implementing a WebIDL interface to get/set event handlers sanely on content objects.  r=smaug 
Bug 868996.  Allow setting opener on the window to non-null, for just the lifetime of the page.  r=bholley 
Bug 869014.  Don't allow name collisions between external interfaces and other objects.  r=khuey 
Back out revision 52f646b2055c (bug 870219) because apparently worker code can't handle ChromeOnly properties 
Bug 870219 part 1.  Fix the chrome-scope checking for workers to work even if we incorrectly set up worker interface objects on the main thread.  r=bent 
Bug 870219 part 2.  Add a way for chrome JS that's implementing a WebIDL interface to get/set event handlers sanely on content objects.  r=smaug 
Bug 868996.  Allow setting opener on the window to non-null, for just the lifetime of the page.  r=bholley 
Bug 869014.  Don't allow name collisions between external interfaces and other objects.  r=khuey 
Disable probably-broken test to reopen a CLOSED TREE.  No bug, except the one filed to reenable, which is not the bug this changeset is fixing, so there. 
This is used by the Tor project, for example. 
Bug 870566.  Make dataset gets faster by spending less time messing with strings.  r=smaug 
Bug 828312, patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.  r=bzbarsky 
Bug 828312 patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.  r=bzbarsky
Bug 828312 patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.  r=bzbarsky
Bug 828312 patch 4:  Remove unused nsIPresShell::StyleChangeReflow.  r=bzbarsky 
Bug 828312 patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.  r=bzbarsky 
Bug 871315 - Fix some rooting hazards in content/; r=till,bzbarsky 
Bug 871315 - Fix some rooting hazards in content/; r=till,bzbarsky 
Bug 871338:  Handle NS_BLOCK_LOOK_FOR_DIRTY_FRAMES lazy marking in GetMinWidth and GetPrefWidth in addition to Reflow.  r=bzbarsky 
Bug 872043.  Add an API for getting the canonical Array.prototype for a global.  r=waldo 
Bug 870845.  Correctly check for parse-inaccessible properties in inDOMUtils::GetCSSPropertyNames.  r=heycam 
Bug 862825.  Stop trying to snapshot IPC crashtests or jsreftests.  r=roc 
Bug 869195.  Make QueryInterface be exposed for both chrome and xbl scopes, not just in chrome.  r=bholley,peterv 
Bug 872043.  Add an API for getting the canonical Array.prototype for a global.  r=waldo 
Bug 870845.  Correctly check for parse-inaccessible properties in inDOMUtils::GetCSSPropertyNames.  r=heycam 
Bug 862825.  Stop trying to snapshot IPC crashtests or jsreftests.  r=roc 
Bug 872399.  Don't codegen callback interfaces for worker descriptors.  r=smaug 
Bug 871177.  Fix rooting hazard in IsNotDateOrRegexp.  r=smaug 
Bug 869195.  Make QueryInterface be exposed for both chrome and xbl scopes, not just in chrome.  r=bholley,peterv 
Bug 868715 part 1.  Change instantiateJSToNativeConversionTemplate to return an object, to make its return value more extensible.  r=peterv 
Bug 868715 part 2.  Add the ability to request that the declType or holderType be constructed with a JSContext.  r=peterv 
Bug 868715 part 3.  Use on-stack Rooted<Value> for 'any' arguments in WebIDL bindings.  r=peterv 
Bug 868715 part 4.  Use on-stack Rooted<JSObject*> for 'object' arguments in WebIDL bindings.  r=peterv 
Bug 868715 part 5.  Give all dictionaries a single base class so we can tell when template arguments are dictionaries.  r=peterv 
Bug 868715 part 6.  Add the ability to trace sequence arguments.  r=peterv 
Bug 868715 part 7.  Add tracing to dictionaries.  r=peterv 
Bug 868715 part 8.  Add tracing to WebIDL sequence return values.  r=peterv 
Bug 868715 part 9.  Add tracing to WebIDL dictionary return values.  r=peterv 
Bug 868715 part 10.  Create specializations of Optional for 'any' and 'object' types so that we can have those look like Optional<Handle<Value> > and Optional<Handle<JSObject*> > respectively.  r=peterv,sfink 
Bug 767929 - Use Maybe instead of Optional for the holder object in new DOM binding code.  r=bzbarsky 
Bug 873209.  Trace the *vp of specialized DOM getters in Ion.  r=jandem 
Bug 873337.  Change the order of the decl and holder in js-to-native conversions to clean up the code some.  Now the holder always comes after the decl.  r=smaug 
Bug 868312 finale: finish rooting dom/ code.  r=smaug 
Back out revision 2a1149f381ed (bug 873209) because apparently pushValue does not adjust the frame size and hence we got a CLOSED TREE 
Bug 873730.  Make JS_SourceHook take a Handle for the JSScript.  r=till 
Bug 873209.  Trace the *vp of specialized DOM getters in Ion.  r=jandem 
Bug 873735 part 1.  Fix the more or less mechanical browser rooting hazards.  r=terrence 
Bug 873735 part 2.  Change nsIXPConnectJSObjectHolder::GetJSObject to return a JSObject*.  r=bholley 
know its window. 
Bug 861587.  Rejigger the WebIDL binding build system to do all binding codegen in a single python process while still using our dependency tracking for bindings to minimize the number of bindings we try to regenerate.  r=khuey 
Bug 867903.  Speed up getDescriptors and some other obvious slow points in codegen.  r=khuey 
Bug 874105.  Make CallSetup hold a Rooted to the object it's constructed with so we don't have to worry about it going gray while things like argument conversion for the call are in progress.  r=mccr8 
Bug 851514.  Make sure that we add the parent frame before its kids when constructing a scrollable block, so that things will appear in the right order in fixed-pos lists.  r=dbaron 
Bug 873229.  Try harder to get a JSErrorReport out of exceptions.  r=bholley,waldo 
Bug 874154.  Make sure we don't end up with uninitialized JSObject* or JS::Value in dictionaries.  r=ms2ger 
Bug 874612.  Make some nsIXPConnectWrappedNative methods take a Handle<jsid> instead of a jsid.  r=bholley 
Bug 511803 patch 2:  Convert all eCSSUnit_Function storage to use nsCSSKeyword.  This leads to one behavior change, which is case canonicalization for font-variant-alternates function values.  r=bzbarsky 
Bug 875025.  Use a deque, not a list, for the pending queue in pymake.  r=glandium 
Bug 867487.  Make sure we don't think we're cloning a complete sheet when we're actually cloning a loading one because the complete sheet was dirty.  r=dbaron 
Bug 875622 part 1.  Pass through mutable handles to all the various places where we have to work with JS::Value in codegen.  r=smaug 
Bug 875622 part 2.  Use handles in ConvertJSValueToString.  r=smaug 
Bug 875628.  NewProxyObject should take a handle for the private value.  r=till 
Bug 875939.  Make passing a Rooted<T> or Handle<T> to a function taking |const T&| not be a gc hazard.  r=terrence 
Bug 871099.  r=bzbarsky 
Bug 875620.  Work around bug 874923 by just trying to regenerate all the binding .h and .cpp files if we detect that our dependencies got screwed up.  r=khuey 
Bug 876570:  Add missing UngetToken() call in an+b microsyntax parsing.  r=bzbarsky 
Bug 815408:  Ignore CSS transitions and animations in print and print preview.  r=bzbarsky
Bug 876725.  Make use of IDL default string values in CSSStyleDeclaration to simplify the code.  r=smaug 
Bug 876805.  Fix unsafe reference gc hazards in dom/ code.  r=smaug 
Bug 234485:  Map xml:lang attribute into style so that it's used for font selection and hyphenation.  r=bzbarsky
Bug 876098.  Make sure to not skip calling addProperty hooks when objects have them.  Otherwise DOM expandos can go AWOL.  r=djvj 
Bug 861587 followup: get rid of a stray $ and some indent fixes.  r=khuey 
The idea is that you then do things like t.dispatchEvent(new t.ownerGlobal.Event("something")). 
Bug 877540.  Fix remaining unsafe reference hazards in browser code.  r=terrence 
Bug 877216.  Add CallArgs-like structs for use in DOM specialized getters/setters/methods.  r=waldo 
Bug 876080.  Don't use 'nativeOwnership':'owned' for MediaList.  r=bzbarsky 
Bug 876831 - Only reflow nsSVGTextFrame2's anonymous block frame under ReflowSVG. r=bzbarsky,longsonr f=jwatt 
Bug 861371 - Allow Web IDL enums to have names starting with a digit; r=bzbarsky 
Bug 871849 - Correctly trace expando objects for OverrideBuiltin proxies. r=bzbarsky. 
want that long-term. 
Bug 861938.  Make the CanvasWindingRule arguments be treated as missing if undefined is passed in.  r=smaug 
Bug 683159.  Remove now-irrelevant assertion annotation.  r=ms2ger 
Bug 877281 part 1.  Convert WebIDL bindings to using something CallArgs-like.  r=peterv,jandem 
Bug 877281 part 2.  Eliminate uses of ${valPtr} in bindings conversions.  r=peterv 
Bug 877281 part 3.  Rename valMutableHandle to mutableVal.  r=peterv 
Bug 877281 part 4.  Eliminate uses of ${valHandle} in binding conversions and make ${val} be a handle.  r=peterv 
Bug 877281 part 5.  Add a set() method to Rooted.  r=terrence 
idiomatic except for the use of .set() instead of operator= on Rooted. 
Bug 872669.  Slightly speed up our named proxy gets by making use of the inline chars/length getters we can have when our id is an atom.  r=waldo,peterv 
Bug 879628.  Don't screw up the text from earlier counters when using counters() with various list styles.  r=dbaron 
Bug 877281 bustage fix.  Deal with the fact that Value has 8-byte alignment.  r=jandem 
Bug 877281 another followup for the Windows bustage. r=jandem pending 
Bug 880367 part 1.  Change the "enabled" callback for WebIDL constructors to take a JSContext* and the object the constructor will be defined on.  r=smaug,bholley 
I ran into this when looking at the diff in codegen from part 1. 
Bug 880367 part 3.  Add support for [ChromeOnly] on interface objects.  r=smaug 
Bug 882573 patch 1:  Move the style attribute style sheet from nsDocument to nsIDocument, and devirtualize its getter.  r=bzbarsky 
Bug 882547.  Treat undefined values in WebIDL dictionaries as missing.  r=smaug 
Bug 882653 part 1.  Improve error reporting for bogus this objects in WebIDL bindings.  r=smaug 
js-to-native conversion exactly what is being converted. 
Bug 882653 part 3.  Make the "does not implement interface" error reporting better in WebIDL bindings.  r=smaug 
Bug 882653 part 4.  Improve the WebIDL binding error reporting for the not-sequence, not-callable, not-dictionary, not-date, and invalid-enum-value cases.  r=smaug 
Bug 882653 part 5.  Improve WebIDL binding error reporting for overload resolution failures, unions, non-finite floats.  r=smaug 
Back out revision 43927377e41c (bug 870787) and revision 25126626dd43 (bug 879319) for failing tests and contributing to a CLOSED TREE. 
Bug 874758.  Make DOMStringMap use [OverrideBuiltins].  r=peterv 
Bug 883358 part 1.  When creating getter/setter functions for the JSPROP_NATIVE_ACCESSORS case in JS_DefineProperties/JS_DefineProperty, give them the name of the property.  r=till 
Bug 883358 part 2.  Use the new information in bindings error reporting.  r=smaug 
Fix test fallout from bug 883358 so we can stop having a CLOSED TREE.  No review. 
Bug 883358 part 1.  When creating getter/setter functions for the JSPROP_NATIVE_ACCESSORS case in JS_DefineProperties/JS_DefineProperty, give them the name of the property.  r=till 
Bug 883358 part 2.  Use the new information in bindings error reporting.  r=smaug 
Bug 884109.  Remove GetDocumentFromCaller from NS_NewHTMLImage/OptionElement and remove the XPCOM-y bits for creating those, since WebIDL bindings don't use those.  r=smaug 
Bug 883968.  Give <object>/<embed>/<applet> channels notification callbacks that can actually be used from script.  r=johns 
Bug 883827.  Make Optional<NonNull<T>> and Optional<OwningNonNull<T>> nicer to use by having their const Value() method return a T&.  r=peterv 
Bug 884401.  Remove the hasXPConnectImpls annotations for HTMLElement, Element, and Node in WebIDL bindings, since all those are gone.  r=peterv 
Bug 883887.  Add an Unlink method to js::ExpandoAndGeneration.  r=peterv 
Bug 885171.  Make Navigator wrappercached and cycle-collected, and have it hold a strong reference to its window always.  r=smaug 
Bug 883892.  Remove HTMLFormElement classinfo.  r=peterv 
Bug 816343.  Remove nsIDOMNodeSelector.  r=smaug 
Bug 884400.  Remove the non-WebIDL version of NS_IMPL_NS_NEW_HTML_ELEMENT.  r=peterv 
Bug 884373.  Align WebIDL handling of default parameters with ES6.  r=khuey 
Bug 653881 - Rework XBL insertion points and clean up related code to more closely follow the Web Components model. Instead of maintaining a hashtable of insertion points in bindings (and removing insertions points from the tree) leave the insertion points in the tree as explicit placeholders and teach all other relevant code how to walk the explicit children of elements via two iterators (ExplicitChildIterator and FlattenedChildIterator). Note that this patch does not maintain 100% compatibility with the previous code: there are bug fixes and behavior changes included. For example, by having explicit insertion points in the bindings, it is now easier to handle dynamic changes to the bound element correctly (as well as, eventually, handling dynamic changes to the binding correctly). Patch originally by sicking. r=bzbarsky 
Bug 802895 - Add about:srcdoc as both resolvable and not resolvable.  r=bzbarsky 
Bug 889016 - Part 1: Add an API to report a not-enough-arguments error in Web IDL bindings; r=bzbarsky 
Bug 890193.  Make the XML prettyprinter actually drop its binding when it unhooks, and remove the now-dead concept of "style binding" in the process.  r=mrbkap 
Bug 891585.  Don't JS_WrapValue same-compartment typed array return values in bindings code (e.g. ImageData.data).  r=peterv 
This patch leaves the call in the Attr constructor, because we plan to make Attr not inherit from nsINode. 
Bug 883889 followup: nsChildContentList is not an nsINode subclass.  r=orange 
Bug 890193 followup.  Annotate the assertions it causes so we can reopen the CLOSED TREE. 
Bug 838146 part 1.  Implement WebIDL API on Navigator for the parts that are specified or are in nsIDOMNavigator.  r=smaug, sr=sicking 
Bug 838146 part 2.  Implement WebIDL API on Navigator for all our nonstandard extensions that are not behind build-time flags.  r=smaug, sr=peterv 
Bug 838146 part 3.  Set up preprocessing of Navigator.webidl, since we want to make some stuff on Navigator build-time-conditional.  r=khuey 
Bug 838146 part 4.  Implement WebIDL API on Navigator for WebTelephony.  r=bent, sr=sicking 
Bug 838146 part 5.  Implement remaining MOZ_B2G_RIL-conditional WebIDL APIs on Navigator.  r=smaug, sr=sicking 
Bug 838146 part 6.  Implement gamepad, bluetooth, time, audiochannel WebIDL APIs on Navigator.  r=smaug, sr=sicking 
Bug 838146 part 7.  Implement the MOZ_MEDIA_NAVIGATOR WebIDL APIs on Navigator.  r=smaug, sr=sicking 
Bug 838146 part 8.  Switch the Navigator resolve hook over to a more WebIDL-like API.  r=smaug 
Bug 838146 part 9.  Turn on WebIDL bindings for Navigator.  r=smaug 
Bug 892559.  Don't use #pragma once in example codegen.  r=smaug 
Bug 838146 part 1.  Implement WebIDL API on Navigator for the parts that are specified or are in nsIDOMNavigator.  r=smaug, sr=sicking 
Bug 838146 part 2.  Implement WebIDL API on Navigator for all our nonstandard extensions that are not behind build-time flags.  r=smaug, sr=peterv 
Bug 838146 part 3.  Set up preprocessing of Navigator.webidl, since we want to make some stuff on Navigator build-time-conditional.  r=khuey 
Bug 838146 part 4.  Implement WebIDL API on Navigator for WebTelephony.  r=bent, sr=sicking 
Bug 838146 part 5.  Implement remaining MOZ_B2G_RIL-conditional WebIDL APIs on Navigator.  r=smaug, sr=sicking 
Bug 838146 part 6.  Implement gamepad, bluetooth, time, audiochannel WebIDL APIs on Navigator.  r=smaug, sr=sicking 
Bug 838146 part 7.  Implement the MOZ_MEDIA_NAVIGATOR WebIDL APIs on Navigator.  r=smaug, sr=sicking 
Bug 838146 part 8.  Switch the Navigator resolve hook over to a more WebIDL-like API.  r=smaug 
Bug 838146 part 9.  Make Xrays play nice with WebIDL resolve hooks.  r=bholley 
Bug 838146 part 10.  Turn on WebIDL bindings for Navigator.  r=smaug 
Bug 881087.  Skip unnecessary work resetting visited state on links if the base URI only changes its fragment identifier.  r=smaug 
Bug 893897.  Don't deoptimize typeobjects in TypeScript::MonitorAssign if they only have a few properties.  r=bhackett 
Bug 838146 followup: address missed review comments.  r=bholley 
Bug 894463.  Go back to deoptimizing vanilla objects and arrays more eagerly to unregress ss-tagcloud.  r=bhackett 
Bug 893004 part 1.  Remove Navigator classinfo.  r=smaug 
Bug 893004 part 2.  Remove various no-longer-used XPCOM bits from Navigator, except the ones from nsIDOMNavigator.  r=smaug 
Note that I believe we could remove all these remaining attributes too; it's just some tedious work. 
Bug 892510.  Cache whether we're only-whitespace on textnodes so we don't have to keep figuring that out over and over again.  r=smaug 
Bug 894874.  Fix .selectedStyleSheetSet to consider all the sheets even after it finds an enabled sheet.  r=smaug 
Bug 895009.  Don't pass in NonNull/OwningNonNull arguments to WebIDL binding consumers.  r=peterv 
Bug 895974.  Implement ParentNode on document fragments and documents and move previousElementSibling and nextElementSibling to ChildNode.  r=smaug 
Bug 895009.  Don't pass in NonNull/OwningNonNull arguments to WebIDL binding consumers.  r=peterv 
Bug 895974.  Implement ParentNode on document fragments and documents and move previousElementSibling and nextElementSibling to ChildNode.  r=smaug 
implementation. 
Bug 894448 part 1.  Move IsChromeOrXBL to xpcpublic.h.  r=bholley 
Bug 894448 part 2 - Remove nativeOwnership = 'nsisupports'.  r=bzbarsky 
Bug 895495 followup.  Pass the needed second string to the exception message if the first argument of _create is not a Window.  r=ms2ger 
Bug 895728 part 1.  Introduce "boolean" and "numeric" types, since those will be treated differently for purposes of distinguishability and overload resolution.  r=khuey 
Bug 895728 part 2.  Make booleans, numerics, and strings/enums all be distinguishable from each other.  r=khuey 
Bug 895728 part 3.  Fix overload resolution to work with the new boolean/numeric/string setup.  r=khuey 
Bug 895728 part 4.  Fix unions to work with the new boolean/numeric/string setup.  r=khuey 
Bug 892609.  Implement support for [ArrayClass].  r=khuey 
Bug 707564 part 1.  Fix TCPSocket initialization to not throw exceptions on non-b2g.  r=gal 
Bug 707564 part 2.  Add a way to enumerate navigator names on the script namespace manager.  r=smaug 
Bug 707564 part 3.  Give WebIDL bindings with NewResolve hooks Enumerate hooks as well, so enumerating them correctly resolves all the properties.  r=smaug 
Bug 707564 part 4.  Teach WebIDL Xrays about the GetOwnProperties methods on WebIDL objects that have NewResolve.  r=smaug 
Bug 900994.  Add support for Func annotations on interface objects.  r=smaug 
Bug 707564 followup.  Update to new saner JSAPI, fixing merge bustage and ridding us of this pestilential CLOSED TREE. r=bustage 
Bug 707564 followup #2.  Make the push code actually follow the contract for JS-implemented webidl in an attempt to reopen the CLOSED TREE.  r=khuey 
Bug 900898 part 1.  Give dom::TypedArray structs a no-argument constructor.  r=smaug 
Bug 900898 part 2.  Move to using Nullable<TypedArray> to represent possibly-null TypedArray structs.  r=smaug 
Bug 900898 part 3.  Support typed arrays inside dictionaries.  r=smaug 
Bug 900898 part 4.  Support typed arrays inside sequences and variadics.  r=smaug 
Bug 901285.  Allow trailing comma in WebIDL enums.  r=khuey 
Bug 901682.  Rev the IID for nsXMLHttpRequest.  r=gavin 
Bug 902111 - Forward-declare nsIFrame in nsISelectionPrivate.h; r=bzbarsky 
Bug 902134 - Reduce the number of #includes in nsIDOMWindowUtils.h; r=bzbarsky 
Bug 901816.  Include Nullable and TypedArray headers in binding header files if we have dictionaries that have those as members.  r=smaug 
Bug 902485.  Disallow copy constructors and operator= on WebIDL union structs, because those wouldn't do what you think they should.  r=dzbarsky 
Bug 897913 part 1.  Don't assert that app id exists when asked for app status; just claim not installed if there is no app id.  r=sicking 
Bug 897913 part 2.  Allow touching interface objects via an Xray even if the page they're in can't touch them.  r=bholley,smaug 
Bug 897913 part 3.  Enable Promise in chrome and certified apps, even when preffed off.  r=bholley, pending review from baku 
Back out revision ab9642207875 (bug 897811) for browser-chrome test failures. 
Bug 901816.  Include Nullable and TypedArray headers in binding header files if we have dictionaries that have those as members.  r=smaug 
Bug 902485.  Disallow copy constructors and operator= on WebIDL union structs, because those wouldn't do what you think they should.  r=dzbarsky 
Bug 897913 part 1.  Don't assert that app id exists when asked for app status; just claim not installed if there is no app id.  r=sicking 
Bug 897913 part 2.  Allow touching interface objects via an Xray even if the page they're in can't touch them.  r=bholley,smaug 
Bug 897913 part 3.  Enable Promise in chrome and certified apps, even when preffed off.  r=bholley, pending review from baku 
Bug 895758.  Make the global scope polluter a proxy.  r=bzbarsky 
Bug 901531.  Remove the unused RootedJSValue class.  r=ms2ger 
Back out revision ea0f2d537a40 (bug 903283) because Windows was bootlegging nsRegion.h via EventTarget.h in widget code and so we ended up with a CLOSED TREE. 
Bug 895758 followup.  Fix the include guard and some spacing issues. 
Bug 888595: Convert BluetoothManager bindings to WebIDL, r=bzbarsky,echou
Bug 888595: Converted BluetoothAdapter to WebIDL, r=bzbarsky,echou
Bug 888595: Converted BluetoothDevice to WebIDL, r=bzbarsky,echou
Bug 903311. Remove all ChromeOnly methods on window.history. r=bzbarsky 
Bug 851353 - Make sure the incoming node's JSObject is up to date. r=bzbarsky 
Bug 907548.  URL.prototype should be undefined, since we don't implement the URL API.  r=khuey 
Bug 907892.  Disallow setting document.domain in sandboxed iframes.  r=smaug 
Bug 907727.  Make sure to properly forward gets to the expando object for DOM proxies.  r=peterv 
Bug 908351.  Stop over-including DOMJSClass.h, so we don't rebuild as much when PrototypeList.h changes.  We do this by factoring out the slot macros into a separate header and including that.  r=khuey 
Bug 908530 part 1.  Make Link::GetURI return a raw pointer so we don't have to include nsIURI.h in Link.h.  r=khuey 
Bug 908530 part 2.  Fix all the places that are bootlegging things (esp nsIURI) via xpcpublic.h.  r=khuey 
Bug 908530 part 3.  Stop including xpcpublic.h in DOMJSProxyHandler.h.  r=khuey 
Bug 908576 part 1.  Remove unused Is() method from proxy bindings.  r=smaug 
Bug 908576 part 2.  Move DOMClass/DOMJSClass declarations out of binding headers.  r=smaug 
Bug 908576 part 3.  Get rid of PrototypeIDMap structs.  r=smaug 
Bug 908576 part 4.  Move all the PrototypeTraits bits into PrototypeList.h so they don't force us to include that header in all binding headers.  r=smaug 
Bug 908576 part 5.  Make GetProtoObject and GetConstructorObject not inline so they don't force us to include PrototypeList.h in all binding headers.  r=smaug 
Bug 908576 part 6.  Expose just a NativePropertyHooks pointer, not the object itself, so we can forward-declare it in bindings headers.  r=smaug 
Bug 908576 part 7.  Move the various DOMProxyHandler classes into the binding implementation files.  r=smaug 
Bug 908837.  Include a bit less stuff in binding implementation files.  r=smaug 
Bug 909415.  Fix binding .pp files to not overbuild due to listing dependencies for the wrong file.  r=khuey 
Bug 909639 part 1.  Refactor callForEachType to return a generator so we can use it more easily, and rename it to getAllTypes.  r=smaug 
Bug 909639 part 2.  Refactor our computation of whether we need the nsDOMQS header to make it easier to do similar other things.  r=smaug 
Bug 909639 part 3.  Move our various conditional headers to the new bindingHeaders setup.  r=smaug 
Bug 909639 part 4.  Make previously-unconditional headers conditional.  r=smaug 
Bug 909645 part 1.  Don't include ipdl headers in nsGeolocation.h.  r=ms2ger 
Bug 909645 part 2.  Don't include ipdl headers in Hal.h.  r=ms2ger 
Bug 909645 part 3.  Make including SpeechRecognition.h and MediaManager.h not pull ipdl headers.  r=ms2ger 
Bug 909645 part 4.  Don't include ipdl headers in DesktopNotification.h.  r=ms2ger 
Back out revisions 042d50591265:69f4af72765c (bug 909645) due to Windows bustage causing a CLOSED TREE. 
Bug 909645 part 1.  Don't include ipdl headers in nsGeolocation.h.  r=ms2ger 
Bug 909645 part 2.  Don't include ipdl headers in Hal.h.  r=ms2ger 
Bug 909645 part 3.  Make including SpeechRecognition.h and MediaManager.h not pull ipdl headers.  r=ms2ger 
Bug 909645 part 4.  Don't include ipdl headers in DesktopNotification.h.  r=ms2ger,glandium 
Bug 909859.  Make the doctype argument of createDocument optional.  r=smaug 
Bug 868799 part 1.  Introduce a RootedTypedArray class.  r=terrence 
Bug 868799 part 2.  Disallow copy-construction of typed array structs, so people can't accidentally pass them by value and end up unrooted.  r=smaug 
Bug 868799 part 3.  Use RootedTypedArray in codegen.  r=smaug 
We could also switch typedefs to using IDLWrapperType, but this seems like a smaller and still-sane change. 
Bug 909863.  Add support for the [SameObject] extended attribute in WebIDL.  r=khuey 
Bug 903419 part 1.  Change js::GetErrorTypeName to take a JSRuntime, not a JSContext.  r=luke 
Bug 903419 part 2.  Report unhandled rejections in promises.  r=smaug,bholley,luke 
Bug 903277.  Support default values other than null for WebIDL unions.  r=bzbarsky 
Bug 910220 part 1.  Add friend API for determinining whether we're in a strict-mode script.  r=waldo 
Bug 910220 part 2.  Use the new API in codegen to only throw when needed.  r=peterv 
Bug 910220 part 3.  Always generate a defineProperty hook for DOM proxies.  r=peterv 
Bug 912129 - Minimize the #includes in docshell/base; r=bzbarsky 
Bug 912195 - Minimize the #includes in docshell/shistory; r=bzbarsky 
Bug 910795 part 1.  Add a way to Rebind() an nsString to be a dependent string.  r=bsmedberg 
Bug 910795 part 2.  Use the new Rebind() setup to avoid creating string copies for variadic string arguments.  r=smaug 
Bug 911771.  Remove uses of MOZ_DEBUG in .cpp files, since there is no such thing there.  Use DEBUG instead.  r=glandium 
Bug 911771 followup.  Just nuke the broken code.  r=CLOSED TREE 
Bug 909642.  Don't include nsNPAPIPluginInstance in headers so much, since it pulls in lots of gunk.  r=bsmedberg 
Bug 912948 part 1.  Add support for [Clamp] and [EnforceRange] on dictionary members.  r=khuey 
Bug 912948 part 2.  Add support for [Clamp] and [EnforceRange] on writable attributes.  r=khuey 
Bug 914334.  Change codegen to reflect EventListener as a WebIDL callback on workers.  r=khuey 
Bug 913670.  Give scripts evaluated via evalInSandbox 1-based line numbers.  r=bholley 
Bug 914334 followup to make it build on Windows.  r=bustage 
Bug 914621 - #include OwningNonNull.h in BindingDeclarations.h; r=bzbarsky 
Bug 914450.  findElementWithViewId can throw if it finds nothing, so be careful to catch that exception.  r=bbondy 
Bug 914444.  Deal with groupItem() being called after our GroupItem has been uninitialized.  r=ttaubert 
Bug 914434.  Pass a function to a method that expects one instead of passing undefined.  r=ehsan 

Bug 914434.  Pass a function to a method that expects one instead of passing undefined.  r=ehsan Bug 914985.  Adjust browser_tabopen_reflows test to deal with a shorter stack to the reflow and log more information when it fails.  r=ttaubert 
Bug 914438.  Prevent propagation of SSTabRestored events in tests when we close the relevant tab.  r=dao 
Bug 915100.  Make sure to actually include the headers we need in UnionTypes.h.  r=khuey 
Bug 899296 - Restore bytecode-level constant folding in lazily compiled functions. r=jorendorff. 
needed for union return values. 
Bug 915551.  Allow text-align styling on ::-moz-placeholder.  r=bzbarsky 
Bug 915368.   Give dictionaries copy constructors and assignment operators when it's safe.  r=khuey 

Bug 913855.  Fix consumers of window mediator to be more consistent in their checking for closed windows.  r=dolskedata structures expeditiouly. 
Bug 916995.  Force a gc that we hope will collect the event listener's script, instead of just hoping a GC will happen.  r=past 
Bug 915971.  Rename FooReturnValue unions to OwningFoo, because we use them for more than just return values.  r=dzbarsky 
Bug 917304 - Remove some dead code in docshell/; r=bzbarsky 
Bug 917299 - Remove some dead code in content/ and dom/; r=bzbarsky 
Bug 874502 part 1.  Fix browser-chrome tests to not assume synchronous closing of windows.  r=dolske 
Bug 874502 part 6.  Remove IsCallerChrome path for tearing down windows synchronously.  r=bzbarsky 
Bug 861489:  Fix SkipAnimationRule to do the right thing in the presence of new cascading rules.  r=bzbarsky 
Bug 915439 - Use longer timeouts for test_value_computation.html and test_value_storage.html. r=bzbarsky 
Bug 903569.  Remove the unneeded CheckPropertyAccess call in the GSP.  r=bholley,peterv 
Bug 917539.  Move the JSCompartment argument to the end of the list for JS-implemented WebIDL, so C++ callers can call into it sanely too.  r=peterv 
Bug 917958 part 1.  Stop using JSObject* to represent WebIDL callback functions in workers.  r=smaug 
Bug 917958 part 2.  Simplify our various typeNeedsCx stuff, now that it's the same on workers and mainthread.  r=smaug 
Bug 918450.  Back out the fix for bug 911333, since trace hooks are in fact used in workers.  r=khuey 
Bug 919325 - Minimize the #includes in content/ IDL files; r=bzbarsky 
Bug 919330 - Minimize the #includes in docshell/ IDL files; r=bzbarsky 
Bug 862627 part 1.  Switch EventListener to WebIDL codegen.  r=smaug 
Bug 862627 part 2.  Rip out some now-dead codegen code.  r=smaug 
Bug 919103.  Remove no longer needed goop that was making sure we set up expandos on the window with stub get/set hooks.  Now we get that for free.  r=bholley 
Bug 919114.  ClientRectList should be [ArrayClass].  r=smaug 
Bug 919705.  Don't ever claim that jsImplemented things are single-operation interfaces.  r=mccr8 
Bug 904202.  Make sure we remove our nsContentLists from list caches during unlink.  r=smaug 
Bug 920209.  Use nsAutoString in DOMString, to reduce allocations.  r=smaug 
Bug 905493.  Fix setting document.location via an Xray to not enter the content compartment.  r=peterv 
Bug 920125.  getOwnPropertyDescriptor on Xrays for DOM interface and prototype objects should actually work.  r=peterv 
Bug 919603 part 1.  Introduce support for the [Global] extended attribute.  r=peterv 
Bug 919603 part 2.  Change this-handling in codegen to only do the special global object stuff on interfaces where it might matter.  r=peterv 
Bug 880672:  Add support for unprefixed cursor:grab and cursor:grabbing.  r=bzbarsky  sr=dbaron 
Bug 898333, patch 1:  Restyle the :after pseudo-element after the content children.  r=bzbarsky 
Bug 898333, patch 2:  Change RestyleManager::Restyle's tree traversal to reach next-continuations (and same-display block-in-inline siblings) from their prev-continuation rather than from their parent.  r=bzbarsky
Bug 828312 patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.  r=bzbarsky
Bug 828312 patch 6:  Make early transform handling check continuations.  r=bzbarsky
Bug 828312 patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.  r=bzbarsky 
Bug 828312 patch 8:  Make handling of UpdateEffects hint check continuations.  r=bzbarsky
Bug 828312 patch 9b:  Make handling of RecomputePosition hint check continuations.  r=bzbarsky
Bug 828312 patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.  r=bzbarsky
Bug 828312 patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.  r=bzbarsky
Bug 919603 followup.  Make sure EventTarget has a [Global] descendant, so it actually works right.  r=peterv pending, because CLOSED TREE 
Bug 905493.  Fix setting document.location via an Xray to not enter the content compartment.  r=peterv 
Bug 920125.  getOwnPropertyDescriptor on Xrays for DOM interface and prototype objects should actually work.  r=peterv 
Bug 919603 part 1.  Introduce support for the [Global] extended attribute.  r=peterv 
Bug 919603 part 2.  Change this-handling in codegen to only do the special global object stuff on interfaces where it might matter.  r=peterv 
Bug 918011 part 1.  Move RootedDictionary into its own header.  r=smaug 
Bug 918011 part 2.  Preprocess some of our test WebIDL files so we can have debug-only tests.  r=khuey 
Bug 918011 part 3.  Get rid of isInOwningUnion: it's equivalent to another isMember value.  r=smaug 
Bug 918011 part 4.  Support dictionaries in unions.  r=smaug 
Bug 920730.  Output the WebIDL .deps files in a consistent order.  r=glandium 
Bug 921797 - Make nsCSSProps::BuildShorthandsContainingTable support -moz-appearance being a shorthand subproperty. r=bzbarsky 
Bug 921553.  Fix some binding rooting hazards that have popped up.  r=peterv 
Bug 906166.  Make sure to initialize the "succeeded" outparam of XPC_WN_Helper_DelProperty.  r=bholley 
Bug 891537.  WebIDL now includes 2**53 and -2**53 as valid values for long long (and for unsigned long long, in the case of 2**53).  r=bzbarsky 
Bug 919594 - Part 1: Move computed style map entries to a preprocessor included file. r=bzbarsky 
Bug 919594 - Part 2: Encapsulate the computed style map and make it take disabled properties into account. r=bzbarsky 
Bug 923010.  When rethrowing exceptions from JS-implemented components to content script, make sure to give them a useful filename and line number, pointing to the content script location that triggered the exception.  r=peterv 
Bug 921731 - Part 0: Add "layout.css.unset-value.enabled" pref. r=bzbarsky 
Bug 921731 - Part 1: Add new eCSSUnit_Unset unit for nsCSSValues. r=bzbarsky 
Bug 921731 - Part 2: Parse "unset" in property values whereever "inherit" and "initial" are allowed. r=bzbarsky 
Bug 921731 - Part 3: Support eCSSUnit_Unset in nsRuleNode.cpp's SetCoord. r=bzbarsky 
Bug 921731 - Part 4: Support eCSSUnit_Unset in nsRuleNode.cpp's SetDiscrete. r=bzbarsky 
Bug 921731 - Part 5: Support eCSSUnit_Unset in nsRuleNode.cpp's SetFactor. r=bzbarsky 
Bug 921731 - Part 6: Treat "unset" as "inherit" when determining rule detail for inherited style structs. r=bzbarsky 
Bug 921731 - Part 7: Treat "unset" on inherited properties like "inherit" in nsRuleNode::HasAuthorSpecifiedRules. r=bzbarsky 
Bug 921731 - Part 8: Support "unset" in computation of properties. r=bzbarsky 
Bug 921731 - Part 9: Serialize shorthands using "unset" like those containing "inherit" or "initial". r=bzbarsky 
Bug 921731 - Part 10: Modify existing style tests to use "unset". r=bzbarsky 
Bug 842329 - Part 0: Add "layout.css.all-shorthand.enabled" pref. r=bzbarsky 
Bug 842329 - Part 1: Add "all" shorthand property. r=bzbarsky 
Bug 842329 - Part 2: Parse the "all" shorthand property. r=bzbarsky 
Bug 842329 - Part 3: Serialize the "all" shorthand property as the empty string unless all components are inherit/initial/unset. r=bzbarsky 
Bug 842329 - Part 4: Test. r=bzbarsky 
Bug 817194.  Make WebIDL dictionary types sanely initialized by default; add a new Fast subclass to handle cases when we can skip the initialization safely.  r=khuey 
Bug 817194 followup because someone added another *Initializer use.  r=bustage 
Bug 817194.  Make WebIDL dictionary types sanely initialized by default; add a new Fast subclass to handle cases when we can skip the initialization safely.  r=khuey 
Bug 817194 followup to work around emergent namespace+template MSVC bugginess: it was seeing mozilla::dom::detail in TypeTraits.h because it looks at namespaces at template _instantiation_, not declaration.  Or something.  Leading, of course, to a CLOSED TREE. 
Bug 925193 - Offer "unset" when autocompleting properties in the style inspector. r=bzbarsky 
Bug 925495 part 1.  Move DOMString out to a separate header.  r=smaug 
Bug 925495 part 2.  Make the localName and nodeName bindings use DOMString, for extra speed.  r=smaug 
Bug 882541 part 1.  Don't require all arguments after an optional argument to be optional.  r=khuey 
Also removes a footgun conversion operator on Nullable that was causing it to silently convert to int32_t. 
   argument index, that overload is selected. 
Bug 882541 part 4.  Treat undefined as missing for optional WebIDL arguments.  r=khuey,ms2ger 
Bug 925495 part 1.  Move DOMString out to a separate header.  r=smaug 
Bug 925495 part 2.  Make the localName and nodeName bindings use DOMString, for extra speed.  r=smaug 
Bug 871161 - Stop inheriting charset where other browsers do not inherit it. r=bzbarsky. 
Bug 840098 - Add mochitest. r=bzbarsky 
Bug 929512.  Fix null default values for non-nullable unions containing a nullable type.  r=dzbarsky, r=smaug pending 
Bug 931971.  Rev the nsIDOMGeoGeolocation iid.  r=smaug 
Bug 924402.  When an object that can only be returned from [NewObject] methods is used in a dictionary, just skip generating a ToObject for that dictionary.  r=peterv 
Bug 882541 part 1.  Don't require all arguments after an optional argument to be optional.  r=khuey 
Also removes a footgun conversion operator on Nullable that was causing it to silently convert to int32_t. 
   argument index, that overload is selected. 
Bug 882541 part 4.  Treat undefined as missing for optional WebIDL arguments.  r=khuey,ms2ger 
Bug 925737.  Allow copy-constructing owning unions with safe enough members.  r=peterv 
Also stops Hal.h bootlegging Observer.h. 
Bug 932870.  Cache the "invalid selector" state in our parsed-selector cache as well when doing querySelector(All).  r=smaug 
Bug 932998.  Don't try to codegen code that keeps alive objects with 'owned' nativeOwnership, since we have no way to do that.  r=smaug 
Bug 933087.  Make sure we don't violate stack discipline for Rooted, even when playing Maybe<Rooted> games.  r=khuey 
Bug 925382.  Error out of unified bindings if one of them includes windows.h.  r=froydnj 
Bug 933193 part 1.  Factor out the id selector fast-path from querySelector(All) so we can reuse it a bit more broadly.  r=smaug 
Bug 933193 part 2.  Implement nsINode::GetElementById and make SVGSVGElement use it.  r=smaug 
Bug 933193 part 3.  Add getElementById to ParentNode.  r=smaug 
Bug 910192 non-UI part - Get rid of intl.charset.default as a localizable pref and deduce the fallback from the locale. r=bzbarsky. 
Bug 910192 non-UI part - Get rid of intl.charset.default as a localizable pref and deduce the fallback from the locale. r=bzbarsky. 
Bug 927796.  Make sure we don't end up with options in a bogus state where their DefaultSelected() doesn't match mIsSelected but they think their mIsSelected value hasn't changed from the default.  r=sicking 
Bug 934544.  For the case when we have to copy an XPCOM string into a JSString, just ask the JS engine to do that.  It'll do a better job of avoiding malloc than we can, since it can sometimes store string data inline in the string.  r=peterv 
Desc: Merge pull request #13605 from bzbarsky/master
Author: Boris Zbarsky <bzbarsky@mit.edu>
Bug 935612.  Stop using TreatUndefinedAs in PhoneNumberService.  r=mhenretty 
Bug 936634.  Drop support for [TreatUndefinedAs] in WebIDL.  r=peterv 
Bug 937462.  Eliminate all uses of cloneNode() and importNode() without the boolean "deep" arg that are not explicitly testing the behavior of that case from the tree, since the semantics of it will change.  r=sicking 
Bug 937465.  Warn when cloneNode() and importNode() are used without the boolean "deep" argument on nodes that have kids.  r=sicking 
Bug 938246.  Don't try to tell the JIT that our booleans are 32-bit integers, when they're actually booleans.  r=efaust 
Bug 937772.  Make better use of our out-of-band type information for unboxing object-valued return values of DOM getters and methods.  r=h4writer 
Bug 932501.  Drop nextElementSibling/previousElementSibling from DocumentType.  r=smaug 
Bug 933193 part 1.  Factor out the id selector fast-path from querySelector(All) so we can reuse it a bit more broadly.  r=smaug 
Bug 933193 part 2.  Implement nsINode::GetElementById and make SVGSVGElement use it.  r=smaug 
Bug 933193 part 3.  Add getElementById to DocumentFragment.  r=smaug 
Bug 940153 - Build dom/encoding in unified mode; r=bzbarsky 
Bug 940153 - Build dom/encoding in unified mode. r=bzbarsky 
Bug 940185 - Build dom/audiochannel in unified mode. r=bzbarsky 
Bug 939296 - Build content/html in unified mode; r=jst,bzbarsky 
Bug 939303 - Build content/base in unified mode; r=jst,bzbarsky 
double. 
Bug 940686.  When we eliminate a barrier, make its unbox infallible if it was a barrier-type unbox before.  r=h4writer 
Bug 940189 - Build dom/time in unified mode. r=bzbarsky 
Bug 940207 - Build dom/quota in unified mode. r=bzbarsky 
Bug 941437 part 1.  Remove the unused cx argument from dom::UnwrapObject.  r=smaug 
Bug 941437 part 2.  Remove the unused cx argument from UNWRAP_OBJECT and UNWRAP_WORKER_OBJECT.  r=smaug 
Bug 940780 - Build dom/gamepad in unified mode. r=bzbarsky 
Bug 940832 - Build content/mathml/content/src in unified mode. r=bzbarsky 
Bug 941776.  Fix up our includes a bit when a dictionary contains a dictionary from another .webidl file.  r=smaug 
Bug 935855 part 1.  Add a [StoreInSlot] WebIDL annotation to bindings.  r=peterv 
Bug 935855 part 2.  Store isSlot information in jitinfo.  r=peterv,efaust 
Bug 935855 part 3.  Compute the right slot indices to use for members we want to store in slots and save then in the data model the WebIDL parser outputs.  r=peterv 
Bug 935855 part 4.  Codegen a function that updates all the members-in-reserved-slots values for an interface and call it when we finish wrapping an object.  r=peterv 
Bug 935855 part 5.  Use our members-in-slots information in ion codegen.  r=efaust 
Bug 935855 part 6.  Add friend API exposing the max number of fixed slots, and some static asserts that we're not going past it.  r=jorendorff 
Bug 938294 part 1.  Allow the [Pure] annotation on non-throwing DOM methods.  r=peterv 
Bug 938294 part 2.  Store information about argument types in jitinfo.  r=peterv,efaust 
Bug 938294 part 3.  Make use of the [Pure] annotations on methods and analysis of their arguments to make them not look like writes to alias analysis.  r=efaust 
Bug 938294 part 4.  Add more [Pure] annotations on Node/Element/Document.  r=peterv 
Bug 942633 - Build more dom/ code in unified mode; r=bzbarsky 
Bug 942635 - Build dom/ipc in unified mode; r=bzbarsky 
Bug 942633 - Build more dom/ code in unified mode; r=bzbarsky 
Bug 943418.  Check for active documents, not current inners, in History APIs.  r=bholley 
Bug 943982 - Build content/xul in unified mode; r=bzbarsky 
Bug 938355 part 1.  Refactor jitinfo to separate out the concepts of side-effects and movability.  r=efaust 
Bug 938355 part 2.  Relax the restriction on [Pure] not mixing with [Throws] and annotate some more things as [Pure].  r=peterv 
Bug 943989.  Check the right member for our generation, and replace some hardcoded offsets with offsetof values.  r=efaust 
Bug 942979 - Stop crashing in nsContentUtils::GetCommonAncestor. r=bzbarsky 
Bug 393246 - Make URL fixup not query for Windows legacy encoding. r=bzbarsky. 
Bug 945572 part 1.  Make NS_NewHTMLElement take an Element** outparam instead of an nsIContent** one.  r=smaug 
Bug 945572 part 2.  Make NS_NewXULElement take an Element** outparam instead of an nsIContent** one.  r=smaug 
Bug 945572 part 3.  Make NS_NewMathMLElement take an Element** outparam instead of an nsIContent** one.  r=smaug 
Bug 945572 part 4.  Make NS_NewXMLElement take an Element** outparam instead of an nsIContent** one.  r=smaug 
Bug 945572 part 5.  Make NS_NewSVGElement take an Element** outparam instead of an nsIContent** one.  r=smaug 
Bug 945572 part 6.  Make NS_NewElement take an Element** outparam instead of an nsIContent** one.  r=smaug 
Bug 945573.  Make nsITextControlElement::GetPlaceholderNode return Element*.  r=smaug 
Bug 945572 followup.  Add missing Element.h include, so we actually have an AsElement() defined.  r=bustage 
Bug 945587 - Stop using the kRDFServiceCID name in content/xul; r=bzbarsky 
Bug 939510.  nsInputStreamChannel should null out mContentStream when it's done loading it, so that long streams can die as needed.  r=jduell 
Bug 942648.  When we're changing an option's "selected" attribute, don't allow our mIsSelected state to get out of sync with its actual selected state. r=sicking 
Bug 942631 part 1.  Add support for a [Cached] WebIDL annotation.  r=peterv 
Bug 942631 part 2.  Make getters for cached properties check and set the reserved slot as needed.  r=peterv 
Bug 942631 part 3.  Preserve the wrapper when caching things in its slots if we're an nsWrapperCache.  r=peterv 
Bug 942631 part 4.  Allow WebIDL attributes to return a sequence if it's cached.  r=peterv 
Bug 942631 part 5.  Add C++ API for clearing the cached value of a [Cached] property or regetting a [StoreInSlot] property.  r=peterv 
Bug 942631 part 6.  Fix performance regression in the imagedata getter due to using MaybeWrapValue on a non-DOM object.  r=peterv 
Bug 942631 part 7.  Move INSTANCE_RESERVED_SLOTS into the C++, so it's closer to the things it depends on.  r=peterv 
Bug 945627 - Remove tracking of URL UTF-8ness. r=dao,bzbarsky. 
Bug 945788.  Add support for dictionary return values to example codegen and js-implemented codegen.  r=smaug 
Bug 697343 - Add slice hook to DOM bindings like NodeList. r=peterv,bhackett 
Bug 946289.  Make GetNativeForGlobal work for WebIDL globals.  r=peterv 
Bug 946067 part 1.  Add support for WebIDL extended attributes to allow annotating allowed cross-origin access.  r=peterv 
Bug 946067 part 2.  Generate Window's access checks in XPConnect based on WebIDL access annotations.  r=bholley,peterv 
Bug 946067 part 3.  Adjust codegen to allow cross-origin this values based on WebIDL annotations.  r=peterv 
Bug 946578.  Don't special-case window.constructor in the window resolve hook.  r=peterv 
Bug 946564 part 1.  Allow installing chromeonly webidl quickstubs too.  r=peterv 
Bug 946564 part 2.  Make window._content chromeonly and define it in WebIDL.  r=peterv 
Clobber for bug 946067 to fix Windows silliness and reopen the CLOSED TREE. 
Bug 697343 - Add slice hook to DOM bindings like NodeList. r=peterv,bhackett 
Bug 948096.  Warn when people use window._content.  r=smaug,myk 
Bug 949264 part 1.  Share more codegen between events and CGNativeMember.  r=smaug 
Bug 949264 part 2.  Support union members in generated events.  r=smaug 
Bug 949264 part 3.  Use aRetVal for the outparam return value for CGNativeMember.  r=smaug 
Bug 949271.  Fix callback and JS-implemented codegen for sequence-of-union and variadic-union arguments.  r=smaug 
Bug 949471.  history.state should be null, not undefined, when there is no state.  r=smaug 
Bug 950523 - Part 1: Rename nsDOMMediaQueryList to mozilla::dom::MediaQueryList; r=bzbarsky 
Bug 950523 - Part 2: Move MediaQueryList to WebIDL bindings; r=bzbarsky 
Bug 946898.  Make sure to not accidentally store COWs in the slot for [Cached] properties.  r=peterv 
Bug 946909.   For a [Cached] or [StoreInSlot] attribute with a setter, clear the cache on set.  r=peterv 
Bug 947241.  Make Gamepad used cached sequences for its buttons and axes.  r=ted,peterv 
Bug 947351.  [Constant] things don't need a way to clear a cached value, since they're not supposed to change.  r=peterv 
Bug 949078.  Provide information about which return value we're talking about when throwing a conversion failure exception for the return value of a call into a WebIDL callback.  r=peterv 
Bug 949682 part 1.  Add a [Frozen] annotation on WebIDL attributes that have sequence types.  r=peterv 
Bug 949682 part 2.  Make gamepad use frozen sequences.  r=ted 
Bug 950657.  Give WebIDL callbacks an operator== that does the right thing.  r=smaug 
Bug 950544 part 1.  Change FindMatchingElements and ParseSelectorList take an ErrorResult instead of returning an nsresult.  r=smaug 
Bug 950544 part 2.  Move the handling of the selector cache into ParseSelectorList.  r=smaug 
Bug 950544 part 3.  Make ParseSelectorList an nsINode member method and use it in Element for MozMatchesSelector.  r=smaug 
Bug 950728.  Nicer error reporting when a callback argument is not wrappercached.  r=smaug 
Bug 848842 - Stop using heuristic detection in the File API. r=bzbarsky. 
Bug 950659 - Remove nsIDOMMediaQueryList and nsIDOMMediaQueryListListener; r=bzbarsky
Bug 949445 - Part 1: Move selectionLanguageChange to nsISelectionPrivate; r=bzbarsky 
Bug 949445 - Part 2: Move Selection to WebIDL; r=bzbarsky 
Bug 949445 - Part 3: Remove the classinfo for Selection; r=bzbarsky 
Bug 949940.  Only enter the uncheckedObj compartment in a crossOriginGetter/Setter/Method around the UnwrapArg call that needs us to be in that compartment.  r=peterv 
Bug 950991.  Root on-stack JSObject* and JS::Value return values.  r=smaug 
Bug 949501.  Make nullable unions that are isMember stop claiming to have a holder.  r=dzbarsky 
Bug 951511.  If jar module shutdown happens before all the jar channels are destroyed, we still shouldn't crash.  r=bsmedberg 
This removes the extra entry for TestJSImplInterface in Bindings.conf that was covering up this bug. 
Bug 945189 - Finish sjs response explicitly using XHR instead of relying on a timer. r=bzbarsky. 
This fix just makes us take the normal Optional codepath for this case, since there is no weirdness here. 
Bug 937461.  Make cloneNode/importNode "deep" arg default to false, since the spec changed on us.  r=sicking 
Bug 949890.  Fix rooting hazard in workers::XMLHttpRequest::Send.  r=khuey 
Bug 951245.  Forwarding to outer should check for active document, not current inner, to handle document.open() cases.  r=peterv 
Bug 952375.  Include headers for external interfaces in UnionConversions.h.  r=dzbarsky 
Bug 952062.  Fix union codegen to properly destroy the union members if conversion to them fails.  r=dzbarsky 
Bug 952062.  Fix union codegen to properly destroy the union members if conversion to them fails.  r=dzbarsky 
Bug 936056.  Be consistent about the thisobj we pass to getters.  r=jorendorff 
Bug 375299 - crashtest. 
Bug 758992 follow-up - Mark DoNothingCallback final to avoid compiler warnings; blanket-r=bzbarsky 
Bug 927728 - Part 2: Stop using PRUnichar in our code generators; r=roc,bzbarsky 
Bug 939581 part 1.  Factor out MCallDOMNative from MCall.  r=efaust,jandem 
Bug 939581 part 2.  Don't create resume points for non-effectful methods (which currently just means DOM methods), on the assumption that such methods have no side-effects and throw deterministically based on thisval and arguments.  r=jandem,efaust 
Bug 939581 part 3.  Mark DOM calls as movable as needed and allow them to be CSE'd.  r=efaust 
Bug 939581 part 1.  Factor out MCallDOMNative from MCall.  r=efaust,jandem 
Bug 939581 part 2.  Don't create resume points for non-effectful methods (which currently just means DOM methods), on the assumption that such methods have no side-effects and throw deterministically based on thisval and arguments.  r=jandem,efaust 
Bug 939581 part 3.  Mark DOM calls as movable as needed and allow them to be CSE'd.  r=efaust 
Bug 950188.  DOMRequest should only have a constructor taking a Window.  r=khuey 
Bug 950315 part 1.  Convert a bunch of event targets to passing a Window or nsDOMEventTargetHelper directly to the constructor of their ancestor nsDOMEventTargetHelper.  r=smaug 
Bug 936056 followup.  Check for a DOM jitinfo before assuming we have a DOM method in Ion ICs.  r=efaust 
Bug 950315 part 2.  Convert some idb classes to  passing a Window or nsDOMEventTargetHelper directly to the constructor of their ancestor nsDOMEventTargetHelper.  r=khuey 
Bug 932837 part 1.  Make FrameDescription compute the line number lazily.  r=jandem 
Bug 932837 part 2.  Create a refcounted object to manage the lifetime of a JS::StackDescription.  r=mccr8, terrence 
Bug 932837 part 3.  Make JSStackFrame get information from the JS stack lazily.  r=khuey 
Bug 932837 part 4.  Allocate the caller JSStackFrames lazily.  r=khuey 
Bug 932837 part 5.  Don't eagerly grab file/line info when constructing an Exception.  r=khuey 
Bug 932837 followup.  Don't use AutoJSContext in JSStackFrame, since we use that code on workers too.  r=bholley pending, but landing now to fix the CLOSED TREE. 
Bug 957431 - Remove support for Attr.ownerElement; r=bzbarsky 
Bug 956806 part 1.  Output a list of interface names in PrototypeList.cpp.  r=peterv 
Bug 956806 part 2.  Share generic getters/setters/methods across all bindings.  r=peterv 
Bug 957652 - Replace the Attr element getters by something that returns an Element; r=bzbarsky 
Bug 881487.  Make anchor scrolls on wyciwyg documents work correctly.  r=smaug 
Bug 957479.  Make pushState work correctly after document.open().  r=smaug 
Bug 952365.  Add a TreatNonObjectAsNull annotation for WebIDL callback functions and use it for event handlers, since web sites depend on assigning non-callable objects to them in some cases.  r=peterv 
Bug 957929.  Pass undefined, not null, as the this value to callbacks if no other value is provided.  r=peterv 
Bug 959677.  Fail codegen if a writable attribute is flagged PutForwards or Replaceable.  r=smaug 
Bug 959679.  Use a handle, not a raw value, to avoid a rooting issue in canvas code.  r=terrence 
Bug 959695 part 1.  Make ValueToCallable take a Handle.  r=terrence 
Bug 959695 part 2.  Make ReportIfNotFunction take a Handle.  r=terrence 
Bug 959695 part 3.  Make ReportIsNotFunction take a Handle.  r=terrence 
Bug 959705.  Fix unsafe reference hazards in xpconnect code.  r=bholley 
Bug 851891.  Make stringifier attributes fail to codegen.  r=khuey 
Bug 959934.  Fix unsafe address hazards in jsopcode.cpp.  r=sfink 
Bug 959932.  Fix some unsafe address issues in js/src/vm.  r=sfink 
Bug 959926.  Fix some miscellaneous unsafe pointer hazards.  r=terrence 
Bug 959716.  Fix unsafe reference hazards in jsapi-tests.  r=terrence 
Bug 959927.  Make AbstractFramePtr::returnValue return a HandleValue and make receiveCompletionValue take a HandleValue to fix debugger unsafe address hazards.  r=terrence 
Bug 959716 followup.  Fix compile issue. r=bustage. 
Bug 961204.  Remove the my_context bits from nsWindowSH::NewResolve and just use the passed-in cx for everything.  r=bholley 
Bug 961208 part 1.  When doing a DoNewResolve for Xrays, pass the Xray, not the underlying object, to DoNewResolve, in case people want to do permissions checks on the object.  r=bholley 
Bug 961208 part 2.  Change the WebIDL DoNewResolve hook signature to take a JSPropertyDescriptor.  r=bholley 
Bug 961204 followup to address review comment.  r=bholley 
again. 
mValue.mString! 
Bug 962605.  Enable baseline jit in xpcshell.  r=bholley 
Bug 962605.  Enable baseline jit in xpcshell.  r=bholley 
again. 
mValue.mString! 
Bug 962628.  Make '+' and '~' combinators work at the top level of an anonymous content forest.  r=heycam 
Bug 941876 part 1.  Pass in the element we're compiling the event handler for to the event listener manager, so it knows which element to associate with the compiled script.  r=smaug 
Bug 941876 part 2.  When compiling script attached to DOM elements, tell the JS engine what element is involved and which attribute is involved, if any.  r=smaug 
Bug 962605 part 1.  Remove a broken attempt to disable test_hang_submit.xul.  r=ted 
Bug 962605 part 2.  Enable baseline jit in xpcshell.  r=bholley 
Bug 964061 - Part 1: Convert CRMFObject to WebIDL bindings; r=bzbarsky 
Bug 964061 - Part 2: Remove nsIDOMCRMFObject; r=bzbarsky 
Bug 952873 part 1.  Rename the cx member of ForOfIterator to cx_ instead.  r=jorendorff 
Bug 952873 part 2.  Expose JSAPI for doing for-of iteration.  r=jorendorff 
Bug 952873 part 1.  Rename the cx member of ForOfIterator to cx_ instead.  r=jorendorff 
Bug 952873 part 2.  Expose JSAPI for doing for-of iteration.  r=jorendorff 
Followup bustage fix for bug 952873 to fix CLOSED TREE 
Bug 964891.  Don't put up a slow script dialog for no-longer-current inners.  Just kill the script instead.  r=smaug 
Bug 963895.  Add threadsafe versions of AutoJSContext/AutoSafeJSContext.  r=bholley 
Bug 962290.  Remove support for the JavaScript-global-dynamic-nameset category as a way to install lazy properties on the global.  r=peterv 
Bug 945416 part 1.  Move the Components shim into GlobalResolve.  r=bholley 
Bug 945416 part 2.  When invoking a DoNewResolve hook on an Xray, make sure to first invoke it on the underlying object.  r=bholley,peterv 
Bug 945416 part 3.  Make GlobalResolve fill in a JSPropertyDescriptor that nsWindowSH::NewResolve then uses to actually define the property.  r=bholley,peterv 
Bug 945416 part 4.  Introduce a DoNewResolve method on nsGlobalWindow and call it from nsWindowSH::NewResolve.  r=peterv 
Bug 945416 part 5.  Implement nsGlobalWindow::GetOwnPropertyNames and flag the interface as NeedNewResolve.  r=peterv 
Bug 945416 part 6.  Fix the resolve/enumerate hooks in WebIDL bindings in the [Global] case to handle standard classes.  r=peterv 
Bug 965477.  Enter the compartment of obj in ClearCached*Value in the StoreInSlot case.  r=bholley 
Bug 965144.  Make the Window-specific bits of XrayWrapper work with WebIDL windows.  r=bholley 
Bug 966415:  Add more line breaks to nsCSSPropAliasList.h for better diffs and blame.  r=bzbarsky 
Bug 966498 - Refactor nsGlobalWindow::Alert and nsGlobalWindow::Confirm to not be exactly the same. r=bzbarsky 
Bug 966498 - Get rid of unnecessary reinterpret_casts and avoid some unnecessary work. r=bzbarsky 
Bug 966710.  Flag document.getElementsByTagNameNS as being able to throw, since it can.  r=smaug 
Bug 966665.  Don't DCE DOM method calls and getters that can throw exceptions.  r=jandem 
later. 
Bug 963321 part 2.  Add codegen support for [Cached] dictionary attributes.  r=khuey 
Bug 963388.  Add support for nullable dictionary return values in callbacks and js-implemented bindings.  r=peterv 
Bug 958667 part 1.  Make it possible to use multiple methods of disabling the visibility of a constructor at once, disabling it if any of them says it should be disabled.  r=peterv 
Bug 958667 part 2.  Store in workers whether they come from privileged or certified apps.  r=khuey 
Bug 958667 part 3.  Add helper methods for testing whether things should be exposed in privilegd or certified apps.  r=peterv 
Bug 958667 part 4.  Hook up an AvailableIn extended attribute for interfaces.  r=peterv 
Bug 958667 part 5.  Hook up AvailableIn for interface members.  r=peterv 
Bug 963380.  Improve codegen for [Cached] and [StoreInSlot] attributes that have multiple wrapping paths to have less duplicated code.  r=peterv 
Bug 965154.  Make the global scope polluter handle WebIDL Window objects.  r=peterv 
Bug 965094.  Reconcile the behavior of the JSObject* argument for Func on interfaces and on interface members.  r=bholley 
Bug 866222.  Just always define getInterface on the window for now, so we stop breaking people.  It'll go away once we ship WebIDL window.  r=peterv 
Bug 967694.  Don't generate Xray resolveOwnProperty/enumerateOwnProperties hooks on WebIDL Xrays for plugin-loading elements, because those elements really only want to have the hook called when they're being touched by script from the same website.  r=bholley 
Bug 964875 part 1.  Add a WebIDL ChromeWindow interface for use in instanceof once Window is on WebIDL bindings.  r=peterv 
Bug 964875 part 2.  Add a static nsGlobalWindow::IsChromeWindow test function for use in Func annotations.  r=peterv 
Bug 964875 part 3.  Define WebIDL quickstubs for ChromeWindow.  r=peterv 
Bug 968643 - Part 1: Stop using [PrefControlled]; r=bzbarsky 
Bug 968643 - Part 2: Remove the [PrefControlled] WebIDL annotation; r=bzbarsky 
Bug 968665.  Get rid of MainThreadDictionaryBase and the dictionary bits in DummyBinding, since we now codegen a single version of dictionaries for both mainthread and workers. r=khuey 
Bug 965927.  [StoreInSlot] and [Cached] getters should use the reflector as the scope obj when wrapping the return value.  r=peterv 
Bug 934509.  Make sure to not accidentally pass 0 to ClearTimeoutOrInterval, even if someone calls clearInterval(0) on an Xray for a Window.  r=peterv 
Bug 956806 part 1.  Output a list of prototype names in PrototypeList.cpp.  r=peterv 
Bug 956806 part 2.  Share generic getters/setters/methods across all bindings.  r=peterv 
Bug 952890 part 1.  Make WebIDL sequence JS to C++ conversions use for-of iteration, not length/index gets.  r=peterv 
Bug 952890 part 2.  Remove the IsArrayLike method, since it no longer matches any spec concept.  r=peterv 
Back out bug 952890, since the dependencies aren't fixed yet. 
Bug 970764.  Remove support for non-optional "any" arguments values, since "any" needs to be able to include undefined anyway.  Have "any" arguments and dictionary entries default to undefined unless the IDL explicitly says "= null".  r=khuey 
Bug 973905.  setTimeout/setInterval with a string first arg but more than two arguments should still work (and ignore the extra arguments).  r=smaug 
Bug 935778 - Part 0.1: Uninline nsIPresShell::SetForwardingContainer so that it won't need the full definition of nsDocShell; r=bzbarsky 
Bug 972312 part 1.  Generate virtual As*Event functions on WebIDL events so that we can easily go from an nsDOMEvent to the relevant event subtype.  r=smaug 
Bug 972312 part 2.  Get rid of InternalScriptErrorEvent and just use mozilla::dom::ErrorEvent for the cases that used to use it.  r=smaug 
Bug 973849.  Allow clearInterval/clearTimeout calls with no arguments; just treat them as no-ops.  r=smaug 
Bug 973849.  Allow clearInterval/clearTimeout calls with no arguments; just treat them as no-ops.  r=smaug 
Bug 972312 part 1.  Generate virtual As*Event functions on WebIDL events so that we can easily go from an nsDOMEvent to the relevant event subtype.  r=smaug 
Bug 972312 part 2.  Get rid of InternalScriptErrorEvent and just use mozilla::dom::ErrorEvent for the cases that used to use it.  r=smaug,khuey 
Bug 976272.  Use DOMString for HTMLElement.className, and mark it as [Pure].  r=smaug 
Bug 976305.  Use the callee, not the irrelevant this value, to figure out the GlobalObject for a static WebIDL method.  r=bholley 
Back out revision c35458a437cc (bug 976305) for breaking DataStore tests. r=orange 
Bug 962256 yet another part.  Eliminate some unnecessary roots in HTMLDocumentBinding::DOMProxyHandler::get.  r=bholley 
be callable by binding code as needed, and that we can't use ElementInlines stuff from bindings sanely. 
Bug 974284.  Do a better job of commoning up identical cases in overload resolution for WebIDL methods.  r=khuey 
Test for bug 650001 - Make the HTML serializer pay attention to namespaces. r=bzbarsky. 
Bug 977553.  Use an enum instead of macros for the nsStyleLinkElement rel types, so they won't collide with macros in wingdi.h.  r=smaug 
Bug 803106 part 1.  Convert DOMStringList to WebIDL bindings - move files and rename class.  r=bzbarsky 
Bug 803106 part 2.  Convert DOMStringList to WebIDL bindings - add WebIDL API and switch.  r=bzbarsky 
Bug 977950.  Fix dragging of text to work again.  r=smaug 
Bug 952890 part 1.  Make WebIDL sequence JS to C++ conversions use for-of iteration, not length/index gets.  r=peterv 
Bug 952890 part 2.  Remove the IsArrayLike method, since it no longer matches any spec concept.  r=peterv 
Bug 952596.  HasActiveDocument should just clearly assert that it's only called on inner windows.  r=smaug 
Bug 952596 followup to fix dumb typo and reopen CLOSED TREE. 
Bug 978015.  Web pages should actually be able to use DataTransfer.  r=smaug 
Bug 621618 patch 1:  Remove BindToTree overrides in nsXMLElement that exist only to make AddToIdTable/RemoveFromIdTable calls already in the base class (Element).  r=bzbarsky
Bug 621618 patch 2:  Make nsXMLElement reuse Element::AddToIdTable and Element::RemoveFromIdTable thoroughly.  r=bzbarsky 
Bug 621618 patch 3:  Add FIXMEs in nsXULDocument for ID handling.  r=bzbarsky 
Bug 621618 patch 4:  Make conditions in Element::RemoveFromIdTable match those in AddToIdTable, to avoid asymmetric calls to the document's functions.  r=bzbarsky 
Bug 978646.  Properly cycle-collect document.styleSheetSets.  r=smaug 
Bug 978618.  Fix error reporting for unintended XPConnect exceptions thrown by JS-implemented webidl to actually work correctly.  r=bholley 
Bug 874787.  Add support for legacycaller on proxy bindings.  r=efaust,peterv 
Bug 874788.  Allow WebIDL HTMLAllCollection to emulate undefined.  r=peterv 
Bug 951887.  Treat form controls as mutable for purposes of constraint validation whether they're in a document tree or not.  r=smaug 
Bug 951887 followup.  Adjust tests to deal with the new reality. 
Bug 980243.  Make sure that image src sets do something even if the src is being set to the value it already has.  r=sicking 
Bug 980965.  Stop using DOM constructors as functions in chrome code.  r=bholley 
Bug 981036.  Disallow calling DOM constructors as functions in non-release builds.  r=bholley 
Bug 981036 followup.  Actually add the comment that was asked for.  DONTBUILD 
https://hg.mozilla.org/mozilla-central/rev/b97aef275b5e 
Bug 982906 - No free lunches! r=bzbarsky 
Bug 983029.  Make sure to observe stack discipline for Rooted when initializing a WebIDL union containing the 'object' type.  r=khuey 
Bug 983264.  Include callback headers in UnionTypes.h when a callback is used in a union.  r=mccr8 
Bug 983228.  Add a sequence tracer for sequences of unions.  r=baku 
Bug 697451 - Stop overriding line-height (max-ing with 1.0) on inputs other than single-line text inputs.  r=bzbarsky
Bug 984346 - Remove the classinfo for SystemMessageManager since the nsIDOMNavigatorSystemMessages API is already implemented in WebIDL; r=bzbarsky 
Bug 866528 - Make nsIDOMActivityOptions a dictionary; r=bzbarsky 
Bug 866528 - Make nsIDOMActivityOptions a dictionary; r=bzbarsky 
Bug 866528 - Make nsIDOMActivityOptions a dictionary; r=bzbarsky 
Bug 983845 - Port nsIFeedWriter to WebIDL and stop exposing BrowserFeedWriter to the Web; r=bzbarsky
Bug 980962.  Fix in-tree consumers to not construct typed arrays without "new".   r=jorendorff 
Bug 976305.  Use the callee, not the irrelevant this value, to figure out the GlobalObject for a static WebIDL method.  r=bholley 
Bug 983261.  Improve example codegen for non-leaf and non-root interfaces.  r=khuey 
Bug 985827.  Make Navigator::DoNewResolve not double-create objects no matter what JS is doing.  r=khuey 
Bug 955860.  Implement the CSS.escape API for escaping CSS identifiers from script.  r=bzbarsky 
Bug 985827 followup.  Remove shadowing variable that confuses things.  r=bustage 
Another bug 985827 followup.  Make sure to not cache things wrapped in an Xray compartment on the navigator object.  r=khuey 
Bug 983300 part 1.  Disallow Promise as a return type for legacy callers and enforce all overloads for a method either returning promises or not returning promises.  r=khuey 
This method effectively catches exceptions from GenericBindingMethod and converts them into rejected promises.  This handles calls to Promise-returning APIs from everything except Ion fast paths. 
Bug 983300 part 3.  Convert exceptions in specialized methods returning promises into rejected promises.  r=khuey, efaust 
Bug 983300 part 4.  Convert exceptions in static methods returning promises into rejected promises.  r=khuey,efaust 
Bug 955860 followup to add a pointer to the source of the tests. 
Bug 903873 - Finish porting Web Activities to WebIDL; r=bzbarsky
Bug 985812 - Make a ActivityRequestHandler.source a pure cached frozen dictionary; r=bzbarsky 
Bug 986475 - Remove the classinfo from SettingsService and SettingsServiceLock; r=bzbarsky
Bug 985796 - Port the permission settings API to WebIDL; r=bzbarsky 
Bug 986980 - Remove the classinfo from WifiGeoCoordsObject and WifiGeoPositionObject; r=bzbarsky
Bug 986993 - Remove the classinfo on the inputmethod API classes because they are already ported to WebIDL; r=bzbarsky
Bug 610733.  Vertically center the text in the combobox display area when a non-default height is set for the combobox.  r=dbaron 
Bug 987110.  Disallow dictionary members that would shadow Object.prototype properties.  r=bholley 
Bug 988310.  Make browser_ConsoleStorageAPITests.js fail on unexpected exceptions.  r=msucan 

Bug 988310.  Make browser_ConsoleStorageAPITests.js fail on unexpected exceptions.  r=msucan Bug 987003.  Be more careful sandboxing javascript: URLs.  r=bholley 
Bug 988106.  No more unnecessary .wrappedJSObject in debugger.  r=past 
Bug 983920 - Port window.sidebar and window.external to WebIDL; r=bzbarsky 
Bug 982680.  Fix regress-406572.js to actually test something useful.  r=peterv,waldo 
Bug 987112.  Remove the redundant and somewhat annoying parentObject argument to dictionary ToObject() methods.  r=bholley 
Bug 470769 - Store computed styles of integer-valued properties as integers in nsROCSSPrimitiveValue, so they round-trip correctly.  r=bzbarsky 
Bug 919208 - Rewrite test_bug668513.html to run in its own window so that it won't be able to navigate the test runner frame back; r=bzbarsky 
Bug 958540 part 1.  Factor out the uninit behavior of union structs into a separate method.  r=dzbarsky 
Bug 958540 part 2.  Rename the existing SetAs* methods on unions to RawSetAs* and add new SetAs* methods that ensure the right type for the union.  r=dzbarsky 
Bug 958540 part 3.  Switch the assignment operator on WebIDL unions to use SetAs*, not RawSetAs*, so you can use it to change the type of a union.  r=dzbarsky 
Bug 990242.  Remove some dead Promise code.  r=nsm 
Bug 989965 - Resolve style for pseudo-elements correctly when style rules that have user action pseudo-classes on them are present. r=bzbarsky 
Bug 990202 - Move the test page to a new window to prevent it from navigating the test runner frame back; r=bzbarsky 
Bug 990202 - Move the test page to a new window to prevent it from navigating the test runner frame back; r=bzbarsky 
Bug 991171 - Don't try to init the transferable that somebody else has inited for us before; r=bzbarsky 
Bug 985536.  Go back to allowing optional any with no default value in WebIDL, but treat it as having a default value of undefined.  r=khuey 
Bug 991753.  Make sure we're in the right compartment before we try wrapping our Promise in Promise::GetOrCreateWrapper.  r=bholley 
Bug 985536 followup: mark argument that should be optional as optional.  r=orange 
Bug 971222 - Small cleanup around prompt code. r=bzbarsky 
This lets us preserve some invariants about our current compartment matching the scope we want to wrap into. 
Bug 991742 part 2.  Remove the "scope" argument of WrapNativeParentHelper/WrapNativeParentFallback/WrapNativeISupportsParent.  r=bholley 
Bug 991742 part 3.  Remove the "scope" argument of WrapNativeParent().  r=bholley 
Bug 991742 part 4.  Remove the "scope" argument of WrapCallThisObject().  r=bholley 
Bug 991742 part 5.  Remove use of the "aScope" argument in binding Wrap() methods.  r=bholley 
plus a few manual fixes to dom/bindings/Codegen.py, js/xpconnect/src/event_impl_gen.py, and a few C++ files that were not caught in the search-and-replace above. 
and an additional manual change to nsINode.cpp. 
of WrapObject()). 
Bug 991742 part 9.  Remove the "scope" argument of WrapNewBindingObject.  r=bholley 
Bug 991742 part 10.  Remove the "aScope" argument from the Promise ArgumentToJSValue() methods.  r=bholley 
Bug 991928 - Make warning about wrapping XUL boxes chrome-only.  r=bzbarsky 
Bug 992324 patch 1 - Add a pref to disable interruptible reflow.  r=bzbarsky 
Bug 992324 patch 2 - Disable interruptible reflow in reftest harness.  r=bzbarsky
Bug 993889 part 1.  Remove "scope" argument from nsContentUtils::WrapNative.  r=bholley 
Bug 993889 part 2.  Remove the duplicated WrapNative methods in HTMLAllCollection.  r=bholley 
Bug 993889 part 3.  Remove the scope argument of the classinfo WrapNative methods.  r=bholley 
Bug 993889 part 4.  Remove the scope argument of xpc_FastGetCachedWrapper.  r=bholley 
Bug 993889 part 5.  Remove the "creator" argument of the version of TypedArray::Create that takes a JSObject* creator.  r=bholley 
Bug 993889 part 6.  Remove the "scope" argument of dom::WrapObject methods.  r=bholley 
Bug 991080.  Add an overload of Promise::ArgumentToJSValue that lets callers pass in an nsTArray to MaybeResolve() a promise with a JS array.  r=khuey 
5)  Renamed "abv" to "obj" in the typed array overload. 
Bug 994453 part 2.  Use the new ToJSValue methods so we have an example.  r=bholley 
Bug 994793.  Make the array bits of ToJSValue nicer.  r=bholley 
Bug 886416 - Move SVGLength to WebIDL; r=bzbarsky 
Bug 886416 - Move SVGLength to WebIDL; r=bzbarsky 
Bug 995047.  Change out stack/exception APIs to hand out AString instead of AUTF8String for filename/functionname, so we end up with fewer string conversions in practice.  r=smaug 
Bug 994811 part 1.  Add a ToJSValue overload for dictionary types. r=bholley 
a JS null value. 
Bug 995047 followup.  Fix a caller that I missed because it's only compiled on some platforms, so we can reopen the CLOSED TREE 
Bug 995754 - Remove nsIDOMToString; r=bzbarsky 
Bug 995757 - Remove nsIDOMMozApplicationEvent; r=bzbarsky 
Bug 992488 - Return false early from inDOMUtils::SelectorMatchesElement if the selector is for a pseudo-element. r=bzbarsky 
Bug 996955 - Remove nsIDOMTouch; r=bzbarsky 
Bug 995546.  Nix bogus GetParentObject methods on WebIDL objects without a wrapper cache.  r=bholley 
Bug 843840 part 1.  Add a way to ask DOM proxies with a named getter whether a property is enumerable or not and use that information in getOwnPropertyDescriptor.  r=peterv 
Bug 843840 part 2.  Add a way to ask DOM proxies for only their enumerable property names, and use that in the enumerate hook.  r=peterv 
Bug 995295.  Make console.trace() faster when the console is closed by avoiding reification of the stack until someone actually asks for it.  r=baku 

Bug 995295.  Make console.trace() faster when the console is closed by avoiding reification of the stack until someone actually asks for it.  r=baku Bug 822442.  Keep track of DOM proxies in TI, like other DOM objects, so we can do the same call/get/set optimizaations with them.  r=efaust 
Back out revision af250d9dee47 (bug 995295) because it doesn't work for domains that are not on the xul/xbl whitelist. 

Back out revision af250d9dee47 (bug 995295) because it doesn't work for domains that are not on the xul/xbl whitelist. Bug 995295 part 1.  Create console events in the junk scope, not the untrusted content scope.  r=baku 

Bug 995295 part 1.  Create console events in the junk scope, not the untrusted content scope.  r=baku Bug 995295 part 2.  Make console.trace() faster when the console is closed by avoiding reification of the stack until someone actually asks for it.  r=baku 

Bug 995295 part 2.  Make console.trace() faster when the console is closed by avoiding reification of the stack until someone actually asks for it.  r=baku Bug 996911.  Make nsIDOMXUL*Element not inherit from nsIDOMXULElement, so we can make the latter noscript.  r=smaug 
Bug 996474.  Add a ToJSValue overload that takes a Handle<Value>.  r=bholley 
Bug 996831.  Add a ToJSValue overload for nsresult, to allow rejecting promises from C++ more easily.  r=bholley 

Backed out changesets df5a68af3d30 and 6acacaa75fad (bug 995295) for bustage.Bug 995295 part 1.  Create console events in the junk scope, not the untrusted content scope.  r=baku 

Bug 995295 part 1.  Create console events in the junk scope, not the untrusted content scope.  r=baku Bug 995295 part 2.  Make console.trace() faster when the console is closed by avoiding reification of the stack until someone actually asks for it.  r=baku 

Bug 995295 part 2.  Make console.trace() faster when the console is closed by avoiding reification of the stack until someone actually asks for it.  r=baku Bug 996831 followup to fix silly gcc build bustage and reopen the CLOSED TREE 

Backed out changesets c674dc13ef85 and 0b3a14bbfd81 (bug 995295) for mochitest-2 crashes.Bug 996474.  Add a ToJSValue overload that takes a Handle<Value>.  r=bholley 
Bug 996831.  Add a ToJSValue overload for nsresult, to allow rejecting promises from C++ more easily.  r=bholley 
Bug 995295 part 1.  Create console events in the junk scope, not the untrusted content scope.  r=baku 

Bug 995295 part 1.  Create console events in the junk scope, not the untrusted content scope.  r=baku Bug 995295 part 2.  Make console.trace() faster when the console is closed by avoiding reification of the stack until someone actually asks for it.  r=baku 

Bug 995295 part 2.  Make console.trace() faster when the console is closed by avoiding reification of the stack until someone actually asks for it.  r=baku Bug 997805 - Correctly restore the placeholder text after the editor object is re-attached to a text control as a result of a reframe; r=bzbarsky
Bug 493701 - part 1: add nsTObserverArray::BackwardIterator; r=bzbarsky 
Bug 493701 - part2: Use TObserverArray for DocLoader Listeners; r=bzbarsky
Bug 493701 - part 3: add and use a BackwardIterator::Remove method; r=bzbarsky 
Bug 998734 - Remove nsIAsyncScrollEventDetail; r=bzbarsky 
Bug 1000675.  Don't always include nsContentUtils in example codegen, fix example header guards to not end with __, don't use fully-qualified names in argument types when those argument types are in the mozilla::dom namespace already, and include headers from mozilla/dom.  r=jst 
Bug 1000944.  Allow unions and dictionaries that contain non-SpiderMonkey WebIDL interface types to be copy-constructed.  r=dzbarsky 
Bug 942121.  Fix WebIDL dictionary member tracing to null-check nullable object types before trying to trace them, since passing pointer-to-null to JS_CallObjectTracer is not OK.  r=smaug 
Bug 1001936 - Clear the value cache when the editor is being destroyed because it won't get updated when we don't have a bound frame; r=bzbarsky 
Bug 997805 - Correctly restore the placeholder text after the editor object is re-attached to a text control as a result of a reframe; r=bzbarsky
Bug 493701 - part 1: add nsTObserverArray::BackwardIterator; r=bzbarsky 
Bug 493701 - part2: Use TObserverArray for DocLoader Listeners; r=bzbarsky
Bug 493701 - part 3: add and use a BackwardIterator::Remove method; r=bzbarsky 
Bug 1002313 - Fix the test for bug 503926 so that it doesn't rely on nsIDOMNode being scriptable; r=bzbarsky 
Bug 1003539 - change HTMLTableElement::insertRow so that it when no row is present, it adds a row to the last TBODY element of the table; r=bzbarsky 
Bug 1004766.  Make sure to enter the compartment of our new global before working with it when wrapping global objects.  r=nsm 
Bug 1004198.  Improve codegen in testValueTruthyKernel to emit as few tests as we can get away with given our type inference information.  r=jandem 
Bug 1004169.  Make sure MTest always uses TI information for deciding whether its operand might emulate undefined.  r=jandem 
Bug 1005590.  MNot can also end up with a known-not-object type even while we think it might emulate undefined.  Guard against that.  r=jandem 
Bug 997285 part 1.  Add JS_GetErrorPrototype to JSAPI.  r=jorendorff 
Bug 997285 part 2.  Add [ExceptionClass] support to WebIDL.  r=peterv 
Bug 997285 part 3.  Make DOMException [ExceptionClass].  r=peterv 
Bug 997285 part 4.  Drop the custom stringifier from DOMException in favor of the default one on Error.prototype.  r=peterv 
Bug 1001157.  Assert that there is no exception pending on the JSContext afer a DOM call if the call was not marked as throwing or if it did not throw on the ErrorResult.  r=peterv 
Bug 986837 - Part 1: Port MozNetworkStatsData to WebIDL. r=bzbarsky 
Bug 986837 - Part 2: Port MozNetworkStatsInterface to WebIDL. r=bzbarsky 
Bug 986837 - Part 3: Port MozNetworkStatsAlarm to WebIDL. r=bzbarsky 
Bug 986837 - Part 4: Port MozNetworkStats to WebIDL. r=bzbarsky 
Bug 986836 - Part 5: Expose MozNetworkInterface for testing. r=bzbarsky 
Backed out changeset 6701ef0c75b4 for landing with the wrong bug number. r=bzbarsky 
Bug 986837 - Part 5: Expose MozNetworkInterface for testing. r=bzbarsky
Bug 1001157.  Assert that there is no exception pending on the JSContext afer a DOM call if the call was not marked as throwing or if it did not throw on the ErrorResult.  r=peterv 
Bug 997285 part 1.  Add JS_GetErrorPrototype to JSAPI.  r=jorendorff 
Bug 997285 part 2.  Add [ExceptionClass] support to WebIDL.  r=peterv 
Bug 997285 part 3.  Make DOMException [ExceptionClass].  r=peterv,jorendorff 
Bug 997285 part 4.  Drop the custom stringifier from DOMException in favor of the default one on Error.prototype.  r=peterv,robcee 
Bug 1006718.  Add some sanity static asserts about DOM object slot counts.  r=peterv,jorendorff 
Bug 994964 - Make DOM XPIDL interfaces non-scriptable, and add shim Components.interfaces entries for them; r=bzbarsky,bholley 
Bug 990289.  Make running a single mochitest run it in a way where the subtest results can be accessed.  r=ted 
Bug 1007458.  Actually check for errors when converting a Value to a variant in showModalDialog.  r=smaug 
Bug 1007790.  When compiling the <body>'s onerror handler, do give it all five args.  r=smaug 
Bug 1007940 - Improve the performance of editor initialization; r=bzbarsky 
Bug 1007053 - Pt2 - Add canBeShared, canBeMounted, canBeFormatted attributes To DeviceStorage webidl. r=bzbarsky 
Bug 1004434 - MaxFileSize, MaxVideoLength of CameraControl Interface recording options should be of 64 bits. r=dhylands, r=bzbarsky 
Bug 1008236.  Assert that binding generic getters/setters/methods return values that match the return type claimed in the jitinfo.  r=smaug 
Bug 1010344.  Don't do deep compares on window objects in addon SDK tests, since that's not a very useful thing to do and can go into infinite loops.  r=mossop 
Bug 1004458.  Maintain modal state on outer windows only instead of relying on forwarding from inner to outer.  r=peterv 
Bug 1008719.  CSS syntax got changed to allow identifiers starting with "--", so update our escaping code accordingly.  r=dholbert 
Bug 1008236.  Assert that binding generic getters/setters/methods return values that match the return type claimed in the jitinfo.  r=smaug 
Bug 1004458.  Maintain modal state on outer windows only instead of relying on forwarding from inner to outer.  r=peterv 
Bug 1008719.  CSS syntax got changed to allow identifiers starting with "--", so update our escaping code accordingly.  r=dholbert 
Bug 1004458.  Maintain modal state on outer windows only instead of relying on forwarding from inner to outer.  r=peterv 
Bug 1008719.  CSS syntax got changed to allow identifiers starting with "--", so update our escaping code accordingly.  r=dholbert 
Bug 1011810.  Return the right type from getIccById.  r=htsai,smaug 
Bug 1008236.  Assert that binding generic getters/setters/methods return values that match the return type claimed in the jitinfo.  r=smaug 
Bug 1011815 part 1.  Replace nsISupports with DOMRequest in MozIcc.webidl.  r=smaug,echen 
Bug 1011815 part 2.  Make DOMRequest.error be a DOMError.  r=smaug 
Bug 881996 part 1.  Make cloning static documents not reset the principal on the clone after setting it to the right thing.  r=smaug 
Bug 996095.  All 32-bit integers are valid values for tabindex; don't restrict it to the int16_t range during parsing.  r=smaug 
Bug 1010658 part 1.  Stop using the DOMClass stored in DOM_PROTO_INSTANCE_CLASS_SLOT for doing type checks in the jit, and do them directly on the instance classes instead.  r=efaust 
Bug 1010658 part 2.  Stop storing a DOMClass* in a slot on DOM prototypes.  r=peterv 
Bug 1000175.  Make sure error events on window only fire if the active document has not changed from when the exception was thrown.  r=smaug 
Bug 1012944.  Hide window.home/back/forward from web pages, since those are non-standard and cause pages to not set up their own thins with the same names.  r=peterv 
Bug 999315.  Revert alert(undefined) to showing the string "undefined" again, like it used to, pending the spec getting sorted out.  r=peterv 
Bug 891952.  Named getters for HTMLCollection should never return anything for "".  r=smaug 
This also fixes the GetSupportedNames on nsContentList HTMLCollections to follow the spec. 
Bug 999456.  Page load events should not be cancelable.  r=smaug 
Bug 528456.  Enable :scope support in querySelector and scoped stylesheets by default.  r=dholbert 
Bug 869836 followup to fix build bustage 
Bug 891952.  Named getters for HTMLCollection should never return anything for "".  r=smaug 
This also fixes the GetSupportedNames on nsContentList HTMLCollections to follow the spec. 
Bug 101800.  Add support for text-transform:uppercase/lowercase (but not other values) on <xul:label value="whatever">.  r=dholbert 
Bug 998356.  Don't completely fail out of the parser if we can't format one of our string error messages.  r=hsivonen 
Bug 1007878 part 1.  Add parsing of MozMap to the WebIDL parser.  r=khuey 
Bug 1007878 part 2.  Add a C++ type to represent MozMap.  r=khuey 
Bug 1007878 part 3.  Add JS-to-C++ conversion for MozMap.  r=khuey 
Bug 1007878 part 4.  Add C++-to-JS conversion for MozMap.  r=khuey 
Bug 1007878 part 5.  Implement callback codegen for MozMap.  r=khuey 
Bug 1007878 part 1.  Add parsing of MozMap to the WebIDL parser.  r=khuey 
Bug 1007878 part 2.  Add a C++ type to represent MozMap.  r=khuey 
Bug 1007878 part 3.  Add JS-to-C++ conversion for MozMap.  r=khuey 
Bug 1007878 part 4.  Add C++-to-JS conversion for MozMap.  r=khuey 
Bug 1007878 part 5.  Implement callback codegen for MozMap.  r=khuey 
Bug 1017820 - Remove the classinfo for DOMWindowUtils; r=bzbarsky 
Bug 985135 - Test that sandboxed origin flag is honoured across redirects. r=bobowen 
Bug 1017428 part 1.  Store information in jitinfo about [Cached] attribute slots in addition to [StoreInSlot] ones.  r=peterv,efaust 
Bug 1017428 part 2.  Add a fast path to Ion for [Cached] DOM attributes. r=efaust 
Bug 989584.  Allow sites to set window.opener to any value.  r=peterv 
Bug 1017932.  Don't expose the XMLDocument bits on the return value of new Document().  r=peterv 
Bug 1019091.  Do less work in the CallSetup destructor when we have no exception.  r=bholley 
Bug 1019149.  For calls into JS-implemented WebIDL, don't check whether it's OK to run the script (it is) and whether the script lives in a window (it doesn't).  r=bholley 
Bug 1016560.  Remove the footgun of rejecting promises with arbitrary objects.  r=khuey 
Bug 1016063.  Don't include the fake classnames XUL tree pseudo-elements have when calculating style rule specificity.  r=heycam 
Bug 1016560 followup.  Fix a new Promise::MaybeReject callsite that was introduced. r=build-bustage 
Bug 1016560.  Remove the footgun of rejecting promises with arbitrary objects.  r=khuey 
Bug 1019163.  Hold a weak ref to the principal in AutoEntryScript, to reduce call overhead.  r=bholley 
Bug 1019160 - part 2 - separate out some Fake* class changes; r=froydnj,because-it-works 
Bug 1022043 - Remove EventStates' copy constructor and assignment operator to make it trivially copyable so that it builds with clang-cl; r=bzbarsky 
Bug 1021670 - Enable using non-wrapper-cached objects in unions; r=bzbarsky 
Bug 1017798 - Part 1: Make AncestorFilter and the TreeMatchContext style scope list include ancestors from following ShadowRoots up to the light tree. r=bzbarsky 
Bug 1017798 - Part 2: Set content bits on elements in shadow trees indicating whether they are in a style scope from the light tree. r=bzbarsky 
Bug 1017798 - Part 3: Crashtest. r=bzbarsky 
Bug 1020715.  Remove the quickstubs for quota API.  r=peterv 
Bug 1019417.  When enumerating the window, make sure to not enumerate frame names that we wouldn't actually expose.  r=bholley 
Bug 1009675 part 1.  Change the return value of getRetvalDeclarationForType to allow more than two states for the outparam bit.  r=peterv 
Bug 1009675 part 2.  Return WebIDL 'any' values as handles.  r=peterv 
Bug 1009675 part 3.  Return WebIDL 'object' values as handles.  r=peterv 
Bug 1024195 - Fix a compilation error with clang-cl in nsContentList.cpp; r=bzbarsky
Bug 1024463 - Define an out of line destructor for TextTrackCue so that we can forward delcare HTMLTrackElement in TextTrackCue.h; r=bzbarsky
Bug 1024465 - Define an out of line destructor for DataStore so that we can forward delcare DataStoreImpl in DataStore.h; r=bzbarsky
Bug 973815 - Implements WebGL extension EXT_blend_minmax - r=jgilbert,bzbarsky 
Bug 1025324 - Define an out of line destructor for MediaSource so that we can forward delcare MediaSourceList in MediaSource.h; r=bzbarsky
Bug 973815 - Implements WebGL draft extension EXT_blend_minmax - r=jgilbert,bzbarsky 
Bug 1024459 - Define an out of line destructor for TextTrack so that we can forward delcare HTMLTrackElement in TextTrack.h; r=bzbarsky
Bug 1011748 - Mochitest unit test + resource files for this bug. r=bzbarsky 
Bug 1019194 part 1.  Get rid of nsIIndexedDatabaseManager.  r=paul,khuey,mossop 
Bug 1019194 part 2.  Get rid of the XPCOM contract way of creating an IndexedDatabaseManager.  r=khuey 
Bug 996798 - Add a typedef to make it easier to change the size of nsWrapperCache/nsINode flags.  r=bzbarsky 
Bug 1025725 - Part 1: Give nsXBLPrototypeResources::mRuleProcessor a more concrete type. r=bzbarsky 
Bug 1025725 - Part 2: Encapsulate nsXBLPrototypeResources::mRuleProcessor. r=bzbarsky 
Bug 1025725 - Part 3: Encapsulate nsXBLPrototypeResources::mStyleSheetList. r=bzbarsky 
Bug 958782 - 2.b/3: WebIDL implementation. f=Ms2ger,bzbarsky,bz,r=khuey 
Bug 1026706.  Stop pickling our yacc grammar in the WebIDL parser, because now it's apparently faster to recreate it than to unpickle it.  r=khuey 
Bug 1026080 part 1.  Add WebIDL parser support for [] as a default value for sequence arguments and dictionary entries.  r=khuey 
Bug 1026080 part 2.  Add binding codegen support for [] as a default value for sequence arguments and dictionary entries.  r=khuey 
Bug 767924 part 1.  Add support for holders with nonempty holderArgs in unions.  r=peterv 
Bug 767924 part 2.  Introduce both const and non-const versions of GetAs* methods on unions, with the former returning the public-facing type and the latter returning the internal type.  r=peterv 
Bug 767924 part 3.  Allow sequences in unions.  r=peterv 
Bug 767924 part 4.  Allow [] as a default value for sequences in unions.  r=peterv 
Bug 1023762 part 1.  Factor out the IDL-to-C++ type mapping for event codegen into a separate function.  r=smaug 
Bug 1023762 part 2.  Add basic support for sequences of non-containers to event codegen.  r=smaug 
Bug 1027667.  Allow MozMap in unions.  r=peterv 
Bug 1028680 - Give TextTrackList an out-of-line destructor so that we can forward declare TextTrackManager in the header; r=bzbarsky 
Bug 1028679 - Give DOMAudioNodeMediaStream an out-of-line destructor so that we can forward declare AudioNode in the header; r=bzbarsky 
Bug 1029102.  Don't drop webidlyacc.py files caching the webidl grammar in the source dir when running webidl parser tests.  r=gps 
Bug 1023121.  Update our progress in docloader before calling state change listeners.  r=smaug 
Bug 958782 - 2.b/3: WebIDL implementation. f=Ms2ger,bzbarsky,r=khuey 
Bug 1011748 - Added logic to GetStatusText to ensure the statusText value is available after all redirects (if any) have been followed.  Added mochitest unit test which is disabled for b2g and e10. r=bzbarsky 
Bug 1030938.  Stop copy-constructing iterators in SavedStacks code, because that copy constructor is really slow.  Also, hash atoms as pointers, not strings.  r=shu 
bug 1030067 - ignore the principal when caching data-URI fonts, to allow sharing across pages with the same CSS. r=bzbarsky 
Bug 1027221 - Test that promises can be resolved with a PermanentAtom string; r=terrence 
Bug 997010 (Part 2) - Reftest for dynamic changes to the image-orientation property. r=dbaron 
Bug 1031967 - Make mozilla::css::Loader cycle collected and traverse its observer array. r=bzbarsky 
Bug 966471.  Add some facilities for examining the state of a promise via a PromiseDebugging utility namespace.  r=nsm,peterv 
Bug 1033157.  Move the setup of the JSRuntime DOM callbacks into the CycleCollectedJSRuntime constructor, so we don't have to separatedly do it for workers, windows, and xpcshell.  r=khuey 
Bug 1033100.  Fix event codegen to compile when an event has a sequence-of-non-null-interface-type member.  r=smaug 
Bug 1024860 - getTotalLength on an empty path should not throw but return 0 instead. r=jwatt,bzbarsky 
Bug 1018583 part 1.  Remove the execute-in-sandbox mode for javascript: URIs, and use the don't-execute mode wherever we used the sandbox one.  r=bholley,dao 
Bug 1018583 part 2. Remove the returnStringOnly gunk from sandboxes.  r=bholley 
Bug 966452 part 1.  Refactor the js_ReportUncaughtException to produce a (message, JSErrorReport*) pair before reporting.  r=waldo 
Bug 966452 part 2.  Report all unhandled Promise rejections.  r=nsm 
Bug 857648 part 1.  Remove unnecessary code that tries to filter out non-JS stack frames from a known-JS-only stack.  r=khuey 
Bug 857648 part 2.  Split JSStackFrame into a generic class and a JS-specific class.  r=khuey 
Bug 857648 part 3.  Switch from using JS::DescribeStack to JS::CaptureCurrentStack for producing JSStackFrames.  r=khuey 
Bug 857648 part 4.  Add a formattedStack attribute on nsIStackFrame.  r=khuey 
Bug 857648 part 5.  Expose a .stack property on DOMExceptions.  r=khuey 
Bug 857648 part 6.  Remove the now-unused JS::DescribeStack API.  r=jimb 
Bug 1018583 part 1.  Remove the execute-in-sandbox mode for javascript: URIs, and use the don't-execute mode wherever we used the sandbox one.  r=bholley,dao 
Bug 1018583 part 2. Remove the returnStringOnly gunk from sandboxes.  r=bholley 
Bug 1034616.  Fix Frame-onPop-generators-02.js test to pass even if we start reporting the exceptions we're supposed to be reporting but fail to report right now.  r=jorendorff 
Bug 965413 part 1.  Rename the WebRTC-private LoadInfo class to RTCLoadInfo so it won't interfere with adding mozilla::LoadInfo.  r=jesup 
Bug 965413 part 2.  Introduce an nsILoadInfo interface that can be used to propagate information like the loading principal and whether it should be inherited along with the load.  r=smaug, sr=sicking 
Bug 965413 part 3.  Add a .loadInfo property to channels.  r=mcmanus 
Bug 965413 part 4.  Teach the security manager about nsILoadInfo.  r=smaug 
For now just preserve the old behavior of storing the principal in the session history. 
Bug 965413 part 6.  Create an implementation of nsILoadInfo.  r=smaug 
We're going to want to check whether a channel has an existing owner in some cases, but some channels currently assert if you just ask them whether they have an owner. 
Bug 965413 part 8.  Make HTTP redirects propagate along the load info.  r=smaug 
Bug 965413 part 9.  Support use of a LoadInfo for javascript: URLs.  r=smaug 
Bug 965413 part 10.  Use a LoadInfo for loading documents in various places where we force a particular principal.  r=smaug 
Bug 965413 part 11.  Use a LoadInfo as needed for loading stylesheets.  r=smaug 
Bug 965413 part 12.  Use a LoadInfo in SetUpChannelOwner.  r=smaug 
Bug 965413 part 13.  Stop propagating null principal owners across redirects in nsHttpChannel, since we now handle that via loadInfo.  r=smaug 
Bug 832014 part 1.  Add parser support for an [Unforgeable] annotation on WebIDL interfaces.  r=peterv 
Bug 832014 part 2.  Add codegen support for [Unforgeable] interfaces.  r=peterv 
Bug 832014 part 3.  Start using nsLocation for the Location interface in bindings.  r=peterv 
Bug 832014 part 4.  Make the URLUtils APIs able to throw, since Location needs to be able to do that so far.  r=peterv 
Bug 832014 part 5.  Add WebIDL API to nsLocation.  r=peterv,bholley 
Bug 832014 part 6.  Make it possible to specify that only a particular interface that implements a given consequential interface gets cross-origin-settable behavior for a particular property.  r=bholley 
Bug 832014 part 7.  Fix Xray support for unforgeable methods.  r=peterv 
Bug 832014 part 8.  Switch Location to WebIDL bindings.  r=peterv,bholley 
Bug 832014 part 9.  Switch AccessCheck to using the generated LocationBinding::IsPermitted method.  r=bholley 
Bug 857648 part 1.  Remove unnecessary code that tries to filter out non-JS stack frames from a known-JS-only stack.  r=khuey 
Bug 857648 part 2.  Split JSStackFrame into a generic class and a JS-specific class.  r=khuey 
Bug 857648 part 3.  Switch from using JS::DescribeStack to JS::CaptureCurrentStack for producing JSStackFrames.  r=khuey 
Bug 857648 part 4.  Add a formattedStack attribute on nsIStackFrame.  r=khuey 
Bug 857648 part 5.  Expose a .stack property on DOMExceptions.  r=khuey 
Bug 857648 part 6.  Remove the now-unused JS::DescribeStack API.  r=jimb 
Bug 996798 patch 2 - Make the ability to change nsWrapperCache::FlagsType more portable.  r=bzbarsky
Bug 1040263.  Eagerly create and preserve Promise reflectors so we always have them available during unlink.  r=nsm,bholley. 
Bug 966452 part 1.  Refactor the js_ReportUncaughtException to produce a (message, JSErrorReport*) pair before reporting.  r=waldo and including the fix for bug 1034616 to fix JS tests to deal with this, r=jorendorff.  r=terrence on the AutoStableStringChars bits 
Bug 966452 part 2.  Report all unhandled Promise rejections.  r=nsm,bholley 
Bug 957243.  Fix test_bug602838.html to not assume server response ordering.  r=mayhemer 
Bug 1021066.  Make named setters work even for non-overridebuiltins bindings over Xrays.  r=bholley,jorendorff 
Bug 660237 - implement nsIDOMStorage with a proxy, r=bzbarsky, r=mayhemer 
Bug 981257 - Free up the unused NODE_ATTACH_BINDING_ON_POSTCREATE bit.  r=bzbarsky 
Bug 1043713 - Expose custom property names on computed style objects with their "--" prefix. r=bzbarsky 
Bug 1031945.  Don't expose showModalDialog on Window if it's preffed off.  r=smaug 
Bug 1037271.  When loading sandboxed without a loading principal, just create a NullPrincipal instead of asserting and misbehaving.  r=smaug 
Bug 1041646.  Don't assume mStack is non-null in JSStackFrame, since people sometimes operate on them after unlinking.  r=khuey 
Bug 1044049.  Bump bindings to unify 32 files per unified file instead of 16, since we keep getting more bindings.  r=ehsan 
Back out bug 1031945 for now because we have silly pref settings on mobile and dumb tests.  a=orange 
Bug 1031945.  Don't expose showModalDialog on Window if it's preffed off.  r=smaug 
Bug 957243. Fix test_bug602838.html to not assume server response ordering. r=mayhemer 
Bug 1038399.  Add a ToJSON method to Web IDL dictionaries.  r=bholley 
Bug 1045743.  Add support for the Promise<type> syntax to Web IDL bindings.  r=khuey 
Bug 1035654 - Part 1: Add a crashtest. r=bzbarsky 
Bug 1035654 - Part 2: Add ImplCycleCollectionTraverse for OwningNonNull<T>. r=bzbarsky 
Bug 1035654 - Part 3: Generate cycle collection traverse/unlink for unions. r=bzbarsky 
Bug 916607 - 1/4: Convert MozSmsSegmentInfo to WebIDL dictionary. Interface changes. r=bzbarsky, r=khuey 
Bug 916607 - 2/4: implementation. r=bzbarsky, r=gene 
Bug 916607 - 4/4: fix test cases. r=bzbarsky, r=gene 
Bug 886308.  Implement Element.matches.  r=heycam 
Bug 1043690 part 2.  Change the codegen for DOM proxies to ignore named props when looking up property descriptors on [[Set]].  r=efaust 
Bug 1045161 patch 1 - Stop implementing ParseAttribute for frame and rules (to parse them to enumerated values) since we no longer map them into style.  r=bzbarsky
Bug 1045161 patch 2 - Remove write-only member variables of nsStyleTable.  r=bzbarsky 
Bug 1045096.  Make sure initial about:blank in iframes have a nsDOMNavigationTiming object, so we don't end up with window.performance throwing when accessed on their window. r=smaug 
Bug 1017988 part 1.  Make our Web IDL parser fail on warnings from the underlying ply code.  r=khuey 
Bug 1017988 part 2.  Add support for parenthesized lists as values of extended attributes in Web IDL.  r=khuey 
Bug 1017988 part 3.  Allow the Global extended attribute to take a value.  r=khuey 
Bug 1017988 part 4.  Rejigger how we do partial interfaces so that we can keep track of which partial interface a given member came from.  r=khuey 
Bug 1017988 part 5. Store the set of known global names on our outermost IDLScope. r=khuey 
Bug 1017988 part 6.  Implement support for [PrimaryGlobal].  r=khuey 
Bug 1017988 part 7.  Add support for parsing the [Exposed] Web IDL attribute and determining whether a given interface member should be exposed in a particular global.  r=khuey 
Bug 1017988 part 8.  Add [Exposed] extended attributes as needed.  r=khuey 
Bug 1017988 part 9.  Don't codegen window-only things on worker descriptors.  r=khuey 
Bug 1017988 part 10.  Disallow Pref annotations on things that are exposed in workers.  r=khuey 
Bug 1017988 part 11.  Codegen the definition of interface objects on worker globals.  r=khuey 
Bug 1048437.  Allow dictionary members with '-' in the name.  r=khuey 
Bug 1048579. Always sniff for media loads. r=bzbarsky 
Bug 1057098 - Rename ElementRestyler::Restyle{Before,After}Pseudo to MaybeReframeFor{Before,After}Pseudo.  r=bzbarsky 
Bug 1048579. Always sniff for media loads. r=bzbarsky 
Bug 1047777.  Disallow the [CheckPermissions] extended attributeon things that are exposed in workers, since its implementation does not work correctly on workers.  r=peterv 
Bug 929609 part 1.  Rename "jsObjectsArePtr" to "typedArraysAreStructs" (and invert its meaning, of course), since that's what it's really used for nowadays.  r=peterv 
Bug 929609 part 2.  Fix passing of typed arrays to JS-implemented WebIDL to actually work.  r=peterv 
Bug 1051530. Update the nsImageLoadingContent state when we get a decode complete notification so that decode errors are recorded in our image state. r=bzbarsky
Bug 921453.  Don't allow conditional-exposure annotations on an interface that has no interface object, since they make no sense there.  r=khuey 
Bug 908390 part 1.  Make [Exposed] work correctly on jsonifiers and stringifiers and don't create an unforgeable toJSON just because we have a jsonifier.  r=khuey 
Bug 908390 part 2.  Implement performance.now() on workers.  r=khuey 
Bug 921453 followup.  Remove pointless AvailableIn and CheckPermissions annotations on MozNFCManager. 
Bug 908390 followup.  Fix up event timestamps on workers, and enable the test that was supposed to test for it.  r=khuey pending 
Bug 1061202.  Make sure to not double-add app-theme-changed observers when a document has OnPageShow called on it twice without an OnPageHide call in between.  r=khuey 
Bug 1061000 - Fix more bad implicit constructors in uriloader; r=bzbarsky 
Bug 1061202.  Make sure to not double-add app-theme-changed observers when a document has OnPageShow called on it twice without an OnPageHide call in between.  r=khuey 
Bug 969490.  Add a Components.utils.now() that provides access in system JS to a monotonic timer, returning a fractional number milliseconds since process creation.  r=bholley 
Bug 1057176.  Don't try to use the document's window for regexp evaluation in nsContentUtils::IsPatternMatching, since there might not be one.  Just use the unprivileged junk scope.  r=bholley 
Bug 716491.  Return a .status of 200 and .statusText of "OK" for successful non-HTTP XHR loads.  r=smaug 
Bug 1057541 part 1.  Change the IDL parser to allow an optional "required" on dictionary members.  r=khuey 
Bug 1057541 part 2.  Add a way to ask an IDLArgument whether it guarantees that it will always have a value.  r=khuey 
Bug 1057541 part 3.  Change codegen to support required dictionary members.  r=khuey 
Bug 1017424 part 1.  Remove support for the dom.window_experimental_bindings preference.  r=peterv 
Bug 1017424 part 2.  Rip out code in nsGlobalWindow that handles the window being on non-WebIDL bindings.  r=peterv 
Bug 1017424 part 3.  Remove the now-unnecessary nsIDocument::WrapObject.  r=peterv 
Bug 1017424 part 4.  Remove Web IDL quickstubs for Window.  r=peterv 
Bug 1017424 part 5.  Remove classinfo for Window.  r=peterv 
Bug 1017424 part 6.  Remove the WindowOnWebIDL function.  r=peterv 
Bug 1017424 part 7.  Remove code to handle XPConnect window wrappers from WindowNamedPropertiesHandler and XPCJSRuntime.  r=peterv 
Bug 1017424 part 8.  Remove the annotation of Window as having XPConnect impls in codegen.  r=peterv 
Bug 1017424 part 9.  Remove redundant xpconnect code looking for ChromeWindow/ModalContentWindow classes.  r=bholley 
Bug 974857.  Compare attempted anchor traversals to both the actual page URI and the exposable URI, and do an anchor scroll if either one matches.  r=smaug 
Bug 880997 part 1.  Move GetEnumAttr up to Element so I can use it in SVG code.  r=smag 
Bug 880997 part 2.  Fix reflect.js to be more strict when examining the value of the IDL attribute for enumerated reflection (e.g. to differentiate between null and empty string) and to allow flagging enumerated reflection as allowing null as a value. 
Bug 880997 part 3.  Change crossOrigin reflection to allow null values and be a limited enumerated attribute.  r=smaug 
Bug 1017425.  Make the "performance" attribute of Window [StoreInSlot].  r=peterv 
Bug 880997 followup to fix a reflection test I missed and fix the orange 
Bug 880997 another followup: fix the web-platform-tests failure annotations to reflect the new reality and fix more orange. 
Bug 1063521.  Remove the WANT_OUTER_OBJECT classinfo flag, since it's now unused.  r=bholley 
Bug 1063889.  Fix the handling of sequences of wrapper types in unions.  r=khuey 
Back out bug 1063889 (rev 2f5df573f4a3) because windowsx.h defines GetFirstChild/GetNextSibling macros, so will make the world blow up if you include it anywhere near nsIDOMNode/nsINode. r=bustage 
Bug 1063889.  Fix the handling of sequences of wrapper types in unions.  r=khuey 
Bug 1065257 - Assorted cleanups in nsLayoutStyleSheetCache. r=bzbarsky 
Bug 575675 - Remove assertion about aRelevantLinkVisited that isn't needed, and assumes that all link elements are styled with a style sheet that has :visited rules.  r=bzbarsky 
Bug 1058131: Avoid getting a crashy hook from Avast 10 Beta. r=bzbarsky 
Update some documentation to make it clearer.  No bug, DONTBUILD 
Bug 1069065 - Cycle collect ImportRule. r=bzbarsky 
Bug 843272.  Uncomment tests that should not be commented out.  r=mccr8 
Bug 1067504.  Hook up print preview to our parent widget as needed, so it will actually paint.  r=smaug 
Bug 1066776.  Make variadic dictionary arguments work.  r=khuey 
Bug 958887 part 1.  Add support for doing BinaryName annotations in IDL.  r=peterv 
Bug 958887 part 2.  Pass the actual names of the CSS properties involved to GenerateCSS2PropertiesWebIDL.py.  r=peterv 
Bug 958887 part 3.  Fix codegen support for IDL attribute names and methods with dashes in them.  r=peterv 
Bug 958887 part 4.  Generate property accessors on the CSS2Properties interface for the dashed-named CSS properties and float that use their actual property names.  r=peterv 
Bug 1066826.  Remove navigator.mozIsLocallyAvailable API.  r=peterv 
Bug 1071615.  Make codegen fail when "A implements B" appears on a Web IDL file different from the file A is defined in. r=khuey 
Bug 1070764.  Don't try to use the uninitialized temp value while default-constructing a dictionary with a required member.  r=khuey 
Bug 1030192 part 1.  Make sequences distinguishable from dictionaries and callbacks in the Web IDL parser.  r=khuey 
Bug 1030192 part 2.  Codegen changes to handle cases when a sequence is actually overloaded with a dictionary.  r=khuey 
Bug 1072991.  Make sure to set the right base URI on the document clones we create for printing.  r=smaug 
Bug 1066432.  Update ForOfIterator to the changes in Web IDL's handling of sequences as iterables.  We now commit to an iterable if we get a non-undefined value for the Symbol.iterator property, not just if we get a callable value.  r=jorendorff 
Bug 1066432 followup.  Remove bogus alerts from the test. 
Bug 1065185 followup: expose the indexed prop we're trying to access in this test to reopen the CLOSED TREE 
Bug 1028497 - Part 2: Add Web IDL interfaces for CSS Font Loading API. r=bzbarsky 
Bug 1028497 - Part 5: Implement document.fonts. r=bzbarsky 
Bug 1028497 - Part 7: Add ability to create a FontFace for a @font-face rule; store it on the nsCSSFontFaceRule. r=jdaggett,bzbarsky
Bug 1028497 - Part 12: Implement FontFace.loaded. r=jdaggett,bzbarsky 
Bug 1028497 - Part 15: Store FontFace objects on the FontFaceSet rather than nsCSSFontFaceRules. r=jdaggett,bzbarsky
Bug 1028497 - Part 19: Support disconnecting FontFaces that reflect @font-face rules. r=jdaggett,bzbarsky
Bug 1028497 - Part 20: Add storage for unconnected FontFace objects and create user font entries for them. r=jdaggett,bzbarsky
Bug 1028497 - Part 21: Implement the FontFace constructor's parsing of descriptors. r=bzbarsky,jdaggett
Bug 1028497 - Part 24: Implement FontFaceSet.{ready,status} and dispatch events. r=jdaggett,bzbarsky 
Bug 1028497 - Part 25: Support loading of fonts from ArrayBuffer{,View}s. r=bzbarsky,jdaggett 
Bug 1075617.  Log the correct file/line for the @font-face rule for font errors.  r=jfkthame 
Bug 1075617 followup to fix crash when rule is null. 
Bug 1075247 - Add support for starting the iteration from the end to FlattenedChildIterator and AllChildrenIterator.  r=bzbarsky 
Bug 771043.  Move MediaQueryList tracking from the prescontext to the document, so they will correctly outlive prescontext changes.  r=dbaron 
Bug 1074886 - URLSearchParams.get() should return null (not empty string) when not find pair. r=bzbarsky 
Bug 1047928 patch 1 - Add more comments explaining eRestyle_Subtree vs. eRestyle_ForceDescendants.  r=bzbarsky 
Bug 1047928 patch 2 - Pass restyle hint to RestyleManager::RebuildAllStyleData.  r=bzbarsky
Bug 1047928 patch 3 - Pass restyle hint to nsPresContext::RebuildAllStyleData.  r=bzbarsky
Bug 1047928 patch 4 - Don't rerun selector matching for charset or system color changes.  r=bzbarsky 
Bug 1047928 patch 4a - Explain why we need to rerun selector matching for preference changes.  r=bzbarsky 
Bug 1047928 patch 5 - Pass restyle hint to RestyleManager::PostRebuildAllStyleDataEvent.  r=bzbarsky
Bug 1047928 patch 6 - Pass restyle hint to nsPresContext::PostRebuildAllStyleDataEvent.  r=bzbarsky
Bug 1047928 patch 7 - Don't rerun selector matching when user font set is updated.  r=bzbarsky 
Bug 1047928 patch 8 - Don't rerun selector matching when @counter-style rules change.  r=bzbarsky 
Bug 1047928 patch 9 - Don't rerun selector matching for viewport units.  r=bzbarsky 
Bug 1047928 patch 10 - Pass restyle hint to nsPresContext::MediaFeatureValuesChanged.  r=bzbarsky
Bug 1047928 patch 11 - Fix indentation.  r=bzbarsky 
Bug 1047928 patch 12 - Optimize nsDocShell::SetDeviceSizeIsPageSize better, since changing results of media queries should not require forcing restyling if media queries don't change.  r=bzbarsky 
Bug 1047928 patch 13 - Don't rerun selector matching for changes to zoom, min font size, or app units per dev pixel.  r=bzbarsky 
Bug 1047928 patch 14 - Explain why changes to theme require rerunning selector matching.  r=bzbarsky 
Bug 839838 - Implement DOMRequest.then; r=sicking,bzbarsky
Bug 1078113 - Use Cu.cloneInfo() to wrap returned values. r=bzbarsky r=vchang 
Bug 839838 - Implement DOMRequest.then; r=sicking,bzbarsky
Bug 1080742.  Make DumpJSStack() work on workers.  r=bholley 
Bug 1082843.  Don't import Promise.jsm into the global scope in xpcshell tests.  r=yoric 
Bug 1037990 - AccessLabelKey is now accessible event if the element is detached. r=bzbarsky 
Bug 1058397 - Part 5: Fix test: USSDReceivedEvent is not exposed. r=bzbarsky 
Bug 1083229.  Give FrameStateVector a nonzero minimal length, so we don't end up doing a bunch of realloc/copy as we walk our stack.  r=fitzgen 
Bug 1083232.  Don't refcount the principals in FrameState, since it has stack lifetime and the principals will be kept alive by the JS stack while he FrameState is alive.  r=fitzgen 
Bug 1073124 part 1.  Hack the "System" global name into the Web IDL parser, since we have no actual Web IDL interface for system globals.  r=khuey 
Bug 1073124 part 2.  Define Exposed=System things in BackstagePass::NewResolve as needed.  r=bholley 
Bug 1073124 part 3.  Make PromiseDebugging [Exposed=System].  r=bholley 
Bug 1084439.  Remove ResolveWorkerClasses in favor of [Exposed=System] annotations.  r=bholley 
Bug 1083591.  Support stringifiers and jsonifiers on non-concrete Web IDL interfaces as well, since they make sense there.  r=peterv 
Bug 1083851 part 1.  Capture allocation stacks at promise creation time.  r=nsm 
Bug 1083851 part 2.  Capture stacks at promise rejection time.  r=nsm 
Bug 1083851 part 3.  Capture stacks at promise fulfillment time.  r=nsm 
Bug 1083851 part 4.  Expose promise stacks on PromiseDebugging. 
Bug 1083950.  Add a way to get the promises that depend on a given promise via PromiseDebugging.  r=nsm 
Bug 1083591 followup.  Remove not-yet-implemented stringifier. 
Bug 1083461 - Convert nsCSSValue{,Pair}List::operator== back to a static Equal method so that it can be validly called on null pointers.  r=bzbarsky 
Bug 1084030.  Store the promise creation and settlement timestamps and expose that information via PromiseDebugging.  r=nsm 
Bug 1085071.  Stop handling JSPropertyOp getters/setters in sandbox code, since we no longer have those around for any of the objects we care about.  r=bholley 
Bug 1019191 part 1.  Remove the dead finishInitForWrappedGlobal method.  r=bholley 
Bug 1019191 part 2.  Remove WebIDL quickstubs for EventTarget, since the only remaining xpconnect EventTargets with classinfo are globals, and we never call PostCreatePrototype on globals.  r=peterv 
Bug 1019191 part 3.  Remove calls to the empty DOM_MarkInterfaces/DOM_ClearInterfaces/DOM_InitInterfaces functions and the functions themselves.  r=peterv 
Bug 1019191 part 4.  Remove the now-dead xpc_qsThrowGetterSetterFailed and xpc_qsThrowBadSetterValue functions.  r=peterv 
Bug 1019191 part 5.  Remove the one remaining quickstub we have and all quickstub codegen.  r=peterv 
Bug 1019191 part 6.  Remove dead code for setting up quickstubs on a prototype from XPCQuickStubs.h/cpp.  r=peterv 
Bug 1019191 part 7.  Remove various dead-code throwing functions.  r=peterv 
Bug 1019191 part 8.  Stop using xpc_qsACString in XPConnect.  r=bholley 
Bug 1019191 part 9.  Remove now-dead JS-to-C++ quickstub conversion functions.  r=peterv 
Bug 1019191 part 10.  Stop using xpc_qsUnwrapArg directly in BindingUtils.  r=peterv 
Bug 1019191 part 11.  Get rid of the now-unused xpc_qsUnwrapArg.  r=peterv 
specialization as well. 
Bug 1019191 part 13.  Remove the now-unused castNativeArgFromWrapper and castNativeFromWrapper functions.  r=peterv 
Bug 1019191 part 14.  Remove the now-unused HasBitInInterfacesBitmap and all the interfaces bitmap machinery that ends up unused as a result.  r=peterv 
Bug 1019191 part 15.  Remove now-dead DOMCI_DATA bits.  r=peterv 
Bug 1019191 part 16.  Remove nsDOMQS.h.  r=peterv 
xpc_qsUnwrapArgImpl knows v is always an object. 
Bug 1019191 part 18.  Remove the unused tearoff bits in quickstub unwrapping.  r=peterv 
Bug 1019191 part 19.  Change GlobalObject::GetAsSupports to not rely on UnwrapArg producing an nsISupports for non-reflectors.  r=peterv 
Bug 1019191 part 20.  Replace the getWrapper/castNative stuff in XPCQuickStubs with what I believe is a single function call that's equivalent to it, since the tearoff bit was dead code anyway due to never resetting clasp.  r=peterv,bholley 
Bug 1019191 part 21.  Change xpc_qsUnwrapArgImpl and UnwrapArg to take a HandleObject, not a HandleValue.  r=peterv 
Bug 1019191 part 22.  Eliminate the effectively unused vp argument of xpc_qsUnwrapArgImpl.  r=peterv 
Bug 1019191 part 23.  Eliminate the ppArgRef argument of xpc_qsUnwrapArgImpl and UnwrapArg, since we're now always handing out a ref in ppArg.  r=peterv 
Bug 1019191 part 24.  Remove the XPCCallContext stuff from xpc_qsUnwrapArgImpl.  r=peterv 
Bug 1082899 patch 5 - Add :-moz-native-anonymous pseudo-class, exposed only to UA style sheets.  r=birtles  sr=bzbarsky 
Bug 1087404.  Get rid of XPCQuickStubs.h/cpp.  r=bholley 
Bug 1087374.  Make .wrappedJSObject on Xrays a JSNative accessor.  r=bholley 
Bug 1084150.  Don't generate a getter or setter baseline IC stub if we know up front it won't match the sort of object we just did a get or set on.  r=efaust 
Bug 1084001.  Set the .name of DOM interface objects to the name of the interface.  r=peterv 
Bug 1083648 part 1.  Add a way to pass an enclosing static scope to CompileFunction.  r=shu 
Bug 1083648 part 2.  Add JSAPI for compiling a function with a given scope chain (represented as a vector of JSObjects).  r=shu 
Bug 1083648 part 3.  Change nsJSUtils::CompileFunction to take an explicit scope chain vector, not just a single scope object, and pass in the right objects in CompileEventHandlerInternal.  r=bholley 
Back out part of bug 1084001 because the tests are being silly. 
Bug 1083648 followup to fix orange on CLOSED TREE due to random XBL stuff getting defined as props on the global.  r=bholley pending 
Bug 1081274 part 1.  Change BaselineInspector to not attempt to optimize to a common getter/setter if either we have getter/setter stubs with different holder shapes or have had an unoptimizable access.  r=efaust 
Bug 1081274 part 2.  Change baseline ICs to update getter/setter stubs in place instead of adding new stubs if the stub kind and holder match an existing stub (but the shape does not).  r=efaust 
Bug 1087378.  Stop using WindowProxy for arguments in Web IDL; Window expresses what's going on more clearly.  r=peterv 
Bug 1088002 part 1.  Change GetLocationProperty to a JSNative.  r=bholley 
Bug 1088002 part 2.  Change JS_DefineElement, JS_DefineProperty, JS_DefineUCProperty, JS_DefinePropertyById, and JS_DefineProperties to default to using JSNative accessors, not JSPropertyOp accessors.  r=waldo 
Bug 1088002 part 3.  Stop requiring JSPROP_PROPOP_ACCESSORS just to use stub accessors.  r=waldo 
Bug 1087378.  Stop using WindowProxy for arguments in Web IDL; Window expresses what's going on more clearly.  r=peterv 
Bug 1090749.  Reverse the isSelfHosted test in XrayWrapper and jsapi.cpp.  r=waldo 
Bug 1087801.  Don't assume the global is a Window in the DOM CSS object.  r=bholley 
optimize the access. 
Bug 82711 - Fix error with some compilers from previous patch.  r=bzbarsky 
Bug 1088228 part 1.  Introduce an nsINode API for getting the scope chain parent for a given node.  r=peterv 
Bug 1088228 part 2.  Create an nsJSUtils API for building the scope chain for a given Element.  r=peterv 
Bug 1088228 part 3.  Use the new nsJSUtils API for event handlers.  r=peterv 
Bug 1088228 part 4.  Add a version of JS_CloneFunctionObject that allows passing in a scope chain.  r=shu 
Bug 1088228 part 5.  Use the new CloneFunctionObject in XBL.  r=peterv 
Bug 1088228 part 6.  Simplify the DOM GetParentObject setup, now that we no longer rely on it for scope chains.  r=peterv 
Bug 1088228 part 1.  Introduce an nsINode API for getting the scope chain parent for a given node.  r=peterv 
Bug 1088228 part 2.  Create an nsJSUtils API for building the scope chain for a given Element.  r=peterv 
Bug 1088228 part 3.  Use the new nsJSUtils API for event handlers.  r=peterv 
Bug 1088228 part 4.  Add a version of JS_CloneFunctionObject that allows passing in a scope chain.  r=shu 
Bug 1088228 part 5.  Use the new CloneFunctionObject in XBL.  r=peterv 
Bug 1088228 part 6.  Simplify the DOM GetParentObject setup, now that we no longer rely on it for scope chains.  r=peterv 
Bug 1089026 part 1.  Eliminate the "parent" argument to JS_CloneFunctionObject to make callers use the scopeChain version if they want something other than the global.  r=shu,peterv 
Bug 1089026 part 2.  Refactor the CompileFunction code to allow cleanly separating whether we're passing in an object to define the function on or a scope chain.  This change should not cause any behavior changes.  r=shu 
Bug 1089026 part 3.  Add a friend API for getting the scope object for a function, if it has one.  r=shu 
Bug 1089026 part 4.  Change the CompileFunction calls in the component loader and subscript loader to pass in their desired scope chains.  r=bholley 
Bug 1089026 part 5.  Eliminate the ability to provide a non-global parent object to JS::CompileFunction and company except via the scopeChain API.  r=waldo 
Bug 1092333 - nsDOMStringMap::NamedDeleter doesn't always write its out-parameter.  r=bzbarsky. 
Bug 1094544.  Use [Exposed=System] some more instead of hardcoding binding bits in xpc::InitGlobalObject.  r=bholley 
Bug 1084439 followup.  Remove now-unsed enum. 
other behavior changes. 
This way we don't end up guarding on the post-set shape, which may differ from the pre-set shape and thus always fail the guard. 
Bug 1089050 part 3.  Remove now-unnecesary old* arguments to TryAttachSetAccessorPropStub and its callees.  r=jandem 
Bug 1089050 part 4.  Strengthen the asserts in UpdateExistingSetPropCallStubs now that the stronger asserts should hold.  r=jandem 
Bug 1095308.  Remove some compileAndGo checks from frontend::CompileScript.  r=luke 
Bug 1063879.  Speed up the "performance" getter on workers.  r=peterv 
Bug 1094545.  Expose the URL API in system globals.  r=bholley 
Bug 1094545 followup: only do system stuff for non-worker descriptors, and rename one consumer that was colliding with the new URL global.  r=bholley pending, but checking in now to fix CLOSED TREE 
Bug 415491, part 1 - Make UnEscapeURIForUI escape the URI if it contains any 'network.IDN.blacklist_chars' characters (except space).  r=bzbarsky 
Bug 415491, part 2 - Implement a char16_t version of NS_EscapeURL.  r=bzbarsky 
Bug 415491, part 3 - Use NS_EscapeURL of _retval as the result.  r=bzbarsky 
Bug 415491, part 4 - Make UnEscapeURIForUI always escape the result if it contains blacklisted characters.  r=bzbarsky 
Bug 1092570 - Avoid exposing FontFace(Set) constructors when the Font Loading API pref is not set. r=bzbarsky 
Bug 1090616.  Don't assume that the nodes we just pasted are still in the DOM, because mutation listeners suck like that.  r=smaug 
Bug 1095870.  Don't generate baseline set IC stubs for primitive 'this' values, since all the stubs only work on objects.  r=jandem 
Bug 1095660 part 1.  Remove the pointless JS_ExecuteScriptVersion API.  r=waldo,bholley 
Bug 1095660 part 2.  Change API-provided scope chains to flag their DynamicWithObjects as being special and adjust some asserts to allow those With objects as the scope chain for toplevel scripts.  r=luke 
Bug 1095660 part 3.  Give With objects defineProperty/Element/Generic class hooks.  r=luke 
Bug 1095660 part 4.  Add overloads of JS_ExecuteScript and JS::Evaluate that take an explicit scope chain argument.  r=waldo 
Bug 1095660 part 5.  Change nsJSUtils::EvaluateString to take an explicit scope chain.  r=bholley 
Bug 1068477 - Add pref callback to style sheet cache to handle UA style sheet reloads. r=bzbarsky 
Bug 1096808 - Reload ua.css when ruby pref changes. r=bzbarsky 
Bug 1089463 - Clear an element's restyle bits when inserting into a shadow tree. r=bzbarsky 
Bug 1098739.  Add a BufferSource typedef in our IDL.  r=khuey 
Bug 1081241.  Things that aren't exposed in Window shouldn't show up in RegisterBindings at all.  r=smaug 
Bug 1100580 part 1.   Drop support for having an off-thread compilation token and wanting a script rval from nsJSUtils::EvaluateString, since we never need that in practice.  r=bholley 
Bug 1100580 part 2.  Get rid of EvaluateOptions::needResult, since we can use JS::CompileOptions::noScriptRval (with the opposite meaning, but same default behavior) for this purpose.  r=bholley 
Bug 1101001.  Stop checking compileAndGo in GetPCCountScriptContents.  r=bhackett 
Bug 1100579 part 1.  Remove the overloads of JS::Evaluate that don't take an rval mutable handle, and control the behavior via the JS::CompileOptions instead.  r=waldo,bholley 
Bug 1100579 part 2.  Kill off JS_Evaluate(UC)Script.  r=waldo 
Bug 771043.  Move MediaQueryList tracking from the prescontext to the document, so they will correctly outlive prescontext changes.  r=dbaron 
Bug 907396 - Frame manager support for display:contents.  r=bzbarsky 
Bug 907396 - Frame constructor changes for display:contents.  r=bzbarsky 
Bug 907396 - Implement RestyleUndisplayedDescendants that restyles diplay:none children and display:contents descendants.  r=bzbarsky 
Bug 907396 - Replace GetParentStyleContextFrame with GetParentStyleContext which can return frame-less display:contents style contexts.  r=bzbarsky 
Bug 907396 - Make RestyleManager::RestyleElement and nsCSSFrameConstructor::MaybeRecreateFramesForElement deal with display:contents elements.  r=bzbarsky 
Bug 907396 - DEBUG only; make frame tree dumps print up to 2 style context parents in the unusual case when they are not the parent frame's style context (e.g. display:contents).  r=bzbarsky 
Bug 1092737 part 1.  Update TextEncoder to various spec changes.  r=emk 
Bug 1092737 part 2.  Update TextDecoder to various spec changes.  r=emk 
Bug 1094449.  Treat @rel on anchors as a set of space-separated tokens, not a single token.  r=smaug 
Bug 1092737 followup, because ScalarValueString got renamed. 
Bug 1089079.  Make .length on interface objects configurable.  r=peterv 
Bug 1094545.  Expose the URLSearchParams API in system globals.  r=bholley 
Bug 1093112.  Make sure that our <script> has been parsed before we attach XBL bindings that call functions from it.  r=bholley 
Bug 1067541.  Image preloads should not keep going once the actual image has started and gotten canceled.  r=peterv 
Bug 1096011.  Warning when failing to create a JS implemntation for a Web IDL binding should include the implementation contract.  r=peterv 
Bug 1087851 part 1.  Rename WrapNewBindingObject to GetOrCreateDOMReflector to make it clearer what it does.  r=peterv for the idea; patch itself is just search-and-replace 
Bug 1087851 part 2.  Add a GetOrCreateDOMReflectorNoWrap API that can be used to do what GetOrCreateDOMReflector does but without wrapping into the caller compartment.  r=bholley 
Bug 1101823 part 1.  Refactor testCommonGetterSetter to just return a boolean indicating whether it's OK to proceed with the common getter/setter, and put the shape guards, into outparams.  r=efaust 
Bug 1101823 part 2.  Make sure to add the guard on the global shape to the operands of our DOM getter, if we have such a guard at all.  r=efaust 
Bug 1020400.  Remove empty-cells quirk, since no other UA has it.  r=heycam 
Bug 830260.  Passing null as the value to CSSStyleDeclaration.setProperty should remove the property.  r=heycam 
Bug 966385.  Stop using the deprecated GetInputEncoding in XHR code.  r=peterv 
Bug 1105614.  Fix dependency tracking for IDL methods with dictionary arguments.  r=peterv 
Bug 1104875.  Ellipsize long unresponsive script locations so they don't make the slow script dialog too big.  r=peterv 
Bug 830260 followup to address review comment. 
Bug 966385 followup to make the review comment code actually compile. 
Bug 1012798 part 1.  Add one more available reserved slot on globals, because we need it for Window.  r=jorendorff 
Bug 1012798 part 2.  Stop defining a value property named "window" on the global.  r=peterv 
Bug 1012798 part 3.  When doing a DOM slot get in Ion, check whether we're doing a get of a constant value on a singleton object (e.g. .window) and if so just use the constant value directly.  r=efaust 
Bug 1101123.  Don't allow redefining the getter of a non-configurable accessor property on native objects, even via the low-level JSAPI methods.  r=efaust,bholley 
Bug 1100757. Don't emit a guard in testCommonGetterSetter when our getter/setter is is a non-configurable property on a native object.  r=efaust 
Bug 1109888.  ICGetPropCallDOMProxyNativeStub should inherit from ICGetPropCallGetter so we have our holder/holdershape/etc accessible the same way across all the JSNative getter stubs. r=efaust 
Bug 990484 part 1.  Add an overload of JS_IsIdentifier that takes chars+length.  r=jorendorff 
Bug 990484 part 2.  Remove a bunch of now-unnecessary JSContext bits in indexedDB code.  r=baku 
Bug 1105615.  Make IDBObjectStoreParameters.keyPath a union instead of using "any" for it.  r=baku 
Bug 1004388 part 1.  When we're testing an MPhi that doesn't represent the and-or pattern, just fall back to optimizing the typeset for the true/false branches based on the truthiness directly, like we would for the non-MPhi case.  r=jandem 
Bug 1110871.  Ion-compile JSOP_SYMBOL.  r=jandem 
Bug 1111159.  Inline the IsArrayIterator and IsStringIterator intrinsics in Ion code to speed up for-of loops.  r=jandem,waldo 
Bug 924059.  Give ArrayIterator and its prototype different JSClasses so we can't confuse them for each other.  r=waldo 
Bug 1111166.  Don't emit a movq from a register to itself when unboxing things on x86-64.  r=sunfish 
Bug 1111162.  When inlining IsObject(), if our type info says we have an object, just output a constant true instead of doing a dynamic check.  r=jandem 
Bug 1111170.  Make ArrayIterator and StringIterator next() methods work even with cross-compartment wrappers for those objects as this values.  r=waldo 
Bug 1033952 - Implement "IsRemovable" and "IsHotSwappable" API for device storage (webidl). r=bzbarsky 
Bug 1033952 - Implement "Removable" and "HotSwappable" APIs for device storage. r=dhylands, r=bzbarsky 
Bug 1117131.  Output the JS hooks for our cache-clearing stuff for [Pure] properties on JS-implemented objects even if we have no interface object, since these live on instances.  r=mccr8 
Bug 1107592 part 1.  Implement a DOMException constructor.  r=peterv 
Bug 1107592 part 2.  Allow chrome JS to directly throw content DOMExceptions that will propagate out to the web script.  r=peterv 
Bug 1111164 part 1.  Add infrastructure for doing typed reserved slot gets in self-hosted code and having the resulting unboxing be unconditional in Ion.  r=jandem 
Bug 1111164 part 2.  Switch to typed reserved slot gets in Array.js.  r=jorendorff 
Bug 1111164 part 3.  Switch to typed reserved slot gets in TypedObject.js.  r=sfink 
Bug 1111164 part 4.  Switch to typed reserved slot gets in String.js.  r=jorendorff 
Bug 1113025.  Fix MGetDOMMember::congruentTo to work correctly.  r=jandem 
Bug 1113018.  Stop manually moving things into ScratchReg in the x86-64 version of extractObject; just rely on unboxNonDouble doing the right thing as needed.  r=sunfish 
Bug 1112934.  Tell MGetDOMMember what its result type is so it can do a typed slot load.  r=jandem 
Bug 1114064.  Support AliasNone DOM methods in ion compilation.  r=efaust 
Bug 1117262 - Mark virtual overridden functions as MOZ_OVERRIDE in docshell; r=bzbarsky
Bug 1112934.  Tell MGetDOMMember what its result type is so it can do a typed slot load.  r=jandem 
Bug 1114064.  Support AliasNone DOM methods in ion compilation.  r=efaust 
Followup to terrence's patch on bug 1112934.  AutoLeaveZeal only exists ifdef JS_GC_ZEAL.  Needed so code compiles and we can reopen the CLOSED TREE. 
Bug 1117162.  Give DOMEventTargetHelper a constructor taking nsIGlobalObject.  r=smaug 
Bug 1112001.  Provide a newGlobal in jsreftests in browser.  r=jorendorff 
Bug 1118606 - Mark virtual overridden functions as MOZ_OVERRIDE in uriloader; r=bzbarsky 
Bug 1073003 - Fix warnings in stlport causing errors in emulator build. r=bzbarsky 
Bug 1103000.  Update the unitless length quick whitelist to match spec changes.  r=dbaron 
Bug 1112761 part 1.  Replace Pref="media.mediasource.enabled" annotations in IDL with calls to a function which will end up doing something a bit more interesting.  r=kinetik 
Bug 1112761 part 2.  Enable MediaSource based on a whitelist, not in general.  r=kinetik 
Bug 1117167.  Make the generated implementation classes for JS-implemented bindings store an nsIGlobalObject, not an nsPIDOMWindow, so we can use them in sandboxes.  r=peterv 
Bug 1103000 followup: remove failure annotations from the corresponding web platform test so we can reopen the CLOSED TREE. 
Bug 1119691 - "Build bustage in dom/media/mediasource/MediaSource.cpp" [r+f=bzbarsky] 
Bug 1110277 patch 1 - Consider the ib-split chain when checking for ::before and ::after in order to reframe when they're missing.  r=bzbarsky
Bug 1110277 patch 2 - Add nsLayoutUtils::LastContinuationOrIBSplitSibling().  r=bzbarsky
Bug 1110277 patch 3 - Look for the GenConPseudos() property on the first continuation/ib-split so that we can find it when looking for the ::after frame.  r=bzbarsky
Bug 971732.  Hide the DeviceStorage interface object in cases when the corresponding navigator APIs are hidden.  r=sicking 
Bug 1113827 part 1.  Automatically mark Web IDL [NewObject] methods that return a JS type as fallible.  r=peterv 
Bug 1113827 part 2.  Remove some now-unnecessary [Throws] annotations in our IDL.  r=peterv 
Bug 1120235.  Various promise resolve/reject functions should actually return undefined instead of ending up accidentally returning their callee.  r=nsm 
Bug 1113238 - Part 1: Make our plaintext and HTML serializers aware of CSS preformatted styles; r=bzbarsky
Bug 1113238 - Part 2: Only maintain the pre level status which can be potentially expensive if we may end up using it; r=bzbarsky
Bug 1113238 - Part 3: Flush the styles before determining whether an element is preformatted; r=bzbarsky
Bug 1110277 patch 7 - Call CreateNeededFrames from ~ReframingStyleContexts.  r=bzbarsky
Bug 1110277 patch 8 - Add test for passing lazy construction parameters through, using flexbox reframe case.  r=bzbarsky
This does not change the generated binding code in any way for our existing IDL files. 
Bug 1118978 part 2.  Introduce [Affects] and [DependsOn] extended attributes in Web IDL.  r=peterv 
Bug 1118978 part 3.  Add support for DependsOn=DeviceState.  r=peterv 
Bug 1118978 part 4.  Mark performance.now() as being side-effect free but dependent on device state.  r=peterv 
Bug 1107953 part 1.  Change the invariants around aCompartment in CallSetup to allow passing it even when the exception handling mode is eRethrowExceptions.  r=bholley 
Bug 1107953 part 2.  Change codegen to output an aCompartment argument on all callbacks that have an aExceptionHandling argument.  r=peterv 
Bug 1107953 part 3.  Make Promise pass in their object compartment when calling their various callbacks.  r=bholley 
Bug 1107953 part 4.  Add a friend API to get the principals of a SavedFrame object.  r=jimb 
Bug 1107953 part 5.  Add tests for promise rejections with content-side DOMExceptions, and fix the promise code so those tests actually pass.  r=bholley 
Bug 1113238 - Part 1: Make our plaintext and HTML serializers aware of CSS preformatted styles; r=bzbarsky
Bug 1113238 - Part 2: Only maintain the pre level status which can be potentially expensive if we may end up using it; r=bzbarsky
Bug 604496.  Inherit the document principal for data: media elements.  r=cpearce 
Bug 1122357 - Remove [Pure] for MozNFCTag.id. r=bzbarsky
This does not change the generated binding code in any way for our existing IDL files. 
Bug 1118978 part 2.  Introduce [Affects] and [DependsOn] extended attributes in Web IDL.  r=peterv 
Bug 1118978 part 3.  Add support for DependsOn=DeviceState.  r=peterv 
Bug 1118978 part 4.  Mark performance.now() as being side-effect free but dependent on device state.  r=peterv 
Bug 1121688.  Filter out overloads with non-worker-exposed arguments when generating worker bindings.  r=peterv 
Bug 1123113 - Mark ParentObject as stack class, and its mObject member as non-owning; r=bzbarsky 
Bug 611103 - Don't depend on the editor in nsDocumentEncoder; r=bzbarsky 
Bug 1121475. Drop special handling of HTML <command> in the void tag list and the sanitizer whitelist, since there is no HTML <command> tag.  r=smaug 
Bug 1121099.  Make <basefont> be an HTMLElement to match my reading of the spec and Chrome.  r=sicking 
Bug 1122361.  Deal with populateUncaughtExceptionReport failing.  r=waldo 
Bug 611103 - Part 2: Handle the edge case where the BR element is the only child of a block element; r=bzbarsky
Bug 1122936 - Make nsPlainTextSerializer final; r=bzbarsky 
Bug 1107443 part 1.  Stop defining non-configurable properties on the window in devtools.  r=jimb 
Bug 1107443 part 2.  Stop defining non-configurable properties on the window in dom and xpconnect JS files.  r=peterv 
Bug 1107443 part 3.  Stop defining non-configurable properties on the window in xpconnect sandbox code.  r=peterv,jorendorff 
Bug 1107443 part 4.  Fix JS engine tests that define non-configurable properties on the window without meaning to.  r=jorendorff 
Bug 1107443 part 5.  Fix the addon SDK to not try defining non-configurable properties on content windows.  r=mossop 
Bug 1107443 part 6.  Make attempts to define a non-configurable property via WindowProxy throw.  r=peterv,jorendorff 
Disable bug 1107443 for now to fix whatever Marionette is doing and reopen the CLOSED TREE.  r=bustage 
Bug 1125201 - Make forceRedraw nothrow. r=bzbarsky 
Bug 611103 - Part 3: Handle the edge case where the br element appears immediately after another br; r=bzbarsky
Bug 1123062 - Fall back to looking at the tag for determining if an element is preformatted when there is no style information available; r=bzbarsky 
Bug 1069719 - Abort the execution of scripts when a prerendered page calls an IDL blacklisted function; r=bzbarsky 
Bug 1125351 - Make nsIDocShell.isPrerendered infallible; r=bzbarsky 
Bug 1123541.  Make sure to assign to resultVar in the binding call generator even if resultVar is predeclared, as long as we have a result to assign.  r=peterv 
Bug 1125562 - Mark some const attributes in webidl as such r=bzbarsky 
Bug 1125351 - Make nsIDocShell.isPrerendered infallible; r=bzbarsky 
Bug 1125351 - Make nsIDocShell.isPrerendered infallible; r=bzbarsky 
Bug 1069719 - Abort the execution of scripts when a prerendered page calls an IDL blacklisted function; r=bzbarsky 
Bug 1125647 - mark some webidl attributes as [Pure]. r=bzbarsky 
Bug 1125647 - mark remaining SVGAnimatedXXX webidl attributes as [Constant]. r=dholbert, sr=bzbarsky 
Bug 1119503 - Part 1: Determine whether an element is a block element based on the style, not the tag; r=bzbarsky
Bug 1119503 - Part 2: Insert a line break between preformatted block boundaries when creating raw output; r=bzbarsky 
Bug 1119503 - Part 4: Add a test for serialization of block elements without style information; r=bzbarsky 
Bug 1119503 - Part 1: Determine whether an element is a block element based on the style, not the tag; r=bzbarsky
Bug 1119503 - Part 2: Insert a line break between preformatted block boundaries when creating raw output; r=bzbarsky 
Bug 1119503 - Part 4: Add a test for serialization of block elements without style information; r=bzbarsky 
Bug 1127206.  Don't try to do binding UnwrapArgImpl on worker threads.  It can't do anything useful there.  r=peterv 
Bug 1128153.  When a number input contains a non-number (possibly empty) value, the validation message should be about the value not being a number, not about there being no value.  r=jwatt 
Bug 1126462.  Print out our guessed display name for functions, if we have one, when doing a JS::FormatStackDump (aka DumpJSStack() in xpconnect).  r=jimb 
Bug 511084.  Make frame/iframe create a browsing context even if it's the root element.  r=smaug 
Bug 1128153.  When a number input contains a non-number (possibly empty) value, the validation message should be about the value not being a number, not about there being no value.  r=jwatt 
Bug 608261.  Set img.complete to false while the image has a pending request.  r=sicking 
Bug 1130259.  Make sure the integer overload of ScrollBy calls the double one, not itself.  r=kip 
Bug 1127341.  If we make our codegen for a binding depend on the exposure set of an interface argument to one of the binding's methods, we need to adjust the dependency set of the binding accordingly, so we'll regenerate if the exposure set changes.  r=khuey 
Bug 1130364.  Fix the handling of nestingLevel to actuall increment it more than once.  r=peterv 
Bug 1127501.  Treat external interfaces as only being exposed in Window in Web IDL bindings.  r=peterv 
Bug 1108887 - Backout part 3 and part 4 of bug 949435 (SVG iframe). r=birtles sr=bzbarsky 
Bug 1108887 - Backout part 2 of bug 949435 (SVG iframe). r=bzbarsky 
Bug 1131751.  Drop [NoInterfaceObject] from XMLHttpRequestEventTarget.  r=smaug 
Bug 1132252.  An interface with an interface object should not inherit from one that's [NoInterfaceObject].  r=smaug 
Bug 975699.  Remove mozIndexedDB.  r=khuey 
Bug 1132655.  Don't allow conversions from DOMString to const XPCOM string references, since it's meant to be an outparam only.  r=smaug 
Bug 1131796.  Don't parent the DOM proxy expando object to the proxy.  r=peterv 
Bug 1131887 part 1.  nsNodeUtils::CloneAndAdopt can assume that all nodes are Web IDL objects.  r=peterv 
Bug 1131887 part 2.  Remove the now-unused nsIXPConnect.reparentWrappedNativeIfFound.  r=peterv 
Bug 1131894.  Break out of the loop in the DOMException constructor once we find a code/result for the given message name.  r=peterv 
Bug 1131799.  Stop parenting XPConnect tearoffs to the XPCWrappedNative.  r=peterv 
Bug 1131801 part 1.  Get rid of the now-unnecessary RescueOrphans function.  r=peterv 
Bug 1131801 part 2.  Get rid of the now-useless RescueOrphansInScope.  r=peterv 
Bug 1131801 part 3.  Get rid of the now-unused ReparentWrapperIfFound.  r=peterv 
Bug 1132184.  Remove the nsIXPCScriptable postCreate and postTransplant hooks.  r=peterv 
Bug 1132187 part 1.  Remove the totally unused WANT_CREATE bit.  r=peterv 
Bug 1132187 part 2.  Remove the WANT_DELPROPERTY bit.  r=peterv 
Bug 1132187 part 3.  Remove the WANT_CONVERT bit.  r=peterv 
Bug 1131096.  Use IDLExposureMixins for IDLInterfaceMember.  r=peterv 
Bug 1117242 followup.  Rev the nsIStackFrame IID so things get rebuilt correctly.  r=bustage 
Bug 1131796.  Don't parent the DOM proxy expando object to the proxy.  r=peterv 
Bug 1131887 part 1.  nsNodeUtils::CloneAndAdopt can assume that all nodes are Web IDL objects.  r=peterv 
Bug 1131887 part 2.  Remove the now-unused nsIXPConnect.reparentWrappedNativeIfFound.  r=peterv 
Bug 1131894.  Break out of the loop in the DOMException constructor once we find a code/result for the given message name.  r=peterv 
Bug 1131799.  Stop parenting XPConnect tearoffs to the XPCWrappedNative.  r=peterv 
Bug 1131801 part 1.  Get rid of the now-unnecessary RescueOrphans function.  r=peterv 
Bug 1131801 part 2.  Get rid of the now-useless RescueOrphansInScope.  r=peterv 
Bug 1131801 part 3.  Get rid of the now-unused ReparentWrapperIfFound.  r=peterv 
Bug 1132184.  Remove the nsIXPCScriptable postCreate and postTransplant hooks.  r=peterv 
Bug 1132187 part 1.  Remove the totally unused WANT_CREATE bit.  r=peterv 
Bug 1132187 part 2.  Remove the WANT_DELPROPERTY bit.  r=peterv 
Bug 1132187 part 3.  Remove the WANT_CONVERT bit.  r=peterv 
Bug 1131096.  Use IDLExposureMixins for IDLInterfaceMember.  r=peterv 
Bug 824222 - Remove commented out IDL members for xmllang, xmlspace and xmlbase. r=bzbarsky 
Bug 1133176 - Remoe commented out IDL for ViewCSS/DocumentCSS being implemented on SVGSVGElement. r=bzbarsky 
Bug 1134013.  Add a version of branchTestObject that takes an Address.  r=jandem 
Bug 1134149. Throw the exception the spec calls for when withCredentials is set on a sent XMLHttpRequest object.  r=ms2ger 
Bug 1109924.  Remove pointless DOM proxy handler guards that are covered by the shape guards we have already done.  r=jandem 
Bug 1134559.  DOMContentLoaded should not be cancelable.  r=ms2ger 
Bug 1134112 part 1.  When doing fast-init of a Web IDL dictionary, do fast-init of its dictionary members and its ancestors too.  r=peterv 
Bug 1134112 part 2.  When doing dictionary init, if we have a non-optional union member just go ahead and uninit it before we try initing it.  That way even if it's already been initialized (e.g. because we default-initialized at some point) things will still work correctly.  r=peterv 
Bug 835800 - Convert more DOM attribute reflectors to DOMString. r=bzbarsky 
Bug 1134955.  Be more careful with how we stringify property ids for error message reporting.  r=jorendorff 
Bug 742194 part 1.  Add support for throwing uncatchable exceptions to Web IDL bindings.  People keep asking for this.  r=khuey 
Bug 742194 part 2.  Use the new uncatchable exception machinery in worker XHR code.  r=khuey 
Bug 1135427.  Add missing early return, because throwing an exception without returning is weird.  r=khuey 
Bug 1135151. Add a WrapNativeParent specialization for the nsIGlobalObject case, and make Event return nsIGlobalObject as its parent object.  r=smaug 
Bug 1087646 - Properly serialize nullprincipal URIs across IPC. r=bzbarsky 
Bug 1135792.  Stop assuming that every binding for a global with a non-worker descriptor is a binding for Window.  r=smaug 
Bug 1135803.  Take out the bits that try to handle interface types mapping to JSObject* in worker descriptors, since we never do that anymore.  r=smaug 
Bug 1134968.  If JS_NewObjectWithGivenProto is passed a null parent and null proto, use the context's current global as the parent.  r=waldo 
Bug 1134969.  Make DeepCloneObjectLiteral correctly handle setLastProperty failures.  r=waldo 
Bug 1134970 part 1.  Add JS friend API to allocate an object which is guaranteed to have no attached metadata.  r=waldo 
Bug 1134970 part 2.  Add JS friend API to quickly copy properties from one object to another  if the objects are similar enough.  r=bhackett,waldo 
Bug 1136388.  Change nsIDocumentLoaderFactory and nsIURIContentListener to take MIME types as an XPCOM string, not a char*.  r=smaug 
Bug 1136379.  Clean up the nsPluginHost API a bit.  r=bzbarsky 
Bug 1134730.  DOM proxy finalizers should not assume that the JS object has an actual reference to the DOM object (and in particular that the slot it's stored in is a private slot).  r=peterv 
Bug 1133760 part 1.  The ownPropNames hook can't be called via Xrays, so stop trying to handle that case.  r=peterv 
Bug 1133760 part 2.  Get rid of unforgeable holders; just store unforgeable properties for DOM proxies directly on the expando object.  r=peterv 
Bug 1136292 part 1.  Stop passing a parent to BindingJSObjectCreator methods, since it's always the global anyway.  r=peterv 
Bug 1136292 part 2.  Stop passing an explicit JS::NullPtr parent to JS_NewObjectWithGivenProto in nsDocument.  r=peterv 
Bug 1136292 part 3.  Stop passing a global as the parent arg to JS_NewObjectWithGivenProto in bindings code.  r=peterv 
Bug 1136292 part 4.  Stop passing a global as the parent arg to JS_NewObjectWithGivenProto in XBL code.  r=peterv 
Bug 1136292 part 5.  Stop passing a global as the parent arg to JS_NewObjectWithGivenProto in XPConnect.  r=peterv 
Bug 1136345.  Drop the parent arg from JS_NewObjectWithGivenProto and introduce a JS_DeprecatedNewObjectWithGivenProtoAndParent for the few cases that still pass in a custom parent.  r=waldo 
Bug 1136516.  Stop using JS_DeprecatedNewObjectWithGivenProtoAndParent in XPCWrappedNative.  r=bholley 
Bug 1136520.  Stop parenting Xray expando objects to a non-global.  r=bholley 
Bug 1136523.  Stop doing weird things with parents in ctypes code and remove the JS_DeprecatedNewObjectWithGivenProtoAndParent API.  r=waldo 
Bug 1136906 part 1.  Stop passing parents to JS_NewObject in ctypes code.  r=waldo 
Bug 1136906 part 2.  Stop passing a parent to JS_NewObject in xpconnect code.  r=bholley 
Bug 1136906 part 3.  Remove the parent arg from JS_NewObject.  r=waldo 
Bug 1135810.  Add more explicit checks for whether a descriptor wants Xrays or not instead of assuming that Xrays are desired if and only if descriptor.workers is false.  r=peterv 
Bug 1133746.  Allow DOMProxyShadows to communicate to the JIT whether the shadowing is done by the expando object or not.  r=efaust,peterv 
Bug 1131803.  Remove the use of parents from SandboxCallableProxyHandler and SandboxProxyHandler.  r=bholley 
Bug 1136925 part 1.  Stop passing a parent to JS_CloneObject.  r=waldo 
Bug 1136925 part 2.  Stop passing a parent to Wrapper::New.  r=waldo,bholley 
Bug 1136925 part 3.  Stop passing parents to js::NewProxyObject.  r=waldo 
Bug 1136925 part 4.  Stop passing parents to ProxyObject::New.  r=waldo 
Bug 1137334.  Remove nsIDOMWindowUtils.getParent.  r=bholley 
Bug 1131803 comment fix followup. DONTBUILD 
Bug 1131803.  Remove the use of parents from SandboxCallableProxyHandler and SandboxProxyHandler.  r=bholley 
Bug 1136925 part 1.  Stop passing a parent to JS_CloneObject.  r=waldo 
Bug 1136925 part 2.  Stop passing a parent to Wrapper::New.  r=waldo,bholley 
Bug 1136925 part 3.  Stop passing parents to js::NewProxyObject.  r=waldo 
Bug 1136925 part 4.  Stop passing parents to ProxyObject::New.  r=waldo 
Bug 1137334.  Remove nsIDOMWindowUtils.getParent.  r=bholley.  We still have a CLOSED TREE, sadly. 
Bug 1131803 - Comment fix followup. 
Bug 1137325.  Remove the parent() function from xpcshell.  r=mrbkap 
Bug 1136980 part 1.  Get rid of JS_SetParent uses in DOM/XPConnect.  r=bholley 
Bug 1136980 part 2.  Remove JS_SetParent, even though we have a CLOSED TREE.  r=waldo 
Bug 1135764.  Make sure XSLT transform results have a document timeline so things like transitions will work.  r=smaug 
Bug 1137984.  When parsing attribute selectors, treat EOF as ']' any place ']' is allowed.  r=dbaron 
Bug 1136896.  Speed up fill() and dedent() by memoizing some of the work they currently end up doing on each call.  r=jorendorff 
Bug 1131797 part 1.  Store an index into its XPCNativeInterface mMembers array in each XPCNativeMember.  r=bholley 
Bug 1131797 part 2.  Stop storing the XPCNativeInterface* in XPConnect function objects and just get it from the XPCNativeMember* we're still storing.  r=bholley 
Bug 1131797 part 3.  Store the object we originally come from in a reserved slot on XPConnect functions instead of using the parent pointer.  r=bholley 
Bug 1137578.  Remove JS_GetParent usage from mozJSSubscriptLoader.  r=bholley 
Bug 1137910 part 1.  Don't lose track of the original 'this' object in THIS_SAVEDFRAME, so we can actually do things based on the principal of the object we're working with.  r=fitzgen 
Bug 1137910 part 2.  Give chrome callers that are indirectly (e.g. via nsIStackFrame) poking at content-captured stacks the content view of the stack.  r=fitzgen 
Bug 1137591 part 1.  Get rid of SandboxCreateXMLHttpRequest and just use the normal XHR constructor in sandboxes if someone asks for XHR there.  r=bholley 
Bug 1137591 part 2.  Throw if someone does Cu.importGlobalProperties in a Window scope.  r=bholley 
Bug 928336.  Make defining unforgeable properties on objects faster by just copying them from an unforgeable holder object.  r=peterv 
Bug 1125963 - Part 1: Fix serialization of the pre-wrap elements that Thunderbird relies on; r=bzbarsky
Bug 1050456 - Part 1: Prevent prerendered pages from showing the slow script dialog; r=bzbarsky 
Bug 1139964 part 1.  Factor out the guts of BackstagePass::Resolve and BackstagePass::Enumerate to allow reuse for other globals that want to opt in to Exposed=System WebIDL annotations.  r=smaug 
Bug 1139964 part 2.  Add classinfo helpers for the various message manager stuff to install WebIDL Exposed=System things on those globals.  r=smaug 
Bug 1139964 part 3.  Add a test.  r=bzbarsky 
Bug 1122238 part 1.  Switch to using the new stackframe APIs in JSStackFrame.  r=bholley 
Bug 1122238 part 2.  Stop caching things in JSStackFrame when we're called over Xrays.  r=bholley 
Bug 1122238 part 3.  Drop all the DOMException-cloning and sanitization gunk we added in bug 1107592 and bug 1107953 and bug 1117242 .  r=bholley 
Bug 1140216.  Remove asserts that stuff that we never create is not null, since it clearly is null.  r=jwatt 
Bug 1139604.  Remove incorrect assert from ArrayCache::EntrySlotMustExist and the unused GetUnforgeableHolder function.  r=petev 
Bug 1102042.  Fix the test to not have a race between the binding and the test bits.  r=terrence 
Bug 1140399.  Add friend API to check whether a given function object has a JSNative and to get that JSNative as needed.  r=jandem 
Bug 1131802 part 1.  Add JS friend API to test whether a given function object has extended slots.  r=terrence 
Bug 1131802 part 2.  Allocate functions with reserved slots for DOM Xrays so we can store the Xray wrapper reference in those slots instead of as the function parent.  r=peterv 
Bug 1131805 part 1.  Remove remaining JS_GetParent and js::GetObjectParent uses in Gecko.  r=bholley 
Bug 1131805 part 2.  Remove remaining js::GetObjectParent and JS_GetParent uses in SpiderMonkey.  r=waldo 
Bug 1131802 part 1.  Add JS friend API to test whether a given function object has extended slots.  r=terrence 
Bug 1131802 part 2.  Allocate functions with reserved slots for DOM Xrays so we can store the Xray wrapper reference in those slots instead of as the function parent.  r=peterv 
Bug 1131805 part 2.  Remove remaining js::GetObjectParent and JS_GetParent uses in SpiderMonkey.  r=waldo 
Bug 1140582.  Remove the parent argument from JS_NewObjectWithUniqueType.  r=waldo 
Bug 1140573 part 1.  Drop the parent argument from JS_NewFunction.  r=waldo 
Bug 1140573 part 2.  Drop the parent argument from JS_NewFunctionById.  r=waldo 
Bug 1140573 part 3.  Drop the parent argument from js::NewFunctionWithReserved.  r=waldo 
Bug 1140573 part 4.  Drop the parent argument from js::NewFunctionByIdWithReserved.  r=waldo 
Bug 1140670 part 1.  Just use the global, not the proto's parent, as the default parent in NewObjectWithGivenTaggedProto.  r=waldo 
Bug 1140670 part 2.  Just use the global as the parent in js::CreateThis and js::CreateThisForFunctionWithProto.  r=waldo 
Bug 1140670 part 3.  Add an assertParentIs() for asserting the parent is something specific and use it in various places to eliminate getParent() calls.  r=waldo 
Bug 453969.  Fix the race in test_bug382113.html so we don't set our child-onload-fired boolean to false _after_ the child onload has already fired.  r=froydnj 
Bug 1141510.  Fix our detection of File in the global in specialpowersAPI.js to actually check the global.  r=bholley 
Bug 1140737.  Fix Ion setter cache to reserve the register the value being set lives in as needed, so other things don't stomp on that register.  r=jandem 
Bug 1140586 part 1.  Add some asserts about us not caring too much about the parents of native functions.  r=waldo 
Bug 1140586 part 2.  Stop passing non-null funobjArg to js::NewFunction and js::NewFunctionWithProto.  r=waldo 
Bug 1140586 part 3.  Drop the funobjArg of js::NewFunction and js::NewFunctionWithProto.  r=waldo 
Bug 1140586 part 4.  Stop passing non-null parents to js::NewFunctionWithProto when creating a native function via direct calls to that API.  r=waldo 
Bug 1140586 part 5.  Split up js::NewFunction into several different APIs that are more clear in terms of what they do and don't need parents as much.  r=waldo 
Bug 1142241.  Stop using getParent() in js::GetObjectEnvironmentObjectForFunction.  r=waldo 
Bug 1142266.  Remove the parent argument from js::NewObjectWithProto.  r=waldo 
Bug 1142282 part 1.  Remove the parent argument of NewNativeObjectWithGivenProto.  r=waldo 
Bug 1142282 part 2.  Remove the parent argument of NewNativeObjectWithGivenTaggedProto.  r=waldo 
Bug 1142282 part 3.  Remove the parent argument of NewNativeObjectWithClassProto.  r=waldo 
Bug 1142311 part 1.  Stop parenting self-hosted objects to the intrinsics holder.  r=waldo 
Bug 1142311 part 2.  Rename the parent arg of NewScriptedFunction to enclosingDynamicScope, and make it optional.  r=waldo 
Bug 1142478.  Fix integer attribute parsing to not lose track of leading zeroes.  r=sicking 
Bug 1142731.  Make IsInternalFunctionObject work correctly again.  r=waldo 
Bug 1141905 part 1.  Make it possible to CreateScopeObjectsForScopeChain with a given non-global scope chain terminator.  r=shu 
Bug 1141905 part 2.  Make the 5-arg version of CreateScopeObjectsForScopeChain non-static so it can be called from multiple files, and move it to a possibly-saner location.  r=shu 
Bug 1141905 part 3.  Use CreateScopeObjectsForScopeChain in DebuggerFrame_evalWithBindings.  r=shu 
Bug 1141905 part 4.  Add some assertions about what enclosingScope can return for non-scope objects.  r=waldo 
Bug 1142731 followup.  Check isInterpreted() before we call environment(), because of the asmjs lambdas.  r=waldo, I bet. 
Bug 1142478 followup.  Fix bogus test, and don't get the value of an invalid CheckedInt.  Then we can reopen the CLOSED TREE. 
Another followup for bug 1142478, still with a CLOSED TREE 
And one more followup for bug 1142478.  Still a CLOSED TREE 
Bug 1141858 - Fix error message for unexpected extended attribute on dictionary members. r=bzbarsky 
Bug 1142296.  Remove the parent argument from NewObjectWithGivenProto.  r=waldo 
Bug 1097987 part 1.  Change some JS shell function signatures to make it clearer that they are always working with globals, not arbitrary objects.  r=waldo 
Bug 1097987 part 2.  Change JS shell's Run to always compile/execute the script in global scope instead of using its this object.  r=waldo 
Bug 1097987 part 3.  Change XPCShellEnvironment to only use JS_ExecuteScript in global scopes.  r=bholley 
Bug 1097987 part 4.  Change mozJSSubScriptLoader to use the scopechain version of JS_ExecuteScript as needed.  r=bholley 
Bug 1097987 part 5.  Change XPCShellImpl to use the scopechain version of JS_ExecuteScript as needed.  r=bholley 
Bug 1097987 part 6.  Require callers of JS_ExecuteScript to either use the global as the scope or pass in an explicit scopechain.  r=waldo 
Bug 1097987 part 7.  Require callers of JS::Evaluate to either use the global as the scope or pass in an explicit scopechain.  r=waldo 
Bug 1142310 part 1.  Stop parenting scripted functions created via the NewFunction APIs to non-globals.  r=waldo 
Bug 1142310 part 2.  Stop parenting scripted functions created via CloneFunctionObject to non-globals.  r=waldo 
Bug 1142859.  Don't parent the object created by JS_DefineObject to the object we're defining on.  r=waldo 
Bug 1142309.  Remove the parent argument from NewObjectWithClassProto.  r=waldo 
Bug 1142304.  Remove the parent argument from NewObjectWithGivenTaggedProto.  r=waldo 
Bug 1142865.  Remove the parent argument from NewObjectWithGroup.  r=waldo 
Bug 1142864.  Remove the parent argument from NewObject.  r=waldo 
Bug 805052 part 1.  Remove assertParentIs.  r=waldo 
Bug 805052 part 2.  Stop using the shape's parent to get the object's global.  r=waldo 
Bug 805052 part 3.  Remove parents from SpiderMonkey.  r=waldo,terrence 
Bug 1135963.  Allow JS_InitializePropertiesFromCompatibleNativeObject to deal with objects that have different prototypes.  r=bhackett 
Bug 1144097.  Fix yet another is<ScopeObject>() assert.  r=shu 
Bug 1144452.  Print the global in JSObject::dump.  r=waldo 
Bug 1117172 part 1.  Allow passing an optional aGivenProto to binding Wrap methods.  r=peterv 
  find . -name "*.h" -o -name "*.cpp" | xargs perl -pi -e 'BEGIN { $/ = undef } s/(Binding(?:_workers)?::Wrap\((?:aCx|cx)), this, aReflector/\1, this, aGivenProto, aReflector/' 
  find . -name "*.h" -o -name "*.cpp" | xargs perl -pi -e 'BEGIN { $/ = undef } s/(Binding(?:_workers)?::Wrap\((?:aCx|cx|aContext|aCtx|js), [^,)]+)\)/\1, aGivenProto)/g' 
Bug 1143793 part 1.  Remove the obj argument of JS_CompileScript.  r=luke 
Bug 1143793 part 2.  Remove the obj argument of JS_CompileUCScript.  r=luke 
nsFrameMessageManager, because that case never does setCompileAndGo(true) anyway. 
I guess I should have done this in bug 1097987. 
Bug 1143793 part 5.  Release-assert that a script being executed against a non-global scopechain is not compileAndGo.  r=luke 
I really doubt anyone is doing disfile.call(someObj). 
Bug 1144991 - Be a bit more restrictive about when a URI_IS_UI_RESOURCE source is allowed to link to a URI_IS_UI_RESOURCE URI that doesn't have the same scheme. r=bholley, a=me 
Bug 1144991 followup.  Allow the hidden window to link to chrome things even though most resource:// URIs can't.  r=bholley and I sneer upon the CLOSED TREE. 
Bug 1144991 another followup, to fix the stupid compile issue.  r=must-reopen-the-CLOSED TREE 
Bug 1144743 part 1.  Add a hasPollutedGlobalScope flag to scripts.  r=luke 
Bug 1144743 part 2.  Add an option to JS::CompileOptions for hasPollutedGlobalScope.  r=luke 
Bug 1144743 part 3.  Set hasPollutedGlobalScope when we're compiling scripts we know will be executed with a non-global scope without cloning them.  r=luke 
Bug 1144743 part 4.  Set the hasPollutedGlobalScope flag correctly when compiling functions.  r=luke 
Bug 1144743 part 5.  Set the hasPollutedGlobalScope flag correctly when cloning functions.  r=luke 
Bug 1144743 part 6.  Set the hasPollutedGlobalScope flag correctly when executing scripts.  r=luke 
Bug 1144802 part 1.  Add a JSOP_GIMPLICITTHIS which acts like JSOP_IMPLICITTHIS when the script hasPollutedGlobalScope and JSOP_UNDEFINED otherwise.  r=luke 
Bug 1144802 part 2.  Add JIT and interpreter fast paths for JSOP_GIMPLICITTHIS when the script doesn't have a polluted scope.  r=jandem 
Bug 1144802 part 3.  Output JSOP_GIMPLICITTHIS whenever we have a JSOP_GETNAME in call context and don't know for a fact that we need an implicit this.  r=luke 
Bug 1144802 part 4.  Stop returning true from ByteCodeEmitter::needsImplicitThis based on the compileAndGo flag.  r=luke 
Bug 1144802 part 5.  Flag eval scripts as having a polluted scopechain when inside a with scope.  r=luke 
Bug 1144802 part 6.  Remove the scopechain walk in BytecodeEmitter::needsImplicitThis, since consumers should now set hasPollutedGlobalScope as needed.  r=luke 
Bug 1144802 part 7.  Remove the scopechain walk in the FunctionBox constructor, since consumers should now set hasPollutedGlobalScope as needed.  r=luke 
Bug 1144802 part 8.  Drop the scopechain member from GlobalSharedContext, since it's not needed anymore.  r=luke 
Bug 1145294.  Remove the obj argument from JS::CloneAndExecuteScript.  r=luke 
For now.  When they become that way, I think this is the behavior we'll want. 
Bug 1145282.  Reverse the sense of IsValidTerminatingScope and rename it to IsSyntacticScope.  r=luke 
Bug 1145488.  Stop using compileAndGo in the JITs.  r=jandem 
Bug 1145491 part 1.  Only do the fast path for JSOP_BINDGNAME when the script doesn't have a polluted global.  r=luke,jandem 
Bug 1145491 part 2.  Only do the fast path for JSOP_GETGNAME when the script doesn't have a polluted global.  r=luke,jandem 
Bug 1145491 part 3.  Only do the fast path for JSOP_SETGNAME and JSOP_STRICTSETGNAME when the script doesn't have a polluted global.  r=luke,jandem 
Bug 1145491 part 4.  Emit JSOP_IMPLICITTHIS for JSOP_GETGNAME as well, because otherwise bareword calls in polluted-global scripts won't work right.  r=luke 
Bug 1145491 part 5.  Fix up various other places that check for JSOP_GET/SETNAME without checking for the GNAME versions too.  r=luke 
Bug 1145491 part 6.  Fix script cloning to propagate the polluted-global-scope state to the lambda templates in the script.  r=luke 
Bug 1145491 part 7.  Stop checking compileAndGo before emitting GNAME ops.  r=luke 
Bug 1145488.  Stop using compileAndGo in the JITs.  r=jandem 
Bug 1145491 part 1.  Only do the fast path for JSOP_BINDGNAME when the script doesn't have a polluted global.  r=luke,jandem 
Bug 1145491 part 2.  Only do the fast path for JSOP_GETGNAME when the script doesn't have a polluted global.  r=luke,jandem 
Bug 1145491 part 3.  Only do the fast path for JSOP_SETGNAME and JSOP_STRICTSETGNAME when the script doesn't have a polluted global.  r=luke,jandem 
Bug 1145491 part 4.  Emit JSOP_IMPLICITTHIS for JSOP_GETGNAME as well, because otherwise bareword calls in polluted-global scripts won't work right.  r=luke 
Bug 1145491 part 5.  Fix up various other places that check for JSOP_GET/SETNAME without checking for the GNAME versions too.  r=luke 
Bug 1145491 part 6.  Fix script cloning to propagate the polluted-global-scope state to the lambda templates in the script.  r=luke 
Bug 1145491 part 7.  Stop checking compileAndGo before emitting GNAME ops.  r=luke 
Bug 1143529 part 1.  Stop manually calling WrapObject in DataStoreService::GetDataStoresResolve.  r=baku 
Bug 1143529 part 2.  Tighten up the assert in binding Wrap methods.  r=peterv 
Bug 1146472 part 1.  Don't do object-kind guessing for object literal templates in scripts, since we in fact know exactly how many slots we want them to have and hence what the kind should be.  r=terrence 
Bug 1146472 part 2.  Use JSOP_NEWOBJECT as needed even if the script is not compile-and-go.  r=luke 
Bug 1146743.  Remove use of compileAndGo in JS debugger.  r=shu 
Bug 1146979.  When cloning objects in self-hosting preserve the property attributes of the properties (or at least the readonly/configurable attributes).  r=till 
Bug 1142844.  When xdr-decoding a non-lazy but relazifiable function, don't forget to set up the source object on the LazyScript we create for it.  r=luke 
Bug 1147907.  Relax our realParent asserts in CloneFunction a bit, pending a proper fix for bug 1143794.  r=luke 
Bug 1147193. Go back to having our accessors on JSStackFrame infallible.  r=bholley 
Bug 1147699 - Part 3: Add a test for FetchEvent.request.context when intercepting an image load; r=nsm,bzbarsky 
Bug 1144397.  Disallow using fill when dedent would do.  r=peterv 
Bug 1146333.  Get rid of WrapCallThisValue and just use ToJSValue, now that we have it.  r=peterv 
Bug 1148973.  When skipping shape guards in Ion common getter/setter code because the object has a non-configurable property, first verify that its current shape matches the shape we're using to compile our code.  r=jandem 
Bug 1144397.  Disallow using fill when dedent would do.  r=peterv 
Bug 1148973.  When skipping shape guards in Ion common getter/setter code because the object has a non-configurable property, first verify that its current shape matches the shape we're using to compile our code.  r=jandem 
Bug 1149280 part 1.  Make nullprincipal creation faster.  r=smaug 
Bug 1149280 part 2.  Drop the useless mScheme member of nsNullPrincipalURI.  r=smaug 
Bug 1149811.  When XDR-decoding a non-lazy function that can be lazified, we need to set up a backpointer from its LazyScript to its JSScript.  r=luke 
Bug 679939 part 1.  Extend the hasRunOnce/treatAsRunOnce setup to global and eval scripts.  r=luke 
Bug 679939 part 2.  Disallow execution of global/eval scripts that are flagged runOnce and have already run.  r=luke 
Bug 679939 part 3.  Add a CompileOptions flag for indicating that the script should be compiled runOnce.  r=luke 
Bug 679939 part 4.  Set the isRunOnce compile flag as needed.  r=luke 
Bug 679939 part 5.  Stop using the compileAndGo script flag in the bytecode emitter.  r=luke 
Bug 679939 part 6.  Drop function-cloning uses of compileAndGo, since it no longer affects the bytecode.  r=luke 
Bug 679939 part 7.  Drop the now-unused JSScript::compileAndGo.  r=luke 
Bug 679939 part 8.  Drop the now-unused compileAndGo from CompileOptions.  r=luke 
Bug 1146333.  Get rid of WrapCallThisValue and just use ToJSValue, now that we have it.  r=peterv 
Bug 1149811.  When XDR-decoding a non-lazy function that can be lazified, we need to set up a backpointer from its LazyScript to its JSScript.  r=luke 
Bug 1150513.  While we're working with a function's script (e.g. cloning it), prevent that function getting relazified.  r=luke 
Bug 679939 part 1.  Extend the hasRunOnce/treatAsRunOnce setup to global and eval scripts.  r=luke 
Bug 679939 part 2.  Disallow execution of global/eval scripts that are flagged runOnce and have already run.  r=luke 
Bug 679939 part 3.  Add a CompileOptions flag for indicating that the script should be compiled runOnce.  r=luke 
Bug 679939 part 4.  Set the isRunOnce compile flag as needed.  r=luke 
Bug 679939 part 5.  Stop using the compileAndGo script flag in the bytecode emitter.  r=luke 
Bug 679939 part 6.  Drop function-cloning uses of compileAndGo, since it no longer affects the bytecode.  r=luke 
Bug 679939 part 7.  Drop the now-unused JSScript::compileAndGo.  r=luke 
Bug 679939 part 8.  Drop the now-unused compileAndGo from CompileOptions.  r=luke 
Bug 1149987 - Part 1: Make it possible to send an ErrorResult that doesn't encode a JS exception through the IPDL layer; r=bzbarsky 
Bug 1149987 - Part 2: Make ErrorResult unassignable; r=bzbarsky
Bug 1149987 - Part 3: Give ErrorResult a move constructor and a move assignment operator; r=bzbarsky 
Bug 1149987 - Part 1: Make it possible to send an ErrorResult that doesn't encode a JS exception through the IPDL layer; r=bzbarsky 
Bug 1149987 - Part 2: Make ErrorResult unassignable; r=bzbarsky
Bug 1149987 - Part 3: Give ErrorResult a move constructor and a move assignment operator; r=bzbarsky 
Bug 1151940 part 1.  Make some readonly properties defined on Window by CSSOM-view replaceable.  r=smaug 
Bug 1151940 part 2.  Add a convenience function in nsGlobalWindow for replacing a property on the window with a new value.  r=smaug 
Bug 1151940 part 3.  Make some writable cssom-view attributes that we only allow setting from chrome act the way readonly replaceables would when called from content.  r=smaug 
Bug 1149235 part 1.  Move nsScriptLoadRequest into nsScriptLoader.h.  r=sicking 
Bug 1149235 part 2.  Switch to using linked lists for nsScriptLoadRequest.  r=sicking 
Bug 1149235 part 3.  Store async requests in the scriptloader in two lists, so we don't have to grovel about looking for loaded ones.  r=sicking 
Bug 1151048.  Disable speculative tokenization in the parser if it's failing too much.  r=hsivonen 
Bug 1153516.  Stop using loose is() comparisons in test_dom_xrays.html.  r=bholley 
Bug 1035248.  Fix SVG document bits to correctly handle non-SVG elements being added.  r=jwatt 
Bug 1149987 - Part 4: Do not attempt to delete ErrorResult::mMessage when deserializing the object from IPDL; r=bzbarsky
Bug 1154812.  Fix location.pathname to return the right thing in workers.  r=baku 
Bug 1154878.  Stop exposing navigator.tainteEnabled in workers.  r=ehsan 
Add some bug annotations to a few of the web platform tests ini files.  No bug, rs=jgraham 
Bug 1154878 followup.  Fix a test that expects to see navigator.taintEnabled in workers so we can reopen the CLOSED TREE. 
Bug 1154878 another followup.  Update wpt tests to not expect navigator.taintEnabled() in workers, because we still have a CLOSED TREE 
Bug 1154831 - Remove the gcc-4.6-warning-silencing code in ErrorResult::ErrorResult; r=bzbarsky 
Bug 1154598.  Keep better track of our script requests.  r=smaug 
Bug 1154366.  Pass in a JSContext to StructuredCloneContainer::InitFromJSVal so it will throw its exceptions somewhere where people might see them.  r=bholley 
Bug 1155015 - Hide FontFaceSet.load() until we implement it. r=bzbarsky 
Bug 1129239.  Don't require 'optional' keyword on trailing dictionary arguments if the dictionary has a required member.  r=smaug 
Bug 1153517.  Fix mozGetDataAt to return null when it should, like it used to.  r=peterv 
Bug 1152902 part 1.  Add a way to flag a method in webidl as being identity-testable, so we'll expose such an identity test from bindings to other C++ code.  r=peterv 
Bug 1152902 part 2.  Add a fast path for the case when a Promise is resolved with another Promise.  r=nsm 
Bug 1155788.  Make the Ion inner-window optimizations work again.  r=efaust 
Bug 1155793 part 1.  Make it possible to safely change the number of bits in the slotIndex field in jitinfo. r=efaust 
Bug 1155793 part 2.  Split apart the concepts of movability and eliminatability in jitinfo, since some things are not movable but are eliminatable.  r=efaust. 
Bug 1155942.  Treat USVString and ByteString as serializable values.  r=bkelly 
Bug 1156197.  Just use the return value of the cols DOM property for determining the default number of rendered columns for a textarea.  r=ms2ger 
Bug 1152902 part 1.  Add a way to flag a method in webidl as being identity-testable, so we'll expose such an identity test from bindings to other C++ code.  r=peterv 
Bug 1152902 part 2.  Add a fast path for the case when a Promise is resolved with another Promise.  r=nsm 
Bug 1109693.  More places that use CORS should in fact allow data: URIs.  r=smaug 
Bug 1157250.  Give PushSubscription an attribute serializer.  r=nsm 
Bug 1157451.  Make nsCORSListenerProxy::Init take an enum, not a boolean, to indicate what to do with data: URIs.  And make it required, not defaulted to disallowing.  r=smaug 
Bug 1157279.  Escaping CSS identifiers should use lowercase letters for hex digits, not uppercase ones.  r=dbaron 
Bug 1157487.  Make the error reporting in SimpleTest.monitorConsole better.  r=jmaher 
Bug 1157754 part 1.  Add a way to "catch" an ErrorResult, and a way to safely convert an ErrorResult to an nsresult.  r=peterv 
Bug 1157754 part 2.  Convert consumers of ErrorResult::ClearMessage() to the new better APIs we have for suppressing exceptions on ErrorResult.  r=bkelly 
Bug 1157754 part 3.  Make ClearMessage private on ErrorResult.  r=peterv 
  find . -name "*.h" -o -name "*.cpp" | xargs perl -pi -e 's/return ([a-zA-Z0-9]+)\.ErrorCode\(\);/return \1.StealNSResult();/' 
  find . -name "*.h" -o -name "*.cpp" | xargs perl -pi -e 's/NS_ENSURE_SUCCESS\(([a-zA-Z0-9]+)\.ErrorCode\(\), \1.ErrorCode\(\)\);/NS_ENSURE_TRUE(!\1.Failed(), \1.StealNSResult());/' 
Bug 1157898 part 3.  Fix the remaining consumers of rv.ErrorCode() in NS_ENSURE_* expressions to not do that.  r=peterv 
Bug 1157898 part 4.  Add ErrorResult::ErrorCodeIs() and use it in various places to get rid of ErrorCode().  r=peterv 
Bug 1157898 part 5.  Eliminate the remaining non-ErrorResult consumers of ErrorResult::ErrorCode and make it protected.  r=peterv 
Bug 1155984.  Improve the performance of the "self" getter in both window and workers.  r=peterv,jorendorff 
Bug 1158452.  Pass in the right node when messing with font sizes in editor.  r=ehsan 
Bug 1155946 part 2.  Add mayResolve methods to DOM classes with resolve hooks.  r=peterv 
Bug 1157588.  Produce a better error message when someone tries to pass a mixin as an argument.  r=peterv 
Bug 1141607.  Fix the initial value of outline-color to actually be correct.  r=dbaron 
Bug 1141607.  Fix the initial value of outline-color to actually be correct.  r=dbaron 
Bug 1159756.  Stop forcing the media.mediasource.enabled preference to true and the media.mediasource.whitelist preference to false in the test harness.  r=kinetik 
Bug 1159743.  Stop forcing the dom.animations-api.core.enabled preference on in the test harness.  r=birtles 
Bug 1154505.  Speed up test_bug346659.html by dropping the extra gcs, since the test harness now does a better job of disabling the popup blocker.  r=smaug 
Bug 1159756 followup.  MediaSource got enabled on b2g since yesterday, apparently, so now we have a CLOSED TREE 
Bug 1159755.  Stop forcing the media.eme.apiVisible preference to be true in our test harness.  r=cpearce 
Bug 1160311.  JITs should be enabled by default.  r=jorendorff 
Bug 1160311.  JITs should be enabled by default.  r=jorendorff 
And fix this to actually compile...  Still bug 1160311. 
Bug 1160190.  Remove most of the pref annotations in test_interfaces and test_worker_interfaces.  r=jst 
Bug 1159743.  Stop forcing the dom.animations-api.core.enabled preference on in the test harness.  r=birtles 
Bug 1159743 another followup.  More issues on b2g with not all SpecialPowers objects being able to get prefs leading to a CLOSED TREE. 
Bug 1160190 followup.  Make ServiceWorker actually disabled on mulet so we can reopen the CLOSED TREE.  r=bkelly 
Bug 1159742.  Get rid of the pref annotation from test_interfaces, since it basically corresponds to disabling the test.  r=jst 
Bug 1160215.  Get rid of the now-unused workerTestGetPrefs bits.  r=bkelly 
Bug 1087330.  Make the data structure we use for our promise microtask queue have O(1) first element removal, not O(N).  r=khuey 
Bug 1161021 patch 1 - Add comments for existing started_test() calls.  r=bzbarsky 
Bug 1161021 patch 2 - Fix unbalanced start_test()/finished_test() calls.  r=bzbarsky
Bug 1161021 patch 3 - Check that we don't get duplicate events for #seven::after.  r=bzbarsky 
Bug 1161036 part 1.  Stop setting the layout.css.font-loading-api.enabled preference to true in the test harness.  r=heycam 
Bug 1161036 part 2.  Only force-enable dom cache in test_serviceworker_interfaces if we're having to force-enable servicewceworkers too.  r=bkelly 
Bug 1160628.  Speed up the URL constructor in the common case of no base URI.  r=baku 
Bug 1161034.  Make test_animations_pausing pass even when we're doing mainthread compositing.  r=birtles 
Bug 1161625.  Use nsIURI, not dom::URL, to create URIs on main thread in fetch code.  Also, use the entry settings document's base URI, not the callee document's document URI, as the base.  r=nsm 
Bug 1162013.  Process the Promise queue between adjacent setTimeout callback invocations when we're going through the callback list without returning to the event loop.  r=smaug 
Bug 1162013.  Process the Promise queue between adjacent setTimeout callback invocations when we're going through the callback list without returning to the event loop.  r=smaug 
Bug 1162835.  Add some missing includes to nsFormSubmission and nsFormData.  r=baku 
Bug 1163898 part 1.  Give DOMEventTargetHelper a sane accessor for getting its nsIGlobalObject.  r=smaug 
Bug 1163898 part 2.  Allow creation of an anonymous XHR in non-window scopes if the right mozAnon bits are passed in.  r=smaug 
Bug 1163898 followup.  Fix a test that was expecting the buggy mozAnon behavior.  CLOSED TREE. 
Bug 913053.  Split up IDLTypedef and IDLTypedefType, and likewise for IDLCallback vs IDLCallbackType, so it's clearer whether we're operating on types or objects represented by those types.  r=khuey 
Bug 1084456 followup.  Don't require android to have MSE stuff enabled! r=tree-is-orange, a=tree-is-orange-I-tell-you 
Merge m-c to inbound a=merge 
Bug 1158806.  Don't try to include stuff for a generated hasInstance hook if we have no interface object, since in that case we don't need the include.  r=peterv 
Bug 1163109.  Restrict the resource:// weirdness in workers to loads from a  system principal.  r=bzbarsky 
Bug 1158016 - Skip the test if the page is not loaded from the bf-cache when going back; r=bzbarsky 
Bug 1168207.  Be a bit more careful with overflow checking in XHR.  r=baku 
Bug 1166443.  Example codegen should output the right signature for Wrap() when the object is not wrappercached.  r=peterv 
Back out changeset 00ed09e42a00 (bug 1168319) because bug 1166347 was backed out 
Bug 1171970.  Handle super-long lines in CSS files a bit more gracefully if they cause OOM when creating CSS error messages.  r=heycam 
Bug 1172246.  Make sure CallSetup's handling of exceptions it wants to deal with itself works even when the callable is a JSNative that use the JS_Report*Error APIs instead of throwing exceptions in the usual way.  r=bholley 
Bug 1155342 - Disallow flagging a [NewObject] method with a [DependsOn] value that implies it might return the same value when called twice. r=bzbarsky 
Bug 1172513 part 1.  Fix shell's Evaluate to actually throw when it detects save/load bytecode mismatches.  r=waldo 
Bug 1172513 part 2.  When XDR-encoding a function, don't incode temporary flags.  r=waldo 
Bug 1173787.  The column number of an exception populated via PopulateReportBlame should be 1-based.  r=fitzgen 
Fix the test for bug 1173787 to work even when the filename contains a ':' (e.g. on Windows) so we can reopen the CLOSED TREE 
while reporting a warning via the JS engine. 
Bug 1173593.  Make it possible to throw TypeError (or, in fact, any other Error from the content compartment) from js-implemented webidl.  r=bholley 
Bug 1174486 part 1.  Make sure that warnings do still get reported even if our AutoJSAPI has taken over error reporting.  r=bholley 
some other work on the same cx (specifically, nsXBLProtoImplField::InstallField). 
Bug 1174486 part 3.  Eliminate the unused codepath on which EvaluateOptions::reportUncaught is false.  r=bholley 
Bug 1174486 part 4.  Stop reporting exceptions in nsJSUtils::EvaluateString and have its consumers use AutoJSAPIs that take ownership of error reporting instead.  r=bholley 
Bug 1174487.  Stop using JS_ReportPendingException in ThrowAndReport.  Just let the AutoJSAPI do the work for us.  r=bholley 
Bug 1165851 part 1.  Back out bug 1060938 and bug 1075702 pending spec changes because they are implementing a spec that's not web compatible.  r=smaug 
Bug 1165851 part 2.  Add a test for the desired createAttribute/getAttribute behavior.  r=smaug 
Bug 1173913.  Indicate what webidl generated files were generated from, if they were generated for a particular webidl file.  r=peterv 
Bug 1174954 part 1.  Stop throwing DOMErrors from JS-implemented webidl, since we can now throw content-side Errors instead.  r=bholley 
Bug 1174954 part 2.  Remove the special-casing of DOMError in JS-implemented webidl code.  r=bholley 
Bug 1174954 part 3.  Remove ReportJSExceptionFromJSImplementation, since it no longer does anything interesting.  r=bholley 
this patch switches to getting the parent proto only if we have a proto ourselves. 
Bug 1175600.  Add getRelativePath/setRelativePath to nsIFile.  r=froydnj 
Bug 1175601.  Make nsIFile.getRelativeDescriptor work with paths with paths with arbitrary numbers of segments, not just 32.  r=froydnj 
Bug 1175600 followup.  Add getRelativePath to ye othere nsIFile implementatione so as to de-bust ye olde CLOSED TREE 
Bug 1175800 - Remove typedefs from nsComputedDOMStyle.cpp as they interfere with others under unified compilation. r=bzbarsky 
to QI to it and we're changing the IID. 
Bug 1175031.  Add telemetry for an Attr with a non-lowercase name that was created from an HTML document being added to a non-HTML element.  r=smaug,froydnj 
Bug 1176153.  Have binding code grab the array buffer view type for ArrayBufferView arguments, so consumers don't have to manually use JSAPI to do it.  Use the new setup in WebGL code.  r=smaug 
Bug 1175192.  Consistently allow identifiers to start with -- in the CSS parser.  r=heycam 
Bug 1122253 - Support -moz-min-content etc. keywords in {,min-,max-}inline-size and their physical equivalents. r=bzbarsky 
Bug 1025395.  Output a #error instead of a nonexistent macro for the CC bits of example codegen, to make it clearer to people using it what they should do with CC.  r=peterv 
Bug 1170888 - Restyle the document in EnsureSafeToHandOutCSSRules if we previously cloned sheet inners outside of that method. r=bzbarsky 
Bug 1072102 - Part 1: Implement FontFaceSet load and check. r=jdaggett,bzbarsky 
Bug 1178803.  Fix the handling of the 'length' key in IDB keypaths when operating on a string.  r=bent 
Bug 1178806.  IndexedDB autoincrement overflow should be throwing ConstraintError per spec.  r=bent 
Bug 1176800 part 1.  When getting all types, include the types Promises are parametrized over.  r=peterv 
Bug 1176800 part 2.  Add a ToJSValue overload for owning unions.  r=peterv 
Bug 1162956 part 1.   Move forwardDeclareForType to be a method on ForwardDeclarationBuilder.  r=peterv 
Bug 1162956 part 2.  Forward-declare things as needed in example codegen.  Also, use js/TypeDecls.h for the JSContext declaration and include BindingDeclarations.h so we get things like Optional (which are a pain to forward-declare).  r=peterv 
Bug 1177869.  Fix example codegen to output the correct return type for WrapObject in the non-wrappercached case.  r=peterv 
Bug 1176236.  Make typed array arguments work for constructors of JS-implemented interfaces.  r=peterv 
Bug 959992.  Go back to not treating properties that the named properties object exposes as enumerable.  r=peterv 
Bug 1167489 and bug 1153672.  Clamp the resolution of performance.now() calls to 5us, because otherwise we allow various timing attacks that depend on high accuracy timers.  r=froydnj 
window current without changing the active document. 
Bug 1181747.  Remove uses of mozRequestAnimationFrame from add-on SDK.  r=wkocher 
Bug 1181619.  Make sure we've entered a microtask before we call nsJSUtils::EvaluateString, and put those microtasks outside the relevant AutoEntryScripts so we report any possible exceptions before doing the microtask checkpoint.  r=bholley 
Bug 1181747 followup.  Also need to adjust the assert in the test. 
Bug 1180770 part 1.  Remove the unused ThrowNotEnoughArgsError.  r=peterv 
Bug 1180770 part 2.  Remove the unused ifaceName/memberName arguments of ThrowMethodFailedWithDetails and rename it to ThrowMethodFailed.  r=peterv 
Bug 1180851.  Don't make ThrowMethodFailed an inline function, because there's no really good reason to and we might as well save the codesize.  r=peterv 
Bug 1181762.  Remove uses of mozRequestAnimationFrame from toolkit code.  r=gijs 
Bug 1181920.  Persist XUL attributes off a scriptrunner.  r=peterv 
Bug 1181916.  Notify the debugger's onNewGlobalObject hook off a scriptrunner.  r=bholley 
Bug 1181965.  Remove uses of mozRequestAnimationFrame from dom and parser tests.  r=bkelly 
Bug 1181765.  Remove uses of mozRequestAnimationFrame from layout tests.  r=bkelly 
Bug 1183484 - Cycle collect FontFaceSetIterator. r=bzbarsky 
Bug 1181966.  Remove uses of mozRequestAnimationFrame from browser code.  r=gijs,paul 
Bug 1183896.  Don't assume that relatively positioned table cells actually have positioned offsets computed, because in the case of position:sticky they don't.  r=dholbert 
toBindingNamespace() should only be called on descriptor names, not interface names. 
Bug 909154.  Remove the prefixed mozRequestAnimationFrame and its accoutrements.  r=bkelly 
Bug 1184647.  Cloning an image should ensure that the clone tries to load the src, if any.  r=smaug 
Bug 1186489.  Apply the performance.now() resolution clamping in workers as well.  r=froydnj 
Bug 1107443.  Make WindowProxy throw if you attempt to explicitly define a non-configurable property.  r=peterv 
Bug 1177819.  Replace the warning about anon content being passed into frame construction with an assert plus whitelisting of the known-OK cases.  r=dholbert 
Bug 1137148.  Fix painting of ridge/groove borders for border-collapsed tables.  r=jwatt 
Bug 1188091 - Fix the exposure of Push interfaces; r=dougt,bzbarsky
Bug 1186696.  Event handlers on JS-implemented webidl interfaces should have the same behavior as other event handlers: accept all values, convert non-objects to null.  r=smaug 
Bug 1176568.  Fix the proto cycle checking to work correctly for inner/outer globals.  r=waldo 
Bug 1173214.  Be a little more more careful with moz-icon URIs.  r=bzbarsky 
Back out revision 6d94504b602d (bug 602122). 
Bug 1173214 followup.  Fix a test that no longer gets what it's expecting to get.  CLOSED TREE. 
Bug 1188091 - Fix the exposure of Push interfaces; r=dougt,bzbarsky,nsm
Bug 1183491.  Null-check the document we get from our contentWindow in the contentDocument getter, because apparently it can end up null.  r=bkelly 
Bug 1135961.  Implement subclassing of DOM objects.  r=peterv 
Bug 983301 part 1.  Handle JS-to-native conversion for Promise values via calling Promise::Resolve on whatever value was passed in (except if the type is nullable and the passed-in value is null or undefined).  r=peterv 
Bug 983301 part 2.  Change Promise to not be distinguishable from any other type.  r=peterv 
Bug 1181908.  The CompileOptions constructor should properly copy the introducerFilename and isRunOnce state.  r=luke 
Bug 1180118 - Part 1: Add a method to match a single nsCSSSelector (without pseudo-elements) against an Element. r=bzbarsky 
Bug 1180118 - Part 2: Add eRestyle_SomeDescendants restyle hint and pass associated restyle hint data into restyle methods. r=bzbarsky 
Bug 1180118 - Part 3: Convert eRestyle_SomeDescendants into eRestyle_Self for elements that match selectors. r=bzbarsky 
Bug 1180118 - Part 4: Store pointer to the rightmost selector for class, ID and attribute selectors in the rule cascade. r=bzbarsky 
Bug 1180118 - Part 5: Add a RestyleHintData outparam to HasAttributeDependentStyle for use with eRestyle_SomeDescendants. r=bzbarsky 
Bug 1180118 - Part 6: Return eRestyle_SomeDescendants from HasAttributeDependentStyle where appropriate. r=bzbarsky 
Bug 1180118 - Part 7: Split out FindClosestRestyleRoot and allow passing in a pre-computed restyle root to AddPendingRestyle. r=bzbarsky 
Bug 1180118 - Part 8: Keep track of the closest restyle root in AddPendingRestylesForDescendantsMatchingSelectors. r=bzbarsky 
Bug 1180118 - Part 9: Clear nsCSSSelector pointers in the pending restyle tracker if they might be stale. r=bzbarsky 
Bug 1180118 - Part 10: Logging. r=bzbarsky 
Bug 1180118 - Part 11: Use ReparentStyleContext even if eRestyle_SomeDescendants is used. r=bzbarsky 
Bug 1180118 - Part 1: Add a method to match a single nsCSSSelector (without pseudo-elements) against an Element. r=bzbarsky 
Bug 1180118 - Part 2: Add eRestyle_SomeDescendants restyle hint and pass associated restyle hint data into restyle methods. r=bzbarsky 
Bug 1180118 - Part 3: Convert eRestyle_SomeDescendants into eRestyle_Self for elements that match selectors. r=bzbarsky 
Bug 1180118 - Part 4: Store pointer to the rightmost selector for class, ID and attribute selectors in the rule cascade. r=bzbarsky 
Bug 1180118 - Part 5: Add a RestyleHintData outparam to HasAttributeDependentStyle for use with eRestyle_SomeDescendants. r=bzbarsky 
Bug 1180118 - Part 6: Return eRestyle_SomeDescendants from HasAttributeDependentStyle where appropriate. r=bzbarsky 
Bug 1180118 - Part 7: Split out FindClosestRestyleRoot and allow passing in a pre-computed restyle root to AddPendingRestyle. r=bzbarsky 
Bug 1180118 - Part 8: Keep track of the closest restyle root in AddPendingRestylesForDescendantsMatchingSelectors. r=bzbarsky 
Bug 1180118 - Part 9: Clear nsCSSSelector pointers in the pending restyle tracker if they might be stale. r=bzbarsky 
Bug 1180118 - Part 10: Logging. r=bzbarsky 
Bug 1180118 - Part 11: Use ReparentStyleContext even if eRestyle_SomeDescendants is used. r=bzbarsky 
Bug 1181908.  The CompileOptions constructor should properly copy the introducerFilename and isRunOnce state.  r=luke 
Bug 1181908 part 2.  The CompileOptions constructor should properly copy the introducerFilename and isRunOnce state.  r=luke 
Bug 1194764.  Fix the way we pass the outer window id to various things in context menu code to work in non-e10s mode too.  r=jryans 
Bug 1192302 - Part 1: Make MustCheckUndisplayedContent take its frame as an argument. r=bzbarsky 
Bug 1192302 - Part 2: Traverse the frame tree when processing eRestyle_SomeDescendants. r=bzbarsky 
Bug 1182197 investigation patch.  Log the stack at promise fulfillment on a CCed promise into the crash reporter data.  r=dmajor,nsm 
Bug 1201692.  Add a fast path to ExplicitChildIterator::Seek for the common case of seeking an actual DOM child of the parent node.  r=wchen 
Bug 633154.  When alerts/prompts/confirms are suppressed, just return silently instead of throwing.  r=sicking 
Bug 1182197 workaround.  Add a null-check for mGlobal for now.  r=nsm 
Bug 1191942.  Make sure to not schedule requestAnimationFrame callbacks if animations are paused.  r=roc 
Bug 1202512 - Part 1: Add Element flags to record whether an eRestyle_SomeDescendants restyle is pending for it. r=bzbarsky 
Bug 1202512 - Part 2: Make SelectorMatchesTree take a flags argument. r=bzbarsky 
Bug 1202512 - Part 3: Restyle elements with attribute/state changes if we find a conditionally restyled ancestor while selector matching up the tree. r=bzbarsky 
Bug 1202512 - Part 4: Reftests. r=bzbarsky 
Bug 236989 -  Ensure persisted subdocuments correctly fixup relative links.  r=bzbarsky
Bug 1203766 - Part 1: Generate nsPresArena::ObjectIDs with a preprocessor-included file. r=bzbarsky 
Bug 1203766 - Part 2: Add an ArenaRefPtr class that can have its pointer cleared out when an object's owning nsPresArena goes away. r=bzbarsky 
Bug 1203766 - Part 3: Add ArenaRefPtr support to nsStyleContext. r=bzbarsky 
Bug 1203766 - Part 4: Add a "restyle generation" counter, which increments whenever we process pending restyles. r=bzbarsky 
Bug 1203766 - Part 5: Rename nsComputedDOMStyle::mStyleContextHolder to mStyleContext. r=bzbarsky 
Bug 1203766 - Part 6: Cache resolved style contexts on nsComputedDOMStyle to avoid re-resolving if styles haven't changed. r=bzbarsky 
Bug 1203766 - Part 6.1: Clear cached style context on nsComputedDOMStyle when its element is moved. r=bzbarsky 
Bug 1203766 - Part 7: Test. r=bzbarsky 
Bug 1203404.  offsetX/Y on mouse events should remain target-relative, instead of becoming page-relative, after event dispatch is done.  r=roc 
Bug 1205364 part 1.  Make createAttribute in an HTML document lowercase the passed-in attribute name.  r=smaug 
Bug 1205364 part 2.  Back out the telemetry we added in bug 1175031.  r=smaug 
Back out the null-check workaround for bug 1182197 on trunk, so we can see what the stacks look like after all via crash-stats data on nightly and dev channel. 
Bug 1204618 - Add a field to the DeviceStorage object holding the low-disk-space status. r=dhylands, r=bzbarsky 
Bug 1206569 - Part 1: Move for-Python preprocessor-generated CSS property list header to layout/style/. r=bzbarsky 
Bug 1206569 - Part 2: Note internal CSS properties using a flag. r=bzbarsky 
Bug 1206569 - Part 3: Include internal properties in PythonCSSProps.h and annotate each with a type. r=bzbarsky 
Bug 1206569 - Part 4: Add method to get a CSS property's IDL name. r=bzbarsky 
Bug 1176313.  Reland the changes to make Attr handling follow the spec again.  This is a relanding of bug 1075702, effectively.  r=smaug 
Bug 1206105 - Use CheckedInt for an+b selector matching.  r=bzbarsky 
Bug 1207028 - Add method to get a CSS property's sorted order position based on its IDL name. r=bzbarsky 
Bug 890284 - Stop splitting textnodes in the XML content sink.  r=peterv 
Bug 1203973 -  Move <style> and <link> attribute change handling to AfterSetAttr so that it doesn't trigger for no-op attribute changes.  r=smaug 
Bug 1198708 - Part 6: Implement KeyframeEffectReadOnly.getFrames(). r=birtles,bzbarsky
Bug 1209658 part 1.  Refactor some parts of nsContentDLF to reduce code duplication and improve readability a bit.  r=bkelly 
Bug 1209658 part 2.  Add text/json and text/vtt as text MIME types.  r=bkelly 
Bug 837211 - Add -webkit prefixed aliases for various CSS properties, behind an off-by-default preference. r=bzbarsky
Bug 1211624.  document.all should be iterable, and so should be various other things that have an anonymous indexed getter.  r=qdot 
Bug 732209 way delayed followup.  Make the comments a bit clearer.  DONTBUILD 
Bug 1213391.  Unmark gray things before putting them into function reserved slots in Promise code.  r=mccr8 
Bug 1212360.  Split up the MozStorageChanged event into separate events for sessionstorage and localstorage.  r=khuey 
Bug 1213289 part 1.  Change dom::Throw to take an XPCOM string, not a raw C string, for the message.  r=bkelly 
Bug 1213289 part 2.  Introduce ErrorResult::ClearUnionData and use it in various places where we're trying to do that.  r=bkelly 
Bug 1213289 part 3.  Add a way to throw a DOMException with a custom message on ErrorResult.  r=bkelly 
Bug 1213289 part 4.  Convert to using an enum for tracking our union state.  r=bkelly 
Bug 890284.  Stop splitting textnodes in the XML content sink.  r=peterv 
Bug 1147441 - Add SharedArrayBuffer support to WebGL and WebGL 2. r=jgilbert, r=bzbarsky 
Backing out changeset f6759ed53f46 (bug 799937) due to causing extension breakage. 
Bug 1214857.  Store the document-is-HTML state directly in nsContentList instead of refetching from the node being matched.  r=smaug 
Bug 1214819.  Add support for @crossorigin to <link rel=prefetch> so resources can be prefetched via anonymous CORS, for example.  r=hurley 
Bug 218093.  Whitelist more mouse movement events to apply to disabled form controls.  r=smaug 
Bug 1215532.  Make sure the exposure set of the generated iterator interface matches that of the iterable it's created for, and that IterableIterator is exposed everywhere.  r=qdot 
Bug 1215559.  Create separate iterator native types for one-type and two-type iterators, so we don't force the one-type case to implement GetKeyAtIndex.  r=qdot 
Back out revision 5985a4717758 (bug 1215559) because the Linux compiler is not happy with the template using bits 
Bug 1215559.  Create separate iterator native types for one-type and two-type iterators, so we don't force the one-type case to implement GetKeyAtIndex.  r=qdot 
Bug 1215755.  Change the Web IDL parser to just put a next() method in iterator interfaces instead of using an additional IterableIterator interface.  Fix up the other test failures in test_interface_maplikesetlikeiterable.py while I'm here.  r=qdot 
Bug 1216193.  Implement webkitMatchesSelector.  r=khuey 
Bug 1108181 - Make Headers iterable; r=bzbarsky 
Bug 1108181 - Make Headers iterable; r=bzbarsky 
Bug 931243 - Remove the XMLHttpRequest APIs from ServiceWorkerGlobalScope; r=bzbarsky 
Bug 1208951 - Part 5: Add nsCSSProps method to look a property by its IDL name. r=bzbarsky 
Bug 1208951 - Part 9: Implement KeyframeEffectReadOnly constructor. r=bzbarsky r=birtles 
Bug 1216697 - Unship Request.cache until the implementation is finished; r=bzbarsky 
Bug 1216945 - Uninitialised value use in nsXULWindow::SizeShellTo. r=bzbarsky. 
Bug 1218139 - Remove ServiceWorkerContainer.onreloadpage; r=bzbarsky 
Bug 1218142 - Remove ServiceWorkerGlobalScope.onbeforeevicted/onevicted; r=bzbarsky 
Bug 1218141 - Add some SameObject and NewObject annotations to ServiceWorkerGlobalScope; r=bzbarsky 
Bug 1218146 - Move WindowClient.frameType to Client.frameType; r=bzbarsky 
Bug 1218147 - Make WindowClient.focus() NewObject; r=bzbarsky 
Bug 1214772 - Part 2: Make FetchEvent inherit from ExtendableEvent; r=bzbarsky 
Bug 1218131 - Mark FetchEvent.request as SameObject; r=bzbarsky 
Bug 1218135 - Remove FetchEvent.client; r=bzbarsky
Bug 1218150 - Mark the members of Clients as NewObject; r=bzbarsky 
Bug 1218151 - Make FetchEventInit.isReload default to false; r=bzbarsky 
Bug 1218152 - Make Window.caches and WorkerGlobalScope.caches SameObject; r=bzbarsky 
Bug 1218499 - Make FetchEvent.request nullable; r=bzbarsky 
Bug 1217270.  Media documents loaded from file:// URIs should still fire onload.  r=kinetik 
Bug 1039986.  Make Function.prototype.toString work on Web IDL interface objects.  r=jorendorff,peterv 
Bug 621596 - Don't assert when a percentage base value overflows to become negative, when getting the computed style of a property that rejects negative values. r=bzbarsky 
Bug 1220496 - Create PresHint/StyleAttr rule processors in nsStyleSet::Init and make DirtyRuleProcessors private. r=bzbarsky 
Bug 1220509 - Remove unused CSSStyleSheet::PrependStyleRule. r=bzbarsky 
Bug 1220513 - Remove unused CSSStyleSheet::StyleSheetCount. r=bzbarsky 
Bug 1220506 - Remove unused CSSStyleSheet::InsertStyleSheetAt. r=bzbarsky 
Bug 978833 patch 10 - Raise consistent exceptions so that the exception doesn't depend on rule destruction timing.  r=bzbarsky
Bug 1220516 - Devirtualize CSSStyleSheet::GetOriginalURI. r=bzbarsky 
Bug 1219749.  Add a way to faithfully propagate the "exception is already on JSContext" state through an ErrorResult.  r=peterv 
Bug 1222886 - Remove unused nsCSSParser::{SetStyleSheet,SetChildLoader,SetQuirkMode} methods. r=bzbarsky 
Bug 1182197 workaround.  Add a null-check for mGlobal in Promise::Settle.  r=mccr8 
Bug 1224636.  Fix some code in ImageBitmap that rejects a promise with an ErrorResult, then keeps trying to use that ErrorResult.  r=kaku 
Bug 1223716.  Make HTMLCollection check for the element being HTML before checking for its name inside its named getter.  r=bkelly 
Bug 1224643.  Fix handling of U+0000 in URLSearchParams serialization.  r=baku 
Bug 1224580.  Copy of URLSearchParams should not copy its observer pointer.  r=baku 
Bug 1225188.  Implement window.onstorage.  r=smaug 
Bug 1220621.  When removing a <col>, only create an anonymous colframe to replace it if one is really needed.  r=dbaron 
Bug 1225392 part 1.  Expose JSAPI for getting %IteratorPrototype%.  r=efaust 
Bug 1225392 part 2.  WebIDL autogenerated iterators should chain up to %IteratorPrototype%.  r=qdot 
Bug 1226448.  Fix Optional::Construct to do perfect forwarding, and fix the dictionary assignment operator code for members that can have missing values to not try constructing and already constructed member.  r=jib 
Bug 1226479.  Change ErrorResult::ThrowTypeError/ThrowRangeError to take string references, not pointers.  r=mccr8 
Bug 1224007 part 1.  Rename ThrowMethodFailed to MaybeSetPendingException and make it an ErrorResult instance method.  r=peterv 
Bug 1224007 part 2.  Make the various ErrorResult::Report* methods private, so consumers all go through MaybeSetPendingException and rename them to more clearly indicate what they're actually doing.  r=peterv 
Bug 1224007 part 3.  Push down WouldReportJSException into MaybeSetPendingException, since anyone calling the latter will propagate the JS exception as needed.  r=peterv 
Bug 1224007 part 4.  Fix some cases in which ErrorResult instances are destroyed without doing anything useful with exceptions on them.  r=peterv 
Bug 1224007 part 5.  Get rid of ErrorResult::StealJSException.  r=peterv 
can be usefully called on successful ErrorResults too. 
Bug 979591.  Disallow calling WebIDL constructors as functions even for system callers in release builds.  r=peterv 
Bug 1172246.  Make sure CallSetup's handling of exceptions it wants to deal with itself works even when the callable is a JSNative that uses the JS_Report*Error APIs instead of throwing exceptions in the usual way.  r=bholley 
Bug 1223523.  The named getter on document should not return images with an empty name.  r=peterv 
Bug 1226489 - Pass only a single rule to StyleRuleChanged.  r=bzbarsky 
Back out bug 1172246 because of mochitest-JP bustage.  Who needs tests that we care about running on try anyway? 
Bug 1225603.  Codegen ToJSValue overloads for Web IDL enums.  r=smaug,jib 
Bug 1224596 part 1.  Add a version of WorkerMainThreadRunnable::Dispatch that takes an ErrorResult to report failure to dispatch on.  r=khuey 
Bug 1224596 part 2.  Switch Navigator to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 3.  Make some WebSocket(Impl) methods whose return value is totally ignored void.  r=khuey 
Bug 1224596 part 4.  Switch WebSocket to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 5.  Switch nsPerformance to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 6.  Switch BroadcastChannel to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 7.  Switch ImageBitmap to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 8.  Switch Notification to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 9.  Switch DataStore to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 10.  Switch DataStoreCursor to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 11.  Switch WorkerNavigator to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 12.  Switch ServiceWorkerRegistration to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 13.  Switch gfxUtils to using the new WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1224596 part 14.  Switch URL to using the new WorkerMainThreadRunnable::Dispatch signature.  r=baku 
Bug 1224596 part 16.  Switch Fetch to using the new WorkerMainThreadRunnable::Dispatch signature.  r=bkelly 
Bug 1224596 part 17.  Remove the old WorkerMainThreadRunnable::Dispatch signature.  r=khuey 
Bug 1227148 - Add SameObject and NewObject annotations to some ServiceWorkerContainer members; r=bzbarsky 
Bug 1228009.  Geolocation code needs to handle failures on its ErrorResults.  r=smaug 
Bug 1228053.  syncThenable in loop test code should have catch(), since some of the tests assume that Promise instances have a catch() method.  r=mdeboer 
Bug 1170760 part 1.  Introduce a PromiseCapability struct.  r=baku,efaust 
Bug 1170760 part 2.  Pass in the 'this' value to Promise static methods.  r=peterv 
Bug 1170760 part 3.  Add an @@species getter on Promise.  r=peterv 
Bug 1170760 part 4.  Change Promise::Constructor to run in the Xray compartment when new Promise happens over Xrays.  r=peterv 
Bug 1170760 part 5.  Implement NewPromiseCapability which can either return a PromiseCapability as in the spec, or one that has a native promise and maybe resolve/reject functions if the consumer asked for them.  r=baku,efaust 
Bug 1170760 part 6.  Fix GetDependentPromise to deal with a situation when someone called then() and passed it the resolve/reject functions that come from a promise's constructor.  r=baku 
subclassing support to Promise.resolve and Promise.prototype.then. 
Bug 1170760 part 8.  Add subclassing support to Promise::All.  r=baku,efaust 
Bug 1170760 part 9.  Stop using Promise::Resolve in the bindings for PromiseDebugging.  r=baku 
Bug 1170760 part 10.  Add subclassing support to Promise::Resolve.  r=baku,efaust 
Bug 1170760 part 11.  Add subclassing support to Promise::Reject.  r=baku,efaust 
Bug 1170760 part 12.  Rip out the promise-resolved-with-promise fast path.  r=baku 
Bug 1170760 part 13.  Add subclassing support to Promise::Then/Catch.  r=baku,efaust 
Bug 1170760 part 1.  Introduce a PromiseCapability struct.  r=baku,efaust 
Bug 1170760 part 2.  Pass in the 'this' value to Promise static methods.  r=peterv 
Bug 1170760 part 3.  Add an @@species getter on Promise.  r=peterv 
Bug 1170760 part 4.  Change Promise::Constructor to run in the Xray compartment when new Promise happens over Xrays.  r=peterv 
Bug 1170760 part 5.  Implement NewPromiseCapability which can either return a PromiseCapability as in the spec, or one that has a native promise and maybe resolve/reject functions if the consumer asked for them.  r=baku,efaust 
Bug 1170760 part 6.  Fix GetDependentPromise to deal with a situation when someone called then() and passed it the resolve/reject functions that come from a promise's constructor.  r=baku 
subclassing support to Promise.resolve and Promise.prototype.then. 
Bug 1170760 part 8.  Add subclassing support to Promise::All.  r=baku,efaust 
Bug 1170760 part 9.  Stop using Promise::Resolve in the bindings for PromiseDebugging.  r=baku 
Bug 1170760 part 10.  Add subclassing support to Promise::Resolve.  r=baku,efaust 
Bug 1170760 part 11.  Add subclassing support to Promise::Reject.  r=baku,efaust 
Bug 1170760 part 12.  Rip out the promise-resolved-with-promise fast path.  r=baku 
Bug 1170760 part 13.  Add subclassing support to Promise::Then/Catch.  r=baku,efaust 
Bug 1228707.  Add a away to call Web IDL callbacks while ignoring any errors from them, and use it in a few places.  r=smaug 
Bug 1228708.  Fix UndoManager to correctly suppress exceptions it wants to suppress on ErrorResults.  r=smaug 
Bug 1229031.  Make sure to not init binding pref var caches on worker threads.  r=smaug 
Bug 1228876.  Correctly ignore nested optgroups even if an optgroup is inserted into another, existing, optgroup.  r=mats 
Bug 1048695 part 1.  Pass the set of globals where a member should NOT be exposed to MemberCondition.  r=peterv 
Bug 1048695 part 2.  Make interface members not be exposed based on their nonExposedGlobals.  r=peterv 
Bug 1228702.  Don't expose the 'location' property of Exception/DOMException on workers.  r=bholley 
Bug 1229664.  Drop the concept of inner exceptions from Exception/DOMException.  r=bholley 
Bug 1227190 part 1.  change PrepareScriptEnvironmentAndInvoke to return void, not bool, to make it clearer that it reports exceptions for you.  r=jorendorff 
Bug 1227190 part 2.  Make debugger error reporting play nice with the embedding taking ownership of error reporting.  r=jorendorff 
Bug 1172246.  Make sure CallSetup's handling of exceptions it wants to deal with itself works even when the callable is a JSNative that uses the JS_Report*Error APIs instead of throwing exceptions in the usual way.  r=bholley 
Bug 1227190 followup to address the review comments I missed.  r=jorendorff 
Bug 1227190.  Make the constructor for ReportExceptionClosure explicit to silence our static analyzers.  r=CLOSED TREE 
Bug 1230092.  Make nsIDOMCustomEvent no longer inherit from nsIDOMEvent, so that CustomEvent doesn't end up with multiple inheritance from nsIDOMEvent.  r=smaug 
Bug 1227458.  Make setAttributeNode be an alias for setAttributeNodeNS and setNamedItem on the attribute map be an alias for setNamedItemNS.  r=smaug 
Bug 1227190 part 1.  change PrepareScriptEnvironmentAndInvoke to return void, not bool, to make it clearer that it reports exceptions for you.  r=jorendorff 
Bug 1227190 part 2.  Change PrepareScriptEnvironmentAndInvoke to take a JSContext*, not a JSRuntime*.  r=jorendorff 
Bug 1227190 part 3.  Make debugger error reporting play nice with the embedding taking ownership of error reporting.  r=jorendorff 
Bug 1230291.  Correctly include nsContentUtils when generating a manual hasInstance with nsIDOM* stuff or when we have a JS-implemented interface with clearable cached attrs 
Bug 1230704.  Change AbortablePromise::DoAbort to not worry about the result of calling its callback.  r=smaug 
Bug 1230700.  Make Notification::ShowInternal explicitly suppress the exception from GetPermissionInternal.  r=smaug 
Bug 1230692.  Fix WebAudioDecodeJob to properly suppress exceptions from its callbacks.  r=ehsan 
Bug 1222079.  Fix the behavior of Object.getOwnPropertyNames for nsDOMAttributeMap.  r=bzbarsky 
Bug 1230466.  Make sure to update our scrollbar styles when a <body> is removed from the DOM, since we might now need to propagate from some other element.  r=roc 
Bug 930218 part 1.  Factor out the computation of block-size taken up by box-sizing into a separate function so we can reuse it.  r=dbaron 
Bug 930218 part 2.  Account for the parent's box-sizing whe figuring out the percentage height of a kid with an intrinsic ratio for purposes of determining the parent's shrink-wrap width.  r=dbaron 
Bug 1230698.  Make NS_CreateJSTimeoutHandler with a string propagate out exceptions from the nsJSScriptTimeoutHandler constructor if they happen.  r=peterv 
