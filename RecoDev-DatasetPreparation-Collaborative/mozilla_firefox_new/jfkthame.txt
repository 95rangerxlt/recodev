gmail.com

fix uninitialized variable causing incorrect fallback font selection (bug 451426) r=roc sr=roc 
Bug 467228. Disable line start/end swashes on Mac since we don't support line-boundary shaping properly yet. r=roc 
Bug 467228. Disable line start/end swashes on Mac since we don't support line-boundary shaping properly yet. r=roc (Tests) 
b=450088 backing out (new reftest failed) 
bug 450088 - fix for bad line-breaking at quote marks in CJK text r=masayuki, sr=roc 
Bug 463806. Work around transient ATS cache failures on Mac. r=jdaggett,sr=roc 
Bug 463806 - [PATCH][@font-face] Downloaded font activation on Mac may fail due to ATS cache corruption; r=(jdaggett + roc) sr=roc 
Bug 470418 - Leak nsStyleContext with RTL, text-transform; r,sr=roc 
Bug 466599 - wrap HTML on system pasteboard to provide charset metadata, fixes paste/drag into rich-text NSTextView destinations; r=(joshmoz + roc) sr=roc 
Bug 472593. Don't call line-breaker's Next() method when already at end of text. r=bz,sr=roc 
Bug 454098. Fix signs for baseline offsets for glyphs on Windows. r+sr=roc 
Bug 475092. Fix incorrect positioning on Windows when glyph run includes vertically-offset glyphs is drawn to canvas. r=vlad 
Bug 467672 - need additional bidi.numerals setting for Persian (eastern Arabic-Indic) numerals; r=roc,jfkthame sr=roc 
Bug 475092. Fix incorrect positioning on Windows when glyph run includes vertically-offset glyphs is drawn to canvas. r=vlad 
Bug 445087. Add extra pixel on each side of the glyph's black box returned by GetGlyphOutlineW, to avoid clipping ClearType pixels. r=vlad 
Bug 476378. Use U+002D instead of U+2010 for a soft hyphen if the first font in the fontgroup doesn't have a glyph for U+2010. r+sr=roc 
Bug 475092. Fix horizontal offsets for vertically-offset glyphs on Windows. r=vlad,r+sr=roc 
Bug 476002 - reftest text/zwnj-01 fails on Windows with ClearType enabled; r=roc 
Bug 478792 - prefer glyph advance rather than ink extent; r+sr=roc 
Bug 479276. Support a new kind of glyph bounding-box: TIGHT_HINTED_OUTLINE_EXTENTS, and use it to stop MathML spacing depending on exact ink extents. r+sr=roc 
Bug 445087; add extra pixel on each side of the glyph's black box returned by GetGlyphOutlineW, to avoid clipping ClearType pixels; r=(roc + vladimir) sr=roc 
Bug 474819 - Correct the sign of baseline offsets in ATSUI font backend. r=roc 
b=480507, don't crash if no fonts found in Windows font family; r+sr=vlad 
Bug 328412 - Find in empty document triggers "ASSERTION: No first node!"; r=bzbarsky sr=jst 
b=482439 don't risk dereferencing a possibly-null pointer in nsDocument::ElementFromPointHelper r=smaug 
Add Core Text backend, will eventually replace ATSUI. Turned off for 32-bit Mac OS X builds right now due to Mac OS X 10.4 not supporting Core Text. b=389074 r=jdaggett 
Fix Windows DC leak in TestCharacterMap, and avoid accumulation of temporary fonts in the cache leading to resource exhaustion. 
Add Core Text backend, will eventually replace ATSUI. Turned off for 32-bit Mac OS X 10.4 SDK builds right now due to Mac OS X 10.4 not supporting Core Text. Try #2. b=389074 r=jdaggett 
Bug 423672. Use public Launch Services APIs instead of undocumented internals. r=joshmoz,mstange 

Bug 423672. Use public Launch Services APIs instead of undocumented internals. r=joshmoz,mstange Bug 475968. Eliminate NS_FRAME_OUTSIDE_CHILDREN flag, store small overflow areas cheaply within the frame. r+sr=roc 
Bug 487063. gfxFontGroup::ComputeRanges should bail out on zero-length textruns. But avoid calling into platform textrun code for zero-length textruns, anyway. r=roc 
Bug 487063. Assert that platform textruns are never called for zero-length text. r=roc 
Bug 475968. Add padding pixels to loose ink bounds on Windows because of ClearType pixel bleed. r=roc 
Bug 487549. Do kern table sanity checks on downloaded fonts. r=roc 
Port gfx to 64-bit Mac OS X, part 1. b=489354 r=jfkthame sr=roc 
Bug 481948. Rework ATSUI glyph-extraction code to be more robust when glyphs are reordered. r=roc 
Bug 481948. Rework Coretext glyph extraction code to mirror ATSUI improvements. r=roc 
Bug 481948. Indic cluster reftests. r=roc 
Make Mac OS X bidi impl compile under 64-bit Mac OS X. b=490283 r=jfkthame sr=roc 
bug 490777 - don't hang/crash on unpaired low surrogate codepoint in RTL text, r=roc 
use Cocoa instead of (deprecated, non-64bit) Appearance Manager APIs in nsSystemFontsMac (for bug 489354) r=joshmoz 
Bug 476927. Pad out the glyph extents of Quartz text to account for possible antialiased pixels outside the regular bounds. r=roc 
Bug 475968. Pad out the glyph extents of Windows text to account for possible antialiased pixels outside the regular bounds. r=roc 
Bug 498252 - Correct the font-size used in context menus, r=josh 
add margin to avoid overflow due to antialiasing, fixing test breakage for bug 476927 and 475968 
Bug 475968. Pad out the glyph extents of Windows text to account for possible antialiased pixels outside the regular bounds. r=roc 
Bug 476927. Pad out the glyph extents of Quartz text to account for possible antialiased pixels outside the regular bounds. r=roc 
Backed out changeset 705ef05105e8 for causing bug 503718 on OS X 
merge backout of 705ef05105e8 
Backed out changeset b6d407af386f for causing bug 503718 on Windows 
merge backout of b6d407af386f 
merge backouts of bug 476927 and bug 475968 
reftest for bug 502795, Core Text rendering fails with downloaded font and letter-spacing, r=roc 
bug 502795 - avoid using CTFontCreateCopyWithAttributes to disable ligatures because it fails with privately-activated download fonts, r=roc 
bug 493280 (part 1) refactor Mac font selection code and make 64-bit clean, r=joshmoz,jdaggett sr=roc 
fix for winmo bustage from bug 493280 - use accessor for protected member in gfxFontFamily 
further winmo (gfxFT2Fonts) bustage fix from bug 493280 
fix wchar_t incompatibility from bug 493280, r=jfkthame 
fix Qt and GTK bustage in gfxFT2Fonts from bug 493280, r=jfkthame 
Bug 490267 - implement pref font and system font fallback for gfxFT2Fonts. r=jtd,jfkthame sr=roc 
b=514968; optimize FT2 textrun creation with glyph cache; r=jfkthame 
b=513192; Crash [@nsAString_internal::BeginReading(nsReadingIterator<unsigned short>&)]; r=jfkthame 
Bug 507970, part 1: nsIStreamLoader changes to support downloadable font code, r=bzbarsky 
Bug 507970, part 2: implement support for downloadable WOFF fonts, r=jdaggett 
Bug 507970, part 3: add @font-face format hint for woff fonts, r=jdaggett 
Bug 507970, reftests for loading new WOFF font format and rejecting invalid fonts, r=jdaggett 
Bug 517283: fix gfxCoreTextFontGroup and bidi reftests to resolve failures with the Core Text backend, r=roc 
Bug 517895: make column reftests more robust in the face of default font-metrics changes. r=roc 
Bug 423599: eliminate space from reftest, to avoid dependency on default font metrics. r=bzbarsky 
Bug 518357, make reftests less sensitive to default font size settings. r=roc 
Bug 518357, followup to fix linux reftest breakage by undoing change to media-query-remove-1 test, a=dholbert_sheriff 
Bug 519149. Get properly localized font family names on Mac OS X. r=jdaggett 
bug 527555: ensure gfxCoreTextFont destructor doesn't try to delete uninitialized Cairo pointers or null CF references. r=roc 
Bug 533079 Actually land patch addressing review comments from bug 507970 a=shaver r=biesi 
Bug 519445: lazy enumeration of font faces on Mac OS X to improve startup. r=jdaggett 
Bug 532346: Work around ATSUI rendering failure with Apple LiGothic font on 10.6. r=roc 
Bug 532349: Support new cmap table ID used in Chinese fonts on OS X 10.6. r=jdaggett 
Bug 531363: test flags correctly in jpeg decoder. r=bholley 
Bug 531405: add FreeSans to font list, to make @font-face reftest more robust. r=roc 
Bug 480906: fix incorrect enum value mentioned in comment. r=roc 
Bug 534426. Use our zlib.h, not system zlib.h. r=jfkthame 
Bug 534919: do not inherit font from ZWNJ to adjacent character. r=roc 
Bug 534353: Copy the correct string data to the EOT header name fields. r=jdaggett 
Bug 534352. Accept fonts with redundant cmap sentinel value. r=jdaggett 
Bug 534260: work around bad glyph extents returned by Core Graphics for empty glyphs in Al Bayan font. r=jmuizelaar 
Add patch file to Cairo directory for bug 534260. (NPOTB) 
Bug 538065: avoid possible out-of-bounds array index in gfxFont::SanitizeGlyphRuns(). r=roc 
Bug 530614: accept fonts (e.g. Arial Unicode MS) despite incorrect cmap language tag. r=jdaggett 
Bug 493280: restructure Windows font management based on cross-platform font-list classes. r=jdaggett sr=roc 
Bug 538730: fix Windows synthetic bolding regression from bug 493280. r=jdaggett 
marking reftest font-matching/impact-bold.html as random on Mac, filed as bug 539418 
Bug 505711 - Compilation failure on MinGW in gfx/thebes. r=jfkthame 
Reftests for problems of improperly matching variant font names (bug 538103). r=jdaggett 
Bug 502906 part 1: eliminate backend-specific gfxFontGroup subclasses on Mac OS X. r=jdaggett 
Bug 541277: correct boundary handling in character/glyph clump processing. r=roc 
Bug 539925: Make several reftests less fragile in relation to antialiasing settings. r=roc 
Bug 542453: use nothrow and null-checking for potentially large allocations. r=roc 
Bug 541924: fix regression in handling bad-underline fonts blacklist on Windows. r=jdaggett 
Bug 542777: add reftests for bidi mirroring. r=roc 
Bug 426978: issue warning rather than assertion for font change within a character cluster. r=roc 
Bug 540702: fix incorrect char-to-glyph array indexing. r=jdaggett 
Bug 543976 followup - workaround because preprocessor.pl can be overly fussy about the form of #if conditions. 
Bug 543502: Protect against out-of-range array read in CheckForSimpleFamily; remove bad families with no faces from the font list. r=jdaggett 
Bug 541924 followup - use the predefined nsStringHashSet class instead of nsTHashtable<nsStringHashKey>. r=jdaggett 
Bug 545989 - don't throw an exception if unable to allocate storage for gfxTextRun creation. r=roc 
Bug 543502 followup: replace non-critical assertion in GDIFontList with optional logging. r=jdaggett 
Bug 546813 - reftest for honoring language when selecting fonts in SVG. 
Bug 546813 - honor the language in the frame's styleContext when selecting fonts in SVG. r=jwatt 
Bug 524107 - part 1 - pass original value of 'lang' to gfx text code rather than only a 'langGroup' value, to allow language-specific font rendering. r=roc sr=mats 
Bug 524107 - part 2 - store language as atom instead of string in gfxFontStyle. r=roc sr=mats 
Test for bug 548545. 
Bug 548545 - don't try to get an atom for a NULL string. r=roc 
Bug 548608 - update SupportsLangGroup in Windows font list code for nsIAtom-based language codes. r=roc 
Bug 547267 - make langGroup in nsStyleVisibility respect document's Content-Language if available. r=dbaron 
Bug 527707: Add Direct2D and DirectWrite backend integration to thebes and widget. Preffed off by default r=jrmuizel r=jmathies r=jfkthame 
Bug 547267 followup - rename nsPresContext::GetLanguage to GetLanguageFromCharset for clarity. r=dbaron 
Bug 548177 - remove ATSUI text rendering code. r=jdaggett 
Bug 548751 - make canvas respect the style's language when resolving fonts. r=dbaron 
Bug 548177 followup - missed one line, see comment 3. 
Bug 548865 - Add SwissA to font lists for Maemo font-face tests (tests only) [r=jfkthame] 
Bug 549668 - check that mozilla.widget.render-mode pref value is within valid range. r=vlad 
Bug 548978: [OS/2] Fix build bustage in gfx/src/thebes/gfxOS2Platform.cpp r=jfkthame 
bug 550163 - part 1 - resolve Win7 failures in bidi/mixedChartype reftest. r=roc 
bug 550163 - part 2 - resolve Win7 failure in bidi-004 reftest. r=smontagu 
bug 550163 - part 3 - avoid Win7 subpixel failure in bidi/with-first-letter reftest. r=roc 
bug 550163 - part 4 - add padding to avoid Win7 subpixel failure in reftest 296361. r=roc 
bug 550163 - part 5 - use sans-serif and padding to avoid Win7 subpixel failure in reftest 350506. r=roc 
bug 550163 - part 6 - use sans-serif to avoid Win7 subpixel failure in reftest 351641. r=roc 
bug 550163 - part 7 - use sans-serif to avoid Win7 subpixel failure in reftest 362901. r=roc 
bug 550163 - part 8 - use @font-face to ensure we have a font with the fi ligature in reftest 385569. r=roc 
bug 550163 - part 9 - use sans-serif to avoid Win7 subpixel failure in reftest 389074. r=roc 
bug 550163 - part 10 - use sans-serif to avoid Win7 subpixel failure in reftest 413292. r=roc 
bug 550163 - part 11 - use sans-serif to avoid Win7 subpixel failure in reftest 474417. r=roc 
bug 550163 - part 12 - use sans-serif and letter-spacing to avoid Win7 subpixel failure where 'tt' glyphs touch in reftest 495385. r=roc 
bug 550163 - part 13 - use invisible text to avoid Win7 or Mac subpixel failure in reftest 503399. r=roc 
bug 550163 - part 14 - use sans-serif to avoid Win7 subpixel failure in mathml/quotes reftest. r=roc 
bug 550163 - part 15 - use sans-serif to avoid Win7 subpixel failure in reftest 394402. r=roc 
bug 550163 - part 16 - use sans-serif to avoid Win7 subpixel failure in line-editing-1 reftest. r=roc 
bug 550163 - part 17 - use letter-spacing to avoid Win7 subpixel failure in capitalize reftests. r=roc 
bug 550163 - part 18 - force "quality" text rendering to get consistent kerning on Win7 in reftest 399636. r=roc 
bug 550163 - part 8 followup - add padding to try and avoid intermittent subpixel-clipping failure on Windows debug tinderbox. 
Bug 541809 - Firefox autoreleasing objects without pool in place. r=josh,jfkthame 
bug 551034 - trying to fix intermittent orange due to clipped antialiasing. r=roc 
bug 548863 - eliminate warning about CreateFontInstance on mobile. r=jdaggett 
bug 502906 - part 2 - split out gfxCoreTextShaper and gfxMacFont. r=jdaggett 
bug 549169 - account for font-size-adjust in DWrite font code. r=bas 
Bug 551945: Fix a mistake in double pass from changeset 53a85c489708. r=jfkthame 
bug 552216 - use 64-bit arithmetic to guard against possible overflow leading to buffer overrun in woff decoder. r=roc 
fix Windows bustage from bug 552216. 
bug 552216 bustage fix, missed deleting a line 
bug 502906 - part 3 - factor out Uniscribe and GDI shapers from Windows GDI font code. r=jdaggett 
Fix gcc warning: 'rv' may be used uninitialized in this function.  b=552186 r=jfkthame 
bug 552619 - fix build breakage from bug 502906 with older Windows SDKs without dwrite support. r=bas 
Bug 552284: Check if we're valid before computing metrics. r=jfkthame 
bug 553433 - update freetype to version 2.3.12 in our tree. r=blassey 
bug 555930 - directwrite font code failed to initialize superscriptOffset. r=bas 
Bug 553433 - followup to correct freetype notice in about:license. r=blassey 
bug 502906 - part 4 - refactor DWrite font code to match Mac and GDI structure. r=bas 
bug 549190 - round dwrite font vertical metrics to improve rendering/spacing consistency. r=bas 
bug 553272 - (freetype) validate counts in fvar header. r=blassey 
bug 554188 - handle trailing whitespace on bidi-overridden text runs consistently on OS X 10.6. r=roc 
Bug 554934 - Fix perma-orange when running tests on Fedora Talos Slaves r=jfkthame 
bug 554544 - try to make font code more robust, to avoid risk of getting null metrics. r=roc 
bug 559075 - use a local autorelease pool in nsCocoaWindow and nsChildView methods used during hidden window creation. r=josh 
bug 559075 - add local autorelease pool to SetupMacApplicationDelegate to prevent startup leakage. r=josh 
bug 559180 - add local autorelease pools to avoid cocoa object leaks during shutdown. r=josh 
bug 559400 - add local autorelease pool in nsCocoaWindow::SetModal, for startup dialogs. r=josh 
bug 558489 - prevent cocoa object autorelease-leakage during ipc startup. r=josh 
bug 555435 - compact the cmap block arrays after loading to reduce memory footprint. r=jdaggett 
bug 557736 - ignore empty elements in the font family list. r=jdaggett 
Add reftest for bug 557736. 
bug 558027 - gfxFontUtils::MakeEOTHeader is too fussy, an empty version string is acceptable. r=jdaggett 
bug 559473 - use a longer-lived autorelease pool to try and resolve intermittent crash during widget destruction. r=smichaud,joshmoz 
bug 550163 - part 19 - add vertical bars to work around ClearType clipping issues in reftest 386339. r=roc 
b=546013 Ignore default ignorable chars instead of drawing hexbox r=jfkthame 
bug 554820 - prefer Windows cmap subtable to avoid problems with synthesized tables on OS X 10.6. r=jdaggett 
bug 502906 - part 3.1 - followup to fix memory footprint regression from part 3. r=jdaggett 
bug 564309 - cache non-antialiased font to fix MathML perf regression on Windows. r=roc 
bug 552308 - add arithmetic overflow checks in woff encoding routines (NPOTB). r=dveditz 
Bug 563023 - fix font lists in test and reference pages to be more consistent. r=zweinberg 
Backed out changeset c475fc8bac21 (bug 554820) due to Hebrew regression on OS X 10.5, see bug 565766. 
merged backout of c475fc8bac21 
bug 552460 - part 3 - implement Variation Sequence support in Windows font backend. r=jfkthame 
bug 568191 - add padding to glyph extents in cairo dwrite backend to allow for antialiasing. r=bas 
bug 568191 followup - add patch file to gfx/cairo directory, and note in README. (NPOTB) 
bug 449292 - part 1 - harfbuzz-ng code from upstream. r=jdaggett sr=roc 
bug 449292 - part 1.2 - add harfbuzz license to about:license page. r=gerv 
bug 449292 - part 2 - add harfbuzz library to the gfx build process. r=ted 
bug 449292 - part 3 - add unicode character properties needed for script itemization and harfbuzz shaper. r=jdaggett,smontagu sr=roc 
bug 449292 - part 4 - script run itemizer implementation (based on ICU code). r=jdaggett,smontagu sr=roc 
bug 449292 - part 4.1 - include ICU license text (for script-run itemizer code) in about:license. r=gerv 
bug 449292 - part 5 - break text into script runs before font-matching and shaping. r=jdaggett sr=roc 
bug 449292 - part 6 - font table cache and accessors to support harfbuzz. r=jdaggett sr=roc 
bug 449292 - part 7 - implement gfxHarfBuzzShaper and provide pref to use this or platform back-end. r=jdaggett sr=roc 
Bug 564959: Re-introduce division of text ranges for analysis at proper division points. r=jfkthame 
bug 571724 - check for missing hhea table; fall back to platform if unable to use harfbuzz with the given font. r=jdaggett 
Bug 569531 - Enable harfbuzz by default for simple scripts on Mac OS X only; r=roc 
bug 550163 - part 20 - prefer Calibri font (on Win7) in reftest to avoid fallback to visible CGJ glyph. r=roc 
bug 574076 - correctly get width of digit glyph with dwrite. r=bas 
bug 574287 - honor the bad-underline blacklist in dwrite font backend. r=bas 
Bug 449292 - gfxHarfBuzzShaper.cpp mingw fix. r=jfkthame 
bug 550443 - fix font enumeration for x-unicode language group. r=jdaggett 
bug 543780 - don't consider FF_DONTCARE fonts to match all generic family names. r=jdaggett 

bug 543780 - don't consider FF_DONTCARE fonts to match all generic family names. r=jdaggett bug 532533 - prefer reading metrics directly from font tables. r=jdaggett 
bug 511339 - part 1 - implement -moz-font-feature-settings and -moz-font-language-override in CSS. r=dbaron 
bug 511339 - part 2 - font-feature-settings and font-language-override support in gfx/thebes. r=jdaggett 
bug 511339 - bustage fix for android build 
bug 579414 - use sans-serif font and modify text to avoid Win7 random orange due to clipped antialiasing pixels [test-only fix] 
bug 511339 followup - add reftests for font feature control. r=jdaggett a=tests-only 
bug 577380 - use Core Text shaping for fonts requiring AAT layout on Mac OS X. r=jdaggett 
bug 580100 - sanity-checking of hhea/hmtx tables. r=jdaggett 
bug 580212 - loca table validation. r=jdaggett 
bug 580233 - hb sanitizer fix. r=jdaggett 
Mark crashing test to be skipped on Linux for now, see bug 580962. a=test-only bustage 
enable variation selector reftest on OS X (for bug 569350). r=jdaggett a=test-only 
bug 575695 - reftest - verify that legacy 'kern' table is supported. r=jdaggett 
bug 575695 - support TrueType kerning in the harfbuzz font shaper backend. r=jdaggett 
bug 575695 - [harfbuzz] fall back to truetype kern table if no kern feature in GPOS. r=jdaggett 
Bug 582189 Fix harfbuzz build issue with Sun Studio r=jfkthame a=joedrew 
Make zwnj-01 have a background color so that the SVG filter works correctly.  (Bug 581081)  r=jfkthame  a2.0=tests 
bug 578118 - reduce font size in reftest to avoid D2D antialiasing irregularities. r=bas a=tests-only 
bug 581092 - use unrounded width when advancing x-position to draw RTL text run in canvas. r=vlad a=blocking2.0 
bug 581087 - get true maxAdvance and aveCharWidth in DWrite font metrics. r=bas a=blocking2.0 
bug 580863 - don't use CGFontGetUnitsPerEm with OpenType fonts, may result in incorrect glyph metrics for harfbuzz. r=jdaggett a=blocking2.0 
bug 553963 - part 1 - fix handling of overlong text runs in the uniscribe shaper. r=jdaggett 
bug 553963 - part 2 - make gfxFont handle text-shaping failure more robustly. r=roc 
bug 553963 - part 3 - don't reset glyph runs when falling back from uniscribe to GDI text shaping. r=jdaggett 
Backed out changeset fc3b32b2f050 
merge backout of changeset fc3b32b2f050 (bug 553963 pt 1) 
Backed out changeset 444328d96da2 
merge backout of 444328d96da2 (bug 553963 pt 2) 
Backed out changeset 153bd6dc88be 
merge backout of 153bd6dc88be (bug 553963 pt 3) a=backout 
bug 553963 - part 1 - fix handling of overlong text runs in the uniscribe shaper. r=jdaggett 
bug 553963 - part 2 - make gfxFont handle text-shaping failure more robustly. r=roc 
bug 553963 - part 3 - don't reset glyph runs when falling back from uniscribe to GDI text shaping. r=jdaggett 
bug 586501 - [harfbuzz] check 'rows' value is valid during GPOS sanitize. r=jdaggett a=blocking2.0 
bug 580719 - pt1 - [harfbuzz] check head table validity when creating face. r=jdaggett a=blocking2.0 
bug 580719 - pt2 - [harfbuzz] check face validity before using ot_layout in hb-ot-layout.cc. r=jdaggett a=blocking2.0 
bug 580719 - pt3 - improve sanity-checking of 'head' table in downloaded fonts. r=jdaggett a=blocking2.0 
bug 585718 - support -moz-font-feature-settings and -moz-font-language-override in nsCSSFontFaceStyleDecl::GetPropertyValue. r+a=dbaron 
bug 580719 followup - add crashtest based on the testcase in comment 9. r=jdaggett a=test-only 
bug 588731 - ensure correct font is selected in the DC when getting glyph metrics. r=jdaggett a=blocking2.0 
bug 589862 - [harfbuzz] don't zero advances of mark glyphs when doing mark-to-base-attachment. r=jdaggett a=blocking2.0 
bug 590101 - part 1 - make reftest text/wordwrap-03 more robust by explicitly specifying monospaced font with support for diacritics. r=jdaggett a=test-only 
bug 590101 - part 2 - make font-features reftests more robust by explicitly setting line height and using larger font size. r=jdaggett a=test-only 
bug 569510 - check validity of mScaledFont before passing to cairo APIs. r=jdaggett a=blocking2.0 
bug 590101 followup - marking turkish test as random on windows (until we turn on harfbuzz), as behavior depends on uniscribe version. r+a=orange 
bug 569531 - enable harfbuzz by default on windows. r=roc approval2.0=roc 
bug 593155 - check table length before accessing cmap data. r=jdaggett approval2.0=roc 
disable failing win7 reftest, see bug 593330. r=developers a=orange-test 
bug 593564 - account for synthetic bold in glyph metrics when constructing textrun. r=jdaggett a=joe 
bug 593564 - reftest for synthetic bold glyph metrics. a=test-only 
bug 593296 - correctly release kern table in HB shaper. r=jdaggett a=blocking2.0 
bug 597300 - disable failing reftest on windows for now. a=test-only 
bug 593296 - avoid potential read beyond end of kern-pair list. r=jfkthame a=blocking-beta7+ 
bug 577707 - some Indic scripts rendered with incorrect font/glyphs on OS X. r=jdaggett a=blocking-betaN 
bug 580863 part 2 - scale glyph metrics correctly when initializing CFF fonts on OS X 10.6. r=jdaggett a=blocking-betaN 
bug 580863 reftest - check metrics using CFF font with non-1000 unit em square. r=jdaggett a=test-only 
bug 590114 - treat unresolved common script runs as Latin. r=jdaggett approval2.0=joe 
bug 601110 - fix OS/2 table in markA.otf and markB.otf fonts. r=jdaggett a=test-only 
bug 600821 - add proper padding to the gw432047.ttf font. r=jdaggett a=test-only 
bug 601099 - add proper padding to the VeraBd-validchecksum.ttf font file. r=jdaggett a=test-only 
bug 527276 - part 1 - OTS source code from google (svn r.35). r=roc,cjones a=blocking2.0 
bug 527276 - part 1a - patches to OTS source to resolve build issues. r=roc a=blocking2.0 
bug 601487 - add support for cmap subtable format 14 (variation sequences) to OTS sanitizer. r=jdaggett a=blocking2.0 
bug 527276 - part 2 - add OTS lib to the build process. r=ted a=blocking2.0 
bug 527276 - part 3 - apply OTS sanitizer to downloaded fonts. r=jdaggett a=blocking2.0 
bug 527276 - part 4 - extend OTS to allow OpenType Layout tables to be preserved. r=jdaggett a=blocking2.0 
bug 527276 - part 5 - implement pref to control whether OTL tables are preserved in sanitized fonts. r=jdaggett a=blocking2.0 
mark failing test as random on OS X, see bug 602469. a=orange 
Bug 548964 [DW] bottom of spellchecker underline isn't painted in <input> element with some fonts r=jfkthame, a=joe 
Bug 548964 [DW] bottom of spellchecker underline isn't painted in <input> element with some fonts r=jfkthame, a=joe 
Bug 548964 fix antialiasing problem of D2D r=masayuki, a=test-change-only 
bug 594865 - fall back to GDI rendering on dwrite font list failure. r=bas a=blocking2.0 
b=597147 part 1: remove unused WhichFontSupportsChar r=jfkthame 
b=597147 part 2: rename gfxFcPangoFontSet to gfxFcFontSet, add GetBaseFont to return a gfxFcFont r=jfkthame 
b=597147 part 3: add gfxFcFont* gfxFcFontSet::GetFontAt(i) and use it for size-adjust measuring font r=jfkthame 
b=597147 part 4a: move latin-for-common bug 590114 workaround from font group to shaper so as not to disrupt fontconfig font selection language r=jfkthame 
b=597147 part 4b: pass run script to FindFontForChar and add gfxPangoFontGroup implementation r=jfkthame 
b=597147 part 5: move glyph run routines from FontGroup to Font r=jfkthame 
b=597147 part 6: move Pango shaping out of FontGroup r=jfkthame 
b=597147 part 7: avoid some signed/unsigned comparisons r=jfkthame 
b=597147 part 9: make language GetSampleLangForGroup parameter an atom r=jfkthame 
b=597212 hold a reference to language nsIAtom from gfxFontStyle r=jfkthame a=joe 
b=597212 remove unnecessary extra nsILanguageAtomService::LookupLanguage r=jfkthame a=joe 
b=597147 part 10: make font group language a real language for font shaping r=jfkthame 
b=597147 part 11: Use C++ instance methods in gfxPangoFcFont r=jfkthame 
b=597147 part 12: un-inline some of gfxPangoFcFont r=jfkthame a=blocking 
b=597147 part 13: Add a factory method to create a gfxPangoFcFont from gfxFcFont r=jfkthame 
b=597147 part 14: Let gfxFcFont and gfxPangoFcFont share ownership of each other r=jfkthame 
b=597147 part 15: set up PangoAnalysis for Pango shaping r=jfkthame 
b=597147 part 16: Add gfxFcFont::InitTextRun to shape with Pango r=jfkthame 
b=597147 part 17: switch from pango_itemize to gfxScriptItemizer r=jfkthame 
b=597147 part 18: use GDK's default PangoFontMap when suitable r=jfkthame 
b=597147 part 19: simplify gfxFcFont/gfxPangoFcFont ownership a little r=jfkthame 
bug 606714 - shape long text runs in sections. r=jdaggett a=blocking2.0 
bug 606917 part 2 - update character property tables for harfbuzz to unicode 6.0. r=smontagu approval2.0=benjamin 
Backed out changeset 7e3e4c91c0f7 due to Linux failures 
merge backout of 7e3e4c91c0f7, a=backout 
bug 606714 - shape long text runs in sections. r=jdaggett a=blocking2.0 
b=605043 round inter-glyph spacing to pixels when glyphs will be pixel snapped r=jfkthame 
bug 611855 - work around incorrect font traits for helvetica light oblique on 10.6.5. r=jdaggett approval2.0=dbaron 
bug 605043 followup - fix --with-system-cairo build breakage. r=karlt a=bustage 
bug 603879 - part 1 - updated harfbuzz code from upstream. r=jdaggett a=blocking2.0 
bug 603879 - part 1.1 - work around gcc4.3/opt compile failure in harfbuzz code. a=bustage 
bug 603879 - part 2 - update harfbuzz integration to support arabic etc shaping. r=jdaggett a=blocking2.0 
bug 603879 - reftest for opentype arabic shaping with @font-face. r=jdaggett a=blocking2.0 
b=600452 share font entries between fonts with the same cairo_font_face_t r=jfkthame 
b=600452 move font FcPattern reference from Font to FontEntry r=jfkthame a=blocking 
bug 594078 - fix handling of regular vs italic during font fallback search. r=jdaggett a=benjamin 
bug 607160 - check text length computations. r=roc a=blocking2.0 
b=605872 refactor mFontTableCache, providing a sharing/saving distinction to fix a hb_blob_t leak r=jfkthame a=blocking 
bug 615121 - fix operator precedence error in glyph yoffset. r=jfkthame a=blocking-betaN 
bug 615121 - reftests for direction of vertical glyph offsets. r=karlt a=test-only 
bug 609691 - check result of gfxFontGroup::MakeTextRun for failure. r=karlt a=joe 
Bug 603358 gfxHarfBuzzShaper::InitTextRun leaks hb_font_funcs_create() and hb_unicode_funcs_create(). r=jfkthame a=joe 
bug 609691 - check result of gfxFontGroup::MakeTextRun for failure. r=karlt a=joe 
bug 606419 - always return the dwrite factory once one has been created. r=bas a=blocking2.0 
bug 614904 - prefer CoreText path for complex-script fonts if AAT tables are present. r=jdaggett a=blocking-betaN 
bug 616281 - fix the wordwrap-02 reftest to be independent of platform fonts. r=roc a=test-only 
bug 467722 - don't short-circuit pref font search unless the previous search really did use the first font. r=jdaggett a=roc 
b=617231 ensure-direction before doing any complex work, and handle mirroring (from harfbuzz ee8aaf976a6e) r=jfkthame a=roc 
bug 553981 - handle Hangul Jamo sequences and other special cases when marking clusters. r=karlt a=roc 
b=569770 part 3: provide public access to gfxFontEntry font table cache r=jfkthame 
b=569770 part 4: gfxFT2FontBase::GetFontTable implementation r=jfkthame 
b=569770 part 5: gfxFT2FontBase::GetHintedGlyphWidth implementation r=jfkthame 
b=569770 part 6: use font group style to look for language and CSS features r=jfkthame 
b=569770 part 7: allow the font to provide its own GetGlyph function r=jfkthame 
b=569770 part 8: gfxFT2FontBase::GetGlyph implementation r=jfkthame 
b=569770 part 9: use gfxHarfBuzzShaper when suitable r=jfkthame a=blocking 
bug 612488 - make featureSettings fields use direct nsTArray rather than pointers. r=jfkthame a=joe 
bug 609649 part 1 - refactor gfxFT2Font code in preparation for connecting to harfbuzz. r=karlt a=blocking-fennec 
bug 609649 part 2 - connect harfbuzz shaper to the FT2 font backend. r=karlt a=blocking-fennec 
b=618406 avoid crashy versions of FT_Face_GetCharVariantIndex r=jfkthame a=blocking 
bug 618592 - fix harfbuzz hang on lookup with empty rule. r=behdad a=blocking-beta8 for landing on a CLOSED TREE 
bug 619272 - fix intermittent failure on css-import/290018-1.html by giving the text some padding. r=roc a=test-only patch hoping to fix orange on the CLOSED TREE 
bug 332636 - fix editor's handling of surrogate-pair combining marks with backspace. r=ehsan a=roc 
Backed out changeset 1958ebae93cc for causing mochitest orange. a=backout 
bug 618870 - CompressedGlyph::SetMissing should not overwrite the clusterStart bit. r=karlt a=roc 
bug 615445 - don't overwrite clusters when storing glyphs in textrun. r=karlt a=joe 
bug 615445 - update reftest manifest now that the tests pass. a=test-only 
bug 332636 - fix editor's handling of surrogate-pair combining marks with backspace. r=ehsan a=roc 
bug 594889 - improve glyph spacing with DirectWrite fonts when ClearType is disabled by using GDI-compatible instead of 'ideal' metrics. r=bas a=blocking2.0 
bug 617905 pt 1 - refactor gfxFont::InitTextRun so that all platforms benefit from splitting huge text runs. r=karlt a=joe 
bug 617905 pt 2 - remove code to split long runs from the uniscribe shaper now that gfxFont code handles this earlier. r=karlt a=joe 
bug 621918 - part 1 - eliminate aDirtyRect parameter from gfxTextRun::Draw etc. r=roc a=roc 
bug 621918 - part 2 - make SVG text respect character clusters. r=roc a=roc 
bug 607121 - convert plugin info strings from windows-1252 to unicode. r=jmathies a=roc 
bug 621918 - reftests for character clusters in SVG <textPath>. r=roc a=test-only 
bug 623974 - use GDI aliased spacing in DW when ClearType is off. r=bas a=joe 
bug 619511 - reftest for font selection and ZWJ. a=test-only 
bug 619511 - don't let font fallback on ZWJ propagate to following character. r=jdaggett a=joe 
bug 624789 - allow for non-ASCII characters when reading plugin info strings on OS X. r=josh a=josh 
bug 626299 - fix disappearing text when D2D manual subpixel-AA codepath tries to use a bitmap font size. r=bas a=blocking-betaN 
bug 626180 - partial backout of bug 607121 (undo encoding-munging from changeset 3f8bee2e48a7) which broke non-ASCII plugin info. r+a=bsmedberg 
bug 607121 and bug 626180 - add sample non-Latin text to the test plugin description, to verify that we manage encodings properly. r+a=bsmedberg 
bug 624310 - get glyph widths via directwrite rather than font tables when using simulated bold. r=bas a=joe 
bug 574907 - don't let DWrite use fractional font sizes and subpixel positioning when embedded bitmaps are present. r=masayuki a=joe 
bug 574907 - reftests for snapping DirectWrite font size to integer when bitmap is present. a=test-only 
bug 626299 patch 2 - don't use subpixel-AA mode with DWrite fonts when bitmaps are present. r=jdaggett a=blocking 
Bug 627213 - nptest.rc doesn't compile with windres r=jfkthame a=test-only 
bug 627840 - (DirectWrite) only check for bitmaps in CJK fonts. r=masayuki a=joe 
bug 629450 - Sinhala requires specific shaping support, don't render via harfbuzz by default. r=jdaggett, a=blocking 
backing out changeset 7eac2da4ca5e (bug 628654) for causing orange (see bug 629628) 
merge backout of 7eac2da4ca5e 
bug 628091 - PostScript Type1 fonts fail via GDI rendering. r=jdaggett a=joe 
backing out changeset b8d97566aa8a (bug 621386) for causing xpcshell orange. a=backout 
merge backout of b8d97566aa8a. a=backout 
bug 629386 - avoid using GDI font table loading for symbol fonts and italic faces in Arabic locales. r=jdaggett a=blocking2.0 
bug 631035 part 1 - optimize storage of DetailedGlyph records. r=roc a=blocking2.0 
bug 499292 - hide fallback text for a short time while a font downloads. r=jdaggett a=beltzner 
bug 633500 - fix invisible text by not using proxyFontEntry that has been destroyed when all sources fail. r=jrmuizel a=blocking 
bug 633322 - ensure GetDetailedGlyphs() is not called when glyph count is zero. r=roc a=blocking 
bug 633322 - testcase. r=roc a=test 
bug 633453 - correctly check the last array element before deciding whether to append or insert. r=roc a=blocking 
bug 633453 - testcase. r=roc a=test 
bug 633342 - get rid of windows newlines in cairo files. r=bas a=joe 
bug 633342 - get rid of windows newlines in thebes files. r=bas a=joe 
bug 633342 - allow subpixel AA but not the manual show_glyphs path when Asian font has embedded bitmaps. r=bas a=joe 
bug 631035 part 2 - optimize storage of tab widths. r+a=roc 
bug 631035 - tests for changing tab width. r=roc a=test 
bug 622507 - snap popup position to device pixels, to avoid Bookmark menu size getting stuck. r+a=roc 
Backed out changeset 26c7b580d5a2 (bug 622507) due to orange. a=backout 
bug 634762 - Don't call cairo_win32_scaled_font_select_font from SetupCairoFont, but from DCFromContext, and SaveDC/RestoreDC around it; fix usage of DC and font in Uniscribe/GDI shapers. r=roc a=blocking 
Bug 631513 - ots fails to compile on mingw r=jfkthame a=joe 
bug 622507 - allow a possible subpixel discrepancy at bottom/right of popup rect because we snap the top/left to a pixel boundary when positioning. r+a=roc, test-only 
bug 622507 - snap popup menu's view position to device pixels. r+a=roc 
Bug 635593 - Compilation failure in gfxWindowsPlatform.h during compilation without DWrite r=jfkthame a=joe 
bug 635451 - don't reject glyph index 31 in type-1 fonts. r=jdaggett a=joe 
bug 635705 - reorder code in GetParameterInternal. r+a=bzbarsky 
bug 635768 - restore explicit font selection in gfxGDIFont::GetGlyphWidth to fix spacing issues when printing. r=roc a=blocker 
bug 636968 - check windows API calls for failure in InitDwriteBG. r=jdaggett a=roc 
bug 624359 - iterate by clusters for mozTextAlongPath; r=vlad 
bug 624359 - reftest for grapheme clusters in <canvas> mozTextAlongPath(). r=vlad 
bug 635639 - vowels are not rendered correctly in some Persian/Arabic/Hebrew fonts. r=jdaggett 
bug 635639 - part 2: reftests for zero-width diacritics; r=jdaggett 
Bug 635639 - Vowels are not rendered correctly in some Persian/Arabic/Hebrew fonts; r=jdaggett 
Bug 635639 - Part 2: tests; r=jdagget 
bug 635640 - force font metrics of Arial Black to match the main Arial family; r=Bas 
Bug 623711 - erratic font selection with multiple @font-face rules and bad font resources; r=jdaggett 
Bug 605009 - Linux debug build with --disable-pango crashes during shutdown; r=karlt 
b=546315 use weak bindings to give lower priority to families after a generic r=jfkthame 
Bug 623711 - erratic font selection with multiple @font-face rules and bad font resources; r=jdaggett 
bug 418975 - support soft hyphen when calculating min width for table and fieldset. r=roc 
bug 418975 - tests for soft hyphen in table cells. r=roc 
bug 544617 - ensure Cairo font is set up in gfxGDIFont::InitTextRun. r=jdaggett 
bug 637157 - @font-face family names should hide system fonts. r=jdaggett 
bug 642093 - map commonly-used bitmap font names to truetype equivalents for dwrite. r=bas 
bug 643015 - allow zero-length entry in CFF indexes. r=jdaggett 
bug 637481 - add vhea/vmtx support to OTS for CJK webfonts. r=jfkthame 
bug 418975 - backed out changeset f1d26af4c57b to re-enable tests for &shy; in tables 
additional crashtest for bug 645072 
bug 418975 - support &shy; when calculating min width for table and fieldset. r=roc. landing on the CLOSED TREE after dbaron went to bed :) 
bug 646561 - pass correct length to PropertyProvider in bidi case. r=roc 
bug 646561 - testcase. 
bug 643502 - add missing cases to GetFontPrefLangFor(). r=smontagu 
Bug 644054 - Support WOFF on Android; r=jfkthame 
add testcases from bug 646983, bug 647332. r=roc 
bug 646983 - set the correct text length for the PropertyProvider. r=roc 
Backed out changeset ff82400e5866 for failing to fix the test failure 
Backed out changeset bf3bdd1d9671 for failing to fix the test failure 
merge backout 
Backed out changeset b980d0cf9847 (bug 643051) because of consistent mochitest-1 failure 
merge backout 
bug 634702 - add autorelease pool in nsNativeThemeCocoa constructor to prevent leaks during startup. r=joshmoz 
Bug 647480 - Don't try to create a textrun using a null font.  Setup a default font also when there is no pres shell.  r=jfkthame 
bug 623495 - revise prefs for dispatching scripts to shaping backends; enable harfbuzz for Hebrew on OS X. r=smontagu 
bug 638764 - print DirectWrite text via ExtTextOut using a GDI font, to get decent PDF output. r=bas 
bug 638764 - followup, fix a bunch of compilation warnings in cairo build. r=bas 
bug 644184 - ensure basic arabic shaping features are applied before ligature formation. r=jdaggett 
reftest for bug 644184. r=jdaggett 
Backed out changeset 1bc84edab093 (bug 640490) because of XP breakage. a=fryn on irc 
merge backout of bug 640490 
bug 633299 - don't discard font entries for @font-face rules that haven't changed. r=dbaron 
Back out bug 633299 because of orange; r=jfkthame 
bug 648248 followup - prefer Raanana on OS X for the Hebrew presentation forms in reftests. a=reftest-orange 
bug 636957 - ensure DWrite font list is initialized in GetFontFamilyList(). r=jdaggett 
bug 633299 - don't discard font entries for @font-face rules that haven't changed. r=dbaron 
Backed out changeset 80451fb8f11c (bug 585152) as per discussion in the bug. 
merge backout of bug 585152 
bug 649678 - include the build date in About window for a# versions. r=dao 
bug 650499 - limit length covered by PropertyProvider to the text actually included in the textRun. r=roc 
bug 650499 - add testcase. r=roc 
bug 589682 - ignore GDEF table in italic faces of times new roman, to work around font bug. r=jdaggett 
bug 589682 - reftest for double-quote bug workaround in times new roman italic. r=jdaggett 
bug 642589 - expose prefs for tweaking DirectWrite/D2D antialiasing behavior. r=jdaggett 
bug 642589 followup - adjust reftest manifests for newly-passing/failing tests on Win7/d2d with tweaked subpixel-AA. 
bug 643460 pt 1 - import OTS r.62 from http://code.google.com/p/ots/. r=jfkthame 
bug 643460 pt 2 - apply patches to OTS for local build/platform issues. r=jfkthame 
bug 643460 pt 3 - remove gfx.downloadable_fonts.sanitize.preserve_otl_tables preference, no longer needed with new OTS version. r=jfkthame 
bug 650639 - cancel current font-downloaders when updating the user font set. r=dbaron 
bug 608940 - remove unused function gfxTextRun::Clone. r=jdaggett 
bug 653098 - remove unused function gfxUserFontSet::RemoveFamily. r=jdaggett 
bug 653100 - no longer need to save copies of layout tables prior to OTS sanitization. r=jdaggett 
Backed out changeset 52b6489a3140 (bug 653100) because of reftest oranges. 
bug 653977 - ensure font downloads are re-triggered if necessary after userFontSet update. r=dbaron 
bug 653705 - ensure mIsCFF is not left uninitialized for downloaded fonts. r=jdaggett 
bug 653408 - [ots] fix GDEF sanitizer so it doesn't reject LinLibertine. r=jdaggett 
bug 653100 - no longer need to save copies of layout tables prior to OTS sanitization. r=jdaggett 
bug 33032 - synthesize various Unicode space characters rather than showing missing glyphs. r=jdaggett 
bug 253317 - part 1 - implement -moz-hyphens property in CSS. r=dbaron 
bug 253317 - part 2 - import hyphenation code (from http://sourceforge.net/projects/hunspell/files/Hyphen/2.7/hyphen-2.7.1.tar.gz/download) r=smontagu 
bug 253317 - part 3 - import en-US hyphenation patterns (from http://sourceforge.net/projects/hunspell/files/Hyphen/2.7/hyphen-2.7.1.tar.gz/download) r=smontagu 
bug 253317 - part 3.1 - build support to install hyphenation patterns. r=pike 
bug 253317 - part 4 - implement nsHyphenationManager and nsHyphenator classes. r=smontagu sr=roc 
bug 253317 - part 6 - reftests for automatic hyphenation. r=roc 
bug 253317 - part 5 - support none/manual/auto values for -moz-hyphens in layout. r=roc 
Backed out changeset a5877159c9a1 to investigate l10n-check orange 
merge backout 
Backed out changeset cf41ba95de85 because the tests will fail without the hyphenation dict 
merge backout 
bug 253317 - part 6 - reftests for automatic hyphenation. r=roc 
bug 253317 - part 3.1 - build support to install hyphenation patterns. r=pike 
Bug 253317 - Provide hyphenation dictionary for justified text (android packaging) [r=blassey] 
bug 655198 - don't parse 'all' as a value for -moz-hyphens. r=dbaron 
bug 655138 - don't use font entry after it's been replaced. r=jdaggett 
bug 655207 - don't read an uninitialized entry in the hyphenation array. r=roc 
bug 654057 - fix the zeroing of diacritic widths to resolve misplaced accents with Segoe UI. r=jdaggett 
bug 654057 - reftest for diacritics in Segoe UI font. r=jdaggett 
Bug 658834: Remove unused variable 'sc' from nsTextFrameThebes.cpp r=jfkthame 
Bug 661471. Part 1: Create preference to force particular font families to use 'GDI Classic' rendering with DirectWrite. r=jdaggett,jfkthame 
Bug 661471. Part 2: Add a pref to limit the forcing of 'GDI Classic' to a maximum font size. r=jdaggett,jfkthame 
Bug 661471. Part 3: Apply 'GDI Classic' prefs to @font-face local(). r=jdaggett,jfkthame 
Bug 661471. Part 4: Force DirectWrite to use 'GDI Classic' rendering for sans-serif 'core Web fonts' of size < 16 pixels. r=jdaggett,jfkthame 
Bug 661471. Part 5: Fix reftests. r=roc 
bug 661869 - include Segoe UI in list of fonts rendered in GDI Classic mode. r=jfkthame 
Bug 661471. Part 6.1: Expose cairo_win32_get_system_text_quality. r=jfkthame 
Bug 661471. Part 6.2: Handle dynamic changes to Cleartype enabled/disabled. r=jfkthame 
Bug 661471. Part 6.3: Only force DW to use specific ClearType modes if ClearType is actually enabled. r=roc 
Bug 661471. Part 7: Only force GDI_CLASSIC rendering for specified fonts if a rendering mode has not been explicitly chosen in prefs. r=roc 
Bug 661471. Part 6.1: Expose cairo_win32_get_system_text_quality. r=jfkthame 
Bug 661471. Part 6.2: Handle dynamic changes to Cleartype enabled/disabled. r=jfkthame 
Bug 661471. Part 6.3: Ensure that force_gdi_classic doesn't make us use ClearType when ClearType is disabled. r=roc 
Bug 661471. Part 7: Let gfxDWriteFonts know whether we are honouring 'GDI classic' overrides. r=roc 
backed out changesets 5607cca3f7bf, 1ccc676a3a2c, 3eb99af46b93, 63c8f645cc1c (bug 661471 parts 6-7) to avoid merge conflicts, as they also landed on mozilla-central but with slight differences. 
bug 467669 - pt 1 - get list of fonts actually used to render a document range. r=roc sr=bzbarsky 
bug 467669 - pt 2 - find the @font-face rule (if any) responsible for the font entry. r=roc 
bug 467669 - pt 3 - track which stage of font matching led to selection of a particular face. r=roc 
bug 467669 - pt 4 - expose additional attributes for downloaded fonts. r=roc 
bug 467669 - pt 4.1 - fix Mac font backend to mark local user fonts properly. r=roc 
bug 467669 - pt 5 - expose WOFF metadata (if present) for downloaded fonts. r=roc 
bug 467669 - pt 6 - provide the real font name rather than our internal identifier. r=roc 
bug 467669 - pt 7 - tests for the font-face inspection API. r=roc 
bug 660088 - [OTS] parse and serialize the 'name' table instead of discarding it and using fake names. r=jdaggett 
bug 660088 - [OTS] parse and serialize the 'name' table instead of discarding it and using fake names. r=jdaggett 
bug 467669 - pt 1 - get list of fonts actually used to render a document range. r=roc sr=bzbarsky 
bug 467669 - pt 2 - find the @font-face rule (if any) responsible for the font entry. r=roc 
bug 467669 - pt 3 - track which stage of font matching led to selection of a particular face. r=roc 
bug 467669 - pt 4 - expose additional attributes for downloaded fonts. r=roc 
bug 467669 - pt 4.1 - fix Mac font backend to mark local user fonts properly. r=roc 
bug 467669 - pt 5 - expose WOFF metadata (if present) for downloaded fonts. r=roc 
bug 467669 - pt 6 - provide the real font name rather than our internal identifier. r=roc 
bug 467669 - pt 7 - tests for the font-face inspection API. r=roc 
bug 664055 - include Microsoft Sans Serif and Consolas in default list of fonts that are rendered in GDI Classic mode. r=jfkthame 
bug 647560 followup - put the color components in the right order. a=test-bustage 
Bug 663688 - Temporarily default to turning off downloadable fonts on OS X Lion. r=jdaggett,jfkthame 
bug 475968 - add padding pixels to loose ink bounds on Windows because of ClearType pixel bleed. r=roc 
bug 476927 - add padding to text bounds on OS X to allow for possible antialiasing pixels. r=roc 
bug 663688 - prefer CGFont APIs to older ATS APIs on 10.6 or later. r=smichaud,roc 
bug 663688 - back out changeset c4b84b05c46c to revert the workaround that disabled downloadable fonts on Lion. r=jdaggett 
bug 553571 - try to avoid breaking font runs at ZWNJ when using font fallback, because Indic scripts require shaping across the ZWNJ character. r=roc 
bug 666893 - add padding pixels to DWrite text bounds because of ClearType bleed when using GDI Classic mode. r=roc 
bug 669175 - [harfbuzz] fix indexing in reverse_range() to avoid pathological perf & incorrect results. r=behdad 
bug 494360 - tests that @font-face rules take precedence over platform fonts. r=jdaggett 
bug 494130 - log downloadable font errors to console. r=jdaggett 
bug 668758 - don't look up prefs font families in the user font set. r=jdaggett 
bug 668758 - reftest for user font families clashing with prefs. r=jdaggett 
Backed out changeset fe33af7f6fa9 (bug 668758) because of android bustage 
Backed out changeset 51b49a7cf2e4 (bug 668758) because of android bustage 
merge backout of bug 668758 
bug 668758 - don't look up prefs font families in the user font set. r=jdaggett 
bug 668758 - reftest for user font families clashing with prefs. r=jdaggett 
bug 670900 - font downloader should recognize HTTP errors and not try to load the error page as a font. r=bzbarsky 
bug 670072 - round font sizes to integers in the GDI backend. r=jdaggett 
bug 671799 - check whether mURI is null during @font-face console logging. r=jdaggett 
bug 671799 - add tests for null URI in @font-face load-failure logging. r=bzbarsky 
bug 671799 followup - mark crashtest assertions as being expected, r=orange 
bug 670900 - reftest for handling 404 (not found) error on @font-face request. r=roc 
bug 672472 - convert hyphenation-point offsets correctly from Unicode characters to UTF16 code units. r=smontagu 
bug 672320 pt 1 - include all available hyphenation patterns in the build. r=smontagu 
bug 672320 pt 2 - add hyphenation patterns for Swedish. fb=gerv rs=smontagu 
bug 672320 pt 3 - reftest for Swedish hyphenation patterns. r=smontagu 
bug 672320 pt 4 - add hyphenation patterns for af,bg,ca,cy,da,eo,es,et,gl,hr,hsb,ia,is,kmr,la,nl,pt,sl,uk locales. rs=smontagu 
bug 672320 pt 5 - more hyphenation locale reftests. r=smontagu 
bug 672320 - part 4a - add missing hyphenation alias entries. r=smontagu 
bug 672320 - part 6.1 - hyphenation patterns for German. rs=smontagu 
bug 672320 - part 6.2 - reftests for German hyphenation. r=smontagu 
bug 672320 - part 7.1 - hyphenation patterns for Mongolian. rs=smontagu 
bug 672320 - part 7.2 - reftest for Mongolian hyphenation. r=smontagu 
bug 672320 - part 8.1 - hyphenation patterns for Serbian/Serbo-Croatian. rs=smontagu 
bug 672320 - part 8.2 - reftest for Serbo-Croatian hyphenation. r=smontagu 
bug 672955 - prefer harfbuzz to core text backend for Thai OT fonts on OS X. r=jdaggett 
bug 671385 - restore the recursive application of ForEachFontInternal to font names from preferences, to avoid breaking Fontconfig generics. r=jdaggett 
bug 672320 pt 9.1 - add hyphenation patterns for French. rs=smontagu 
bug 672320 pt 9.2 - reftest for French patterns. r=smontagu 
bug 672320 pt 11.1 - hyphenation patterns for Russian. rs=smontagu 
bug 672320 pt 11.2 - reftest for Russian patterns. r=smontagu 
bug 672320 pt 12.1 - hyphenation patterns for Norwegian Bokml & Nynorsk. rs=smontagu 
bug 672320 pt 12.2 - reftests for Norwegian patterns. r=smontagu 
bug 672320 pt 13.1 - hyphenation patterns for Lithuanian. rs=smontagu 
bug 672320 pt 13.2 - reftest for Lithuanian patterns. r=smontagu 
bug 672320 pt 14.1 - hyphenation patterns for Finnish. rs=smontagu 
bug 672320 pt 14.2 - reftest for Finnish patterns. r=smontagu 
bug 665360 - hold reference to font family from loader. r=jdaggett 
bug 668813 pt 1 - check character coverage of other styles in the selected font family before falling back to other families. r=jdaggett 
bug 668813 pt 2 - maintain a character coverage map for gfxFontFamily. r=jdaggett 
bug 678181 - back out second part of bug 668813 (changeset 431a8297db1f) on suspicion of causing crashiness. r=backout 
bug 667166 - apply 'locl' feature early along with 'ccmp', before Arabic-specific shaping features. r=jdaggett 
Bug 678768: Fix out-of-order init list for nsFontFace constructor. r=jfkthame 
bug 678181 - backout changeset c433a1d53dd5 (bug 668813 pt 1) on suspicion of causing crashiness. r=backout 
bug 680717 - use the correct loop index variable when parsing cmap VS subtable. r=jdaggett 
bug 637179 - use PRUint32 for character/cluster indexes to avoid build warnings. r=jwatt 
bug 680037 - check calls for failure before using the results in nsFontFaceLoader::LoadTimerCallback. r=jdaggett 
bug 681895 - update default Cyrillic font prefs for OS X. r=smontagu 
bug 672320 pt 15.1 - hyphenation patterns for Hungarian. r=smontagu 
bug 672320 pt 15.2 - hyphenation test for Hungarian. r=smontagu 
bug 672320 pt 16.1 - hyphenation patterns for Italian. r=smontagu 
bug 672320 pt 16.2 - hyphenation test for Italian. r=smontagu 
bug 672320 pt 17.1 - hyphenation patterns for Turkish. r=smontagu 
bug 672320 pt 17.2 - hyphenation test for Turkish. r=smontagu 
b=678561 fix strcmp logic error introduced in 032297452afd r=jfkthame 
bug 680402 - avoid calling SanitizeGlyphRuns repeatedly during textrun construction with multiple scripts. r=jdaggett 
bug 675383 - add a tiny delta to x-coordinates to avoid erratic spacing of DWrite font using GDI rendering mode when a transform (e.g. synthetic italics) is in effect. r=bas 
bug 683618 - adjust glyph metrics appropriately when applying synthetic bolding on Android (gfxFT2Fonts). r=jdaggett 
bug 674909 - make synthetic bolding proportionate to font size and zoom. r=jdaggett 
bug 3512 - implement font-stretch property for Linux (fontconfig) backend. r=karlt 
bug 3512 - fix computation of StyleDistance to account for font-stretch more accurately. r=jdaggett 
bug 3512 - support font-stretch in the GDI font backend. r=jdaggett 
bug 3512 - reftest for support of font-stretch with DejaVuSans[Condensed] family. r=jdaggett 
bug 686190 - ensure glyph buffer is flushed when necessary during synthetic bolding. r=jdaggett 
bug 686190 - crashtest. r=jdaggett 
bug 686317 - fix format string/argument list mismatches in ARMAssembler.h. r=cdleary 
bug 685214 - use URI spec rather than file path to specify hyphenation dictionary, and read using nsIInputStream rather than stdio. r=bsmedberg 
bug 686497 - avoid passing excessively long wavy-underline path to cairo for stroking. r=roc 
bug 684889 - refactor and clean up Android font-list implementation. r=jdaggett 
bug 684889 pt2 - move and rename FontFamily/Entry classes from gfxFT2Fonts to gfxFT2FontList source file. r=jdaggett 
bug 684889 - refactor and clean up Android font-list implementation. r=jdaggett 
bug 684889 pt2 - move and rename FontFamily/Entry classes from gfxFT2Fonts to gfxFT2FontList source file. r=jdaggett 
bug 689179 - don't apply cswh feature by default. r=jdaggett 
Bug 690297 - Fix handling of boolean prefs in gfx code after s/PRBool/bool/, r=jfkthame 
bug 688779 - restore en-US hyphenation to the Android product. r=dougt 
bug 688779 followup - re-enable reftests for hyphenation (en-US only) on android. 
bug 688779 - restore en-US hyphenation to the Android product. r=dougt 
bug 688779 followup - re-enable reftests for hyphenation (en-US only) on android. 
bug 689736 - enable harfbuzz on android for hebrew (to fix glyph mirroring) and thai scripts. r=smontagu 
bug 689736 - reftest for mirroring of parentheses within Hebrew text. r=smontagu 
bug 689736 followup - update reftest manifest to mark tests containing Hebrew text that now pass on Android. 
bug 655337 - part 1 - use nsIURI rather than nsIFile to specify hyphenation resources. r=mfinkle,smontagu 
bug 655337 - part 2 - don't unpack hyphenation patterns on android, look for them in omnijar. r=mfinkle,bsmedberg,smontagu 
bug 689736 followup - update reftest manifest to mark tests containing Hebrew text that now pass on Android. 
backout changeset e1eac54b1ed3 (bug 655337 pt 2) for causing a leak. 
bug 655337 - part 2 - don't unpack hyphenation patterns on android, look for them in omnijar. r=mfinkle,bsmedberg,smontagu 
bug 577911 - don't ignore the return value from SetGlyphsFromRun. r=jdaggett 
back out 32989cd5377b for total (non-DEBUG) bustage 
Bug 692752 - paint text-shadow after selection highlight background. r=roc 
Bug 692752 - reftest for painting selected text with shadow. r=roc 
bug 577911 - don't ignore the return value from SetGlyphsFromRun. r=jdaggett 
bug 693610 - accumulate advanceSum so that we don't overlap successive glyph runs when drawing text to azure canvas. r=bas 
bug 692744 - don't create a 1x1 image surface when it should really be empty. r=jrmuizel 
bug 692744 - reftest - text-shadow should not produce a shadow for space glyphs. r=jrmuizel 
bug 693610 - reftest - ensure chinese and latin glyph runs are not overprinted. r=bas 
bug 671297 - add memory reporting for textRuns. r=roc,jlebar 
bug 694986 - trailing bracket misplaced in LTR language names when language-picker UI is displayed RTL. r=mfinkle 
bug 695639 - test for GetFontFacesForText with textrun wrapped onto multiple lines. r=roc 
bug 695639 - use the proper iterator to convert offsets into the textrun in GetFontFacesForText. r=roc 
bug 672456 - ensure proper font is selected into the DC for GDI text layout. r=jdaggett 
bug 692743 - package hyphenation dictionaries in omnijar. r=glandium,mwu 
Bug 699420 - Update OTS to r74; r=jfkthame 
bug 680692 - cherry-pick fix for GPOS contextual chaining positioning, needed by some Arabic fonts (from upstream harfbuzz-ng commit cc1a8a938b4c13e76b58825a9e1951c4134e634a). r=jfkthame 
bug 692727 - include non-English hyphenation files on Android. r=mfinkle 
bug 702505 - [OTS] don't incorrectly discard OpenType layout tables due to presence of 'size' feature in GPOS. r=jdaggett 
Bug 689087 - Relax cmap format 4 checking slightly to allow Baskerville on Lion to work; r=jdaggett 
bug 703990 - fix incorrect messages in test_tooltip.xul. r=enndeakin 
bug 703411 - remove redundant 'status' variable in gfxUserFontSet::OnLoadComplete. r=jdaggett 
bug 701637 - clean up mark-skipping loops in gsub/gpos code. r=behdad 
Bug 698968 - Add mallocSizeOf functions and start using them.  r=jlebar,bhackett,jfkthame, sr=bz. 
bug 698185 - convert coordinates properly when processing bidi runs in canvas text. r=dbaron 
bug 698185 - test for failure to draw subsequent runs in mixed-dir canvas text. r=dbaron 
bug 698185 followup - reftests for accesskey underlining in XUL textbox label. r=dbaron 
bug 631479 (part 1) - import graphite2 code from http://projects.palaso.org/projects/graphitedev/repository/revisions/853 (release 1.0.3 plus bugfixes). r=jdaggett 
bug 631479 (part 2) - compile graphite2 as part of the gfx build. r=jdaggett,khuey 
bug 631479 (part 3) - allow graphite tables to be passed through OTS for downloadable fonts. r=jdaggett 
bug 631479 (part 4) - implement gfxGraphiteShaper to handle text-shaping for graphite-enabled fonts. r=jdaggett 
Bug 631479. Simple reftests of graphite font handling (if enabled). r=jfkthame 
bug 691505 - ensure Graphite uses infallible malloc to give well-defined OOM behavior. r=roc 
bug 703861 - add hyphenation alias for de-AT-1901. r=smontagu a=khuey 
No bug - Remove stray semicolons from FILEINFO_SUBCLASS calls, the macro already includes it; rs=jfkthame 
Bug 711769 - Update Hyphen library to version 2.8.3. r=jfkthame 
bug 711079 - move OTS from libxul to gkmedias.dll on Windows. r=khuey 
bug 711352 - don't CFRelease objects when we don't have an owning reference. r=jdaggett 
bug 711357 - release the CGFontRef after creating our font entry (which holds its own reference). r=jdaggett 
Bug 700057 - Create artificial names if English names not found in the name table. r=jfkthame 
bug 631479 followup - re-enable Graphite now that PGO builds are possible again. rs=khuey 
Bug 712217 - Update OTS to r77 [r=jfkthame] 
bug 691505 followup - use the proper #define so that our malloc replacements actually take effect. r=roc 
bug 696585 - support pref(...) annotations in reftest manifest. r=dbaron 
bug 711690 - don't warn about unsupported font formats if a different source successfully loads. r=jdaggett 
bug 703100 - pt 1 - eliminate gfxTextRunWordCache and gfxTextRunCache. r=roc 
bug 703100 - pt 2.1 - implement gfxShapedWord caching for gfxFont instances. r=roc 
bug 703100 - pt 2.2 - adapt Mac font code to work with gfxShapedWord caches. r=roc 
bug 703100 - pt 2.3 - adapt Windows font code to work with gfxShapedWord caches. r=roc 
bug 703100 - pt 2.4 - adapt Linux/Pango font code to work with gfxShapedWord caches. r=roc 
bug 703100 - pt 2.4.1 - make gfxPangoFontGroup font-matching behavior more similar to generic gfxFontGroup version. r=roc 
bug 703100 - pt 2.5 - adapt Android/FT2 font code to work with gfxShapedWord caches. r=roc 
bug 703100 - pt 3 - remove copy of original characters from gfxTextRun. r=roc 
bug 703100 - pt 4 - add timed expiration of cached gfxShapedWord records. r=roc 
bug 703100 - pt 5 - optimize allocation of gfxTextRun objects to avoid separate allocation for CompressedGlyph records. r=roc 
bug 703100 - pt 6 - remove pango-specific todo()s in test_backspace_delete, now that it passes on all platforms. r=roc 
bug 703100 - pt 7 - fix fragile reftests that depend on metrics of fallback fonts used for invisible chars. r=roc 
bug 703100 followup - fix potential crash due to string not being null-terminated. 
bug 711355 - fix potential leaks in nsCoreAnimationSupport found by static analysis. r=bgirard 
bug 716229 - don't switch fonts for non-printing control chars. r=roc 
Bug 717311 - reduce space required by sCatEAWValues; r=jfkthame 
bug 708075 - observe memory-pressure notification and discard cached gfxShapedWord records. r=roc 
Bug 717311 - reduce space required by sCatEAWValues; r=jfkthame 
bug 715471 - use fallible allocation for potentially large buffers in nsTextFrameThebes.cpp. r=roc 
bug 708075 - observe memory-pressure notification and discard cached gfxShapedWord records. r=roc 
Backed out changeset ba3335f34100 (bug 713874) for Android build failures. 
bug 715471 - use fallible allocation for potentially large buffers in nsTextFrameThebes.cpp. r=roc 
bug 716229 pt 2 - initialize font-matching using the group's primary font. r=roc 
bug 714067 - correction in ligature indexing when combining marks are present. r=behdad 
bug 718513 - [dwrite] implement synthetic bolding for fonts loaded via @font-face with src:local(). r=bas 
bug 718513 - reftest for synthetic bolding of src:local() font. r=bas 
b=716402 improve inter-glyph pixel rounding r=jfkthame 
backout ad84dd34e531 (bug 720984) for xpcshell test failures. 
bug 721068 - update to latest graphite2 code from upstream (hg rev 911:a697cecbaddd). rs=roc 
bug 719366 pt 1 - [harfbuzz] fall back to applying 'latn' features if neither the proper script nor 'DFLT' is present. r=behdad 
backout changeset 26509d4e545d (bug 715953) due to debug orange. 
bug 721466 - fix VS2010 build failure in gfx/graphite/src. pending-r=roc 
bug 721315 - avoid potential dangling mFamily pointers in font entries. r=jdaggett 
bug 721511 - use stack-based buffers for moderate-sized glyph runs in cairo/dwrite backend. r=bas 
backout changeset bcd556d83109 (bug 721315) for reftest orange. 
backout changeset 2ea682dba295 (bug 721511) due to windows crashtest orange. 
bug 721511 - use stack-based buffers for moderate-sized glyph runs in cairo/dwrite backend. r=bas 
bug 722014 - backout changeset c8ea6b7164bc (test from bug 698652) due to intermittent reftest oranges on OS X and WinXP. 
bug 721315 - fix nsUserFontSet::UpdateRules to detach faces from families that are being replaced. r=jdaggett 
bug 721315 - clear the faces' mFamily pointers when a font family is deleted. r=jdaggett 
bug 723472 - don't trigger an OOM abort on a zero-size allocation. r=cjones 
backout 5ca407ff5564 (bug 672507) for M-oth (a11y) orange 
backout c18523b51058 (bug 716014) on suspicion of causing Win Debug reftest timeouts. 
backout 3335984ce688 (bug 709083) for Android orangeness 
bug 724356 - check the proxy's family pointer is still valid before using it. r=jdaggett 
Update data files to Unicode 6.1. Bug 723509, r=jfkthame 
Bug 725240: Re-enable hinting on 'mobile' when non-reflowing-zoom isn't going to be used. r=jfkthame 
adapted for changes to HB function signatures. 
bug 724231 - ensure synthetic font styles under GDI are truly synthetic, rather than using a potentially incompatible font face. r=jdaggett 
bug 724231 - test that synthetic styles applied to src:local fonts do NOT use a true styled face that happens to be installed, instead of the one defined by the @-rule. r=jdaggett 
bug 668813 pt 1 - check character coverage of other styles in the selected font family before falling back to other families. r=jdaggett 
bug 668813 pt 2 - maintain a character coverage map for gfxFontFamily. r=jdaggett 
bug 726962 - remove stray instances of PRBool in gfx. r=joe 
bug 726981 - remove stray instances of PRBool in content. r=mounir 
bug 726988 - remove stray instances of PR_TRUE in WebGL. r=bjacob 
bug 707959 - followup, move font cache telemetry into gfxFontCache::Lookup. r=roc 
bug 727815 - flush shaped-word caches when font-shaping preferences are modified. r=roc 
bug 662055 - [harfbuzz] permute canonical classes of Hebrew marks to present logical order to OpenType lookups. r=behdad 
bug 662055 followup - fix typo in comment. DONTBUILD 
bug 727736 - [harfbuzz] force glyphs for zero-width diacritics to actually have zero width, to work around bad fonts. r=behdad 
Bug 728462: Remove declaration of no-longer-used 'GfxTextrunWordCacheMallocSizeOf'. r=jfkthame 
bug 717175 - clear word cache earlier when expiring fonts. r=jdaggett 
bug 728518 - improve the handling of weight in FindFontForChar. r=jdaggett 
bug 728866 - pt 1 - expose low-level APIs for canonical composition and decomposition of a single Unicode character. r=smontagu 
bug 728866 - pt 2 - implement canonical composition callbacks for harfbuzz. r=smontagu 
bug 728866 - pt 3 - add support for Hebrew presentation forms, excluded from canonical composition. r=smontagu 
bug 722139 - Turn on harfbuzz shaper by default for Hebrew on all platforms. r=smontagu 
bug 662055 followup - permute order of Hebrew diacritics so that Biblical spelling of 'Jerusalem' renders properly. r=smontagu 
bug 724826 pt 1 - move various Unicode property tables from gfx to intl. r=smontagu 
bug 724826 pt 2 - replace the use of cattable.h with nsUnicodePropertyData for more accurate (and faster) category lookup. r=smontagu 
bug 724826 pt 3 - replace users of nsIUGenCategory service within libxul with direct access to mozilla::unicode::GetGenCategory. r=smontagu 
bug 729866 - remove unused and unimplemented nsIUGenDetailCategory interface. r=smontagu 
Bug 730190 - Update OTS to r81. r=jfkthame 
bug 721821 - make nsBidiPresUtils::WriteReverse aware of clusters, so that diacritics in RTL text display correctly in SVG text. r=smontagu 
bug 731187 - nsFontMetrics needs to handle possible failure of AutoTextRun to create the run. r=choller,roc 
Use GetGeneralCategory in IsPunctuationMark instead of the precompiled ccmap. Bug 731222, r=jfkthame 
Bug 651192 - Followup: Change random-if for android on test into skip-if. r=jfkthame 
bug 732443 - handle surrogate pairs correctly in ClusterIterator. r=emk 
bug 732330 - add assertion in ClusterIterator::Next to check for sane/safe result. r=jdaggett 
bug 729626 - fix cluster formation in Indic, cherrypicked from harfbuzz-ng commit 461b9b6347e4f58589f5be82c40a2df61da2c715. r=behdad 
bug 719410 pt 1 - don't use subpixel AA under GDI/DirectWrite if ClearType is disabled system-wide. r=bas 
Bug 705594. Fixup of intra-family fallback code. r=jfkthame 
Bug 705594. Use CoreText for system font fallback on OSX. r=jfkthame 
Backed out changeset 118f97e6d4ed (bug 670275) for xpcshell orange. 
bug 733512 - update freetype to v2.4.9. rs=dougt 
bug 726539 - last value wins in the case of conflicting features in -moz-font-feature-settings. r=jdaggett 
bug 726539 - reftests for repeated feature in -moz-font-feature-settings. r=jdaggett 
bug 210501 - implement case-folding support (ToUpper/Lower/Titlecase) for non-BMP characters (Unicode plane 1 and above). r=smontagu 
bug 605021 - handle surrogates in text-run transformations. r=smontagu 
bug 731536 - text-transform:capitalize should affect the first alphanumeric char in a word, not the first non-punctuation char. r=smontagu 
bug 731536 - reftest for text-transform:capitalize with punctuation marks. r=smontagu 
bug 735647 - use larger buffers for key strings in ReflowCountMgr, and fix leakage & allocator mismatch. r=matspal 
bug 735439 - optimize order of fields in gfxFontStyle to save space. r=jdaggett 
bug 735419 - eliminate unused parameter in the gfxTextRun constructor. r=jdaggett 
bug 735583 - eliminate font constant synonyms and use the standard forms everywhere. r=jdaggett 
bug 731536 - followup, add a reftest for Deseret text capitalization with punctuation marks. r=smontagu 
backout 51839400b331 (bug 711753) for Android build bustage. 
Bug 512566. Load font data url's synchronously, gfx changes. r=jfkthame 
Bug 512566. Font data url reftests. r=jfkthame 
Bug 512566. Changes based on review comments. r=bz,jfkthame 
bug 721719 - ignore the GSUB table in Roboto on Android because of bad ligature rule. r=jdaggett 
bug 721719 - try Roboto as well as Droid Sans for fallback on Android. r=jdaggett 
bug 721719 - add more ICS fonts to the default Android prefs. r=jdaggett 
bug 736726 - mark reftest bidi-003 as failing on android for now. no_r=me 
bug 717175 - disable the timed expiration of shaped-word caches. r=roc 
bug 738197 - handle potential failures in gfxFont::GetShapedWord more robustly. r=roc 
bug 737412 - handle null sizeOfEntryExcludingThis pointer within ns{T,Base}Hashtable SizeOfExcludingThis functions. r=jfkthame 
bug 737863 - nsBaseHashtable::SizeOfExcludingThis should be declared const. r=njn 
bug 688125 - part 1 - add memory reporting for the platform font list. r=njn 
bug 688125 - part 2 - add memory reporting for fonts in the gfxFontCache. r=njn 
bug 736210 - fix bug in nsCaseTransformTextRunFactory surrogate handling. r=smontagu 
bug 738197 - handle potential failures in gfxFont::GetShapedWord more robustly. r=roc 
bug 737412 - handle null sizeOfEntryExcludingThis pointer within ns{T,Base}Hashtable SizeOfExcludingThis functions. r=jfkthame 
bug 737863 - nsBaseHashtable::SizeOfExcludingThis should be declared const. r=njn 
bug 688125 - part 2 - add memory reporting for fonts in the gfxFontCache. r=njn 
Set all languages to true in language.properties. Bug 730625, r=jfkthame 

bug 739925 - port OTS bug-fix from upstream rev.83. r=jdaggett Bug 739706. Fix gfxFont.cpp compiler warning. r=jfkthame 
Add support to the reftest harness for preferences that apply to only one of the test or reference.  (Bug 743105)  r=jfkthame 
Bug 743593: Properly cast gfxFont based on type. r=jfkthame 
bug 744480 - check for failure to set up the cairo font. r=bas 
Bug 747816 - Add big-endian tags to OTS r77. r=jfkthame, a=npotb 
bug 738101 - Use the new mozilla::unicode::GetBidiCat instead of the old GetBidiCat. r=jfkthame 
bug 738101 - Use the new mozilla::unicode::GetIdentifierModification instead of the old ccmap in IsDefaultIgnorable. This is the last client for precompiled ccmaps, so remove the infrastructure for them at the same time. r=jfkthame 
bug 738101 - test for bidi mirroring. r=jfkthame 
Bug 746421 - Make nsTextBoxFrames overflow area include the LOOSE_INK_EXTENTS of the text. r=jfkthame 
Test for word-break in 16-bit text as well as 8-bit. Bug 249159 r=jfkthame 
More tests for bug 249159, r=jfkthame 
Split wordbreak-7 test into two testcases, one without lam-alef ligatures and one with (marked as failing due to bug 479829). Bug 249159, r=smontagu 
harfbuzz shaper should not modify character-clustering info due to diacritic within ligature. Bug 249159, r=smontagu 
Bug 758120: Block attempts to do manual subpixel-AA on bitmap fonts. r=jfkthame 
Bug 780680: Remove never-read variable 'prevGlyphCharIndex' from gfxHarfBuzzShaper::SetGlyphsFromRun(). r=jfkthame 
Bug 780409: Followup, remove extra comma at end of enum. r=jfkthame 
Bug 782908 - Updated harfbuzz to current version r=jfkthame 
Track whether nsStyleVisibility::mLanguage came from explicit information in the document.  (Bug 702121, patch 1)  r=jfkthame 
Only do hyphenation when the language was specified explicitly, rather than using an encoding-inferred language.  (Bug 702121, patch 2)  r=jfkthame 
Bug 762221: Enable font hinting for "app" processes. r=jfkthame,jlebar 
Bug 762221: Enable font hinting for "app" processes. r=jfkthame,jlebar 
Bug 719286 - Add OTS support for OpenType SVG table r=jfkthame 
Bug 719286 - Include SVG glyphs when calculating glyph extents r=jfkthame 
Bug 719286 - Test for SVG glyph clipping r=jfkthame 
backout c18523b51058 (bug 716014) on suspicion of causing Win Debug reftest timeouts. 
backout 3335984ce688 (bug 709083) for Android orangeness 
bug 724356 - check the proxy's family pointer is still valid before using it. r=jdaggett 
Bug 468568. Part 0.5: _cairo_dwrite_scaled_font_create_win32_scaled_font should check font names to ensure that GDI gave us back the correct font. r=jfkthame 
Bug 788918 - Make text-shadow-selected reftests grab focus. r=jfkthame 
Bug 791384 - Update Hyphen to version 2.8.6. r=jfkthame 
Bug 792575 - Change Hawaiian [haw] langGroup to 'x-western'. r=jfkthame 
Bug 791953 Fix lossy conversion warning in gfxFont.h r=jfkthame 
bug 785291 - Add support to load fonts from an APK, search for fonts in res/fonts r=jfkthame 
bug 785291 - Add support to load fonts from an APK, extract fonts from APK r=jfkthame 
bug 790139 - crash in FT2FontEntry::CreateFontEntry when visiting any site in CM10 r=jfkthame 
Bug 800058 - Unbreak graphite2-1.2.0 on clang/libc++. r=jfkthame 
Bug 802856 - Plugins don't always get focused in HiDPI mode if you click on them. r=jfkthame 
Bug 717178. Part 1: Don't crash when passing a nil scaled-font to _name_tables_match. r=jfkthame 
Bug 803066 - graphite2 fails to cross compile for Windows from case sensitive OS r=jfkthame 
Bug 804062. Move device-pixels-per-CSS-pixel preference logic into nsIWidget::GetDefaultScale. r=jfkthame
bug 798826 - crash in gfxFT2FontList::FindFonts @ mozilla::scache::StartupCache::WaitOnWriteThread, speculative null check r=jfkthame 
Fix an error in the UTF-8 state machine table, and clean up the table generally. Bug 811363, r=jfkthame. 
Bug 814101: Respect system-wide cleartype setting. r=jrmuizel,jfkthame 

bug 814383 - fix javascript strict-mode warnings in browser.js. r=gavin bug 819725 pt 2 - apply default scaling in widget/windows/nsWindow move & resize methods, to account for non-100% Windows UI scale factors. r=roc 
bug 821454 - scaling from display to device pixels should only apply to top-level windows/dialogs/popups, not to child or plugin windows. r=roc 
Bug 822307 - Typo bug introduced into Qt nsWindow.cpp after landing 819725. r=jfkthame 
Bug 823964 - Wrong bounds for scaled images. r=longsonr 
Bug 825734 - Plugins stop rendering when top half of plugin scrolled off top of page, in HiDPI mode. r=jfkthame 
Bug 702121, patch 3:  Make the auto-hyphenation-{8,9,10} reftests not depend on picking the same fonts for different language or encoding values, to fix Android reftest failures from landing of bug 831354.  r=jfkthame 
Bug 831354, test fix 4:  Make auto-hyphenation-2 not depend on different languages leading to the same font.  r=jfkthame 
Bug 832486: Cast enum values from different types to int32_t before asserting that they're equal, in gfxPangoFonts.cpp. r=jfkthame 
Bug 832440: Fix inconsistency on appUnitsPerDevPixels's signedness in gfxFont and its clients by converting all instances to be signed. r=jfkthame 
Bug 835473: Remove unused functions ValidateLocaTable & ValidateKernTable from gfxFontUtils.cpp. r=jfkthame 
Bug 831342 - Quite noisy rollupWidget warnings on OSX, r=smichaud 
bug 816709 - HiDPI support for Win8 Metro. r=jimm 
bug 851197 - respond to changes in LogicalDpi in Metro widget code. r=jimm 

bug 828508 - use larger favicons in hidpi mode if available. r=fryn 
back out cb015c10d58f (bug 828508) on a CLOSED TREE for turning bc tests orange 
bug 828508 - use higher-res favicons for tab titles in hidpi mode if available. r=dao 
Backed out changeset 93cbcd7f34b3 (bug 828508) on suspicion of making bug 807442 nearly perma-fail on debug builds on a CLOSED TREE. 
bug 828508 - use higher-res favicons for tab titles in hidpi mode if available. r=dao Bug 856341 - Make gfxFcFontEntry::mPatterns fallible; r=jfkthame 

bug 818940 - use higher-res graphics for about:home at 150% or higher scale factor. r=fyan 
bug 818940 pt 2 - also use high-res search engine logo on about:home. r=fyan Exclude U+30FB KATAKANA MIDDLE DOT from the non-recommended characters that force IDN labels to be displayed as punycode. Bug 857490, r=jfkthame 
Exclude U+30FB KATAKANA MIDDLE DOT from the non-recommended characters that force IDN labels to be displayed as punycode. Bug 857490, r=jfkthame 

No bug - Fix incorrect merge of changes from bug 818940, bug 859576, and bug 738818. a=me Bug 840315 - Change default serif and sans serif fonts on gonk, r=jfkthame a=blocking-leo 

bug 857192 - use float instead of integer CSS pixels to track available space for image. r=bz Bug 840315 - Change default serif and sans serif fonts on gonk, r=jfkthame a=blocking-leo 
Bug 863889. nsWindow::Move should compare the same type of pixels when determining if we are moving the window at all. r=jfkthame 
Bug 864219. nsCocoaWindow::DoResize should be explicit about converting doubles to ints. r=jfkthame 
Bug 857957 - Use Endian.h for byte swap. f=nfroyd, r=jfkthame, r/sr=bsmedberg 

bug 854555 - ensure download icons are 32px even on Retina Macs. r=shorlander bug 866365 - declare both firefox.exe and plugin-container.exe as dpi-aware via their manifests. r=jimm,gps 
Bug 870113 - Switch GetFontImpl to Feura Sans, r=jfkthame 
bug 857061 - scale Windows taskbar preview properly for hi-dpi configuration. r=jimm 
Bug 870647 - Add NanumGothic pref to Android. r=jfkthame 
b=810252 remove default-unused Pango shaping code r=jfkthame 
Bug 867735 - Update to freetype 2.5.0.1, r=jfkthame 
Bug 899430. Correct incorrect use GetDefaultScale in TextInputHandler to BackingScaleFactor. r=jfkthame
Bug 898588 - Enable HiDPI app chrome for Desktop Web Runtime. r=jfkthame 

https://hg.mozilla.org/integration/gaia-central/rev/ca81894022baBug 903112 - Replace this with MOZ_THIS_IN_INITIALIZER_LIST() in gfx/. r=jfkthame 
Bug 906521. Part 1: Remove support for 'glyphchar' since it's no longer in the spec. r=jfkthame 
Bug 906521. Part 2: Change from using the 'glyphid' attribute to using id='glyphNNN'. r=jfkthame 
Bug 906521. Part 3: OTS should recognize version 0 of the SVG table. r=jfkthame 
Bug 906521. Part 4: gfxSVGGlyphs should also check the version because it also does table parsing. r=jfkthame 
Bug 906521. Part 5: Make OTS recognize the new table format. r=jfkthame 
Bug 906521. Part 6: Make gfxSVGGlyphs understand the new table format. r=jfkthame
Bug 906521. Part 7: Handle cases where an SVG glyph has no frame or a non-SVG frame without crashing in debug builds. r=jfkthame 
Bug 906521. Part 8: Fix text-svgglyphs reftests. r=jfkthame 
Bug 906521. Part 9: Add tests for invalid glyph id values. r=jfkthame 
Bug 910086 - Add MotoyaLMaru to common fallback font. r=jfkthame 
Bug 901845 - add a pref to specify the length limit of words in word caches. r=jfkthame 
Bug 901845 - add a pref to specify the max entries in a word cache. r=jfkthame 
Bug 897009 - Update default Gonk fonts, r=jfkthame
Test fixes r=dholbert,jfkthame,dholbert 
Bug 897009 - Mark 488685-1.html as now passing on Android; r=jfkthame 
Bug 870113 - Switch GetFontImpl to Fira Sans, r=jfkthame 
Bug 906643. Part 4: Make each gfxFontEntry track its gfxFonts with SVG glyphs. r=jfkthame 
Bug 906643. Part 5.2: Add gfxFont::GlyphChangeObserver. r=jfkthame 
Bug 906643. Part 5.6: Make nsTextFrames register themselves as observers when they have animated glyphs (but only the text frames that are the start of a run of continuations using a particulr textrun). r=jfkthame 
Bug 906643. Part 6: Add gfxFontEntry::NotifyGlyphsChanged, which calls new gfxFont::NotifyGlyphsChanged, which calls new gfxGlyphExtents::NotifyGlyphsChanged; these methods flush out existing glyph extents and notify all affected gfxUserFontGroups of the glyph changes. r=jfkthame 
Bug 906643. Part 7: Hook up animation support for gfxSVGGlyphs. r=jfkthame
Bug 919845 - Really make Fira Sans the default font, r=jfkthame 
Bug 915938 - Honour the glyph rendering options set by the platform when drawing text on a <canvas> r=jfkthame 
Add new bidi control characters defined in Unicode 6.3. Bug 922530, r=jfkthame 
Update Unicode data to version 6.3. Bug 922550, r=jfkthame 
Desc: Merge pull request #13714 from jfkthame/patch-2
Author: jfkthame <jfkthame@gmail.com>
Bug 913264 - add reftest for none value of font-variant-ligatures. r=jfkthame 
Desc: Merge pull request #13814 from jfkthame/patch-3
Author: jfkthame <jfkthame@gmail.com>
Bug 934710 - add various text performance metrics and a log to handle these. r=jfkthame 
Bug 934072 - Part 1: Support other suffixes in numbered bullet. r=jfkthame 
Bug 934072 - Part 2: Add counter style cjk-decimal. r=jfkthame 
Bug 934072 - Part 3: Implement complex CJK ideographic counter styles. r=jfkthame 
Bug 934072 - Part 4: Reftests for complex cjk counter styles. r=jfkthame 
Bug 942017 - Only let the bullet frame affect the line height when line-height:normal. r=jfkthame 
Bug 947379. Remove MOZ_PANGO. r=jfkthame
Bug 213517 part 2 - Remove the x-user-def language group. r=jfkthame. 
Bug 953438 - Change nsIFrame::HasTerminalNewline to HasSignificantTerminalNewline since it doesn't make sense to check for a newline that gets converted to regular whitespace. r=jfkthame 
Bug 961734 - reorder nsFont fields for slightly better packing; r=jfkthame 
Bug 953385 - Set math script where applicable in /gfx. r=jfkthame 
Part 1 - Switch upstream source to khaledhosny/ots. b=941019, r=jfkthame. 
Part 2 - Apply patch to make Process function externally visible for Windows DLL. b=941019, r=jfkthame. 
Part 3 - Add #ifdef's to disable WOFF2 support. b=941019, r=jfkthame. 
Part 4 - Update README.mozilla, moz.build files and local patches. b=941019, r=jfkthame. 
Part 5 - Remove MOZ_OTS_REPORT_ERRORS, whitelist Graphite/SVG tables and use SetMessageCallback. b=941019, r=jfkthame. 
Bug 966795 - Update to freetype 2.5.2, r=jfkthame 
Bug 968626 - Fail gracefully on unimplemented PNG loading. r=jfkthame 
Bug 969866 - Use fallible allocations in some places in our font/text shaping code; r=jfkthame
Bug 969871 - Use fallible allocation for text hyphenation; r=jfkthame
Bug 947588. Part 2: Add gfxTextRunFactory::TEXT_HIDE_CONTROL_CHARACTERS to guard usage of IsInvalidControlChar. r=jfkthame 
Bug 947588. Part 3: Map nsStyleText::mControlCharacterVisibility to TEXT_HIDE_CONTROL_CHARACTERS flag in nsTextFrame. r=jfkthame
Bug 947588. Part 5: Fix tests to pass even if regular HTML content is not displaying hexboxes for control characters. r=jfkthame 
Bug 970041 - Use fallible allocation in Windows font code; r=jfkthame 
Bug 970483 - Part 2: Blackliist pre-RTM Windows 7 again. r=jfkthame 
Add some logical setters/getters to nsIFrame.h. Bug 735577, r=jfkthame 
Extend the WritingModes API. Bug 735577, r=jfkthame 
Bug 975460 - check for null CTFontRef after creation. r=jfkthame 
Bug 962608 - Make PL_DHashTableInit infallible by default. r=briansmith,bsmedberg,ehsan,froydnj,jduell,jfkthame,roc,smaug 
Bug 978603:  Make sure implicit copy constructors and assignment operators aren't invoked for gfxGlyphExtents (which would at least mess up leak statistics if not actually leak).  r=jfkthame
Add more logical-coordinate API to nsIFrame. Bug 735577, r=jfkthame 
Use logical coordinates in nsBlockFrame::ReflowBullet. Bug 789096, r=jfkthame 
Use logical text layout API in nsLineLayout. Bug 789096, r=jfkthame 
Use logical text layout API for GetSkipSides. Bug 789096, r=jfkthame 
Use logical coordinates in nsBlockFrame::ReflowBullet. Bug 789096, r=jfkthame 
Use logical text layout API in nsLineLayout. Bug 789096, r=jfkthame 
Use logical text layout API for GetSkipSides, bug 789096, r=jfkthame 
Bug 983019 - Fix a typo in the aMetrics->maxDescent initialization when we failed to create the Cairo font. Also fix a typo so that aSpaceGlyph out-param is assigned as intended. And make the code easier to read. r=jfkthame 
Bug 981435 - Update to freetype 2.5.3, r=jfkthame,glandium 
Bug 985186 - Unwanted white space for multiple of 10,000 in Korean counter styles. r=jfkthame 
Bug 921858 - distinguish space features in default features from those in non-default features. r=jfkthame 
Bug 921858 - check for spaces in textrun before skipping word cache. r=jfkthame 
Bug 921858 - reftest to test various space-containing lookup scenarios. r=jfkthame 
Bug 921858 - whitelist font families to avoid space lookup check for default features. r=jfkthame 
bug 978847 - check for overflow in nsWindowWatcher coordinate calculations when constraining position. r=roc 
Correction to typo in checkin for bug 789096. Bug 983691, r=jfkthame 
Aways use the root span's writing mode when recursing into child spans in nsLineLayout::ApplyFrameJustification. Bug 986899, r=jfkthame 
Bug 989557 - Implement a fallback for CJK Compatibility Ideographs Standardized Variants. r=jfkthame 
Bug 989130 - Back out changeset fe119a83b1f2 (bug 942017) while leaving the corresponding test from changeset 3c63decb4e7e.  r=jfkthame
Make nsLineBox.mBounds a LogicalRect. Bug 789096, r=jfkthame 
Add some more logical getters to nsIFrame.h. Bug 735577, r=jfkthame 
Bug 964613 - check userfont sets for enabled/disabled local fonts when platform fontlist changes occur. r=jfkthame 
Bug 407059 - Part 1: Add a gfxMathTable class to read the MATH table. r=jfkthame 
Bug 407059 - Part 4: Use gfxHarfbuzzShaper::GetGlyphHAdvance() for math operators. r=jfkthame 
Bug 752394 - time out font facename list initialization, reflow if needed after font loader thread completes. r=jfkthame 
Bug 752394 - time out localized font family name initialization, reflow if needed after font loader thread completes. r=jfkthame 
Bug 407059 - Part 1: Add a gfxMathTable class to read the MATH table. r=jfkthame 
Bug 407059 - Part 4: Use gfxHarfbuzzShaper::GetGlyphHAdvance() for math operators. r=jfkthame 
Bug 1000370 - Call SetupCairoFont at the beginning of gfxFont::GetGlyphHAdvance. r=jfkthame 
Bug 1000370 - Call SetupCairoFont at the beginning of gfxFont::GetGlyphHAdvance. r=jfkthame
Bug 947650 - [sfnt metrics] prefer OS/2 sTypo* metrics to hhea ascent/descent if USE_TYPO_METRICS flag is set, and for OpenType Math fonts. r=jfkthame 
Bug 993137 - Introduce cross-platform font pref defaults. r=ochameau, r=jfkthame 
Bug 993137 - Introduce cross-platform font pref defaults. r=ochameau, r=jfkthame 
Bug 870238 - Stop using the deprecated API -[NSWindow userSpaceScaleFactor]. r=jfkthame 
Bug 1011461 - Text in bullet shows vertical-positioning discrepancy. r=jfkthame 
Bug 1012218 - Cherrypick clang warning fixes from upstream harfbuzz. r=jfkthame 
Wait for CanPlaceFrame (i.e. after reflow) to apply start-margin and test whether the frame is a last continuation and so needs its end-margin applied. Bug 999446, r=jfkthame 
Add a WritingMode argument to nsHTMLReflowMetrics::ISize() and BSize(). Bug 789096, r=jfkthame 
Bug 889401 - Part 1. Add Segoe UI Emoji to fallback font list. r=jfkthame 
Bug 889401 - Part 2. Render color glyph using COLR/CPAL. r=jfkthame 
Bug 889401 - Part 3. reftests for COLR/CPAL. r=jfkthame 
Bug 870238 - Stop using the deprecated API -[NSWindow userSpaceScaleFactor]. r=jfkthame 
Bug 1013160 - Remove padding suppressing mechanism of bullet. r=surkov, r=jfkthame 
Bug 1013160 - Remove padding suppressing mechanism of bullet. r=jfkthame,surkov 
Bug 1018034 - Remove the "gfx.font_rendering.harfbuzz.scripts" pref. r=jfkthame 
Bug 1005888 - Remove unused #ifdef for gfx/thebes/gfxFT2FontList.cpp. r=jfkthame 
Add a WritingMode argument to nsHTMLReflowMetrics::ISize() and BSize(). Bug 789096, r=jfkthame 
Bug 1005888 - Remove unused #ifdef for gfx/thebes/gfxFT2FontList.cpp. r=jfkthame 

bug 1007639 - stop shipping .woff fonts as part of the desktop browser product. r=gavin Bug 1020927 - Part 1: Update OTS to 06372729b075619ec94aa2e075afcabc894b6069 so that WOFF2 can be disabled at build time. This excludes the change of 9f5b6e2e6a5c0182e4c89233aff8a4f6414d55e0 that was causing a crash. r=jfkthame 
Bug 1020927 - Part 2: Update OTS to bf4afceb8b441f3a219dd7cfea5613c18183836c so that we fix the compile warnings. r=jfkthame 
Bug 1020927 - Update OTS to d6018b62bf41f6b419aeae6d2795725a55715481 to accept 0 lookup for lookup, feature or script offset. r=jfkthame 
Bug 1022667, part 4 - Remove some font related functions from gfxWindowsPlatform.cpp. r=jfkthame 
Replace Get/SetTopAscent with Get/SetBlockStartAscent. Bug 789096, r=jfkthame 
Bug 966166 - Part 6: Tests for @counter-style. r=jfkthame, r=davidb 
Bug 987872 - Update Fira font name for Fira font update, r=jfkthame 
bug 985220 - remove the old GDI, Uniscribe and DWrite text-shaping code paths, as we now use HarfBuzz or Graphite for all shaping on Windows. r=jdaggett 
bug 985220 pt 2 - replace the use of GetGlyphIndicesW with ScriptGetCMap in gfxGDIFont::GetGlyph. r=jdaggett 
bug 985220 pt 3 - when zeroing the width of mark glyphs, also update their offset to overstrike preceding glyph. r=behdad 
Bug 982355 - Support disclosure-{open,closed} counter styles. r=jfkthame 
Bug 985825 - Unprefix -moz-ethiopic-numeric. r=jfkthame 
Bug 1025359 - Correct -moz-tamil according to Predefined Counter Styles. r=jfkthame 
Replace GetBaseline with GetLogicalBaseline and use logical coordinates in the line position and baseline getters in nsLayoutUtils. Bug 789096, r=jfkthame 
Bug 789096: make method names in nsLineLayout correspond to the respective CSS properties. r=jfkthame 
Bug 789096 patch 7: Use logical coordinates in nsBlockReflowContext. r=jfkthame 
Bug 789096 patch 8: use logical coordinates in nsBlockReflowState. r=jfkthame 
Bug 1028512 - Remove {lower,upper}-{roman,alpha} from CSS keywords. r=jfkthame 
Bug 961558 - add fallback support for font-variant-caps values. r=jfkthame 
Bug 961558 - add reftests for font-variant-caps fallback. r=jfkthame 
Bug 961558 - remove smallCaps from gfxFontStyle. r=jfkthame 
Bug 456899 - Avoid assertion "forgot to short-circuit a text run with zero-sized font?"; r=jfkthame 
Bug 1028521: Use the nsHTMLReflowMetrics' writing mode passed in from the container in nsMathMLContainerFrame::ReflowChild, not the child frame's. r=jfkthame 
Bug 1025669 - part 0.5, Add LogicalMargin::ApplySkipSides.  r=jfkthame 
Bug 1018234 - Reference count fontFaces r=jfkthame 
Bug 1030894 - Stop abusing nsAutoPtr in gfxFT2FontList.cpp. r=jfkthame 
Bug 1018034 - Remove the "gfx.font_rendering.harfbuzz.scripts" pref. r=jfkthame 
Bug 987872 - Update Fira font name for Fira font update, r=jfkthame 
Bug 961365 - Part 1: Add helper functions to access MATH constants and use them to get the AxisHeight. r=jfkthame 
Bug 961365 - Part 2: Use MATH constants for radicals. r=jfkthame 
Bug 961365 - Part 3: Use MATH constants for fractions and stacks. r=jfkthame 
Bug 961365 - Part 4: Use MATH constants for scripts. r=jfkthame 
Bug 961365 - Part 5: Use MATH constants for limits. r=jfkthame 
Bug 961365 - Part 6: Add tests for OpenType MATH constants. r=jfkthame 
Bug 1037903: convert from frame's writing mode to block's writing mode in GetBEndMarginClone. r=jfkthame 
Bug 1024804 p1 - implement fallback for font-variant-position sub/superscript glyphs. r=jfkthame 
Bug 1024804 p2 - scan scriptrun for characters lacking variant glyphs. r=jfkthame 
Bug 1024804 p3 - reftests for subscript/superscript fallback. r=jfkthame 
Bug 789096 patch 9: use logical coordinates in nsHTMLReflowState available size. r=jfkthame 
Bug 789096 patch 10: make Reflow set nsHTMLReflowMetrics.ISize and BSize instead of Width and Height. r=jfkthame 
Bug 1044198: convert margins from the frame's writing mode to the line's writing mode in nsBidiPresUtils::RepositionInlineFrames, r=jfkthame. 
Bug 1046416: Shut down gfxPlatformFontList on all platforms. r=jfkthame 
Bug 750622 patch 1: merge x-baltic with x-western, r=jfkthame 
Bug 750622 patch 2: merge x-central-euro with x-western, r=jfkthame 
Bug 756022 patch 3: merge tr with x-western, r=jfkthame 
Bug 756022 patch 4: change "Western" to "Latin" and "Other Languages" to "Other Writing Systems" in the font preferences dialog, r=jfkthame 
Bug 756022 patch 5: delete obsoleted comments in langGroups.properties and assign x-western to a few unassigned languages that use Latin script, r=jfkthame 
Bug 1036981 - Update HarfBuzz to upstream commit d5e6147 (0.9.34). r=jfkthame 
Bug 1036394 - Use CRC32 to query hidden fonts, r=jfkthame 
Bug 1048752. Part 39: Call SelectionLanguageChange even when bidi keyboard is not available, for consistency, and fix broken tests. r=jfkthame 
Bug 1054394 - Avoid clang internal compiler error in Zone.h. r=jfkthame 
Bug 931040 - add access to hidden system fonts on OSX. r=jfkthame 
Bug 1041951 - reftests for font-variant shorthand. r=jfkthame 
Bug 975744 - unprefix font-feature-settings and font-language-override in tests. r=jfkthame 
Bug 1054810: when block size is unconstrained and we aren't setting aDesiredSize.BSize to the computed block size, preserve the original value. r=jfkthame. 
Bug 1057488 - Part 1: Add a small bash script to help keeping OTS up-to-date. r=jfkthame 
Bug 1057488 - Part 2: Update OTS to 2a1859a6629bdb6f2915b1d3041621dbd396a4f7. r=jfkthame 
Bug 1057488 - Part 3: Update OTS to 97d043dd8977751835ca8d33d773ae8416e456d5. r=jfkthame 
Bug 1057488 - Part 4: Update OTS to 5c25bdac8f02080f49fa416ea997ed77e3be0d30. r=jfkthame 
Bug 1055865 patch 1 - Add reftest for sizing of empty ::first-letter.  r=jfkthame
Bug 1055865 patch 2 - Use separate nsHTMLReflowMetrics for reflowing the child of the nsFirstLetterFrame.  r=jfkthame
Bug 1055865 patch 3 - Fork a bit of code between the floating and non-floating branches in nsFirstLetterFrame::Reflow.  r=jfkthame
Bug 1055865 patch 4 - Remove bits of code that nsLineLayout takes care of.  r=jfkthame
Bug 1055865 patch 5 - Use normal inline handling for setting the size of a non-floating nsFirstLetterFrame.  r=jfkthame
Bug 1058021 patch 2: add more helpful output for encoding test failures. r=jfkthame 
Bug 1058021 patch 3: change the mapfile generator to pass thru undefined codepoints from 0x80-0x9F and update the comments. r=jfkthame 
Bug 1058021 patch 4: regenerated encoding mapfiles. r=jfkthame 
Bug 1072385 - Update Hyphen to version 2.8.8. r=jfkthame 
Bug 998869 part 1 - build fontlist more lazily (non-linux). r=jfkthame 
Bug 998869 part 2 - switch to GetFontAt(0) to GetFirstValidFont(). r=jfkthame 
Bug 998869 part 5 - lazily load userfonts (non-linux). r=jfkthame 
Tests for bug 1069941, one by jfkthame, r=smontagu; the other by smontagu, r=jfkthame 
Bug 1069941 patch 1: be more accurate when identifying the first and last frames on the line and applying margin/border/padding, r=jfkthame 
Bug 1069941 patch 2: reset the start coordinate of the inline frames before ReorderFrames so that the margin doesn't get added twice, r=jfkthame 
Bug 1069941 patch 3: Pass the frame physical width, not inline size, to the inner loop of RepositionFrame, plus cosmetic fixes, r=jfkthame 
Bug 1028497 - Part 8: Implement Length and array access on FontFaceSet. r=jfkthame
Bug 1028497 - Part 16: Don't destroy the user font set if there are no @font-face rules. r=jfkthame
Bug 1075617.  Log the correct file/line for the @font-face rule for font errors.  r=jfkthame 
Bug 1076986: make LogicalMargin and LogicalRect's IsEmpty the same as nsMargin and nsRect, r=jfkthame 
Test for bug 1067268, r=jfkthame 
Bug 1067268: don't mix physical and logical coordinates when calculating width to clear past floats, r=jfkthame 
Bug 1082167 - don't leak featurelookups within InputsForOpenTypeFeature. r=jfkthame 
Bug 1084024. Remove graphite Makefile.in. r=jfkthame
Bug 1062963 patch 1: Logical coordinates in nsLineLayout:ReflowFrame and CanPlaceFrame. r=jfkthame 
Bug 1062963 patch 2: changes and additions to WritingModes.h. r=jfkthame 
Bug 1062963 patch 3: make nsFloatManager's origin a LogicalPoint, adapt GetFlowAreas, AddFloats, ClearFloats, etc. to use it and make nsFloatManager region functions work with logical region. r=jfkthame 
Bug 1079139: make nsFlowAreaRect.mRect a LogicalRect. r=jfkthame 
Bug 1062963 patch 1: Logical coordinates in nsLineLayout:ReflowFrame and CanPlaceFrame. r=jfkthame 
Bug 1062963 patch 2: changes and additions to WritingModes.h. r=jfkthame 
Bug 1062963 patch 3: make nsFloatManager's origin a LogicalPoint, adapt GetFlowAreas, AddFloats, ClearFloats, etc. to use it and make nsFloatManager region functions work with logical region. r=jfkthame 
Bug 1079139: make nsFlowAreaRect.mRect a LogicalRect. r=jfkthame 
Tests for bug 1082844 (not run in a default build). r=jfkthame 
Bug 1082844: when converting between logical and physical coordinates in nsLineLayout, use the width of the containing block as container-width for the root span, and the width of the root span for child spans. r=jfkthame 
Tests for bug 1083748 (not run in a default build). r=jfkthame 
Bug 1083748. Pass inline-size, not width, to ComputeSize. r=jfkthame 
Bug 1087982, part 1 - Get rid of the useless null checks in nsRenderingContext::GetMaxChunkLength/GetWidth. r=jfkthame 
Bug 1087982, part 2 - Get rid of the pass-char-by-value variant of nsRenderingContext::GetWidth. r=jfkthame 
Bug 1087982, part 3 - Get rid of the ASCII variants of nsRenderingContext::DrawString/GetWidth. r=jfkthame 
Bug 1088071, part 1 - Wrap the callers of the final nsRenderingContext::DrawString method up in a new nsLayoutUtils::DrawUniDirString method. r=jfkthame 
Bug 1088071, part 2 - Move the nsRenderingContext::DrawString code to nsLayoutUtils::DrawUniDirString. r=jfkthame 
Bug 1085311 - Vertical writing-mode support for single-line <input> fields. r=jfkthame 
Bug 475891 - support unicode-range when matching userfonts (non-linux). r=jfkthame 
Bug 475891 - reftests for unicode-range. r=jfkthame 
Bug 1092073 - Set Fira as the default font for Greek, r=jfkthame ui-r=patryk 
Bug 1093813 - Remove the gfxContext argument from gfxHarfBuzzShaper's GetGlyphHAdvance, GetGlyphVAdvance and GetGlyphVOrigin methods. r=jfkthame 
Bug 1093811 - Convert the gfxFont::GetGlyphWidth() virtual method to take a Moz2D DrawTarget instead of a Thebes gfxContext. r=jfkthame 
Bug 1081514 - Update the default font used on Windows for sans-serif in Arabic. r=jfkthame 
Bug 1105828 patch 1: Avoid using UNCONSTRAINEDSIZE in CalculateBlockSideMargins, r=jfkthame 
Bug 1105828 patch 2: Don't set UNCONSTRAINEDSIZE in an availSpace that we aren't going to use, r=jfkthame 
Bug 1104711: short-circuit LogicalSize.ConvertTo when the source and target modes are non-orthogonal, r=jfkthame 
Test for bug 1105137, r=jfkthame 
Bug 1105137: treat nsFloatManager's mOrigin as an offset, not a point, and rename it to mOffset to make that clearer, r=jfkthame 
Bug 1113526: make GetLogicalNormalPosition return the correct logical origin of the frame, not just convert the physical origin to logical coordinates, r=jfkthame 
Bug 1079154 patch 1: add a != operator to LogicalPoint and sprinkle some const dust in WritingModes.h, r=jfkthame 
Bug 1079154 patch 2: add SetPosition with a LogicalPoint to nsIFrame, r=jfkthame 
Bug 1079154 patch 3: logical versions of ApplyRelativePositioning, r=jfkthame 
Bug 1079154 patch 4: Logical versions of ReflowChild and FinishReflowChild, r=jfkthame 
Bug 1079154 patch 5: convert callers of ApplyRelativePosition, ReflowChild and FinishReflowChild in layout/generic to the logical versions, r=jfkthame 
Bug 1079154 patch 7: remove obsoleted nsPoint::GetPhysicalPosition, r=jfkthame 
Tests for bug 1102175, r=jfkthame 
Bug 1063471: finish off converting nsBlockReflowContext to logical coordinates (comment-only change), r=jfkthame 
Bug 1119169 - Update to freetype 2.5.5, r=jfkthame 
Bug 1099977. Part 1: Make gfxDwriteFont cache GetSpaceGlyph. r=jfkthame 
Bug 1099977. Part 1.5: Make gfxFT2FontBase::GetSpaceGlyph work for zero-sized fonts. r=jfkthame 
Bug 1099977. Part 2: Make gfxFont::Measure return an empty bounding-box when all glyphs are invisible. r=jfkthame 
Bug 1099977. Part 3: Skip creating nsDisplayText when all glyphs are invisible. r=jfkthame 
Bug 1115262 - Fix position of ruby annotation when writing mode is vertical-rl. r=jfkthame 
Bug 1118981 - initialize mSkipDrawing correctly for already loading fonts. r=jfkthame 
Bug 1120721 - Make ethiopic-numeric use space as suffix. r=jfkthame 
Bug 1083134 - Part 3: Add functions to WritingMode to convert between logical and physical sides. r=jfkthame 
Bug 1120284 - Part 3: Add physical axis constants. r=jfkthame 
Bug 1120284 - Part 4: Add functions to convert from logical to physical axes based on writing mode. r=jfkthame 
Bug 1123917 part 1 - Add line-relative direction mapping methods to writing modes. r=jfkthame 
Bug 1099110 - Add a runtime check before the downcast in BreakSink::SetCapitalization. r=jfkthame 
Reftest for bug 1124636, r=jfkthame 
Bug 1124636: use min/maxBSize instead of Height in nsFieldSetFrame, r=jfkthame 
Bug 1111891 - Avoid fuzzy in test of bug 1087872 on Windows. r=jfkthame 
Bug 569334 part 1 - Support getting font info in content query. r=masayuki,jfkthame,smaug 
Bug 1106755 - Make more overflow area computation code apply only to floating ::first-letter.  r=jfkthame
Bug 1121748 - patch 1 - Make sure to update the frame dimensions before calling ApplyRelativePositioning. r=jfkthame 
Bug 1130936 - Support vertical writing mode in nsTextStore for Windows TSF. r=masayuki 
Bug 1089431 part 2 - Break between ruby bases according to line-breaking rules. r=jfkthame 
Bug 1089431 part 3 - Make line breaking inside ruby be triggered at correct time. r=jfkthame 
Bug 1089431 part 4 - Add reftest for line-breaking between ruby bases. r=jfkthame 
Tests for bug 1127488, r=jfkthame 
Test for bug 1131013, r=jfkthame 
Bug 1131013: when setting the position of inline frames in vertical writing modes with right-to-left direction, subtract the inline start from the container height to get the correct vertical position. r=jfkthame 
Bug 1124636 patch 2: use logical ReflowChild, FinishReflowChild and ApplyRelativePositioning in nsFieldSetFrame. r=jfkthame 
Bug 718157 - Fix dynamic changes of percentage text-indent when the parent's size changes and the element's size does not.  r=jfkthame
Bug 1134667 - Check length of text run before checking line break in reflow of ruby base container. r=jfkthame 
Bug 1135432 - Suppress line break after text run which ends in ruby. r=jfkthame 
Bug 1135361 - Fix position of ruby annotation in vertical-rl mode when justification is applied to the base. r=jfkthame 
Bug 1137889 part 1 - Update predefined counter style name table to match the spec. r=jfkthame 
Bug 1137889 part 2 - Move around definitions in counterstyles.css to match the order in spec for clarity. r=jfkthame 
Bug 1140486 patch 1 - Pass block frame instead of block reflow state to nsTextFrame::RecomputeOverflow.  r=jfkthame
Bug 1140486 patch 2 - Make nsTextFrame::UpdateOverflow include the visual overflow from the text metrics by calling existing RecomputeOverflow.  r=jfkthame
Bug 1119627 - Add Arabic font preference to Android's prefs. r=jfkthame 
Bug 1139893 - Disable reftest bugs/1062108-1.html on mulet. r=jfkthame
Bug 1142928 - Make 1090168-3.html fuzzy on Mulet as on B2G. r=jfkthame 
Bug 1141928 part 0 - Change line relative dir mapping code to return LogicalSide instead of physical side. r=jfkthame
Bug 1141928 part 1 - Correct the position of ruby text containers in RTL text. r=jfkthame
Bug 1141928 part 3 - Reftest for simple RTL case. r=jfkthame
Mark the failing reftests from bug 1114329 as passing (fixed by bug 1143218). r=jfkthame 
Bug 1143218 patch 1: Back out the fix for bug 1105137, r=jfkthame 
Bug 1143218 patch 2: Add LineLeft and LineRight accessors to LogicalRect, r=jfkthame 
Bug 1143218 patch 3: a better fix for bug 1105137 using line-left and line-right to place floats, r=jfkthame 
Bug 1145546: take auto-direction into account in GetScrolledRect, r=jfkthame 
Bug 1120300 - Export WritingModes.h as mozilla/WritingModes.h. r=jfkthame 
Bug 1145546 - Add missing nsBidiPresUtils.h include to nsGfxScrollFrame.cpp to fix non-unified bustage. r=jfkthame 
Bug 1149519 - Workaround for GDI's failure to return empty extents for blank glyphs. r=roc 
Bug 1141931 part 3 - Adjust some parameters of functions in nsBidiPresUtils. r=jfkthame
Bug 1141931 part 4 - Make bidi reordering always in frame order. r=jfkthame,smontagu 
Bug 1141931 part 8 - Reorder ruby frames regarding their direction. r=jfkthame 
Bug 1141931 part 9 - Reftest for ruby frames reordering. r=jfkthame 
Bug 1141931 part 3 - Adjust some parameters of functions in nsBidiPresUtils. r=jfkthame
Bug 1141931 part 4 - Make bidi reordering always in frame order. r=jfkthame,smontagu 
Bug 1141931 part 8 - Reorder ruby frames regarding their direction. r=jfkthame 
Bug 1141931 part 9 - Reftest for ruby frames reordering. r=jfkthame 
Bug 1155880 part 1: Rename nsITableLayoutStrategy::ComputeColumnWidths and associated comments to use "ISize" instead of "Width". r=jfkthame 
Bug 1155880 part 2: Rename nsTableColFrame Get/Set/ResetFinalWidth methods to use "ISize" instead of "Width". r=jfkthame 
Bug 1155880 part 3: Rename nsTableFrame::GetColumnWidth to use "ISize" instead of "Width". r=jfkthame 
Bug 1155766 - Fix a bad assertion r=jfkthame 
Bug 1117227 part 1 - Add IntersectRect method to LogicalRect. r=jfkthame 
Bug 1117227 part 4 - Make overflow mark baseline computation aware of writing-mode. r=jfkthame 
Bug 1117227 part 5 - Render ellipsis in correct orientation. r=jfkthame 
Bug 1117227 part 6 - Reftest for text-overflow on vertical text. r=jfkthame 
Bug 1150614: place floats correctly in vertical writing modes with dir="rtl", r=jfkthame 
Tests for bug 1150614, r=jfkthame 
Tests for bug 1150614, r=jfkthame 
Fix test regressions from bug 1150614, r=jfkthame 
Bug 1150614: place floats correctly in vertical writing modes with dir="rtl", r=jfkthame 
Bug 1157569 part 10 - Add operator+= for LogicalMargin. r=jfkthame 
Bug 1056479 p1 - add language to FindFamily parameters. r=jfkthame 
Bug 1056479 p3 - fixup various reftests for Linux. r=jfkthame 
Bug 1056479 p4 - fix accessibility api for font-weight. r=jfkthame 
Bug 1056479 p5 - fixup printpreview test. r=jfkthame 
Bug 1056479 p6 - handle font updates. r=jfkthame 
Bug 1056479 p1 - add language to FindFamily parameters. r=jfkthame 
Bug 1056479 p3 - fixup various reftests for Linux. r=jfkthame 
Bug 1056479 p4 - fix accessibility api for font-weight. r=jfkthame 
Bug 1056479 p5 - fixup printpreview test. r=jfkthame 
Bug 1056479 p6 - handle font updates. r=jfkthame 
Bug 1056479 p1 - add language to FindFamily parameters. r=jfkthame 
Bug 1056479 p3 - fixup various reftests for Linux. r=jfkthame 
Bug 1056479 p4 - fix accessibility api for font-weight. r=jfkthame 
Bug 1056479 p5 - fixup printpreview test. r=jfkthame 
Bug 1056479 p6 - handle font updates. r=jfkthame 
Bug 1079151 - Tests for position:absolute in vertical writing modes; currently failing 72 out of 96 testcases. r=jfkthame 
Bug 1166667 - Remove LangGroupFromUnicodeRange due to unused. r=jfkthame 
Bug 1079151 - Updated test files with corrected comments and references as needed. r=jfkthame 
Bug 1147834: Use abstract coordinates in nsHTMLReflowState, r=jfkthame 
Bug 1147834: tests for overconstrained relative positioning, r=jfkthame 
Bug 1113206: Make nsComboboxControlFrame and nsListControlFrame use logical coordinates and support vertical writing modes - patch by smontagu with additions by jfkthame. r=jfkthame,smontagu 
Bug 1172774: for a box with a writing mode orthogonal to its containing block, calculate positioning values (margin, padding and offsets) in the writing mode of the containing block, r=jfkthame 
Tests for bug 1172774, r=jfkthame 
Bug 1173662 part 1: Rename local variable 'wm' in nsNumberControlFrame::Reflow. r=jfkthame 
Bug 1173662 part 2: Use logical sizes in nsNumberControlFrame::Reflow. r=jfkthame 
Bug 1173662 part 3: Use a LogicalPoint for child position in nsNumberControlFrame::Reflow. r=jfkthame 
Bug 1174450 part 1 - Split IntrinsicForContainer in two parts; move the latter part to a new function, AddIntrinsicSizeOffset, which applies the padding/border/margin from the given IntrinsicISizeOffsetData.  r=jfkthame 
Bug 1174450 part 2 - Rename most AddIntrinsicSizeOffset params to follow the aName standard.  r=jfkthame 
Bug 1174450 part 3 - Rename AddIntrinsicSizeOffset local vars from xISize to xSize since the code is generic and handles both ISizes and BSizes.  r=jfkthame 
Bug 1174450 part 4 - Rename the remaining AddIntrinsicSizeOffset params to follow the aName standard.  Also rename local var 'w' to 'size' since it may be either a width or height.  r=jfkthame 
Bug 1174450 part 5 - Remove the duplicated min/max calculation in AddIntrinsicSizeOffset, pass a pointer to the calculated absolute values, if any, from IntrinsicForContainer instead.  r=jfkthame 
Bug 1174450 part 6 - Add a doc comment for AddIntrinsicSizeOffset and some minor code style fixes.  r=jfkthame 
Bug 1174450 part 7 - Move most of IntrinsicForContainer into a new method, IntrinsicForWM, that takes the writing-mode to use as a parameter.  r=jfkthame
Bug 1174450 part 8 - Add a new method nsIFrame::IntrinsicBSizeOffsets.  r=jfkthame 
Bug 1174450 part 9 - Remove the nsRenderingContext* param from Intrinsic*SizeOffsets methods since it's unused.  r=jfkthame 
Bug 1174450 part 9b - Make AddIntrinsicSizeOffset take a PhysicalAxis instead of a WritingMode.  r=jfkthame 
Bug 1174450 part 9c - Rename local var 'orthogonal' to 'verticalAxis' and simplify getting the GetComputedBorderWidth sides.  r=jfkthame 
Bug 1174450 part 10 - Use the right IntrinsicISizeOffsetData for the given writing-mode (this is what fixes the error reported in this bug).  r=jfkthame 
Bug 1174450 part 10b - Rename IntrinsicForWM to IntrinsicForAxis and make it take a PhysicalAxis instead of a WritingMode.  r=jfkthame 
Bug 1170688 - Move initialization of text-run parameters until *after* the draw target has been updated; r=jfkthame
Bug 1170688 part 2 - Add test for text alpha on synthetic bold; r=jfkthame 
Bug 1173958: convert FixedTableLayoutStrategy to logical coordinates, r=jfkthame 
Bug 1173958: whitespace and bracing changes to make FixedTableLayoutStrategy conform to local style, r=jfkthame 
Tests for bug 1173958. r=jfkthame 
Bug 1178059: fix a pair of failing reftests from bug 1173958 by forcing a div to align like a td, r=jfkthame 
Bug 1180178: Add writing-mode and logical coordinates to frame dumps, r=jfkthame 
Bug 1181890 - Center children of ruby content frame if necessary after the bidi reposition. r=jfkthame 
Bug 1182962 (part 1) - Use nsTHashtable::Iterator in gfxUserFontSet. r=jfkthame. 
Bug 1182962 (part 2) - Use nsTHashtable::Iterator in gfxFont. r=jfkthame. 
Bug 1183209 patch 1: add new script codes from Unicode 8 to harfbuzz, r=jfkthame 
Bug 1183209 patch 2: update data generation tools to Unicode 8, r=jfkthame 
Bug 1183209 patch 3: update generated data files to Unicode 8, and adapt internal XIDMOD types to the new types in Unicode's xidmodifications.txt, r=jfkthame 
Bug 1189156 (part 3) - Factor out FontTable better. r=jfkthame. 
Bug 1189156 (part 4) - Don't use enumeration style for nsBaseHashtable::SizeOf{In,Ex}cludingThis(). r=erahm,jfkthame.
Bug 1190590 - Fix MinGW cross-compile for --enable-bundled-fonts. r=jfkthame 
Bug 1189156 (part 5) - Add FontEntryTable typedef and factor out some related code. r=jfkthame. 
Bug 729993 - Use finer HarfBuzz cluster level. r=jfkthame 
Bug 1186721 - Suppress line break due to soft hyphen inside ruby. r=jfkthame 
Bug 1174546 part 1 - Introduce nsLayoutUtils::MinSizeContributionForAxis which calculates an intrinsic size contribution from aFrame's 'min-width' property (or 'min-height' if the given axis is vertical) and the corresponding border, padding and margin values.  r=jfkthame 
Bug 1174546 part 2 - [css-grid] Implement the 'auto' min-sizing function in Grid layout.  r=jfkthame 
Bug 1174546 part 1 - Introduce nsLayoutUtils::MinSizeContributionForAxis which calculates an intrinsic size contribution from aFrame's 'min-width' property (or 'min-height' if the given axis is vertical) and the corresponding border, padding and margin values.  r=jfkthame 
Bug 1174546 part 2 - [css-grid] Implement the 'auto' min-sizing function in Grid layout.  r=jfkthame 
Bug 1170072 - Part 1. Make GetCharProps1 as static function. r=jfkthame 
Bug 1170072 - Part 2. Use ICU instead of GetCharProps1 and its supporting data if ICU is turned on. r=jfkthame 
Bug 1201403 - streamline MacOSFontEntry::HasFontTable implementation. r=jfkthame 
Bug 1164279 - Disable font-variant-east-asian: ruby for <rt> on Windows. r=jfkthame 
Bug 953408 - switch to unprefixed hyphens property in tests. r=jfkthame 
Bug 1027579 - Do not load fonts from the cache if LOAD_BYPASS_CACHE is set. r=jfkthame r=bz 
Bug 1197717 - Load fonts from profile-agnostic writable location. r=jfkthame
bug 366559 - patch 1, update brotli snapshot r=jfkthame 
Bug 1207088 - Don't show the "Choose folder..." button for a directory picking <input> on platforms that don't have a directory picker. r=jfkthame 
Bug 319030: remove fossil support for RACE encoding and multilingual test bed from IDN code, r=jfkthame 
Bug 1207157 patch 1 - Add reftest.  r=jfkthame 
Bug 1207157 patch 2 - Stop caring about a replaced element's margin-inline-end when determining whether it fits next to floats.  r=jfkthame
Bug 1207157 patch 3 - Don't bother passing around the inline-end margin of replaced elements we consider clearing past floats, since we don't need it any more.  r=jfkthame 
bug 1207298 - update brotli library r=jfkthame 
bug 1207298 - update brotli library r=jfkthame 
Bug 1201468: Map UErrorCode to nsresult, r=jfkthame 
Bug 1193050 - Update OTS to latest upstream version. r=jfkthame 
Bug 1193050 - Update OTS to latest upstream version. r=jfkthame 
Bug 543715 p1 - distinguish between italic and oblique. r=jfkthame 
Bug 543715 p2 - italic/oblique reftests. r=jfkthame 
Bug 543715 p1 - distinguish between italic and oblique. r=jfkthame 
Bug 543715 p2 - italic/oblique reftests. r=jfkthame 
Bug 1207088 - Don't show the "Choose folder..." button for a directory picking <input> on platforms that don't have a directory picker. r=jfkthame 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 1: build system changes, r=ted; code changes, r=jfkthame 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 2: changes to existing tests, r=jfkthame. 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 3: test for transitional processing and CONTEXTJ, r=jfkthame. 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 1: build system changes, r=ted; code changes, r=jfkthame 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 2: changes to existing tests, r=jfkthame. 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 3: test for transitional processing and CONTEXTJ, r=jfkthame. 
Bug 1216096: restore previous RTL caret behaviour by backout of bug 1164963, bug 1177505, and bug 1180417. r=jfkthame 
Bug 1223653 patch 1 - Fix incorrect function being called, caught by enum class type checking in next patch.  r=jfkthame
Bug 1213280 - fix OSX font selection under 10.11. r=jfkthame 
Bug 1227001 part 1 - Remove SetupBreakSinksFlags from BuildTextRunsScanner. r=jfkthame 
Bug 1227001 part 2 - Remove no longer used mExistingTextRun from BreakSink. r=jfkthame 
Bug 1227001 part 3 - Remove no longer used mChangedBreaks from BreakSink. r=jfkthame 
Bug 1217833 - Fix container width in exception for line frames in nsBidiPresUtils::ReorderFrames.  r=jfkthame 
Bug 1226796 - Remove redundant preprocessor flags in nsContainerFrame.cpp. r=jfkthame 
Bug 1157727 - Part 1: Add paired bracket type property to our character data (patch originally by :tedders1, updated by :jfkthame). r=jfkthame 
Bug 1157727 - Part 2: Update bidi algorithm for bracket matching (patch originally by :tedders1, updated by :jfkthame). r=jfkthame
Bug 1227917 - Update |disp| after we've (potentially) cloned the Display struct so that subsequent tests of 'display' use the new value.  r=jfkthame 
Bug 1157727 - Part 1: Add paired bracket type property to our character data (patch originally by :tedders1, updated by :jfkthame). r=jfkthame 
Bug 1157727 - Part 2: Update bidi algorithm for bracket matching (patch originally by :tedders1, updated by :jfkthame). r=jfkthame
Bug 1040668 part 3 - Add helper function gfxTextRun::GetAdvanceForGlyph. r=jfkthame 
Bug 1040668 part 4 - Add helper function for ensuring a glyph is a complex glyph. r=jfkthame 
Bug 1040668 part 5 - Avoid unnecessary allocation inside EnsureComplexGlyph helper function. r=jfkthame
Bug 1040668 part 6 - Add some specifier on gfxTextRun and gfxShapedWord so that compilers are able to reason out certain optimizations. r=jfkthame 
Bug 1040668 part 7 - Add NO_EMPHASIS_MARK flag in CompressedGlyph. r=jfkthame 
Bug 1040668 part 8 - Setup text emphasis for text run. r=jfkthame 
Bug 1040668 part 10 - Implement emphasis mark rendering. r=jfkthame 
Bug 1218179: move from transitional to non-transitional IDNA2008 processing, r=jfkthame 
Bug 1225018 part 2 - Ensure leading for emphasis marks of text directly inside block. r=jfkthame 
Bug 1224013 part 3 - Render text-emphasis outside ruby. r=jfkthame 
Bug 1224013 part 4 - Add reftests for text-emphasis with ruby. r=jfkthame 
Bug 1224013 part 2 - Render text-emphasis outside ruby. r=jfkthame 
Bug 1224013 part 3 - Add reftests for text-emphasis with ruby. r=jfkthame 
Bug 1229739 - Use the color of shadow if available for drawing emphasis marks in shadow. r=jfkthame 
Bug 1230413 (part 2) - Change CallbackData::mContext to a DrawTarget. r=jfkthame.
Bug 1230413 (part 3) - Remove unused gfxContext argument from SetSpaceGlyphIfSimple(). r=jfkthame. 
Test for bug 1162813, r=jfkthame 
Bug 1162813: filter paragraph separators before passing text to SetPara, r=jfkthame 
Bug 1225018 part 2 - Move GetFontMetricsOfEmphasisMarks to nsLayoutUtils. r=jfkthame 
Bug 1225018 part 3 - Use font metrics of emphasis marks to compute required leading. r=jfkthame 
Bug 1225018 part 4 - Ensure leading for emphasis marks of text directly inside block. r=jfkthame 
Bug 1231256 (part 4) - Remove dead SetContext() declaration. r=jfkthame. 
Bug 1232576 (part 1) - Move the reference |cairo_t*| from gfxContext to DrawTarget (as user data). r=jfkthame. 
Bug 1232576 (part 2) - Rename gfxContext::GetCairo() as GetRefCairo() and make it static. r=jfkthame.
