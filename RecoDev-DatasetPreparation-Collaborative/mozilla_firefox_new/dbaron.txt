cs.cmu.edu

Bug 374866. Reftests for text-transform. r=dbaron 
Don't create duplicate pipes for objects with external debuginfo. 
Add tests for bug 348516.  Test 1 by <arno.@no-log.org>, r=dbaron.  Tests 2 and 3 by me. 
Convert system library version tests from AC_TRY_RUN to AC_TRY_COMPILE so that they work when cross-compiling.  b=372878  r=bsmedberg 
Add counter tests that I wrote for bug 3247, converted to reftest format by Rob Campbell <rcampbell@mozilla.com>. 
Handle file not existing more gracefully. 
Fix misuse of terminology and improve comment. 
Mark 2 more tests as random due to font spacing issues. 
Update counters test results based on Windows results and better understanding of Mac failures. 
Bug 375093, Crash [@ nsTypedSelection::ScrollIntoView] when right-clicking paste in input which then gets destroyed oninput, r+sr=dbaron 
Slightly safer and neater fix for strict aliasing bug 351231 r+sr=dbaron 
Avoid the need for a getKey callback in jsdhash/pldhash.  b=374906  r=brendan 
Add reftests for text-indent. 
Add <span>s so that we don't have different text frame separation between test and reference. 
Fix two counter references that were copies of the tests. 
Work around lack of content:none. 
Correctly annotate randomness (really dependency on fonts available on system) due to bug 372629. 
Fix unclosed style element. 
More spans needed to separate text frames the same way they're separated in the test. 
Add tests for parsing, storage, and serialization of inherit and -moz-initial values. 
Fix for bug 375075 (Stop leaking the cycle collector on shutdown). r=bsmedberg, sr=dbaron. 
Consolidate duplicated code into the beginning of the double-hashing loop.  b=374906  r=brendan 
Remove unused getKey callback from PLDHashTableOps/JSDHashTableOps.  b=374906  r=bsmedberg 
Remove GetKey callbacks from nsDoubleHashtable users.  b=374906  r=bsmedberg 
Remove GetKeyPointer method from nsTHashtable key types.  b=374906  r=bsmedberg 
Update reftest random markings now that bug 372629 is fixed. 
Fix handling of initial and -moz-inherit for -moz-broken-image-icon, quotes, and -moz-box-ordinal-group.  b=375363  r+sr=bzbarsky 
Restore commented-out code now that bug 375824 is fixed.  b=374680 
Fix missing newline at end of file (causing gcc warnings). 
Make non-blockframe kids of xul not have to end up with a zero height.  Bug374038, r+sr=dbaron 
Fix deadlock in trace-malloc by exiting monitor around call to dladdr.  b=363334  r=brendan 
Add some debugging code to tmreader and temporarily turn it on to debug tinderbox orange. 
Try increasing startup buffer size to see if it fixes tinderbox orange. 
Make previous change print to stderr. 
Back out startup buffer size change (but leave diagnostic). 
The tinderbox problem was due to insufficient STARTUP_TMBUFSIZE, so re-increase the buffer size to 64K (from 16K) and comment out my debugging code. 
Replace printf that fires all the time with an assertion for what I really want to check. 
Make text node separation in reference match that in test.  (Implementation dependent, yuck.) 
Add a test for subpixel positioned text, since we just made all the other tests not test that. 
Make text node separation in reference match that in test.  (Implementation dependent, yuck.) 
Bug 368860. Don't perform out-of-bounds access if we have a bogus empty previous-text-frame. r+sr=dbaron 
Mark test as passing since it doesn't have the right kerning pairs to trigger failure. 
Make sure to update view positions if we move our block around verticallyduring reflow.  Bug 365294, r+sr=dbaron 
Fix regression that caused the SVG properties not to be listed.  b=375388 
Fix for bug 372713 (Add cycle collection to RDF datasources). r=bsmedberg, sr=dbaron. 
Colin just fixed bug 369293. 
Bug 370439 (sort of). GetAbsPosClipRect needs to take the new frame size as a parameter, because the current frame size may be invalid when we are called by FinishAndStoreOverflow. r+sr=dbaron 
Remove failure attributed to bug that was just my confusion. 
Annotate known failure for which bug has been filed. 
Annotate known reftest failure for which bug has been filed. 
Bug 368836 - improve support for initial in SVG. r+sr=dbaron 
fix dbaron's typo 
Bug 376891 - <center><marquee direction=up/down></center> has different result in IE, r=dbaron, sr=bzbarsky 
Bug 377017 - Javascript - crash on accessing a css rule after deleteRule() [@ nsCSSSelector::ToStringInternal], r+sr=dbaron 
Fix crash caused by bad array iteration.  b=372713  r=peterv 
Bug 377110: Strip unnecessary rules from Camino-only forms.css. r=josh sr=dbaron 
Add missing calls to PR_UnloadLibrary (excluding XPCOM component loader and nsPluginsDir*).  b=374332  r=bsmedberg 
Convert background-position to use nsCSSValuePair rather than acting like a shorthand property.  b=258080  r+sr=bzbarsky 
Add work in progress for tests of CSS property parsing and data computation. 
Test for inherit and initial on shorthand properties as well.  b=258080 
Add tests for invalid values in the property database, and add cases fixed in bug 258080. 
Change the way we determine the style context parent frame to skip css anonboxes unless we're determining the style context parent for something that isitself a css anon box (and is not a non-element frame).  Fixes bug 323656(which is where the patch is), bug 85872, bug 280610.  As far as I can tell,also fixes bug 317876, bug 372376, bug 374297.  r+sr=dbaron 
Recalc quotes and counters before reflow.  Bug 377216, r+sr=dbaron 
Improve detection of blocks with first-letter style.  Bug 372550, r+sr=dbaron 
The parent style context frame determination for an inner table should use theinner table's pseudo, not the outer table's.  Bug 377603, r+sr=dbaron 
Reverting previous change but leaving it commented out, per bug 374332 comment 7. 
Add todo_is and todo_isnot functions.  b=377721  r=sayrer 
Finish up adding initial and other values sections to property database, and test for their presence. 
Add tests that exercise nsCSSDeclaration::ToString. 
Work in progress on a test for value storage and serialization. 
Work towards getting test_value_storage running. 
Fix values for -moz-float-edge. 
Fix values for -moz-box-sizing too. 
Add code to know which failures to expect in test_value_storage.html (whether to call todo_is or is), and turn on the test. 
Better express that failures in one of the system font cases depend on what the system fonts actually are. 
Add comment explaining some of the test. 
Fix for bug 373693 (Cycle collector makes AddRef about 6x slower). r=graydon, sr=dbaron. 
Fix regression of background-position serialization.  b=258080  r+sr=bzbarsky 
Add tests for computed values. 
Fix setting of prereqs so it doesn't interfere with testing initial values properly. 
Fix for bug 377606 (Switch cycle collector to more efficient hashtables). Patch by graydon, r=peterv, sr=dbaron. 
Don't use the same pseudo-element name to mean two different things.  Bug377824, r+sr=dbaron 
A bunch of one-liners to fix bugs found by CSS mochitests.  b=377731  r+sr=bzbarsky 
Test copy constructors of nsStyleStruct. 
Bug 368863. Reparent floats properly when placeholders move between inline continuations. r+sr=dbaron 
Move the Background struct to its new rightful place.  Bug 378245, r+sr=dbaron 
Give captions the right style context parent when dynamically restyling.  Bug378240, r=bernd, sr=dbaron 
Round instead of truncating when converting a percentage color into aninteger.  Bug 340613, r+sr=dbaron 
min-width/height should not affect computed max-width or max-height.  Both ofthem should affect computed width and height, though.  Bug 371042, r+sr=dbaron 
Followup fixes to making cycle collector use more efficient hashtables:  shrink size of table and fix warnings on 64-bit machines.  b=377606  sr=peterv  r=graydon 
Bug 375449 - NS_InvokeByIndex not exported from xpcom, only from xpcom_core, r=dbaron 
Bug 370952: Fix the reflow functions in nsPresShell (covers ResizeReflow and StyleChangeReflow). r+sr=dbaron 
relanding of bug 370952: fix the reflow functions in nsPresShell. r+sr=dbaron 
Fix for bug 376854 (CycleCollector depends on uninitialized values (ageSelectionCallback and nsPurpleBuffer::BumpGeneration)). r/sr=dbaron. 
Add dbus headers.  b=378303  r=bsmedberg 
Record results of cycle collection traversal so we only have to call the traversal APIs once per collection.  b=378514  sr=peterv  r=graydon 
Add test for computed style on elements with frames as well. 
Remove the root from mDirtyRoots if we resize-reflow it, so that we don't getassertions about frame state not matching with whether the frame is inmDirtyRoots.  Bug 374167, r+sr=dbaron 
Bug 378818 - Disable nsIAlertsService on Mac for alpha4.  Patch by Colin Barrett <cbarrett@mozilla.com>, r=dbaron 
Followup for bug 370952 to fix an obvious bug. r+sr=dbaron. 
Use the NS_ARRAY_LENGTH macro rather in place of other macros that existed before it.  b=378697  r+sr=roc 
Fix warnings in nsNativeThemeGTK.cpp.  b=378698  r+sr=roc 
Implement "content: none".  Bug 378535, r+sr=dbaron 
bug 378618. r=dbaron. Clean up some XPCOM leaks. 
bug 375291 - update layout/generic/punct_marks.ccmap to unicode 5.0p=arno. <arno.@no-log.org>r=smontagu, sr=dbaron 
Reduce #include dependencies on style system headers:  reduce what nsRuleData.h pulls in.  b=379089  r+sr=bzbarsky 
Create a rendering context before calling GetPrefSize and friends and assert in those methods that we have one. b=379090 r+sr=dbaron 
Fix bug 379229, r+sr=dbaron 
<input type="button" disabled> not rendered as disabled native widget. sync with forms.css. patch by Stuart Morgan. b=376577 r=josh sr=dbaron 
remove duplicate line of a CSS rule from forms.css. r/sr=dbaron 
b=368247 (and others, see bug), rewrite border rendering for thebes, r=dbaron 
Fixing parsing of opacity components of rgba() and hsla() that are out of the0 <= x <= 1 range.  Bug 379316, r+sr=dbaron 
Part of bug 377606 (Switch cycle collector to more efficient hashtables - only keep hashtable around while collecting). r=graydon, sr=dbaron. 
Make InitialReflow just post a reflow event instead of doing a synchronousreflow.  Bug 378975, r=dbaron and Eli Friedman, sr=dbaron 
Bug 372703. Position child views whenever we place an abs-pos child; even if the child hasn't moved, this frame itself might have, so view offsets might have changed. r=eli,sr=dbaron 
Fix assert to not fire when it shouldn't. Bug 379405, r+sr=dbaron 
Remove nsINativeScrollbar and nsNativeScrollbarFrame. patch by Colin Barrett. b=379319 r=enn sr=dbaron 
Remove some files as part of bug 379319. r=enn sr=dbaron 
Fix assert to be more correct.  Bug 379383, r+sr=dbaron 
Propagate a stylesheet's principal to the URI and Image CSSValues derived fromthat sheet.  Bug 377091, r+sr=dbaron 
When we have a url() value that doesn't give us an imgIRequest (e.g. couldn'tcreate nsIURI, URI load blocked by security manager, etc), make sure to stillpick up the fallback value for cursor.  Bug 379440, r+sr=dbaron 
Remove extra class names to address Neil's comments.  b=378514 
Add support for -moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill for width, min-width, and max-width.  b=311415  r+sr=bzbarsky 
Fix bad string comparison preventing 'none' and 'initial' values of 'counter-increment' and 'counter-reset' from being parsed correctly.  b=379555  r+sr=dbaron  Patch by Daniel Holbert <dholbert@mozilla.com>. 
Make computed style handle "normal" for line-height by computing an actualnumeric height.  Bug 371041, r+sr=dbaron 
Make computed style handle eStyleUnit_Chars.  Bug 371043, r+sr=dbaron 
Bail out of ReconstructDocElementHierarchy early if there is no root frame(which shouldn't even happen!).  Bug 377850, r=mats, sr=dbaron 
Simplify code.  Bug 367442 followup, jag's idea, r+sr=dbaron 
Don't cut off the right-hand side of empty comboboxes.  Bug  364510, r+sr=dbaron 
Override just the border width, not all the border properties.  Bug 377584, r+sr=dbaron 
Don't apply user stylesheets to native anonymous content.  Bug 286895, r+sr=dbaron 
Fixing bug 369827. Reflow of foreignObject with percentage width/height doesn't work. r=tor@acm.org, sr=dbaron@mozilla.com (this also fixes bug 379615, so changing the reftest manifest to expect the foreignObject tests to pass) 
Address bzbarsky's final review comments (comment 14) on bug 311415: consider ch units fixed as well. 
Remove special handling of empty continuations, which should no longer be needed.  b=238473  Based on patch by Hideo Saito <saito@densan.co.jp>.  r=dbaron  sr=roc 
Fix the description of the serialize+parse tests. 
Remove obsolete files. b=379679 r+sr=dbaron 
Incremental reflow bug with direction:rtl and bidi-override. b=375716 r=uriber sr=dbaron 
Change the FrameNeedsReflow API to pass the dirty flags to be added directly tothe method, instead of setting them before calling the method.  That way we canavoid reflowing the ancestor of a reflow root which is not itself dirty but hasdirty children.  This also makes it harder to set dirty bits inconsistentlywith the FrameNeedsReflow call.  Bug 378784, r+sr=dbaron, pending rbs' reviewon the mathml parts. 
Better check for first-letter.  Bug 379799, r+sr=dbaron 
Rename some functiosn as suggested by dbaron.  Bug 379799 followup. 
add error checking. b=375219, r=dbaron 
Fix a cursor:-moz-initial assertion and include it in the mochitests. b=379951 r+sr=dbaron 
Fix an assertion when setting a 'quotes' property value. b=379906 r+sr=dbaron 
Fix a cursor:-moz-initial assertion and include it in the mochitests. b=379951 r+sr=dbaron 
Fixing bug 379823. Allow conditional skipping of reftests (reporting them as failures). r+sr=dbaron@mozilla.com 
b=379474, borders render incorrectly when using moz-border-radius (also 379446, hr noshade renders incorrectly); r=dbaron 
Twiddle parentheses a little bit.  Bug 311415 followup, r+sr=dbaron 
Don't put null coords in nsStyleCoords when they have the same meaning as some other coord type.  b=379741  r+sr=bzbarsky 
Remove eCSSUnit_Proportional and eStyleUnit_Proportional, which were used only for a removed feature.  b=333352  r+sr=bzbarsky 
Add eStyleUnit_None so we don't have to use eStyleUnit_Null as a real value for max-width and max-height.  b=379741  r+sr=bzbarsky 
Remove now-unneeded checks for eStyleUnit_Null.  b=379741  r+sr=bzbarsky 
Remove known failure fixed by patches in bug 379741. 
Handle -moz-initial for 'font' shorthand (and fix bugs in some of its subproperties).  b=377521  r+sr=bzbarsky 
Account for non-pixel-aligned current transforms when snapping to pixel coordinates.  b=369882  r=vlad 
Fix vertical resizing for quirks mode percentage heights.  b=380004  Patch by Daniel Holbert <dholbert@mozilla.com>.  r+sr=dbaron 
Change round-trip testing for specified sub-properties of a shorthand to setthem all before looking at computed style, since, for example, the specifiedfont-family affects the computed line-height if the specified line-height is"normal".  Bug 379809, r=dbaron 
Make sure FrameNeedsReflow() is not called during reflow, and remove thewasDirty asserts and O(N^2) check for existing reflow root in the list.  Bug379904, r=roc, sr=dbaron 
Bug 279246 Implement 'ime-mode' property (WinIE CSS) r+sr=dbaron 
Followup tweak for bug 379809, r=dbaron 
Fix regression bug 380842: allow block-display generated content on table cellsand captions again.  r+sr=dbaron 
Bug 319934 - Prevent shutdown crashes by having XMLHttpRequest objects hold the layout module alive, r+sr=dbaron 
Make rule nodes know their level in the cascade.  b=374907  r+sr=bzbarsky 
Rewrite the pref for forbidding pages from setting colors and backgrounds so that it changes transparency less often and interferes less with user and user-agent styles.  b=58048, 255829, 255411  r+sr=bzbarsky 
Revert part of bug 377521 to fix bug 380825 (and add comment).  r+sr=bzbarsky 
Fix some debugging code.  b=380825  r+sr=bzbarsky 
Add test for always-use-my-colors preference.  b=58048 
Decode the older base64-obscured entries as well.  b=380961  r=dolske 
Add bug numbers._dont_use_document_colors.html 
Remove unused variable/parameter in view code.  b=371392  r+sr=roc 
Block outline-color for always use my colors pref.  b=380924  r+sr=bzbarsky 
Don't propagate line layout in reflow state when we're not in the line.  b=320502  r+sr=roc 
Call SetGeometryDirty if we need to call DistributeHeightToRows, since DistributeHeightToRows can't deal with rows that have already had height distributed to them.  Patch by Daniel Holbert <dholbert@mozilla.com>.  b=380227  r+sr=dbaron 
b=379436, borders on elements > 2^15px drawn backwards, r=dbaron 
b=379419, bogus assertion in border code with NS_STYLE_BORDER_RULES_MARKER, r+sr=dbaron 
b=380561, missing borders when dashed and dotted border-style is used, r=dbaron 
Bug 381130. Small changes to layout to fix an inline reflow bug and add a new API to nsLineLayout to support tab stops. r+sr=dbaron 
Bug 377347 - Disable the obsolete string API (from the Mozilla 1.4 SDK), r=darin sr=dbaron 
Attempt to fix unit-test orange: the two tests differ only by the width of a scrollbar, so attempt to make the ref the same height as the test, r=dbaron 
remove camino-specific CSS from forms.css. b=381539 r=cbarrett sr=dbaron 
Bug 381621: Get rid of nsBoxFrame::AddRef/Release, plus a few misc cleanups. r+sr=dbaron. 
Back out incorrect change from yesterday:  if we don't have room for the test, it isn't valid, so it should fail. 
Add bug number for test Benjamin marked as random yesterday. 
Bug 381645: Remove nsBoxFrame::GetContentOf. r+sr=dbaron. 
Bug 237770: Mozilla fails to ignore 'float' property even though 'position: absolute' is set. r=dbaron, sr=bzbarsky. 
Bug 381501 - Small screen resolutions mess up reftests, and backout by randomizer from the other day, r=dbaron 
Hook into glib's logging function so we can get stacks for glib assertions/warnings.  b=381133  r=bsmedberg 
Disable antialiasing of borders again, for Linux only, to avoid the performance penalty of pushing/popping groups.  b=380473  r=vlad 
Fewer reftests are random now that bug 324698 is fixed, mostly fixing bug 371316. 
Fix includes and add glib version check. 
Safer version check. 
Oops. 
No max-width means "none", not null unit.  Bug 381284, r+sr=dbaron 
Fix bug 380516, bug 375342, bug 374293.  Patch in bug 380516.  r=jwatt, sr=dbaron 
Fix for bug 368774 (Make cycle collector work with refcounted non-XPCOM objects). r=dbaron, sr=sicking. 
Fix for bug 377884 (Switch nsXPConnect::Traverse to use tracing). r=jst/igor, sr=dbaron. 
Bug 337492 - Fix destructor race condition in proxy events, initial patch by Alex Fritze, with additional comments by me, r=me+dbaron 
Some of the mac image scaling failures only show up on some machines, so mark as random. 
Mark two of the Mac OS X form controls (bug 175279) regressions as failures rather than random, since they haven't been observed to pass, and add bug numbers (which should have been added when fails-if/random-if were added). 
Add a few reftests for native theme drawing. 
Bug 343430. Reduce the area we scroll on Windows to reduce flicker by excluding areas that shouldn't be moving. On Linux, since we can't control the area we scroll, just disable accelerated scrolling in that case and repaint everything. r+sr=dbaron 
Check LL_GOTLINEBOX before using mLineBox. b=382396 r+sr=dbaron 
Bug 174397. Support getClientRects and getBoundingClientRect on DOM elements. r=jonas,dbaron; sr=tor, plus help from Anne van Kesteren and Martijn Wargers 
Bug 379666, Remove incorrect PR_UnloadLibrary call, r=dbaron 
Bug 383030 - Negative values for -moz-border-radius/-moz-outline-radius should be ignored, r+sr=dbaron 
bug 382744 - Correct backwards assertion check in XPCNativeScriptableInfo.  Patch by Manish Singh <manish@flock.com>, r=dbaron, sr=shaver 
Treat a property value with trailing non-whitespace the same as a parse error. b=383075 r+sr=dbaron 
Make DEBUG_CC compile again.  b=383234  r+sr=peter 
Make nsTraceRefcnt print addresses along with serial numbers, and fix warning about casting to a function pointer.  b=383234  r=peterv 
When explaining why expected garbage was not collected, list the known references when some were unknown.  b=383234  r+sr=peterv 
Print info about things that are suspected on the extra collections at shutdown to catch deficiencies in traversal that cause us to need the extra collections.  b=383234  r+sr=peterv 
strdup when allocating mName so we have useful pointers.  b=383234  r+sr=peterv 
Shutdown in one cycle when we set mScanDelay to 0.  b=383234  r+sr=peterv 
Don't loop through all the possible shutdown collections when we suspect all native wrappers.  b=383234  r+sr=peterv 
Bug 356325. Don't let WipeContainingBlock wipe out anonymous popops. Popups, decks and groupboxes are not really inline. r+sr=dbaron 
Move object reftest list into its own reftest.list. rs=dbaron 
Fix for bug 383651 (Re-entrancy into nsCycleCollector::Collect can result in a crash). Patch by ak.miller@auckland.ac.nz, r=graydon, sr=dbaron. 
Correct earlier bustage fix so it actually works.  b=381133 
Add checkLoadURI calls to reftest harness.  b=371075  r=bzbarsky 
Implement correct intrinsic width calculation (for container) for elements with specified height properties and an intrinsic ratio.  b=364066  r+sr=bzbarsky 
Rewrite handling of CSS system fonts to fix bugs in cascading and serialization.  b=377947  r+sr=bzbarsky 
Enable native theme drawing for listbox selects. b=329846  Patch by Vassil Stefanov <v.stefanov@jacobs-university.de>.  r+sr=roc 
Bye bye Xprint. b=326716 r+sr=dbaron 
Change cycle collector aging constant from 10 to 0.  b=381199  r+sr=peterv 
Back out bug 381199. 
285140, r+sr=dbaron 
Bug 380116, r+sr=dbaron 
to an already-dirty reflow root.  Bug 383992, r+sr=dbaron 
Bug 177150 - Some mozilla-config.h defines require additional cflags for embedders. Patch by <mook.moz+mozbz@gmail.com>. r=benjamin, sr=dbaron. 
bug 328547 support mozilla/layout on WinXP x64 build.  r=cbiesinger/sr=dbaron 
Bug 375921, configure should throw error when APNG not found, Patch by Andrew Smith, r=dbaron, r=benjamin 
Handle the vertical resizing in the first pass reflow correctly when we've previously done a special height reflow.  b=381507  r=dholbert  sr=roc 
Reftest for bug 381507.  Patch by Daniel Holbert <dholbert@mozilla.com>.  r=dbaron 
Make marquee work again when direction is rtl, by working around changes to range of offsetLeft.  b=336736  Patch by Daniel Holbert <dholbert@mozilla.com>.  r=martijn  sr=dbaron 
Back out patch to make mousethrough attribute apply to all elements.  b=380094  a=roc 
Mark test as random for now. 
Mac-only, probably. 
Remove the license text for xregion, because the code has been removed from the tree. b=384666 r=dbaron r=gerv 
r=dbaron 
Add code to automatically uncompress .gz and .bz2 files that are given as arguments. 
Switch from readelf to objdump for reading contents of sections, since readelf switched its output format. 
Bug 368869, suspect all native wrappers for cycle collection.  Relanding.  Patch by graydon@mozilla.com.  r=brendan, sr=jst 
Make text-indent contribute to intrinsic widths, and handle negative text-indent and negative margin properly by distinguishing forced and optional breaks when accumulating minimum widths.  b=368155  r+sr=roc 
Add reftest for bug 368155 from Ryan VanderMeulen <ryanvm@gmail.com>.  r+sr=dbaron 
Change cycle collector aging constant from 10 to 0.  b=381199  r+sr=peterv 
See if using mScanDelay of 1 instead of 0 fixes the leak regression. 
Back out again. 
Back out again. 
Bug 385420: codesighs buffer is too small for some breakpad functions. r=dbaron 
Remove unused argument 'aAttribute' in nsCSSFrameConstructor::StyleChangeReflow. Bug 382244, r+sr=dbaron 
Only do special height reflows for percentage-height children of table cells when there is a specified height on the table, row group, row, or cell in the row.  b=370525  Patch by Daniel Holbert <dholbert@mozilla.com>.  r+sr=dbaron 
Remove a few Windows newlines that snuck in recently. 
Print the warning message for failure to suspect or unlink only for the objects that are the roots of what would have been collected.  b=385549  r=graydon 
Bug 385936: Remove nsLayoutUtils::CreateOffscreenContext. r+sr=dbaron 
Back out bug 385686 to diagnose Tp/Tp2 regression bug 385957. 
Back out bug 384836 to diagnose Tp/Tp2 regression bug 385957. 
Temporarily change assertion to warning so we can make assertions fatal on tinderbox.  b=340242  r=peterv  sr=brendan 
Bug 383551. Clean up IsInlineFrame, nsStyleDisplay::IsBlockLevel and related methods. r+sr=dbaron 
Don't set the purple bit when suspect calls are dropped on the floor.  b=385548  r=graydon 
Move NOTIFY_OBSERVERS to the end of nsBindingManager::ContentRemoved (and avoid early returns so we get to it).  b=382376  Patch by Daniel Holbert <dholbert@mozilla.com>.  r=bzbarsky  sr=sicking 
Back out 385548 to try to fix test orange. 
Bug 385686, No Focus indicator for radios/checkboxes/textboxes on Linux, Patch by Michael Ventnor, r+sr=roc 
Bug 385686, No Focus indicator for radios/checkboxes/textboxes on Linux, Patch by Michael Ventnor, r+sr=roc 
Keep the purple bit in sync with the purple buffer when suspect and forget calls are dropped on the floor.  b=385548  r=graydon 
Fix gcc warning about casting string literal to char*, DEBUG-only. 
Change cycle collector aging constant from 10 to 0.  b=381199  r+sr=peterv 
Bug 386009. Fix a leak in nsEditor and delete some code we don't need anymore. r+sr=dbaron 
fix drag and drop for multiple items, fix a data corruption bug, fix dragging images out of gecko. b=385116 r=shebs sr=dbaron a=mconnor 
Make static data const in nsBidiUtils.cpp. Bug 74803. r=dbaron, sr=alecf. 
Fix build on gcc 3.4 by removing extra semicolons (bug 218551).  r/sr=dbaron, a=brendan. 
landing dbaron's patch for bug 235735 "fix callers that cast away const on result of ns[C]String::get" r+sr=darin 
Fix crash on unicode "zero width non-joiner" sequence. b=217903 r+sr=dbaron 
Add nsCycleCollector_shouldBeFreed calls for elements.  b=385549  r+sr=jst 
Add another shouldBeFreed debugging call to catch outer windows better for cycle collector debugging.  b=385549  r+sr=jst 
Make wrapped native debug dump log the native that is wrapped.  b=385549  r+sr=jst 
Suspect all native wrappers during cycle collection (last part, rest already done by Graydon).  b=368869  r=graydon  sr=jst 
Make nsIWidget::GetToolkit not AddRef, and thus fix leaks at callers who assumed it didn't.  b=386297  r+sr=roc 
Fix leak of nsJSRuntime due to unbalanced calls of HoldScriptObject (with null argument).  b=386294  r+sr=jst 
Bug 386009. Fix a leak in nsEditor and delete some code we don't need anymore. r+sr=dbaron 
Bug 375493: Adding an element with counter-increment does not update subsequent elements with counter. r+sr=dbaron. 
Bug 180380. nsXPCComponents object and its wrapper leaked at shutdown. Patch by David Baron, David Bradley, and Robert Sayre. r=jst/bzbarsky, sr=dbaron 
Bug 372768: {inc}Setting nowrap attribute dynamically does not change layout like it should. r=bzbarsky,sr=dbaron. 
Bug 253851: wait for background image loads before firing onload (match behavior of IE/Safari/Opera), r+sr=dbaron 
there.  Bug 310165, r=sicking, sr=dbaron 
Make nsGTKRemoteService properly implement its AddRef and Release methods so it doesn't leak on shutdown.  b=336920  r=bsmedberg 
Make suspectCurrent assertion not fire constantly after we Fault.  b=386664  r+sr=peterv 
Put comment in the right place.  b=180380 
Cleanup implementations of QueryInterface. b=385750 r+sr=dbaron r+sr=jst 
Fix bustage on x86_64 Linux.  b=279703  r=enndeakin 
Implement -moz-border-start and -moz-border-end.  Patch by Simon Montagu <smontagu@smontagu.org> and me.  b=74880  r/sr=smontagu/dbaron 
Remove unused copy constructors.  b=386809  r+sr=bzbarsky 
Turn warning on constructing frames in the middle of reflow back into an assertion, now that the dependent bugs are fixed.  b=336756 
In ExplainLiveExpectedGarbage, print only the externally-referenced nodes from which the expected garbage is reachable.  b=387005  r=graydon 
Make Fault give more information, #ifdef DEBUG_CC.  b=386947  r=graydon 
Make XUL prototype elements set mNumChildren to 0 when they stop owning their children in ReleaseSubtree.  b=386947  r+sr=sicking 
Initialize mPendingInstantiateEvent to null.  b=386889  r+sr=biesi 
Remove trailing semicolons after method decls to avoid breaking forthcoming versions of gcc; r+sr=dbaron; no bug. 
text over to the left) regressed.  r+sr=dbaron 
Fix bogus trace names.  b=387223  r=brendan 
Make ExplainLiveExpectedGarbage traverse the suspectCurrent roots, since now that it's more accurate, more graph is always better.  b=387005  r=graydon 
Fix leaks by removing preference observers.  b=386665  r=tony@ponderer.org 
Reverse the list of which HTML attributes have case-sensitive values for the CSS attribute selector (i.e., list the ones whose values are case-insensitive instead, so new attributes are case sensitive by default).  b=357614  Patch by Niels Leenheer (rakaz) <niels.leenheer@gmail.com>.  r+sr=dbaron 
Add assertions that line iterators being compared are iterators over the same line list.  rs=dbaron 
Make test_inherit_computation test the Compute*Data functions for eStyleUnit_Inherit. 
Don't check for namespaced attributes when checking which attributes have case-insensitive values.  b=387615  r+sr=bzbarsky 
Add tests for bugs 357614 and 387615. 
Reftests for bug 311822.  Patch by <arno.@no-log.org>.  r=dbaron 
Try fixing Windows test failure; consistent computed values for line-height: normal require constant font metrics. 
when a selector uses both the state and the attribute.  Bug 315920, r=dbaron,
Make ScrollContentIntoView consider continuations so that tabbing to a multi-line link makes the whole thing visible.  b=66619  r=sharparrow1@yahoo.com  sr=roc@ocallahan.org 
Add test that the nsRuleNode::Compute*Data functions don't touch aStartStruct when they shouldn't. 
Back out bug 66619 until I get review on bug 388019. 
Explain another possibility in this debugging printf.  DEBUG_CC only. 
Make ScrollContentIntoView consider continuations so that tabbing to a multi-line link makes the whole thing visible.  b=66619  r=sharparrow1@yahoo.com  sr=roc@ocallahan.org 
Remove extra whitespace at end of one line in test templates.  rs=sayrer over IRC 
Don't drop empty rectangles on the floor.  b=388019  r=sharparrow1@yahoo.com  sr=roc@ocallahan.org 
Add tests for bugs 66619 and 388019. 
Move the code needed to get language group-specific font enumeration working and remove the rest of nsFontConfigUtils.  b=379888  r=vlad 
style context parent.  Bug 380012, r+sr=dbaron 
Bug 376489 - Serve reftests from a web server so as not to depend on external resources, if the reftest is marked as needing HTTP; also picks up support for HTTP header and status modification in reftest files.  r=dbaron 
through LoadBindingDocumentInfo).  Bug 204140, r=dbaron for the CSS changes,
Bug 385354. When appending the first child of an element with :before content, we need to make sure we append after the :before frames for the element. r+sr=dbaron 
Bug 338070. Rev nsISidebar UUID. r+sr=dbaron 
Bug 381703. First-letter frames that are wrapping non-first-letter-content should behave like spans and not compute their size. r+sr=dbaron 
Bug 346405. Handle reparenting of empty float lists. r+sr=dbaron 
Add more useful assertion for debugging cycle collector faults.  b=386912  r+sr=peterv 
Show diagnostics for todo tests.  b=388690  r=sayrer 
Bug 364680. Intrinsic widths for columns. r+sr=dbaron 
bug 336959 - line breaking with pango/uniscribe - add pango/pango-break.h to system-headers.  r+sr=dbaron 
Bug 384762: Negative margin + clear broken. r+sr=dbaron 
Bug 379922: Canvas frame's invalidation no longer correct. r+sr=dbaron 
Rename one of the bits on frames with a meaningful name, rs/r+sr=dbaron 
Bug 316908 - Add SVG to nsComputedDOMStyle.  r+sr=dbaron 
Remove nsDirectionalFrame::QueryInterface(), add GetFrameName(), and some other minor cleanup. b=385921 r+sr=dbaron 
Make aRuleDetail parameters to Compute*Data not be references.  b=388546  r+sr=bzbarsky 
Make CheckFontProperties consider font-size:larger and font-size:smaller as well.  b=388548  r+sr=bzbarsky 
Implement remaining properties in computed style (with some hacks for counter() values for content), and fix some page-break-* bugs exposed by the added test coverage.  b=316981  r+sr=bzbarsky 
Remove unused gNoComputedValue variable. 
Add hooks to get correct computed value for logical box properties. 
Don't test properties whose values overlap with others. 
Clean up empty gNoComputedStyle lists. 
Fixing bug 381285. ASSERTION: can't mark frame dirty during reflow. r=dbaron@mozilla.com 
Bug 386147: Don't cut off floats at the bottom of the page, part 2: make sure continuations have the right preferred width. r+sr=dbaron. 
r=darin, sr=dbaron 
Add assertion.  Bug 382199, r+sr=dbaron 
instead of cloning the selector.  Bug 386123, r+sr=dbaron 
Bug 385270. Remove unnecessary (hopefully) bidi offset adjustment; the offsets will get fixed by a later reflow. r+sr=dbaron 
Avoid potential recursion into Compute*Data on the same rule node (for an inherited struct), which can cause a leak.  Add bolder and lighter font-weight to CheckFontProperties.  Fix incorrect propagation of generic fonts in ComputeFontData.  b=383979  r+sr=bzbarsky 
Fix header wrapping for lcms, bug 16769 to fix x86_64 Linux and SELinux bustage.  Review pending. 
Implement -moz-initial for almost all remaining properties.  b=80887  r+sr=bzbarsky 
Fix enumerated values of font-size to depend on the right preference.  b=389464  r+sr=bzbarsky 
Mark tests passing that were fixed by bug 389464. 
Make SetGenericFont not use aStartStruct-based computation since it's fundamentally incompatible with it.  b=216456  r+sr=bzbarsky 
Remove additional unused code from system font redesign, and add one comment.  b=377947  r+sr=bzbarsky 
Style portion r+sr=dbaron, rest r=longsonr, sr=roc. 
Bug 275196, xml:id, r=sicking, sr=dbaron 
Bug 389663: CSS test crashes Firefox. r+sr=dbaron/bz 
update the resize flags properly.  Bug 388084, r+sr+a=dbaron 
Remove bogus assert.  Bug 350128, r+sr=roc, a=dbaron 
384649, r+sr=dbaron 
Bug 368972 - Default width/height for plugin placeholders should be 240px/200px, r=cbiesinger, sr=dbaron, a=dbaron 
Bug 114171: Leak nsNativeDragTarget. r+sr=biesi,a19=dbaron 
Bug 389459: lines appear when scrolling page while image loading at >144 dpi. r=vlad, a19=dbaron 
Fix EOF handling after an !important.  Bug 390318, r+sr+a=dbaron 
Don't set up counters for the anon cols set up by a <col span="n">.  Bug 385866, r+sr+a=dbaron 
Make ContentInserted for captions more like ContentAppended and normal frame construction.  Bug 386014, r=bernd, sr=roc, a=dbaron 
Make sure to reflow the caption if it gets inserted into our table before another caption.  Bug 389924, r=bernd, sr+a=dbaron 
Remove bogus assertion.  Bug 314307, r+sr=roc, a=dbaron 
Don't optimize away necessary reflows.  Bug 388374, r+sr+a=dbaron 
Account for the padding on our anonymous div when sizing.  Bug 388086, r+sr+a=dbaron 
Give bullet frames the right style context parent.  Bug 387219, r+sr+a=dbaron 
Bug 390671 - Finish adding same-linelist iterator comparison assertions, and remove the useless NS_LINELIST_DEBUG_PASS_END #define that's defined only #ifdef DEBUG.  rs+a=dbaron 
Bug 386801 - nsAbsoluteContainingBlock doesn't need to store a child list name; this shaves four bytes off nsViewportFrame, nsBlockFrame, and nsPositionedInlineFrame.  r+sr+a=dbaron 
Make debug code not assert when it shouldn't.  Bug 388712, r+sr=jst, a=dbaron 
Prefer distributing the width of a column-spanning cell to columns without specified widths, and make a specified width on a column-spanning cell not cause the column to be considered to have a specified width.  b=379361  Patch by Daniel Holbert <dholbert@mozilla.com>.  r+sr=dbaron 
Fix leak of xptiInterfaceInfo in DebugDump.  b=389765  r+sr=jst  a=DEBUG-only 
Relanding patch for bug 387884 that I accidentally reverted while relanding bug 66619 (a=DEBUG-only):  Patch by jwatt@jwatt.org: Fixing bug 387884. Use of assignment instead of comparison in assertion. r+sr=roc@ocallahan.org 
Bug 390161: Make ScreenPixelToMillimeterX/Y return result in CSS pixels. r=jwatt, sr=roc, a19=dbaron 
Bug 389659: Scrollbar dragging broken when using fullZoom != 1.0.  r+sr=roc, a19=dbaron 
b=387132, speed up reftest running, r=roc,r=dbaron 
Bug 387422 - text clip paths don't work. r=tor,sr=roc,a=dbaron 
Bug 388995, remove popups from open chain after the popuphiding event, r+sr=bz, a=dbaron 
Bug 389573, context menus opening in wrong place, affects email address menu, r+sr=bz,a=dbaron 
Bug 374635 - [Midas] Visited links are black, not purple.  Patch by Mathieu Fenniak <mfenniak-moz@mathieu.fenniak.net>, r=neil, sr=peterv, a=dbaron 
bug 348901. Remove extra whitespace from source when exposing accessible text. r+sr=roc, r=surkov. a=dbaron 
Bug 390673. JAWS speaking ARIA alerts twice. r=simon.bates, a=dbaron 
Bug 390285. Remove ARIA value support where it doesn't make sense. r=simon.bates, a=dbaron 
Fix leak of JSScript when a JSFunction is collected in a later GC than its function object.  This changes GCX_PRIVATE to GCX_FUNCTION, and is essentially the same as the finalization part of the changes from bug 375808 (by igor).  b=389757  r=igor  a1.9=brendan 
Remove a value for a property not listed in nsCSSPropList.h.  b=258079  r+sr=bzbarsky  a1.9=roc 
only break if the height is really constrained, bug 380550 r/sr=dbaron a=1.9+ 
Bug 389694, r+sr=jst, a=dbaron 
Bug 390282: xul labels should be cropped with unicode ellipsis (\u2026) instead of three dots, Patch by DÃ£o Gottwald, r+sr=bz, a1.9=dbaron 
Bug 389718 - Hide xptcall shared stubs, x86 and a matching x86-64 change, r=dbaron a=bz 
Use NS_IMPL_ISUPPPORTS macros where possible. b=387211 r=neil sr=dbaron a19=pavlov 
Bug 390740: Pass lang-group into GetMetricsFor more consistently (general patch). r+sr=roc, a=dbaron 
Bug 387445: Remove thread safety from atoms. r+sr=dbaron, a=bzbarsky 
Bug 390740 - Pass lang-group into GetMetricsFor more consistently (general patch). r+sr=roc, a=dbaron 
Bug 389720: zooming frameset is poor. r+sr=roc, a=dbaron 
Bug 389619 - Duplicate frames for content in nested fixed-position divs, when on second page in print-preview, patch by dholbert, r+sr=roc, a=dbaron 
Better handling of appending captions.  Bug 387544, r=bernd, sr=roc, a=dbaron. 
Bug 383553 - Crash on quit in nsTimerImpl::Release, r=dbaron sr=brendan 
Bug 388049. Update mCurrentFramesAllSameTextRun along the same-content path as well as the normal path. r=smontagu,a=dbaron 
Bug 390420, select dropdowns appearing in the wrong place in some cases, r+bz,a=dbaron 
Bug 390610, clicking on scale doesn't work when a minimum value is used, r+sr=roc,a=dbaron 
Fix for bug 387380 (No visible caret when caret browsing). r=smaug, sr=jst, a=dbaron. 
Simplify handling of {ib} splits.  Bug 390425, r+sr=roc, a=dbaron 
Don't add a dirty bit that shouldn't be needed.  Bug 387209, r+sr=roc, a=dbaron 
Fix leak of widgets on gmail.  b=390088  r+sr=jst  a=roc 
Improve performance when trace-malloc is built but not used by adding a fast-path around the locking.  b=150015  r=brendan  a=bzbarsky 
Add nsPresContext and nsEventStateManager to cycle collection.  b=385376  r=Olli.Pettay  sr=jst  a=jst 
Fix bustage on VC8.  b=391141  r=brendan  a=DEBUG-only 
Export a stack walking API (usable from C or C++) from XPCOM.  b=374689  r=bsmedberg  a=bzbarsky 
Split the address->symbol mapping from the rest of the stack walking code.  b=374829  r=bsmedberg  a=bzbarsky 
Finish the deflated string cache after uninterning atoms, so we don't leak their associated strings.  b=391587  r+a=brendan 
Export a stack walking API (usable from C or C++) from XPCOM.  b=374689  r=bsmedberg  a=bzbarsky 
Use thread-local storage for tracing suppression.  b=376874  r+a=brendan 
Start reducing the scope of locking in trace-malloc, and convert the PRMonitor to a PRLock.  b=376874  r+a=brendan 
Convert trace-malloc to using XPCOM stack walking API.  b=374829  r+a=brendan 
Define the __libc_* on Windows to something that does automatic suppression, like on Linux.  b=391477  r+a=brendan 
Hook new[] and delete[] too, since (with VC8 anyway) we're picking up new[] through new, but not picking up delete[].  b=391491  r+a=brendan 
Add suppression code around calls to original allocation functions to handle things like new[] calling new.  b=391491  r+a=brendan 
Stop using strncpy unnecessarily.  b=391766  r+a=brendan 
Lock around NS_TraceMallocDumpAllocations.  b=391766  r+a=brendan 
Make void signatures match header.  b=391766  r+a=brendan 
Fix leak in DEBUG-only code.  b=391769  r+sr+a=jst 
adapt assert to code reality, bug 364512 r/sr/a=dbaron 
Don't count frees of things whose allocations weren't counted because they were before we overrode malloc, etc.  b=391950  r+a=brendan 
Add --setenv option for setting environment variables for browser only when running mochitests.  b=391965  r=sayrer 
Bug 374689 Fix build issues r+a=dbaron 
Clean up removed makefiles from allmakefiles.sh.  b=391768  r+a=bsmedberg 
Remove nsTraceRefcnt::LoadLibrarySymbols, which is no longer needed due to the error handling in SymGetModuleInfoEspecial.  b=391793  r+a=bsmedberg 
Merge nsStackFrameWin and nsStackFrameUnix into nsStackWalk.  b=391793  r+a=bsmedberg 
Bug 390249 - "symbolstore.py has trouble launching dump_syms from a relative path". r=luser, a=dbaron. 
Redragging over empty text field doesn't show drag caret, except for the last text field. bug 390228, r+sr=roc a=dbaron 
102477 - Turning on download manager. r=law sr=ben a=dbaron 
102477 - turn on Download Manager (take 3). r=law sr=ben a=dbaron die=cvs 
Add script to fix Mac OS X stack traces.  b=336517 
Correct stack trace addresses to call instruction rather than return instruction.  Read SO stabs entries. 
Don't ignore exported symbols. 
Use vmaddr for __TEXT section, not first section, so that we get correct results for the binary. 
Trim extra underscores. 
Include file name and line number in Windows stack traces.  b=391850  r+a=bsmedberg 
Port trace-malloc to Mac OS X.  b=392118  r+a=brendan 
When a file has already been selected, correctly prefill the filepicker with that file.  Bug 374013, r+sr=sicking, a=dbaron 
Bug 391992. nsMathMLOperator statics leak. r=bzbarsky, sr=rbs, a=dbaron 
Fix a few more issues with eSyleUnit_Chars in computed style.  Bug 391221, r+sr+a=dbaron 
Bug 322689 - ASSERTION: Wrapping frame should be block-level: aLastRS->frame->GetStyl, r+sr=bzbarsky, a=dbaron 
Bug 391763 Tree column splitters are difficult to use r=elif sr=roc a=dbaron 
Bug 390589, capture not being released in some cases when popup is closed, fixes some focus issues, r+sr=bz,a=dbaron 
Bug 389112, pressing tab or escape doesn't deactivate menubar, r+sr=neil,a=dbaron 
Bug 385270. Clean up textframe offset invariants: try #2 --- mContentLength no longer exists/is no longer trusted. r=smontagu,a=dbaron 
Bug 385270. Clean up textframe offset invariants: try #2 --- mContentLength no longer exists/is no longer trusted. r=smontagu,a=dbaron 
Stop Camino using event taps/monitors (which it doesn't need and may cause trouble). b=389683 r=stuart.morgan sr=mikepinkerton a=dbaron 
Bug 386917, choose application in feeds page not working, add popup state retrieving api, r=mano,sr=bz,a=dbaron 
Enable Linux stack walking code on Mac OS X.  b=336517  r+a=bsmedberg 
Ignore 'ordinal' attribute for out-of-flow and popup frames. r=enndeakin sr=bzbarsky a=dbaron 
Bug 374069 - Crash [@ nsContentUtils::ComparePoints] with testcase, when right-clicking, r=mscott, a=dbaron 
Don't stomp on observers when we're not expecting it b=391614 r+sr=bz a=dbaron 
Fix computed style for relative offsets when they're specified in |ch| units. Bug 391034, r+sr+a=dbaron 
Bug 390423 - Simplify the signature of nsIFrame::GetPointFromOffset, patch by Ben Karel <web+moz@eschew.org>, r=aaronlev/elif, sr=roc, a1.9=dbaron 
Initial underscore for symbols is not only public symbols, and we can remove it for C++ too if we pass the right option to c++filt. 
Bug 389392 - Mingw build error, mozlcms.lib: No such file or directory, r=dbaron, sr=benjamin, a=bzbarsky 
Bug 390399: Add some general (non-property-specific) parsing tests. r+sr+a=dbaron 
Bug 390740: Pass lang-group into GetMetricsFor more consistently, SVG part. r=tor, sr=roc, a=dbaron 
Bug 370353: Dynamically setting "visibility: collapse" to a <col> no longer works. Patch by Daniel Holbert <dholbert@mozilla.com>. r=bernd sr=dbaron a1.9=dbaron 
Bug 370353 followup: Check in white space changes. Patch by Daniel Holbert <dholbert@mozilla.com>. r=bernd sr=dbaron a1.9=dbaron. 
Bug 380783 - nsStringAPI.h: no equivalent of IsVoid (tell if string is null), patch by Mook <mook.moz+mozbz@gmail.com>, r=bsmedberg/dbaron, sr=dbaron, a1.9=bz 
Debugging code and cleanup from fixing Windows stack traces to work on VC8-compiled builds in addition to VC7.1-compiled builds.  b=391848  r=bsmedberg  a=bzbarsky 
Allow builds compiled with VC8 to function with older versions of dbghelp.dll.  b=391848  r+a=bsmedberg 
Fix the way we build frameworks so it doesn't break dependencies of the form -ltracemalloc.  b=392118  r=bsmedberg  a=bzbarsky 
Force linking with the C++ compiler rather than the C compiler (since we're using SIMPLECPPSRCS rather than CPPSRCS).  b=392118  r=bsmedberg  a=bzbarsky 
Attempt to fix trace-malloc bustage in libxul builds by removing LIBXUL_LIBRARY=1 (fixing tinderbox bustage for newly-enabled test). 
Revert previous checkin. 
Attempt to make trace-malloc build correctly with libxul (as a part of it). 
Link readers against libxul when trace-malloc is part of libxul (fixing tinderbox bustage). 
Fix more bustage with libxul + trace-malloc. 
Back out the half of bug 391937 that breaks things. 
Bug 385250 - "IsVoid and IsTerminated may return something other than PR_TRUE and PR_FALSE". r=dbaron, sr=jag, a=bz. 
Bug 387511: CSs scanner causes parse error for URLs starting with a codepoint > 255. r+sr=bzbarsky, a=dbaron 
Bug 383883: {inc} issues with block moving through non-moving float. r+sr+a=dbaron 
Bug 391412: Regression in float layout causing clear to be ignored. r+sr=roc, a=dbaron 
Add a missing return. b=392782 r+sr+a1.9=dbaron 
Let only top level documents call this code, bug 391043, r=jst, sr=bzbarsky, a=dbaron 
Fix leak when two documents race to load the same script (but leave for later fixing that we load the same script twice).  b=392542  r=enndeakin  sr=bzbarsky  a=roc 
Bug 392840: Get rid of nsCSSScanner::Unread. r+sr=bzbarsky, r+a=dbaron 
Bug 392397 Fix grids containing listboxes r=Enn sr=bz a=dbaron 
Bug 373911, r=bz, sr=dbaron, a=1.9+ 
Make sure to process style updates before reflow, and both before painting. Bug 375436, r+sr=roc, a=dbaron 
Make auto-height abs-pos textfields with top and bottom offsets both set use their intrinsic height, per spec.  Bug 385870, r+sr+a=dbaron 
Make maxlength not affect initial values or scripted sets.  Bug 345267, r+sr=mats, a=dbaron 
When selectedIndex is set, make sure to display the corresponding text in the display area.  Bug 330554, r+sr=mats, a=dbaron 
Null out browser's focusedWindow field as well (to prevent leaks).  b=283063  r=mconnor 
Null out a few more things.  b=131456  r=mconnor 
Fix spelling mistake in comment that I introduced recently. 
Don't allow javascript: favicons.  b=290036  r=dveditz  sr=brendan  a=chase 
Cleaner fix for bug 290036.  b=290949  r=dveditz  sr=darin  a=asa 
Remove setTimeout so that we don't call focus on a window that's no longer active once the timeout runs.  b=330006  r=gavin 
Bug 393080: Make count and offset in nsCSSScanner unsigned. r+sr=bzbarsky, a=dbaron 
Make ExplainLiveExpectedGarbage print *all* references to JS objects with refcount imbalances.  b=387224  r=graydon  a=brendan 
When doing ExplainLiveExpectedGarbage, suspect all nsXPCWrappedJS so that we get more objects in the graph.  b=387224  r=graydon  a=brendan 
Print path to expected garbage along with refcount imbalances.  b=387224  r=graydon  a=brendan 
Fix bustage. 
Turn an assertion into a warning so we don't have to change behaviour in debug builds to avoid getting too many assertions b=326033 r=smaug sr=bz bl=dbaron 
Bug 392314, alt key should close menu, add some key closing menus tests, r+sr=bz,a=dbaron 
Bug 392512, panel doesn't open when opened from a menu, r+sr=bz,a=dbaron 
Bug 393286: Make nsCSSScanner::Read regularize newlines. r+sr=bzbarsky, a=dbaron 
Bug 385891: Removal of non-Cairo code from nsFrame.cpp and nsObjectFrame.cpp, p=alfredkayser, r/sr/a=dbaron 
Bug 393459 Can't use <splitter resizeafter="grow"> without a next subling r=Enn sr=bz a=dbaron 
Make line-height specified in ch units work.  Bug 391909, r+sr+a+dbaron 
Bug 393499: Clean up character lookup in nsCSSScanner. r=bzbarsky, sr+a=dbaron 
Bug 377575 - Table resize information tooltip location is misplaced, patch by Mathieu Fenniak <mfenniak-moz@mathieu.fenniak.net>, r=glazou, sr=jst, a1.9=dbaron 
Set the property on the right frame.  Bug 393649, r+sr=dbaron, a=roc 
Fix crash bug 393517.  r+sr=roc, a=dbaron 
Bug 392160, improve popup positioning to not use widget calculations, r=sharparrow, sr=bz, a=dbaron 
Bug 389224: Clipped objects are sometimes not fully redrawn after clipping. r+sr=roc, a=dbaron 
Do stack walking on a single thread to avoid deadlocks during thread creation.  b=391321  r=robarnold@mozilla.com  sr=jmathies@mozilla.com (delegated by bsmedberg)  a1.9=bzbarsky@mit.edu 
Back out a small part of bug 391848 to fix bustage for some people (and add a comment warning about the problem). 
s/NS_INTERFACE_MAP_END_THREADSAFE/NS_INTERFACE_MAP_END/. Should've been done for bug 201040. rs=biesi, a=dbaron 
Fix accounting showing leak of CSS value types, and optimize CSS value constructors/destructors a bit.  b=382027  r+sr=bzbarsky  a1.9=roc 
Attempt to fix test failures from bug 382027. 
Bug 92543 - BandRect.mFrames should be created as an nsAutoVoidArray p=alfredkayser@nl.ibm.com (Alfred Kayser) r+sr=roc@ocallahan.org (Robert O'Callahan) a=dbaron@mozilla.com (David Baron) 
Bug 392493 - "Add forget() method to nsCOMPtr and nsRefPtr". r=dbaron, a=bzbarsky. 
Detect placeholders when building the array of frames for bidi resolution and add the real frames to the array. Bug 384527, r+sr=roc, b=dbaron 
Flush out layout when doing sync updates.  Bug 393723, r+sr=roc, a=dbaron 
Bug 92543 - BandRect.mFrames should be created as an nsAutoVoidArray, patch by Alfred Kayser, r+sr=roc, a=dbaron 
Add real test for the nsCSSValue regression caught on Monday only by an unexpected pass.  b=382027 
Add shutdown code for the macBrowserOverlay so that we remove gSanitizeListener as a pref observer.  b=342600  r=mano 
Make double-clicking in the URL bar again place the selected text in the X selection.  Patch by DÃ£o Gottwald <dao@design-noir.de>  b=393828  r=mano 
Bug 394222: Optimize calls to Bidi resolution. r=dbaron, sr+a=roc 
Bug 391621. Remove unnecessary trimmed-space counting. r=smontagu,a=dbaron 
Bug 389583. Floats fit if their bottom edge is equal to the available space bottom edge. r=eli,sr=mats,a=dbaron 
Followup to fix the test for the rightmost column b=306990 r=Enn sr=roc a=dbaron 
Bug 393566, add cycle collection to XULPopupListener, r+sr=peterv, a=dbaron 
Bug 389996, menubar menus flicker when switching between them, r+sr=bz, a=dbaron 
Bug 393144 consistently use NS_THEME_NONE r=bz, r=bz, r=dbaron, sr=bz, a=dbaron 
Bug 393923. Fix text-offset calculation for first-letter. r=smontagu,a=dbaron 
Bug 392435. Make ClearTextRun work no matter which frame of a continuation chain we call it on. r=smontagu,a=dbaron 
Remove incorrect use of NS_METHOD.  b=394566  r+sr=peterv  a=bzbarsky 
Add shouldBeFreed calls for nsJSContext.  b=394566  r+sr=peterv  a=bzbarsky 
Fix leak of mPendingHTTPRequest in nsSSLThread::rememberPendingHTTPRequest by converting it to an nsCOMPtr.  b=394528  r=kengert  sr=bzbarsky  a=bsmedberg 
Bug 394832. Remove overeager rounding that causes underlines to appear too close to the text. r=smontagu,a=dbaron 
Bug 139843. Back out width adjustment patch that breaks other things and may no longer be needed. r+sr+a=dbaron 
Bug 385607. Ensure that whitespace is collapsed across text-run boundaries across incremental updates like adding/removing frames in the middle of the textrun. r+sr+a=dbaron 
Bug 396412, crash setting left/top attributes on a popup that hasn't been opened, r+sr=bz,a=dbaron 
Bug 389056 Don't break line between periods and quote/Bug 388096 add line-breaking opportunity after U+058A ARMENIAN HYPHEN, U+2010 HYPHEN, U+2012 FIGURE DASH and U+2013 EN DASH. And U+2014 EM DASH should be breakable before and after except that between the same characters/Bug 389595 Don't break around '(' and ')'/Bug 390920 Don't break around &nbsp; r+sr=roc, b1.9=dbaron 
Update bidi mirroring table to Unicode corrigendum 6. Bug 392581, r=jshin, blocking1.9=dbaron 
Bug 376948 - Useless margin-top rules in quirk.css for form?, r+sr+a=dbaron 
Bug 392761. getClientRects/getBoundingClientRect *do* take scrolling into account, including viewport scrolling. r+sr=dbaron 
Bug 96041. Compute true glyph bounding metrics. r=vlad,dbaron,sr=dbaron 
Bug 96041. Compute precise glyph extents for high-quality text, and when requested. r=vlad,r+sr=dbaron 
Bug 387876 - Columns in absolutely positioned div break when changed, r=roc sr=roc blocking1.9=dbaron 
Bug 368445. Make ApplyOverflowClipping compute the right padding-rect when native themes override the border. r+sr+a=dbaron 
Reduce code duplication among platforms, support hooking and unhooking (392009, r=dbaron). 
Bug 381074 - Add overflow check for unit conversion in NSFloatPixelsToAppUnits. r=bz sr=roc blocking1.9=dbaron 
Suppress tracing around calls into original allocators, in case they recur back into our hooks.  Fixes most of leak *stats* regression from bug 392009.  r+a1.9=brendan 
Remove comment about exceptions that no longer exist thanks to bug 386640. 
Address brendan's review comments on bug 391141.  r=brendan  a=not part of release builds 
Always delete the old content array so that we run destructors.  b=397022  r+sr=bzbarsky  a=roc 
Fix leak of nsCSSValueList.  b=397149  r+sr=bzbarsky  a=roc 
Remove freetype2 code, which was used only by the old gfx code.  b=389697  r+a1.9=vlad 
Remove default preferences associated with freetype2 code, which was used only by the old gfx code, and with other previously-removed X11 font code.  b=389697  r+a1.9=vlad 
Fix race saving/restoring malloc hooks by going back to overriding malloc, etc., plus some additional cleanup.  b=392009  r+a1.9=brendan 
Backing out bug 394508 due to tinderbox orange (test failure of places unit tests). 
Fix spelling mistakes to force unit test boxes to cycle. 
Back out sicking's patch from bug 348156 (remove unbinds from nsDocument::Destroy) due to crashing during talos test (probably tp test). 
Fix spelling mistakes to force the Windows unit test box to cycle. 
Destroy the old rule tree *after* processing the change list, in case the change list has frame reconstructs in it.  Patch from Eli Friedman <sharparrow1@yahoo.com>.  r+sr+a1.9=dbaron  b=389744 
Bug 397597. Enable native platform linebreaking for Tibetan and Lao. r=masayuki,a=dbaron 
Make sure to be in an update when we do frame construction.  Bug 393326, r+sr+a=dbaron 
Bug 392829. Clean up nsLineLayout code that's not used (or at least used differently). r+sr+a=dbaron 
Add asserts to catch dangerous cases.  Bug 398108, r+sr+a=dbaron 
Bug 392977 - Freeze nsIHashable for 1.9, r=dbaron 
Delete gVolumeList on shutdown.  b=397305  r+sr+a1.9=bzbarsky 
Fix bidi reftests so they pass for me:  use font size in px rather than pt so they're not dpi-dependent (primarily for 000), and rewrite 006 so it doesn't hard-code the width of characters.  b=398337  r=smontagu 
Allow reftest harness to load files without any image comparison.  b=397725  r=jwalden 
Bug 392493 - "Add forget() method to nsCOMPtr and nsRefPtr". r=dbaron. 
Make sure we always resolve style contexts with the right parent.  Bug 390689, r+sr+a=dbaron 
Bug 389685 - "Empty style attribute generates strange css warning" [p=elif (sharparrow1) r+sr+a1.9=dbaron] 
Bug 393757 - Don't report CSS style errors for identifiers designated as vendor-specific by the CSS spec.  This means we won't report errors for things like _width or for any of the -khtml-, -webkit-, -o-, -ms-, etc. properties, cutting down on error console spam a touch.  r+sr+a=dbaron 
Remove nsFontList/nsIFontList.  b=397813  r+sr+a1.9=pavlov 
Fix leak of window group created by gtk_window_group_new by reference counting window groups.  b=398940  r+sr+a1.9=roc 
Bug 381735 - "reenable antialiased border drawing on Linux" [p=dao r+sr=dbaron r=vlad a=blocking1.9+] 
Bug 273459 - "most gopher-*.gif images are unused" [p=dao r+sr+a1.9=dbaron] 
Allow MapRuleInfoInto to map data for multiple structs at the same time.  b=240117  r+sr=bzbarsky  a=roc 
Make IsWidgetStyled use style system to really check whether author styled borders or backgrounds, rather than depending on default values in forms.css.  b=240117  r+sr=bzbarsky  a=roc 
Bug 394844 - "nsCSSParser.cpp: aSkipWS parameter of ExpectEndProperty and GetURLToken can be removed as it is always PR_TRUE" [p=alfredkayser@nl.ibm.com (Alfred Kayser) r+sr+a1.9=dbaron] 
Bug 60513 - alert(), prompt(), confirm() box text has static text (text not selectable), r=gavin.sharp, ui-r=beltzner, a=dbaron 
Fix bug 398326.  Make sure to let the frame constructor know before constructing frames.  r+sr+a=dbaron. 
Make sure to not propagate special height reflows too far.  Bug 391901, r+sr+a=dbaron 
Elimninate the last known source of bogus "wrong parent style context" warnings, and make these warnings into assertions.  Bug 374297, r+sr+a=dbaron 
Bug 396983, flush frames before opening a popup, r+sr=bz, a=dbaron 
Bug 387109, context menu not placed properly for lists when opened with the keyboard, r=smaug,sr=neil,a=dbaron 
Bug 397783 Remove lots of redundant nsISupportsArray include/forward definitions from content. r/sr=jst,a=dbaron 
Add tests for bug 240117. 
Clean up prbool misuse in layout. bug 398312, r+sr+a=dbaron 
Don't leak strings from <keygen>.  Bug 398665, r=kaie, sr=jst, a=dbaron 
Bug 389583. Move an assert so it doesn't fire bogusly. r=eli,sr=mats,a=dbaron 
Bug 391868 - "Page Source very small with meta charset=windows-1258" [p=chris@pearce.org.nz (Chris Pearce) r+sr=dbaron a=blocking1.9+] 
Bug 399753 - "Remove "nsISupportsArray" in the layout directory" [p=xfsunoles@gmail.com (Jonathan Steele) r+sr+a1.9=dbaron] 
Bug 399289 - leak of nsBaseURLParser with svg paint. r=dbaron, sr=roc, a=dbaron 
Make vertical resizing of framesets work in standards mode.  Bug 376981, r+sr=dbaron 
Bug 399289 - leak of nsBaseURLParser with svg paint.  r+sr+a=dbaron 
Discard aPrevFrame if it's the mPopupFrame since it's on a different lists. b=394800 r=enndeakin sr=bzbarsky a=dbaron 
Null-check parent in case the <observes> is the root element. b=386386 r=Olli.Pettay sr=neil a=dbaron 
Bug 393096. Allow an element containing breakable whitespace to introduce a break opportunity no matter what the context. Also cleans up some trimming stuff and adds comprehensive whitespace breaking and trimming reftests. r+sr=dbaron 
Bug 368600 - "Table with table-layout: fixed has unconstrained width even when width specified on cell" [p=bernd_mozilla@gmx.de (Bernd) r+sr+a1.9=dbaron] 
Make the "href" property of stylesheets reflect the original URI that was reflected to load the sheet.  Bug 397427, r=dbaron,biesi, sr=dbaron, a=dsicore 
Bug 374927 reftest. r+sr=dbaron. As indicated in reftest.list, this test currently fails -- it was broken by the checkin for bug 368600, and it'll be fixed by solving bug 400776. 
bug 397103 Rlk/Lk regression in crash reporter. r=dbaron a1.9=drivers 
Mark test as random rather than failing because it fails on only some Linux machines (bug 386713). 
Fix places where XUL was using display:inline to avoid block-wrapping.  b=321402  r=mconnor, r+sr=roc, a=blocking1.9+/M9 
Make boxes that have non-box non-block children wrap all their children in a block.  b=321402  r+sr=roc, a=blocking1.9+/M9 
Mark 321402-3 as random until I figure out how to fix it; add 321402-5 and 321402-6, which I forgot to put in the manifest.  b=321402 
Mark 374038-2 as random while I write the (nontrivial) patch to fix. 
Add bug number for failure. 
Fix incorrectly namespaced spacer elements.  b=321402  r=mconnor  a=blocking1.9+/M9 
Fix test for bug 321402 so it passes on the Mac as well. 
Landing patch for bug 401687. Stop reference counting JS objects in the cycle collector. Patch by peterv@propagandism.org, r+sr=dbaron@mozilla.com,igor@mir2.org, a=dsicore@mozilla.com 
Bug 385823 - Let us call NotifyPercentHeight even when computed height is already set, because it'll be set on imageFrames. r+sr=dbaron, a=beltzner 
Bug 385823 - reftests.  r+sr=dbaron 
Bug 385823 - reftests (files I forgot to include in prev checkin) r+sr=dbaron 
Implement hixie's first-line proposal: only inherit properties that inherit by default from ::first-line.  Inherit the reset properties from its style parent (which is the node that we'd inherit from if the ::first-line were not there). Bug 395623, r+sr=dbaron, a=beltzner 
Don't set our separator count to -1 when we really have 0 of them.  Bug 400157, r+sr=dbaron 
Bug 398144 - Make blocks that are margin-roots never consider themselves empty. [p=roc r+sr=dbaron a=blocking1.9+] 
Bug 402338 - "outline property on inline-block painted too far outside" [p=roc r+sr=dbaron a=blocking1.9+] 
Bug 398101 - Be more diligent about invalidating textruns for lines [p=roc r+sr=dbaron a=blocking1.9+] 
tests should pass on PPC now, get rid of the expected failures. patch by jdaggett. b=382048 r=josh sr=dbaron 
Bug 396369 - "Overload forget method on nsCOMPtr/nsRefPtr to work with out parameters". r=dbaron, sr=bsmedberg, a=damons. 
Bug 326594 - Consider using backtrace() for Unix stack traces: Add safety checks to i386/ppc unwind and use libgcc_s for amd64 and others r=dbaron,bsmedberg a=schrep 
Bug 403514, Crash when closing tab with CTRL+W, r+sr=dbaron,a=schrep 
Make inline-block and table-caption elements not ignore text-decoration.  b=371249  r+sr=roc  a=dsicore 
Format the XUL-on-one-line more legibly.  b=401820  r=mano  a1.9=beltzner 

Format the XUL-on-one-line more legibly.  b=401820  r=mano  a1.9=beltzner Remove the span causing the warning and incorrect alignment.  b=401820  r=mano  a1.9=beltzner 

Remove the span causing the warning and incorrect alignment.  b=401820  r=mano  a1.9=beltzner Add bug number. 
Add bug number. 
Distribute height to rows even if the rows in question are all zero-height (in which case, distribute it equally).  b=403656, 377711  r=dholbert  sr=roc  a=blocking1.9+ 
We can destroy style contexts during ruletree reconstruct.  Bug 403454, r+sr=dbaron 
Bug 368158 - "fix missed renaming in reftest" [p=sylvain.pasche@gmail.com (Sylvain Pasche) r=dbaron a1.9=schrep] 
Ignore whitespace-only children of XUL boxes (like the XUL content sink does in the content tree, when in XUL documents).  b=403505  r+sr=roc  a=blocking1.9+ 
Add testcases to ensure that we don't regress dynamic changes on tables with scrollable rowgroups.  b=386401 
Rename new width keywords to match CSS WG decision.  b=402706  r+sr=bzbarsky  a=blocking1.9+ 
When doing GetMinimumWidgetSize for HTML buttons, use the minimum size (TS_MIN) rather than the preferred size (TS_TRUE).  b=375073  r+sr=roc  a=blocking1.9+ 
Add bug number to comment. 
Don't allow presentational attributes to set colors if the "don't use document colors" pref is set.  Bug 400452, r+sr=dbaron 
Make 'vertical-align' work on 'display: inline-table'.  b=404030  r+sr=bzbarsky  a=blocking1.9+ 
Fixing bug 294086. <svg> should be a replaced element. r+sr=dbaron@mozilla.com blocking1.9=tor@acm.org 
Bug 402950. Allow spans to always be placed on a line, because part of the span may fit even if the whole span doesn't. Also request backup earlier so we always backup if we decline to place a frame. r+sr=dbaron 
bug 384612: Remove script from scrollbar XBL binding. r/sr=dbaron 
Display reftest images on unexpected passes. Bug 403012, r=dbaron, a=schrep 
Bug 320378. Skip reflowing lines in ReflowDirtyLines if we know that we're going to come back here because clearance was detected. r+sr=dbaron 
Bug 395628 - ""ASSERTION: post-reflow queues not empty" with feed in <frame>" [p=mats.palmgren@bredband.net (Mats Palmgren) r=smaug r+sr=dbaron a=blocking1.9+] 
Bug 406137. Fix crashes on redhat.com etc by avoiding RecoverFloats traversing stale float caches. r+sr=dbaron 
Bug 399531. Rework TrimTrailingWhitespace so that we recompute the overflow area for trimmed textframes and so that soft hyphens in otherwise-empty textframes are activated. r+sr=dbaron 
make -moz-mathml-anonymous-block "display: inline-block". b=400207, r=dbaron 
Bug 400244. Remove UndoSplitPlaceholders which is not only unnecessary but actually harmful/crashy. r=fantasai,sr=dbaron 
when splitting rowgroups the space that is left on the page is computed from relative to the bottom, bug 373400 r=sharparrow1 sr=dbaron a=blocking 1.9+ 
Bug 406297. Assertion about stale float caches should not fire when the line is not dirty, because the float cache is not stale in that case. r+sr+a=dbaron 
Don't position bullets on empty list items too high.  Bug 403657, r+sr=dbaron 
Don't do arithmetic with unconstrained widths when reflowing comboboxes.  Bug 363858, r+sr=dbaron 
Bug 392785 overflowed underline sometimes is not repainted at scrolling r+sr=roc, b1.9=dbaron 
Landing part of bug 363858 that somehow got misplaced.  pending r=dbaron 
Bug 406484. Do RecoverStateFrom for not-dirty inline lines containing floats when willReflowAgain is true, because the floats must be moved by deltaY. r+sr=dbaron 
Bug 402567: make scrollframe GetMinWidth return the scrolled frame's min-width. r+sr=dbaron a=blocking1.9 
Bug 401718 - "[UA] Remove Mach-O from UA on PPC" [p=reed r=dbaron r=mento sr=biesi a1.9=damons] 
Bug 383195. Recreate support for repeatable table headers and footers while printing. r=bernd,sr=dbaron 
Bug 406568. Don't reflow abs-pos kids of a block if we're going to reflow it again because of a clearance change. r=sr=dbaron 
Bug 375304. Make nsHTMLScrollFrame handle situations where the child content height depends on our height. patch by Eli Friedman, r+sr=roc,dbaron 
Bug 405577. Allow available width to go negative for inlines/text, so we can tell whether zero-width content fits or not. Also allow textframes to honour a forced break at the end of the text. r+sr=dbaron 
Bug 407015. Dropdown listboxes should not propagate computed height from the scrollframe to its scrolled content. r+sr=dbaron 
Bug 407227. Include end-of-linebreaker-textrun break opportunity in min-width calculation. r+sr=dbaron,a=schrep 
Bug 407227. Include end-of-linebreaker-textrun break opportunity in min-width calculation. r+sr=dbaron,a=schrep 
Bug 407111. Correctly set whether a break opportunity after non-text content fits. r+sr=dbaron,a=schrep 
Bug 407397. Don't 'optimize' by not reflowing when a 0x0 frame is removed. Bad Kipp. r+sr=dbaron 
Bug 407397. Don't 'optimize' by not reflowing when a 0x0 frame is removed. Bad Kipp. r+sr=dbaron 
Bug 405380. Bidi reordering moves frames around so we can't trust pfd->mBounds in nsLineLayout::RelativePositionFrames. r+sr=dbaron 
Bug 363729. Don't allow fixed-pos tables to have abs-pos children. r=dholbert,sr=dbaron 
Fix leak by making currNode an nsCOMPtr (bug 407818).  r+sr=dbaron, a=schrep. 
Bug 404180. Bidi reordering moves frames around so we can't trust pfd->mBounds in nsLineLayout::RelativePositionFrames. r+sr=dbaron 
Bug 403067. mVisibleArea may get stale so use GetWindowDimensions() when we're going to do a SetWindowDimensions() with new dimensions. r+sr=dbaron 
Bug 407009. In the last-ditch reflow of a scrollframe, only show the scrollbars which are not styled 'hidden'. r+sr=dbaron 
Add crashtest for bug 306911 (and include dbaron's additional testcases) 
Fix comment describing nsBlockFrame. 
Remove unused nsHTMLReflowState::mRightEdge.  b=407086  r+sr=roc  a=dsicore 
Remove some code that handles unconstrained widths (and fix nsFirstLetterFrame not to pass them).  b=407086  r+sr=roc  a=dsicore 
Remove unused height output from nsLineLayout::EndSpan.  b=407086  r+sr=roc  a=dsicore 
Bug 408135: Get rid of unnecessary array churning in nsCSSRuleProcessor::GetRuleCascade. r/sr=dbaron 
Use the existing linked list structure while sorting rules instead of using temporary arrays.  b=408295  r+sr=sicking  a=dsicore 
Reftest for bug 396024, r=dbaron 
Changing the alt or value attribute of an image input should change the text shown when the image is broken.   Bug 408782, r+sr=dbaron, a=schrep 
Bug 409293 - Support HTML targets on reftests, e.g. to allow acid2.html#top as the test or the reference.  r=dbaron, a=testonlychange 
Bug 409674 - "No leak logging for DOM windows or documents" [p=wgianopoulos@yahoo.com (Bill Gianopoulos) r+sr=dbaron a1.9=beltzner] 
Bug 334306 useless null check in nsDestroyJSPrincipals r=dbaron sr=dveditz a=mtschrep 
Bug 355548. Clean up MathML's font handling by moving most of it to the style system. Creates nsMathMLElement to put functionality there. Tightens MathML attribute parsing and introduces full support for 'scriptsizemultiplier', 'scriptminsize' and their interactions with CSS font-size. r+sr=dbaron 
Bug 330676 - "leak network mime input stream (nsIMIMEInputStream) object" [p=bernard.alleysson@gmail.com (Bernard Alleysson) r=dbaron a1.9=schrep] 
Bug 355548. Clean up MathML's font handling by moving most of it to the style system. Creates nsMathMLElement to put functionality there. Tightens MathML attribute parsing and introduces full support for 'scriptsizemultiplier', 'scriptminsize' and their interactions with CSS font-size. r+sr=dbaron 
Test-land bug 410927 to get performance numbers, r=dbaron 
[OS/2] Bug 404407: improve memory consumption on OS/2. Part 1, call heapmin after cycle collection, r=dbaron 
Bug 404146. Advancing through nsContainerFrame next-in-flows can make our InlineData->line invalid, so just null it out if it might have become invalid. r+sr=dbaron 
Fix for bug 402966 (JS_Assert "!rt->gcRunning"). r/sr=dbaron. 
bug 410364 - use PR_STATIC_ASSERT in nsStyleSheetService::nsStyleSheetService.  r+sr=dbaron 
use nsAutoTArray for nsCSSDeclaration::mOrder. b=410357, r+sr=dbaron, a=blocking1.9+ 
get rid of nsStyleStruct base type. b=408933, r+sr=dbaron, a=beltzner 
Fix DEBUG_CC bustage from bug 402966.  All changes #ifdef DEBUG_CC (not part of the default build). 
Fix DEBUG_CC bustage treating all XPConnect roots as expected garbage.  b=410116  r+sr=peterv  Not part of default build (DEBUG_CC-only). 
Unset and reset the JS context global objects when doing ExplainLiveExpectedGarbage, just like when doing normal cycle collection.   b=410116  r+sr=peterv  Not part of default build (DEBUG_CC-only). 
Bug 411603. Avoid circular definition and infinite recursion by interpreting 'scriptminsize' in em/ex units as relative to the parent font size. r+sr=dbaron 
Bug 368504:  Create and use DistributeWidthToColumns for colspan-width and table-width distribution.  r+sr=dbaron a=blocking1.9+ 
Add an internal security-check-less method for adding rules to stylesheets to fix bug 386939.  r+sr=dbaron 
Bug 346690 - Add support for the 'none' keyword for the CSS cursor property.  r=dbaron, sr=mats, a=schrep 
Bug 346690 - Add support for the 'none' keyword for the CSS cursor property.  r=dbaron, sr=mats, a=schrep 
Fix bug 405818: need to copy the original sheet URI when cloning.  r+sr=dbaron, a=schrep. 
Bug 413198 - "Make layout.css.report_errors apply to debug build text terminal (stderr)" [p=matt@nightrealms.com (Matthew Cline) r+sr=dbaron a1.9=schrep] 
Add fantasai's tests for bug 234686, which test min/max-width/height on images with height:auto and width:auto. 
Fix width of images where max-width < min-width <= width (min-width should win), and other similar problems.  b=413361  r+sr=bzbarsky  a=schrep 
Mark some tests involving image scaling as failing on Mac. 
Bug 291262 - "styling the CANVAS element doesn't work" (reftest) [p=arenevier@fdn.fr (arno.) r+sr=dbaron] 
Address dbaron's nit for bug 291262's reftest. 
Improve the warning that shows up when pages use -moz-inline-box.  b=413195  r+sr=bzbarsky  a=beltzner 
Make leaf frames follow the CSS2.1 rules on height sizing for abs-pos replaced elements.  Bug 412679, r+sr=dbaron, a=schrep 
Bug 414148: Avoid copy of some nsDependentC?Strings. sr=dbaron, a=mtschrep 
Bug 412901. getComputedStyle should return actual border widths (i.e. including round-to-device-pixels that happens during style resolution and layout). r+sr=dbaron 
Bug 403669 - Dirty the table geometry when we split row groups. r+sr=dbaron, a=blocking1.9+ 
Percentage margins thrown on the floor during bidi reordering. Bug 413542, r+sr=dbaron, blocking1.9=schrep 
Remove unused OrderIdFormater (sic) code.  r=smontagu  b=414142  Not part of the build. 
Relanding bug 412679.  r+sr=dbaron 
Push scrollframes, tables, and other blocks that don't participate in float formatting down when they don't fit next to floats.  b=134706,349255  r+sr=roc  a=blocking1.9+ 
Make this test loop until the XBL is loaded, since it fails for me in a debug build from Sunday evening and in a nightly from December (just as it just started doing on the Linux unit test tinderbox).  a=jesse 
Backing out bug 336231 due to mochitest failure. 
Tweak my previous fix per comment from Jesse. 
Fix for bug 407034 (JS_Assert "!rt->gcRunning" unbinding link elements in cycle collector with JS protocol handlers), r/sr=dbaron. 
Bug 363183. Fix getComputedStyle left/top/width/height for tables. r+sr=dbaron 
Bug 412237. Don't parse negative fontsize attributes in MathML elements. r+sr=dbaron 
Fix for bug 407034 (JS_Assert "!rt->gcRunning" unbinding link elements in cycle collector with JS protocol handlers), r/sr=dbaron. 
Bug 399352: Get rid of known-but-harmless assertions for GetUsedMargin/Border/Padding. r/sr=dbaron 
Bug 400813. Lines with actual content that just happens to be zero-width should be treated as non-empty. r+sr=dbaron 
Match new (more-const) signature for PENUMLOADED_MODULES_CALLBACK and PENUMLOADED_MODULES_CALLBACK64.  b=415426  Fixing bustage on Windows tinderbox from SDK upgrade. 
Switch back to evil casts, which are the only solution that works across SDK version.  b=415252 
And actually get the right bug number.  b=415426 (which is what the previous checkin was for as well) 
Bug 412237. Don't parse negative sizes for the MathML fontsize attribute. Make sure we do continue to parse '-0px', since that's not actually negative. r+sr=dbaron 
Warn when Unlink doesn't do what it should.  b=414972  r+sr=peterv  a=not part of default build (DEBUG_CC only) 
Add comment explaining mJSRoots and ExplainLiveExpectedGarbage business. 
More detailed description of JS objects.  b=414972  r+sr=peterv  a=not part of default build (DEBUG_CC only) 
Fix serialization of currentColor for some properties.  b=414550  r+sr=bzbarsky  a=schrep 
Force reflow on default font change, since style data comparison is not sufficient for things not reflected in style data.  b=394057  r+sr=roc  a=blocking1.9+ 
Add leak logging for node info managers that can be added to leak-gauge.  b=414704  r+sr=sicking  a=schrep 
Make leak-gauge.html not require enhanced privileges.  b=414800 
Make changes in table-layout cause a reframe.  b=367375  r+sr=bzbarsky  a=schrep 
Make CSS namespace identifiers case sensitive to match change in spec.  b=416106  r+sr=bzbarsky  a=schrep 
Make the minimum font size preference leave font-size:0 untouched.  b=401046  r+sr=bzbarsky  a=schrep 
Stop using -moz-float-edge for list items, but offset the bullet position in the presence of floats.  b=413840 (and numerous others)  r+sr=roc  a=blocking1.9+ 
Fix some sorting errors. 
Add a test for bug 398066 (image/* should be in the Accept header for <img>-related requests), and add CGI support to the reftest harness.  r=dbaron on the harness changes 
Bug 400813. Lines with font-size:0 content should not be treated as empty. r+sr=dbaron 
Add first (very rough) cut at a DHTML reftest analyzer tool.  Not part of the default build. 
Forgot license header. 
A bit of code cleanup and a few comments.  Not part of the default build. 
Better comments on the filters, and slightly better highlight. 
Give document a title.  Not part of default build. 
Bug 415262 - "Make general use of new NSPR rotate macros" [p=swsnyder@insightbb.com (Steve Snyder) r=wtc sr=dbaron a=blocking1.9+] 
Give the prefs stylesheet a .href.  Bug 416896, r+sr=dbaron, a=schrep 
Add my todo list and make a few other tweaks.  Not part of the build. 
Bug 400813. Text with font-size:0 should not make a line be treated as empty. r+sr=dbaron 
Make sure to not set a negative computed width.  Bug 403576, r+sr=dbaron, a=beltzner 
Make sure that changes to the "span" attribute on a colgroup actually work. Bug 404309, r=bernd, sr=dbaron, a=beltzner 
Change the nsICSSParser::Parse() API so that we don't hand out a stylesheet; require a stylesheet to be set before calling Parse().  Bug 404315, r+sr=dbaron, a=beltzner 
Fix for bug 405128 (Remove some nsDeque use from cycle collector). r/sr=dbaron, a=beltzner. 
Document SJS availability in reftests, for righteous CGI functionality without the thoroughly sucky API.  r=dbaron 
Bug 392785 overflowed underline sometimes is not repainted at scrolling r+sr=roc b1.9=dbaron 
Remove remaining support for proportional length values (unused). b=341683 r+sr=dbaron r=sicking a=mtschrep 
Remove some commented-out filters that shouldn't have worked in the first place, and improve comments.  Not part of the build. 
Bug 73353: Clean up our MODULE/REQUIRES story. rs=dbaron, a=brendan 
Fix handling of dynamic changes for advanced CSS selectors (and avoid the cost of doing so in the normal case).  b=401291, 75386, 98997, 229915, 404418 (blocking1.9+)  r+sr=bzbarsky  a=blocking1.9+ on 404418 
In JS_PrintTraceThingInfo, only print the contents of JSSLOT_PRIVATE if it represents the class's private rather than the first slot.  b=417972  r=igor  a=DEBUG-only (not part of the default build) 
Increase size of non-default pixel value of line-height since current was occasionally the default.  b=418190  a=Tests (not part of default build). 
Bug 418026: Unconditionally include prio.h and prbit.h in gfxColor.h. sr=dbaron, a=schrep 
Fix handling of dynamic changes for advanced CSS selectors (and avoid the cost of doing so in the normal case).  b=401291, 75386, 98997, 229915, 404418 (blocking1.9+)  r+sr=bzbarsky  a=blocking1.9+ on 404418 
Treat backgrounds on body the same in XHTML as for HTML.  b=379461  r+sr=bzbarsky  a=schrep 
Expose GetBodyContent and use it to avoid performance hit of nsIDOMHTMLDocument::GetBody.  b=331530  r+sr=sicking  a=schrep 
Back out for now, until I have a chance to fix reftests depending on old behavior. 
Make sure that <frame>s don't fall through to nsLeafFrame sizing, unlike <iframe>s.  Bug 414322, r+sr=dbaron, a=schrep. 
Add iframe wrappers for viewport scrollbar tests, since viewport scrollbars don't seem to show up in reftest framework. 
Treat backgrounds on body the same in XHTML as for HTML.  b=379461  r+sr=bzbarsky  a=schrep 
Fix reftests that depended on bug 379461. 
Expose GetBodyContent and use it to avoid performance hit of nsIDOMHTMLDocument::GetBody.  b=331530  r+sr=sicking  a=schrep 
Bug 415686: remove FONT_LEADING_APIS_V2 ifdefs which are no longer useful for cairo builds. Also remove related functions and tests. r/sr=dbaron, r=pavlov, a=beltzner 
Bug 261081. Support official 'pre-wrap' value for CSS 'white-space' since we already support it well as '-moz-pre-wrap'. r+sr=dbaron,a=schrep 
Call cancel() if we can't show the helper app dialog, so we break cycles, avoid leaks, and don't continue doing the download.  b=417949  sr=bzbarsky  r=gavin.sharp  a=schrep 
Stop working around bug 417339 now that it's fixed.  Not part of default build. 
layout insepctor build bustage when building on windows mobile. r=dbaron, a=beltzner 
Bug 413632: Remove the remaining MOZ_CAIRO_GFX (and related variables). Full patch except configure.in change. r/sr=dbaron, r=vlad, a=beltzner 
Bug 413632: Remove the remaining MOZ_CAIRO_GFX (and related variables), configure.in part of the patch. r/sr=dbaron, r=vlad, a=beltzner 
Bug 380825 - "Font sizes on Tinderbox are too large" (reftest) [p=ryanvm@gmail.com (Ryan VanderMeulen) r=dbaron] 
Bug 402629: Fix percent-height updates in nested tables by checking if containing block depends on an ancestor cell's height, rather than just checking if it's a cell.  r+sr=dbaron, a=blocking1.9+ 
Use width, not min-width, for empty selects.  Plays nicer with author styling. Bug 315296, r+sr=dbaron, a=beltzner 
Bug 393490. When subsuming an interval, we need to merge its beginning into the current interval as well as its end, because it might start before the current interval. r+sr=dbaron 
Do string appending in chunks rather than one character at a time in GatherIdent and ParseString.  Allow EOF to terminate strings, per CSS 2.1.  b=311566  Patch by Alfred Kayser <alfredkayser@gmail.com>, with some review comments addressed by me.  r+sr=dbaron  a=blocking1.9+ 
Bug 413286: Let empty auto-width columns be expanded. r+sr=dbaron a=blocking1.9+ 
When all three of 'left', 'width', and 'right' of an absolutely-positioned elemnt are 'auto', use the direction of the static-position containing block (rather than the actual containing block) to decide whether to set 'left' or 'right' to the static position. bug=403328 r+sr=dbaron b1.9=mtschrep 
Bug 413180: Stop distributing span pct-width to cols when there are only 0-width cols left.  r+sr=dbaron a=beltzner 
Bug 414977 - "insufficient unlink methods in some DOM classes?". Move the warning until after XPConnect deferred releases, r=dbaron, sr=peterv, a=blocking1.9+. 
Thorough reftests for CSS2 10.3.7 and 10.3.8 that I wrote for bug 403328. 
Bug 419624 - Build framework, basic usage, and testsuite for statically checking the codebase using gcc-dehydra, r=luser,dbaron,tglek 
Don't crash on triple-clicking when there's an orphan content somewhere. bug=370174 r+sr=roc blocking1.9=dbaron 
Correct comments in reference renderings to reflect additional bug. 
Bug 407095. Reflow in more situations where horizontal scrollbar appears or disappears. May hurt Tp, let's watch. r+sr=dbaron,a=damon 
Add a comment and assertion to the fix for bug 370174. r+sr=roc on the original patch. blocking1.9=dbaron 
Fix regression handling auto margins on absolutely positioned elements.  b=419060  r+sr=roc  a=blocking1.9+ 
Fix spelling error to force unit test boxes to cycle. 
Bug 416752. Use the scrollbar min-height/min-width to establish the minimum scrollport size, not the pref-height/pref-width. r+sr=dbaron 
Fix handling of 'right'-derived static positions (mostly for RTL) when containing block has asymmetric border.  b=419072  r+sr=roc  a=damons 
Bug 409384 - Firefox 3.0b2 fauks to compile with gcc 4.3, r=dwitte+dbaron a=damons 
use of max(a,b) is confusing windows mobile compiler. b=419653, r=dbaron, a=beltzner 
Split nsTableOuterFrame::OuterReflowChild.  b=363248,386704  r+sr=roc  a=blocking1.9+ 
Make 'top' and 'bottom' captions follow the CSS2.1 behavior and put the old behavior into 'top-outside' and 'bottom-outside'.  b=363248,386704  r+sr=roc  a=blocking1.9+ 
Prevent margin expansion from interfering with table caption position.  Based on patch by Mats Palmgren.  b=363248  r+sr=roc  a=blocking1.9+ 
Fix horizontal positions of top and bottom captions in the presence of non-left-aligned tables.  b=363248,386704  r+sr=roc  a=blocking1.9+ 
Fix todo expected to be fixed by bug 363248. 
Make the reference match the expected behavior of the testcases per changes in bug 363248. 
Remove expected failure fixed by bug 363248. 
Bug 419350 Fix compilation on ia64 against gcc4.3 Patch by dchapman@redhat.com (with improvement by dbaron) r=caillon a=beltzner 
Bug 417255. Rework getClientRects/getBoundingClientRect/offset* code to use a generic rectangle iterator API which drills down through anonymous blocks, fixing IE compat. r+sr=dbaron 
Bug 419531. Don't wipe out stored tab widths during text intrinsic size calculation. r+sr=dbaron 
Bug 416168. Ensure that the overflow rect for a frame always includes (0,0) even if the frame rect is empty. Also ensures that if the frame rect is empty but has non-zero dimension on one axis, the overflow rect includes that size. A scrolled view for such a frame also includes that size to ensure width:0,height:Npx and width:Npx,height:0 frames are scrollable by that amount. r+sr=dbaron 
Bug 400057. Make nsBlockInFlowLineIterator useful for finding the line containing a frame, searching across block continuations and their overflow lines. Use it in various places, especially in textrun construction. r+sr=dbaron 
Bug 317189. Do the second-scroll-to-anchor on onload (i.e. subresources have loaded), not just when the document has finished loading. Also, don't do it at all if the user has scrolled manually between the first anchor scroll and the second. r+sr=dbaron 
Compute the shrink-wrapping size of table outer frames correctly.  b=363402  r+sr=roc  a1.9b4=beltzner 
Add testcase for computing the shrink-wrapping size of table outer frames correctly.  b=363402 
Bug 405952. Add scrollbar width to pref and min widths for overflow:scroll elements but for no other overflow values. r+sr=bzbarsky,dbaron,dholbert, a=beltzner 
Fix bug under some valid types of optimization where we cross margin and padding.  b=420069  r+sr=roc  a1.9b4=damons  a-sheriff=sayrer 
Add better reftest coverage for intrinsic width computation of horizontal padding, border, and margin on inlines.  b=420069  sheriff-a=sayrer 
Bug 403181. Use a temporary surface to prevent sampling of pixels outside the intended source rectangle when zooming the image in some cases. r=vlad,sr=dbaron,a=beltzner 
Add a simple variant of make-tree to filter refcount logs for a single object.  Not part of the build. 
Use better name. 
Bug 403181. Track which subimage of an image we want to draw and copy it to a temporary surface if necessary to prevent sampling of pixels outside the subimage when zooming. Also, enable EXTEND_PAD or SetFilter(0) if the context has a transformation that's not a simple translation, since that might induce cairo to sample pixels outside the source (sub)image. r=vlad,sr=dbaron 
Update properties that are ignored when 'Allow pages to choose their own colors' is unchecked for the splitting of left/right border properties and the introduction of start/end border properties.  b=419167  Patch by Bernd Mielke <bernd_mozilla@gmx.de>.  r+sr=dbaron  a=beltzner 
Fix the weird Get* API on nsStyleSides in favor of returning structs by value, to avoid further occurrences of bug 420069.  b=420069  r+sr=roc  a=beltzner 
Fix greediness of A ~ B C selector matching.  b=420814  r+sr=bzbarsky  a=beltzner 
reftest analyzer improvements; npotb, a=dbaron 
Fix -Wconversion warnings that prevent compiling netwerk/cookie/src/ (which makes warnings fatal) with gcc 4.3 on x86_64.  b=409384  r=bsmedberg  a=beltzner 
Bug 403181. Various fixes to image rendering. Most importantly, we track the desired subimage of a CSS background image and ensure we don't sample outside it. r=vlad,sr=dbaron 
Deal with nsXPCWrappedJS::GetClass being null, which it can be after Unlink.  a=Not part of the default build (DEBUG_CC only) 
Don't call nsCycleCollector_DEBUG_wasFreed on generic elements since it inevitably leads to false positives.  b=420548  r+sr=peterv  a=Not part of the default build (DEBUG/DEBUG_CC only) 
Fix DEBUG_CC bustage on Windows resulting from bug 402966 (and bug 407034).  r+sr=peterv  a=Not part of the default build (DEBUG_CC only) 
Give radio buttons and checkboxes a useful baseline, and switch checkboxes from text-bottom to baseline alignment (to match radios).  b=402940  r+sr=bzbarsky  a=blocking1.9+ 
Make GTK2 checkbox and radio widgets put their indicator spacing in GetWidgetOverflow rather than inside their size.  b=402940  r=ventnor  sr=roc  a=blocking1.9+ 
Add reftests for baseline-alignment aspects of bug 402940 fixes. 
Add string needed if we implement :nth-*() pseudo-classes.  b=75375  r+sr=bzbarsky 
Unbreak test that I broke while addressing review comments.  a=test-only 
Separate the tests so that they really test what they were intended to test. 
Bug 403181. Pass the desired source rectangle for background images down into nsThebesImage and ensure we don't sample outside it. Back out a bad pixman patch that caused regressions, and adjust image encoding tests so they don't depend on the regression. Also switchs some reftests to quirks mode so that the 1-appunit width of <br>s doesn't bite us. r=vlad,sr=dbaron 
Test selector serialization too. 
Bug 420521 - Leaking nsThread and nsTimerImpl running full set of Mochitests.  This fixes the last refcounted leak on OS X Mochitests!  Zounds!  r=brendan, sr=dbaron, a=blocker 
Bug 420351. Empty bullets cannot make a line non-empty. r+sr=dbaron 
Bug 413027. The XUL min-size and pref-size for a CSS block should just be its height when reflowed at its preferred width --- NOT the height of the tallest line, that is insane. r+sr=dbaron 
Don't reserve space for start (end) margin on the first- (last-) in-flow if it has a previous (next) bidi continuation. bug=421419 r+sr=dbaron a1.9=dsicore 
Bug 420351. Don't let empty list-bullets make a line non-empty. r+sr=dbaron 
Bug 413027. The XUL pref and min height for a CSS block should be its height when reflowed at its preferred width, NOT the height of the tallest line. r+sr=dbaron. Relanding with extra instrumentation in the strangely-failing mochitest test_bug199692.xul 
Restore the vertical centering code that I removed because it's needed for XUL.  b=421734.  r=ventnor  sr=roc  a=damon 
Don't let the pres context's visible area get permanently set to an unconstrained height when we call ResizeReflow with an unconstrained height during SizeToContent.  b=371508  r+sr=roc  a=blocking1.9+ 
Don't do floating point assignment from uninitialized data, since it can crash.  b=422011  r+sr=bzbarsky  a=damon 
Bug 413027. The XUL pref and min height for a CSS block should be its height when reflowed at its preferred width, NOT the height of the tallest line. r+sr=dbaron. Relanding with additional XUL box layout fix to increase the frame size to the minimum size required by children even if they don't change size during layout, and a fix to scrollframes so they don't depend on being able to set a size for scrollbars less than their minimum size. r+sr=dbaron 
Don't make overflow:-moz-hidden-unscrollable affect layout.  b=411213  r+sr=roc  a=beltzner 
Fix buggy test; rgb() non-% arguments are required to be integers.  a=tests 
Fix bad reference counting of atoms so we don't manipulate garbage atom pointers.  b=422546  r=timeless  sr=roc  a=damon 
Bug 404140. Avoid assertions about comparing line iterators from different lists by comparing nsLineBox* pointers. r+sr=dbaron 
Bug 421615 - "unused variable âtmpâ in NS_IMPL_CYCLE_COLLECTION_0" [p=tuukka.tolvanen@gmail.com (Tuukka Tolvanen [sp3000]) r+sr=dbaron a1.9=beltzner] 
Don't use fieldset pref widths as min widths, since pref widths can be unconstrained.  Incidentally makes it possible for text to legends to wrap if the page wants it to. Bug 404123 and bug 354502, r+sr=dbaron, a=beltzner. 
Expose trace-malloc stack tracing.  b=422847  r=brendan  a=NPOTDB 
Make test poll for dialog being fully loaded rather than assuming it will be after 300 milliseconds.  b=423044  r=dolske  a=tests 
Remove the 'timer fired for test' ok as well, so this test doesn't report a timing-dependent variable number of tests.  r=dolske (verbally)  b=423044  a=tests 
Make nsStyleChangeList own a reference to nsIContent pointers in its list. b=399694 r+sr=dbaron a1.9=damons 
Fix a compile warning. b=399694 r+sr=dbaron a1.9=damons 
Add reftest for CSS 2.1, section 10.3.3. 
Fix bug in test. 
Add simplified version of test that we can currently pass. 
Make nsJSONWriter::Write not crash when given buffer greater than 1024 characters.  b=423152  r=sayrer  a=beltzner 
Add knowledge of edge names to cycle collector, ifdef DEBUG_CC.  b=420514  r+sr=peterv  a=damons 
Bug 423436. Elements embedding SVG by reference don't resize if they depend on intrinsic percentage width/height. r+sr=dbaron@mozilla.com, blocking1.9=me 
Fixing asymmetry between what timeless landed for bug 394114 and what he backed out. 
Add some basic reftests for XUL grid. 
Add another reftest for 413027. 
Don't do translation during table border painting.  b=421069  Patch by Robert O'Callahan <roc@ocallahan.org>.  r+sr=dbaron 
Backing out bug 421069 (which I landed earlier today for roc) because it caused bug 424016. 
Add reftests for bug 421069. 
Add some reftests for table background painting.  (These tests catch the regression from the previous patch in bug 421069.) 
Don't do translation during table border painting. b=421069 Patch by Robert O'Callahan <roc@ocallahan.org>. r+sr=dbaron  approval1.9b5=damon 
Additional fix on top of roc's patch for bug 421069 to fix the regression it caused.  r=dholbert  approval1.9b5=damon 
Add additional tests with opacity to exercise the cases where we construct TableBackgroundPainters from row or row group frames. 
Add bug number for failing tests. 
In bidi resolution, convert inline bidi continuations not at the end of a bidi run into fluid continuations. bug=423130 r=smontagu sr=dbaron a19b5=dsicore 
Put something non-empty that changes (the output of date) into the .nss.checkout file so it is better reflected when mirroring a CVS checkout into other version control systems.  b=421861  r=bsmedberg  a1.9b5=schrep 
Put something non-empty that changes (the output of date) into the .nss.checkout file so it is better reflected when mirroring a CVS checkout into other version control systems.  b=421861  r=bsmedberg  a1.9b5=schrep  (landing original patch rather than revised one) 
Make the download manager tests remove their temporary files, and rename the prefix they use to work around the Mac unit test machine having filled up all of dmuitest.file through dmuitest-9999.file in its temp dir.  rs=sdwilsh  a=tests+orange 
Some more grid reftests from work on 413027. 
Add a code comment from work on 413027. 
Bug 417178 - "Google reader does not show subscribed topics in ff3b3 at certain zoom levels" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r+sr=dbaron a1.9b5=mconnor] 
Bug 423385 - "floating parent does not size correctly with floating child using negative margin" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r+sr=dbaron a1.9b5=beltzner] 
Bug 417178 - "Google reader does not show subscribed topics in ff3b3 at certain zoom levels" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r+sr=dbaron a1.9b5=mconnor] 
reftest adjustments for bug 417178 (pending r=dbaron/roc) 
Remove unnecessary and obsolete code. Bug 424916, r+sr=dbaron, a=damons 
Bug 423385 - "floating parent does not size correctly with floating child using negative margin" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r+sr=dbaron a1.9b5=beltzner] 
Print shortest path to expected garbage for unlink deficiencies as well.  b=422848  r+sr=peterv  a=DEBUG_CC only (not part of default build) 
Only join ancestor inline frames for frames that are last children. bug=424631, r=smontagu, sr=dbaron, blocking1.9=vladimir 
Bug 424873. Make GetWidgetOverflow take the new frame size as input instead of using the possibly-stale old frame size. r+sr=dbaron 
Bustage fix for DEBUG_CC builds as a result of the fix for bug 423874. r=dbaron, a=NPOTDB. 
Disable a small part of the fix for bug 416168 to fix a regression with outlines of certain empty inlines.  b=424236  r+sr=roc  a=blocking1.9+ 
Bug 424710. Make sizing of abs-pos frames whose container is the initial containing block sane and consistent with Firefox 2, while still incorrect. r+sr=dbaron 
Bug 416735. When a table frame paints the backgrounds for all its parts, make sure those parts notify the table frame display item when they are background-attachment:fixed. r+sr=dbaron 
Bug 422678. Table rows whose style-height doesn't fit in the available height (but whose cells do) should be marked incomplete during reflow. r=bernd,sr=dbaron 
Bug 411585. Traverse all pages after the current page when painting a page, to locate placeholders that we need to traverse in order to paint out-of-flows on the current page. r+sr=dbaron 
Bug 426660 - "Allow Firefox themes to change based on the OS theme" [p=ehsan.akhgari@gmail.com (Ehsan Akhgari [ehsan]) r=vlad sr=dbaron a=blocking1.9+] 
Don't let columns with no cells originating in them expand in the pass for expanding zero-width columns.  b=425972  r=dholbert  sr=roc  a=blocking1.9+ 
Use universal charset detector with filters instead of the old language-specific parallel state machines. Bug 426271, r+sr=dbaron, b=vladimir 
Bug 427845 - "reftests/text-decoration/underline-block-propagation-*.html are buggy" [p=zweinberg@mozilla.com (Zack Weinberg) r=dbaron] 
Bug 425253. Propagate reflow-depth tracking through XUL box layout. r+sr=dbaron,a=damon 
Bug 421432. Don't crash when we ScrollToAnchor after UnsuppressPainting tore down the document. r+sr=dbaron,a=beltzner 
Bug 424915. Improve display list analysis so that sites with content covered by the scrolling element, such as GMail, can use bitblit scrolling. r+sr=dbaron,a=beltzner 
The position of an outside bullet should not be affected by floats inside the principal block (this fixes most cases). b=427370 r+sr=dbaron a1.9=beltzner 
Backout bug 157546 (making the delete key delete by clusters) to fix blockers bug 419217 and bug 419406.  Instead of removing the added test, mark now-failing tests as todo.  a=damons 
Fix bug 427129 / 377664: When displacing blocks that don't interact with floats around floats, displace the border box rather than the margin box.  Fix bug 427782:  Simultaneously, only displace when the width actually won't go down to an amount that fits (i.e., if it will go to an amount smaller than the intrinsic minimum width, let it).  b=427129  r+sr=roc  a=schrep 
display:block legends should still shrink-wrap.  Bug 428423, tests by dholbert, r=dholbert, sr=dbaron, a=beltzner 
Bug 428156. ComputeRepaintRegionForCopy needs to handle non-moving frames that clip moving content. r+sr=dbaron,a=beltzner 
Bug 409084: When determining if a row or rowgroup isTopOfPage, check if the previous row has positive YMost, rather than just checking if there *is* a previous row. r=bernd sr=dbaron a1.9=beltzner 
Bug 428156. Relanding. Make ComputeRepaintRegionForCopy handle non-moving frames that clip moving frames. r+sr=dbaron 
b=427122, padding on select elements ignored, r=dbaron,a=beltzner 
Bug 351687 [@ nsBlockFrame::GetAccessible] mContent null check comes after we use mContent r=aaronl sr=dbaron a=beltzner 
Bug 428521: Allow DistributeWidthToColumns to complete BTLS_PREF_WIDTH runs in situations with guess_min < aWidth <= guess_pref.  (Reverts optimization from 368504 in which I'd thought that a run with aWidth <= guess_pref would be skippable) r+sr=dbaron a=beltzner 
b=427122, padding on select elements is ignored ; r=dbaron, a=beltzner 
Bug 431435 - reftests should report the slowest test. r=dbaron 
Fix extra block-clearing caused by margins on tables.  b=430813  r+sr=roc  a=damon 
Compute widths for replaced block clearing past floats once we're at the correct vertical position.  b=430813  r+sr=roc  a=schrep 
Deal with padding inside .gnu_debuglink section being non-null.  Not part of build. 
Allow diffbloatdump to read its own input back in (so that we can run fix-*-stack over its output (which is much faster than running it over a whole log) and still diff that output against different output.  Not part of the build. 
b=432298, reftest unexpected pass, svg/opacity-and-gradient-01.svg on cocoa; r=dbaron 
Fix broken --shutdown-leaks argument handling on Windows by copying the argument out of argv rather than holding a pointer to it.  b=433708  r=pavlov 
Add mozconfig, a lesser-known but ls-able alternative to .mozconfig, to the list of ignored files in .hgignore.  r=dbaron 
Bug 398332. Merge reflow statuses from out-of-flow frames more carefully so that we don't lose information about the primary reflow. r=fantasai,r+sr=dbaron,a=shaver 
Make client.py print what was pulled from CVS/hg.  b=433390  r=jorendorff, ted.mielczarek 
Add reftests for bug 399636. 
Make outlines on inlines containing blocks outline the blocks.  b=424236,270191  r+sr=roc 
Fix typo.  r=dbaron 
Bug 434076 - Give me stack traces and give me death!  (aborts should print a stack trace before aborting)  r=dbaron 
Bug 429587 - MOZ_COUNT_DTOR and NS_LOG_RELEASE should assert (or worse) when used on an unrecognized pointer, when possible, for easier recognition of memmoved refcounted classes.  r=dbaron 
Bug 434074 - TestRegistrationOrder test leaks stuff because it uses raw pointers; fix the leaks in case we want to do no-leak assertions in C++ tests sometime.  r=dbaron 
Bug 421576 - Unpaired surrogate handled wrongly (Acid3 #68).  acid3++  r=dbaron 
Rename nsAtomStringList to nsPseudoClassList, since that's what it's for, and we want to make it more than just atoms and strings.  Also remove an unused constructor.  b=75375  r+sr=bzbarsky 
Make nsPseudoClassList capable of storing integer pairs for :nth-*().  b=75375  r+sr=bzbarsky 
Implement :first-of-type, :last-of-type, and :only-of-type.  b=128585  r+sr=bzbarsky 
Allow the initial value of -moz-user-select to be specified with 'auto'.  b=432888  r+sr=bzbarsky 
Remove no-longer-needed else clauses, and make the *IsExact members DEBUG-only.  b=419076  r+sr=bzbarsky 
Implement the computed value of text-shadow in the style system.  b=10713  r+sr=dbaron 
Eliminate unnecessary reference counting of gfxContext objects.  b=433640  r+sr=roc 
Snap background origin and clip areas to device pixels to prevent tiling from varying for subpixel position changes that don't change the box's visible position at all.  Tests by roc (433640-*) and me (background-image-tiling-*).  b=433640  r+sr=roc 
Increase the initial sizes of hash tables that are guaranteed to grow.  b=432633  r=dbaron 
Backed out changeset cf005233ebad (text-shadow style system changes) due to mochitest crash on Windows (which I can reproduce on Windows). 
Merge backout of changeset cf005233ebad (text-shadow style system changes) due to mochitest crash on Windows (which I can reproduce on Windows). 
Mark reftest added for bug 433640 as failing on Mac, due to bug 379317. 
Don't call SelectorMatches on document fragments.  (Bug 437170)  r+sr=bzbarsky 
Implement the computed value of text-shadow in the style system.  (Bug 10713)  r+sr=dbaron 
Remove unneeded (and not present in the proposed CSS3 float-displace property) border-box and padding-box values of -moz-float-edge.  (Bug 432891)  r+sr=roc 
Don't make our anonymous blocks that wrap blocks inside inlines be containing blocks so that we get the right containing block direction per the CSS spec.  (Bug 423306)  r+sr=roc 
Use PlaceTopBottomFrames for the children of the root span, too.  (Bug 118501)  r+sr=roc 
Make top and bottom values of vertical-align align the subtree rather than the element itself.  (Bug 118501)  r+sr=roc 
Allow floats to be placed on the current line even after nonzero-width inline content has been placed. Fixes an Acid3 layout bug. r+sr=dbaron 
Don't restyle slow selectors for changes to native anonymous content.  (Bug 436453)  r+sr=bzbarsky 
Count U+000C as a whitespace character for separating class attributes.  (Bug 437915)  r=bzbarsky  sr=sicking 
Make empty string in ^= $= *= attribute selectors match nothing (and check for ~= although it already works).  (Bug 420245)  r+sr=dbaron 
Make empty string in ^= $= *= attribute selectors match nothing (and check for ~= although it already works).  (Bug 420245)  r+sr=dbaron (tests) 
Add some reftests for z-ordering of text-decorations. 
Bug 439004. Check whether there's logically empty content already placed on the line instead of just checking whether the line has advanced horizontally. r+sr=dbaron. 
Bug 438997. DoApplyRenderingChangeToTree should not invalidate SVG frames. r+sr=dbaron. 
Bug 421436. Remove hack that gives <br> 1-appunit width in standards mode; it's no longer necessary and it can cause subtle bugs. r+sr=dbaron 
Add .zeroOrAveCharWidth field to gfxFont::Metrics.  Initialize it in all font backends.  Use it when computing CSS 'ch' units.  (Bug 363706)  r=roc  sr=dbaron 
Remove eStyleUnit_Chars and the special cases for it throughout layout, and make ch units go through the normal eStyleUnit_Coord cases.  (Bug 363706)  r+sr=dbaron 
Add basic test for bug 363706. 
Fix crashes when using text API on a canvas context whose element doesn't have a frame, and update handling of that case to match the spec.  (Bug 438695)  r+sr=dbaron 
Bump UUID; changed missed from bug 436904.  (Bug 438695)  r+sr=dbaron 
Fix windows bustage.  (Bug 363706) 
Backed out changeset 1c2c0b023699 
Backed out changeset 68362ba98c23 
Merge backout of 68362ba98c23 (bug 363706). 
Backed out changeset f6b609b0af6e 
Merge backout of f6b609b0af6e (bug 363706). 
Mark reftest added for bug 363706 as failing. 
Bug 423471 - Cycle collection shouldn't fault when traversing script objects of languages that don't participate. r/sr=dbaron. 
Address review comment for bug 423471 - Cycle collection shouldn't fault when traversing script objects of languages that don't participate. r/sr=dbaron. 
Bug 435122 - "Use TraceMalloc to get stack traces of potential deadlocks". r=bsmedberg+dbaron. 
Bug 442714 - Mark NS_STACK_CLASS on nsAutoString, r=dbaron 
Add .zeroOrAveCharWidth field to gfxFont::Metrics.  Initialize it in all font backends.  Use it when computing CSS 'ch' units, and make eStyleUnit_Chars and nsLayoutUtils::CharsToCoord unused.  (Bug 363706)  r=roc  sr=dbaron 
Remove eStyleUnit_Chars and the special cases for it throughout layout, and make ch units go through the normal eStyleUnit_Coord cases.  (Bug 363706)  r+sr=dbaron 
Back out 0b57ada5d4b2 due to mochitest failures on at least Windows.  (Bug 363706) 
Merge backout of 0b57ada5d4b2 due to mochitest failures on at least Windows.  (Bug 363706) 
Back out 0b1995eab10f due to mochitest failures on at least Windows.  (Bug 363706) 
Merge backout of 0b1995eab10f due to mochitest failures on at least Windows.  (Bug 363706) 
Turn "running past end" assertions in nsLineBox.h into aborts (bug 443529).  r+sr=dbaron. 
Bug 212633 - "Add support for CSS3 box-shadow" (parsing support) [p=ventnor.bugzilla@gmail.com (Michael Ventnor) r+sr=dbaron] 
Add reftest for the nesting case in bug 424236. 
Use the post-reflow GetUsedMargin() value when placing the legend.  b=433700 r+sr=dbaron 
Bug 426732 - implement -moz-nativelinktext, r=dbaron, sr=roc 
Bug 426732 - implement -moz-nativelinktext, r=dbaron, sr=roc 
disconnected fragments.  Bug 422868, r+sr=dbaron 
Make sure to not call Pushback(-1) on EOF error conditions.  Bug 422868, r+sr=dbaron 
Bug 433374.  Fix bogus assert.  r+sr=dbaron 
Bug 431770.  Make sure to start/end a frame constructor update when reconstructing frames.  r+sr=dbaron 
Bug 444838.  Correctly stringify all tokens instead of asserting on some.  r+sr=dbaron 
Bug 444237 - "Crash with -moz-box-shadow: -moz-initial on input" [p=ventnor.bugzilla@gmail.com (Michael Ventnor) r+sr=dbaron] 
Bug 423802 - "xulrunner.exe crashes when a specially crafted grid control is used" (crashtest) [r=dbaron] 
Bug 441703 - "direction attribute of marquee should be case-insensitive (for selector matching)" [r+sr=dbaron] 
Bug 438679 â Remove some duplicate reftest manifest entries. r=dbaron 
Avoid stack overflow by not using recursion to add the important rules.  (Bug 439184.)  r=fantasai  sr=bzbarsky 
Replace nsRuleList with a next sibling pointer on the rule node itself (saving one word in the normal linked list case, and wasting one in the hash table case).  (Bug 439184.)  r+sr=bzbarsky 
Make rule node children destruction happen in a queue from the root rule node (or root of the subtree being destroyed) rather than using recursion.  (Bug 439184.)  r+sr=bzbarsky 
Avoid stack overflow by not using recursion to add the important rules.  (Bug 439184.)  r+sr=bzbarsky 
Bug 367246. When the scrolled frame's width exceeds its available width (because its padding alone is greater than the available width) and the direction is RTL, the scrolled frame should be positioned with its right edge at the right edge of the scrollport. r+sr=dbaron 
Bug 444690. Scrollframes should call the superclass InvalidateInternal so that generic invalidation hooks work. r+sr=dbaron 
Bug 444692. Windowless plugin frames should use frame invalidation so that generic invalidation hooks work. r+sr=dbaron 
Bug 444688. Use an IsFrameOfType check instead of a frame state bit to detect whether a frame excludes ignorable whitespace children. r+sr=dbaronlayout 
Skip test for 439184 since it "times out". 
Convert nsScreenManagerGtk from nsISupportsArray to nsCOMArray.  (Bug 403706)  r+sr=roc 
Remove mNumScreens since it duplicates the length of mCachedScreenArray.  (Bug 403706)  r+sr=roc 
Don't leak the result of PR_LoadLibrary for the xinerama library.  (Bug 403706)  r+sr=roc 
Do reinitialization of screen info at the screen manager level, so we get it for the xinerama codepath too.  (Bug 403706)  r+sr=roc 
Take non-Xinerama codepath when Xinerama reports only one screen.  (Bug 403706)  r=dbaron  sr=roc 
Make less restrictive assumptions about how big a 'ch' unit is relative to the line-height (assuming 4ch greater than the line height, rather than assuming 2ch is).  (Bug 363706) 
Add .zeroOrAveCharWidth field to gfxFont::Metrics.  Initialize it in all font backends.  Use it when computing CSS 'ch' units, and make eStyleUnit_Chars and nsLayoutUtils::CharsToCoord unused.  (Bug 363706)  r=roc  sr=dbaron 
Remove eStyleUnit_Chars and the special cases for it throughout layout, and make ch units go through the normal eStyleUnit_Coord cases.  (Bug 363706)  r+sr=dbaron 
Add comment about running reftests in an non-DEBUG build.  (Bug 378217)  r=dbaron 
Bug 443090 - Unify unittest failures (reftest part) p=ted.mielczarek, r=dbaron 
Backed out changeset ca442067af90 due to unit test hang in test_417798.js. 
Merge backout of changeset ca442067af90 due to unit test hang in test_417798.js. 
Fix accidental disabling of more mochitests than intended.  Bug 437980 / Bug 445586 
Implement css3 border-image property.  (Bug 378217)  r=vlad,dbaron,robarnold 
Backed out changeset 9b0b2391485c due to linker errors related to nsStyleStructInlines.h not being included enough. 
Implement css3 border-image property.  (Bug 378217)  r=vlad,dbaron,robarnold 
Mark two reftests as failing on Mac. 
Fix generation of precompiled cmaps on 64-bit platforms to match what the code expects.  (Bug 445626)  r=smontagu 
Delete nsLayoutUtils::GetAbsoluteCoord(); fold logic into callers and simplify.  (Bug 437335)  r+sr=dbaron 
Add bug number for failing reftests from bug 378217 landing. 
Backed out changeset 5c009a853d70 for hitting a fatal JS_Assert during xpcshell unit tests (xpcom/unit/test_bug374754.js) on the DO_NEXT_OP(JSOP_INCNAME_LENGTH) line on !JS_THREADED_INTERP platforms (Windows). 
Fix spelling mistakes (to trigger unit test cycle). 
Bug 271586 â Implement CSS3 column-rule-*. r+sr=roc,dbaron 
bug 420324 - reftest should show progress in titlebar. r=dbaron 
Change CSS parser to close constructs open at end-of-file by changing ExpectSymbol not to fail on EOF when expecting  one of }, ), ], or ;.  (Bug 325064)  r+sr=dbaron 
Add bug number (446226) for todo tests from bug 325064. 
Remove unused ccmap files. Bug 445877, r+sr=dbaron 
Bug 416317.  Implement querySelector(All) API.  r=dbaron, sr=jst 
Change the binding parent for native anonymous content to work like the binding parent for XBL anonymous content, and be the parent of the anonymous content subtree rather than the root of the anonymous content subtree.  (Bug 436453)  r=bzbarsky,smaug,surkov  sr=bzbarsky 
Address potentially behavior-changing review comments from surkov; part of bug 436453. 
Don't restyle slow selectors for changes to anonymous content (non-native-anonymous).  (Bug 436453)  r+sr=bzbarsky 
I mistyped one of surkov's review comments for bug 436453.  (And the code does finally make sense to me.)  This apparently fixes some mochitests that, for some reason, aren't run on tinderbox. 
Support for word-wrap CSS property. Bug 99457, r+sr=dbaron, roc 
Make configure not crash when /bin/sh is dash and there's a config.cache.  (Bug 448020)  r=Pike, ted.mielczarek 
Don't do special parsing for media lists in HTML: match parentheses, even across commas, and allow media queries through.  (Bug 156716)  r+sr=bzbarsky 
Make ParsePositiveVariant restrict integers too, which affects existing call for -moz-column-count.  (Bug 156716)  r=bzbarsky sr=roc 
Implement Media Queries.  (Bug 156716)  r+sr=bzbarsky 
Implement Media Queries, part 2: infrastructure for dynamic change handling at the rule cascade and style sheet level.  (Bug 156716)  r+sr=bzbarsky 
Remove pointless null checks that are extremely unlikely to fail.  (Bug 156716)  r+sr=bzbarsky 
Implement media queries, part 3: infrastructure for dynamic change handling at the rule processor and style set level.  (Bug 156716)  r+sr=bzbarsky 
Implement Media Queries, part 4: infrastructure for dynamic change handling at the pres context level.  (Bug 156716)  r+sr=bzbarsky 
When propagating flushes up to the parent document, promote style flushes into layout flushes, since media queries mean that to get the correct style we need our container to be the correct size.  (Bug 156716)  r+sr=bzbarsky 
Fix media queries calculation of screen size for at least multi-monitor mirroring cases (where test_media_queries fails).  (Bug 156716)  r+sr=roc 
Tests for css3-mediaqueries.  (Bug 156716)  r+sr=bzbarsky 
Fold DoParseMediaList into ParseMediaList, since it is no longer necessary now that we don't do special parsing for media lists in HTML.  (Bug 156716)  r+sr=bzbarsky 
Handle effects of medium feature changes on XBL style sheets.  (Bug 156716)  r+sr=bzbarsky 
Fix a bunch of issues relating to dynamic changes of border images.  (Bug 445810)  r=robarnold  sr=bzbarsky 
Mark two test items as known to fail on Windows; failure filed as bug 448132. 
Oops, used the wrong todo function. 
Bug 430356.  Don't return negative pref and min intrinsic widths for XUL boxes/  r+sr=dbaron 
Bug 431520.  Don't do first-line styling on fieldsets, because it confuses the legend code, and it's not clear what it should even do.  r+sr=dbaron 
Bug 419285. nsCSSFrameConstructor should stop looking for first-letter content after a <br>. r+sr=dbaron 
p=sgautherie Av1 r/sr=jonas Cv1 r=dbaron 
use document.title instead of depreceated window.title, bug 448932 r=dbaron 
Label types of nsStyleCoord and nsStyleSides.  b=443057  r+sr=bzbarsky 
Untabify the few lines with tabs in nsStyleStruct.h 
Make scrollbars not be reflow roots anymore, since they don't obey all the invariants needed.  (Bug 366791)  r+sr=bzbarsky 
Merge Quotes and CounterData storage types into ValuePairList.  (Bug 322475)  r+sr=bzbarsky 
Make the -moz-column-rule-color test not assume that inputs have the same 'color' as divs.  (Bug 271586)  r=Ventnor 
-moz-system-metric selector doesn't update when the theme changes - bug 447045 r+sr=dbaron 
Bug 441418. Instead of guessing when frame broke at a first-letter boundary, explicitly record that in a reflow status bit. r+sr=dbaron 
Bug 447567. Instead of brutally wiping out effects properties whenever the style context changes for an SVG frame (which wouldn't work for non-SVG frames), create a new style change hint to handle it. r=longsonr,sr=dbaron 
Only rebuild rule cascades on medium feature change if they've already been built before.  (Bug 448281)  r+sr=bzbarsky 
Assert when we set the quirk style sheet after building rule cascades.  (Bug 448281)  r+sr=bzbarsky 
Don't printf CSS errors to standard output.  (Bug 449429)  r+sr=bzbarsky 
Backed out changeset fb56f835e52d due to test failure and leaks. 
Merge backout of changeset fb56f835e52d due to test failure and leaks. 
Backed out changeset 85a9eb44b240 (bug 366791) due to bug 449221. 
Merge backout of changeset 85a9eb44b240 (bug 366791) due to bug 449221. 
Mark one of the border-image tests as failing on Mac OS X 10.4.  (Bug 448121)  r+sr=bzbarsky 
Bug 238072. Rework generated content support to match CSS 2.1, making generated content take the normal frame construction path so supporting any style applied to it (including 'position', 'float', etc). r+sr=bz,r=dbaron 
Manually calculate the overflow area contribution from our children when not reflowing them. b=428278 r=bernd sr=dbaron 
Bug 441469.  Implement parsing of @font-face rules.  r+sr=dbaron 
Bug 438987. Propagate background color correctly when the root element is a table. r+sr=dbaron 
Bug 210094.  Make min-height and max-height work on fieldset.  r+sr=dbaron 
Bug 438987. Propagate background color correctly when the root element is a table. Relanding with a crash fix. r+sr=dbaron 
Bug 441469.  Implement parsing of @font-face rules.  r+sr=dbaron 
From bug 449561, bug 445949, and others: let's just ditch nsDerivedSafe since the class of errors it's trying to protect against are uncommon in today's world. r=dbaron 
Bug 230555. Support white-space:pre-line. r+sr=dbaron 
Bug 406299. Make sure we include the font ascent/descent of a soft hyphen if there is one. r+sr=dbaron 
Bug 441259. Account for trimmable width when deciding whether we can place a float on the line. Also, only try to place a float at a point where we can have a line break. r+sr=dbaron 
Bug 413048. Disable float breaking in columns. r+sr=dbaron 
Bug 406299. Make sure we include the font ascent/descent of a soft hyphen if there is one (gfx bits). r+sr=dbaron 
Bug 230555. Support white-space:pre-line (add tests). r+sr=dbaron 
bug 302971 - Scientific notation in stroke-width doesnt work r+sr=dbaron 
Bug 448704 â Eliminate <gripper> as an independent element. r=vlad/dbaron/enndeakin 
Bug 450196 - Don't use -Wconversion, a=dbaron 
Bug 423823. Clip overflowing background when tbody is scrollable. r=fantasai,sr=dbaron 
Bug 447739. When a uniform-color area is bitblitted to a new location while scrolling, the intersection of its old and new areas does not need to be invalidated. r+sr=dbaron 
Bug 238072. Make generated content take the normal frame construction path. Relanding with changes so that counter and quote nodes are initialized after their frames are available, more like the old code. r+sr=dbaron,bzbarsky 
Bug 265534.  Take some string constructors out of line to reduce codesize.  r=bsmedberg, sr=dbaron 
Bug 450137 - Add namespaces to multiple classes with the same name in xpcom/tests, to avoid automated tool confusion, r=dbaron 
Allow theme CSS to distinguish between themed and non-themed in Windows - bug 431666 r=vlad r=dbaron 
Bug 434458, add null checks to popup box object methods, r=smaug,sr=dbaron 
Bug 389406 â initial value for 'quotes' property is stored incorrectly and not reachable by -moz-initial; r+sr=dbaron 
Bug 376533 - "uClibc strings/index and childiterator.index conficts" [r=dbaron]
Bug 451028. Don't offset the exclusion region, it's in non-moving coordinates. r+sr=dbaron 
Bug 450350. Don't let the tiled vs single-image drawing path choice depend on the dirty area, since the rendering results can differ. r+sr=dbaron 
Bug 449233.  Assert when decrementing the jsdhash/pldhash recursion level past 0.  r=dbaron,brendan, sr=dbaron 
Bug 445570 - Mark CSSToken::mIdent heap autostring as we-know-what-we're-doing, r=dbaron 
Bug 450194 - Add -Wno-invalid-offsetof to our warnings flags, because we break the rules on purpose. r=dbaron 
accumulate margins as they might be overconstrained bug 444015 r/sr=dbaron 
Bug 78388 - Fix uses of |new nsAutoString / nsCAutoString| in RuleProcessorData, r+sr=dbaron 
Bug 452747. Make reftest robust against subpixel rendering on Mac. r=dholbert,sr=dbaron 
Make spacer attribute mapping code not depend on data in the style context (which attribute mapping code should not do).  (Bug 449435)  r+sr=bzbarsky 
bug 451264 allow reftest-wait and reftest-print together r=dbaron 
bug 451264 allowing reftest-wait and reftest-print together r=dbaron 
Bug 452238.  Remove unused imports collection code.  r+sr=dbaron 
Bug 443769.  Fix operator precedence snafu.  r+sr=dbaron 
Bug 243519. Rework root element frame construction and the CanvasFrame so that the CanvasFrame is an abs-pos container and the root element frame can be positioned. r=fantasai,sr=dbaron 
Bug 441367 - reduce repetitive code in nsRuleNode.cpp with SetDiscrete() and SetFactor() helper functions.  r+sr=dbaron 
Update to new parsing rules for grid media query per http://lists.w3.org/Archives/Public/www-style/2008Aug/0191.html .  (Bug 453759)  r+sr=bzbarsky 
Make min-/max- prefixed media features without values be parse errors, per http://lists.w3.org/Archives/Public/www-style/2008Sep/0002.html .  (Bug 453759)  r+sr=bzbarsky 
Change evaluation of media queries like (width) where actual values are lengths; treat zero lengths as false in such cases, per http://lists.w3.org/Archives/Public/www-style/2008Aug/0190.html and spec clarification.  (Bug 453759)  r+sr=bzbarsky 
Bug 243519. Rework root element frame construction and the CanvasFrame so that the CanvasFrame is an abs-pos container and the root element frame can be positioned. r=fantasai,sr=dbaron 
Correctly handle window resizes when one dimension is zero.  (Bug 453759)  r+sr=roc 
Flush view manager's delayed resize when flushing layout.  (Bug 453896)  r+sr=bzbarsky 
bug 454292:prbool fixes for layout r+sr=dbaron 
Bug 183348.  Fix cloning of sheets with @import rules.  Also fixes bug 290018, bug 436261, bug 444723, bug 445415.  r+sr=dbaron 
Bug 449171.  Fix bogus assertion.  r+sr=dbaron 
bug 452275: eliminate aErrorCode argument to most nsCSSScanner/nsCSSParserImpl functions. r+sr=dbaron 
bug 452278: CSSParserImpl::InitScanner() never fails; remove checks. r+sr=dbaron 
bug 452518: move private functions out of nsCSSScanner.h.  r+sr=dbaron 
Merge three changesets from Zack Weinberg <zweinberg@mozilla.com>. 
bug 454513 - browser_bug453896.js fails on all SeaMonkey unit test boxes, remove event listeners added by the tests when they aren't needed any more, r=dbaron 
Bug 453916: treat transparency strictly as a special case of color alpha.  r+sr=dbaron 
Fix use of incorrect variable, and harmless but valgrind-noisy use of variables in incorrect order.  (Bug 455093) 
Convert outline offset storage from nsStyleCoord to nscoord.  (Bug 443057)  r+sr=bzbarsky 
Convert border spacing storage from nsStyleCoord to nscoord.  (Bug 443057)  r+sr=bzbarsky 
Convert text-shadow and box-shadow storage from nsStyleCoord to nscoord.  (Bug 443057)  r+sr=bzbarsky 
Use consistent terms in comments describing nsStyleCoord values (length -> coord).  (Bug 443057)  r+sr=bzbarsky 
Comments about use of foreground color. 
Ensure we always skip to the next close parenthesis if a media query expression parse fails.  (Bug 454227)  r+sr=bzbarsky 
Bug 435293. Implement CSS transforms. r=dbaron,r+sr=roc 
Bug 368972: Default width/height for plugin placeholders should be 240px/200px (pinstripe fix and mochitest). r+sr=dbaron 
Bug 455280. Distinguish pre-transform overflow area from post-transform overflow area and have nsDisplaySVGEffects use the pre-transform area. r=kschwarz,sr=dbaron 
Bug 448767 - Add -moz-system-metric(mac-graphite-theme), r=vlad sr=dbaron 
Bug 450930. Fire a DOM event when painting so that content and chrome can track what's being repainted. r=smaug,sr=dbaron 
Remove the v1 string ABI compatibility hacks. Replace references of nsTAString_CharT with nsTSubstring_CharT which is the new base class. r=dbaron 
Bug 455217 - Selection colors for plain text files is wrong (white background, blue text instead of blue background, white text); "code" part; r+sr=dbaron 
Fix incorrect composition of translations with other transforms by making matrix multiplication code clearer, clarifying which matrices are for column vectors and which are for row vectors, and fixing incorrect matrix type conversions.  (Bug 455403)  r+sr=dbaron 
Backed out changeset aab6b12f4a2b (Bug 455403) due to reftest failures from landing patches in the wrong order, and unexplained reftest hangs. 
Merge backout of changeset aab6b12f4a2b (Bug 455403) due to reftest failures from landing patches in the wrong order, and unexplained reftest hangs. 
Bug 455403 - -moz-transform translate functions result in incorrect origin; v5; r+sr=dbaron 
Bug 455445 - -moz-transform skew() function should accept two parameters, and second should default to zero; r+sr=dbaron 
Bug 455265 - Default Y parameter for -moz-transform:translate differs from Apple's proposal; r+sr=dbaron 
Bug 455265 - Default Y parameter for -moz-transform:translate differs from Apple's proposal; additional comment nit; r+sr=dbaron 
Bug 456213 - -moz-transform matrix function with percentages confuses X and Y translate components; r+sr=dbaron 
Bug 455138 - Bug 435293 landed failing tests; r=(dbaron + roc) sr=dbaron 
Bug 456515 - Make reftest-sanity check HTTP content-type for .html vs .xhtml (r=dbaron) 
Bug 444034 - jprof fails to sort symbols correctly. r=dbaron 
For fixed-layout tables, leave room for the cell spacing for all columns, whether they have cells originating in them or not, since we don't know if cells for those columns will arrive as the table loads incrementally.  (Bug 444928)  r=bernd  sr=roc 
Bug 448121 - 1 border-image reftest (multi color border-image) slightly off on (SeaMonkey) Mac 10.4; (Bv1) Mark test has passing (now); r=dbaron 
Bug 448121 - 1 border-image reftest (multi color border-image) slightly off on (SeaMonkey) Mac 10.4; (Bv1) Mark test has passing (now); r=dbaron
Bug 455940, correction:  remove dist/bin rather than dist/dist/bin. 
Back out bug 455940 since it breaks many of the Windows boxes. 
Bug 455940: for now, remove dist/bin/components, so that the Windows builds will stop leaking due to the extra components. 
Fix spelling (s/depreciated/deprecated/) to force Windows builder to cycle. 
Add test for continuous firing of resize events.  (Bug 114649) 
Backed out changeset c1f6a55626be (bug 433616, part 2) because it probably caused a Windows XP performance regression. 
Merge backout of changeset c1f6a55626be (bug 433616, part 2) because it probably caused a Windows XP performance regression. 
Bug 413141 - drop -moz-opacity alias. r+sr=dbaron 
Bug 433065 - remove support for -moz-pre-wrap. r=dbaron sr=bz 
Bug 456147 - Fix color and layering of text-decoration:line-through in XUL textboxes [r=enndeakin sr=dbaron] 
Bug 450652 â Style system changes to support CSS3 border-radius â data structures for elliptical borders (part 1) [r+sr=dbaron] 
Bug 450652 â Style system changes to support CSS3 border-radius â parser changes (part 2) [r+sr=dbaron] 
Bug 450652 â Style system changes to support CSS3 border-radius â basic test cases (part 3) [r+sr=dbaron] 
Back out bug 114169 (changeset 8110e3bae4bf) and change the test (changeset 8f53fcb8bde5) to todos, to see if it was repsonsible for the regression in bug 458065. 
Backed out changeset 6f3797124c84: Relanding:  Fire resize events every 200ms during resizing, not just 200ms after resizing stops. (Bug 114649) r+sr=roc 
Merge relanding of bug 114649. 
Merge backout of changeset 4e7a2d27d636: relanding part of bug 433616 to test the theory that it was the cause of the regression, and something else caused an equal regression when we backed it out. 
Backed out changeset 6357eb31cec6 (bug 455311) for causing performance regression bug 458065. 
Merge backout of changeset 6357eb31cec6 (bug 455311) for causing performance regression bug 458065. 
Merge backout of changeset a8cfcc9b6d5c: relanding Bug 455990 - Close button on last open tab should be hidden. r=gavin 
Bug 452969.  Drop native theming for controls that inherit user-specified values.  r+sr=dbaron 
Fix glitches in border-image drawing.  (Bug 449647)  r=robarnold, sr=vlad 
Fix warnings about CascadeSheetRulesInto being declared but not defined.  (Bug 458813)  r+sr=bzbarsky 
Fix warnings about breaking strict aliasing rules by making mChildren a union.  (Bug 458813)  r+sr=bzbarsky 
Add a flags table for CSS properties.  (Bug 160403)  r+sr=bzbarsky 
Add CSS_PROPERTY_DIRECTIONAL_SOURCE property flag.  (Bug 160403)  r+sr=bzbarsky 
Handle serialization of inherit and -moz-initial for shorthand properties correctly, and refuse to serialize most unspecifiable cases of shorthands.  (Bug 160403)  r+sr=bzbarsky 
Bug 458463 - Rename nsStyleFont::mFlags to ::mGenericID and stop treating it like a bitfield; r+sr=dbaron 
Bug 456894 -  runtests.py can't handle negative leaks. r=dbaron, r=ted 
Mark the bullet frame dirty when its ordinal change. b=203727 r+sr=dbaron 
Construct all our image loaders when we create frames so that we can allow arbitrary numbers of image loaders per frame (for multiple background images).  (Bug 322475)  r+sr=bzbarsky 
Rename nsImageLoader to nsImageLoadNotifier, since it doesn't actually load images.  (Bug 322475)  r+sr=bzbarsky 
Remove three unused constants.  (Bug 322475) 
Fix issues with parsing of media query lists that have bad queries in them.  (Bug 454226)  r+sr=bzbarsky 
Fixing bustage.  (Bug 322475) 
Bug 394892 - Draw checkboxes and radiobuttons with NSButtonCell, r=josh sr=dbaron 
Make sure DidSetStyleContext methods call the base class DidSetStyleContext, and change the signature to return void.  (Bug 459649)  r+sr=bzbarsky 
Bug 450939 - Add -moz-window-shadow CSS property, r+sr=dbaron 
Bug 458969: dead stuff in nsSpaceManager r+sr=dbaron 
Bug 458969: dead stuff in nsSpaceManager r+sr=dbaron 
Bug 458381.  The empty string should represent the null namespace even for the default @namespace rule (no prefix case).  r+sr=dbaron 
No need to have virtual methods on nsCSSStyleSheetInner.  There's only one such class.  r+sr=dbaron 
Bug 459619. Add zoom support to reftest harness. r+sr=dbaron 
Bug 459619. Add zoom support to reftest harness. r+sr=dbaron. Adding new files 
Bug 428263. Don't treat continuations of blocks as 'continuations' for setting zeroEffectiveSpanBox, since they're not span-continuations which is all we care about here. r+sr=dbaron 
Bug 457208 - Useless border rules for input[type=image] in quirk.css; r+sr=dbaron 
Bug 453103. Make reftests robust against Mac subpixel rendering quirks. r+sr=dbaron 
Bug 453468: fix regression in wrap attribute in textareas from bug 99457. r+sr=dbaron 
b7253556900e	Simon Montagu â Bug 453468: fix regression in wrap attribute in textareas from bug 99457. r+sr=dbaron 
Use iterative algorithms when cloning and deleting lists. b=456196 r+sr=dbaron 
trigger fixed layout if the width cahnges from auto to fixed, bug 426629r/sr=dbaron 
Bug 456519 - Improve reporting of reftest "failed to load" cases. r=dbaron. 
Remove additional chunk of code that should have been removed in bug 238072.  (Bug 460029)  r+sr=bzbarsky 
Fix failure to propagate aInherited result of nsRuleNode::CalcLength.  (Bug 460440)  r=kschwarz  sr=bzbarsky 
Convert tabs to spaces. 
Fix bustage.  (Bug 460440) 
Merge. 
Bug 451909 - kill MOZ_XUL_APP now that all apps set it; extensions cleanup (spellchecker, layout-debug); r+sr=(bienvenu + dbaron) 
Bug 460664.  Reset prop inheritance should skip first-line even if the whole struct is inheriting.  r+sr=dbaron 
Add a preference for visited link support.  (Bug 147777)  r+sr=bzbarsky 
Bug 459086. Use XUL GetBorderAndPadding method to avoid assertion. r+sr=dbaron 
Bug 228856 - [FIX] \0 in CSS is ignored; r+sr=dbaron 
Make a CSS property bit for whether serialized value lists should use commas.  (Bug 461731)  r+sr=bzbarsky 
Add nsCSSProps::PropHasFlags to address bzbarsky's review comments.  (Bug 461731)  r+sr=bzbarsky 
Backed out changeset d7338fec7266 (from bug 322475, which made us construct all our image loaders at frame construction time) because of issues with propagation of backgrounds to the canvas (bug 460796). 
Merge backout of changeset d7338fec7266 (from bug 322475, which made us construct all our image loaders at frame construction time) because of issues with propagation of backgrounds to the canvas (bug 460796). 
Backed out changeset 7f708623bf59 (from bug 322475, which made us construct all our image loaders at frame construction time) because of issues with propagation of backgrounds to the canvas (bug 460796). 
Merge backout of changeset 7f708623bf59 (from bug 322475, which made us construct all our image loaders at frame construction time) because of issues with propagation of backgrounds to the canvas (bug 460796). 
Backed out changeset 23eebebb8b48 (from bug 322475, which made us construct all our image loaders at frame construction time) because of issues with propagation of backgrounds to the canvas (bug 460796). 
Merge backout of changeset 23eebebb8b48 (from bug 322475, which made us construct all our image loaders at frame construction time) because of issues with propagation of backgrounds to the canvas (bug 460796). 
Fix various mistakes in handling of mBorderImageLoaders.  (Bug 446328)  r+sr=dbaron 
Merge. 
Delete mNext iteratively to avoid blowing up the stack. b=460461 r+sr=dbaron 
Keep pres shell alive during ProcessRestyledFrames.  (Bug 462392)  r+sr=bzbarsky 
Don't eat up too much when we hit an error in the last media query in a list.  (Bug 461266)  r+sr=bzbarsky 
Correct mochitest for bug 461266. 
Bug 460240. box-shadow style changes sometimes need a REFLOW hint, so ensure we don't return prematurely with VISUAL before we check the box-shadow styles. r+sr=dbaron 
Bug 442304. Don't try to clip table cells in %-overheight situations in quirks mode. (Basically we're just removing a quirk here.) r=bernd,r+sr=dbaron 
Bug 454578.  Load the quirk stylesheet separately from the general UA stylesheet, so it can be sensibly enabled/disabled in style sets.  r+sr=dbaron 
Bug 458487 - 'Rework image snapping logic'. r=vlad+joedrew, sr=dbaron 
Bug 462307 - 'Speed up columns case hit by HTML5 spec'. r+sr=dbaron 
Bug 462972 - 'Fix nsChangeHint comparisons'. r=bernd, sr=dbaron 
Bug 457825 - Support access control headers when downloading fonts.  r=jonas,dbaron, sr=jonas 
Bug 455057 - some chrome images have embedded profiles (sRGB chunk removal). ui-r=faaborg, r=dbaron 
Bug 463204. Be more careful about snapping the anchor point. We must transform the anchor point to match the snapping of the fill rect before we actually snap it to device pixels. r+sr=dbaron 
Make about:blank work correctly as a reference for reftests served over HTTP.  (Bug 457821)  r=jwalden 
Allow HTTP(..), HTTP(../..) that allow HTTP reftests to use resources not in the same directory.  (Bug 457821)  r=jwalden 
Add a set of fonts for presence testing, each of which has a single glyph at the codepoint for a capital letter A-Z.  (Bug 457821) 
Add some tests for @font-face (static cases, not dynamic ones).  (Bug 457821) 
b=454473, win32 bookmarks toolbar repopulates after resize; r=robarnold, sr=dbaron 
Bug 463217. Don't let nsLayoutUtils::DrawSingleImage/DrawSingleUnscaledImage do any tiling, restrict their drawing to the single tile. r+sr=dbaron 
Bug 458440 - Attempt to work around speculative parsing crash. r+sr=dbaron 
Bug 458381 followup: tests and a code fix for a problem the tests caught.  r+sr=dbaron, a=beltzner 
Bug 462458.  Update @charset detection to spec changes.  r+sr=dbaron, a=beltzner 
Remove unwanted style attribute that slipped in from vlad's changes. 
Adjust expected results based on http://lists.w3.org/Archives/Public/www-style/2008Nov/0190.html and add tests for format().  (Bug 457821) 
Better approach to some tests to avoid subpixel spacing differences.  (Bug 457821) 
Mark test as random on Mac, since it just failed on the tinderobx. 
OK, this is random on Windows too. 
Mark yet another test random awaiting the font cache patch in bug 457821. 
Bug 464811. Tweak the anchor point snapping algorithm again. This time we have a proof that the resulting snapping algorithm guarantees the subimage rectangle intersects the logical source rectangle. r+sr=dbaron 
Bug 464811. Snap the anchor point to pixels using a method that guarantees the source rect and the subimage rect intersect. r+sr=dbaron 
bug 464970 -  nsCSSBorderRenderer::AreBorderSideFinalStylesSame is too pessimistic. r=vlad, a=beltzner 
Bug 379317 no longer affects these tests thanks to bug 464970. 
Make layout/reftests/text/444656.html not depend on the size ratio between Hebrew and Western fonts.  (Bug 466484)  r=smontagu  a=tests 
Add tests for the format() function in the 'src' descriptor that use a known-unsupported value in addition to an unknown value.  a=tests 
Make zwnj-02.html reftest more tolerant of font anti-aliasing.  (Bug 465140)  r=smontagu  a=tests 
Make justification test pass more reliably on Mac, which is sensitive to subpixel positioning of text, by replacing <wbr> elements with zero-width spaces.  (Bug 466101)  r+sr=roc  a=tests 
Use a host that we proxy to the local server so that the test doesn't require network access.  (Bug 466102)  r+sr=bzbarsky  a=tests 
Remove nsHTMLReflowState::mPercentHeightReflowInitiator, which is write-only.  (Bug 438509)  r+sr=roc  a=blocking1.9.1+ 
Avoid exponential growth of special height reflows.  (Bug 438509)  r=dholbert  sr=roc  a=blocking1.9.1+ 
Simplify condition, part 1, since mVResize already implies IsGeometryDirty thanks to the code immediately above.  (Bug 438509)  r=dholbert  sr=roc  a=blocking1.9.1+ 
Simplify conditions, part 2, since we're really only trying to avoid IsGeometryDirty if we're not going to need any reflow at all.  (Bug 438509)  r=dholbert  sr=roc  a=blocking1.9.1+ 
Add test for slow performance in bug 438509, as suggested by dholbert, and based on a testcase he wrote.  a=blocking1.9.1+ 
Fix assertion about being too late to set quirks style sheet.  (Bug 450191)  r+sr=bzbarsky  a=blocking1.9.1+ 
Fix cascading bugs with @font-face rules (and prepare for handling dynamic changes) by accumulating the @font-face rules across rule processors through the style set.  (Bug 457821)  sr=bzbarsky  r=jdaggett  a=blocking1.9.1+ 
Rebuild the user font set when style sheets are enabled/disabled/added/removed, rules are modified/added/removed, or media changes change which style sheets apply.  (Bug 457821)  sr=bzbarsky  r=jdaggett,bzbarsky  a=blocking1.9.1+ 
Remove gfxFontLoaderContext, which seems to be replaced by gfxUserFont::LoaderContext.  (Bug 457821)  r=jdaggett  a=blocking1.9.1+ 
Check that the user font set matches before returning an entry from the font cache.  (Bug 457821)  r=jdaggett  sr=roc  a=blocking1.9.1+ 
Add tests for dynamic changes to @font-face.  (Bug 457821)  a=blocking1.9.1+ 
Introduce two different definitions of the placeholder's containing block in InitAbsoluteConstraints, since we want to use a different one for the hypothetical box and for the direction.  (Bug 462844)  r+sr=bzbarsky  a=blocking1.9.1+ 
Handle some additional codepaths for position: fixed elements inside elements with -moz-transform.  (Bug 455171)  r+sr=bzbarsky  a=blocking1.9.1+ 
Make mochitests not build and search the results table when run inside the harness.  (Bug 466104)  r=sayrer  a=tests 
Distribute extra space in fixed-layout tables where all columns have widths proportionally rather than equally, for compatibility.  (Bug 445142)  r=bernd  sr=roc  a=blocking1.9.1+ 
I meant to use Mark2A rather than MarkB in prop-order-over-rule-order* tests (thanks to karlt for pointing out the problem).  And, while I'm here, make a second multiple-in-family test variant so we don't lose any test coverage from the correction.  a=tests 
Back out 48da1d4688225df4aaeb0c56744b7f150d65f5df due to mac startup failures. 
Back out 6ce5f62a59455c79b3e12414989d3727f283b7c3 due to mac startup failures. 
Merge backout of 6ce5f62a59455c79b3e12414989d3727f283b7c3 due to mac startup failures. 
Back out 342b86dd79f48f11583e7b6526a5b78457d29a1c due to mac startup failures. 
Merge backout of 342b86dd79f48f11583e7b6526a5b78457d29a1c due to mac startup failures. 
Back out 5d6db13efa26534e3904b5afa5e6faf31c0c82f0 due to mac startup failures. 
Merge backout of 5d6db13efa26534e3904b5afa5e6faf31c0c82f0 due to mac startup failures. 
Back out 6b99f95a3ee3e077bc85ab8ee36b7685b846faf4 due to mac startup failures. 
Merge backout of 6b99f95a3ee3e077bc85ab8ee36b7685b846faf4 due to mac startup failures. 
Back out 8d2453e98c3fc55ef6b02becf7a8e4d86a066e34 due to mac startup failures. 
Merge backout of 8d2453e98c3fc55ef6b02becf7a8e4d86a066e34 due to mac startup failures. 
Back out 5bc893b6bdf23dcd44601727df5baab8a0dd361e due to mac startup failures. 
Merge backout of 5bc893b6bdf23dcd44601727df5baab8a0dd361e due to mac startup failures. 
Back out 71032d21e8b1e6955baa996d9555624252700c6e due to mac startup failures. 
Merge backout of 71032d21e8b1e6955baa996d9555624252700c6e due to mac startup failures. 
Back out 91690545debc0d3537fcb0598ebd6ac7e21f2072 due to mac startup failures. 
Merge backout of 91690545debc0d3537fcb0598ebd6ac7e21f2072 due to mac startup failures. 
Fix cascading bugs with @font-face rules (and prepare for handling dynamic changes) by accumulating the @font-face rules across rule processors through the style set.  (Bug 457821)  sr=bzbarsky  r=jdaggett  a=blocking1.9.1+ 
Rebuild the user font set when style sheets are enabled/disabled/added/removed, rules are modified/added/removed, or media changes change which style sheets apply.  (Bug 457821)  sr=bzbarsky  r=jdaggett,bzbarsky  a=blocking1.9.1+ 
Remove gfxFontLoaderContext, which seems to be replaced by gfxUserFont::LoaderContext.  (Bug 457821)  r=jdaggett  a=blocking1.9.1+ 
Check that the user font set matches before returning an entry from the font cache.  (Bug 457821)  r=jdaggett  sr=roc  a=blocking1.9.1+ 
Add tests for dynamic changes to @font-face.  (Bug 457821)  a=blocking1.9.1+ 
Introduce two different definitions of the placeholder's containing block in InitAbsoluteConstraints, since we want to use a different one for the hypothetical box and for the direction.  (Bug 462844)  r+sr=bzbarsky  a=blocking1.9.1+ 
Handle some additional codepaths for position: fixed elements inside elements with -moz-transform.  (Bug 455171)  r+sr=bzbarsky  a=blocking1.9.1+ 
Distribute extra space in fixed-layout tables where all columns have widths proportionally rather than equally, for compatibility.  (Bug 445142)  r=bernd  sr=roc  a=blocking1.9.1+ 
I meant to use Mark2A rather than MarkB in prop-order-over-rule-order* tests (thanks to karlt for pointing out the problem).  And, while I'm here, make a second multiple-in-family test variant so we don't lose any test coverage from the correction.  a=tests 
Backed out changeset eac2f8f3cd29 due to mochichrome timeout. 
Merge backout of changeset eac2f8f3cd29 due to mochichrome timeout. 
Mark sheet-set-switch-1.html as random on Mac. 
Bug 463952. Expand destArea according to CSS background-repeat *before* intersecting with bgClipArea, instead of after. r+sr=dbaron 
Merge roc-1.bundle to land 5 patches for roc. 
Bug 459968. Fix some integer overflows in the style system and in min/pref width computation for text. r+sr=dbaron 
Bug 462968. Sanitize block height. r+sr=dbaron 
Bug 463292. Make text-shadows in XUL nsTextBoxFrames get the correct overflow area and actually paint when only the overflow area is intersected. r+sr=dbaron 
Merge bug 464791 for Rob Strong. 
Bug 451426 seems to have fixed bug 465409, so removing failures from manifest. 
Bug 451426 fixed all of the randomness in these reftests as well (including bug 465408 and the x86-Mac randomness). 
Annotate known failures with bug numbers. 
Follow-on fix for bug 457825. Use sheet principal for agent and user sheets. r=dbaron,bz sr=dbaron 
Bug 459968. Fix some integer overflows in the style system and in min/pref width computation for text. r+sr=dbaron 
Bug 462968. Sanitize block height. r+sr=dbaron 
Bug 463292. Make text-shadows in XUL nsTextBoxFrames get the correct overflow area and actually paint when only the overflow area is intersected. r+sr=dbaron 
Bug 457398. Don't treat empty lines as the first line for text-indent or first-letter/first-line purposes. r+sr=dbaron 
Don't assert when we call GetUserFontSet during frame construction.  (Bug 466756)  r+sr=bzbarsky  a191=beltzner 
bug 458924 - activate the DidResizeColumns mechanism when column widths changes in fixed layout. r/sr=dbaron 
Use larger values for no-minimum and no-maximum so that we don't cross them.  (Bug 466395)  r+sr=roc  a191=beltzner 
Bug 466372 - Add a global result summary to RefTest output; (Av2) Add dynamic summary to reftest.js; r=dbaron 
Bug 458847 - colordepth.html TEST-UNEXPECTED-FAIL on my Windows 2000: 24<->32 bit colors mismatch; (Av2a) Allow higher values, on all platforms; r=dbaron 
Bug 467283. Ignore dirty rect when doing any image resampling --- it will lead to artifacts. r+sr=dbaron,r=vlad 
Bug 458898. Fix intrinsic sizing of windows by ensuring CanvasFrame converts an NS_UNCONSTRAINEDSIZE desired height to its actual desired height. r+sr=dbaron 
Bug 465928. Avoid SetInvalidateTextRuns being called by nsBlockFrame::DoRemoveFrame when we're just deleting empty continuation frames. r+sr=dbaron 
Bug 463307. Convert to float a bit earlier to avoid integer overflow. r+sr=dbaron 
Backed out changeset ba0d099c6eb6 on suspicion of causing make check and mochitest timeouts on Windows related to exthandler tests. 
Merge backout of changeset ba0d099c6eb6 on suspicion of causing make check and mochitest timeouts on Windows related to exthandler tests. 
Make the code to suppress infinite synthesized mouse move loops work again with asynchronous style changes.  (Bug 302561)  r+sr=bzbarsky,roc 
Remove now-unneeded argument from GetWidthInfo.  (Bug 466108)  r=dholbert  sr=roc 
This script depends on bash-isms and doesn't run in dash, so say so.  (Bug 466050)  r=bsmedberg 
Pass the user font set through more reliably and make it a required parameter.  (Bug 467084)  r+sr=roc  a=blocking1.9.1+ 
Avoid discontinuity when options drop to height:0 by using CalcFallbackRowHeight only when GetNumberOfOptions() == 0, thus eliminating the last caller of CalcFallbackRowHeight passing a non-zero option count.  (Bug 467084)  sr=roc  r=bzbarsky  a=blocking1.9.1+ 
Fix slight errors when widths can't be round-tripped through floats.  (Bug 467141)  r+sr=roc 
Remove some unreachable stub code for en (half an em) and cap (cap-height metric of font) units that we never create.  (Bug 458878)  r+sr=bzbarsky  a=blocking1.9.1+ 
Allow PostRebuildAllStyleData to be called with an aExtraHint.  (Bug 458878)  r+sr=bzbarsky  a=blocking1.9.1+ 
Make 'width', 'height', and 'aspect-ratio' features use the page size when printing.  (Bug 466559)  r+sr=bzbarsky  a=blocking1.9.1+ 
Make incremental frame construction set mFixedPosIsAbsPos just like from-the-top frame construction.  (Bug 467460)  r+sr=roc 
Make FindBestWindow faster when there are a lot of windows (many of which may be Firefox windows).  (Bug 467635)  r+sr=roc 
Backed out changeset 7b553bbed53d (bug 302561) due to chrome test crash. 
Merge backout of changeset 7b553bbed53d (bug 302561) due to chrome test crash. 
Bug 460217 - handle @font-face block without family name correctly in nsCSSRuleProcessor - r+sr=dbaron 
Bug 448512: fix crash on quit on Linux (and Solaris) with active Xinerama, r=dbaron, sr=roc 
Bug 335531 - Correct misuse of "UTF-16BE", "UTF-16LE", "UTF-32BE", and "UTF-32LE" charset labels; r=smontagu sr=dbaron 
Bug 458588 - remove uses of -moz-outline* and drop the aliases afterwards; remove the aliases; r+sr=dbaron 
Bug 458588 - remove uses of -moz-outline* and drop the aliases afterwards; remove the aliases; r+sr=dbaron
Bug 335531 - Correct misuse of UTF-16BE, UTF-16LE, UTF-32BE, and UTF-32LE charset labels; r=smontagu sr=dbaron 
Add a test for bug 468167 
Bug 458588 - drop -moz-outline* aliases. r+sr=dbaron 
Add tests for media queries in print media.  (Bug 466171)  r=dbaron 
Use a local stack rather than the call stack in SkipUntil to avoid excessive recursion.  (Bug 432561)  r+sr=bzbarsky 
Make the code to suppress infinite synthesized mouse move loops work again with asynchronous style changes.  (Bug 302561)  r+sr=bzbarsky,roc 
Bug 465913. Don't need to call BreakFromPrevInFlow in nsContainerFrame::DeleteNextInFlowChild. r+sr=dbaron 
Bug 467987. Speed up reftests by caching the rendering of pages which will be needed again. r+sr=dbaron 
Bug 463242. Ideographic spaces should not get CSS word-spacing, but nonbreaking spaces should. r+sr=dbaron 
Rebuild all style data when the user font set changes so that we recompute ex and ch units.  (Bug 458878)  r=jdaggett  sr=bzbarsky  a=blocking1.9.1+ 
This feature is no longer particularly useful because core files on Linux are now generally called core.$PID (although occasionally core), and it is potentially quite harmful since Mozilla can become very slow to start for users with large core files in their home directory. 
Fix error in reftest manifest file causing reftests not to be run. 
Make exceptions (e.g., reftest manifest errors) print the magic word for getting logged as errors.  (Bug 468476)  r=ted.mielczarek 
Bug 458898. Make sizeToContent work for HTML documents by ensuring CanvasFrame converts an UNCONSTRAINEDSIZE computed height into its actual desired height. r+sr=dbaron 
Make mochitests not build and search the results table when run inside the harness.  (Bug 466104)  r=sayrer 
Backed out changeset 957a4fed14af (bug 466104) due to leaks 
Merge backout of bug 466104. 
Bug 468753 - Startup crash in nsViewManager::ProcessSynthMouseMoveEvent; r+sr=dbaron 
Bug 462233 - Checkboxes and radio buttons being squashed / stretched horizontally on Mac, r=josh r=bzbarsky sr=dbaron 
Bug 468023 - Synchronize RefTest results to tinderbox waterfall from (new) log; (Bv2a) New summarized log format; r=dbaron 
Backed out changeset 12f97a5bc3b6 (bug 468824) for causing failed unit test because of differences between config/system-headers and js/src/config/system-headers 
Merge backout of changeset 12f97a5bc3b6 (bug 468824) for causing failed unit test because of differences between config/system-headers and js/src/config/system-headers 
Bug 468702. Fix tests for bug 466395 that fail due to Mac subpixel rendering. r+sr=dbaron 
Disable -moz-transform and -moz-transform-origin for :first-line and :first-letter pseudo-elements.  (Bug 466845)  r+sr=bzbarsky  a=blocking1.9.1+ 
Replace mechanism for restricting the properties that apply to :first-line and :first-letter.  (Bug 469227)  r+sr=bzbarsky 
Don't mark properties as applying to first-line / first-letter if there were comments if those properties were implicitly ignored by the old code either through never being used, or through another (*-style) property being ignored.  (Bug 469227)  r+sr=bzbarsky 
Fix properties that incorrectly applied to :first-letter or :first-line.  (Bug 469227)  r+sr=bzbarsky 
Use an iterative algorithm when deleting lists to avoid exhausting the stack space. b=460444 r+sr=dbaron r=jst 
Add a few missing null-checks. Return error code from GetRuleLine() when it fails. b=462787 r+sr=dbaron 
Add a null-check. b=462789 r+sr=dbaron 
Make zoomed-out reftests draw the whole area that they're supposed to draw.  (Bug 421203)  r+sr=roc 
Paint different backgrounds behind the reftest test and references to detect areas that are not painted at all.  (Bug 454349)  r=dbaron 
Move wrapping of blocks inside XUL into ProcessChildren to catch more callers.  (Bug 421203)  r+sr=roc  a=blocking1.9.1+ 
Put 'thin' in the initial_values section instead of the other_values section for border shorthands, since the width should be 0px when border-style is none. 
Backed out changeset 5bf3661db065 (Bug 454349) due to Windows reftest failures. 
Merge backout of changeset 5bf3661db065 (Bug 454349) due to Windows reftest failures. 
Fix test to deal with wrapping in bug 421203. 
Bug 449142. Draw video with the same aspect ratio as the underlying media, centered within the video element's CSS box. r=doublec,sr=dbaron 
Bug 468991. Move GetVisibleArea call to avoid using a stale visible area. r+sr=dbaron 
Bug 455057 - some chrome images have embedded profiles. r=dbaron, ui-r=faaborg 
bug 469331 - [SeaMonkey] test_bug458898.html fails, mark the test todo on SeaMonkey for now, r=dbaron 
Bug 458160 - Reftests for .otf fonts. r+sr=dbaron 
Set up image loaders before reflow for border-image in XUL just like for HTML.  (Bug 468473)  r+sr=roc 
Remove bogus assertion.  (Bug 470063)  r+sr=roc 
Fix bugs in handling of inherit, initial, and none for -moz-border-*-colors.  (Bug 389404)  r+sr=bzbarsky 
Make layout-debug extension work again.  (Bug 470058)  r=Pike 
Make the Windows widget code report 24-bit color depth when the display driver reports 32, since it's the same number of bits per pixel.  (Bug 466669)  r=vlad 
Remove comment that should have been removed in bug 160403.  (Bug 376075)  r+sr=bzbarsky 
Check consistency before returning 'border' shorthand.  (Bug 376075)  r+sr=bzbarsky 
Suppress serialization of -moz-use-text-color in border shorthand in property getters just like we do in declaration serialization.  (Bug 376075)  r+sr=bzbarsky 
Condense box property four side shorthands in value getters, just as in serialization.  (Bug 376075)  r+sr=bzbarsky 
Don't say that the font or background shorthands are present when the properties that they reset but can't otherwise specify are not their initial values.  (Bug 376075)  r+sr=bzbarsky 
Rewrite the shorthand condensation code in nsCSSDeclaration::ToString.  (Bug 376075)  r+sr=bzbarsky 
Disallow negative values on -moz-box-ordinal-group, since it's stored in an unsigned integer and clearly intended to be only positive.  (Bug 470703)  r=enndeakin  sr=bzbarsky 
Reject duplicate keywords for 'text-decoration'.  (Bug 470704)  r+sr=bzbarsky 
Enforce the restriction that values of stroke-miterlimit are greater than 1, rather than just using ParsePositiveVariant.  (Bug 470706)  r=jwatt  sr=bzbarsky 
Fix computed style for large integers by using double instead of float.  (Bug 470769)  r+sr=bzbarsky 
bug 469331 - [SeaMonkey] test_bug458898.html fails, make the width test function always ok on Windows, r=dbaron 
Backed out changeset 441f119f1a0c (Bug 470769) due to failures in layout/style/test/test_bug365932.html 
Merge backout of changeset 441f119f1a0c (Bug 470769) due to failures in layout/style/test/test_bug365932.html 
Readd test for computed style for large integers (even though patch was backed out).  (Bug 470769)  r+sr=bzbarsky 
Bug 470209 - intl.charsetmenu.browser.unicode should not be included in localizable file; r=smontagu sr=dbaron 
Better handling of overflowing integer values.  (Bug 440230)  r+sr=roc 
Make 'word-spacing: normal' just compute to '0', since that's what CSS 2.1 says to do, and thus change nsStyleText::mWordSpacing from nsStyleCoord to nscoord.  (Bug 470705)  r+sr=roc 
Fix an off-by-border-and-padding error in nsVideoFrame::BuildDisplayList.  (Bug 470596)  r+sr=roc 
Fix placement of video controls when top and right padding are different.  (Bug 470596)  r+sr=roc 
Add test for bug 470596.  r=dolske 
Fix compiler warnings in nsCaret.cpp. Bug 470574, r+sr=dbaron 
Bug 437366.  Make sure to not paint black-on-black in dark high-contrast themes when 'Allow pages to use their own colors' is unchecked and the page tries styling a form control.  r+sr=dbaron 
Bug 469203. Don't try to make toplevel HTML documents transparent, it just doesn't work and the window can disappear in a mysterious way. r+sr=dbaron 
Bug 458296. When a block doesn't carry out the bottom-margin of its children, add that bottom-margin to its overflow area. Also, add the bottom-padding of a scrolled block to its overflow area. r+sr=dbaron 
Bug 449142. Scale video so that it fits in the content-box of the element and has the same aspect ratio as the video source. Also adds some Ogg video reftests. r=doublec,sr=dbaron 
Expect percentages to be unsupported for -moz-column-width.  I'm not sure why I made it as it is, since they were never supported in either our implementation or the spec. 
Give nsPageBreakFrame a frame name for DEBUGging code.  (Bug 468645)  r+sr=bzbarsky 
Fix style context invariants so we can re-resolve page break frames.  (Bug 468645)  r+sr=bzbarsky 
Prevent posting media query changed events during construction.  (Bug 468645)  r+sr=bzbarsky 
DeCOMtaminate nsIPresShell::GetDidInitialReflow.  (Bug 468645)  r+sr=bzbarsky 
Fix handling of 'orienation' feature in print-preview.  (Bug 468645)  r+sr=bzbarsky 
SetVisibleArea doesn't need to lead to media query change handling when paginated (e.g., when doing a SizeToContent around a print preview window).  (Bug 468645)  r+sr=bzbarsky 
Prevent rebuilding all style data when paginated.  (Bug 468645)  r+sr=bzbarsky 
Pass the correct parent content when re-resolving the inner table for a display:table pseudo-element (:before or :after).  (Bug 468645)  r+sr=bzbarsky 
Don't post media features values changed events when nothing changed.  (Bug 468645)  r+sr=bzbarsky 
Fix nsLayoutUtils::IsReallyFixedPos to work right in paginated mode.  (Bug 468645)  r+sr=bzbarsky 
Add crashtests for bug 468645. 
Reject 0 as a value for -moz-column-count.  (Bug 471341)  r+sr=bzbarsky 
Distinguish clip:rect(auto,auto,auto,auto) from clip:auto as the spec requires.  (Bug 372063)  r+sr=bzbarsky 
Fix regression in CalcQuirkContainingBlockHeight from change from area frame to block frame in bug 243519.  (Bug 471356)  r+sr=roc 
Stop using nsAreaFrame for anything other than xul:label, which is the only thing for which it does anything different from nsBlockFrame, and rename it accordingly.  (Bug 471356)  r+sr=roc 
Fix trivial compiler warning introduced by bug 471356. 
Bug 240029 - table in this page incorrectly off right edge of page when fonts are small; r+sr=dbaron 
Bug 389623 - box with background-attachment:fixed goes on top of floats; reftest; r+sr=dbaron 
Bug 469331 - [SeaMonkey] test_bug458898.html fails; (Cv1) Report the (failing) values; r=dbaron 
Fix some missed renames from bug 471356.  r+sr=bzbarsky 
Add some reftests for float behavior. 
Forgot to rev IID in bug 468645 (changeset efbec418c3a1). 
Fix assertion in bug 468645, per bzbarsky's followup review comment.  r+sr=bzbarsky 
Remove the VerifyReflow code that checked the space manager state.  (Bug 191448)  r+sr=roc 
Remove TestSpaceManager.  (Bug 191448)  r+sr=roc 
Rename flags and methods from space manager to float manager.  (Bug 191448)  r+sr=roc 
Replace space manager with a more limited float manager.  (Bug 191448)  r+sr=roc 
Give nsFloatManager::FloatInfo a copy constructor to avoid confusing refcount logging.  (Bug 191448) 
Bug 429968. Handle situations where first-letter text detects first-letter style should not be applied, by creating a zero-length 'first letter'. r+sr=dbaron 
Bug 457862 -  onresize events should fire at every resize while resizing the window, r+sr=dbaron 
Bug 471365. Make reftest-wait tests track invalidation via MozAfterPaint and repaint the invalid areas like normal window repaining would. This makes invalidation-related bugs testable. r=dbaron 
Bug 437366. Make sure to not paint black-on-black in dark high-contrast themes when 'Allow pages to use their own colors' is unchecked and the page tries styling a form control. r+sr=dbaron 
Add nsTArray<E>::TruncateLength, which is like SetLength, except only allows shortening of the array.  (Bug 191448)  r=bsmedberg 
Fix tests to match what they should have been testing, and fix nsFloatManager behavior to match what the old code actually did as far as considering floats at the side that did not protrude into the containing block.  (Bug 472252)  r+sr=roc 
Change code for handling out-of-nscoord-range values from NS_NOTREACHED to NS_WARNING.  (Bug 472218)  r+sr=roc 
Bug 472237 - check for null user font set before using. r+sr=dbaron 
Bug 472244. Flush out MozAfterPaint for previously painted areas before we go ahead and fire MozReftestInvalidate to test invalidation. Also make canvas.drawWindow take float parameters so we can more precisely specify the area to render when 'device pixels' don't match CSS pixel boundaries. r=dbaron,vlad 
Split insert-rule-1 into two tests, each of which inserts only one rule, so that we can remove reftest-wait at the right time and make the test reliable.  (Bug 472267) 
Expose the number of assertions since process start from XPCOM.  (Bug 472557)  r=bsmedberg 
Make reftest test for assertions on individual tests.  (Temporarily disabled until tinderboxes set up and manifests annotated.)  (Bug 472557)  r=Waldo 
More tests for outside cases for rule 3. 
Handle mouseover/mouseout when the mouse transitions between the video element and its videocontrols child (which covers its entire content area).  (Bug 470596)  r=dolske,enndeakin 
Synchronize pldhash with recent changes to jsdhash by rerunning through plify_jsdhash.sed. 
Add ability to mark JSDHashTable/PLDHashTable as immutable and thus prevent RECURSION_LEVEL assertions from firing due to lookups racing on multiple threads.  (Bug 469004)  r=brendan,mrbkap 
Address my own review comment:  Restore IsTransparent() check, which should restore old behavior for background-images when printing backgrounds is disabled.  (Bug 456219)  r=zwol 
Bug 468507 - Use DrawCellWithSnapping when drawing push buttons, r=josh sr=dbaron 
Bug 465452 - better handling of format hints for downloadable fonts. r=dbaron. 
Clean up CalcAvailWidth.  (Bug 444928)  r=bernd 
Only run assertion checks in DEBUG builds.  (Bug 472557)  r=Waldo,bsmedberg 
When re-resolving style, re-resolve root in undisplayed map too.  (Bug 473042)  r+sr=bzbarsky 
Backed out changeset 046f5da25280 due to crash in layout/forms/test/ mochitests. 
Merge backout of changeset 046f5da25280 due to crash in layout/forms/test/ mochitests. 
Bug 472730, window.sizeToContent() causes hang & full CPU usage, due to extreme recursion, r+sr=dbaron 
Bug 452834 - Add geolocation to the cycle collector.  r/sr=dbaron 
Bug 473587 - nsTString::ToInteger can overflow. Detect and prevent this condition, r+sr=dbaron 
bug 473935 - add sandbox property indicating whether test plugin is present. r=dbaron 
Recheck media queries when changing text zoom since em units have changed.  (Bug 473400)  r+sr=bzbarsky 
Don't suppress use of overridden virtual destructors, so we fix the appearance of a leak in the leak statistics.  (Bug 473548)  r+sr=roc 
Put nsIDOMNSCSS2Properties in its own file to reduce risk of bumping the IID of the wrong interface.  (Bug 473418)  r+sr=jst 
When re-resolving style, re-resolve root in undisplayed map too.  (Bug 473042)  r+sr=bzbarsky 
Add assertions to EndReconstruct that all style contexts have been reresolved.  (Bug 473871)  r+sr=bzbarsky 
Backed out changeset 9b832d90d637 (bug 462188) due to 7 test failures on Linux and 1 on Windows (0 on Mac). 
Merge backout of changeset 9b832d90d637 (bug 462188). 
Bug 473911 - Crash due to too much recursion in nsCSSDocumentRule::URL::~URL.  r+sr=dbaron 
Bug 473720: don't treat a parse error in a known CSS @-rule as an unknown @-rule  r+sr=dbaron 
Remove handling of comments inside CSS url() tokens.  (Bug 473914)  r+sr=bzbarsky 
Avoid recursion after parsing CSS comments.  (Bug 473914)  r+sr=bzbarsky 
Avoid recursion when handling mNegations in CalcWeight.  (Bug 473908)  r+sr=bzbarsky 
Avoid building user font set when handling units involving font metrics in media query expressions.  (Bug 473892)  r+sr=bzbarsky 
Add reftest for bug 206631.  r+sr=dbaron 
Backed out changeset 6849ce51dfef (patch 3 from bug 468645) to fix bug 472353. 
Merge backout of changeset 6849ce51dfef (patch 3 from bug 468645) to fix bug 472353. 
Implement 'rem' unit from css3-values.  (Bug 472195)  r+sr=dbaron 
Some additional tests for 'rem' unit from css3-values.  (Bug 472195) 
Bug 474472. reftest harness should go back to the event loop after reftest-wait is removed and before we start checking isMozAfterPaintPending, in case reftest-wait was removed in a load event handler and that load event will unsuppress painting after the event handler has run. r=dbaron 
Bug 474441 - Move the marquee reftests into the marquee reftests folder, r=dbaron 
Fix parsing of 'none' values in 'list-style' shorthand.  (Bug 474135)  r+sr=bzbarsky 
Make getComputedStyle() for 'outline-width' return values in pixels even when keywords are used.  (Bug 474184)  r+sr=bzbarsky 
Fix mismatch between new[] and delete.  (Bug 376075)  r+sr=bzbarsky 
Remove nsStyleContext::Equals, since it is unused.  (Bug 474675)  r+sr=bzbarsky 
Warn when nsIDOMCSSStyleDeclaration::GetPropertyCSSValue is called.  (Bug 474655)  r+sr=bzbarsky 
Eliminate all callers to forms of nsROCSSPrimitiveValue::SetIdent other than the one taking nsCSSKeyword.  (Bug 474712)  r+sr=bzbarsky 
Make nsROCSSPrimitiveValue store ident values as nsCSSKeyword rather than nsIAtom*.  (Bug 474712)  r+sr=bzbarsky 
Bug 473847, progressmeters with large max don't work properly, caused by multiplication overflow, r+sr=dbaron 
Bug 475419.  Make sure to set up our user font set no matter what the ordering of flushes and font loading is.  r+sr=dbaron, a=bsmedberg 
Bug 307394 part 2.  Fix the indexing in ContentInserted to work correctly even when XBL is around.  r+sr=dbaron.  Also fixes bug 232990, bug 261826 , bug 272646, bug 386310, bug 468546 
Conditionally adjust two reftest references to match the non-assembly version of the code.  (Bug 465088)  r=bholley 
Separate previously-copied font constants into their own file and have them in one place rather than three.  (Bug 3512)  r=vlad 
Implement CSS computation of font-stretch property and store it in the gfx font structures.  (Bug 3512)  r=vlad  sr=bzbarsky 
Weaken assertion so that it doesn't fire.  (Bug 472353)  r+sr=bzbarsky 
Keep old rule trees around until they are no longer referenced.  (Bug 475128)  r+sr=bzbarsky 
Remove default value for gfx.downloadable_fonts.enforce_same_site_origin pref, which is no longer implemented.  (Bug 457825)  r=jdaggett 
Clear back-pointer in more cases.  (Bug 475136)  r+sr=bzbarsky 
Handle placeholder frames in RemoveMappingsForFrameSubtree.  (Bug 428113)  r=mats.palmgren  sr=roc 
Create legends in CreateContinuingFrame.  (Bug 468578)  r+sr=roc 
Fix whitespace in DisplayReflowExit. 
Stop reflowing the viewport with constrained height.  (Bug 467881)  r+sr=roc 
Backed out changeset 24917a339f2e (bug 475128) because it didn't patch the IsRoot check nsRuleNode::Sweep, which it needs to. 
Merge backout of changeset 24917a339f2e (bug 475128) because it didn't patch the IsRoot check nsRuleNode::Sweep, which it needs to. 
Keep old rule trees around until they are no longer referenced.  (Bug 475128)  r+sr=bzbarsky 
bug 420084 - reftest should use nsIXULRuntime.widgetToolkit instead of autoconf.js. r=dbaron 
Bug 476087.  Work around editor breakage with anonymous content.  r+sr=dbaron 
Bug 476063.  Only do special fieldsetty stuff with <legend>s that are in a fieldset.  r+sr=dbaron 
Backed out changeset eec3076f3bab (Bug 474655, Warn when nsIDOMCSSStyleDeclaration::GetPropertyCSSValue is called) because we trigger the warning too much ourselves (Bug 475311) 
Merge backout of changeset eec3076f3bab (Bug 474655, Warn when nsIDOMCSSStyleDeclaration::GetPropertyCSSValue is called) because we trigger the warning too much ourselves (Bug 475311) 
Ensure correct alignment for nsCSSValue objects inside nsCSSValue::Array.  (Bug 476345)  r+sr=bzbarsky 
Keep width of avail space rect at least 0.  (Bug 476372)  r+sr=roc 
Correctly handle a style change reflow on a subtree that has placeholders with out of flows outside that subtree.  (Bug 363247)  r+sr=bzbarsky 
Add test that legend is display:block by default.  (Bug 476063) 
Fix incorrect uses of aInherited rather than inherited so that we can make aInherited const.  (Bug 476598)  r+sr=bzbarsky 
Make the aInherited parameters to Compute*Data const.  (Bug 476598)  r+sr=bzbarsky 
Reverse the boolean meaning of inherited/aInherited.  (This patch, without the next patch to rename things, makes the code make less sense.)  (Bug 476598)  r+sr=bzbarsky 
Rename aInherited/inherited to aCanStoreInRuleTree/canStoreInRuleTree.  (Bug 476598)  r+sr=bzbarsky 
Backed out changeset d9eff1fb5e60 (bug 476345) due to Windows bustage. 
Merge backout of changeset d9eff1fb5e60 (bug 476345) due to Windows bustage. 
Add an additional test for CSS 2.1, section 10.3.1. 
Ensure correct alignment for nsCSSValue objects inside nsCSSValue::Array.  (Bug 476345)  r+sr=bzbarsky 
Bug 475986.  Make text-align:start work on <html:th> correctly. r+sr=dbaron 
Bug 299837.  Implement text-align:end. r+sr=dbaron 
Address review comment from bug 299837.  r+sr=dbaron 
Make serialization handle system fonts and the font shorthand better.  (Bug 475214)  r+sr=bzbarsky 
Eliminate nsCSSDeclaration::GetValueOrImportantValue.  (Bug 475214)  r+sr=bzbarsky 
Typesafe helpers for nsCSSDataBlock::StorageFor.  (Bug 475214)  r+sr=bzbarsky 
Invalidate the correct area when loading an image for which we've displayed the loading-image icon.  (Bug 409870)  r+sr=bzbarsky  r=roc 
Stop using MarkXMark2Y in reftest references, since its underline offsets don't correctly match combinations, and go back to using combinations.  (Bug 468217)  r=jdaggett 
Try other HTTP ports if the first one is busy.  (Bug 477164)  r=jwalden 
sheet-set-switch-1 still fails on Mac. 
sheet-set-switch-1 is still random, not just failing, on Mac.  (Bug 468217) 
Backed out changeset 423eea03fb54 (Bug 460882) for being one of the two changesets that's causing chrome and a11y tests not to start. 
Merge backout of changeset 423eea03fb54 (Bug 460882) for being one of the two changesets that may be causing chrome and a11y tests not to start. 
Bug 472950. Restrict the lazy-parent-pointer optimization so it isn't used if we already have child frames. r=dbaron 
Reftest for bug 356774. r+sr=dbaron 
Reftests for bug 369361. r+sr=dbaron 
Reftest for bug 321738. r+sr=dbaron 
Reftest for bug 343538. r+sr=dbaron 
Reftest for bug 350506. r+sr=dbaron 
Revert changeset fc8d54ab29a6 (Bug 88831, Support new IME API "Text Services Framework" from Office XP and Windows XP) due to failure (every time) of the new unit test it added (Test WinTSF) on the Windows tinderbox. 
Mark test for bug 356774 as failing on Mac (at least until the test or problem can be fixed). 
Annotate probable cause of reftest failure (which I should have done in the previous commit). 
Make reftest check its invariants regarding the failure timeout, so we can see if any intermittent failures are due to such harness bugs.  (Bug 477409)  r=jruderman 
Tests for bidi and first letter. 
Avoid calling PlaceBlock and unsetting dirty bits that we still need when an ancestor is going to reflow for clearance.  (Bug 476357)  r+sr=roc 
Remove nsStyleContext::DumpRegressionData, code that uses it, and code that exists only for it.  (Bug 477522)  r+sr=bzbarsky 
Bug 476738. Implement 'inset' box-shadows. r+sr=roc,r=dbaron 
Bug 477333.  Make sure to skip over editor's bogus anon content when dealing with first-letter too.  r+sr=dbaron 
Remove the aBits parameter from ReLayoutChildren, given that what it does blows away the distinction between NS_FRAME_IS_DIRTY and NS_FRAME_HAS_DIRTY_CHILDREN.  (Bug 477294)  r+sr=bzbarsky 
Fix the ignoring of load events for previous documents check so that it also works for (most) cases of the assertion check.  (Bug 477409)  r=jruderman 
Fix remaining occurrences of 'ERROR FAIL' in the tree (other than those fixed in bug 468913).  (Bug 477869)  r=ted 
TestHarness.h should give errors with TEST-UNEXPECTED-FAIL.  (Bug 477512)  r=jwalden 
Fix the pass() function to use the standard syntax too.  (Bug 477512)  r=jwalden 
Bug 477531. Support CSS3 :indeterminate pseudo-class. r+sr=dbaron,r=bzbarsky 
Bug 468771. Make sure to reflow the last column of a column-set if we're changing its height to be unbounded; it needs to pull all the content from the extra column, if there is one. r+sr=dbaron 
Bug 473815 - Improve diagnostics for malformed @font-face rules; r+sr=dbaron 
bug 468913 - Need a Makefile target to run reftest. r=dbaron,bsmedberg,jwalden 
Bug 363728 - overflow: auto overdraws an absolute-positioned DIV; reftests; r+sr=dbaron
Bug 318022 - CSS property page-break-after doesn't work after a clear:both; print reftest; r+sr=dbaron
Bug 477462 - create an extensive reftest suite for margin(-collapsing); create basic infrastructure, for checkin; r=dbaron 
Bug 478785: Remove unneeded availHeight variable in nsTableCellFrame::Reflow, plus minor whitespace cleanup. r=dbaron 
Bug 471950 Improve bloatdiff.pl error handling - improve tinderbox integration, and do not error when two logs have the same bloat data. r=nthomas,dbaron 
Bug 478814.  Don't leave the XUL display types that are unimplemented if not MOZ_XUL defined if not MOZ_XUL.  r+sr=dbaron 
Bug 478195 - '[Mac] Same-thread deadlock with trace-malloc (causing random red on OS X 10.5.2 mozilla-central leak test build)'. r=dbaron. 
Avoid making mXineramaIsActive depend on uninitialized numScreens.  (Bug 477959)  r+sr=roc 
Initialize mLastStyle to avoid valgrind warnings.  (Bug 477961)  r=vlad 
Fix nsBlockFrame warning about child being used uninitialized in FindLineContaining by switching while to do-while.  (Bug 477963)  r+sr=roc 
Fix warning with -Wshadow in nsMathMLTokenFrame (about childFrame).  (Bug 477962)  r=karlt 
Construct all our image loaders when we create frames so that we can allow arbitrary numbers of image loaders per frame (for multiple background images).  (Bug 322475)  r+sr=bzbarsky 
Implement multiple background layers, implement fallback background color, and make -moz-background-inline-policy no longer be part of the background shorthand.  (Bug 322475)  r+sr=roc,bzbarsky 
Remove PerFrameData::mFrameType, since it's write-only.  (Bug 478899)  r+sr=bzbarsky 
Add tests for code I'm going to change, and fix crash when running those tests.  (Bug 475215)  r+sr=bzbarsky 
Stop using potentially-deep recursion to serialize selectors.  (Bug 475215)  r+sr=bzbarsky 
Fix another case where we incorrectly serialize an -x-system-font property.  (Bug 478156)  r+sr=bzbarsky 
Remove MOZ_COUNT_CTOR/MOZ_COUNT_DTOR from nsStyleBackground::Layer because the copy constructor is now used.  (Bug 322475) 
Revert (back out) the previous 11 changesets (bugs 477959, 477961, 477963, 477962, 322475, 478899, 475215, 478156), due to Mac talos orange with (as usual) no useful diagnostic. 
Avoid making mXineramaIsActive depend on uninitialized numScreens.  (Bug 477959)  r+sr=roc 
Initialize mLastStyle to avoid valgrind warnings.  (Bug 477961)  r=vlad 
Construct all our image loaders when we create frames so that we can allow arbitrary numbers of image loaders per frame (for multiple background images).  (Bug 322475)  r+sr=bzbarsky 
Implement multiple background layers, implement fallback background color, and make -moz-background-inline-policy no longer be part of the background shorthand.  (Bug 322475)  r+sr=roc,bzbarsky 
Remove PerFrameData::mFrameType, since it's write-only.  (Bug 478899)  r+sr=bzbarsky 
Add tests for code I'm going to change, and fix crash when running those tests.  (Bug 475215)  r+sr=bzbarsky 
Stop using potentially-deep recursion to serialize selectors.  (Bug 475215)  r+sr=bzbarsky 
Fix another case where we incorrectly serialize an -x-system-font property.  (Bug 478156)  r+sr=bzbarsky 
Back out all 8 changesets that I just landed (bugs 477959, 477961, 322475, 478899, 475215, 478156) again, because Talos Try server builds lie about which changesets they're testing. 
Merge backout. 
Avoid making mXineramaIsActive depend on uninitialized numScreens.  (Bug 477959)  r+sr=roc 
Initialize mLastStyle to avoid valgrind warnings.  (Bug 477961)  r=vlad 
Fix nsBlockFrame warning about child being used uninitialized in FindLineContaining by switching while to do-while.  (Bug 477963)  r+sr=roc 
Fix warning with -Wshadow in nsMathMLTokenFrame (about childFrame).  (Bug 477962)  r=karlt 
Construct all our image loaders when we create frames so that we can allow arbitrary numbers of image loaders per frame (for multiple background images).  (Bug 322475)  r+sr=bzbarsky 
Implement multiple background layers, implement fallback background color, and make -moz-background-inline-policy no longer be part of the background shorthand.  (Bug 322475)  r+sr=roc,bzbarsky 
Backed out changeset 4bd7dd7645c2 (Bug 474536) 
Merge backout of Bug 474536 to fix build bustage. 
Backed out changeset fde0b361f25e (bug 322475, main patch) due to Mac talos startup failures and hitting the NS_ABORT_IF_FALSE in SetupBackgroundClip, which may be related. 
Merge backout. 
Remove PerFrameData::mFrameType, since it's write-only.  (Bug 478899)  r+sr=bzbarsky 
Add tests for code I'm going to change, and fix crash when running those tests.  (Bug 475215)  r+sr=bzbarsky 
Stop using potentially-deep recursion to serialize selectors.  (Bug 475215)  r+sr=bzbarsky 
Fix another case where we incorrectly serialize an -x-system-font property.  (Bug 478156)  r+sr=bzbarsky 
b=458644 add gnu_debuglink support to jprof r=dbaron 
Bug 470250 - draw middle border image even if the border width is zero on all four sides r+sr=dbaron 
Implement multiple background layers, implement fallback background color, and make -moz-background-inline-policy no longer be part of the background shorthand.  (Bug 322475)  r+sr=roc,bzbarsky 
Call SetPropertyBit(background_color) when we set data for that property, on the off chance it will fix the intermittent layout/reftests/bugs/289480.html orange.  (Bug 322475) 
Temporarily modify the test to confirm theory about the source of intermittent failures. 
Bug 479480 - drop the XP_MAC specific MAX_REFLOW_DEPTH. r=josh, sr=dbaron 
Temporarily convert every occurrence of red in the Acid2 reftest to some other color to figure out which one is causing the random failures. 
Also temporarily replace the red images in the Acid2 test to see if they're what's causing the red to randomly show up. 
Put the timestamp in the reftest HTTP server's path to prevent cross-contamination of cached tests between branches, in case those different branches run reftests on the same profile.  r=Waldo 
Revert temporary modifications to diagnose intermittent reftest failure on tinderbox (fb1d06068cb5, 71df97fcb74e, 8a406dd54480) since the intermittent failures seem to have been fixed by the reftest harness change in 9d5337daba7b. 
Bug 371561.  Use the right codepath for absolutely positioned tables so that they get a useful containing block.  r+sr=dbaron 
Bug 476245.  Keep better track of our anonymous content.  r=smaug, sr=dbaron 
Backed out changeset 17a2ed8348b9 (bug 464598) for causing large numbers of test_snav_textFields.xul failures on Mac OS X. 
Merge backout of changeset 17a2ed8348b9 (bug 464598) for causing large numbers of test_snav_textFields.xul failures on Mac OS X. 
Backed out changeset a328b5ae57e0 (bug 476245) for causing failures of test_videocontrols.html across platforms (although Linux hasn't cycled yet). 
Merge backout of changeset a328b5ae57e0 (bug 476245) for causing failures of test_videocontrols.html across platforms (although Linux hasn't cycled yet). 
Flush layout earlier in getComputedStyle().  (Bug 454276)  r+sr=bzbarsky 
Fix outparam static analysis warnings in nsComputedDOMStyle by actually assigning to the outparam.  (Bug 479433)  r+sr=bzbarsky 
I don't need to see the rule hash debugging output anymore. 
Correctly null-terminate the buffer after calling readlink.  (Bug 476608)  r=bsmedberg 
Bug 411615 - ah_crap_handler should call _exit explicitly.  r=dbaron, sr=jag 
Bug 480053 -  Fix z-ordering of scrollbars to match Webkit/IE8. r+sr=dbaron 
b=478548; slightly optimize PresContext::Theme; r=dbaron 
Add tests that exercise nsSpanningCellSorter, including with large colspans, since code coverage runs showed we don't hit that code. 
Bug 480323.  Always create a trailing inline for {ib} splits.  r+sr=dbaron 
Add test for blocking of -moz-border-*-colors based on code coverage output. 
Add test for CSS property priority (!important) preservation.  (This fixes the fact that we don't have any tests covering expansion of compressed blocks with !important declarations, and also tests a bit more while I'm there.) 
Change nsStyleUtil::EscapeCSSString to nsStyleUtil::AppendEscapedCSSString, since almost all callers prefer append behavior anyway.  (Bug 478160)  r+sr=bzbarsky 
Quote and escape contents of url() when serializing.  (Bug 478160)  r+sr=bzbarsky 
nsCSSDeclaration::ValueAppended is never called on shorthands, so it doesn't need code to handle them.  (Bug 481594)  r+sr=bzbarsky 
Split eCSSUnit_String into eCSSUnit_String (with quotes), eCSSUnit_Ident (without quotes), and eCSSUnit_Families (font family list, but not for @font-face descriptor where the single family is stored as eCSSUnit_String).  (Bug 481591)  r+sr=bzbarsky 
Append the list-style-type part of counters correctly in computed style.  (Bug 481591)  r+sr=bzbarsky 
Fix serialization of the list-style-type part of counter values.  (Bug 481591)  r+sr=bzbarsky 
Test more values for 'content' property.  (These tests require the three previous patches to pass.)  (Bug 481591) 
Remove unreachable code, since text-decoration:none is not stored as an enumerated value.  (Bug 481595)  r+sr=bzbarsky 
Fix serialization bugs with text-decoration:-moz-anchor-decoration.  (Bug 481596)  r+sr=bzbarsky 
Rename ParsePositiveVariant to ParseNonNegativeVariant.  (Bug 481826)  r+sr=bzbarsky 
Reject non-positive values for widows and orphans.  (Bug 481826)  r+sr=bzbarsky 
Remove internal support for units that were never in CSS (feet, miles, meters, kilometers, didots, ciceros).  (Bug 482146)  r+sr=bzbarsky 
Avoid crashing on fontFaceRule.style.getPropertyValue('font-family') when there's no font-family descriptor.  (Bug 482148)  r=zweinberg 
Add tests for font descriptors that are equivalent to test_value_storage and test_property_syntax_errors. 
Add some simple tests for units (since code coverage output showed we weren't testing serialization of all of them). 
Add tests to check case (2) for shorthands in nsCSSDeclaration::GetValue. 
Bug 448512 Crash on quit [@ XCloseDisplay] r=dbaron 
Bug 482394.  Drop the aForStyling check in IsHTMLLink/IsLink: if we change the link state, we need to start tracking the link.  r+sr=dbaron 
Bug 480065.  Make chrome registry not mess with inline stylesheets.  r=bsmedberg, sr=dbaron 
Don't rely on NS_TraceMallocStartupArgs to initialize TLS index.  (Bug 442192)  r=brendan 
Remove check for block being impacted by float that should no longer be needed given float damage propagation.  (Bug 25888)  r+sr=roc 
Bug 478245 -  Crash [@ nsEventStateManager::PreHandleEvent], r+sr=dbaron 
Bug 482585.  Move some XUL textbox-specific rules out of xul.css and into the relevant bindings.  r=enn, sr=dbaron 
Bug 482236 - runtests.py.in : wrong leak detection on this case; (Av1a) Support a negative 'Total' value; r=(dbaron + jwalden+bmo) 
Bug 476062. Author-applied 'box-shadow' should cause elements to drop their native look. r+sr=dbaron 
Bug 480345. Handle painting of background images on pages which have no in-flow content. r+sr=dbaron 
Bug 483841. Animated background images on visibility:hidden elements shouldn't cause any painting. r+sr=dbaron 
Bug 484150 - support image-rendering attribute. Includes some gfx code by vlad from bug 423756 which is r=joe. The rest is r=dbaron, sr=roc 
Bug 485671 - Remove unused and broken things at the top level of layout/html/tests/, r+sr=dbaron 
Bug 485663 - omg! goggies!, r+sr=dbaron 
Bug 9849 - TestInlineFrame is so out of date nobody will ever bring it back, r+sr=dbaron 
Bug 480521 - Update libfishsound and liboggz to validate inputs - r=conrad sr=dbaron 
Bug 485030. Don't restrict BuildDisplayList's dirty rect to a child's overflow area; then we can use the passed-in dirty rect to optimize the 'ignore scroll frame' case. r=dbaron 
Bug 457809 preliminary.  Fix this test so it doesn't fail when we preload the sheet.  r+sr=dbaron 
Bug 337957.  Make WipeContainingBlock not trigger warnings about reentry into frame construction.  r+sr=dbaron 
Add some tests for invalid values of 'font-family' (related to bug 481502) 
Add reftest for quotes support, from a test Hixie wrote (with his permission). 
Use SimpleTest.executeSoon instead of setTimeout for iteration of properties/descriptors. 
Don't mess with the max_script_run_time pref since the mochitest harness now does that for us. 
Bug 476062. Instead of turning off -moz-appearance when an element has a box-shadow, just ignore the box-shadow. r+sr=dbaron 
Remove unneeded code for handling nulls in compressed blocks.  (Bug 486415)  r+sr=bzbarsky 
Remove remnant of key-equivalent property, which we removed in bug 265721.  (Bug 486353)  r+sr=bzbarsky 
Remove the CSS_PROP_NOTIMPLEMENTED macro, which hasn't been needed since bug 3247 landed.  (Bug 486353)  r+sr=bzbarsky 
Use a valid value for storing in a bitfield as the style struct ID for backend-only properties.  (Bug 469244)  r+sr=bzbarsky 
Backed out changeset 5263468b1d60 (bug 395668) due to unit test timeouts in test_tooltip.xul and test_tooltip_noautohide.xul 
Merge backout of changeset 5263468b1d60 (bug 395668) due to unit test timeouts in test_tooltip.xul and test_tooltip_noautohide.xul 
Bug 476062. Don't suppress box-shadows on elements with -moz-appearance in chrome documents. r+sr=dbaron 
b=483565 baseline of stack elements depends on bottom margins of children r=dbaron 
Begin removing mAvailSpaceRect and mBandHasFloats from nsBlockReflowState by converting the current state-mutation GetAvailableSpace to a getter GetFloatAvailableSpace to replace it, and reimplementing the state mutation in terms of the getter.  (Bug 25888)  r+sr=roc 
Switch away from nsBlockReflowState::mAvailSpaceRect in nsBlockReflowState::AddFloat.  (Bug 25888)  r+sr=roc 
Switch away from nsBlockReflowState::mAvailSpaceRect in bullet reflow, and simultaneously refix bug 427370 in a way that also fixes bug 428810.  (Bug 25888)  r+sr=roc 
Switch away from nsBlockReflowState::mAvailSpaceRect for reflow of child floats.  (Bug 25888)  r+sr=roc 
Switch away from nsBlockReflowState::mAvailSpaceRect for inline reflow.  (Bug 25888)  r+sr=roc 
Switch away from nsBlockReflowState::mAvailSpaceRect for reflow of child blocks.  (Bug 25888)  r+sr=roc 
Switch away from nsBlockReflowState::mAvailSpaceRect in nsBlockFrame::PropagateFloatDamage.  (Bug 25888)  r+sr=roc 
Complete switch away from nsBlockReflowState::mAvailSpaceRect by removing the old members.  (Bug 25888)  r+sr=roc 
Use a struct containing a rectangle and a boolean for float available space rather than passing them around separately.  (Bug 25888)  r+sr=roc 
Remove nsCSSOMFactory/nsICSSOMFactory.  (Bug 376111)  r+sr=bzbarsky 
Bug 483971 - nsCSSScanner: cleanup of EatWhiteSpace and removal of EatNewline. r+sr=dbaron 
Bug 403199.  Don't log addref/release of nsSimpleNestedURI, becuse it doesn't work right when someone addrefs the derived class but releases the base class canonical nsISupports, due to aggregation.  r=dbaron 
Bug 483971 - nsCSSScanner: cleanup of EatWhiteSpace and removal of EatNewline. r+sr=dbaron 
Bug 487831: Remove nsBox::(Get|Set)WasCollapsed, which are totally unused.  r+sr=dbaron 
Make nsTraceRefcnt use 64-bit counters when those counters are for all objects over app lifetime.  (Bug 483500)  r=bsmedberg 
Bug 487844.  No need to mark self as NS_FRAME_IS_DIRTY just because our child list changed.  r+sr=dbaron 
Bug 485121. The screen coordinates for an element should be snapped to the nearest screen pixel, not rounded out, for consistency with the way we position native widgets and snap rectangle drawing. r=dbaron 
Bug 468491. When removing the continuations of a text frame, remove them starting at the end to avoid disrupting frame invariants by removing frames from the middle of the flow. r=dbaron 
Fix occasional leak of either array or hashtable entrystore allocated in js_AddLocal by accounting for fun->u.i.upvars in DestroyLocalNames.  (Bug 487967)  r=brendan 
Merge leak fix to mozilla-central. 
Fix leak of GTK entry widget.  (Bug 487705)  r=karlt  sr=roc 
Deal with floating reference and reference counting of GTK widgets in nsNativeKeyBindings.  (Bug 487705)  r=karlt  sr=roc 
This should be a bit-check, not a boolean check.  No bug, r+sr=dbaron 
Reftest for bug 299136 - Space after <span style='white-space: nowrap;'> is treated as wrappable. r=dbaron 
Fix shutdown leak of GtkInvisible in GTK nsLookAndFeel implementation, and shorten lifetime of that GtkInvisible by copying its style.  (Bug 487955)  r=karlt  sr=roc 
Free gIconFactory in GTK nsIconChannel implementation.  (Bug 488184)  r=karlt 
Destroy content viewers in session history when destroying docshell, just like we destroy the current one.  (Bug 488394)  r+sr=bzbarsky 
Bug 487188 - PRExpectEndValue is a typo for PEExpectEndValue. r=dbaron 
bug 413091 - empty first column needs a cellspacing before as we assume always in the code to have cellspacing on the left and right side, r/sr=dbaron 
Bug 67752.  Implement interruptible reflow.  r=roc,dbaron 
Backed out changeset 6a452e522e07 - Boris Zbarsky â Bug 67752. Implement interruptible reflow. r=roc,dbaron - because of apparent Tp hangs. 
Backed out - Boris Zbarsky â Bug 67752. Implement interruptible reflow. r=roc,dbaron - because of apparent hangs in Tp. 
Bug 487942 - Remove cursor: -moz-alias | -moz-cell | -moz-context-menu | -moz-copy | -moz-spinning; remove: -moz-cell alias; r+sr=dbaron 
Bug 487942 - Remove cursor: -moz-alias | -moz-cell | -moz-context-menu | -moz-copy | -moz-spinning; property_database.js update; r+sr=dbaron 
Fix miscellaneous typos in comments that I've had in my tree for ages. 
Use NS_METHOD where appropriate in layout-debug's factory.  (Not part of default build.) 
Consolidate mDocShell null checks in nsLayoutDebuggingTools.  (Not part of default build.) 
Remove some unused AddRef/Release methods on frame classes.  (Bug 488774)  r+sr=roc 
Drop the feeds cache in browser's destroy method.  (Bug 489520)  r=gavin.sharp 
Back out previous logging patches (92791a422f0a and 5617c22ea9ac) for bug 469514. 
Enable bidi when a frame has right-to-left direction during style post-processing instead of frame construction to catch dynamic changes to direction. Bug 489517, r+sr=dbaron 
Bug 482398.  Fix insertions when there are Letter frames around to be sane.  r+sr=dbaron 
Mark the tests that were just disabled more clearly in the makefiles. 
When we print warnings about objects that should have been collected, see if they're in the purple buffer and print different warnings if they are.  (Bug 488603)  r+sr=peterv 
Reverse the meaning of suspectCurrentCount and rename it to expectedGarbageCount.  (Bug 488603)  r+sr=peterv 
Use the purple buffer in ExplainLiveExpectedGarbage.  (Bug 488603)  r+sr=peterv 
Convert nsTransactionManager's mListeners from nsVoidArray* to nsCOMArray<nsITransactionListener>.  (Bug 488799)  r+sr=peterv 
Convert children of EditAggregateTxn from nsISupportsArray to nsTArray< nsRefPtr<EditTxn> >.  (Bug 488799)  r+sr=peterv 
Remove nsTransactionFactory and most transaction CIDs.  (Bug 489851)  r+sr=peterv 
Bug 485121. The screen coordinates for an element should be snapped to the nearest screen pixel, not rounded out, for consistency with the way we position native widgets and snap rectangle drawing. r=dbaron 
Bug 384037. Eliminate nsFrameNavigator and switch XUL splitters to using nsFrameList instead. Also add a check so that we don't crash when a splitter's parent is not a XUL box. r+sr=dbaron 
Bug 477462. Add many margin-collapsing reftests. r+sr=dbaron 
Bug 481024.  Text control frame screws up max-width and max-height.  r+sr=dbaron 
Bug 67752.  Implement interruptible reflow.  r=roc,dbaron 
Bug 490909: Remove old debugging functions InLineList & InSiblingList, since they're not used by anything. r+sr=dbaron 
Make it so nsDocument::mPendingTitleChangeEvent doesn't keep the document alive after cycle collection expects it to be destroyed.  (Bug 488786)  r+sr=jst  r=bsmedberg 
Drop use of JS 1.7 features so that this test can run on other browsers. 
Switch HTML mochitest template from using MochiKit.js to packed.js.  (Bug 490955)  r=sayrer 
Switch HTML mochitests from using MochiKit.js to packed.js.  (Bug 490955)  r=sayrer 
Make cycle collector's purple buffer consist of entries that the objects in the purple buffer can point to, and remove the notion of scan delay (which was previously set to 0).  (Bug 490695)  r+sr=peterv  r=bsmedberg 
sr=dbaron 
Bug 490173.  Switching display from -moz-popup to block in an HTML document doesn't trigger a frame reconstruct.  r+sr=dbaron 
Bug 488901. When an element's size changes and it has borders, we don't necessarily need to invalidate the entire border-box --- if there is no right or bottom border, and other conditions are met. r+sr=dbaron 
Bug 463350. Don't allow fieldsets to break vertically. r+sr=dbaron 
Temporarily land patch to dump leaked nsStandardURL objects at shutdown, to give us more insight into the portion of the random orange that is random leaks.  a=josh for CLOSED TREE 
Backed out changeset 240fa475d2b0 (temporary leak debugging code). 
Merge backout of changeset 240fa475d2b0 (temporary leak debugging code). 
Clear the weak back pointers in nsTextEditRules and nsHTMLEditRules when they are no longer valid, to prepare for editor cycle collection.  (Bug 423233)  r+sr=peterv 
Implement cycle collection for transaction manager and editor transactions.  (Bug 488799)  r+sr=peterv 
Make transaction manager unit test's output give the correct function name. 
Traverse and unlink selection listeners.  (Bug 490071)  r+sr=peterv 
Fix gcc bracing warning while I'm here.  (Bug 423233) 
Bug 492080.  More correct marking of dirty bits on floats when we interrupt.  r+sr=dbaron 
Bug 491537.  Make sure to set dirty buts all the way up the tree when interrupting inside an abs pos child or child of a columnset.  r+sr=dbaron 
Bug 491842.  Check for suppressed scroll before doing the layout flush, so that we don't end up scrolling during the flush when scroll is suppressed.  r+sr=dbaron 
Bug 490182.  Ask to reflow the right frame.  r=bernd, sr=dbaron. 
Bug 483407 - Improve the "mochitest*" harness; (Av1a) SimpleTest.js: Report tests which did not actually check anything, Improve ToDo support; r=dbaron 
Bug 78070. When the root element is removed, remove all frames except the viewport; when it's reinserted, recreate them as needed.  r=roc,dbaron sr=roc 
Bug 480452.  Make {ib} splits behave the same way with regard to margins, borders, and padding as inline frames that just have a line-break happening inside them do.  r+sr=dbaron 
Bug 486062 - Clean out dead things below layout/html/tests/, r+sr=dbaron 
Bug 490909: Remove old layout debugging code, patch #2: remove 'VerifyTree' & related code. r+sr=dbaron 
Bug 492469.  Better handling of end margins/borders/padding for frames that end up complete while having both fluid and fixed continuations.  r+sr=dbaron 
Bug 492480. Unregister placeholder relationship when we destroy out-of-flow frames, instead of trying to do it earlier in many places and not always doing it right. r+sr=dbaron 
Bug 492531 - Optimize some CSS and Reflow classes for memory usage; r+sr=dbaron 
Bug 468024 - reftest.js : optimize |outputs| assignment(s); (Av2) Check for no tests case, Whitespace cleanups; r=dbaron 
Bug 492163, bug 492112, and bug 483604.  Stop putting the style contexts of textnodes and CSS generated content in the undisplayed map, and make sure to properly unbind generated content if we don't plan to actually create a frame construction item for it.  r+sr=dbaron 
Bug 491960. Only reflow due to selection if we did or will have overflowing selection decorations. r=dbaron 
Add test for CSS parsing of garbage at end of declarations.  (Bug 390260) 
b=481751 block-height line-height for text input and strut baseline for textarea r=bz,sr=dbaron 
Bug 474369 - get rid of nsVoidArray, remaining parts; r=bz, sr=dbaron 
Merge InitFloat into AddFloat (on nsLineLayout and nsBlockReflowState).  (Bug 25888)  r+sr=roc 
Implement a method on the float manager to get the largest width available within a height (rather than just at a point).  (Bug 25888)  r+sr=roc 
Fix bug 25888 for inline frames other than bullets:  redo line reflow when the line's height pushes it into the way of other floats.  (Bug 25888)  r+sr=roc 
Backed out changeset 1abeb6c87131 (Bug 480205 -  Implement a wrapper for exposing chrome objects to content (aka COWs)) due to mochitest failures and leaks. 
Merge backout of changeset 1abeb6c87131 (Bug 480205 -  Implement a wrapper for exposing chrome objects to content (aka COWs)) due to mochitest failures and leaks. 
Correct comments to reflect that bug 460695 landed on 1.9.1. 
Bug 477462 - Add margin-collapsing tests (part 2): horizontal margins, tables, captions, fieldsets and some suggested tests. r+sr=dbaron 
Bug 493968.  Correctly keep track of all the kids of a cloned sheet, not just the last one.  r=roc, r+sr=dbaron pending. 
Bug 494667. Don't apply optimization to shrink drawn background area to exclude solid borders, if we're not going to draw those borders (e.g. in tables with collapsing borders). r+sr=dbaron,a=beltzner 
Bug 495269.  Fix our detection of @import rules when cloning sheets.  r+sr=dbaron 
Bug 495274.  Fix broken selector cloning.  r+sr=dbaron 
Dump list of leaked nsStandardURL objects at shutdown in builds with leak logging enabled, to give us more insight into the portion of the random orange that is random leaks. 
Bug 178324, refactor focus by moving all focus handling into one place and simplifying it, add many tests, fixes many other bugs too numerous to mention in this small checkin comment, r=josh,smichaud,ere,dbaron,marco,neil,gavin,smaug,sr=smaug (CLOSED TREE) 
Bug 467948 - fix some deprecated conversion from string constant warnings; r=dbaron 
Bug 497068: Fix "will be initialized after" warnings; r=dbaron 
Bug 488862 - crash while geolocation is retrieving data [@ nsGeolocation::RemoveRequest]. r=dbaron, sr=smaug, r=ctalbert on tests 
Bug 474369 - get rid of nsVoidArray, remaining parts; r=bz, sr=dbaron 
Bug 494847 - Kill MTBF, r=dbaron 
Bug 474369 - get rid of nsVoidArray, remaining parts; r=bz, sr=dbaron 
Don't reduce the height we're checking while we reflow for floats.  (Bug 494332)  r+sr=roc 
Remove support for fallback background colors.  (Bug 496721)  r+sr=bzbarsky 
Bug 495798.  Drop native theming for controls styled with transparent backgrounds, even if the user said to not use the page colors.  r+sr=dbaron 
r=roc,dbaron, sr=roc,jst 
Bug 471579 - reftests timeout very frequently when run on maemo device; r=(dbaron + ted.mielczarek) 
b=495959 set NS_FRAME_CONTAINS_RELATIVE_HEIGHT for relative line-heights r=bz,dbaron 
Fix for bug 492324 ("ASSERTION: wrong entry" during cycle collection (nsXBLDocumentInfo)). r=dbaron, sr=jst. 
Reset clipping region it PutImageData so that it doesn't clip the output, per spec.  r=vlad  sr=dbaron  (Bug 433397) 
adopt caption vertical margins to latest CSS2.1 revision, bug 478614, r/sr=dbaron 
Expose the cycle collector language runtimes so that other code can do cycle collection traversal.  (Bug 500317)  r+sr=peterv 
Make some of the DEBUG_CC code accessible to code in non-debug builds so it can be used by memory tools for Web developers.  (Bug 500233)  r+sr=peterv 
Turn assertion into warning since we can hit it in large coordinate cases.  (Bug 494237)  r+sr=roc 
Bug 498562.  Skip the Expand/Compress cycle in the common case of inline style sets.  r+sr=dbaron 
Bug 498559.  Speed up tokenizing numbers in CSS.  r+sr=dbaron 
Adding test for bug 498559.  r=dbaron 
Bug 498559 followup to clean up the code.  r=dbaron 
Fix for bug 499781 (Move some methods from nsILink to nsIContent). r=bz, sr=dbaron. 
Backed out changeset ebea850caba8 (Bug 503942) for causing timeouts of dom/tests/mochitest/geolocation/test_allowCurrent.html and test_allowWatch.html 
Merge backout of changeset ebea850caba8 (Bug 503942) for causing timeouts of dom/tests/mochitest/geolocation/test_allowCurrent.html and test_allowWatch.html 
Make whether a property should be ignored when page colors are disabled part of the property flags table.  (Bug 503188)  r=bzbarsky 
Block text-shadow when using document-specified colors is disabled.  (Bug 503188)  r=bzbarsky, roc 
Reformat the list of CSS properties by splitting macros into multiple lines to make the list easier to edit and merge.  Whitespace changes only.  pre-r=bzbarsky 
Add test for font-family issue that some other browsers get wrong (from bug 499421). 
Add tests for selector serialization and cloning. 
Add tests for media query serialization. 
Bug 502687 - GCGraphBuilder::AddNode crashes on OOM. r=dbaron 
Bug 504447 - Make overzealous \.class$ pattern in .hgignore more precise. r=dbaron sr=jst 
Bug 504032.  Make sure to copy mIsEmpty when cloning media lists.  r=dbaron 
Use char16_t when available, and when it is, don't test for -fshort-wchar.  (Bug 502298)  r=bsmedberg 
Don't silently disable WiFi on Linux if we can't find iwlib.h.  (Bug 503597)  r=dougt,bsmedberg 
Add tests for cloning of media queries.  (Would have caught bug 504032.) 
Also block -moz-box-shadow when using document-specified colors is disabled, and fix a testing error with the patch for text-shadow.  (Bug 503188)  r=bzbarsky 
Backed out changeset 6e11834d07c9 (Bug 503597) until x86_64 Linux tinderboxes (bug 505215) and maybe other tinderboxes (bug 505203, bug 505204) are updated. 
Merge backout of changeset 6e11834d07c9 (Bug 503597) until x86_64 Linux tinderboxes (bug 505215) and maybe other tinderboxes (bug 505203, bug 505204) are updated. 
Bug 500632. Suppress invalidation caused by parts inside collapsed scrollbars. r=dbaron 
Bug 505184. Remove unused aBorder parameter to PaintBackgroundLayout. r=dbaron 
Bug 505184. Expose nsFrame::DisplayBackgroundUnconditional so we can easily create an nsDisplayBackground elsewhere. r=dbaron 
Bug 339548. Part 5: Support an accurate mode for display lists computing visible regions. r=dbaron 
Bug 339548. Part 7: Create nsLayoutUtils::IsAncestorFrameCrossDoc. r=dbaron 
Bug 339548. Part 6: Uninline IsMovingFrame so nsDisplayList.h doesn't have to include nsLayoutUtils.h. r=dbaron 
Bug 339548. Part 8: Create nsPoint::ToNearestPixels. r=dbaron 
Bug 352093. Part 6: make GetScreenRect work when appunits-per-dev-pixel varies up the frame tree. r=dbaron 
Bug 352093. Part 9: make context menu event coordinates be relative to the widget for the widget for the top of the view hierarchy. r=dbaron 
Bug 352093. Part 15: Rework scrolling so that we don't need a dedicated native widget for scrollframes. r=dbaron,joshmoz,karlt,jmathies 
Bug 339548. Part 14: hide windowed plugins in CSS transforms and SVG foreignObject contexts; we can't display them properly, so let's not display them at all. r=dbaron 
Don't silently disable WiFi on Linux if we can't find iwlib.h.  (Bug 503597)  r=dougt,bsmedberg 
Backed out changeset f905520076db (Bug 497053) because it seems to have made the random orange significantly worse. 
Merge backout of changeset f905520076db (Bug 497053, patch to fix random orange) because it seems to have made the random orange significantly worse. 
Fix typo in error message.  (Bug 505774) 
[Bug 505278] - nsWifiAccessPoint::GetSsid doesn't do what it thinks it does with embedded nulls. r=dbaron 
[Bug 505277] - strncpy without null termination in nsWifiScannerUnix. r=dbaron 
Bug 503467.  Rearrange the code a bit in ParseNumber to make it more readable. r=dbaron 
Destroy frame properties right after destroying the frame tree so they're destroyed before the style set.  (Bug 399994)  r=roc 
Bug 74803 - Should make global data const where possible; const changes for nsmodulecomponentinfo; r=dbaron 
Bug 505912. Trust the widget visibility in UpdateWidgetArea. r=dbaron 
Bug 505667. Don't need to check INVALIDATE_NOTIFY_ONLY in nsHTMLScrollFrame::InvalidateInternal. r=dbaron 
Bug 505743. Fix nsHTMLScrollFrame::InvalidateInternal to not take the 'invalidation in scrollbar' path when there is no scrollbar. r=dbaron 
Bug 478416, replace chromedir attribute with :moz-locale-dir pseudoclass, r=neil,dao,dbaron,sr=dbaron 
Bug 467914. GetOverflowRectRelativeToSelf shouldn't always expect a preEffectsBBox. r=dbaron 
Bug 506615. XUL decks should not have wididgets. r=dbaron 
Bug 486200. Add window.mozInnerScreenX/Y APIs to return usable screen coordinate APIs (as opposed to window.screenX/Y which return window frame coordinates and are unusable). Also adds window.mozScreenPixelsPerCSSPixel which chrome-prileged code can use to convert CSS pixels to actual screen pixels. r=dbaron,sr=jst 
Bug 506552. Fix testcase doctype. r=dbaron 
Bug 486065. Hack nsCSSOffsetState::InitOffsets to zero out computed padding and borders when the scrollbar size is zero. r=dbaron 
Bug 189519 - Implement CSS3 (-moz- for now)background-size.  r=dbaron, other useful review comments from roc/bz 
Bug 281387.  Make nsIFrame::Append/InsertFrames use nsFrameList.  r=bernd,roc, sr=dbaron 
Bug 499655. Selectors should have dual atoms: HTML and other. r=dbaron 
Bug 479220 - Implement the CSS gradients proposal. r=roc,dbaron sr=roc 
Backed out changeset 358af1196dc2 (bug 499655) until we get bug 507487 sorted out. 
Merge backout of changeset 358af1196dc2 (bug 499655) until we get bug 507487 sorted out. 
Backed out changeset 8cd49a8cbb88 (bug 501608) on suspicion of causing lots of mochitest-browser-chrome timeouts and leaks (bug 507698). 
Merge backout of changeset 8cd49a8cbb88 (bug 501608) on suspicion of causing lots of mochitest-browser-chrome timeouts and leaks (bug 507698).  CLOSED TREE 
Backed out changeset 6a5f22ccbe0e (no bug) to see if it is the cause of the mozilla-browser-chrome orange (bug 507605 and bug 507698) 
Merge backout of changeset 6a5f22ccbe0e (no bug) to see if it is the cause of the mozilla-browser-chrome orange (bug 507605 and bug 507698) CLOSED TREE 
Don't resolve a new context for the root when we're computing rem units for the root.  (Bug 478321)  r=bzbarsky 
Separate RuleProcessorData and derived structs into their own header file to reduce include dependencies.  (Bug 435441)  r=bzbarsky 
Bug 434733:  Don't apply width on colgroups to columns that have their own width.  r=dbaron 
Bug 434733:  Additional tests. 
Bug 499655:  Selectors should have dual atoms so they can correctly (and case-sensitively) match non-HTML elements in text/html documents, part 1.  r=dbaron 
Bug 507487:  Selectors should have dual atoms so they can correctly (and case-sensitively) match non-HTML elements in text/html documents, part 2: fix RuleHash to hash tag selectors twice when needed.  r=dbaron 
Bug 479220: Implement support for CSS gradients: -moz-linear-gradient() and -moz-radial-gradient().  r=roc, dbaron 
Bug 506615. XUL decks should not have wididgets. r=dbaron 
Bug 507695: Remove unneeded #includes from nsStyleContext.cpp. r=dbaron 
Bug 494546. Make all containing block reconstruction async. r=dbaron 
Bug 494283.  Unregister our placeholder if someone forgot to.  r=dbaron 
Bug 502942.  Make fieldsets use their content's last-line baseline.  r=dbaron 
Bug 502288.  Provide finer-grained style change hints for triggering reflow.  r=dbaron 
Bug 501305. Clean up tools/tests by deleting most of it. r=dbaron 
Bug 502288.  Provide finer-grained style change hints for triggering reflow.  r=dbaron 
Add assertions that the rule walker is at the root.  (Bug 507457)  r=bzbarsky 
Avoid flushing during media query evaluation.  (Bug 507457)  r=bzbarsky 
Bug 508115. Don't reparent the views for popups, since they should always have the root view as their parent. r=dbaron 
Bug 506034. Fixed loop on MinGW where wchar_t-char is unsigned. r=dbaron 
Import the css3-namespace test suite. 
Rewrite parsing of CSS url() function to make it more like the tokenization that's described in the spec.  (bug 476856, though originally written for bug 337287)  r=bzbarsky 
Additional mochitests for URL parsing, from bug 337287 (and related to bug 476856) 
Try disabling DEBUG_DUMP_URLS_AT_SHUTDOWN to see if it's responsible for the unit test shutdown hangs (bug 505718, bug 508767) 
Bug 508919.  Stop leaking nsStyleBorder objects.  r=dbaron 
Backed out changeset bae405b94b96 (testing to see if it affected bug 505718, bug 508767) to re-enable leaked url dump for unit test boxes. 
Merge re-enabling of leaked URL dump. 
Bug 415394.  Don't let the listbox row-munging kill our block wrapper, if we have one.  r=dbaron 
Bug 497519 part 1.  Clear the undisplayed map correctly in the presence of XBL.  r=dbaron,bzbarsky 
Call InvalidateColumns more often.  (Bug 506871)  r=roc 
Bug 509269 - reftest should deal with missing root. r=dbaron. May fix 468211-3 orange, too. 
Bug 508900.  Fix assertion due to us not unsetting all the bits we should unset.  r=dbaron 
Bug 509156.  Don't assert on GetUniqueStyleData calls if we're using our parent's struct before the call.  r=dbaron 
Bug 509155.  Don't store outline structs in the rule tree if outline-color:inherit is set on the root element.  r=dbaron 
Bug 508692: Fix build warning - rename nsSubDocumentFrame method so it doesn't hide inherited method (s/GetMargin/GetMarginAttributes/) r=dbaron 
Make style contexts know whether they have data from a pseudo-element.  (Bug 505515, Bug 435441)  r=bzbarsky 
Add flags to pseudo-elements, and add one that says which ones are expected to contain elements.  (Bug 505515)  r=bzbarsky 
Make computed style (and canvas text styling, which shares the same code) avoid using style data that was influenced by pseudo-elements.  (Bug 505515)  r=bzbarsky 
Add more parameters to nsStyleSet::ResolveStyleForRules.  (Bug 435441)  r=bzbarsky 
Run output of debug builds through fix-linux-stack/fix-macosx-stack.  (Bug 385248)  r=ted 
Remove InspectorCSSUtils, part 1:  Move GetStyleContextForContent to nsComputedDOMStyle.  (Bug 371655)  r=bzbarsky 
Remove InspectorCSSUtils, part 2: Move remaining substantive code to inDOMUtils.  (Bug 371655)  r=bzbarsky 
Remove InspectorCSSUtils, part 3: Remove the trivial methods and replace their callers with appropriate internal calls.  (Bug 371655)  r=bzbarsky 
Remove InspectorCSSUtils, part 4: Remove nsIInspectorCSSUtils and nsInspectorCSSUtils.  (Bug 371655)  r=bzbarsky 
When a block without lines has a bullet, give the line we fake its full line height.  (Bug 179596)  r=roc 
Make the quirks mode line height algorithm's check for bullets check whether there's a bullet rather than checking whether it's an HTML LI.  (Bug 179596)  r=roc 
Make lines with only a bullet take up height.  (Bug 179596 / Bug 507187)  r=roc 
Bug 503042 - Implement a way to detect a touch enabled device. r=vlad, sr=dbaron 
Ensure that block elements with display changed to inline are formatted as bidi embeddings. Bug 503957, r=dbaron 
Add invalidate reftest for bug 237766.  r=dbaron 
Bug 230081, use proper cursors for frameset border resizing, r=dbaron 
Add additional test for :first-letter extension across pseudo-elements, and note failures with bug number now that bug has been filed. 
Remove buffering of test output by making stack fixers not buffer their standard output.  (Bug 510014) 
Don't QI a node to nsIDOMElement and back to nsIContent for every call to nsEventStateManager::GetContentState.  (Bug 509889)  r=enndeakin 
Don't resolve a bogus non-element parent when we don't need to and it confuses things.  (Bug 510071)  r=bzbarsky 
Bug 507334, part 1:  Remove nsDisplaySummary optimization, since it introduces extra display items that would disable the optimizations in part 2.  r=dbaron 
Bug 507334, part 2:  Blit multiple rectangles when scrolling rather than blitting only the largest single rectangle, and avoid repainting opaque content that covers the scrolling content.  r=dbaron 
Bug 499027 Copying an empty string to a new string allocates a buffer r=dbaron sr=jst 
Bug 477462: Create tests for margin collapsing, phase 3.  r=dbaron 
Bug 473805 -  Prevent resize event loops, r=dbaron 
Bug 510827 - Register overlays in layout-debug jar.mn; r=dbaron 
Bug 510748 - still get assertions "reflow state computed incorrect width" and "non-root frame's desired size changed during an incremental reflow"; Don't report any padding or border on both axes if scrollbars are hidden; r=dbaron 
Bug 497495 (frame poisoning) part 2: Introduce nsIPresShell::AllocateMisc/FreeMisc functions; add an as-yet-unused "code" parameter to AllocateFrame/FreeFrame; fix up nsFrame to match; use AllocateMisc/FreeMisc for all non-frame pres arena objects; move clearing of frame objects from nsFrame::operator new to AllocateFrame.  r=roc sr=dbaron 
Bug 503791. Make sure that the device context has a widget so that it can determine what screen it is on.  r=dbaron 
Bug 503791. ComboboxControlFrame should not assume that the origin of the screen is (0,0) because that is not true with more than one display.  r=dbaron 
Bug 509956 Bogus code in nsTextFrame::IsFloatingFirstLetterChild r=dbaron 
Bug 467948: Fix some "deprecated conversion from string constant" compiler warnings", round 2. r=dbaron 
Bug 431948 - when skipping a malformed ruleset inside an @-rule, do not consume the close brace that ends the @-rule, lest we skip too much; r=dbaron 
bug 498685 - Add isDebugBuild to reftest sandbox, r=dbaron. 
Bug 499315 - add support of "script" tests to reftests, r=dbaron. 
Bug 486735 Verdana.ttf gets a very thick underline with spelling errors r=dbaron+jboriss 
Backed out changeset 3a829715fd39 (Bug 482935) on suspicion of causing mochitest-plain leaks. 
Merge backout of changeset 3a829715fd39 (Bug 482935) on suspicion of causing mochitest-plain leaks. 
Fix DEBUG-only crash parsing empty 'src' descriptor of @font-face rule.  (Bug 511304)  r=dbaron 
Fix parenthesis-matching while parsing local() function in @font-face src: descriptor.  (Bug 511333)  r=zweinberg 
Fix parenthesis-matching while parsing format() function in @font-face src: descriptor.  (Bug 511333)  r=dbaron 
Bug 443976: Parsing support for the unicode-range: descriptor in @font-face.  r=dbaron 
Bug 507067: Fix GetAnimVal and GetBaseVal's handling of em/ex/etc. units inside display:none elements by using nsComputedDOMStyle's method for resolving style contexts for such elements.  r=dbaron 
Bug 511147:  Avoid the slow greedy-operator path for A > B ~ C selectors.  r=dbaron 
Bug 510651:  Fold nsIFrameDebug into nsFrame.  r=dbaron  sr=mrbkap 
Implement background-image: -moz-image-rect(), which allows a region of an image to be used as a background image.  (Bug 113577)  r=roc, dbaron 
Don't call CalculateContentBottom inside PR_MAX(), which evaluates its arguments twice.  (Bug 511482)  r=dbaron 
Bug 445765. In getting the device context from a docshell don't go through nsIBaseWindow::GetMainWidget because that always returns the device context for the primary screen when called on toplevel docshell. r=dbaron 
Backed out changeset 6b686281f9ac (Bug 445765) for causing a 3% Txul (Twinopen) regression on Linux. 
Merge backout of changeset 6b686281f9ac (Bug 445765) for causing a 3% Txul (Twinopen) regression on Linux. 
Use binary subdivision rather than Newton-Raphson iteration when the slope is very near 0 to avoid failing to converge correctly.  (Bug 501569)  r=dbaron 
Fix test from bug 501569 to avoid triggering the tinderbox error parser. 
bug 498685 - Add isDebugBuild to reftest sandbox, r=dbaron. 
Bug 499315 - add support of "script" tests to reftests, r=dbaron. 
Bug 512518 - nsRegressionTester.cpp doesn't compile in an optimized build. r=dbaron 
Bug 497495 part 3a: rationalize the queryframe-implementation macro naming scheme, restructure the implementation to detect duplicate entries, and a couple fixes to the frame ID enumeration. r=dbaron sr=roc
Bug 497495 part 3b: update users of queryframe macros (strictly mechanical change). r=dbaron 
Bug 508179. Implement 'pointer-events:none;' for all elements. r=roc, r=dbaron. 
Bug 445765. In GTK screen manager, for the common case of just one screen don't make potentially expensive system calls to try to determine which screen we are on.  r=dbaron 
Bug 445765. In getting the device context from a docshell don't go through nsIBaseWindow::GetMainWidget because that always returns the device context for the primary screen when called on toplevel docshell.  r=dbaron 
Bug 513394. Make sure that mPrevChild gets set on nsBlockReflowState.  r=dbaron 
Bug 503813. Events targeted at generated content frames should get the non-generated ancestor as target element. r=dbaron 
Bug 508134. Stop managing the visibility of views from SyncFrameViewProperties, except for nsSubdocumentFrames. r=dbaron 
Bug 511951. Don't hide the inner view of a subdocument frame's hidden view. r=dbaron 
Bug 474049: (first patch) Add SMILOverrideStyle rule & accessors on nsIContent/nsGenericElement, to store SMIL-animated style values. r=dbaron r=bz 
b=513807 comparison of unsigned expression >= 0 is always true when constructing nsGenConNodes r=dbaron 
Bug 483977 - nsCSSScanner: Simplify IsDigit. r+sr=dbaron 
Bug 504652, patch 1: create nsStyleAnimation utility class for shared animation & interpolation code. r=dbaron 
Remove unneeded detail == eRuleNone check.  (Bug 114100)  r=bzbarsky 
Don't check for iwlib.h if SKIP_LIBRARY_CHECKS is set.  (Bug 509060)  r=bsmedberg 
Make empty bullets (i.e., those for list-style-type:none) not contribute to layout.  (Bug 512631)  r=roc 
Add stylestruct_ parameter to CSS_PROP macro.  (Bug 504652)  r=bzbarsky 
Add fields to nsCSSPropList.h for style struct offset and animation type.  (Bug 504652)  r=bzbarsky 
Rewrap long argument lists to CSS_PROP macros.  Whitespace changes only.  (Bug 504652) 
Add support for animation of nsStyleCoord and nsStyleSides values to nsStyleAnimation.  (Bug 504652)  r=dbaron  sr=bzbarsky 
Add support for animation of nscoord values to nsStyleAnimation.  (Bug 504652)  r=dholbert  sr=bzbarsky 
Add support for color values to nsStyleCoord so nsStyleAnimation can animate colors.  (Bug 504652)  r=bzbarsky 
Add support for animation of color values (conversion of nscolor values to nsStyleCoord and animation of eStyleUnit_Color nsStyleCoords) to nsStyleAnimation.  (Bug 504652)  r=dholbert  sr=bzbarsky 
Add support for animation of nsStyleSVGPaint values to nsStyleAnimation.  (Bug 504652)  r=dholbert  sr=bzbarsky 
Make style changes know whether they are for transitions or not.  (Bug 435441)  r=bzbarsky 
Separate nsCSSPropertySet out from nsCSSDataBlock so that it can be used elsewhere (for transitions).  (Bug 435441)  r=bzbarsky 
Allow multiple post-resolve callbacks.  (Maybe not the long term approach for CSS transitions, but easiest right now.)  (Bug 435441)  r=bzbarsky 
Pass style rule to post-resolve callbacks.  (Maybe not the long term approach for CSS transitions, but easiest right now.)  (Bug 435441)  r=bzbarsky 
Use nsRefPtr for new context in ReResolveStyleContext.  (Bug 435441)  r=bzbarsky 
Add UncomputeValue method to nsStyleAnimation, for converting computed values into specified values. (Bug 504652) r=dbaron 
Bug 497495 part 3: Add methods to every nsFrame subclass that expose the as-allocated identity of every frame object.  Also some cleanups to the QueryFrame implementation.  r=dbaron sr=roc 
Bug 497495 (frame poisoning) part 4: Change nsPresArena to maintain separate free lists for every frame class, based on its FrameIID.  Pass the necessary information in from AllocateFrame and FreeFrame. r=roc sr=dbaron 
Bug 497495 (frame poisoning) part 4: Change nsPresArena to maintain separate free lists for every frame class, based on its FrameIID.  Pass the necessary information in from AllocateFrame and FreeFrame. r=roc sr=dbaron 
Add bug number for FIXME comment. 
Fix the one mochitest that's exported to _tests in a disable-tests build.  (Bug 515993)  r=ted 
Bug 510110. Extend MozAfterPaint event to contain list of PaintRequest objects with information about individual invalidations. r=dbaron,sr=jst 
Bug 510856. Round out 'visible area of moving content' to device pixel edges to avoid stray subpixel rectangles needing to be repainted. r=dbaron 
Bug 510856. Create tests for which areas of the page are repainted or blitted by scrolling. r=dbaron 
Bug 435441. Fix signed/unsigned warning. r=dbaron 
Bug 517412 - 64 Bit fixes for nsLookAndFeel.mm. Also removes some unused colors. r=josh, r=dbaron 
Bug 435441 patch 4 followup fix. One instance of mPendingRestyles -> aRestyles was missed in patch 4. r=dbaron 
Bug 474049: followup bustage fix for Solaris -- use .get() to explicitly return a normal pointer from nsGenericElement::GetSMILOverrideStyleRule. r=dbaron 
Bug 514773.  Don't trigger rulenode gc unless we have rulenodes to gc.  r=dbaron 
Bug 516286.  No need to clear ancestor intrinsic widths on top/left/right/bottom changes anymore.  r=dbaron 
Bug 517882:  Implement a -moz-tab-size CSS property that specifies the number of spaces between tab stops in preformatted text.  r=roc, dbaron 
Bug 518378: buttons and list boxes in content document are unreasonably large, r=dbaron 
Bug 517943 - Need a way to append the contents of an nsTArray to another without copying. r=benjamin, sr=dbaron. 
Bug 499607. Stop leaking nsBlockFrame's overflow nsLineList's.  r=fantasai sr=dbaron 
Bug 507762:  Parse CSS style sheets independently of case-sensitivity, and instead check case correctly when using the stylesheets.  r=dbaron 
Reset the rule walker before calling NS_NewStyleContext.  (Bug 513741)  r=bzbarsky 
Bug 499611 - Instrument nsLineList for trace-refcnt. r=dbaron 
Bug 519875: Rename SpacerFrame::GetType method to GetSpacerType so that it won't hide inherited method nsFrame::GetType. r=dbaron 
Bug 442715. Invalidate the whole border-box when an element's size changes and its background is being clipped by a border-radius. r=dbaron 
Bug 510856. ComputeRepaintRegionForCopy should not look outside the update rect for moving and non-moving visible content. r=dbaron 
Bug 513082. Round out 'region of moving visible content' to device pixels to reduce incidence of stray subpixel rectangles causing unnecessary painting. r=dbaron 
Bug 513082. Instead of passing aDirtyRect to nsDisplayItem::Paint, have nsDisplayList::OptimizeVisibility (renamed to ComputeVisibility) compute the intersection of the visible region with the bounds of each display item and store the result in the item's mVisibleRect. This lets us do less work to paint display items which have a small intersection with the visible region but a large intersection with the bounding-box of the visible region. r=dbaron 
Bug 508495. Let CSS borders and padding apply to plugin elements, and fix layout, painting and event handling to work with them. r=dbaron 
Bug 508495. Remove CreateWidgetForView from nsIFrame and nsObjectFrame since it's no longer used there. r=dbaron 
Bug 508945. Additional fixes for plugin printing when the plugin has borders or padding. r=dbaron 
Bug 508908. Disable windowed plugins in popup windows, since they don't work. r=dbaron 
Bug 513461 - Implement pseudo classes for lightweight theme handling. r=dao,dbaron 
Add missing SetLevel call that is caught by assertions once the following patch lands.  (Bug 492675)  r=bzbarsky 
Make nsStyleSet use nsRuleWalker objects on the stack rather than in a member variable.  (Bug 492675)  r=bzbarsky 
Fix spelling of synthetic in macro name. 
Bug 506267 - [r=bzbarsky sr=dbaron] 
Bug 520303: Fix "assignment to undeclared variable" warning in reftest.js. r=dbaron 
Bug 520325: Extend nsStyleAnimation to support "none" value. r=dbaron 
Bug 520474: Remove unused helper function IsMenuPopup from nsContainerFrame.cpp. r=dbaron 
Bug 469718 - browser javascript reftests, r=ted.mielczarek, r=sayrer, r=dbaron. 
Add assertions that fire when a JSAutoRequest, JSAutoSuspendRequest, JSAutoLocalRootScope, JSAutoTempValueRooter, JSAutoTempIdRooter, JSAutoIdArray, JSAutoEnumStateRooter, or JSAutoResolveFlags is used as a temporary.  (Bug 518633)  r=igor 
Fix comment in nsStyleStruct.h about value types for -moz-column-gap. 
Change NS_ABORT_IF_FALSE to NS_ASSERTION since the icon decoder causes it to fire quite a bit.  (Bug 518704) 
Make nsDeque handle allocation failure better.  (Bug 520661)  r=bsmedberg 
Implement CSS transitions:  handle starting and animation of the transitions.  (Bug 435441)  r=bzbarsky  sr=roc 
Eliminate nsStyleAnimation::StoreComputedValue.  (Bug 520396)  r=dholbert,bzbarsky 
Add per-property tests for CSS transitions to test the code in nsStyleAnimation.  (Bug 435441, Bug 504652) 
Make parsing of tree pseudo-elements do proper parenthesis matching.  (Bug 521044)  r=bzbarsky 
Parse pseudo-elements into their own pointer so we don't have to go through the trouble of removing them from the pseudo-class list.  (Bug 520848)  r=bzbarsky 
Fix serialization of tree pseudo-elements with arguments.  (Bug 521044)  r=bzbarsky 
Existing callers call IsCSS2PseudoElement on non-pseudo-elements (in particular, anon boxes), so we need to make that not assert and be deterministic.  (Bug 521044)  r=bzbarsky 
Add tests for :-moz-tree-* pseudo-elements.  (Bug 521044) 
Revert 9ef12a27ab14 and c87e6a6a41bb (patches 6 and 7 from bug 435441) which are no longer needed after bug 520396. 
Increase test tolerance to try to fix random orange. 
Bug 520485, patch 1 of 5: add support for float values in nsStyleAnimation. r=dbaron 
Bug 520485, patch 3 of 5: add support for 'font-size-adjust' property in nsStyleAnimation. r=dbaron 
Backed out changeset 5f03363ae12d (Bug 516013) due to xpcshell test failure (test_LightweightThemeManager) caused by exception thrown from the code added in that changeset. 
Merge backout of changeset 5f03363ae12d (Bug 516013) due to xpcshell test failure (test_LightweightThemeManager) caused by exception thrown from the code added in that changeset. 
Make transitions test more reliable by measuring the positions of transitions relative to a pair of reference linear transitions, and testing the progress of those reference linear transitions with considerably more latitude.  (Bug 435441) 
Allow more error in bezier computation to fix random orange. 
Oops, sign of error_direction needs to change only for its second use.  (Bug 435441) 
Bug 520421.  HasAttributeDependentStyle is broken on HTML for cased attribute selectors.  r=dbaron 
Bug 521525.  Make sure to reflow kids with percentage heights if our computed height changes from specified to auto.  r=dbaron 
Add previously-skipped border and outline properties to nsStyleAnimation.  (Bug 521292)  r=dholbert, bzbarsky 
Add bug numbers for FIXME comments in transitions landing.  (Bug 435441) 
nsCSSValue constructor taking nscolor is a bad idea since nscolor is just PRInt32.  (Bug 521350)  r=bzbarsky 
Better disambiguate nsStyleCoord constructors taking nscoord and nscolor.  (Bug 521352)  r=bzbarsky 
Increase test tolerance to reflect observed errors in bug 435441 comments 103 and 105, and handle timer firing after 8 seconds (comment 104). 
Bug 520316. Call DetachWidgetEventHandler on the right view. r=dbaron 
Bug 517882 follow-up: Reorder nsStyleText constructor's initializer list to fix build warning. r=dbaron 
Put :-moz-system-metric values in nsGkAtoms.  (Bug 522149)  r=bzbarsky 
Make nsMediaFeature::mKeywordTable an mData union.  (Bug 522149)  r=bzbarsky 
Pass the media feature to media feature value getters.  (Bug 522149)  r=bzbarsky 
Add media queries for all of our system metrics exposed in :-moz-system-metric().  (Bug 522149)  r=bzbarsky 
Add tests for media queries of system metrics.  (Bug 522149) 
Add bug numbers for the FIXME comments in CSS transitions patches.  (Bug 435441) 
bug 522779: use nsTArray::Contains() instead of checking nsTArray::IndexOf() against various sentinel values, in three places in layout. r=dbaron 
Add comment about additional place new system metrics should be added. 
Make ReResolveStyleContext no longer rerun selector matching on next-continuations by making both ReResolveStyleContext and ReParentStyleContext enforce the invariant that all continuations have the same style context.  (Bug 522563)  r=bzbarsky 
Increase transitions test bezier tolerance to 0.0015 since bug 522862 comment 0 has an example that requires it to be 0.0012.  (Bug 522862, Bug 435441) 
Bug 513461 follow-up: reorder initializer list in nsXULDocument constructor, to fix build warning. r=dbaron 
Bug 521677: Use fputs instead of printf/fprintf in a few cases, to fix "format not a string literal and no format arguments" build warnings. r=dbaron 
Switch nsStyleAnimation from using nsStyleCoord to using its own nsStyleAnimation::Value, so we don't have to add nontrivial destructors to nsStyleCoord.  (Bug 522852)  r=dholbert,bzbarsky 
Implement nsStyleAnimation::Add and Interpolate using the same code underneath.  (Bug 523193)  r=dholbert  sr=bzbarsky 
Bug 521335: explicitly handle 'eUnit_None' in nsStyleAnimation's ComputeDistance & AddWeighted methods, so that none-to-none animations won't spam assertions. r=dbaron 
Bug 523089.  Fix serialization of [*|foo] selectors.  r=dbaron 
Disable test_deadlock_detector for failing on OS X.  (Bug 523378) 
Serialize type selectors with original case.  (Bug 523341)  r=bzbarsky 
Add support for animation of text-shadow and -moz-box-shadow (the first complex value types that we animate).  (Bug 523196)  r=dholbert  sr=bzbarsky 
Add support for animation of stroke-dasharray to nsStyleAnimation.  (Bug 523355)  r=dholbert  sr=bzbarsky 
Bug 522320: Put auto/none/normal keywords in CSS keyword tables for properties that take enum values. Patch 1 (handle single-valued SVG-animatable properties). r=dbaron 
Bug 522320: Put auto/none/normal keywords in CSS keyword tables for properties that take enum values. Patch 1 addendum (handle font-style, font-variant, overflow). r=dbaron 
Bug 522320: Put auto/none/normal keywords in CSS keyword tables for properties that take enum values. Patch 2 (handle remaining properties). r=dbaron 
Bug 520486 (patch 1): Extend nsStyleAnimation to support enumerated values. r=dbaron 
b=494901 remove some things from nsSprocketLayout that don't do anything r=dbaron 
b=494901 textbox misaligned when using align=baseline r=dbaron 
Set dom.popup_maximum to -1 to work around weirdness with the offline tests and get the tree green again, and because we probably want to do it anyway.  CLOSED TREE 
Only call GetFromExtension if we have an extension.  (Bug 523672)  r=bzbarsky 
Fix two reftest.js mistakes in changeset d4fa46306138.  (Bug 471579)  r=ted 
Increase maximum collections at shutdown from 5 to 10 to see if it fixes the leaks on Windows mochitests 2/5. 
Bug 523755: Remove two unneeded nsCSSValue variable declarations in nsCSSDeclaration. r=dbaron 
Backed out changeset d6add78eff55 (Increase maximum collections at shutdown from 5 to 10 to see if it fixes the leaks on Windows mochitests 2/5). 
Merge backout of changeset d6add78eff55 (Increase maximum collections at shutdown from 5 to 10 to see if it fixes the leaks on Windows mochitests 2/5). 
Work around bug 524037 by sending a mouse up event in addition to the mouse down event so that we don't leak and the tree goes green again. 
Add temporary debugging code to debug bug 523934 
Backed out changeset 1aea70ef6f63 (temporary debugging code for bug 523934). 
Bug 518904: remove unused variable in nsLayoutDebugCLH.cpp to fix build warning. r=dbaron 
Make test_transitions report either PASS or TODO for its timing-related tests since we just can't test timing on the unit test VMs.  (Bug 522862) 
Bug 522320: Mask out internally-used OVERRIDE_ALL bit before trying to convert "text-decoration" values to strings. r=dbaron 
Bug 523054 - Sweep out some more viewer orts, r=dbaron 
Bug 522394. Don't bother descending into zero-opacity content when constructing display list. r=dbaron 
Bug 516885. Pass separate visible-before-move and visible-after-move regions into ComputeVisibility, to make code clearer because we don't have to overload a single region, and which also lets us fix ambiguities related to clipping. r=dbaron 
Bug 523468. Force next line to be reflowed whenever we push or pull children from an inline frame. r=dbaron 
Bug 449324. Apply opaque-border optimization to all opaque border types, not just 'solid'. r=dbaron 
Bug 517566: Enable WebGL in configure.in, and check for requisite headers. r=vladimir,r=dbaron 
Disable slow script dialogs during reftest to see if that fixes bug 523934.  r=ted 
Add temporary debugging code to help figure out top crash bug 500105, part 1. r=dbaron. 
Add temporary debugging code to help figure out top crash bug 500105, part 2. r=dbaron. 
Make NS_IsMainThread faster on our major platforms.  (Bug 521750)  r=dbaron 
Add tests for correct behavior of CSS property values under cloning. 
Add support for animation of -moz-{border,outline}-radius-*.  (Bug 523450)  r=dholbert 
Remove option for aTakeOwnership==PR_FALSE for nsStyleAnimation::Value setters for complex types.  (Bug 523450)  r=dholbert 
Make unconstrained width assertions into warnings because we can hit them when we clamp really large widths.  (Bug 525100)  r=roc 
Bug 525295.  Rename nsStyleContext::GetPseudoType to GetPseudo.  r=dbaron 
Bug 522390.  Fix percentage-height kids of scrollframes in quirks mode to deal with the height of the scrollframe becoming auto.  r=dbaron 
Bug 520563.  Shouldn't predefine xml and xmlns prefixes for CSS selectors.  r=dbaron,sicking 
Add operator->* to nsAutoPtr and nsRefPtr.  (Bug 525205)  Pending review, but fixes bustage for a bunch of people. 
Need an AC_TRY_LINK when checking for __thread in case a new gcc is combined with an old ld.  (Bug 521750)  r=bsmedberg 
Fix comment, per bug 520661 comment 4. 
Bug 509329 - Various issues with invalidation of backgrounds propagated from body to the canvas, and with sized backgrounds.  r=dbaron 
Bug 520427. Improvements to debug output List for frames. r=dbaron 
Bug 501847 part 3.  Make nsInlineFrame::SelfIsEmpty return false as needed for inlines that are part of an {ib} split, to avoid weird blank lines in the middle of {ib} splits.  r=dbaron 
Bug 501847 part 4.  Change frame construction to create {ib} splits that have blocks wrapping runs of block kids and inlines wrapping runs of inline kids instead of wrapping all kids from the first block to the last block in a single block.  r=tn,dbaron,roc 
Bug 523468. Make sure we reflow the next line when content is pushed or pulled from an inline frame. r=dbaron 
Bug 523911. Content that's not moving, that's positioned over uniform content that is moving, does not need to be repainted. r=dbaron 
Bug 513082. Take advantage of our knowledge that nsDisplayClip, when used in a blitting scrolling frame, must snap to device pixels, to get more accurate blit regions. r=dbaron 
Bug 515811. mPrevChild needs to be set on early exit from nsBlockFrame::ReflowBlockFrame. r=fantasai sr=dbaron 
Bug 526402: Stop accepting unitless 0 for angles, times, and frequencies.  r=zwol 
Bug 526402: test cases. r=dbaron 
Bug 526586 - XULRunner crashes on startup on Windows r=bustage fix and at least agreement on the approach from dbaron 
Bug 259636.  Don't do sync reflow when setting .value on text inputs.  r=roc, sr=dbaron 
Fix navigator.platform for 64-bit Mac OS X builds. b=489586 r=dbaron 
Remove support for -moz-alias, -moz-context-menu, -moz-copy and -moz-spinning values of the 'cursor' property, no longer needed because of the standard alias, context-menu, copy, and progress cursors.  (Bug 487942)  r=dbaron 
Make DEBUG_TRACEMALLOC_PRESARENA compile again by spelling PRUint32 correctly. 
Add support for interpolation of integer-valued properties (i.e., z-index) to nsStyleAnimation.  (Bug 524808)  r=dholbert 
Bug 507817: BorderImage should not call ExtractCurrentFrame each time it draws [r=dbaron r=joedrew] 
Fix a spelling mistake to force another round of builds (particularly needed for 1.9.2, but fixing on mozilla-central as well). 
Pass property to nsStyleAnimation interpolation functions.  (Bug 528234)  r=dholbert 
Add support for animation of font-weight and font-stretch.  (Bug 528234)  r=dholbert 
Put the 'normal' values for 'font-weight' and 'font-stretch' into the keyword tables.  (Bug 522320)  r=dholbert 
Fix computed values of 'font-weight' to report integers for bold (like for normal) and to report usable values for bolder/lighter.  (Bug 173331, Bug 77882)  r=bzbarsky 
In the ValueList case, don't start image loads for declarations that are overridden by others (just like we already do for the Value case).  (Bug 517224)  r=bzbarsky 
Use property flags for which properties need StartLoadImage called.  (Bug 528634)  r=bzbarsky 
Bug 519168. Fix some spurious reftest failures on Mac. r=dbaron 
Bug 528792 - :-moz-lwtheme incorrectly depends on the lwthemetextcolor attribute. r=dbaron 
Bug 525579 - topcrash [@ nsAccessibilityService::GetAccessible(nsIDOMNode*, nsIPresShell*, nsIWeakReference*, nsIFrame**, int*, nsIAccessible**)] (thanks dbaron) r=roc,surkov 
Bug 514661 - Introduce scoped atom tables for the HTML5 parser. r=bsmedberg, sr=dbaron. 
Add a test for bug 517224. 
Null check mShell in nsPresContext::MediaFeatureValuesChanged.  (Bug 528832)  r=bzbarsky 
Bug 528604. Don't add areas-to-repaint when scrolling for non-moving clip rects that aren't clipping any moving content. r=dbaron 
Bug 528038.  Make sure to propagate inherited changes properly for cases where the change hint doesn't apply to all descendants.  r=dbaron 
Bug 505059.  Don't shut down the layout module while someone is holding a reference to the stylesheet service.  r=dbaron 
Bug 526500: Fix bug in OOM handing for nsTSubstring::SetLength. Also change Capacity to return 0 rather than -1 for immutable strings to avoid similar surprises in the future. Finally Make SetCapacity return a boolean indicating success/failure to make it easier to check for oom handling. r=bsmedberg sr=dbaron 
r=dbaron. 
Disabling the joined method optimization from bug 524826 again (529837, talked about it with dbaron and sayrer). 
Add mechanism for an individual mochitest to say it needs a longer timeout.  (Bug 527614)  r=ted 
Backed out changeset 4a0bf3ffd767 due to test crashes. 
Merge backout of changeset 4a0bf3ffd767 due to test crashes. 
Use 'progress' events instead of 'suspend' events and don't check readyState, in order to fix random test timeouts.  (Bug 528001) 
Do unicode conversion separately for each byte in the encoding so encoder/decoder errors don't skew the results or leave them uninitialized.  (Bug 525581)  r=jst 
Remove the concept of stateless unicode decoders since they now all have state.  (Bug 530328)  r=smontagu 
Bug 526769. r=roc a1.9.2=dbaron 
Bug 528134.  Hand out the style context with the rulenode.  r=dbaron 
Rerun 'make genservercert' in build/pgo and commit the resulting certs to fix expired test server certs and make the tree green. 
Bug 531479 - Always return exit status of the app, not the stack fixer process. r=dbaron 
r=dbaron. 
Bug 531289: Firefox doesn't obey system dpi settings anymore (better fix) [r=dbaron a=blocking] 
Bug 530686.  Don't redraw box-shadows over the bounding rect of the dirty region; just redraw them over a (somewhat simplified) dirty region.  r=dbaron 
Bug 530472.  Make sure to check across document boundaries to see whether the clipFrame is an ancestor of the moving frame.  r=dbaron 
a=dbaron 
a=dbaron 
a=dbaron 
Make sure debugging code for topcrash bug 500105 brings up breakpad. r=dbaron. 
Bug 529356: Add 'default' case in a switch statement in nsStyleAnimation, to fix build warning. r=dbaron 
Bug 520239, patch 1: Split out a chunk of nsStyleAnimation::ComputeValue into its own function. r=dbaron 
Bug 524539, patch 1: In nsStyleAnimation, represent "stroke-dasharray: none" with single-value nsCSSValueList. r=dbaron 
Bug 529934: Add "UnparsedString" unit to nsStyleAnimation, as catch-all for otherwise-unanimatable properties. r=dbaron 
Bug 520239, patch 2: Add support for shorthand properties in nsStyleAnimation's helper function 'BuildStyleRule'. r=dbaron 
Bug 523148.  Speed up AddImportantRules.  r=dbaron 
Bug 523288 part 1.  Move matching on id and class to right after matching on tag in SelectorMatches.  r=dbaron 
Bug 523288 part 2.  Get link state and content state lazily.  r=dbaron 
Bug 523288 part 3.  Do a bit less work still in the RuleProcessorData constructor.  r=dbaron 
Bug 523294 part 1.  Change the signature of HasAttributeDependentStyle.  r=dbaron 
Bug 523294 part 2.  Get rid of the aAttribute argument to SelectorMatches; handle attribute changes by checking for matches on selectors including the given attribute both before and after the change.  r=dbaron 
Bug 523294 part 3.  Get rid of the now-unused aStateMask argument to AttributeChanged.  r=dbaron 
Bug 525608 part 1.  Introduce an enum for keeping track of pseudo-elements.  r=dbaron 
Bug 525608 part 2.  Change the CSS parser to not allow anon box selectors with more than the anon box name in them.  Store the pseudo type in pseudo-element selectors.  Enforce that all non-anon-box pseudo selectors have an mNext that selects the element they apply to.  r=dbaron 
Bug 525608 part 3.  Change all style set consumers that ask for a pseudo style context to indicate what they're actually asking for (pseudo-element, anonymous box, or xul tree thing).  r=dbaron 
Bug 525608 part 4.  Change pseudo-element probing and resolution to not use EnumerateTagRules.  r=dbaron 
Bug 525608 part 5.  Change anonymous box rule matching to just use a separate hashtable and not ever run SelectorMatches.  r=dbaron 
Bug 525608 part 6.  Remove null-checks on RuleProcessorData::mContent.  r=dbaron 
Bug 525608 part 7.  Make tree pseudos use a separate hashtable instead of riding along on the rulehash.  r=dbaron 
Bug 525608 part 8.  Reorder the cases in AddRule in order of likelihood.  r=dbaron 
Bug 525952 part 1.  Make sure pseudo-element selectors never land inside SelectorMatches (because tree pseudo-elements do weird stuff with pseudo-classes).  r=dbaron 
Bug 525952 part 2.  Have different macros so nsCSSPseudoClassList.h consumers can tell apart state-related and not-state-related pseudo-classes.  r=dbaron 
Bug 525952 part 3.  Introduce an enum for pseudo-clases.  r=dbaron 
Bug 525952 part 4.  Use the new pseudoclass enum in IsStateSelector and SelectorMatches.  r=dbaron 
Bug 529934 followup: Use "IsStringUnit()" instead of explicitly comparing unit, in nsStyleAnimation::FreeValue.  r=dbaron 
Bug 525608 part 1.  Introduce an enum for keeping track of pseudo-elements.  r=dbaron 
Bug 525608 part 2.  Change the CSS parser to not allow anon box selectors with more than the anon box name in them.  Store the pseudo type in pseudo-element selectors.  Enforce that all non-anon-box pseudo selectors have an mNext that selects the element they apply to.  r=dbaron 
Bug 525608 part 3.  Change all style set consumers that ask for a pseudo style context to indicate what they're actually asking for (pseudo-element, anonymous box, or xul tree thing).  r=dbaron 
Bug 525608 part 4.  Change pseudo-element probing and resolution to not use EnumerateTagRules.  r=dbaron 
Bug 525608 part 5.  Change anonymous box rule matching to just use a separate hashtable and not ever run SelectorMatches.  r=dbaron 
Bug 525608 part 6.  Remove null-checks on RuleProcessorData::mContent.  r=dbaron 
Bug 525608 part 7.  Make tree pseudos use a separate hashtable instead of riding along on the rulehash.  r=dbaron 
Bug 525608 part 8.  Reorder the cases in AddRule in order of likelihood.  r=dbaron 
Bug 525952 part 1.  Make sure pseudo-element selectors never land inside SelectorMatches (because tree pseudo-elements do weird stuff with pseudo-classes).  r=dbaron 
Bug 525952 part 2.  Have different macros so nsCSSPseudoClassList.h consumers can tell apart state-related and not-state-related pseudo-classes.  r=dbaron 
Bug 525952 part 3.  Introduce an enum for pseudo-clases.  r=dbaron 
Bug 525952 part 4.  Use the new pseudoclass enum in IsStateSelector and SelectorMatches.  r=dbaron 
Remove random marks on tests that don't seem to be failing any longer.  (Bug 371232, Bug 371316) 
Add SSE.h to consolidate code for Intel CPU feature detection at both compile-time and run-time.  (Bug 513422)  r=vlad 
Add mozilla::AutoRestore to restore values at the end of a C++ scope.  (Bug 518756)  r=bsmedberg 
Add support for animation of -moz-box-flex.  (Bug 524853)  r=bzbarsky 
Add support for animation of -moz-column-count.  (Bug 524854)  r=bzbarsky 
Add support for animation of -moz-column-rule-width.  (Bug 524855)  r=bzbarsky 
Add support for animation of border-spacing and -moz-transform-origin.  (Bug 524861)  r=bzbarsky 
Stop transitions when -moz-transition-property changes to a value that no longer includes the transitioning property.  (Bug 525530)  r=bzbarsky 
Fix comment in nsStyleTransformMatrix.h. 
Call BeginUpdate before going into the guts of updating a style attribute so that the resulting flush happens sooner.  (Bug 522595)  r=bzbarsky 
Reference-count CSS compressed data blocks and make them immutable when their reference count is above 1.  (Bug 522595)  r=bzbarsky 
Remove unneeded SlotForValue calls (since SlotForValue will soon require EnsureMutable has been called).  (Bug 522595)  r=bzbarsky 
Ensure that declarations are mutable before calling SlotForValue.  (Bug 522595)  r=bzbarsky 
Call RuleMatched method on CSS rules when they are matched.  (Bug 522595)  r=bzbarsky 
Cache important rule the first time the rule is matched so we don't rely on the declaration for it past that point.  (Bug 522595)  r=bzbarsky 
Make CSS style rule implementations hold on to their data block once RuleMatched has been called so that they follow the immutability contract of nsIStyleRule.  Remove workarounds in tests for transitions bugs caused by these violations of style rule immutability.  (Bug 522595)  r=bzbarsky 
Reset mUnderlineOffset on all platforms when user font set generation is bumped.  (Bug 523717)  r=jdaggett 
Bug 487667 -  Clone documents for printing, r=roc+jst+joe+dbaron 
Bug 529749.  Make sure nsRuleWalker never has a null mCurrent.  r=dbaron 
Bug 531933.  Give HasStateDependentStyle a better signature.  r=dbaron 
Bug 525608 followup.  Initialize the variable, and remove the extra branch.  r=dbaron 
Bug 531461. Avoid creating an nsDisplayTableBorderBackground if every part of the table is hidden. r=dbaron 
Bug 530686. Only create an nsDisplayTableBorderBackground when it's going to have something to paint, since having one can disable some scrolling optimizations. r=dbaron 
Address my own review comment and undo one of the changes in bug 531461. 
Bug 523576 - Fix compilation with disable-svg. r=dbaron 
Fix bustage from bug 530686. 
Bug 516885 / Bug 525375: Fix (harmless) assertions due to nsDisplayTransform passing non-null aVisibleRegionBeforeMove. r=dbaron 
Bug 531361. Make nsLineLayout not assert about long lines that may occur naturally. r=dbaron 
Change common NS_ASSERTION (bug 404693) to NS_WARN_IF_FALSE so we can make progress on making assertions be reftest failures (bug 472557).  r=bzbarsky 
Disable reporting of assertion failures in reftest a different way, so that the assertion counts per test are logged and can be collected.  (Bug 472557) 
Bug 534171: Make sure to initialize local variable "success" in nsBulletFrame::AppendCounterText. r=dbaron 
Bug 533421: Handle eUnit_Normal and eUnit_Auto in nsStyleAnimation::UncomputeValue. r=dbaron 
Make box-shadow cause only the overflow it needs and not add on additional overflow.  (Bug 514917)  r=roc 
Fix behavior of -moz-box-shadow on flexible non-flexbox children of flexboxes.  (Bug 531098)  r=roc 
Call CheckInvalidateSizeChange for nsHTMLScrollFrames.  (Bug 438537)  r=roc 
Run ShowSSEConfig as a unit test so that the output shows up in unit test logs. 
Fix assertions in the scrollable row group case.  (Bug 531461)  r=roc 
Work around all reftest-print reftests causing two assertions (Bug 534478) in the reftest harness to avoid lots of manifest annotation.  (Bug 472557) 
Bug 534694 - Fix building layout-debug with libxul. r=dbaron sr=jst CLOSED TREE 
reftest-print assertion workaround needs to expect three assertions for every reftest-print test on Mac.  (Bug 472557) 
Bug 532721. Be aware that gradient background rendering depends on the size of the containing frame. r=dbaron 
Bug 534366. Make nsFirstLineFrame set InlineReflowState::mLineLayout correctly. r=dbaron 
Bug 532721: less conservative detection of gradients with size dependence.  r=dbaron 
Bug 532617 -moz-background-size does not always get serialised r=dbaron 
Make nsRefreshDriver reference-counted instead of being a sub-object of the pres context.  (Bug 531585)  r=bzbarsky 
Make the transition manager reference-counted.  (Bug 531585)  r=bzbarsky 
Make nsRefreshDriver hold a reference to its observers while notifying them.  (Bug 531585)  r=bzbarsky 
Pass format sizes to scanf string arguments in codesighs.c.  (Bug 533647)  r=bsmedberg 
Add support for animation of nsRect values.  (Bug 520488)  r=bzbarsky 
Add support for animation of 'visibility' to transitions (but make it a special case for transitions).  (Bug 531942)  r=bzbarsky 
Add support for animation of 'background-position' and 'background-size'.  (Bug 532307)  r=bzbarsky 
Make setting property after setting transition-duration and transition-delay to 0 stop running transitions on that property: step 1: move static function up.  (Bug 522643)  r=bzbarsky 
Make setting property after setting transition-duration and transition-delay to 0 stop running transitions on that property: part 2: make GetElementTransitions faster so we can call it more often.  (Bug 522643)  r=bzbarsky 
Make setting property after setting transition-duration and transition-delay to 0 stop running transitions on that property: part 3: main patch.  (Bug 522643)  r=bzbarsky 
Fix rather serious build warning about passing non-POD types to printf.  DEBUG-only 
Backout revisions fa5326c011b8, 8b22441911b0, and cfa10b01b1f6 (bug 531585) on suspicion of causing random orange bug 536382. 
Merge backout of revisions fa5326c011b8, 8b22441911b0, and cfa10b01b1f6 (bug 531585) on suspicion of causing random orange bug 536382. 
Add reftests for (unfixed) bug 518172. 
Bug 536463: Rename nsTableOuterFrame::GetMargin to 'GetChildMargin', so it won't hide unrelated inherited method. r=dbaron 
Make nsRefreshDriver reference-counted instead of being a sub-object of the pres context.  (Bug 531585)  r=bzbarsky 
Make the transition manager reference-counted.  (Bug 531585)  r=bzbarsky 
Make nsRefreshDriver hold a reference to its observers while notifying them.  (Bug 531585)  r=bzbarsky 
Implement events part of CSS transitions: add support for the transitionend DOM event.  (Bug 531585)  r=smaug 
Add mechanism for returning computed value name of certain longhand properties of our fake shorthands.  (Bug 531585)  r=bzbarsky 
Dispatch transitionend events.  (Bug 531585)  r=bzbarsky 
Tests for transitionend event.  (Bug 531585) 
Make nsRefreshDriver reference-counted instead of being a sub-object of the pres context.  (Bug 531585)  r=bzbarsky 
Make the transition manager reference-counted.  (Bug 531585)  r=bzbarsky 
Make nsRefreshDriver hold a reference to its observers while notifying them.  (Bug 531585)  r=bzbarsky 
Implement events part of CSS transitions: add support for the transitionend DOM event.  (Bug 531585)  r=smaug 
Add mechanism for returning computed value name of certain longhand properties of our fake shorthands.  (Bug 531585)  r=bzbarsky 
Dispatch transitionend events.  (Bug 531585)  r=bzbarsky 
Tests for transitionend event.  (Bug 531585) 
Bug 536562 - Don't crash on null. r=dbaron 
Add debugging code to debug random orange bug 536603. 
Debugging bug 536603: run tests twice to see if the problem is timing-related. 
Backed out changeset 2752efeb2fdd (Bug 535004: Check if we've fired an unload event before calling OnPageShow, in DocumentViewerImpl::LoadComplete) because the NS_ABORT_IF_FALSE that it added is firing in reftest and crashtest, at least on Linux. 
Merge backout of changeset 2752efeb2fdd (Bug 535004: Check if we've fired an unload event before calling OnPageShow, in DocumentViewerImpl::LoadComplete) because the NS_ABORT_IF_FALSE that it added is firing in reftest and crashtest, at least on Linux. 
Remove debugging code for debugging bug 536603 (changeset 76e9dfaba122 and changeset 5275dda44819). 
Add basic SJS debugging code for bug 536603. 
Bug 500882 part 7.  Remove the old GetPrimaryFrameFor API.  r=roc, sr=dbaron 
Fix the opposite type of orange as the previous fix: make the case where the transition completes before the setTimeout fires much much less likely. 
Backed out changeset aabd98c04dc9 (debugging for bug 536603) 
Merge backout of changeset aabd98c04dc9 (debugging for bug 536603) 
Add some CSS loader debugging for mochitest orange bug 536603. 
Set iterators to valid position after deleting overflow lines.  (Bug 534082)  r=tnikkel 
Backed out changeset f60b3bbfa8ce (debugging for bug 536603) 
Merge backout of changeset f60b3bbfa8ce (debugging for bug 536603) 
Disable the intermittently-failing tests (bug 536603) for Mac only, which is where they're failing. 
Don't read before the beginning of a string in Atob.  (Bug 494105)  r=mrbkap 
Bug 536789.  Null-check the body, since we might not have one.  r=dbaron 
Bug 536772.  Wallpaper over us switching the subdoc map entry too early.  r=dbaron 
Bug 536931.  Check whether we found a content node before trying to get its primary frame.  r=dbaron 
Bug 534808. Need to clear descendant intrinsic widths on height changes, due to replaced elements.  r=dbaron 
Bug 529134: Initialize tracemalloc in NS_LogInit() to ensure that tracemalloc is always thread safe. r=bsmedberg r=dbaron 
Bug 527682 - Implement -moz-window-shadow values menu, tooltip and sheet. r=dbaron, r=dao, r=josh 
Rename HTMLCSSStyleSheetImpl to nsHTMLCSSStyleSheet.  (Bug 239008)  r=bzbarsky 
Move class definition of nsHTMLCSSStyleSheet into its own header.  (Bug 239008)  r=bzbarsky 
DeCOMify nsHTMLCSSStyleSheet.  (Bug 239008)  r=bzbarsky 
Make EnsureUniqueInner return a tri-state result that says whether it needed to do any cloning.  (Bug 536379)  r=bzbarsky 
ClearRuleCascades when ensuring a stylesheet has a unique inner so that matched rules point back to the new rules.  (Bug 536379)  r=bzbarsky 
Add method to nsStyleSet to call EnsureUniqueInner on all CSS sheets.  (Bug 536379)  r=bzbarsky 
Add nsPresContext::EnsureSafeToHandOutCSSRules.  (Bug 536379)  r=bzbarsky 
Ensure that it is safe to hand out CSS rules before doing so.  (Bug 536379)  r=bzbarsky 
Add mochitest for bug 536379. 
Revert bulk of changeset 67ddbe030ab6 (originally for bug 457809) now that bug 253354 is fixed. 
Bug 528306 part 1.   Don't stop the refresh driver timer on observer removal; instead just stop it if it fires when there are no observers.  r=dbaron 
Bug 528306 part 2.  Make nsCSSFrameConstructor reference-counted.  r=dbaron 
Bug 528306 part 3.  Hook up restyle processing to nsRefreshDriver.  r=dbaron 
Bug 537419.  mContent might be null here.  r=dbaron 
Bug 530983, patch 1: Extend nsStyleAnimation to support computing/uncomputing 'clip: auto'. r=dbaron 
Bug 537609 - Change to SVG 1.2T stroke-dasharray parsing. r=dbaron 
Bug 532732. When rendering a background-attachment:fixed background to the screen, limit the background painting area to the viewport, since this is the only area where it will actually be visible and in many cases this means we don't need to think about tiling it. r=dbaron 
Make members of nsCSSStyleSheetInner private.  (Bug 239008)  r=bzbarsky 
Remove CID and layout module constructor for CSS style sheets.  (Bug 239008)  r=bzbarsky 
Fix valgrind warning about passing uninitialized act->sa_mask to sigaction.  (Bug 538013)  r=gal 
Add tests for bug 25888 for blocks. 
Add a very slow (to work around what's probably an I/O buffering issue) version of fix-macosx-stack in python that uses atos (and should thus work on 10.5).  (Bug 429963) 
Actually get the c++filt invocation right.  (Bug 429963) 
Fix typos.  (Bug 429963) 
Bug 538388 - Make find-leakers.pl work with the output of XPCOM_MEM_ALLOC_LOG as it dose with XPCOM_MEM_REFCNT_LOG, r=dbaron 
Bug 526394. Part 3: Add all necessary new APIs to nsIScrollableFrame. r=mats,sr=dbaron 
Bug 526394. Part 4: Obsolete nsIScrollableViewProvider by adding nsIFrame::GetScrollTargetFrame. r=mats,sr=dbaron 
Store transitions for one refresh cycle after they complete so that merging with a non-animation style change doesn't make us start a second transition to transition the last step.  (Bug 537151)  r=bzbarsky 
Make GraphWalker use templates instead of virtual functions.  (Bug 537547)  r=smaug 
Adding bug 535806 test.  r=dbaron 
Make fix-macosx-stack.py faster by caching atos processes, which requires tricking atos into giving us unbuffered output. (Bug 429963, r=dbaron) 
Bug 538909. Correctly calculate index of top-left tile. r=dbaron 
Bug 539585: Fix "warning: format '%p' expects type 'void*'" in layout directory. r=dbaron 
Bug 540363 -  Make reftest dump INFO line indicating beginning of each test (to help understand timeouts/hangs/crashes). r=dbaron 
bug 538479 add initialization code that I wrongly removed r=dbaron 
Bug 540642 - Call CanLoadImage before preloading images too. r=bzbarsky sr=dbaron 
Fix reftest-analyzer failing to show some small color differences. 
Add reftests for bug 541270. 
Add reftest for tokenization and parsing of CSS url() function. 
Ensure intrinsic size is always initialized.  (Bug 541028)  r=bzbarsky 
Fake pushback of invalid eCSSToken_URL results from NextURL.  (Bug 541434)  r=bzbarsky 
Always create nsDisplayTableBorderBackground when we're doing event delivery.  (Bug 541668)  r=roc 
Make scrolling work inside iframe inside transformed svg:foreignObject by using GetCrossDocParentFrame for loop in check for whether we can blit.  (Bug 403443)  r=roc 
No longer need to invalidate all of a foreignObject when there's an invalidate inside of it.  (Bug 418063)  r=jwatt 
Fix CSS 2.1 test suite metadata for box-properties reftests. 
Fix CSS 2.1 test suite metadata for tests bzbarsky wrote in 2005. 
Add CSS 2.1 test suite metadata to css-charset reftests. 
Fix <html> to </html> in css-charset reftests. 
Add CSS 2.1 test suite metadata to first-letter reftests. 
Add CSS 2.1 test suite metadata for :first-line reftests. 
Add CSS 2.1 test suite metadata for float reftests. 
Add CSS 2.1 test suite metadata for generated content reftests. 
Add CSS 2.1 test suite metadata for ib-split reftests. 
Add CSS 2.1 test suite metadata for table-anonymous-boxes reftests. 
Add CSS 2.1 test suite metadata for table-backgrounds reftests. 
Add CSS 2.1 test suite metadata for text-indent reftests. 
Add CSS 2.1 test suite metadata for text-transform reftests. 
Add CSS 2.1 test suite metadata for z-index reftests. 
Change line endings on bc_dyn_* to unix. 
More grammatical titles for bordercollapse tests. 
Add CSS 2.1 test suite metadata for bordercollapse reftests. 
Add CSS 2.1 test suite metadata for bug 25888 reftests. 
Add CSS 2.1 test suite metadata for basic inline-block and inline-table reftests. 
Add CSS 2.1 test suite metadata for bug 50630 reftests. 
Add CSS 2.1 test suite metadata for bug 134706 reftests. 
Add CSS 2.1 test suite metadata for bug 234686 reftests. 
Add CSS 2.1 test suite metadata for bug 243519 reftests. 
Add CSS 2.1 test suite metadata for bug 367332 reftests. 
Bug 399495: nsCSSScanner: absorb the '(' when returning a FUNCTION token. r=dbaron 
Bug 528096: unexpected-token error recovery paths in the CSS parser need to UngetToken() before calling SkipUntil(), for correct behavior when the unexpected token is ( [ { or FUNCTION.  r=dbaron 
Pass the dirty rect through, transformed appropriately, in nsSVGForeignObjectFrame::PaintSVG.  (Bug 541188)  r=jwatt  sr=roc 
Bug 538935. A span should be considered non-empty (for the purposes of deciding whether stuff after it is 'at the beginning of the line') only if it contains non-empty content. r=dbaron 
Bug 542620. Need to paint the table background if columns or column-groups have backgrounds. r=dbaron 
Bug 542962 - Remove some zero byte files, r=dbaron 
Bug 540531.  Freeze the refresh driver when a page goes into bfcache.  r=dbaron 
Bug 542361 - Fix and remove the GetUsedX assertions. r=roc,dbaron 
Appropriately escape CSS identifiers when serializing.  (Bug 543428)  r=bzbarsky 
Change unofficial branding from 'Namoroka' to 'Mozilla Developer Preview'.  (Bug 543564)  r=gavin 
Flip OOPP (out-of-process plugins) pref to off for 1.9.3 alpha 1.  (Bug 544505)  r=bsmedberg 
Backed out changeset db1f6446efda (flip pref, bug 544505), which is intended only for 1.9.3a1 and not to stay on trunk. 
Bump mozilla-central version to 1.9.3a2pre/3.7a2pre.  CLOSED TREE 
Bug 544537. Attempt to fix orange by making sure a paint has happened by adding a timeout. r=dbaron 
Bug 374216 - Setting element.style.someSvgProperty has no effect. r=dbaron,sr=roc 
No longer need to null-check domProp in style system mochitests now that bug 374216 has landed. 
Work around dependency problem for host_ListCSSProperties.o to fix current random orange.  (Bug 544720) 
Bug 539828 - Need CSS pseudoclass for crashed plugins. r=dbaron 
Backed out changeset 0ddf975663a0 (Bug 540692: Blocklist vksaver.dll) to test the theory that it is the cause of number 1 topcrash bug 545195. 
Merge backout of changeset 0ddf975663a0 (Bug 540692: Blocklist vksaver.dll) to test the theory that it is the cause of number 1 topcrash bug 545195. 
Bug 541406. Temporarily disable showing outlines on focused plugins. r=dbaron 
Fix spelling of 'horizontal' to cause another round of builds (and talos runs).  CLOSED TREE 
Fix spelling of 'browser' to cause another round of builds and talos runs. 
Fix spelling of 'multiple' to cause another round of builds and talos runs. 
Fix spelling of 'the' to cause another round of builds and talos runs. 
sr=dbaron 
sr=dbaron 
r?dbaron 
Ensure square list bullets are always square.  (Bug 376690)  r=roc 
Bug 538087.  Hook up reflow to refresh driver.  r=dbaron 
Bug 534526 part 2.  Move AttributeWillChange out of SetAttrAndNotify, and in particular to before ParseAttribute, since some ParseAttribute implementations actually change the attribute value.  Also move it to before we've changed the CSSDeclaration for inline style changes.  r=sicking,longsonr,dbaron 
sr=dbaron 
sr=dbaron 
r?dbaron 
Bug 541406. Temporarily disable showing outlines on focused plugins. r=dbaron 
Bug 537572 - 'Workers: nsLayoutStatics refcounting isn't threadsafe, triggered via nsContentUtils::WrapNative'. r=bent. 
Bug 547267 - make langGroup in nsStyleVisibility respect document's Content-Language if available. r=dbaron 
Bug 547267 followup - rename nsPresContext::GetLanguage to GetLanguageFromCharset for clarity. r=dbaron 
Bug 548751 - make canvas respect the style's language when resolving fonts. r=dbaron 
Make the 'border' shorthand reset -moz-border-image (per recent CSS WG decision) and -moz-border-*-colors.  (Bug 482692)  r=bzbarsky 
Bug 469861.  Create a block for any block-level <math>.  r=dbaron 
Bug 545730 Add nsRefPtr overload for CallQueryInterface r=dbaron 
Bug 549098: Work around expected asserts by disabling tests in debug builds. r=dbaron 
r=dbaron 
Bug 534425. Part 1: Create initial layers API. r=jmuizelaar,sr=dbaron 
Bug 534425. Part 4: Implement nsDisplayList::Paint using layers. r=mats,sr=dbaron 
Bug 537139: Prevent SMIL animation from triggering CSS transitions. r=dbaron 
Bug 537139's reftest. r=dbaron 
Bug 523496: DeCOMtaminate nsCSSParser.  r=bzbarsky sr=dbaron 
Bug 544112 part 1: Make speculative and chrome style sheet loads go through the document object.  Rearrange some C++ unit tests so they'll still link after part 2.  r=bzbarsky sr=dbaron 
Bug 544112 part 2: DeCOMtaminate and devirtualize nsCSSLoader.  r=bzbarsky sr=dbaron 
Bug 471700 - reftest for native-widgets fail for fennec, but pass in firefox [r=dbaron] 
Bug 527977 part 3.  Change the style context cached struct storage; inline GetStyle* and PeekStyle* now that they're pretty dead-simple.  r=zwol, sr=dbaron 
Bug 527977 part 4.  Have rulenode always cache inherit structs on the style context (posibly in addition to caching on the rulenode.  r=zwol, sr=dbaron 
Bug 549743: Abort if cycle collected object is refcounted from threads other than the main thread. Such refcounting will randomly cause leaks and crashes anyway, so better crash up front to make sure developers notice. r=dbaron 
r=dbaron. 
Bug 522632.  Make cellContent blocks returns false from IsContainingBlock.  r=dbaron 
Don't leak the world in this new test.  (Bug 503832) 
Bug 537139 followup: Call RestyleForAnimation() instead of SMILOverrideStyleChanged(), to avoid triggering CSS Transitions from SMIL changes. r=dbaron 
Bug 544385 Allow reftest to run tests and read manifests from both http and file system r=dbaron p=jmaher Landed on a CLOSED TREE 
Bug 549184. Track 'has nonempty content been placed on this line yet' separately from 'has nonempty, non-span content been placed on this line yet'. r=dbaron 
Bug 549887 - Make sure we don't crash if for some reason the layout init fails; r=dbaron 
Bug 549887 - Abort if the Places history service is unavailable; r=dbaron 
Add additional diagnostic output for diagnosing intermittent failure bug 537573. 
Remove code that was a remnant of the old storage for transition-property.  (Bug 550497)  r=bzbarsky 
Bug 534028, Patch B: Add "MappedAttrParser" class to simplify parsing values for mapped attributes. r=dbaron 
Bug 538266. Part 2: add transform API to layer system. r=jrmuizel,sr=dbaron 
Bug 538266. Part 4: Fix setting of visible region to account for any transforms that have been set on the layer. r=dbaron 
Bug 538323. Part 1: create ImageLayers and associated API for displaying pixel-buffers in various formats. r=jrmuizel,sr=dbaron 
Bug 508482 - Window activation status should be a pseudoclass (:-moz-window-inactive) instead of an attribute. r=dbaron, r+sr=jst 
Bug 403526: Do not propagate text-decoration to floats. r=dbaron 
Bug 512518 followup: fix 'unused variable' warnings in nsRegressionTester.cpp, and use & instead of && for bit-masking operation. r=dbaron 
Bug 543563, textarea in xul textbox doesn't take into account any assigned widths/heights, r=dbaron 
Bug 544472, eliminate duplicate calls to AddCSS*** methods, plus some minor related code cleanup, r=dbaron 
Bug 442228, add -moz-resize property to indicate that elements are resizable, r=dbaron 
Bug 442228, support resizers in scrollable areas and enable them by default for textareas, r=roc,sr=dbaron 
Fix bug 550388: avoid regexp perf issues in the stack fixer. r=dbaron 
Bug 508482 - Window activation status should be a pseudoclass (:-moz-window-inactive) instead of an attribute. r=dbaron, r+sr=jst 
Add failing reftests from bug 329069 to manifest. r=dbaron 
Bug 448658 - nsAutoTArray aligns buffer to 32 bits, causing SIGBUS when array entry type requires 64-bit alignment. r=dbaron 
:not() selector with no argument should be a parse error.  (Bug 553805)  r=dbaron 
Bug 534478, prevent assertions caused by reftest pagemode, r=dbaron 
Bug 448658 - nsAutoTArray aligns buffer to 32 bits, causing SIGBUS when array entry type requires 64-bit alignment. r=dbaron 
Bug 553760, two resizers appear in textarea, hide the one for the placeholder scrollframe, r=dbaron 
Bug 521118 - '[OOPP] Need NPAPI threadsafety checks in plugin process'. r=cjones, a=dbaron for CLOSED TREE 
Add comment to reftest manifest.  CLOSED TREE 
Bug 554061 - Also check XBL stylesheets when determining whether a restyle is necessary when document state changes. r=dbaron 
Fix guard object used as temporary.  (Bug 555099)  r=mrbkap 
Add mechanism for assertions that fire when a guard object is used as a temporary.  (Bug 531460)  r=bsmedberg 
Bug 551660. Create FramePropertyTable. r=mats,sr=dbaron 
Bug 551660. Switch layout code from using nsPropertyTable to FramePropertyTable. r=mats,sr=dbaron 
Bug 471917 - fix PNG reftests to respect color-management settings, r=mfinkle, sr=dbaron 
Bug 508466 part 1: Refactor nsCSSParser::ParseSelector and nsCSSParser::ParseSelectorGroup for clarity.  r=dbaron 
Bug 508466 part 2: In a CSS selector group, use distinct mOperator codes for the descendant combinator (' ') and the end of the chain ('\0'). r=dbaron 
Bug 508466 part 3: remove eSelectorParsingStatus_Empty. r=dbaron 
Bug 501082 - Use a more efficient data layout for the named character tables in the HTML5 parser. Based on patch by dbaron. r=bnewman. 
Bug 509569.  Avoid assertion by not storing structs with unused inherit logical box props in them, even though it would be ok to do so.  r=dbaron 
Bug 538082.  These asserts are asserting things that happen to not always be true.  r=dbaron 
Bug 551699.  Use the content insertion frame of our containing block when looking for our static position.  r=dbaron 
Bug 383488: don't accept trailing tokens in 'value' in style.setProperty(prop,value,"important").  r=dbaron 
Bug 556404: Put CSS parser in SVG mode when parsing SMIL animation endpoints for XML attributes. r=roc r=dbaron 
Split nsStyleSet::ResolveStyleForRules into two different APIs for the two different types of uses.  (Bug 147777)  r=bzbarsky 
Add mechanism for separate style data for visited style.  (Bug 147777)  r=bzbarsky 
Add function to nsStyleUtil for choosing the appropriate color from style data based on link visitedness.  (Bug 147777)  r=bzbarsky 
Add nsIDOMWindowUtils::getVisitedDependentComputedStyle for use in tests.  (Bug 147777)  r=bzbarsky 
Fix existing tests to deal with getComputedStyle lying about :link vs. :visited.  (Bug 147777)  r=sdwilsh 
Use the appropriate color based on visitedness for the 'color' property.  (Bug 147777)  r=roc 
Make PaintBackgroundWithSC and related methods operate on nsStyleContext* rather than const nsStyleBackground*.  (Bug 147777)  r=zweinberg 
Use the appropriate color based on visitedness for the 'background-color' property.  (Bug 147777)  r=zweinberg 
Prerequisite comments for using the appropriate color for border colors.  (Bug 147777)  r=zweinberg 
Use the appropriate color based on visitedness for nsCSSRendering::PaintBorder users of the 'border-*-color' properties.  (Bug 147777)  r=zweinberg 
Use the appropriate color based on visitedness for border-collapse borders.  (Bug 147777)  r=bernd 
Use the appropriate color based on visitedness for 'outline-color'.  (Bug 147777)  r=zweinberg 
Use the appropriate color based on visitedness for the color or fallback color parts of 'fill' and 'stroke'.  (Bug 147777)  r=jwatt 
Introduce TreeMatchContext for additional output from SelectorMatchesTree.  (Bug 147777)  r=bzbarsky 
Introduce NodeMatchContext for additional input into SelectorMatches.  (Bug 147777)  r=bzbarsky 
Propagate whether we have a relevant link out of selector matching.  (Bug 147777)  r=bzbarsky 
Make nsStyleContext::FindChildWithRules deal with the visited style context.  (Bug 147777)  r=bzbarsky 
Fix initialization comment in nsRuleProcessorData.  (Bug 147777)  r=sdwilsh 
Pass through desired link-visitedness on the rule walker and construct if-visited style contexts in the style set when visited styles are present.  (Bug 147777)  r=bzbarsky 
Propagate whether we have a relevant link from rule processors to style set.  (Bug 147777)  r=bzbarsky 
Set NS_STYLE_RELEVANT_LINK_IS_VISITED when appropriate.  (Bug 147777)  r=bzbarsky 
Put visited handling in the tree match context.  (Bug 147777)  r=bzbarsky 
Add method to munge the content state appropriately for how we're matching so that matching operations in HTML and CSS style sheets follow the new rules.  (Bug 147777)  r=bzbarsky 
Add reftests for :visited handling in layout/reftests/css-visited/ and make them run through the mochitest harness (via layout/style/test/test_visited_reftests.html) rather than the reftest harness.  (Bug 147777) 
Add mochitests for getComputedStyle and querySelector(All) lying about :visited selectors.  (Bug 147777) 
Make pseudo-classes-02 run using test_visited_reftests.html instead of the normal reftest harness.  (Bug 147777)  r=jwatt 
Bug 554188 followup: use fails-if rather than random-if, with stricter condition. 
Bug 555727: Stop MSVC from over-optimizing NS_DECLARE_FRAME_PROPERTY. r=dbaron 
Fire assertions when guard objects are used as temporaries.  (Bug 531460)  r=jst 
Fire assertions when guard objects are used as temporaries.  (Bug 531460)  r=jst 
Fire assertions when guard objects are used as temporaries.  (Bug 531460)  r=cjones 
Subtract the correct border+padding.  (Bug 546048)  r=roc 
Make mochitests not build and search the results table when run inside the harness.  (Bug 466104)  r=sayrer 
Mark perma-orange-on-10.6 bug 556853 as todo so it stops turning the 10.6 mochitest-other boxes orange. 
Add colors that are showing up on the 10.6 tinderbox as allowed colors so the test stops causing perma-orange.  (Bug 556855) 
Exit loop when needed.  (Bug 497256)  r=roc 
Make style contexts know if they are the if-visited style.  (Bug 557287)  r=bzbarsky 
Don't start image loads for the if-visited style contexts.  (Bug 557287)  r=bzbarsky 
Add test for background image loading behavior for :visited links.  (Bug 557287) 
No need to null-check aRuleWalker.  (Bug 557154)  r=bzbarsky 
Avoid showing black when the if-visited style is transparent and the unvisited style is a color.  (Bug 557584)  r=bzbarsky 
Bug 556661: make nsDOMCSSDeclaration::SetProperty capable of removing !important.  r=dbaron 
Make nsStyleAnimation extract -moz-column-rule-color correctly.  (Bug 557580)  r=dholbert 
Use the appropriate color based on visitedness for '-moz-column-rule-color'.  (Bug 557580)  r=roc 
Bug 183646  ::-moz-selection does not work in form controls (input[type=text], input[type=password], textarea) r=dbaron 
When setTimeout fires much later than it should, which happens on unit test boxes a good bit, make test_transitions_events.html report a todo rather than a fail.  (Bug 537573) 
Make the reset test in test_transitions.html deal with the possibility of massive skew between setTimeout and the clock.  (Bug 539904) 
Bug 556694  Selection color isn't reverted when input field is specified only background-color r=dbaron 
Bug 555289 - Plugin crashed UI should be RTL in RTL locales (Further fixes + tests); r=dao,dbaron 
Make trace-malloc malloc hooks work with 64-bit Mac OS X by adjusting types.  (Bug 558097, maybe) 
Fix misspelling of implement. 
Fix spelling of existence. 
Fix spelling of separate. 
Bug 547964 - r=dbaron 
Bug 502301 - fix C++0x narrowing conversion inside {} compilation errors [r=benjamin] 
Bug 452915 - Remove default border from linked images per HTML5. r=dbaron. 
Bug 418521, improve the way focus indicators are displayed to correlate better with system behaviour, add -moz-focusring property to apply only when focus rings should be drawn, r=dao,jmathies,dbaron sr=neil 
Bug 559715: Micro-optimize nsCSSPropertySet by adjusting types so that the compiler can do index calculations more efficiently., r=dbaron, a=dholbert_sheriff 
Bug 552330: Remove NS_ARRAY_LENGTH redefinition in TestObserverArray.cpp to fix compile warning. r=dbaron a=dholbert_sheriff 
Clean up SkipUntil handling in parsing of pseudo-classes with arguments.  (I haven't found any cases where this actually changes behavior, but it's needed for the next patch.)  (Bug 544834)  r=bzbarsky 
Make test_selectors continue when a parsing test fails. 
Implement :-moz-any() selector to allow simplification of user-agent style sheets.  (Bug 544834)  r=bzbarsky 
Make some selectors in html.css faster using :-moz-any().  (Bug 544834)  r=bzbarsky 
Make the test not fail when the transition has completed already but the event hasn't fired yet.  (Bug 537573)  a=philor for APPROVAL REQUIRED 
Add some temporary code for debugging bug 538462.  a=1hourlimit for metering 
Bug 538964 Provide doQueryObject API that supports calling QueryInterface on non-interface source and/or destination pointers r=dbaron 
Bug 555702 - nsCSSExpandedDataBlock::DoExpand null checks aBlock instead of *aBlock, r=dbaron 
Bug 561516.  Switch from an array of function pointers to a switch to make it easier to modify this code in the future.  r=dbaron 
Bug 559284.  Make various HTML5 sectioning elements display:block.  r=dbaron 
Eliminate duplicate code by combining nsNonOwningRunnableMethod with nsRunnableMethod (part 1/3 of bug 558498). r=dwitte sr=dbaron 
Support __stdcall nsRunnableMethods (part 2/3 of bug 558498). r=dwitte sr=dbaron 
Replace direct instantiations of nsRunnableMethod with calls to the templatized NS_NewRunnableMethod function (part 3/3 of bug 558498). r=dwitte sr=dbaron 
Bug 560969: Teach trace-malloc about VC10. r=dbaron 
Output the unknown value as a number not a character.  b=474800 r=dbaron 
Mark reftest as failing on 10.6 since it's failed every time since a push this morning (Bug 562000) 
Bug 561736 Add has_cpuid_bit support with Sun Studio compiler on Solaris r=dbaron 
b=559492 only dump leaked URLs on successful shutdown r=dbaron 
Bug 561861: Remove unused variable 'ourColor' from nsCSSRendering::PaintOutline. r=dbaron 
Bug 403266 - usechromesheets attribute does not work if there is no userContent.css in the profile. r=dbaron 
Bug 558981: Make reftests/text-decoration/underline-block-propagation-2-standards not dependent on system widget themes.  r=dbaron 
Bug 559491. If a visited style context has no parent then add it to the list of roots. r=dbaron 
Bug 562688 part 10.  Eliminate eELEMENT usage in layout/base.  r=dbaron 
Bug 562688 part 11.  Eliminate eELEMENT usage in layout/generic.  r=dbaron 
Bug 562688 part 12.  Eliminate eELEMENT usage in the rest of layout except layout/style.  r=dbaron 
Bug 562688 part 13.  Eliminate eELEMENT usage in layout/style, except the rule processor.  r=dbaron 
Bug 562688 part 14.  Eliminate eELEMENT usage in the rule processor; switch to Element as we can.  r=dbaron 
Backed out changeset 6b6e9a3c0606 (debugging code for bug 538462) 
Merge backout of debugging code for bug 538462. 
Add temporary debugging code to dump entire JS heap at shutdown to debug bug 538462. 
Bug 562093: Add reflow tracing for InitConstraints, InitOffsets, InitFrameType. r=dbaron 
Bug 562479 - comparison between signed and unsigned integer expressions in nsCSSFrameConstructor::ContentRangeInserted, r=dbaron 
Null-check the scope that we pass to WrapNative.  (Bug 540367)  r=sicking 
Annotate jsreftest manifests with assertion counts.  (Bug 472557) 
Annotate reftest manifests with assertion counts.  (Bug 472557) 
Start annotating crashtest manifests with assertion counts.  (Bug 472557) 
A malformed XBL file should trigger a warning, not an assertion, since the code should be able to (and does) handle it.  (Bug 397561)  r=bzbarsky 
Move temporary debugging code for bug 538462 to where it's more likely to work when we leak the world. 
Add debugging code for random assertion bug 563980. 
Backed out changeset 09a936531466 (bug 563023) due to Mac reftest failure. 
Merge backout of changeset 09a936531466 (bug 563023) due to Mac reftest failure. 
Add additional debugging code for bug 563980. 
Back out temporary debugging code for bug 538462 (changesets 1e383909069b and f5c479a8f631). 
Backout temporary debugging code for bug 563980 (changesets 76e0ed39f6ad and 4498b6800a49). 
Fix the font size on button padding tests that depend on it.  (Bug 559125)  r=bzbarsky 
Don't use stack-allocated structures for things that might outlive the function.  (Bug 353547)  r=karlt 
Removed unused member variable and code.  (Bug 564074)  r=ehsan 
Stop null-checking the pres shell so that we get to the UnbindFromTree call in nsHTMLEditor::DeleteRefToAnonymousNode.  (Bug 563980)  r=ehsan 
Annotate remainder of crashtest mainfests (all but one test) with the tests that are known to assert.  (Bug 472557) 
Fix errors in annotation of expected assertion counts crashtest manifests.  (Bug 472557) 
Adjust assertion annotations in crashtest manifest.  (Bug 472557)  On CLOSED TREE to force another round of builds and see if the network problems are better. 
Adjust expected assertion counts for crashtest.  (Bug 472557) 
Implement storage of calc() expressions in nsCSSValue.  (Bug 363249)  r=bzbarsky 
Add template-based mechanism for computing a calc() tree.  (Bug 363249)  r=bzbarsky 
Implement parsing of calc().  (Bug 363249)  r=bzbarsky 
Implement serialization of calc() values.  (Bug 363249)  r=bzbarsky 
Add mechanism for computation of calc() in the cases where the arguments are only lengths (i.e., where computed style can contain a simple result rather than a calc tree).  (Bug 363249)  r=bzbarsky 
Add mechanism for clamping computation of calc() to nonnegative values.  (Bug 363249)  r=bzbarsky 
Fix property alphabetization errors in property_database.js. 
Add calc() support for the easiest cases:  properties that take lengths but not percentages and take simple values only (-moz-column-rule-width, -moz-column-width, letter-spacing, word-spacing, marker-offset, outline-offset, border-spacing).  (Bug 363249)  r=bzbarsky 
Add calc() support for lengths in text-shadow and -moz-box-shadow.  (Bug 363249)  r=bzbarsky 
Add calc() support for 'font-size' property, which is the only property for which percents are computed to lengths in nsRuleNode.  (Bug 363249)  r=bzbarsky 
Get rid of (void) C-isms in nsStyleCoord.  (Bug 363249)  r=bzbarsky 
Instantiate the calc ops struct rather than a nested data struct inside of it.  (Bug 363249)  r=bzbarsky 
DeCOMtaminate CSSStyleSheet method signatures.  (Bug 239008)  r=dbaron 
Remove nsICSSStyleSheet and replace all uses with nsCSSStyleSheet.  (Bug 239008)  r=dbaron 
Inline a few methods in nsCSSStyleSheet.  (Bug 239008)  r=dbaron 
Make most of the methods in nsCSSStyleSheet non-virtual.  (Bug 239008)  r=dbaron 
Restore comments and formatting from nsICSSStyleSheet.h that was lost in 5329c2d9c968.  (Bug 239008) 
Bug 528686 - xf:select doesn't work if contenteditable element is presented within the document; r=dbaron 
Annotate crashtest manifest with assertion count for additional assertion that showed up today.  (Bug 472557) 
DeCOMtaminate nsIStyleSheet method signatures.  (Bug 239008)  r=dbaron 
Bug 538062. Call SetPrimaryFrame when we create the text frame for the text content in the display node of a combobox, so that the text frame will be notified when the content changes. r=mats,sr=dbaron 
Bug 561959. Replace solid-color ThebesLayers with ColorLayers. r=dbaron 
b=559492 only dump leaked URLs on successful shutdown r=dbaron 
Avoid wrapping to negative font sizes.  (Bug 565248)  r=roc 
Add appropriate styles for the effects of HTML5 sectioning elements on headers.  (Bug 562835)  r=bzbarsky 
Add additional annotation for a random assertion on a crashtest.  (Bug 472557) 
Bug 565809.  Move checking for style attribute changes into the cascade level.  r=dbaron 
Bug 565815.  Use Element in the transition manager instead of nsIContent.  r=dbaron 
Bug 565818.  Pass Elements to HasAttributeDependentStyle and HasStateDependentStyle.  r=dbaron 
Bug 565819.  Switch RestyleForRemove/Append/InsertOrChange to using Element and the new DOM traversal APIs.  r=dbaron 
Bug 562700 part 1.  Change some nsIPresShell APIs to take Element and pass it on to the frame constructor.  r=dbaron 
Bug 562700 part 2.  Change the restyle-event functions to take Element.  r=dbaron 
Bug 562700 part 3.  Store Element in the restyle table and pass it to the actual restyling functions.  r=dbaron 
Rename nsIStyleSheet::GetApplicable to IsApplicable and GetComplete to IsComplete.  (Bug 239008)  r=dbaron 
Add macro to give alignment requirements of a type.  (Bug 562844)  r=bsmedberg 
Additional restyling is needed for :empty + E and :empty ~ E selectors.  (Bug 534804)  r=bzbarsky 
Make the 'noappend' selector optimizations only restyle later siblings, which is what they need to do.  (Bug 534804)  r=bzbarsky 
Annotate reftest manifest with new assertion caused by bug 559996.  (Bug 472557) 
Remove workaround for all reftest-print tests asserting on mac now that bug 564071 is fixed.  (Bug 472557) 
Add another known assertion annotation in the manifest.  (Bug 472557) 
Change some nsIStyleSheet methods from returning AddRef-ed to un-AddRef-ed pointers, and some other cleanup.  (Bug 239008)  r=dbaron 
Convert some callers of methods that changed from returning already_AddRefed<T> to returning T* away from using unneeded nsCOMPtrs.  (Bug 239008)  r=dbaron 
Fix spew of 'couldn't get canvas size' assertions.  (Bug 566603)  r=vlad 
Make our configure test for system NSPR having PR_STATIC_ASSERT match our current usage.  (Bug 560582)  r=ted 
Bug 561959. Replace solid-color ThebesLayers with ColorLayers. r=dbaron 
Bug 559241. Reflow non-dirty overflow container children if we're supposed to reflow all kids. r=dbaron 
Adjust manifest for expected assertions:  An assertion was fixed, probably by revision a55765a1c2f5.  (Bug 472557) 
The assertion on 466607-1.html was also seen on Linux, so just mark all the bug 564603 assertions as cross-platform.  (Bug 472557) 
Update assertion annotations in reftest/crashtest manifests now that bug 563536 is fixed.  (Bug 472557) 
Bug 39098 - Elements with visibility:hidden, visibility:collapse, or display:none get copied to the clipboard.  r=dbaron 
Make use of SkipInvisibleContent flag to skip invisible content in Selection.toString().  r=dbaron b=564967 
Enable the reporting of assertion failures in the reftest harness.  (Bug 472557) 
content/html/content/src line in LOCAL_INCLUDES should not be conditional on MOZ_MEDIA.  (Bug 567191)  r=roc 
Add more tests for invalid URL parsing for CSS 2.1 issue 129. 
Make nsUTF8ToUnicode use SSE.h  (Bug 513422)  r=vlad 
Bug 336104 - "ASSERTION: no frame, see bug #188946"; r=roc,dbaron 
Bug 39098 - Elements with visibility:hidden, visibility:collapse, or display:none get copied to the clipboard. r=dbaron 
Make use of SkipInvisibleContent flag to skip invisible content in Selection.toString(). r=dbaron b=564967 
Bug 426082, part 1: Some refactoring in nsEventStateManager::Get/SetContentState. r=dbaron 
Bug 426082, part 2: Make nsEventStateManager::GetContentState return the state directly instead of using an outparam. r=dbaron 
Bug 569181. nsCOMPtr<nsMediaList> should be nsRefPtr. r=dbaron 
Bug 569189. Remove unneeded QIs for style sheets. r=dbaron 
Bug 569189. Remove unneeded QIs for style sheets, part 2. r=dbaron 
Fix indentation in configure --help.  (Bug 569261)  r=ted 
Bug 567944.  Work around inefficiency in handling eRestyle_LaterSiblings for now.  r=dbaron 
Bug 569435 - Intermittent failure in reftest/tests/layout/generic/crashtests/382131-1.html | assertion count 0 is less than expected 1 assertions; r=dbaron 
Bug 569436 - Intermittent failure in reftest/tests/view/crashtests/382756-1.xul | assertion count 0 is less than expected 2 assertions; r=dbaron 
Bug 569439 - Intermittent failure in layout/generic/crashtests/382129-1.xhtml | assertion count 0 is less than expected 1 to 2 assertions; r=dbaron 
Remove unneeded QueryInterface calls (to nsIDOMCSSValue) in nsComputedDOMStyle.  (Bug 569308)  r=dbaron 
Make some methods of nsROCSSPrimitiveValue non-inline, and remove two unneeded QueryInterface calls.  (Bug 569529)  r=dbaron 
Fix indentation of js/src/configure --help.  (Bug 569261)  r=ted 
Implement the HTML5 algorithm for parsing a legacy color value:  reject 'transparent'.  (Bug 227072)  r=sicking 
Implement the HTML5 algorithm for parsing a legacy color value:  implement the arbitrary-string-to-RGB part of the algorithm.  (Bug 121738)  r=sicking 
Implement the HTML5 algorithm for parsing a legacy color value:  do loose color parsing in all modes.  (Bug 121738)  r=sicking 
Implement the HTML5 algorithm for parsing a legacy color value:  add comment pointing out that HTML5 says we should handle system colors.  (Bug 121738) 
Implement the HTML5 algorithm for parsing a legacy color value:  add comment pointing out whitespace and emptiness issues.  (Bug 121738) 
Add tests for HTML colors based mostly on tests by Simon <zcorpan@gmail.com> with a few additional tests and integration into mochitests by me.  (Bug 121738 
Revert changes in 0ff87d9d2d73 (Bug 541434) and adjust tests appropriately.  (Bug 569646)  r=zwol 
Bug 568467 - trace-malloc support for Windows x64. r=dbaron 
Bug 566808 - "DeCOMtaminate nsIStyleRule method signatures" [r=dbaron] 
Bug 566808 - "DeCOMtaminate nsIStyleRule method signatures" [r=dbaron]
Plug leak in nsTransferable::GetTransferData.  b=565392 r=dbaron 
Bug 569337 - Fix compilation issues when SVG and SMIL are disabled. r=dbaron 
Bug 567708 - Intermittent crashtest 378325-1.html | assertion count 2 is more than expected 1 assertions ("cannot get ptop", nsGlobalWindow::GetPrivateRoot); r=dbaron 
Bug 569425. Use a synthesized mouse move to force image maps in these tests to setup because there is currently no non-hacky way to do that. r=dbaron 
Bug 558943.  Pass the right value for aIsLink from ReparentStyleContext.  r=dbaron 
Add assertions that would catch bug 558943 earlier.  r=dbaron 
Make mochitest print the amount of time each test takes.  (Bug 482162)  r=ted 
Show value information for passing mochitests too.  (Bug 570327)  r=ted 
Allow mochitests that don't require chrome privileges to run in a normal profile.  (Bug 570328)  r=jwalden 
Move construction of reftest condition sandbox into its own function.  (Bug 570329)  r=roc 
Add shortcuts for common widget conditions.  (Bug 570329)  r=roc 
Add -moz-background-clip: content.  (Bug 549809)  r=roc 
Remove comments referencing no-longer-existing no-clip value for background-clip.  (Bug 549809) 
Rename properties and values of background-clip and background-origin to match css3-background.  (Bug 549809)  r=roc 
Support for background-clip and background-origin in the background shorthand.  (Bug 549809)  r=roc 
Rename -moz-background-size to background-size.  (Bug 549809)  r=roc 
Fix alphabetization of renamed properties in property_database.js.  (Bug 549809) 
Give more helpful error message when libasound2-dev is missing. 
Use macros for frame state so that it's easy to change the size and easier to read the constants.  (Bug 570837)  r=roc 
Fix a state bit that *might* be overlapping.  (Bug 570837)  r=roc 
Remove unused frame state bits.  (Bug 570837)  r=roc 
Use 64 bits for frame state.  (Bug 570837)  r=roc 
Make nsTransferable::GetTransferData assign the out params even when it returns an error since some callers depend on it (regression fix).  b=565392 r=dbaron 
Bug 571059: Update debugging printfs to treat nsFrameState objects as 64-bit & fix build warnings. r=dbaron 
Bug 569425. Use a synthesized mouse move to force image maps in these tests to setup because there is currently no non-hacky way to do that. r=dbaron 
Bug 571105.  Don't force creation of an if-visited style contest if we don't actually need one.  r=dbaron 
Bug 520189 - Fix copy and test for the HTML editor; f=bzbarsky,dbaron r=sayrer,peterv,bzbarsky sr=roc 
Bug 571649 Re-enable docshell tests after bug 535922 r=dbaron 
Bug 568392. Part 1: fix reftests so they pass if the scrollbars are visible. r=dbaron 
Bug 56839. Part 3: Make reftest harness draw with scrollbars and use the window's layer tree, when possible. r=dbaron 
Bug 479655 part 2.  Add element restyle flags.  r=dbaron, sr=jst 
Bug 479655 part 3.  Refactor restyle processing into a new RestyleTracker class.  r=dbaron 
Bug 479655 part 4.  Move handling of eRestyle_LaterSiblings into RestyleTracker.  r=dbaron 
Bug 479655 part 5.  Pass the relevant restyle tracker through to style reresolution.  r=dbaron 
Bug 479655 part 6.  Add a private AddPendingRestyle API that allows removing restyle hints, as well as adding them.  r=dbaron 
Bug 479655 part 7.  Switch to the new setup for tracking and handling restyles.  r=dbaron 
Bug 494117 part 1.  Rename eRestyle_Self to eRestyle_Subtree.  r=dbaron 
Bug 494117 part 2.  Don't force selector matching on the whole subtree rooted at an element when the element's style changes.  r=dbaron 
Bug 569006.  Skip probing for ::before/::after during reresolve if we're not redoing matching on kids, since those can't appear/disappear without either a reframe or a change in what selectors we match.  r=dbaron 
Bug 571347.  In HasAttributeDependentStyle when the class attribute is changing, walk only selectors with classes that might be relevant.  r=dbaron 
Bug 569559 - Intermittent failure in editor/composer/src/crashtests/removing-editable-xslt.html | assertion count 0 is less than expected 1 assertions; r=dbaron 
Back out one of the changes in bebdf3413522 (bug 572618) because it's causing huge numbers of console warnings. 
Backed out changeset b805434e7e4b (bug 534398) for causing leaks on (debug) mochitest-other. 
Merge backout of changeset b805434e7e4b (bug 534398) for causing leaks on (debug) mochitest-other. 
Backed out changeset a6e3300a3bac (bug 571347) for causing bug 573255 because the optimization is invalid given :not() selectors. 
Merge backout of changeset a6e3300a3bac (bug 571347) for causing bug 573255 because the optimization is invalid given :not() selectors. 
Add test for bug 573255. 
On the theory that changeset 31fbc861bcb9 did not intend to back out the piece of changeset eb49e81b9f4d that touched this test, I'm going to put it back, and hope that it might fix some random orange (bug 572954). 
Style links with :link and :visited since on slow builds, history may already have notified that they are visited.  (Bug 572576)  r=dbaron 
Bug 570912: Allow already_AddRefed<T> to be coerced to already_AddRefed<U> when T can be coerced to U. r=dbaron 
Bug 395137 - Typo in box-sizing-1-ref.html: "padding: 1px solid". r=dbaron 
Bug 573241.  When reparenting a style context, don't include any transition rules the old context might have had in the new one, since that can confuse transitions.  r=dbaron 
Bug 573127.  Adjust the assert slightly to make it match reality.  r=dbaron 
Don't bother with 16-bit reference count and index in nsCSSValue::Array.  (Bug 574059)  r=bzbarsky 
Bug 513162 - Widget additions for recycling top level widgets as content containers. r=dbaron. 
Bug 574756. Make sure nsIFrame::List outputs the stylecontext of the frame. r=dbaron 
Bug 571211 Sun Studio doesn't support 64bit enum for 32bit mode r=dbaron 
Adjust comment as followup to bug 574059. 
Switch test_transitions_per_property to testing interpolation 1/4 of the way through instead of 1/2, so it will catch getting the halves backwards. 
Bug 572914. Overflow areas for theme backgrounds should not be clipped by -moz-hidden-unscrollable. r=dbaron 
Bug 568392. Part 3: Make reftest harness draw with scrollbars and use the window's layer tree, when possible. r=dbaron 
Make unconstrained width assertions into warnings because we can hit them when we clamp really large widths.  (Bug 525100)  r=roc 
Add some basic reftests for dynamic changes of -moz-box-ordinal-group.  (Bug 555987) 
Make the simple cases of dynamic changes of -moz-box-ordinal-group work correctly.  (Bug 555987)  r=dbaron 
Add bug number (bug 575500) for failing test I added earlier today (for bug 555987). 
Bug 573210 - Consistently qualify accesses to dependent base classes in xpcom C++ code. r=dbaron 
Bug 571347.  In HasAttributeDependentStyle when the class attribute is changing, walk only selectors with classes that might be relevant.  r=dbaron 
Bug 555627.  Make transitions actually work correctly on :before and :after.  r=dbaron 
Bug 576136.  Use arrays of rulevalues, not linked lists, for slightly better cache locality.  r=dbaron 
Backed out changeset f0d3b958d38d (bug 552523) for causing 137-140 mochitest failures on the two mochitest runs (both Windows) that have completed so far. 
Merge backout of changeset f0d3b958d38d (bug 552523) for causing 137-140 mochitest failures on the two mochitest runs (both Windows) that have completed so far. 
Document GetChildListNameFor better as followup to bug 536720.  r=mats 
Fire transitionend events only for transitions on elements (not pseudo-elements).  (Bug 537140)  r=bzbarsky 
Add reftests to check that the reftest-print page dimensions are as expected. 
Add nsStyleContext::Alloc for allocations scoped to the lifetime of the style context.  (Bug 363249)  r=bzbarsky 
Add nsStyleCoord::Array type.  (Bug 363249)  r=bzbarsky 
Add storage for calc() expressions to nsStyleCoord.  (Bug 363249)  r=bzbarsky 
Fix namespace usage in nsRuleNode.  (Bug 363249)  r=bzbarsky 
Switch calc() to saturating operations on nscoord.  (Bug 363249)  r=bzbarsky 
Add code to compute a computed-value calc() expression from a specified-value calc() expression, and make it reachable from SetCoord in nsRuleNode.  (Bug 363249)  r=bzbarsky 
Add additional template parameter expectations to ComputeCalc so that its input can be nsCSSValue or nsStyleCoord.  (Bug 363249)  r=bzbarsky 
Add API to compute computed-value calc() expressions to lengths.  (Bug 363249)  r=bzbarsky 
Add API to compute length, percentage or calc() style coords.  (Bug 363249)  r=bzbarsky 
Convert calc() serialization code to a template so it can also be used for nsStyleCoord.  (Bug 363249)  r=bzbarsky 
Handle computed-value calc() expressions in computed style.  (Bug 363249)  r=bzbarsky 
Make the style struct store the specified transform list so that we can animate matching lists without matrix decomposition.  (Bug 531344)  r=dholbert 
Add some helper functions for common CSS value to CSS value interpolations.  (Bug 531344)  r=dholbert 
Create a common function for setting pieces of a transform matrix for a translation.  (Bug 531344)  r=dholbert 
Allow CSS parser to forbid min()/max() within certain calc() expressions.  (Bug 531344)  r=bzbarsky 
Fix weird SetCoordToValue signature.  (Bug 531344)  r=dholbert 
Add support for calc() expressions in translate functions of -moz-transform.  (Bug 531344)  r=bzbarsky 
Move ReadTransforms from nsRuleNode to nsStyleTransformMatrix.  (Bug 531344)  r=dholbert 
Implement animation of -moz-transform property.  (Bug 531344)  r=dholbert 
Make nsStyleAnimation::ComputeDistance not crash when given -moz-transform: none.  (Bug 576761)  (pending review) 
Bug 553576, change -moz-resize to resize, r=dbaron 
Bug 576658.  Simplify AppendRuleToTagTable.  r=dbaron 
Bug 575467.  Improve the detection of whether we're in the transition's initial state.  r=dbaron 
Make it possible to drag a non-selectable node again.  b=574596 r=dbaron 
bug 511339 - part 1 - implement -moz-font-feature-settings and -moz-font-language-override in CSS. r=dbaron 
Bug 573268 - The XPTI rewrite caused an (intentional) leak at shutdown; free this data only in trace-malloc builds so that leakstats are still useful. r=dbaron 
Bug 578301 - Clearly identify expected and actual results when tests fail. r=dbaron 
Bug 558235 part 1: Mechanically rename nsComputedDOMStyle::Get* to nsComputedDomStyle::DoGet* where the former name conflicts with a nsIDOM*CSS2Properties method name.  r=dbaron 
Bug 558235 part 2: Kill CSS2PropertiesTearoff.  r=dbaron 
r=dbaron 
Bug 573953. Ensure that zoom factors are chosen in reftests so appunits-per-dev-pixel is an integer. r=dbaron 
Bug 573933. Part 1: Fix marquee tests to not depend on subpixel AA. r=dbaron 
Bug 573933. Part 2: disable -moz-appearance for troublesome GTK2 themes. r=dbaron 
Bug 573933. Part 3: Fix button-state test to render a margin around the button so we don't get into any weird sampling issues. Also, use a canvas that's just as big as necessary. r=dbaron 
Bug 576453. Let the reftest window auto-size itself to fit the browser element. r=dbaron 
Bug 564991. Part 7: Create Begin/EndDeferredInvalidates API so we can catch and defer invalidates on frames (and suppress certain areas completely). r=mats,sr=dbaron 
Bug 564991. Part 13: Optimize invalidation to avoid repainting ThebesLayer contents sometimes. r=mats,sr=dbaron 
Bug 564991. Part 14: Scroll using the layer system. r=mats,sr=dbaron 
Bug 564991. Part 16: Improve performance by putting each scrollbar in its own layer. Also note that Mac scrollbars are opaque. r=mats,sr=dbaron 
Bug 564991. Part 23: Introduce the concept of 'inactive' layers. r=mats,sr=dbaron 
Bug 564991. Part 25: Introduce a 'has active layers' flag on frames, which times out, and use it for 'opacity'. r=mats,sr=dbaron 
Bug 564991. Part 26: Put background-attachment:fixed backgrounds that propagated to the canvas in their own layer. r=mats,sr=dbaron 
Bug 564991. Part 38: Make invalidation-during-paint work reliably. r=mats,sr=dbaron 
Fix typo in comment as followup from bug 531344. 
Make trace-malloc work again on Linux following mozalloc landing.  (Bug 576776)  r=cjones 
Append style sheets from binding manager when ensuring unique inner on all sheets.  (Bug 578810)  r=bzbarsky 
Bug 566480 - Make dragging the menubar drag the window on GTK themes where that should work (and also fix GTK resize drags to initialize drag better). r=karlt,dbaron,enn,dao 
Bug 579692 - Consistently qualify accesses to dependent base classes in xpcom C++ code. r=dbaron 
Bug 572604.  Don't flush layout before firing onload.  r=dbaron 
Bug 569719 part 1: Rename nsCSSDeclaration to mozilla::css::Declaration. r=dbaron 
Bug 569719 part 2: Move headers for the former nsCSSLoader and nsCSSDeclaration into mozilla/css/.  r=dbaron 
Bug 562833. Set proper alignment for display items. r=dbaron 
Bug 576332. Don't dispatch synthetic mouse move events if our root view has no widget. r=dbaron 
Bug 580685.  We might not have a root element to resolve 'rem' against.  r=dbaron 
Bug 576447: ^ means bitwise-xor, nothing else. r=dbaron 
Note: the tests in this patch don't actually pass until the next one is applied as well. 
Update to latest spec changes for ctx.font setter and getter.  (Bug 508452)  r=bzbarsky 
Bug 581738:  Revert b09b40c61117 (temporary disabling of test on Win7) because bug 542504 is now fixed. 
Bug 573694 Optionally allow reftest harness to write output to log file for android r=dbaron 
Bug 572520: step 2.0, fix the visited image loading tests to poll for the images to load; just waiting for a draw isn't enough. r=dbaron 
Bug 572520: step 2.1, mark up the table background reftests as asserting on gtk2 due to bug 527825. r=dbaron 
Bug 572520: step 2.2, mark up the background draw nothing tests as getting another assertion. r=dbaron 
Bug 572520: step 2.3: make the bug 445810 tests not assume that finishing the load of one image implies that all images have finished loading. r=dbaron 
Make the transitions style rule hold on to its values and thus preserve rule immutability.  Do this by reusing the code for the covering style rule for both transitions style rule types.  (Bug 582111)  r=bzbarsky 
Clean up messy line thanks to new operator from bug 570912.  (Bug 582111)  r=bzbarsky 
Rev IID, which was missed in changeset 56030877b753.  (Bug 582303) 
Make zwnj-01 have a background color so that the SVG filter works correctly.  (Bug 581081)  r=jfkthame  a2.0=tests 
on all *.list files in the tree. 
Fix bustage from bug 570329 with s/windowsWidget/winWidget/g. 
Bug 571062 - Add slow-test annotation functionality to reftest and the JS test harness.  r=dbaron, r=dmandelin 
Bug 571062 - Add slow-test annotation functionality to reftest and the JS test harness.  r=dbaron, r=dmandelin 
Bug 505115. Use layers to render active 2D transforms. r=roc,dbaron 
Bug 569719 part 3: collapse nsDOMCSSDeclaration::ParseDeclaration into its sole caller (nsDOMCSSDeclaration::SetCSSText); remove always-constant flag arguments to nsCSSParser::ParseAndAppendDeclaration; rename that method to ParseDeclarations.  r=dbaron 
Bug 569719 part 4: Move nsCSSExpandedDataBlock::RuleDataPropertyAt into struct nsRuleData. r=dbaron 
Bug 569719 part 5: in nsCSSValueList and nsCSSValuePairList, convert Equal() to operator==, and remove unnecessary argument from Clone(). r=dbaron 
Bug 569719 part 6: Move Declaration::AppendCSSValueToString into nsCSSValue.  r=dbaron 
Bug 569719 part 7: Add AppendToString methods to nsCSSRect and friends as well, replacing Declaration::AppendStorageToString. r=dbaron 
Bug 569719 part 9: remove return value from css::Declaration methods that always return NS_OK, and change GetCSSDeclaration to return a css::Declaration instead of an nsresult. r=dbaron 
Bug 569719 part 10: refactor parsing of !important and the end of a property declaration. r=dbaron 
Bug 569719 part 11: take the fast path in ParseProperty for !important replacing !important, as well as normal replacing normal. r=dbaron 
Bug 569719 part 12: replace nsCSSParser::ClearTempData with explicit use of mTempData.ClearProperty (and make that method handle shorthands). r=dbaron 
Bug 569719 part 13: move nsCSSParser methods that manipulate data blocks into the appropriate nsCSS*DataBlock classes. r=dbaron 
Bug 569719 part 14: replace DeclarationChanged() with SetCSSDeclaration(), which takes the new declaration as an argument. r=dbaron 
Bug 569719 part 15: Always copy the entire css::Declaration before changing it in any way. r=dbaron 
Bug 569719 part 16: Don't refcount declarations and data blocks; don't have style rules hold direct pointers to data blocks.  r+a=dbaron 
Bug 338679: mark style declarations immutable if they are stringified. r=bzbarsky a=dbaron 
Bug 581579: fix error recovery in parsing of CSS priority suffix. r+a=dbaron 
Bug 577838.  The first line baseline of a fieldset should be the first line baseline of its legend (if it has one), or of its content if it does not.  r=dbaron 
Bug 579492: Use dev pixels for screen rect in PresShell::PaintRangePaintInfo. r=roc a=dbaron 
Bug 582037.  When computing intrinsic widths, take the viewport's dimensions into account when it has percent-height descendants.  r=dbaron 
Bug 583059: Make it possible to break on failed static-XPCOM-ctor/dtor checks and add an env var to make failed checks fatal. r=dbaron 
Make nsIDOMSVGCSS2Properties use the specialized shorter quickstubs.  (Bug 584301)  r=bzbarsky 
Remove the MOZ_WIDGET_TOOLKIT backwards-compatibility definition in the reftest condition sandbox.  (Bug 570329)  r=roc 
Fix processing of matrix() transform functions to handle calc() rather than asserting.  (Bug 584569)  r=bzbarsky 
Fix assertion about float manager state by restoring old float manager state when we place a float and then cancel that placement.  (Bug 563584, patch 1)  r=roc 
Remove aForceFit/aRelaxHeightConstraint concept from float reflow, since we now split floats rather than push them to the next page (and correct propagation of nsHTMLReflowState::mFlags::mIsTopOfPage will force fitting when we need to).  (Bug 563584, patch 2)  r=roc 
Most of CanPlaceFloat is unnecessary given the float placement rules (in particular, that the top of a float cannot be higher than the top of any prior left or right float) and the fact that we now split floats.  (Bug 563584, patch 3)  r=roc 
Test coverage for this is in the future patch "Add reftests for bug 563584.". 
Replace force-fit with setting mIsTopOfPage correctly.  (Bug 563584, patch 5)  r=roc 
When we're in columns (and therefore not splitting floats), push floats that don't fit to the next column.  (Bug 563584, patch 6)  r=roc 
Use an AutoRestore to restore mY in nsBlockReflowState::FlowAndPlaceFloat.  (Bug 563584, patch 7)  r=roc 
Remove initialization to value that doesn't make much sense and never matters.  (Bug 563584, patch 8)  r=roc 
Allow the float manager to record that a float has been pushed past a break.  (Bug 563584, patch 9)  r=roc 
Add the optimization mentioned in the previous patch, so we don't have to iterate all floats to determine if one was split.  (Bug 563584, patch 10)  r=roc 
Don't try to clear pushed floats when computing the final size of blocks.  Fixes scrollbar on layout/reftests/bugs/563584-6-columns.html .  (Bug 563584, patch 11)  r=roc 
Make nsFrameList::RemoveFramesAfter(nsnull) remove the whole list.  (Bug 563584, patch 11.5)  r=roc 
Track which frames were float continuations that need to be pulled to the next block rather than figuring it out again when it's time to pull them.  (This allows first-in-flows to be float continuations.)  (Bug 563584, patch 12)  r=roc 
Manage float continuations to-be-pulled by the next-in-flow better by keeping them in a separate frame list until they're actually pulled.  (Bug 563584, patch 13)  r=roc 
nsBlockFrame::ReflowFloatContinuations doesn't need anything in AddFloat other than FlowAndPlaceFloat.  (Bug 563584, patch 14)  r=roc 
Steal float back before reflowing it, in order to allow first continuation of a float to be pushed to the next page.  (Bug 563584, patch 15)  r=roc 
Save float's next sibling since reflowing it could change the next sibling.  (Bug 563584, patch 16)  r=roc 
Don't propagate the float's reflow status through places that expect an inline's reflow status, to avoid the assertion for which bug 563584 was filed.  This separates pushing of floats from pushing of lines, and allows first-in-flow floats to be pushed to the next page without their associated line.  (Bug 563584, patch 17)  r=roc 
Do the same for PlaceBelowCurrentLineFloats:  don't propagate the truncation of a float into the line's reflow status.  (Bug 563584, patch 18)  r=roc 
Rename PushTruncatedPlaceholderLine since the remaining reasons for lines being truncated are related to being next to floats, not having truncated floats.  (Bug 563584, patch 19)  r=roc 
Remove aReflowStatus parameters made unnecessary by previous patch.  (Bug 563584, patch 20)  r=roc 
Add checks to VerifyList that previous siblings match next siblings.  (Bug 563584, patch 21)  r=roc 
Pass correct *remaining* height to float manager, rather than the whole height of the content area.  (Bug 563584, patch 22)  r=roc 
Adjust reftest assertion manifests for churn in nscoord_MAX-related assertions (which includes 'computed overflow area' assertion, because of width wraparound in UnionRect making overflow area empty).  (Bug 563584, patch 23)  r=roc 
Add bit to lines indicating that they may have a placeholder for a float that was pushed to the next line (and bump the child count up to 32 bits).  (Bug 563584, patch 24)  r=roc 
In a constrained height situation, we need to reflow anything with floats.  (Bug 563584, patch 25)  Fixes assertion on layout/generic/crashtests/408883-1.html .  r=roc 
Don't split floats when we're not paginating.  (Bug 563584, patch 26)  Fixes assertion on layout/generic/crashtests/461294-1.html .  r=roc 
Add testcase to check that mIsTopOfPage is false when reflowing blocks that have clearance.  (There was originally a patch here, but it seems not to be needed, so now it's just tests.)  (Bug 563584, patch 27) 
Add comment describing mIsTopOfPage better.  (Bug 563584, patch 28)  r=roc 
Don't switch a constrained height to an unconstrained one due to infinite clearance.  Fixes layout/reftests/bugs/563584-10b.html .  (Bug 563584, patch 29)  r=roc 
Set incomplete status when we have continuations that we shouldn't destroy.  Fixes assertion on layout/generic/crashtests/469859-1.xhtml .  (Bug 563584, patch 30)  r=roc 
Add reftests for bug 563584.  (Bug 563584, patch 31)  r=roc 
Don't force availableHeight to be nonnegative, because doing so means that we'll place zero height blocks (including their non-zero-height contents) at the bottom of a page when there's not room (see nsHTMLReflowState::SetTruncated).  (Bug 563584, patch 32)  r=roc 
This patch was generated with the following sed commands on layout/generic/*.{h,cpp}: 's/FLOAT_CONTINUATION/PUSHED_FLOAT/g;s/FloatContinuation/PushedFloat/g;s/float continuation/pushed float/g' plus whitespace fixup where the frame state bits are defined. 
Bump assertion count on Windows; followup to bug 563584. 
Bug 583199 Compile WebM on Solaris r=tterribe a=dbaron 
Bug 579318 - warning: comparison between signed and unsigned integer expressions in nsContentUtils::ParseIntMarginValue() and nsIContentUtils::FindInternalContentViewer() r=Olli.Pettay a=dbaron 
Bug 580869 - Cache the frame found in nsTextFrame::GetChildFrameContainingOffset; r=roc approval2.0=dbaron 
Bug 581585 - Cache the frame for caret; r=roc approval2.0=dbaron 
Bug 583493 - nsTransactionItem log spew is making working with tinderbox impossible; r=roc approval2.0=dbaron 
Bug 508905 - /Zc:wchar_t- is no longer required r=ted a=dbaron 
r=dwitte a=dbaron 
Mark known random assertion due to bug 585394. 
Bug 582754. Remove cross doc check in nsIFrame::GetOffsetTo. r=mats a=dbaron 
Bug 584617. Part 1. Make sure that we don't use the overflow rect of the root frame instead of the dirty region when we are drawing ignoring viewport scrolling because that might be wrong. r=roc a=dbaron 
Bug 584617. Part 2. If we get passed an unusual backstop color we need to flush layers. r=roc a=dbaron 
Bug 582910 - 64-bit win7: TEST-UNEXPECTED-FAIL | e4x/Regress/regress-347155.js | Exited with code -1073741571 during test run. r=dbaron, a=dbaron 
Bug 583255, don't involve views in tree offset computation, fixes inspector mouse events, r=roc,a=dbaron 
Bug 574454 - Add window frame css styles. r=dbaron. 
Bug 574454 - Add caption buttonbox css styles. r=dbaron. 
Bug 562698 - Part a: Pass Elements to nsIMutationObserver::AttributeChanged and nsCSSFrameConstructor::AttributeChanged; r=bzbarsky, a=dbaron 
Bug 562698 - Part b: Pass Elements to nsNodeUtils::AttributeChanged; r=bzbarsky, a=dbaron 
Bug 562698 - Part c: Pass Elements to AttributeWillChange; r=bzbarsky, a=dbaron 
Bug 580869 - Cache the frame found in nsTextFrame::GetChildFrameContainingOffset; r=roc approval2.0=dbaron 
Bug 581576 hung up or too slow when press Enter key on Gmail editor which has a lot of misspelled words r=ehsan, a=dbaron 
Backed out changeset fef97fa21915 (bug 584582) for causing compilation failures on Windows. 
Merge backout of changeset fef97fa21915 (bug 584582) for causing compilation failures on Windows.  a=backout 
CSS transition timing functions should not allow X arguments to cubic-bezier() outside of 0-1.  (Bug 575672)  r=bzbarsky  a2.0=blocking2.0+ 
Fix places where we should skip to a closing parenthesis during errors parsing functions.  (Bug 575672)  r=bzbarsky  a2.0=blocking2.0+ 
Add a 'display:block' prerequisite for 'width' property tests so that calc() tests will actually have a percentage basis and thus actually test the code.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
There's no need for a separate CoordPercentCalc implementation; ComputeCalc can handle that.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Make a common base class for calc ops that use nsStyleCoord as input.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Consolidate code for determining when widths and heights depend on a container.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Distinguish between 50% and calc(50%), etc., in computed style calc expressions.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Add support for calc() to the 'width' property.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0+ 
Add PR_STATIC_ASSERTs to check some assumptions.  (Bug 584945)  r=bsmedberg  a2.0=tests 
Use a known failure condition that more closely matches when the tests fail (when we use handwritten SSE2 assembly in the JPEG code), so that they don't produce unexpected pass results on 64-bit Windows.  (Bug 582850)  r=joedrew / dbaron  a2.0=tests 
Change coordinate system in the float manager from content box (most of the time, but sometimes border box) to always border box.  (Bug 551425)  r=dbaron  a2.0=blocking+ 
Bug 583957, lazy menuframe update, r=enndeakin, sr=neil, a=dbaron 
Bug 564652.  Make sure to flush out restyles on our parent before checking for a presshell.  r=dbaron 
Bug 582228. Speed up getting style attributes. r=bzbarsky@mit.edu, a=dbaron@mozilla.com 
Bug 537890. Part 1: Add nsIWidget::GetDPI and nsIWidget::GetDefaultScale and use them to set up device contexts. r=vlad,sr=dbaron 
Bug 537890. Part 8: Define MM_PER_INCH_FLOAT. r=dbaron 
Bug 537890. Part 4: Make points be a fixed number of CSS pixels. r=dbaron 
Bug 537890. Part 4.5: Create 'mozmm' unit for physical millimeters on screen devices. r=dbaron 
Bug 537890. Part 5: Make pc, in, mm and cm be a fixed number of CSS pixels. r=dbaron 
Bug 537890. Part 6: Switch DPI dynamically when the window moves across screens or the screen mode changes. r=dbaron 
Bug 537890. Part 7: Tests for pt/pc/mm/cm/in not being physical units, and for mozmm being physical units. r=dbaron 
Bug 537890. Part 10: Fix nsPresContext and nsIDeviceContext unit-conversion methods to be explicit about using CSS logical units instead of physical units. r=dbaron 
Bug 537890. Part 11: Introduce _TO_INT_TWIPS macros and have some _TO_TWIPS callers use _TO_INT_TWIPS instead. r=dbaron 
Bug 584282. Add nsDisplayItem::mToReferenceFrame and initialize it in the constructor. r=tnikkel,a=dbaron 
Bug 584282. Use nsDisplayItem::ToReferenceFrame() instead of calling nsDisplayListBuilder::ToReferenceFrame, wherever possible. r=tnikkel,a=dbaron 
Bug 580834. Make nsLayoutUtils::GetActiveScrolledRoot stop at the nearest popup ancestor instead of asserting. r=tnikkel,a=dbaron 
Bug 506826 - Parsing for background-image: -moz-element(#elementID). r=dbaron 
Bug 536721 - Tweak DestroyOverflowList so it does not trigger Missing destruct root assertion. r=bz a=dbaron 
Bug 584322 - feDisplacementMap seems to be adding an offset. r=roc, a=dbaron 
Correct parenthesis-matching inside of :not().  (Bug 586070)  r=bzbarsky  a2.0=bsmedberg 
Bug 584322:  Fix confusion between premultiplied and non-premultiplied colors that was causing feDisplacementMap to offset the result incorrectly.  r=roc  a2.0=dbaron 
Bug 585507 - Fix compilation issue when SMIL is disabled.  r=dholbert  a2.0=dbaron 
Make nsICSSRule::Clone return the cloned value directly.  (Bug 585137)  r=bzbarsky  a2.0=dbaron 
Bug 587317: Fix test_offsets to succeed on all platforms including D2D. r=dbaron 
Make --disable-libxul imply --enable-shared-js.  (Bug 587375)  r=ted  a2.0=dbaron 
Bug 537890. Part 1: Add nsIWidget::GetDPI and nsIWidget::GetDefaultScale and use them to set up device contexts. r=vlad,sr=dbaron 
Bug 537890. Part 8: Define MM_PER_INCH_FLOAT. r=dbaron 
Bug 537890. Part 4: Make points be a fixed number of CSS pixels. r=dbaron 
Bug 537890. Part 4.5: Create 'mozmm' unit for physical millimeters on screen devices. r=dbaron 
Bug 537890. Part 5: Make pc, in, mm and cm be a fixed number of CSS pixels. r=dbaron 
Bug 537890. Part 7: Tests for pt/pc/mm/cm/in not being physical units, and for mozmm being physical units. r=dbaron 
Bug 537890. Part 10: Fix nsPresContext and nsIDeviceContext unit-conversion methods to be explicit about using CSS logical units instead of physical units. r=dbaron 
Bug 537890. Part 11: Introduce _TO_INT_TWIPS macros and have some _TO_TWIPS callers use _TO_INT_TWIPS instead. r=dbaron 
bug 512260 - Add image tracker to nsDocument and register content images with it.r=roc,sr=dbaron,a=blocker 
bug 512260 - part 2 - Make ImageRenderer take a pointer to nsStyleImage rather than making a copy.r=dbaron,a=blocker 
bug 512260 - part 3 - call nsDocument::AddImage and RemoveImage on images stored in nsStyleBackground.r=dbaron,a=blocker 
bug 512260 - part 4 - call nsDocument::AddImage and RemoveImage on images stored in nsStyleContentData.r=dbaron,a=blocker 
bug 512260 - part 5 - make nsCursorImage::mImage private, add getter/setter, and lock images in the setter.r=dbaron,a=blocker 
bug 512260 - part 6 - lock images in nsStyleList::SetListStyleImage.r=dbaron,a=blocker 
Bug 471643: Make vertical percentages in border-radius relative to box height.  r=dbaron 
Bug 586944. Make 'backtrace' static to fix issues with the symbol being overriden by system libraries. r=dbaron,a=bsmedberg 
Bug 449141. Save media resources when doing 'Save As' on the page. r=roc,a=dbaron 
Bug 581576 hung up or too slow when press Enter key on Gmail editor which has a lot of misspelled words r=ehsan, a2.0=dbaron 
Avoid a lock/unlock pair for each call to |calltree|.  (Bug 549561)  r=bsmedberg  a2.0=tests 
Add environment variable NS_TRACE_MALLOC_DISABLE_STACKS for disabling the stack-walking part of trace-malloc to improve performance of tinderbox test machines.  (Bug 549561)  r=bsmedberg  a2.0=tests 
Fix indentation in configure --help.  Whitespace changes only. 
Rename a frame property that I missed in a mass-rename.  a2.0=blocking  (Bug 563584) 
Destroy the pushed floats list in nsBlockFrame::DestroyFrom.  (Bug 585598)  r=roc  a2.0=blocking 
Split floats when they are overflow-incomplete.  (Bug 585598)  r=roc  a2.0=blocking 
Fix sorting errors in layout/reftests/bugs/reftest.list. 
Do IsProperAncestorFrame check before destroying floats, but not for popups.  (Bug 588158)  r=dbaron  a2.0=blocking 
Don't construct an nsFrameList whose first child has a previous sibling.  (Bug 586806)  r=roc  a2.0=blocking 
We might need to collect pushed floats from the overflow out-of-flows list too, just like normal floats.  (Bug 586806)  r=roc  a2.0=blocking 
Don't push floats past break due to total lack of available height when we're required to place something.  (Bug 586973)  r=roc  a2.0=blocking 
Bug 585817. Part 2: Change nsIPresShell::CreateRenderingContext to GetReferenceRenderingContext, that uses the shared 1x1 surface, and use it all over the place. r=mats,sr=dbaron 
Bug 576044 (1/12): Move all the CSS 'storage types' (rect, value pair, etc) to nsCSSValue.h and their code to nsCSSValue.cpp.  r=dbaron  a2.0=dbaron 
Bug 576044 (2/12): eliminate ValuePair as a storage type.  r=dbaron  a2.0=dbaron 
Bug 576044 (3/12): eliminate Rect as a storage type.  r=dbaron  a2.0=dbaron 
Bug 576044 (4/12): eliminate ValuePairList as a storage type.  r=dbaron  a2.0=dbaron 
Bug 576044 (5/12): eliminate ValueList as a storage type.  r=dbaron  a2.0=dbaron 
Bug 576044 (6/12): remove vestiges of nsCSSType.  r=dbaron  a2.0=dbaron 
Bug 576044 (7/12): cleanup pass on css/Declaration.{h,cpp} and nsCSSDataBlock.{h,cpp}.  r=dbaron  a2.0=dbaron 
Bug 576044 (8/12): remove the last MoveValue call from the CSS parser.  r=dbaron  a2.0=dbaron 
Bug 576044 (9/12): Add an AddLonghandProperty method to nsCSSExpandedDataBlock.  r=dbaron  a2.0=dbaron 
Bug 576044 (10/12): Don't directly manipulate the contents of mTempData in the CSS parser.  r=dbaron  a2.0=dbaron 
Bug 576044 (11/12): Make all assertions fatal in Declaration.h, Declaration.cpp, nsCSSDataBlock.h, nsCSSDataBlock.cpp, nsCSSValue.h, nsCSSValue.cpp, nsCSSProps.h, and nsCSSProps.cpp.  r=dbaron  a2.0=dbaron 
Bug 576044 (12/12): fix assertions in nsStyleAnimation triggered by part 3.  r=dbaron  a2.0=dbaron 
MathML Operator Dictionary: remove infix entries for N-ary Union and Intersection (bug 534970). r=karlt a=dbaron 
MathML Operator Dictionary: add entries for vertical and horizontal arrows (bug 534970). r=karlt a=dbaron 
MathML Operator Dictionary: add entries for stretchy fences (bug 534970). r=karlt a=dbaron 
MathML Operator Dictionary: make operator with a stretchy form use the same direction for all their forms (bug 534970). r=karlt a=dbaron 
Bug 524275 - Make nsStretchDirection available for any operators. r=karlt a=dbaron 
MathML Operator Dictionary: update some entries whose stretchiness has changed (bug 534970). r=karlt a=dbaron 
MathML Operator Dictionary: add private data integral (bug 534970). r=karlt a=dbaron 
Bug 414277 - scale stretchy operators when there is no glyph of suitable size. r=karlt a=dbaron 
Bug 585817. Part 2: Change nsIPresShell::CreateRenderingContext to GetReferenceRenderingContext, that uses the shared 1x1 surface, and use it all over the place. r=mats,sr=dbaron 
Bug 587322 - Compilation broken on MOZ_WINSDK_TARGETVER < MOZ_NTDDI_LONGHORN. r=robarnold, a=dbaron 
Bug 558788 - Valid/Invalid form elements should change their state to use CSS3 pseudo-classes :valid and :invalid. f=ehsan r=sicking,dbaron sr=jst a2.0=blocking 
Bug 589078. Send synthesized click more inside the element so it doesn't miss. r=dbaron a=blocking 130078 which blocks beta5 
Add a GDK/X11 screenshot to png utility b=414049 r=dbaron a=npotb 
Bug 582910 - change stack size of xpcshell to 2MB on Win64. r=dbaron, a=dbaron 
Bug 584282. Add nsDisplayItem::mToReferenceFrame and initialize it in the constructor. r=tnikkel,a=dbaron 
Bug 584282. Use nsDisplayItem::ToReferenceFrame() instead of calling nsDisplayListBuilder::ToReferenceFrame, wherever possible. r=tnikkel,a=dbaron 
Bug 581222. Draw outer box-shadows for native-themed elements using the alpha mask of the theme background as the border-shape, and disable inner box-shadows. r=dbaron 
Bug 587887. Create pref for refresh driver timer, and make it 60Hz by default. r=dbaron,a=bsmedberg 
bug 585718 - support -moz-font-feature-settings and -moz-font-language-override in nsCSSFontFaceStyleDecl::GetPropertyValue. r+a=dbaron 
Bug 562698 - Part a: Pass Elements to nsIMutationObserver::AttributeChanged and nsCSSFrameConstructor::AttributeChanged; r=bzbarsky, a=dbaron 
Bug 562698 - Part b: Pass Elements to nsNodeUtils::AttributeChanged; r=bzbarsky, a=dbaron 
Bug 562698 - Part c: Pass Elements to AttributeWillChange; r=bzbarsky, a=dbaron 
Bug 457801 (1/3) - Implement -moz-placeholder pseudo-class. r=dbaron a2.0=blocking 
Bug 457801 (1/2) - Implement -moz-placeholder pseudo-class. r=dbaron a2.0=blocking 
Bug 566045 - Default style for invalid form elements with :invalid. r=dbaron ui-r=limi a2.0=sicking 
Add prerequisites for better testing of 'height'.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add prerequisites for better testing of min/max-width/height properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add prerequisites for better testing of 'top', 'right', 'bottom', and 'left'.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Fix computed style for percents for offset properties when the element doesn't have a frame.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to ComputeWidthDependentValue and ComputeHeightDependentValue.  Also change calc() handling of percents from using round to using floor, which changes our handling of percents on 'width' back to using floor, reverting an earlier change in this bug.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Introduce nsStyleCoord::HasPercent to check for either a percent value or a calc() value containing a percent.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Introduce nsStyleCoord::HasCoordOrNonPercentCalc to check for either a coord value or a calc() value not containing a percent.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to the 'height', 'min-height', and 'max-height' properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to the 'min-width' and 'max-width' properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Avoid serializing calc() expressions in computed style when the calc() expression has no percentages and we have no percentage basis.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Make it possible to store pointer values in nsStyleSides.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to the 'top', 'right', 'bottom', and 'left' properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Make IsAutoHeight be a member of nsLayoutUtils so we don't have to have two copies of it.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Bug 580167 part 1.  Create an nsTextFrame::ReflowText that doesn't need a reflow state.  r=dbaron 
Bug 580167 part 3.  Make nsLineLayout call ReflowText as needed.  r=dbaron 
Bug 586400.  Cellpadding changes need to reresolve descendants.  r=dbaron 
Bug 589672.  Parsing of malformed namespace rules can skip over too many tokens while recovering.  r=dbaron, a=dbaron 
Bug 589672 followup.  Don't unget on code paths where it's already been handled for us.  Fixes test orange.  r+a=dbaron 
Bug 588684. Mark layout/reftests/svg/objectBoundingBox-and-fePointLight-01.svg as failing on Linux. r=dbaron 
Bug 130078. Part 1. Hookup view managers unconditionally. r=dbaron 
Bug 130078. Part 2. Remove widgets from all subframes. r=dbaron 
Bug 591657. nsWeakFrame needs a copy constructor because the default one does not hook into the presshell. r=smaug,dbaron a=dbaron,blocking beta5+ 
Bug 579323. Part 1: Add FrameLayerBuilder::InvalidateThebesLayersInSubtree, and call it from InvalidateOverflowRect. r=tnikkel,sr=dbaron 
Bug 579323. Part 3: Fix invalidation of lines to update layers as necessary. r=dbaron 
Bug 579323. Part 2: Actually fix the bug by calling InvalidateThebesLayersInSubtree from nsIFrame::Redraw. r=dbaron,a=blocking 
Add test for bug 590417. 
Bug 471643: Evaluate vertical percentages in border-radius relative to box height.  r=dbaron  a2.0=blocking:beta6+ 
Fix typo in reftest documentation. 
Fix nonexistent makefiles in toolkit-makefiles.sh. 
Make nsStyleCoord::operator== check deep equality of calc() expressions rather than just doing pointer comparison.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Remove no-longer-needed code for handling unconstrained containing block widths.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Consolidate table-cell vertical align code.  (Bug 585715)  r=bzbarsky  a2.0=blocking+ 
Add support for calc() to the '{margin,padding}-{top,right,bottom,left}' and '-moz-margin-{start,end}' properties.  (Bug 585715)  r=bzbarsky  a2.0=blocking:beta6+ 
Share IsPaddingZero between nsBlockFrame and nsInlineFrame by putting it in nsLayoutUtils.  (Bug 585715)  r=bzbarsky  a2.0=blocking:beta6+ 
Add support for calc() to 'vertical-align' and 'text-indent'.  (Bug 585715)  r=bzbarsky  a2.0=blocking:beta6+ 
Cache non-percent margin and padding calc() on the style struct.  (Bug 585715)  r=bzbarsky  a2.0=blocking:beta6+ 
Bug 522575 - crash opening attachment, r=vlad, a=dbaron 
Fix uses of percentage border-radius in themes for new definition of percent.  (Bug 471643)  r=Mossop  a2.0=blocking+ 
Bug 581592 - allow for a couple of asserts in size-change-1.html on Mac, r=dbaron, a=orange 
Bug 591727 - Remove remnant makefile.win in trace-malloc, r=dbaron, a=NPOTB 
Bug 591714 - Remove ancient (and ifdeffed out) heapdump code, r=robarnold,dbaron, a=NPOTB 
Bug 591717 - Remove most of tools/performance/startup, r=dbaron, a=NPOTB 
Bug 584494 - Regression: Transform rotation testcase performs significantly worse - r=dbaron 
Bug 240933 - Part 1: Do not split multiline text into textframes separated by BR elements; r=roc a=dbaron 
Bug 240933 - Part 2: Fix the accessibility test to only expect two children for textarea's; r=surkov a=dbaron 
Bug 240933 - Part 3: Correct the caret movement throughout textareas (and pre elements with caret browsing turned on as well); r=roc a=dbaron 
Bug 240933 - Part 3.1: Position the selection before the terminating newline when clicking to the right of the line; r=roc a=dbaron 
Bug 240933 - Part 4: Remove the code responsible for handling non-preformatted text in WillInsertText; r=roc a=dbaron 
Bug 240933 - Part 5: Inject linefeed characters instead of BR elements when the user presses Enter; r=roc a=dbaron 
Bug 240933 - Part 6: Put the selection on the moz BR element if the user presses Enter at the end of a textarea; r=roc a=dbaron 
Bug 240933 - Part 8: Avoid creating multiple textnodes when adding text to textareas; r=roc a=dbaron 
Bug 240933 - Part 9: Simplify text control frame's DOM point to offset conversion code; r=roc a=dbaron 
Bug 240933 - Part 10: Only hide/show the caret once when placeholder transactions finish; r=roc a=dbaron 
Bug 240933 - Part 11: Optimize setting the bidi flag for modifications to large DOM text nodes; r=smontagu a=dbaron 
Bug 590844 - Add layersGPUAccelerated to the reftest sandbox when we're using accelerated layers. r=dbaron a=blocking2.0:beta6+ 
Bug 593275. Take reftest snapshots by painting the toplevel window. r=dbaron 
Bug 593275. Take reftest snapshots by painting the toplevel window. r=dbaron a=blocking2.0:beta6+ 
Bug 593275 part 2 - Dynamically recompute drawWindow flags, in case our window is asynchronously resized on us. r=dbaron a=blocking2.0:beta6+ 
Bug 584699. Invalidate ThebesLayers in abs-pos frame subtree that's moved. r=dbaron 
Bug 593552.  If our parent document has no presshell, just fall back to a separate refresh driver instead of trying to dig around for a presshell by other means.  r=roc a=dbaron 
Bug 593544.  Apply first-letter to legends.  r=dbaron a=dbaron 
Move nsCSSRendering::GetBorderRadiusTwips to nsIFrame and rename it to ComputeBorderRadii.  (Bug 459144, patch 1)  r=roc  a2.0=blocking:beta6+ 
Make nsIFrame::ComputeBorderRadii take an nsSize instead of two nscoords.  (Bug 459144, patch 2)  r=roc  a2.0=blocking:beta6+ 
Move skip-sides handling from nsCSSRendering::ComputePixelRadii to nsIFrame::ComputeBorderRadii.  This fixes a bug (ignoring skip-sides) in nsDisplayBoxShadowOuter::ComputeVisibility, and improves the no-border-radius optimizations when skip-sides allow us to take them.  (Bug 459144, patch 3)  r=roc  a2.0=blocking:beta6+ 
Don't throw away the subpixel part of the border-radius.  (Bug 459144, patch 4)  r=roc  a2.0=blocking:beta6+ 
Move clamping of border-radii that are too big from nsCSSRendering::ComputePixelRadii to nsIFrame::ComputeBorderRadii.  This also fixes a bug in nsDisplayBoxShadowOuter::ComputeVisibility.  (Bug 459144, patch 5)  r=roc  a2.0=blocking:beta6+ 
Add border-radius-related helper functions to nsIFrame.  (Bug 459144, patch 6)  r=roc  a2.0=blocking:beta6+ 
Use nsIFrame::GetBorderRadii so that we pick up when it is overridden.  (Bug 459144, patch 7)  r=roc  a2.0=blocking:beta6+ 
Reduce the border-radius of elements with overflow != visible so that any present scrollbars are not clipped.  (Bug 459144, patch 8)  r=roc  a2.0=blocking:beta6+ 
Expose nsCSSRendering::ComputePixelRadii.  (Bug 459144, patch 9)  r=roc  a2.0=blocking:beta6+ 
Expose RectToGfxRect on nsLayoutUtils.  (Bug 459144, patch 10)  r=roc  a2.0=blocking:beta6+ 
Fix uses of percentage -moz-outline-radius in themes for new definition of percent.  (Bug 471643)  r=dao  a2.0=blocking:beta6+ 
Bug 592493 - Register border-images with the document image tracker.r=dbaron 
Fix missing negation.  (Bug 276431)  r=dholbert  a=orange 
588174.  Make it possible to pass an explicit callback function to mozRequestAnimationFrame.  r=roc, sr=dbaron 
Add support for calc() on -moz-border-radius and -moz-outline-radius.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0:beta6 
Fix missing frame in style system mochitests.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0:beta6 
Fix places where I missed clamping negative calc() to 0.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0:beta6 
Negative values for stroke-dasharray should be rejected.  (Bug 585715)  r=bzbarsky  a2.0=blocking2.0:beta6 
Add calc() support for two properties I missed: outline-width and column-gap.  (Bug 363249)  r=bzbarsky  a2.0=blocking2.0:beta6 
Fix missing computation half of calc() for border-*-width.  (Bug 363249)  r=bzbarsky  a2.0=blocking2.0:beta6 
Add an invalid-value test for text-shadow that we already have for -moz-box-shadow.  a2.0=tests 
Add wctype.h to config/system-headers.  (Bug 594492)  r=cjones  a2.0=bustage 
Remove unneeded nsDisplayClip::mClippingFrame.  (Bug 459144, patch 11)  r=roc  a2.0=blocking2.0:beta6 
Remove unneeded nsAbsPosClipWrapper::mContainer.  (Bug 459144, patch 12)  r=roc  a2.0=blocking2.0:beta6 
Make nsIFrame::DisplaySelectionOverlay take an nsDisplayList* instead of nsDisplayListSet&.  (Bug 485501)  r=roc  a2.0=blocking:beta6 
Add a (wrapping) display item that clips its contents to the curvature of a border-radius.  (Bug 459144, patch 13)  r=roc  a2.0=blocking2.0:beta6 
Clip contents of elements with overflow != visible to the border radius.  (Bug 459144, patch 14)  r=roc  a2.0=blocking2.0:beta6 
Clip replaced elements (for now, images, canvases, videos, and windowless plugins) to the border radius.  (Bug 485501)  r=roc  a2.0=blocking:beta6 
Add reftests for clipping to the border-radius curve.  (Bug 459144, Bug 485501)  a2.0=blocking2.0:beta6 
Add workaround for bad pixel in pluginproblem reftest.  (Bug 459144)  a2.0=blocking2.0:beta6 
Bug 451134 (1/2): switch to the official border-radius property names: purely mechanical changes.  r=dbaron  a2.0=blocking2.0:beta6
Bug 451134 (2/2): switch to the official border-radius property names: by-hand changes.  r=dbaron  a2.0=blocking2.0:beta6 
Add aliases for old names of border-radius properties.  (Bug 451134)  r=bzbarsky  a2.0=blocking2.0:beta6 
Bug 582277 - Default style for :-moz-submit-invalid pseudo-class. r+a=dbaron 
Bug 590181 - Use -O3 on Linux and Maemo. r=ted, a2.0=dbaron 
Official branding bustage fix for bug 590877, a=dbaron 
Merge backout a=dbaron-sheriff 
to 2.47px, etc. 
Change blur radii in themes and in some tests to match change in how we interpret text-shadow and -moz-box-shadow blur radii.  (Bug 590039)  r=dao  a2.0=blocking2.0:beta6 
Remove support for min() and max() in calc(): remove support for parsing and storage.  (Bug 363249)  r=bzbarsky  a2.0=blocking2.0:beta6 
find * -type f -exec sed -i -e 's/\<MozBoxShadow\>/boxShadow/g;s/-moz-box-shadow/box-shadow/gi' {} \; 
Rename -moz-box-shadow to box-shadow: manual changes.  (Bug 590039)  r=bzbarsky  a2.0=blocking2.0:beta6 
Simplify storage of computed calc() as a result of removing min() and max().  (Bug 363249)  r=bzbarsky  a2.0=blocking2.0:beta6 
Bug 594271. Don't send synth mouse moves to hidden documents. r=dbaron a=dbaron 
[Bug 595544] Fix some JSFunctionSpec definitions in nsJSEnvironment.cpp. r=dbaron a=bustage 
Bug 474356 - Add -moz-device-pixel-ratio media query. r=dbaron a=approval2.0 
Fix bustage with various profiler integration options from JSNative signature change in JÃ¤gerMonkey landing.  (Bug 595544)  r=sayrer  a=bustage 
Modularize to avoid inline vs. not ShapeHasher static woes (595615, r=dbaron, a=beta6+/debug-only-fix-for-devs). 
Bug 474356 - Add -moz-device-pixel-ratio media query. r=dbaron a=approval2.0 
Bug 240933 - Part 1: Do not split multiline text into textframes separated by BR elements; r=roc a=dbaron 
Bug 240933 - Part 2: Fix the accessibility test to only expect two children for textarea's; r=surkov a=dbaron 
Bug 240933 - Part 3: Correct the caret movement throughout textareas (and pre elements with caret browsing turned on as well); r=roc a=dbaron 
Bug 240933 - Part 3.1: Position the selection before the terminating newline when clicking to the right of the line; r=roc a=dbaron 
Bug 240933 - Part 4: Remove the code responsible for handling non-preformatted text in WillInsertText; r=roc a=dbaron 
Bug 240933 - Part 5: Inject linefeed characters instead of BR elements when the user presses Enter; r=roc a=dbaron 
Bug 240933 - Part 6: Put the selection on the moz BR element if the user presses Enter at the end of a textarea; r=roc a=dbaron 
Bug 240933 - Part 8: Avoid creating multiple textnodes when adding text to textareas; r=roc a=dbaron 
Bug 240933 - Part 9: Simplify text control frame's DOM point to offset conversion code; r=roc a=dbaron 
Bug 240933 - Part 10: Only hide/show the caret once when placeholder transactions finish; r=roc a=dbaron 
Bug 240933 - Part 11: Optimize setting the bidi flag for modifications to large DOM text nodes; r=smontagu a=dbaron 
Backed out changeset a6ee83aa638e to fix orange (test_bug508115.xul timing out) 
Merge backout of changeset a6ee83aa638e to fix orange (test_bug508115.xul timing out). 
Backed out changeset 2e55203d7b80 to fix orange (test_bug508115.xul timing out). 
Merge backout of changeset 2e55203d7b80 to fix orange (test_bug508115.xul timing out).  a=jst 
Bug 556487 - handle async plugin layers rendering in reftests runner. r=dbaron a=blocking2.0 
Modularize to avoid inline vs. not ShapeHasher static woes (595615, r=dbaron) 
Fix for bug 466157 (Enable dumping of cycle-collector graphs in any build). r=dbaron, a=jst. 
Fix for bug 466157 (Better CC logging for nodes). r=dbaron, a=jst. 
Change storage of background-size and background-position to allow percentages and lengths.  (Bug 594934)  r=bzbarsky  a=blocking2.0:betaN 
(Note:  this also depends on the change to nsStyleAnimation.cpp's StyleCoordToValue in bug 520234 and on other changes in that bug.) 
Add calc() unit to nsStyleAnimation::Value.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Extract calc() values in nsStyleAnimation when needed.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Add CSS property bit for which properties have stored calc() in style structs.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Allow calc() as an intermediate common animation unit between lengths, percentages, and calc().  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Allow calc() as an intermediate common animation unit for background-position and background-size.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Add a fallible version of nsCSSValue::Array::Create. (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Remove null-checks for infallible array allocations.  (Bug 520234)  r=bzbarsky  a=blocking2.0:beta7 
Add test for animation of calc() values of background-position and background-size.  (Bug 520234, bug 594934)  a=tests 
Bug 594774. Detect DOM changes during painting, and abort painting ASAP when that happens. r=dbaron a=blocking-beta6+ 
Bug 592698.  We might not have a presshell by this point, so null-check it.  r=dbaron 
Bug 594737.  Disabled selects with size and multiple should still look disabled.  r=dbaron 
Bug 588684. Mark layout/reftests/svg/objectBoundingBox-and-fePointLight-01.svg as failing on Linux. r=dbaron 
Bug 588684. Mark layout/reftests/svg/objectBoundingBox-and-fePointLight-01.svg as failing on Linux. r=dbaron 
Bug 590294, part 1: Add a setCSSViewport() API to allow the frontend (or whatever) to override the natural viewport inherited from widget/view. sr=dbaron 
Bug 590294, part 5: Add a setDisplayPort() API to allow the frontend (or whatever else) to set an arbitrary visible region for the purposes of invalidation and layer retaining. r=roc sr=dbaron 
Bug 590294, part 6: Add a window.setResolution(xres, yres) API to control the number of backing pixels allocated to scalable content. r=roc sr=dbaron 
Bug 595577 - Cedar is busted after merging with m-c, (Bug 459144) conflict. r=dbaron 
Bug 556487 - handle async plugin layers rendering in reftests runner. r=dbaron a=blocking2.0 
Add NS_COM_GLUE to fix non-libxul bustage from bug 592520. r=taras a=dveditzSheriff 
Bug 556487 - handle async plugin layers rendering in reftests runner. r=dbaron a=blocking2.0 
Bug 596710. Increment (not decrement) rline to skip checking the cursor line twice. r=dbaron a=blocking 
Bug 594774. Detect DOM changes during painting, and abort painting ASAP when that happens. r=dbaron a=blocking 
Bug 594774. Tests for this bug. r=dbaron a=blocking 
Fix shadowing warnings from bug 581222.  r=dbaron  a2.0=blocking2.0:beta5 
Remove another piece of code I missed when removing min() and max().  (Bug 363249)  r=bzbarsky  a2.0=blocking 
Bug 597676. If there's no rootPresContext, we should never detect DOM modification. Makes printing paint again. r=dbaron a=blocking2.0:beta7 
Make NBSP an identifier character per resolution of CSS 2.1 issue 196.  (Bug 591589)  r=bzbarsky  a2.0=roc 
Save a word in nsCSSStyleRule on 32-bit systems by merging mWasMatched into one bit of mLineNumber.  (Bug 596140)  r=bzbarsky  a2.0=roc 
Eliminate all virtual functions from nsCSSRule to eliminate its vtable pointer.  (Bug 596140)  r=bzbarsky  a2.0=roc 
Add NS_FINAL_CLASS annotations to rule classes.  r=bzbarsky  Add virtual that I missed on nsCSSGroupRule.  (Bug 596140)  a=me 
Bug 557087 (3/6) - Make layout aware of the new disabled state rule. r=dbaron a=sicking 
Bug 557087 (5/6) - Test elements rendering when inside a disabled fieldset. r=dbaron a=sicking 
Use MapWindowPoints instead of manually converting from screen to client coordinates. Bug 593942, r=jimm, a=dbaron 
Fix missing parentheses in expression. Bug 594278, r=jimm, a=dbaron 
Fixes build bustage on non-IPC builds such as seamonkey. r/a=dbaron 
Initialize the out param from backtrace().  (Bug 549561)  r=bsmedberg  a2.0=tests 
Disable trace-malloc stack walking for tests that use automation.py.  (Bug 549561)  r=ted  a2.0=tests 
Revert bug 549561 for Mac only, since it seems to have caused the 10.5 (32-bit) Mac debug trace-malloc leak test to hang.  a=bustage 
Bug 596969: Allow a document's CSS viewport to be permanently overridden by chrome script. sr=dbaron a=blocking-fennec 
Change checkComplete in test_referer.html to check whether all tests are complete, rather than just the last.  (Bug 600458) r=doublec a=test-fix 
Bug 129941.  Don't create scrollframes for blockframes (except inline blocks) while printing, and make such blockframes clip their contents instead.  r=dbaron 
When we set border-radius on <hr>, make the ends circular rather than elliptical.  (Bug 597721)  r=bzbarsky  a2.0=blocking:betaN 
For elements that are in a document with a pres shell, always use that pres shell when getting computed style so we (a) return a more correct style and (b) don't mix rule nodes from two rule trees.  (Bug 596245)  r=bzbarsky  a2.0=blocking2.0:betaN 
Convert nsIFrame APIs from having a single overflow rect to having two distinct overflow rects.  (Bug 542595, patch 1)  r=roc  sr=bzbarsky  a2.0=blocking2.0:beta8 
Use split overflow areas in nsAbsoluteContainer::Reflow.  Fixes overflow handling bug in nsPositionedInlineFrame where non-positioned overflow was ignored.  (Bug 542595, patch 2)  r=roc  a2.0=blocking2.0:beta8 
Make ReflowOverflowContainerChildren handle split overflow areas.  (Bug 542595, patch 3)  r=roc  a2.0=blocking2.0:beta8 
Change FinishAndStoreOverflow API to take two overflow areas.  (Bug 542595, patch 4)  r=roc  a2.0=blocking2.0:beta8 
Remove unused method nsLineBox::CombinedAreaIntersects.  (Bug 542595, patch 5)  r=roc  a2.0=blocking2.0:beta8 
Make nsLineBox track two separate overflow areas.  (Bug 542595, patch 6)  r=roc  a2.0=blocking2.0:beta8 
Make nsLineLayout track two separate overflow areas.  (Bug 542595, patch 7)  r=roc  a2.0=blocking2.0:beta8 
Make overflow from text frames be visual overflow only, and not scrollable.  (Bug 542595, patch 8)  r=roc  a2.0=blocking2.0:beta8 
Convert nsBlockReflowState::mFloatCombinedArea and part of nsBlockFrame to split overflow areas.  (Bug 542595, patch 9)  r=roc  a2.0=blocking2.0:beta8 
Compute nsBlockFrame::ComputeCombinedArea to split overflow areas.  (Bug 542595, patch 10)  r=roc  a2.0=blocking2.0:beta8 
Compute nsBlockFrame.cpp's ComputeCombinedArea to split overflow areas.  (Bug 542595, patch 11)  r=roc  a2.0=blocking2.0:beta8 
Split overflow areas for block frame float continuations.  (Bug 542595, patch 12)  r=roc  a2.0=blocking2.0:beta8 
Change nsBlockReflowContext::PlaceBlock for split overflow areas.  (Bug 542595, patch 13)  r=roc  a2.0=blocking2.0:beta8 
Remaining nsBlockFrame changes for split overflow areas.  (Bug 542595, patch 14)  r=roc  a2.0=blocking2.0:beta8 
Now that overflow areas are split, change nsIFrame::ComputeTightBounds to use visual overflow.  While it really only needs to include frame bounds, glyph bounds, and text decorations, since glyph bounds are not part of scrollable overflow, it must use visual overflow.  (Bug 542595, patch 15)  r=roc  a2.0=blocking2.0:beta8 
Fix the way table cells consider overflowing collapsed borders for split overflow areas.  (Bug 542595, patch 16)  r=roc  a2.0=blocking2.0:beta8 
Make parameters to nsTableFrame::InvalidateFrame, nsTableFrame::PlaceChild, and nsTableRowGroupFrame::PlaceChild be the visual overflow rect.  (Bug 542595, patch 17)  r=roc  a2.0=blocking2.0:beta8 
Fix all ReflowChildren methods in table code to avoid unnecessary NS_METHOD and NS_IMETHOD, and one that takes an overflow area to handle it correctly.  (Bug 542595, patch 18)  r=roc  a2.0=blocking2.0:beta8 
Fix miscellaneous reflow methods to use new overflow area APIs.  (Bug 542595, patch 19)  r=roc  a2.0=blocking2.0:beta8 
Change callers to use new nsIFrame overflow APIs.  (Bug 542595, patch 20)  r=roc  a2.0=blocking2.0:beta8 
Adjust known assertion counts for assertions that now happen for each overflow area.  (Bug 542595, patch 21)  a2.0=blocking2.0:beta8 
Mark two reftests that now pass as passing.  (Bug 542595, patch 22)  (fixes bug 593160)  a2.0=blocking2.0:beta8 
Fix reftests that assume that text-shadow causes scrollbars.  (Bug 542595, patch 23) (for bug 446693) 
Add reftests for text-shadow and box-shadow not causing scrollable overflow.  (Bug 542595, patch 24) (for bug 446693)  a2.0=blocking2.0:beta8 
Add a selector hack so that we can implement table border styles compatibly in CSS.  (Bug 539880)  Test by Geoff Lankow <geoff@darktrojan.net>.  r=bzbarsky  a2.0=blocking2.0:betaN 
Fix border-radius computed style code to reflect that percentage Y values are percentages of the box height.  (Bug 595650)  r=bzbarsky  a2.0=blocking2.0:betaN 
Fix border-radius computed style code to reflect clamping adjustments that we make to border radius.  (Bug 595651)  r=bzbarsky  a2.0=blocking2.0:betaN 
When a frame is themed, report a border-radius of 0.  (Bug 595652)  r=roc  a2.0=blocking2.0:betaN 
Reflow floating ::first-letter before deciding where to place the float, since we need to reflow it to learn its width.  (Bug 594303)  r=roc  a2.0=blocking:betaN 
Avoid early return from nsImageFrame::BuildDisplayList, so we don't go blank for some selection cases.  (Bug 599368)  r=tnikkel  a2.0=blocking2.0:final 
Give nsCSSFontFaceRule a copy-constructor that doesn't copy the reference count.  (Bug 601437)  r=bzbarsky  a2.0=blocking2.0:final 
Drop native appearance when border-radius or -moz-border-start/end are set.  (Bug 601366)  r=bzbarsky  a2.0=blocking2.0:betaN 
Check isValid, since bindings in chrome (e.g., Fennec select binding) can make it be false.  (Bug 596767)  r=bzbarsky  a2.0=blocking2.0:betaN 
Remove unused system metrics from nsILookAndFeel and implementations.  (Bug 599657)  r=roc  a2.0=joedrew 
Bug 560235 - background image in print-specific style sheet not printed and not displayed in print preview, r=dbaron, a=blocking 
Add a change that was missed in changeset 7e330021ce68 (bug 590039).  a2.0=blocking 
Remove canvas shadow quirk that was recently removed from the spec.  (Bug 600428)  r=roc  a2.0=blocking2.0:beta8 
Fix GC race in test by doing QueryInterface when needed, in case a the wrapper has been GCed since the last QueryInterface.  (Bug 600785)  r=ted.mielczarek  a2.0=tests 
Bug 600148. Always round up in nsPoint::ToNearestPixels to match nsRect::ToNearestPixels. r=dbaron a=blocking-betaN+ 
Bug 592803. Remove nsPresContext::NotifyInvalidateForScrolling because it is not used. r=roc a=dbaron 
Bug 602794. nsPresContext::IsRootContentDocument is wrong for the embedding situation. r=bzbarsky a=dbaron 
Bug 543910 - Layout support for -moz-windows-theme. r=dbaron, a=final. 
Bug 543910 - tests. r=dbaron, a=final. 
Add method to synthesize mouse events at the center of elements.  (Bug 595652)  r=Mossop  a2.0=blocking2.0:betaN 
Send clicks to the center of elements, rather than to 2, 2, so that they don't end up outside the curvature of the border.  (Bug 595652)  r=Mossop  a2.0=blocking2.0:betaN 
Make hit testing for border-radius follow the curvature of the border.  (Bug 595652)  r=roc  a2.0=blocking2.0:betaN 
Add an additional value to nsOverflowType so that compilers (in particular, gcc 4.5.*) know that one past the end is a value they'll need to deal with.  (Bug 602826)  r=roc  a2.0=blocking 
Bug 600151 - Remove -moz-submit-invalid default style. r+a=dbaron 
Don't split a surrogate pair over two output buffers. Bug 600974, r=emk, dbaron, a=blocking 
Remove ancient bustage fix that was only needed for Mac OS X versions we no longer support (10.1, I think).  a2.0=dbaron 
Check for UniversalXPConnect in trace-malloc hooks.  (Bug 600064)  r=jst  a2.0=roc 
Fix double-subtraction of opposite margin when one of margin-top/bottom is auto, for absolutely positioned elements.  (Bug 604212)  r=bzbarsky  a2.0=roc 
Don't hit assertion when calling getPropertyPriority on unknown property.  (Bug 601439)  r=bzbarsky  a2.0=dbaron 
Accept PR_INT32_MIN as an integer in CSS.  (Bug 602890)  r=bzbarsky  a2.0=roc 
Bug 605689.  Copy mUnknownProperty correctly.  r=dbaron, a=blocker 
Bug 605741. Only send state change notifications when we actually change state for textareas and inputs. f=volkmar r=jst a=dbaron 
Add assertion to detect case that bent caught in record-and-replay on privatebrowsing tests so we can learn what portion of orange (hangs) in those tests it's responsible for, and get stacks pointing to the problem. 
Backout changeset d9e4dfc7ebdc (debugging code for test failure).  a=roc  a2.0=roc 
Add bug number for test failure. 
Revert code changes from changeset 1640dcbf1d4c (bug 541406), and add embed:-moz-focusring too, now that bug 542595 is fixed.  r=roc 
Make AnimValuesStyleRule::MapRuleInfoInto check that property hasn't been filled in yet, so that it cascades correctly and interacts correctly with nsStyleSet::ResolveStyleByAddingRules.  (Bug 598099)  r=bzbarsky  a2.0=blocking-betaN 
Change distance computation for transforms so that distance ratios match interpolation.  (Bug 598099)  r=bzbarsky  a2.0=blocking-betaN 
Add test for nsStyleAnimation::ComputeDistance.  (Bug 598099)  r=bzbarsky  a2.0=blocking-betaN 
Bug 583948, cache updaters before iterating, r=neil,a=dbaron 
Fix border-radius joins with differing styles adjacent to a zero-width border.  (Bug 500141)  r=roc  a2.0=blocking-final 
Null-check the root pres context before using it.  b=599341 r=roc a=dbaron 
Make reftest-analyzer.xhtml work with build logs. r=dbaron, a=npob. 
Remove support (style system only) for 'wider' and 'narrower' values of 'font-stretch'.  (Bug 604816)  r=jdaggett  a2.0=joedrew 
Fix an underlying issue with weightmapping reftests that shows up in weightmapping-458.html on Windows once bug 93725 is fixed:  avoid differences because we're inconsistent about whether we're setting the correct font on a block or an inline.  (Bug 93725)  r=jdaggett  a2.0=tests 
Make 'bolder' and 'lighter' values of 'font-weight' be computed in the style system, per recent edits to CSS 2.1.  (Bug 93725)  r=jdaggett  a2.0=joedrew 
Remove duplicate XFree call.  (Bug 605992)  r=vlad  a2.0=joedrew 
Make glXDestroyContext function pointer consistent with name of function.  (Bug 605992)  r=bjacob  a2.0=joedrew 
Remove non-working remnant of support for GLX versions less than 1.3.  (Bug 605992)  r=bjacob  a2.0=joedrew 
Remove unused functions from GLXLibrary.  (Bug 605992)  r=bjacob  a2.0=joedrew 
Add glXQueryExtensionsString to GLXLibrary.  (Bug 605992)  r=bjacob  a2.0=joedrew 
Don't repeatedly try to initialize GLXLibrary.  (Bug 605992)  r=bjacob  a2.0=joedrew 
Use extension alternatives for GLX 1.3 features when GLX 1.3 is not available but equivalent extensions are.  (Bug 605992)  r=bjacob  a2.0=joedrew 
Fix GLX version check so it won't break when the version hits 1.10.  (Bug 605992)  r=bjacob  a2.0=joedrew 
Fix another case of bad border-radius corners (and document a third that's not fixed).  (Bug 500141)  r=roc  a2.0=blocking 
Fix division-by-zero crash that dholbert saw, although I haven't been able to, and make the code a bit more robust.  (Bug 582379)  r=bzbarsky  a2.0=blocking 
Don't use ComputeDistance in nsTransitionManager when shortening reversals of partially running transitions, and shorten only transitions that are actually back to the current start point.  (Bug 582379, bug 526784)  r=bzbarsky  a2.0=blocking 
Bug 590181 - Part 1: Fix linux tests broken by GCC at -O3. r=dbaron 
Bug 590181 - Part 2: Use -O3 on Linux. r=ted, a2.0=dbaron (landing on CLOSED TREE) 
Bug 595758 - Crash [@ nsTableFrame::MarkIntrinsicWidthsDirty] on print preview.  r=dbaron a=blocking2.0:betaN 
bug 611855 - work around incorrect font traits for helvetica light oblique on 10.6.5. r=jdaggett approval2.0=dbaron 
Fix assertion (that should have turned the tree orange).  (Bug 608458)  r=roc  a2.0=blocking(on 500141) 
Make the reftest image comparison tests have a more informative message so they're easier to distinguish from the rest.  (Bug 611702)  r=ted  a2.0=tests 
Remove spammy warning announcing that we haven't fixed bug 455338.  (Bug 611686)  r=bzbarsky  a2.0=DEBUG-only 
Animate skew in angle space rather than tangent space for interop and to avoid issues with infinite tangents.  (Bug 606722)  r=bzbarsky  a2.0=blocking 
Bug 604816 followup: Remove now-unused variable "stretch" from CheckFontCallback in nsRuleNode.cpp. r=dbaron a=dbaron 
Bug 606722 followup: Remove now-unused variable "tfunc" from nsStyleAnimation::ComputeDistance. r+a=dbaron 
Update Unicode tables to Corrigendum #8. Bug 612843, r=emk, a=dbaron 
Update Armenian list numbering test per discussion in bug 390440 and bug 604508.  a2.0=tests 
Add reftests for bug 500141.  a2.0=tests+blocking 
Mark the test as random on Windows (bug 500141); irc-r=dbaron a=orange-fix 
Don't propagate text-decoration in quirks-mode across inline-block, inline-table, and HTML table elements.  Also, prepare quirks-mode text-decoration propagation code for use in standards mode (for bug 403524).  (Bug 572713)  r=roc  a2.0=blocking 
Bug 610046 - Let jsreftests that should silently fail do so. r=dbaron,bc a=test 
Bug 608914 part 2.  Get rid of some temporary strings now that we can AppendFloat to an nsAString.  r=dbaron 
Bug 609272.  Make sure to not apply clipping of overflow when printing to the root element, because it doesn't really make use of its overflow style itself.  r=dbaron 
Bug 609272.  Make sure to not apply clipping of overflow when printing to the root element, because it doesn't really make use of its overflow style itself.  r=dbaron 
Bug 608914 part 2.  Get rid of some temporary strings now that we can AppendFloat to an nsAString.  r=dbaron 
Bug 603844: Annotate some xlst classes with leak logging. r=sicking sr=dbaron 
Change assertion annotation.  The condition causing it is dependence on some sizes rather than a platform-specific issue, but leave it a little more specific so that we notice if the bug is fixed.  (Bug 615953)  a2.0=tests 
Remove comment about difference from CSS 2.1 since CSS 2.1 has adopted the proposal in question.  a2.0=tests 
Add bug number for some float test known failures.  a2.0=tests 
Bug 591619.  Don't create frames for non-option kids of <optgroup> or non-option and non-optgroup kids of <select>.  r=dbaron 
Bug 615977: Make nsCSSValue::BufferFromString() return an already_AddRefed pointer. r=dbaron a=roc 
Bug 489871 - CSS comments should not be allowed in presentation attribute values. r=dbaron a=roc 
Revert changeset 3b2d178f7299 and changeset e52f4987ec94 (bug 605672) to see if they caused bug 617048. 
Merge backout of changeset 3b2d178f7299 and changeset e52f4987ec94 (bug 605672) to see if they caused bug 617048. 
Backout changeset 9ddbf8ab23a5 (bug 588873) to see if it caused bug 617048. 
Merge backouts of bug 588873 and bug 605672.  a=jst 
It's also a waste of time. 
Add test for cairo error when trying to draw zero width borders, even though it doesn't actually fail without the patch in the current reftest harness.  (Bug 618071)  a=blocking2.0:beta8 
Dump JS stack and information about the object for the assertion about using XPConnect on a scope with no Components in scope.  (Bug 510489)  r=mrbkap  a2.0=DEBUG-only 
Make dumping of JS values that are native functions dump the filename and line number of the function.  (Bug 510489)  a2.0=DEBUG-only 
Make style system mochitests handle cases where initial font family is sans-serif.  (Bug 617372)  a2.0=tests 
Comment out the xpc_DumpJSStack call for now, since it causes fatal JS_Asserts.  (Bug 510489)  a=bustage 
Bug 594333. Invalidate frame subtree (including layers) when moving a float. r=dbaron a=blocking-final+ 
Bug 618016 - Make a new media query for device orientation [r=dbaron a=blassey] 
Remove comment that I forgot to remove in the previous patch (which fixed the issue it was pointing out).  (Bug 617372)  a2.0=tests 
Remove code that's no longer needed.  (Bug 576649, followup)  r=roc  a=blocking 
relative to the most recent reverse. 
r=dbaron a=(test only). 
Bug 617152. Part 1: fix 424465-1 test. r=dbaron 
Bug 617152. Part 3: Fix reftest.js harness to have much simpler logic for waiting for a test to end. r=dbaron 
Bug 617152. Part 4: Make sure to always fire a balancing MozPaintWaitFinished, even if the plugin dies suddenly, and make sure events are dispatched safely. r=dbaron 
Bug 617152. Part 6: Improve diagnostic messages for reftest failures. r=dbaron 
Bug 617152. Part 7: Take a full snapshot after we've set up our listeners. r=dbaron 
Bug 617152. Part 8: Remove useless call to processUpdates. r=dbaron 
Bug 594333. Invalidate frame subtree (including layers) when moving a float. r=dbaron 
Bug 617512. Part 10: Don't wait for pending paints to flush in crashtests. r=dbaron 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 1; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 2; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 3; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 4; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
r=dbaron a=(test only). 
Bug 620273 - Make bloatcycle.html not hit the network, r=dbaron, a=test 
Bug 602580 - Return CSSViewport from innerWidth and innerHeight. r=tn, sr=dbaron, a=blocking-fennec 
Bug 612752 - Change :-moz-ui-invalid default style when the invalid element is focused. r=dbaron ui-r=limi a=blocking-final 
Bug 618996. Correctly compare rounded rect clip items for sameness. r=dbaron a=dbaron 
Bug 620253 nsResizerFrame::AdjustDimensions fall through comment is misplaced, r+a=dbaron 
Bug 621023 presContext = GetPresContext() is unused ifndef DEBUG in PresShell::Paint, r+a=dbaron 
Bug 620252 RomanToText could use // FALLTHROUGH comments for 3 and 2, r+a=dbaron 
Bug 620255 add comment nsHTMLInputElement::PostHandleEvent for isMovingBack falling through, r+a=dbaron 
bug 609878: no longer generating en-US langpacks after bug 578393. r=khuey, a2.0=dbaron 
Bug 607537 - SVG SMIL: Support paint servers an animation values; r=dholbert,dbaron; a=roc 
equivalent values when we ought to be able to do so). 
rejection of previously-accepted ones (such as -moz-calc(0 + 1em)). 
Bug 621339. Protect against contentRootElement being null. r=dbaron. a=test 
Bug 593604. Part 5: Mark CSS gradient images as opaque when all their stops are opaque. r=dbaron,a=blocking 
Bug 602757. Part 3: Change IsOpaque to GetOpaqueRegion so we can get useful opaque regions for content that uses border-radius. r=tnikkel,sr=dbaron,a=blocking 
Bug 602757. Part 4: Let nsDisplayBackground::GetOpaqueRegion return opaque regions for arbitrary repeat modes, background-clip, border-radius, etc. r=tnikkel,sr=dbaron,a=blocking 
Bug 602757. Part 5: Change HasText to GetComponentAlphaBounds. r=tnikkel,sr=dbaron,a=blocking 
Bug 585258. Part 1: Don't make visible region arbitrarily complex in RecomputeVisibility. r=dbaron,a=blocking 
Fix backwards handling of zero-duration transitions.  (Bug 622461)  r=bzbarsky  a2.0=blocking2.0:betaN 
Bug 568204 - Fennec on xulrunner does not build with --enable-debug. r=dbaron,benjamin a=approval2.0 
Bug 615794. Part 5: Don't abort in RoundedRectIntersectsRect, just check whether we intersect the frame border-box. r=dbaron a=blocking 
Bug 623606. Leave the pres shell after we are done creating the display list. r=dbaron a=dbaron 
Fix incorrect author metadata (for CSS 2.1 test suite metadata), for tests that come from bug 367650.  a=testonly 
within the same parent. 
Handle multiple continuations of the same float being out-of-order in the same float list.  (Bug 595740)  r=roc  a2.0=blocking 
Add crashtest for bug 595740.  a2.0=blocking, tests 
Add assertions that the frame tree is safe to destroy (i.e., doesn't contain any first-in-flows or other things we should never destroy) when we call DeleteNextInFlowChild.  (Bug 619021)  r=roc  a2.0=blocking 
Issue console warning when we abort reflow because the frame tree is too deep.  (Bug 619021)  r=roc  a2.0=blocking 
Report incomplete reflow status as appropriate when frame tree is too deep.  (Bug 619021)  r=roc  a2.0=blocking 
Bug 623450 and dependencies - Annotate the reftests that fail on WinXP, r=dbaron, a=test 
Bug 585708 - Part 1: Rework SSE.h so that it supports and encourages putting intrinsics in a file separate from the main code. r,a2.0=dbaron 
Bug 585708 - Part 2: Move CPUID code out of SSE.h and into SSE.cpp. r,a2.0=dbaron 
Bug 615147. r=dbaron a=blocking2.0:final 
Bug 624301.  Only change background clip to padding-box for solid borders if it's border-box to start with.  r=dbaron 
Bug 589615 part 1.  Get rid of the non-HTML preshint level.  r=dbaron 
Bug 589615 part 2.  Rename the HTML preshint level to just the preshint level, since it's the only preshint level now. r=dbaron, a=dbaron 
Don't cancel transitions that are almost completed (and round to their final value) when we get an unrelated style change.  (Bug 613888)  r=bzbarsky  a2.0=blocking 
Correctly fix up the parentage of child sheets when removing the primary nsCSSStyleSheet from an nsCSSStyleSheetInner.  (Bug 623351)  r=bzbarsky  a2.0=blocking 
Bug 612190. Make MozAfterPaint actually fire after paint. r=dbaron,a=me (blocks a blocker) 
Make this test more reliable given imperfect timers, to fix TEST-UNEXPECTED-FAIL that has happened once so far.  (Bug 613888)  a=tests 
Backout changeset 0f1fd87b570d (bug 622326) on suspicion of causing bug 626100 (leak in a11y mochitests).  CLOSED TREE 
Bug 624279. Setup print mode for non-reftest-wait documents as soon as 'load' fires. This ensures that the initial reflow will happen in print mode. r=dbaron, a=test
Bug 613696. Always use the presshell's reference rendering context to create textruns when we draw text via nsIThebesFontMetrics::DrawString, to be consistent with the textruns we measure during reflow. r=dbaron,a=blocking 
Bug 622517 - Only use remoted audio streams on Android.  r=dougt a=dbaron 
Bug 625434.  Make sure we don't get into a situation where we're failing to gc the ruletree for a page.  r=dbaron, a=blocker 
Bug 581536 part 0.  Change SetDocumentInternal to share the normal prescontext/presshell initialization codepath.  r=dbaron 
Bug 581536 - Part 3: Disconnect the transaction manager from the pres context as soon as it's disconnected from the pres shell; r=dbaron a=blocking-betaN+
Bug 627341 - Wrong stack alignment in Convert_ascii_run call on mingw build r=dbaron a=NPOTB 
Bug 612505 - Part 1: Whitespace cleanups.  rs=dbaron 
Bug 612505 - Part 2: Add a pixel value inspection panel to the reftest analyzer  rs=dbaron 
Clean up setting of preferences for reftest.  (Bug 608030)  r=roc  a=blocking2.0:betaN+ 
By default, disable MozAfterPaint for content.  (Bug 608030)  r=roc  a=blocking2.0:betaN+ 
Uncomment the previously landed xpc_DumpJSStack call for now, since it no longer causes fatal JS_Asserts.  (Bug 510489)  a2.0=DEBUG-only 
Backout changeset 3248feddc867 (bug 608030). 
Backout changeset ffebdc3ddb62 (bug 608030) due to reftest orange related to color-management pref.  a=orange 
Bug 628283 - Make elfhack handle GNU_RELRO segments better. r=tglek,a=dbaron 
Honor the "gfx.color_management.force_srgb" when it is set as a default pref in addition to when it is set as a user pref.  (Bug 608030)  r=jrmuizel  a2.0=blocking2.0:betaN+ 
Clean up setting of preferences for reftest.  (Bug 608030)  r=roc  a=blocking2.0:betaN+ 
By default, disable MozAfterPaint for content.  (Bug 608030)  r=roc  a=blocking2.0:betaN+ 
Bug 619117. When invalidating due to a transform change, use the cached post-transform visual overflow rect to avoid depending on the new transform style. r=dbaron,a=blocking 
Bug 626049 - mingw build crashes in [@ EnumAllChildWindProc] r=bas.schouten a=dbaron 
Bug 611986 - nsWindow.cpp compilation failure on mingw after landing bug 586228 r=roc a=dbaron 
Bug 627693 - GfxInfo.cpp fails to compile on mingw after landing bug 590373 r=bjacob a=dbaron 
Bug 629035.  Don't try to reconstruct frames if we don't have any.  r=dbaron, a=blocker 
Bug 628384 - Bypass graphics blacklist on reftest and mochitest - r+a=dbaron 
r=dbaron a=(test only). 
Make the parts of reftest-analyzer scroll independently.  (Bug 612505) 
right now.) 
Bug 377392 - 'Copy Link Location' strips random characters from URLs copied to the clipboard; r=wuno,bzbarsky a=dbaron 
Rollup of bug 615386, parts 1-6. Teach the reftest harness about <browser remote>. r=dbaron,roc,ted a=a 
Bug 631252 - Use -mstackrealign on 32-bit mingw r=dbaron a=NPOTB 
Bug 631615: suppress CSS parser diagnostics in ParseSelectorString. r=dbaron a2.0=dbaron 
Bug 631682.  Make sure to start background image loads for the root element when we compute its style and decide to construct a frame.  r+a=dbaron 
Tests for bug 508816, from dbaron and Enn 
Bug 631352.  Changes to @lang need to restyle all descendants.  r=dbaron, a=blocker 
Bug 625672. Part 1: Fix scrolling tests to actually test stuff correctly. r=dbaron 
Fix spurious NS_WARNING by adding missing return.  (Bug 632802)  r=dbaron  a2.0=dbaron 
Bug 583889: Prevent scrolling from leaking information. r=dbaron a=blocker 
Set the position of the childRect in nsXULScrollFrame::LayoutScrollArea before calling Layout. Bug 632379, r=dbaron, a=blocker 
Bug 633383 - Only walk the stack when aborting in debug builds; r=dbaron a=blocking-betaN
Bug 629908.  Don't blindly try to reconstruct the root element; we might not have one.  r=dbaron, a=dbaron 
Bug 620359 - Reorder members in nsAudioStreamRemote::nsAudioStreamRemote() constructor; r=kinetik a=dbaron 
Bug 596478: delay nsImageFrame's IsPercentageAware check until after we've lazily initialized mIntrinsicSize. r=roc a=dbaron 
Bug 530012 - [OS/2] build break in nsPresArena.cpp; r=wuno a=dbaron 
Bug 620312 crash [@ nsTableFrame::InsertCol] because lastColGroup guard did not cover lastColGroup->GetColCount() r=bernd a=dbaron 
r=jwatt a=dbaron 
r=longsonr a=dbaron 
r+a=dbaron 
r=bernd a=dbaron 
r=enn a=dbaron 
r=jwatt a=dbaron 
Bug 616812 Remove extraneous CRs r+a=dbaron 
Bug 614966 - Blocklist all versions of vksaver.dll up to 2.2.2.0 because of crashes caused by it; r=bsmedberg a=dbaron 
Bug 631657 - Bogus WARNING: Overflowed nscoord_MAX in conversion to nscoord; r=roc, a2.0=dbaron 
Linux theme:  make dragging the tabbar drag the window when the tabbar is unified with the titlebar.  (Bug 635397)  r=dao  a2.0=beltzner 
Disable opening of new tabs when double-clicking on the tabbar when the tabbar is unified with the titlebar, on GTK.  (Bug 635397)  r=dao  a2.0=beltzner 
Bug 635286.  Fix dynamic handling of :not() inside :-moz-any().  r=dbaron, a=dbaron 
CLOSED TREE 
Don't return NS_ERROR_ILLEGAL_INPUT when given an empty source buffer.  (Bug 638236)  r=smontagu  a2.0=blocking 
bug 623820 - Text zoom reflow messes up layout on AMO and other sites r=roc,dbaron a=blocking-fennec 
Bug 637660 - add sandbox.Android, and skip a few crashtests so we can run green on Android. r=dbaron, a=tests 
Bug 636753 - annotate reftest manifests to note tests that fail on Android (1 of 2). r=dbaron a=test-only 
Bug 636753 - annotate reftest manifests to note tests that fail on Android (2 of 2). r=dbaron a=test-only 
Needed to help CSS 2.1 meet Proposed Recommendation entrance criteria. 
Needed to help CSS 2.1 meet Proposed Recommendation entrance criteria. 
Needed to help CSS 2.1 meet Proposed Recommendation entrance criteria. 
Needed to help CSS 2.1 meet Proposed Recommendation entrance criteria. 
Remove unused (and unnecessarily slow) method gfxAlphaBoxBlur::PremultiplyAlpha.  (Bug 633369)  r=roc 
Remove tracking of which font families are quirky, since we no longer use the information.  (Bug 636040)  r=jdaggett 
Remove tracking of whether the font family comes from HTML, since we no longer use the information.  (Bug 636040)  r=jdaggett 
Fix nsXULScrollFrame parameter names that are named incorrectly and fix inconsistencies between .h and .cpp.  (Bug 636307)  r=ehsan 
Correctly handle non-repeating radial gradients in which all stops are at the same position.  (Bug 635222)  r=roc 
-moz-box-ordinal-group should not accept 0, since the code that uses the property ignores values of 0.  (Bug 636034)  r=bzbarsky 
Mark new test as failing on Mac due to rounding difference.  (Bug 635222) 
Mark new test as failing on Windows due to rounding difference.  (Bug 635222) 
Bug 614733.  Do exponential backoff on throttled refresh drivers.  r=dbaron 
Bug 621841.  Clear restyle flags in frameset kids when we process them.  r=dbaron 
Bug 616137.  Skip to the nearest ']' when parsing an attr selector fails.  r=dbaron 
Condition should be d2d rather than winWidget.  (Bug 635222) 
Merge layout work from projects/birch, part 1.  a=bsmedberg 
to the Web. 
in this series. 
later patch in this series. 
Separate the non-property parsed in ParseSingleValueProperty.  (Bug 636029)  r=bzbarsky 
Separate properties that are parsed in ParseSingleValueProperty with something other than ParseVariant.  (Bug 636029)  r=bzbarsky 
Add 'parsevariant_' parameter to CSS_PROP macro, with all properties initially zero.  (Bug 636029)  r=bzbarsky 
Fix keyword table entries in nsCSSPropList and code in nsRuleNode to match those used in the parser.  (Bug 636029)  r=bzbarsky 
Drive the ParseVariant calls in ParseSingleValueProperty from data rather than a big switch.  (Bug 636029)  r=bzbarsky 
Make generic mechanism for parsing lists of single values with ParseVariant.  (Bug 636029)  r=bzbarsky 
Use ParseSingleValueProperty for the components inside the 'transition' shorthand as well.  (Bug 636029)  r=bzbarsky 
Bug 630127.  Use a precise timer when we have animation frame callbacks.  r=dbaron 
Bug 608759.  Stop calling ContentEnumFunc through a function pointer; just call it directly.  r=dbaron 
consumer of GatherURL, parsing of @import rules. 
Rename CSS tokens to be closer to the names of newly-added tokens (BAD_STRING, BAD_URI) in the CSS 2.1 tokenization.  (Bug 604179, patch 2)  r=bzbarsky 
Move the consumption of beginning whitespace (for all forms) and ending whitespace (for the string form) inside url() into the tokenizer.  (Bug 604179, patch 3)  r=bzbarsky 
Fix incorrect indentation in nsCSSScanner::NextURL.  (Bug 604179, patch 4)  r=bzbarsky 
Disallow control characters less than space inside unquoted url(), per spec.  (Bug 604179, patch 5)  r=bzbarsky 
Include the close parenthesis in the URL token and make quoted URLs produce URL tokens rather than string tokens.  (Bug 604179, patch 6)  r=bzbarsky 
Needed to help CSS 2.1 meet Proposed Recommendation entrance criteria. 
Merge layout work from projects/birch, part 2. 
check mSIDs. 
Don't bloat nsCSSTable for members that only need to exist in nsRuleDataTable.  (Bug 636039, patch 3)  r=bzbarsky 
Allow the method field in nsCSSPropList.h to be used with or without prefixes.  (Bug 636039, patch 4)  r=bzbarsky 
Add nsRuleData::ValueForBackgroundColor, etc., methods for each CSS property.  (Bug 636039, patch 5)  r=bzbarsky 
Fix error in CSS vs. HTML precedence for the variable atttribute on the pre element.  (Bug 636039, patch 6)  r=bzbarsky 
Convert attribute mapping functions to property getters instead of accessing struct members.  (Bug 636039, patch 7)  r=bzbarsky 
Convert custom style rules to property getters instead of accessing struct members.  (Bug 636039, patch 8)  r=bzbarsky 
Remove unused *AtOffset methods.  (Bug 636039, patch 9)  r=bzbarsky 
Correct checks that were for the wrong pseudo-property (script-level vs. script-size-multiplier).  (Bug 636039, patch 10)  r=bzbarsky 
Convert nsRuleNode::Compute*Data to property getters instead of accessing struct members.  (Bug 636039, patch 11)  r=bzbarsky 
Remove now-unneeded parameters to COMPUTE_START_{INHERITED,RESET}.  (Bug 636039, patch 12)  r=bzbarsky 
Make the three CSS_PROP_INCLUDE_NOT_CSS properties much more like normal CSS properties, and (importantly) give them property IDs in the longhand range.  Replace CSS_PROP_INCLUDE_NOT_CSS with CSS_PROP_STUB_NOT_CSS for callers that need stubs.  (Bug 636039, patch 13)  r=bzbarsky 
inclusion. 
Instead of stack-allocating nsRuleData* structs in separate methods for each style struct, allocate an array of nsCSSValue using alloca.  (Bug 636039, patch 15)  r=bzbarsky 
This fixes the FIXME introduced in patch 4. 
Remove now unused nsRuleData* structs.  (Bug 636039, patch 17)  r=bzbarsky 
the other two. 
nsRuleNode::ComputeTextResetData 
Keep reset and inherited style struct IDs separate.  (Bug 639231, patch 1)  r=bzbarsky 
Fix indentation.  (Bug 639231, patch 2)  r=bzbarsky 
Make nsCachedStyleData store arrays of nsStyleStruct*, and use style struct IDs for faster access to those arrays.  (Bug 639231, patch 3)  r=bzbarsky 
Remove support for the variable attribute on the HTML pre element.  (Bug 642227)  r=bzbarsky 
Fix Windows bustage by using the alloca-inclusion incantation from jstracer.cpp.  (Bug 636039) 
Fix bustage from bug 636039, patch 13, by not trying to access stub entries in kOffsetTable for the CSS_PROP_STUB_NOT_CSS entries.  (Bug 636039) 
Remove changes that should have been removed from bug 636039 patch 14 when I revised by 636039 patch 13. 
Fix Windows optimized bustage from bug 636039 patch 15:  use placement new in a loop instead of using placement new[]. 
Check for the |var| element rather than the |variable| element in nsHTMLCopyEncoder::IncludeInContext.  (Bug 642716)  r=bzbarsky 
Merge layout work from projects/birch, part 3.  a=smaug 
Fix unexpected pass by removing failure annotation which points to the bug that was just fixed, bug 546315. 
Bug 602341 part 1.  Switch the pseudoclass Has*Arg functions from atoms to pseudoclass types.  r=dbaron 
Bug 602341 part 2.  Switch tree pseudoelements to using an nsAtomList (mClassList, to be exact), not an nsPseudoClassList (mPseudoClassList), for their list of atoms.  r=dbaron 
Bug 602341 part 3.  Get rid of the mAtom member of nsPseudoClassList.  r=dbaron 
Bug 602341 part 4.  Drop the nsIAtom arguments to AddPSeudoClass.  r=dbaron 
Bug 602341 part 5.  Get rid of some pseudoclass atoms in the CSS parser.  r=dbaron 
Bug 602341 part 6.  Make pseudoclass atoms private to nsCSSPseudoClasses.  r=dbaron 
Bug 606087.  Don't reframe if overflow styles change on inlines.  r=dbaron.  Test changes by Alexander Surkov, r=marco.zehe 
Bug 602341 part 7.  Fix serialization of tree selectors.  r=dbaron 
Merge layout work from projects/birch, part 4.  a=rs 
Backout changeset b97a060746f9 (Bug 620931 part 5) for causing bug 644790. 
Backout changeset 9df6e8117fe0 (Bug 620931 part 4) for causing bug 644790. 
Backout changeset b9e6454362ef (Bug 620931 part 3) for causing bug 644790. 
Backout changeset 5c3ed4fde1e4 (Bug 620931 part 2) for causing bug 644790. 
Backout changeset f406ffe65c08 (Bug 620931 part 1) for causing bug 644790. 
Backout changeset d60d8c1c1f8a (Bug 644297) for causing bug 644790. 
Backout changeset 208e4e19cc1a (Bug 643695) for causing bug 644790. 
Back out changeset 25beb9ced8d2 (bug 418975) for causing crash bug 645072. 
Mark tests added in changeset 03070beac9e7 (bug 418975) as failing, since the patch is being backed out for causing crash bug 645072. 
Add crashtest for bug 645072. 
Mac GfxInfo::GetFeatureStatusImpl must assign to aStatus when it returns success.  (Bug 645376) 
r=dbaron 
Make mRestorePos a logical position and convert to physical position when scrolling. Bug 638753, r=dbaron 
nsCSSValues for the three non-CSS properties. 
Remove nsCSSDataBlock::kOffsetTable, which is no longer needed.  (Bug 645620, patch 2)  r=bzbarsky 
Move nsCSSCornerSizes from nsCSSStruct.h/cpp to nsCSSValue.h/cpp.  (Bug 645620, patch 3)  r=bzbarsky 
Remove nsCSSStruct.h/cpp.  (Bug 645620, patch 4)  r=bzbarsky 
Remove the datastruct_ and member_ fields of the CSS_PROP macro.  (Bug 645620, patch 5)  r=bzbarsky 
Use PL_strncpyz in DR_FrameTypeInfo.  (Bug 639220)  r=dbaron 
Bug 645938.  Make sure to set mFlushesNeeded for all content lists.  r=dbaron 
Bug 645943.  Initialize mLastTimerInterval correctly.  r=dbaron 
Bug 562701, part c: Use Element in nsStyleAnimation::ComputeValue; r=dbaron 
Bug 313351.  ContentStatesChanged should take only one argument.  r=dbaron 
Bug 633271 part 2.  Simplify nsEventStateManager::SetContentState.  r=dbaron 
Make nsAutoLock::NewLock, nsAutoLock::DestroyLock, nsAutoMonitor::NewMonitor, and nsAutoMonitor::DestroyMonitor inline so that they have no overhead in non-DEBUG.  (Bug 594666)  r=cjones 
Initialize statics in OnSemaphoreCreated so that we get data about locks created before any locks are locked.  (Bug 594666)  r=cjones 
Use nsAutoLock::NewLock, nsAutoLock::DestroyLock, nsAutoMonitor::NewMonitor, and nsAutoMonitor::DestroyMonitor as required by the API.  (Bug 594666)  r=cjones 
Add assertions that fire when callers using nsAutoLock or nsAutoMonitor use PR_NewLock or PR_NewMonitor directly.  (Bug 594666)  r=cjones 
Fix bustage from bug 594666. 
Bug 598832 part 1.  Move TreeMatchContext out to where things other than the rule processor can get at it.  r=dbaron 
Bug 598832 part 2.  Move tracking of the scope root to the TreeMatchContext.  r=dbaron 
Bug 598832 part 3.  Stop keeping track of whether the node or document is HTML in the RuleProcessorData.  r=dbaron 
Bug 598832 part 4.  Move tracking of whether we're in quirks mode to the TreeMatchContext.  r=dbaron 
Bug 598832 part 5.  Move caching of nth-index stuff to the TreeMatchContext.  r=dbaron 
Bug 598832 part 6.  Stop caching the language of elements; just reget it from the DOM as needed.  r=dbaron 
Bug 598832 part 7.  Stop caching the content state of elements; just reget it from the DOM as needed.  r=dbaron 
Bug 598832 part 8.  Move NodeMatchContext higher up the callstack, so that we don't have to call IsLink as much.  r=dbaron 
Bug 598832 part 9.  Stop caching the element's local name; just get it from the DOM as needed.  r=dbaron 
Bug 598832 part 10.  Stop caching information about the element's attributes; just get it from the DOM as needed.  r=dbaron 
Bug 598832 part 11.  Stop caching the parent content pointer and the element pointer; just use the passed-in aElement.  r=dbaron 
Bug 598832 part 12.  Stop using RuleProcessorData in SelectorMatchesTree.  r=dbaron 
Bug 598832 part 13.  Stop using RuleProcessorData in the DOM-exposed selector-matching methods.  r=dbaron 
Bug 598832 part 14.  Make RuleProcessorData a stack-only class.  r=dbaron 
Bug 598832 part 15.  Make RuleProcessorData not inherit from TreeMatchContext anymore, so we can decouple the lifetimes.  r=dbaron 
Bug 598832 part 16.  Use a single TreeMatchContext for all the style resolution that the frame constructor does as part of a single frame construction batch.  r=dbaron 
Bug 645750: Remove unused variables 'variantMask' and 'table' from nsCSSParser. r=dbaron 
Rev IIDs of interfaces that derive from nsIDOMDocument due to methods added to nsIDOMDocument.  (Bug 639849)  r=bzbarsky 
Don't call SetSheet with a null sheet.  (Bug 645951)  r=bzbarsky 
Go through the normal restyling codepath in RebuildAllStyleData so that we handle in-progress transitions correctly.  (Bug 583219)  r=bzbarsky 
Add test for bug 583219.  r=bzbarsky 
bug 418975 - support &shy; when calculating min width for table and fieldset. r=roc. landing on the CLOSED TREE after dbaron went to bed :) 
Bug 640545 - Specify that the load has failed in the error message when a reftest load failed. r=dbaron 
Bug 591341 - Add color keywords for default text and background colors. r=dbaron 
Bug 59109 Part 1: Adding -moz-text-decoration-color and -moz-text-decoration-style r=dbaron, sr=bzbarsky 
Bug 59109 Part 2: Cleaning up current text decoration implementation r=dbaron 
Bug 59109 Part 3: Implement text-decoration-color and text-decoration-style rendering r=dbaron 
Bug 59109 part 4: reftests for text-decoration-color and text-decoration-style r=dbaron 
Bug 473817 - allow conditional 'include' in reftest manifests. r=dbaron, a=test-only 
Rollup of bug 645263 and bug 646259: Switch to mozilla:: sync primitives. r=cjones,dbaron,doublec,ehsan src=bsmedberg
Bug 645263, part 0: Count sync primitive ctor/dtors. r=dbaron
Bug 645263, part 4: Migrate everything else to mozilla:: sync primitives. r=dbaron
Bug 645263, part 7: Disable tracemalloc backtraces for xpcshell tests. r=dbaron
Bug 635373. Add layersOpenGL to the reftest harness. r=dbaron 
Rollup of bug 645263 and bug 646259: Switch to mozilla:: sync primitives. r=cjones,dbaron,doublec,ehsan src=bsmedberg
Bug 645263, part 0: Count sync primitive ctor/dtors. r=dbaron
Bug 645263, part 4: Migrate everything else to mozilla:: sync primitives. r=dbaron
Bug 645263, part 7: Disable tracemalloc backtraces for xpcshell tests. r=dbaron
Bug 645423 - Initialize the poison value also for DEBUG_TRACEMALLOC_PRESARENA builds.  r=dbaron 
Bug 645423 - Don't poison nsRuleData in --enable-valgrind builds.  r=dbaron 
Added Browser::forceChromeReflow() with a reflow-forcing hack thanks to dbaron.
Bug 567472 - content.css performance issues [r=mfinkle,dbaron] 
Bug 646731. Avoid float-to-double promotion in Is(Margin|Pading)Zero. r=dbaron
Back out 1edfae12015b (Bug 642246) due to mobile unittest orange. 
Back out fd6ad8e567c9 (Bug 639179 Part 5) due to mobile unittest orange. 
Back out 97a7a9f80725 (Bug 639179 Part 4) due to mobile unittest orange. 
Back out e5f8db95d0c5 (Bug 639179 Part 3) due to mobile unittest orange. 
Back out 195c8ad12184 (Bug 639179 Part 2) due to mobile unittest orange. 
Back out 5d997f85c1b9 (Bug 639179 Part 1) due to mobile unittest orange.  CLOSED TREE 
Protect the xptiWorkingSet's tables with a lock.  (Bug 627985, bug 614480) 
Backout changeset e84a9cf9fe6c (bug 648570) for its associated patch not compiling. 
Backout changeset e6d044d30abf (bug 607741) for not compiling. 
Implement step-start, step-end, and steps() timing functions.  (Bug 435442, patch 0)  r=bzbarsky 
Implement parsing and computation for the new properties in css3-animation.  (Bug 435442, patch 1)  r=bzbarsky 
Share implementation of GetCSSParsingEnvironment so we can use it for both style rules' declarations and keyframe rules' declarations.  (Bug 435442, patch 2)  r=bzbarsky 
    such, and thus never cloned. 
Fix style rule inheritance macros.  (Bug 435442, patch 4)  r=bzbarsky 
Implement parsing and storage of @keyframes rule.  (Bug 435442, patch 5)  r=bzbarsky 
Add support for cascading of keyframes rules.  (Bug 435442, patch 6)  r=bzbarsky 
Refactor some parts of nsTransitionManager into common base class to be shared with AnimationManager.  (Bug 435442, patch 7)  r=bzbarsky 
Make AnimValuesStyleRule::AddEmptyValue infallible.  (Bug 435442, patch 8)  r=bzbarsky 
Add interface for taking over the refresh driver in a test (i.e., mocking time).  (Bug 435442, patch 9)  r=bzbarsky 
Factor some common testing code into animation_utils.js.  (Bug 435442, patch 10)  r=bzbarsky 
Implement and test animation of css3-animations.  (Bug 435442, patch 11)  r=bzbarsky 
Add animation event interface and data structures.  (Bug 435442, patch 12)  r=smaug 
Note:  tested by the pseudo-element tests in patch 14. 
Fire animation events at the correct times.  (Bug 435442, patch 14)  r=bzbarsky 
ifdef CSS animations so that the feature can be backed out by flipping the switches in configure.in and then reverting the changes to the following four files appropriately:  nsIDOMCSS2Properties.idl, nsIDOMCSSRule.idl, property_database.js, test_transitions_computed_values.html.   (Bug 435442, patch 15)  r=bzbarsky 
Backout changeset b48ebf9695bb for causing failures in layout/generic/test/test_selection_expanding.html . 
Fix 32-bit mac opt bustage, bug 435442, r=dbaron 
Back out changeset 7dcd0d16cc08 (bug 547941) for causing jsreftest crashes on debug builds. 
Backout changeset b583111a88aa (bug 585152) for causing mochitest-browser-chrome orange on opt builds. 
bug 633299 - don't discard font entries for @font-face rules that haven't changed. r=dbaron 
Bug 645491 part 1.  Rename ClassSelector to AtomSelector.  r=dbaron
Bug 645491 part 2.  Speed up changes to id attributes on pages with lots of id selectors.  r=dbaron
bug 633299 - don't discard font entries for @font-face rules that haven't changed. r=dbaron 
Bug 650653 - Fix test_ident_escaping.html and test_parse_ident.html when using DBCS locales. r=dbaron 
Bug 641426. Part 3.5: Remove usage of nsMargin::TopLeft and nsMargin::IsZero. r=dbaron 
Bug 641426. Part 5: Avoid operator== where possible to distinguish between 'equal edges' and 'equal areas' for rectangles. r=dbaron,sr=cjones 
Bug 651014 - Put test filename in "can't drawWindow remote content" error message, r=dbaron 
When a wrapper is expired, do deferred release of mIdentity to fix bug 629610, and also lock the wrapped native map appropriately to fix bug 645442.  Accomplish both of these by sharing more code between FlatJSObjectFinalized and ~XPCWrappedNative; r=peterv 
Protect the xptiWorkingSet's tables with a lock.  (Bug 627985, bug 614480); r=dbaron,bsmedberg 
Don't hold nsProxyObjectManager's lock while calling delete on an nsProxyEventObject.  (Bug 650674)  r=bsmedberg 
Make nsIFrame::GetOrdinal accept all values that the CSS parser accepts (which currently adds no values).  (Bug 644514 patch 1)  r=bzbarsky 
Move AddRef to before the unlock.  (Bug 650674, patch 2)  r=bsmedberg 
Share code to count the length of the transition/animation property array.  (Bug 651801, patch 1)  r=bzbarsky 
Share code to compute timing functions.  (Bug 651801, patch 2)  r=bzbarsky 
Note that many callers already skipped the null-checks. 
Allow null media query cache key in some places.  (Bug 542058, patch 2)  r=bzbarsky 
http://dev.w3.org/csswg/cssom-view/#extensions-to-the-window-interface 
Remove parsing and storage code for CSS 2.0 aural properties.  (Bug 649119)  r=bzbarsky 
Ensure nsRefreshDriver::MostRecentRefresh tells the truth even when we stop and restart timers.  (Bug 650469)  r=bzbarsky 
Add diagnostic for nested @-rules that are ignored.  (Bug 652014)  r=bzbarsky 
Use saner index names in nsAnimationManager.  (Bug 649400)  r=bzbarsky 
dropping the entire property rather than dropping a single segment. 
Make leaksoup not print static ctor/dtor warnings. 
Fix broken nsLineList::swap implementation.  (Bug 652053)  r=roc 
Don't construct image loaders for null border-image.  (Bug 652052)  r=bzbarsky 
Make nsBox more careful about accepting XUL attributes only on XUL elements.  (Bug 102440)  r=bzbarsky 
unicode-bidi should inherit into ::-moz-cell-content, ::-moz-anonymous-block, ::-moz-anonymous-positioned-block, and ::-moz-fieldset-content.  (Bug 604294)  r=bzbarsky 
Should check link-related bits before reusing style context for root element.  (Bug 652268)  r=bzbarsky 
Reduce scope of :hover quirk:  make it apply normally if it has a class selector, and be quirky (only apply to links) only when actually global.  (Bug 197686)  r=bzbarsky 
Bug 648299 -moz-text-decoration-style: -moz-none doesn't work r=dbaron 
Bug 647421 -moz-text-decoration-color and -moz-text-decoration-style should be reset by text-decoration r=dbaron, sr=bzbarsky 
Bug 652139 - Use an integer type in DocumentViewerImpl::SetMinFontSize, instead of float. r=dbaron
Push a context on the stack when notifying a MediaQueryListListener.  (Bug 652317)  r=smaug 
r=dbaron.
Passing bug 646184 crashtest assertion. (r=dbaron) 
Fix for bug ug 652135 (Add more CC edge names). r=dbaron. 
Bug 649163.  Stop refcounting the return values from GetCSSParsingEnvironment, where possible.  r=dbaron 
Bug 652301.  Show focus outlines on all focusable things in HTML, not just on a whitelist of them. r=dbaron
Bug 652301 followup.  Also don't show focus outlines on frame and iframe, since editor tests depend on that.  r=dbaron 
bug 650639 - cancel current font-downloaders when updating the user font set. r=dbaron 
Bug 590181 part 1 - Fix tests to avoid rounding errors. Original patch from jlebar. r=dbaron 
Remove incorrect nulling out of members that duplicates the correct code in Shutdown.  (Bug 652385)  r=bzbarsky 
When we know a block can't fit, end ReflowBlockFrame early, in case a zero-height block tries to.  (Bug 652178)  r=roc 
Don't set mNeedsRefreshes to false when we get two refreshes at the same time stamp.  (Bug 651456)  r=bzbarsky 
Add support for regexp() function in @-moz-document rule.  (Bug 398962)  r=bzbarsky 
Fix comment describing nsHTMLReflowState::availableWidth.  (Bug 653356)  r=bzbarsky 
Bug 647020 - Tweak CSS of reftest anaylzer. r=dbaron 
Bug 647080 - Give the reftest analyzer the ability to load a log from the hash. r=dbaron 
Convert use of preferences API in style system mochitests to SpecialPowers.  (Bug 653461, patch 1)  r=bzbarsky 
Convert use of DOMWindowUtils in style system mochitests to SpecialPowers.  (Bug 653461, patch 2)  r=bzbarsky 
Convert use of zoom API in style system mochitests to SpecialPowers.  (Bug 653461, patch 3)  r=bzbarsky 
Add additional test for @-moz-document regexp() case-sensitivity (after discussion in bug 653495). 
Assert that we destroy ElementAnimations/ElementTransitions through its Destroy() method.  (Bug 653644)  r=bzbarsky 
Lower the level in the cascade of animations.  (Bug 653645)  r=bzbarsky 
bug 653977 - ensure font downloads are re-triggered if necessary after userFontSet update. r=dbaron 
Passing bug 646184 crashtest assertion. (r=dbaron) 
Audit for places in style rule code that need to check for a null sheet.  (Bug 634373)  r=bzbarsky 
Make XPCOM_CC_DRAW_GRAPHS work at shutdown (in addition to working for non-shutdown collections).  (Bug 652056, patch 3)  r=peterv 
string, since that is what CSS 2.1 chapter 4's tokenization suggests. 
Handle failure of GatherIdent, which can (starting with the next patch) fail when the character sequence is not an identifier.  Additionally, change the tokenization of a hash (#) followed by a non-name character or EOF to tokenize as DELIM (eCSSToken_Symbol) rather than as eCSSToken_Hash.  This only changes the behavior in the EOF case, because the only caller (color parsing) that accepts eCSSToken_Hash (rather than only eCSSToken_ID) checks the length. (Bug 384672, patch 2)  r=bzbarsky 
Allow ParseAndAppendEscape to fail when the stream does not contain an escape, and make callers handle this failure appropriately.  This changes our behavior when backslash immediately precedes end-of-stream.  (Bug 384672, patch 3)  r=bzbarsky 
Only allow escaped newlines inside strings (which includes url() tokens that contain strings).  (Bug 384672, patch 4)  r=bzbarsky 
Fix the remaining todo test in test_parse_rule.html, which is invalid since ~= selectors never match anything containing spaces.  (Bug 384672, patch 5)  r=bzbarsky 
Bug 650505 - Get rid of ComputedCSSStyleDeclaration. r=dbaron,jst,peterv 
bug 253317 - part 1 - implement -moz-hyphens property in CSS. r=dbaron 
Bug 349259.  Allow pages to override line-height on form controls, except for <select>.  r=dbaron 
Bug 541496 prelim 2: nuke trailing whitespace in layout/style/Loader.{h,cpp}. rs=dbaron 
Bug 471588 - Remove String docs. r=dbaron DONTBUILD 
Bug 451165.  Fix ParseColorString to report errors when there's garbage at the end of the color.  r=dbaron 
bug 655198 - don't parse 'all' as a value for -moz-hyphens. r=dbaron 
Bug 414638 - Disallow mixed space/comma syntax for CSS rect() value; r=dbaron 
Bug 652192 - Remove layout/html; r=dbaron,bernd 
b=647469 continue after crashes in addr2line r=dbaron 
Bug 567872 - Layout part of the progress element. r=roc,dbaron 
Bug 633209 - Add ::-moz-progress-bar to access the anonymous div inside the progress element. r=dbaron 
Bug 642667 - Let authors set the progress bar's width when in indeterminate state. r=dbaron 
In cycle collector dumps, allow much more room for document URLs.  (Bug 652056)  r=peterv 
List value range restrictions more reliably in nsCSSPropList.  Change 'font-size-adjust' to reject negative values.  (Bug 653842, patch 1)  r=bzbarsky 
Unify positive-nonzero value restriction (used for integers) with one-or-larger value restriction (used for floats) as a single one-or-larger value restriction.  (Bug 653842, patch 2)  r=bzbarsky 
Ensure nsStyleAnimation doesn't produce values outside valid ranges.  (Bug 653842, patch 3)  r=bzbarsky 
-moz-animation-play-state should not be part of the -moz-animation shorthand.  (Bug 654890)  r=bzbarsky 
Propagate code that used to be in CSSParserImpl::ParseSingleValueProperty and mark -moz-script-size-multiplier and -moz-script-min-size as inaccessible to parser.  (Bug 636029, patch 9)  r=bzbarsky 
Bug 567872 - Layout part of the progress element. r=roc,dbaron 
Bug 633209 - Add ::-moz-progress-bar to access the anonymous div inside the progress element. r=dbaron 
Bug 642667 - Let authors set the progress bar's width when in indeterminate state. r=dbaron 
Bug 638112 - Assertion failure: chars[length] == jschar(0).  r=dbaron 
Bug 652775.  Remove the default nowrap styling on <legend>.  r=dbaron 
Bug 597291.  Create nsIURI objects lazily for nsCSSValue::URL, so that we don't pay the cost of creating the ones we don't actually need.  r=dbaron
Bug 645142 - "ABORT: negative lengths and percents should be rejected by parser" with huge font size.  r=dbaron 
Bug 645142 - A crash test.  r=dbaron 
Bug 650228. Invalidate ThebesLayers when a linebox is moved. r=dbaron 
Bug 648531 - Use 'none' instead of 'hidden' so that collapsing a table with rules=none doesn't disappear the table border. r=dbaron r=bz 
Bug 634648 - Mark tests that require to be run in debug mode (r=dbaron,dmandelin) 
Bug 634648 - Mark tests that require to be run in debug mode (r=dbaron,dmandelin) 
Bug 652486 Computed value of text-decoration should be empty when its style or color is not initial value r=dbaron 
Bug 611922.  When reparenting style contexts, use the visitedness of our new parent unless we're the style context for a link.  In that situation, assume that our visitedness did not change.  r=dbaron 
Bug 477462 - margin-collapsing test suite, wave 4: dynamic horizontal, block, table, caption sibling margins. r=dbaron 
Bug 658982.  Go back to not allowing changes to line-height on inputs (but continue to allowing it for <button>s, for site compat reasons). r=dbaron 
Bug 647885 part 1.  Keep better track of whether our computed background-position was specified with percentages.  r=dbaron 
Bug 647885 part 2.  Keep better track of whether our computed background-size was specified with percentages.  r=dbaron 
Bug 647885 part 1.  Keep better track of whether our computed background-position was specified with percentages.  r=dbaron 
Bug 647885 part 2.  Keep better track of whether our computed background-size was specified with percentages.  r=dbaron a=sheriff 
Bug 529750 part 1.  Don't walk non-CSS UA rules when checking for important UA rules.  r=dbaron 
Bug 529750 part 2.  Assume that in AssertNoImportantRules and AddImportantRules the rule is a StyleRule.  r=dbaron 
Bug 529750 part 3.  Switch nsRuleWalker to only calling GetImportantRule on CSS StyleRules.  r=dbaron 
Bug 529750 part 4.  Move GetImportantRule to css::StyleRule.  r=dbaron 
Bug 656379 part 3.  Set :hover and :active state for labeled elements when their label has that state.  r=dbaron 
Bug 631529.  Pass a TreeMatchContext into ReResolveStyleContext so that we can share the nth-index cache across the entire reresolution.  r=dbaron 
Bug 529750 followup; reenable the assertion.  r=dbaron 
Bug 659248 - Increase pseudo-element enum storage from 4 bits to 5 bits. r=dbaron 
Don't adjust the horizontal position for text-indent on right-to-left lines. Bug 641444, r=dbaron 
Reftest for bug 641444. r=dbaron 
Bug 598833 part 3.  Store hover and active state directly on elements.  r=dbaron 
Bug 598833 part 4.  Store urltarget and dragover state directly on elements.  r=dbaron 
Bug 655549 and bug 645768.  Rejigger the quirk table color rule to work more reliably.  r=dbaron 
Bug 660398.  Speed up test_value_cloning.  r=dbaron
Address missed review comment from bug 644514 patch 1: remove unused macro.  r=bzbarsky 
Allow -moz-box-ordinal-group: 0 (but not negatives, since we store the value as PRUint32).  (Bug 644514)  r=bzbarsky 
Needed to help CSS 2.1 meet Proposed Recommendation entrance criteria. 
Needed to help CSS 2.1 meet Proposed Recommendation entrance criteria. 
Needed to help CSS 2.1 meet Proposed Recommendation entrance criteria. 
Add needs-focus annotation for a bunch of tests with selects in them to try to fix intermittent failures.  (Bug 626103) 
Add needs-focus annotation for native-theme listbox tests.  (Bug 659708) 
Add missing break (Bug 398962)  r=bzbarsky 
Add test for rule serialization to catch any bugs in DocumentRule::GetCssText that are like the bug in the DEBUG-only DocumentRule::List in the initial patch for bug 398962. 
Fix error in comment.  r=bzbarsky 
Bug 658995 part 1 - Properly divert memory allocation functions for trace malloc with standalone glue on Linux. r=dbaron 
Make assertion about timestamps in nsAnimationManager::GetAnimationRule non-fatal (bug 652976).  r=bzbarsky 
Fix Windows bustage (calling convention mismatch) from changeset 592b0c82089d  (bug 467669 part 1). 
Bug 658995 part 1 - Properly divert memory allocation functions for trace malloc with standalone glue on Linux. r=dbaron 
Bug 664924 - Remove MOZ_CSS_ANIMATIONS ifdefs. r=dbaron 
Bug 665833 - Use nsCRTGlue rather than nsCRT in nsStyleStruct.cpp. r=dbaron 
Bug 312156 - Implement CSS3 text-overflow.  r=dbaron 
Bug 665833 - Use nsCRTGlue rather than nsCRT in nsStyleStruct.cpp. r=dbaron 
Bug 665686 - Fix unused variable warnings in layout/style/; r=dbaron 
Bug 441197: Explicitly close file descriptors in nsTraceRefcntImpl rather than expecting the OS to clean up properly. r=dbaron 
Bug 441197: Explicitly close file descriptors in nsTraceRefcntImpl rather than expecting the OS to clean up properly. r=dbaron 
Bug 667520.  Fix nth index cache to work correctly when nth-child selectors are only applied to some elements of a child list.  r=dbaron 
Bug 667948: Convert canvas text measurement widths from app units to pixels *after* they switch from integers to floats. r=roc 
Test for bug 667947. r=dbaron 
Back out changeset 85e5b0ed7081, which was landed with the wrong bug number (really bug 667947, but marked as bug 667948) in order to reland it. 
Convert canvas text measurement widths from app units to pixels *after* they switch from integers to floats.  (Bug 667947)  r=roc 
Make nsMenuFrame::SizeToPopup consider its own border/padding properly, by increasing the popup's content's width by the larger of its own border/padding or the popup's scrollbar, rather than only the latter.  (Bug 623922)  r=enndeakin 
although it's constant at "long i..." on Windows XP. 
Don't assert when interpolating font-weight to a result less than 100.  (Bug 664927)  r=bzbarsky 
Remove NS_STYLE_LIST_STYLE_OLD_* constants to fix computed list-style-type style resulting from type attribute on lists.  (Bug 665857)  r=bzbarsky 
Convert canvas text measurement widths from app units to pixels *after* they switch from integers to floats.  (Bug 667947)  r=roc 
Update revision of jetpack tested in jetpack tests to use one that is compatible with 8.0a1. 
bug 669487: update revision of Add-on SDK tests to one that works on Python 2.5; test-only, r=dbaron 
Only apply overflow area reported by native theme to the visual overflow, and not to the scrollable overflow.  (Bug 669284) r=bzbarsky 
Fix typo in comment within nsFrame.cpp (no bug) rs=dbaron DONTBUILD 
Bug 516547.  Remove the browser.display.base_font_scaler preference and all the code to process it.  r=bzbarsky, sr=dbaron. 
Bug 664061: Remove isindex code from layout. r=dbaron 
Bug 505115 - Part 3 - Convert nsStyleTransformMatrix to be backed by a 4x4 matrix. r=dbaron 
Bug 652301.  Show focus outlines on all but a blacklist of focusable things in HTML, not just on a whitelist of them. r=dbaron 
display:inline. 
Bug 505115 - Part 6 - Implement the 3d -moz-transform functions. r=dbaron 
Bug 505115 - Part 9 - Implement the perspective() transform function and the perspective CSS property. r=dbaron 
Bug 505115 - Part 10 - Implement the backface-visibility CSS property. r=dbaron 
Bug 505115 - Part 11a - Add nsCSSValueTriplet and optionally read a z component to -moz-transform-origin. r=dbaron 
Bug 505115 - Part 12a - Implement -moz-perspective-origin style property. r=dbaron 
Fix text-decoration positioning in quirks mode and set overflow areas to match.  (Bug 403524)  r=dbaron
Only override font properties when in quirks mode. (Bug 403524)  r=dbaron
Fix apparent rounding issues with new text decoration code. (Bug 403524)  r=dbaron
Bug 403524:  Draw correct colors for text-decorations on default-color shadows in quirks mode. r=dbaron
Bug 403524: Remove the standards-mode text-decoration code and use the quirks-mode code in all modes. r=dbaron 
Bug 403524: Merging codepaths introduced some reftest failures; we need to fix them (r=dbaron)
Bug 403524: Make textarea not inherit text decorations and correct the failing reftest (r=dbaron)
Bug 223764: Inlines inside inlines that draw text-decorations shouldn't alter the baseline. (r=dbaron)
Bug 676057.  Get rid of the malloc-happy AttributeSelectorEntry class.  r=dbaron 
Followup to changeset c9dff8b867f0d74ef23396bcb896696cf9436b08 (bug 403524): test passes on Android now as well (bug 585684 / bug 586748). 
Bug 675470 - Handle eCSSKeyword_interpolatematrix in AddTransformLists. r=dbaron 
Bug 675711 - test_computed_style.html fails partly on Fennec because of lack of scrollbars. r=dbaron, a=test-only 
Bug 585069, support ratio scaling for xul images, r=dbaron 
Bug 676174.  Remove the unncessary RuleHash_CSMatchEntry and resulting complications from AtomSelector_CSOps.  r=dbaron 
Bug 609714 - Properly compute background image size for vector background images lacking intrinsic sizes or an intrinsic aspect ratio.  r=dholbert, r=dbaron 
Bug 663375 - When text color is darkened, darken text-decoration color too.  r=dbaron 
Backout changeset aac29f0bdd10 (bug 676413) for causing content/html/content/test/test_bug664299.html failures. 
Backout changeset 289becc07558 (bug 676413) for causing content/html/content/test/test_bug664299.html failures. 
Backout changeset 89a9f4a88d5b (bug 676413) for causing content/html/content/test/test_bug664299.html failures. 
Bug 676538: Fix regression that caused text-decorations on inline *child* of block to draw at the offset for the block rather than the inline.  r=dbaron
Add reftest for bug 676538 (text-decoration offsets on block, child inline, and grandchild inline). 
Media queries spec defines <resolution> values as allowing <number>, not just <integer>.  (Bug 677642)  r=bzbarsky 
Bug 386444. Pass the correct current scroll position as the default value to GetCoordAttribute. r=dbaron 
Bug 670467.  Correctly reresolve style on non-first continuations and non-first parts of {ib} splits even when we're restyling both an ancestor of the element and the element itself.  r=dbaron 
Bug 664453: Stop jprof from crashing before a profile is selected on JP_START.  r=dbaron DONTBUILD 
Bug 674384: jprof - better thread support, support e10s profiling and profile-by-capture-section.  r=dbaron DONTBUILD 
requested (which helps nsFontCache effectiveness). 
inflation work to happen in bug 627842). 
(which helps nsFontCache effectiveness). 
debugging code. 
within all of layout. 
Bug 673984 - Fix crash in nsImageLoader::DoRedraw by clearing image loaders even on ignore of frame destruction callbacks. [r=dbaron,dholbert] 
Bug 446569 - Implement prefixed CSS3 columns rule r=dbaron 
min/max-width/height properties. 
Bug 679717 - Add "mac-lion-theme" system metric in order to allow for Lion-specific CSS rules without the need for per-file manifest overrides. r=dbaron 
Bug 677173 - Remove 3D transform IDL properties until it is enabled by default. r=dbaron 
Bug 659932 - GLXtest process should check for GLX >= 1.3 before calling glXCreatePixmap - r=dbaron
wrapping. 
Actually run the reftests in layout/xul/base/reftest/ . 
Annotate reftest for bug 442228 as failing on Android. 
bug 211636 replace shared table attribute mapping by a more rule conforming mapping r=dbaron 
Bug 677582 - Implement CSS3 text-overflow: <left> <right> in the style system.  r=dbaron 
Make tests for bug 403524 use local images rather than http: ones. 
themselves). 
checking text decorations at all). 
Bug 680747 - Set a min and pref width to nsProgressFrame. r=dbaron 
Bug 680747 - Set a min and pref width to nsProgressFrame. r=dbaron 
Bug 562815 part 5 - Split StyleWithDeclarationAdded; r=dbaron 
Bug 562815 part 6 - Check if property is cached in rule tree; r=dbaron 
Bug 446569 - Implement prefixed CSS3 columns shorthand r=dbaron 
Add missing </title> that was causing these tests to be commented out.  (Bug 681403) 
Bug 653649 - New way of getting child lists from frames.  (part 1/5) r=roc sr=dbaron
Bug 653649 - New way of getting child lists from frames.  (part 2/5) r=roc sr=dbaron
Bug 681161 - Shrink nsCSSCompressedDataBlock on 64-bit platforms.  r=dbaron. 
Bug 505115 - Part 14a - Add -moz-transform-style css property. r=dbaron 
Bug 505115 - Part 17 - Add style tests for the new transform functions, and transitions. r=dbaron 
Bug 677173 - Remove 3D transforms IDL properties because they are disabled. r=dbaron 
Bug 669028 part.11 layout/style should use mozilla;LookAndFeel rather than nsILookAndFeel r=dbaron 
Add comment pointing out reason for distinguishing anonymous blocks for positioned inlines.  No bug. 
Note:  This adds STACK_ARENA_ to the beginning of the names of a few macros. 
Add test for case that I'm worried about breaking in bug 665597. 
Bug 669836 - Make reftest-analyzer.xhtml validate as XHTML5. r=dbaron 
Bug 611503 Constructing an nsTDependentString from an nsTAString makes no sense r=dbaron,dwitte 
Bug 611503 Constructing an nsTDependentString from an nsTAString makes no sense r=dbaron,dwitte 
bug 686312 - websockets should not reject non character utf-8 sequence as invalid r=dbaron 
Bug 686656.  Make sure to skip animation rules as well as transition rules when we're reparenting a style context when not processing an animation restyle.  r=dbaron 
Add mochitest for bug 686656.  r=bzbarsky 
Bug 505115 - Part 16 - Implement transitions/animations for 3d transforms. r=dbaron, derf 
Bug 505115 - Part 18 - Make the perspective() transform function fail with numbers <= 0. r=dbaron 
Bug 505115 - Part 19 - Make the matrix*() transform function handles both length and number values. r=dbaron 
Bug 681755.  Switch some of the style system's arrays in hashtables to be auto arrays.  r=dbaron 
Bug 688749 - reftest.js will throw an exception if we do a getPref and the pref doesn't exist. r=dbaron 
Bug 659828 - Part 1: Apply table margins to the outer table frame instead of the inner table frame (also fixes bug 87277); r=dbaron
Bug 689560 - Add progress indication to Reftest. r=dbaron 
Update to rules in current css3-mediaqueries spec for handling malformed media queries:  all of the handling is now at the query level rather than the query list level.  (Bug 689319)  r=bzbarsky 
Bug 673820 - Rewriting StringToInteger function to match behavior of Rules for parsing Integers specified in spec. r=jonas f=mounir,Ms2ger,dbaron 
Bug 690962 - 'Remove useless assertion now that we use bool instead of PRBool'. r=dbaron. 
Bug 682919 - Add eCSSKeyword_UNKNOWN terminators to 3d transforms style tables. r=dbaron 
bug 691245: Fix jprof under Fedora 15 (needs -ldl)  r=dbaron 
Bug 681755.  Switch some of the style system's arrays in hashtables to be auto arrays.  r=dbaron 
Bug 681755. Switch some of the style system's arrays in hashtables to be auto arrays. r=dbaron 
Bug 691959: Remove unused variable 'bool done' from nsCSSFrameConstructor.cpp. r=dbaron 
Bug 693155 - Add parens to clarify operator precedence in TransformFunctionsMatch (nsStyleAnimation.cpp); r=dbaron 
Bug 682088.  Allow arbitrary CSS colors as values of the various color preferences.  r=dbaron 
Make the Darwin TimeStamp implementation assert when used before it is initialized.  (Bug 693821)  r=bzbarsky 
Bug 690892 - Replace PR_TRUE/PR_FALSE with true/false on mozilla-central; rs=dbaron
Make page style menu code reuse existing media query code rather than writing its own.  (Bug 689319)  r=dao 
Update to rules in current css3-mediaqueries spec for handling malformed media queries:  all of the handling is now at the query level rather than the query list level.  (Bug 689319)  r=bzbarsky 
Support for unicode-bidi: -moz-isolate and -moz-plaintext in style system. Bug 613149, r=dbaron 
Make NOISY_VERTICAL_ALIGN compile again.  Not part of the build.  No review. 
Bug 543151 part 1: Remove stream-processing code from nsCSSScanner.cpp. r=dbaron 
Bug 543151 part 2: Remove the special (but inconsistent with the error console) handling of hard tabs; small tidiness tweaks. r=dbaron 
Bug 659963: consistently use infallible malloc in the CSS parser. r=dbaron 
Bug 696281 - Disable trace malloc stacks on OS X too. r=dbaron. 
Bug 693801: Remove redundant initialization for nsHTMLReflowState::mFlags.mIsTopOfPage. r=dbaron 
Bug 696266 - Add some values to layout/style/test/property_database.js. r=dbaron 
Bug 681535 - XUL reflow telemetry; r=dbaron 
Bug 685400 - add "to" syntax and "magic corner" feature to CSS linear gradient. r=dbaron 
Bug 696281 - disable trace malloc stacks on OS X too. r=dbaron.
Bug 608756.  Cache display structs in the ruletree even for floated and positioned elements.  r=dbaron
Bug 667576.  Handle visited colors correctly in MathML.  r=dbaron 
Bug 641731: Ignore :visited status in SVG image documents. r=dbaron 
Bug 641731 tests: reftests for :visited status in image documents. r=dbaron 
Bug 663378 - Define runTest() before the iframe that calls it onload in test_acid3_test46.html, and waitForExplicitFinish, r=dbaron 
dbaron.
Fix tests that were inadvertently not being run on Windows.  (Bug 699641) 
Bug 693586: Add circular buffer support to jprof r=dbaron 
-moz-text-size-adjust: none. 
Set an NS_FRAME_IN_CONSTRAINED_HEIGHT state bit on frames that are in a constrained space.  (Bug 627842, patch 2)  r=roc 
When reflowing a frame (such as text controls) that jumps from HTML layout into XUL layout and then jumps back to HTML on the child frame, link the parent reflow state chain correctly.  (Bug 627842, patch 3)  r=roc 
Don't duplicate frame state bits, so that we can assert about NS_FRAME_IN_REFLOW during painting.  (Bug 627842, patch 3.5)  r=roc 
of the inflation patches land. 
are likely to be device-specific). 
code we've added here. 
Add inflation parameter to nsLayoutUtils::GetFontMetricsFor* methods.  (Bug 627842, patch 6)  r=roc 
Use the text run's font group for the tab width instead of recomputing it from the frame.  (Bug 627842, patch 7)  r=roc 
Pass block's reflow state to nsTextFrame::UnionAdditionalOverflow.  (Bug 627842, patch 8)  r=roc 
width, which can depend on the intrinsic width. 
Remove the unused context parameter to MeasureCharClippedText.  (Bug 627842, patch 10)  r=roc 
computation, we must separately apply this inflation to line heights. 
Apply font size inflation to heights of inlines.  (Bug 627842, patch 12)  r=roc 
for large inflation there may end up being overlap as a result. 
Pass nsFontMetrics to the GetEllipsis function rather than computing them again.  (Bug 627842, patch 14)  r=matspal 
in those directories. 
Add reftest harness for testing font inflation and add reftests for basic features.  (Bug 627842, patch 16)  r=roc 
Run existing tests without font size inflation, even when it is enabled.  (Bug 627842, patch 17)  r=roc 
Bug 699626: patch reftest analyzer and WebGL reftests r=dbaron 
-moz-text-size-adjust: none. 
Set an NS_FRAME_IN_CONSTRAINED_HEIGHT state bit on frames that are in a constrained space.  (Bug 627842, patch 2)  r=roc 
When reflowing a frame (such as text controls) that jumps from HTML layout into XUL layout and then jumps back to HTML on the child frame, link the parent reflow state chain correctly.  (Bug 627842, patch 3)  r=roc 
Don't duplicate frame state bits, so that we can assert about NS_FRAME_IN_REFLOW during painting.  (Bug 627842, patch 3.5)  r=roc 
of the inflation patches land. 
are likely to be device-specific). 
code we've added here. 
Add inflation parameter to nsLayoutUtils::GetFontMetricsFor* methods.  (Bug 627842, patch 6)  r=roc 
Use the text run's font group for the tab width instead of recomputing it from the frame.  (Bug 627842, patch 7)  r=roc 
Pass block's reflow state to nsTextFrame::UnionAdditionalOverflow.  (Bug 627842, patch 8)  r=roc 
width, which can depend on the intrinsic width. 
Remove the unused context parameter to MeasureCharClippedText.  (Bug 627842, patch 10)  r=roc 
computation, we must separately apply this inflation to line heights. 
Apply font size inflation to heights of inlines.  (Bug 627842, patch 12)  r=roc 
for large inflation there may end up being overlap as a result. 
Pass nsFontMetrics to the GetEllipsis function rather than computing them again.  (Bug 627842, patch 14)  r=matspal 
in those directories. 
Add reftest harness for testing font inflation and add reftests for basic features.  (Bug 627842, patch 16)  r=roc 
Run existing tests without font size inflation, even when it is enabled.  (Bug 627842, patch 17)  r=roc 
705044 has been filed. 
Turn down the sizing for font inflation a bit (bug 627842), at least until we sort out Android dpi issues.  (Bug 705278) 
Bug 627885 - Reduce test_value_cloning test output, r=dbaron 
Bug 696376 - Change how we find critical ranges so that it works on 10.6 too. r=dbaron.
Bug 696376 - Change how we find critical ranges so that it works on 10.6 too. r=dbaron.
Add selectors so that block elements with dir also get unicode-bidi: -moz-isolate in the default stylesheet. Bug 676245, r=dbaron 
Reftests for bug 676245, r=dbaron 
Bug 704468 - Reverse rotation direction for rotate3d() transform function. r=dbaron 
Bug 704911.  Don't restyle based on state selectors that match our node but don't depend on the state that's changing.  r=dbaron 
Merge mozilla-central to birch. 
d3e230bec2f9, r=roc) to the default preferences of Android Fennec. 
Turn down the sizing for font inflation a bit (bug 627842), at least until we sort out Android dpi issues.  (Bug 705278) 
Bug 698967: Fix "lengths" typo in test-descriptions for integer-valued properties in test_transitions_per_property.html. r=dbaron DONTBUILD 
Don't assume that text is left-aligned when unicode-bidi=plaintext. Bug 698291, r=dbaron 
Bug 689443.  Switch PerWeightData back to using linked lists instead of arrays for the actual per-weight rule data, so as to reduce fragmentation.  r=dbaron
Bug 698256 Add and use Substring(data, length) convenience method r=dbaron 
bug 698185 - convert coordinates properly when processing bidi runs in canvas text. r=dbaron 
bug 698185 - test for failure to draw subsequent runs in mixed-dir canvas text. r=dbaron 
bug 698185 followup - reftests for accesskey underlining in XUL textbox label. r=dbaron 
Bug 704482 followup: use nsGkAtoms instead of NS_NewAtom(), for efficiency & to avoid leaking. r=dbaron 
Bug 700914.  Initialize the rulehash's hashtables lazily.  r=dbaron 
Bug 586863 - Eliminate #ifdef GFX_HAS_INVERT blocks since GFX_HAS_INVERT is never defined. r=dbaron 
Bug 709256 part 5.  Fast-path nsAnimationManager::DispatchEvents when there are no events. r=dbaron 
Bug 511909.  Allow @-rules to nest when parsing CSS.  In particular, allow them inside @media and @-moz-document.  r=dbaron 
Bug 705967 - reftest assumes we are loaded in a window and have direct access to a document. r=dbaron 
Bug 709907: Skip SMIL negative-value relaxation logic for the list-valued 'stroke-dasharray' property. r=dbaron 
Bug 711799 - Add MOZ_FINAL a bunch of places to silence Clang warnings.  r=dbaron 
Bug 711799 - Fix a few implicit-declaration warnings in trace-malloc.  r=dbaron 
Bug 710877 - allow reftest to use FileUtils and remove quit.js code. r=dbaron 
Bug 711799 - Add MOZ_FINAL a bunch of places to silence Clang warnings.  r=dbaron 
Bug 711799 - Fix a few implicit-declaration warnings in trace-malloc.  r=dbaron 
Bug 707855 - Clamp container size to device width to make font inflation less likely to cause problems on small screens. [r=dbaron] 
Bug 695222 - Implement column-fill part of CSS3 multicol spec. r=roc,dbaron 
Bug 707855 - Clamp container size to device width to make font inflation less likely to cause problems on small screens. [r=dbaron] 
Bug 695222 - Implement column-fill part of CSS3 multicol spec. r=roc,dbaron 
Bug 710877 - allow reftest to use FileUtils and remove quit.js code. r=dbaron 
Bug 704509 - fix reftests to work with native fennec. r=dbaron 
Bug 707855 - Clamp container size to device width to make font inflation less likely to cause problems on small screens. [r=dbaron] 
Bug 711908 - Fix a bunch of GCC warnings in layout.  r=dbaron. 
Bug 710917.  Moving hover from a button to text in the label containing the button should keep the button's hover state.  r=dbaron 
Bug 700221.  Don't pay attention to whether author color are allowed when deciding whether a change to a non-color property should drop native theming.  r=dbaron 
Bug 711647 - Add MOZ_DELETE to a bunch of deliberately-not-implemented methods across the tree.  r=dbaron 
Bug 704687 - Mark final classes as MOZ_FINAL, now that nsDerivedSafe no longer exists again.  r=dbaron 
Bug 708031 - refactor the ifdefs in nsStackWalk.cpp. r=dbaron. 
Bug 497995: Part 1 - Implement border-image revisions in latest css3-background spec. r=dbaron 
Bug 497995: Part 2 - Update existing border-image tests. r=dbaron 
Bug 497995: Part 3 - Cleanup nsCoord initial value handling. r=dbaron 
Bug 497995: Part 4 - Tests for border-image using computed border width. r=dbaron 
Bug 497995: Part 5 - Change existing border-image uses in the tree to match the new spec. r=dbaron 
Bug 709509 - Remove manual refcounting and QIing from nsBulletFrame::DidSetStyleContext; r=dbaron 
Bug 695222 - Implement column-fill part of CSS3 multicol spec. r=roc,dbaron 
Bug 668163 - Map 'width' and 'height' on <svg> into style to stop <svg>'s computed width/height falling back to 150px x 300px when they're set to explicit percentage values that can be resolved (regression from bug 611099). r=dbaron. 
Fix font size inflation assertion when XUL is in native-anonymous content by making XUL always be a container for font size inflation.  (Bug 708036)  r=bzbarsky 
Bug 713278 - Teach NS_StackWalk to walk the stack of other threads too on Windows; r=dbaron 
bug 696585 - support pref(...) annotations in reftest manifest. r=dbaron 
Bug 580786. Require gWindowUtils. r=dbaron
Bug 580786. Add support for fuzzy reftest matching. r=dbaron
Bug 692817 - Potential math overflow in Base64.cpp, r=dbaron 
Weaken the quirks mode inline box model zeroing-of-containers when those containers have children that are vertical-align: top or bottom, so that it's a little more like when they have children with other values of vertical-align (except that it's an approximation).  (Bug 714519)  r=roc 
Bug 716226.  When using insertRule on a keyframes rule, set up the child keyframe rule correctly.  r=dbaron 
Tests for bug 536557, r=dbaron 
Implement text-align-last. Bug 536557, r=dbaron 
Tests for bug 536557, r=dbaron 
Implement text-align-last. Bug 536557, r=dbaron 
Bug 665597 - Fix some reftests assumptions about margins and scrollable overflow.  part=5/5 r=dbaron,roc 
Bug 580786. Require gWindowUtils. r=dbaron
Bug 580786. Add support for fuzzy reftest matching. r=dbaron
Bug 580786. Require gWindowUtils. r=dbaron
Bug 580786. Add support for fuzzy reftest matching. r=dbaron
Bug 580786. Require gWindowUtils. r=dbaron
Bug 580786. Add support for fuzzy reftest matching. r=dbaron
Bug 712224: Make jprof generate output for 'cleopatra' backend. rs=dbaron DONTBUILD 
Bug 524925 - Recompute overflow without reflowing for transforms.  part=1/6 r=dbaron
Bug 524925 - Reftest that checks whether dynamic transform changes result in the correct scrollable overflow being propagated through parent frames.  part=6/6 r=dbaron 
Bug 716738: Label layout/tables as gcc-warning-free with FAIL_ON_WARNINGS. r=dbaron 
Bug 716590 - WalkStackMain64 shouldn't skip frames unless it's walking the thread that called NS_StackWalk. r=dbaron 
Bug 716238 - ThunderbirdTry: "495794-1.html | load failed: timed out waiting for reftest-wait to be removed" - Ensure media.autoplay.enabled is always true. r=dbaron 
Bug 416581, part 1 - Move mLanguage from nsStyleVisibility to nsStyleFont. r=dbaron. 
Fix error report for unexpected character terminating style attribute.  (Bug 720163)  r=bzbarsky 
so that we can (later, for bug 706193) make that logic more complicated. 
correctly). 
correctly). 
Make floating :first-letter frames not be containers for font size inflation, to avoid triggering assertions.  (Bug 706609, patch 3.5)  r=roc 
inflate correctly). 
Set inflation container to null during ComputeSize calls for inflation containers, when we should not have inflation applied.  (Bug 706609, patch 4.5)  r=roc 
correctly). 
inflate correctly). 
sheet). 
Make selects and things inside them not be containers for font size inflation, so that font inflation inflate selects appropriately along with what surrounds them.  (Bug 706609, patch 8)  r=roc 
Bug 717526 - fix warning of nsStringAPI.h on Win64. r=dbaron 
Bug 702466: Make sure we actually abort if we end up with unbalanced stacks. r=dbaron 
Bug 698652: Ignore the user's minimum font size when drawing to canvas. r=dbaron 
Bug 698652: Test that minimum font size is ignored in canvas. r=dbaron 
Bug 706889 - Apply font-inflation to checkboxes and radio buttons.  r=dbaron 
Bug 706198 - Disable font inflation on sites optimized for mobile to avoid strangely inflated text. [r=mbrubeck,dbaron] 
Bug 671299 (part 3) - Add style sheet memory reporters.  r=dbaron. 
Bug 723446.  Be a little more careful changing declarations on keyframe rules.  r=dbaron 
Bug 716628.  Implement support for 'turn' unit in CSS.  r=dbaron 
Bug 716594 - Switch nsBinaryInputStream::ReadBytes back to using the fallible allocator because it correctly checks for allocation errors and streams are untrusted input we should try to work with, r=dbaron 
Bug 725723: rename reftests/flexbox to reftests/box. r=dbaron 
Bug 393910 - Serialize "0" as "0px" for lengths instead of "0pt"; r=dbaron 
Bug 721136 - transform property serialization doesn't normalize case; r=dbaron 
Bug 416581, part 2 - Pay attention to the 'lang' attribute when fetching the user's font prefs for the CSS cascade. r=dbaron. 
Reftests for bug 726392, r=dbaron 
Mark the last line in the block dirty when text-align-last resolves to something other than left. Bug 726392, r=dbaron 
Bug 522607 - New css3-background background-position syntax.  r=dbaron 
Bug 522607 - Tests for new css3-background background-position syntax.  r=dbaron 
Unprefix uses of -moz-box-shadow and -moz-border-radius that have crept back in to the tree, prior to removing support for the prefixed forms.  (Bug 693510)  r=Mossop 
Drop support for -moz-box-shadow and -moz-border-radius-* now that we've supported the unprefixed versions since Firefox 4.  (Bug 693510)  r=bzbarsky 
Bug 729126 - Make NS_ABORT_IF_FALSE fire on failure for only some callers of AddCSSValuePixelPercentCalc (the existing ones, and not the new ones added in bug 522607).  r=dbaron 
Bug 729142 - Convert layout/style to MOZ_STATIC_ASSERT. r=dbaron 
Bug 729143.  Don't treat table rows as containing blocks.  r=dbaron 
Depend on assignment and copy construction of unions in nsStyleCoord.  (Bug 730240)  r=bzbarsky 
Make nsStyleCoord's member variables private, as they should have been.  (Bug 730240)  r=bzbarsky 
Add a header file for CSS property aliases (and temporarily resurrect the aliases whose DOM properties we forgot to remove).  (Bug 730532, patch 1)  r=bzbarsky 
Remove the CSS2Properties aliases for MozOutline* and MozOpacity for CSS properties whose CSS aliases were removed long ago (but temporarily readded in the previous changeset).  (Bug 730532, patch 2)  r=bzbarsky 
Bug 548375 - Implement css3-background background-repeat property two value syntax. r=dbaron 
Bug 548375 - Add tests for background-repeat taking two values (css3-background).  r=dbaron 
Bug 700659 - Slay nsHashSets in layout. r=dbaron 
property. 
and pass with the patch. 
Bug 705446: Disable font inflation for preformatted text. [r=dbaron] 
Bug 732481: Remove the EM restart from the reftest harness. r=dbaron 
Bug 732664 - Use FormatMessageA so that XPCOM stack walker prints error message correctly. r=dbaron 
Bug 705877 part 1.  Rename mayContain on BloomFilter to mightContain.  r=dbaron 
Bug 705877 part 2.  Store the hashes of the atoms occurring as IDs, classes, and tag names in selectors that would need to match one of our ancestors.  r=dbaron
Bug 705877 part 3.  Hang an optional Bloom filter and some methods for managing it off the TreeMatchContext.  r=dbaron 
Bug 705877 part 4.  Use the TreeMatchContext's ancestor filter, if any, in EnumerateAllRules.  r=dbaron 
Bug 705877 part 5.  Make style reresolution actually use ancestor filters.  r=dbaron 
Bug 705877 part 6.  Make frame construction use ancestor filters when resolving style.  r=dbaron 
Bug 732667.  Only do checks for :hover selectors when hover state changes on nodes which have relevant hover rules.  r=dbaron 
Bug 705877 part 1.  Rename mayContain on BloomFilter to mightContain.  r=dbaron 
Bug 705877 part 2.  Store the hashes of the atoms occurring as IDs, classes, and tag names in selectors that would need to match one of our ancestors.  r=dbaron
Bug 705877 part 3.  Hang an optional Bloom filter and some methods for managing it off the TreeMatchContext.  r=dbaron 
Bug 705877 part 4.  Use the TreeMatchContext's ancestor filter, if any, in EnumerateAllRules.  r=dbaron 
Bug 705877 part 5.  Make style reresolution actually use ancestor filters.  r=dbaron 
Bug 705877 part 6.  Make frame construction use ancestor filters when resolving style.  r=dbaron 
Bug 732667.  Only do checks for :hover selectors when hover state changes on nodes which have relevant hover rules.  r=dbaron 
Bug 716544 - Fix comparison between signed and unsigned integer expressions in nsStringAPI.h. r=dbaron 
Bug 735481.  Skip ancestor filtering on IDs and classes in quirks mode, because that matching needs to be case-insensitive.  r=dbaron 
Bug 716544 - Fix comparison between signed and unsigned integer expressions in nsStringAPI.h. r=dbaron 
Bug 736326 - Fix nscoord/nscolor typo. r=dbaron 
Bug 732610 - Make nsIFrame::ComputeSize take a bitfield 'aFlags' instead of a bool 'aShrinkWrap'. r=dbaron 
Bug 536758 - window.getComputedStyle().lineHeight to skip font size ratio adjustment for minimum font size when font sizes are 0. r=dbaron 
Bug 712865 - Avoid some padding nsCSSCompressedDataBlock by storing nsCSSValue and nsCSSProperty elements separately.  r=dbaron. 
Bug 712865 - Avoid some padding nsCSSCompressedDataBlock by storing nsCSSValue and nsCSSProperty elements separately (2nd attempt).  r=dbaron. 
Bug 734953 - Remove skew() transformation function; r=dbaron 
patch. 
Bug 712552. (Av1) Remove MSVC6 support from trace-malloc. r=dbaron.
Bug 738157 - missing nsSubstring_h___. r=dbaron 
Bug 711418 - Enable font inflation for body and html elements with fixed heights. [r=dbaron] 
Bug 722853 - Derive private browsing status from docshell when assigning element states. r=dbaron 
Bug 739129 - Add LastElement and SafeLastElement functions to nsTArray. r=dbaron 
Bug 708187: Disable caching of font inflation inside of BuildTextRunsScanner to prevent bleeding of bad values. [r=dbaron] 
Add comment explaining the difference between CSS_PROPERTY_PARSE_FUNCTION and CSS_PROPERTY_VALUE_PARSER_FUNCTION (prompted by question from jdaggett).  No bug. 
Bug 722853 - Derive private browsing status from docshell when assigning element states. r=dbaron 
Bug 740857 - Remove dead code from nsFrame::BoxReflow; r=dbaron 
Bug 740331: Add explicit styles for links in tests for bug 708187 to combat random oranges. [r=dbaron] 
Bug 731521.  Computed border on our descendants can change due to a change of our specified border styles even if our computed border did not change.  r=dbaron 
Bug 742581: Make definition of nsStyleCoord::GetCoordValue() consistent with the declaration, regarding what the function's return type is. r=dbaron 
Add support to the reftest harness for preferences that apply to only one of the test or reference.  (Bug 743105)  r=jfkthame 
Run font inflation reftests with the reftest harness rather than inside of mochitest.  (Bug 743817)  r=sjohnson 
Bug 744234 - Forbid odd trailing slash in CSS 'border-image' property. r=dbaron 
Bug 708175: Disable font inflation for fixed-width or fixed-height input controls. [r=dbaron] 
Bug 744243 - Forbid odd trailing slash in CSS 'border-image' property. r=dbaron 
Bug 708175: Disable font inflation for fixed-width or fixed-height input controls. [r=dbaron] 
Fix compilation error by fixing up more code.  (Bug 735262)  r=jrmuizel 
Fix mistake in manifest file from bug 708175 (causing some tests to be double-run and some not at all). 
setting the preference to 0. 
block formatting contexts. 
size inflation within that block formatting context. 
this bug to the decision on whether to do font size inflation. 
Add tests for font.size.inflation.lineThreshold preference and the associated threshold behavior.  (Bug 706193, patch 5)  r=roc 
Bug 745993: Fix failing reftest from bug 708175. [r=dbaron] 
Bug 735898. Part 7: Remove expensive nsIFrame::HasBorder checks, just check style instead. r=dbaron,a=blocking-fennec 
Bug 735898. Part 8: Speed up SortByZOrder. r=dbaron,a=blocking-fennec 
Bug 745681: Prepare the reftest harness for Bug 695480. r=dbaron a=test-only 
Modifications to the tests for default bidi css properties from Webkit. Bug 706194, r=dbaron, a=tests-only 
Modifications to the tests for default bidi css properties from Webkit. Bug 706194, r=dbaron, a=tests-only 
Bug 746632 - If no fallback colour is specified we shouldn't draw anything when the URL fails to resolve. r=dbaron 
Remove unneeded getting of window and DOMWindowUtils so that GetViewportInfo can still return correct information while page is displayed during navigation away from it.  (Bug 737621)  r=sjohnson 
Bug 748254.  When we encounter an unexpected '}' terminating a font-face descriptor's value, correctly close the font-face rule instead of eating the rest of the stylesheet.  r=dbaron 
Bug 718539. Update font-feature-settings to latest spec syntax. r=dbaron 
Bug 718539. Update layout/style tests for new font-feature-settings syntax. r=dbaron 
Bug 718539. Initialize font features in gfxFontStyle from nsFont data. r=dbaron 
Examine parentBorder only when parentContext is non-null.  (Bug 749860)  r=bzbarsky 
Bug 742736 - Change box shadows to match rounded or sharp corners of shadowed object when round/sharp alternate corners; r=dbaron 
Bug 750290 - Remove tools/leaky. r=dbaron 
Bug 746915 part 2 - Move layout/reftests/editor/ to editor/reftests/; r=dbaron 
Make effect of form controls on font size inflation text threshold not depend on user changes to their value.  (Bug 747857)  r=roc 
Add missing GetFirstInFlow() call that was causing a crash in ComputeDescendantWidth when printing with font inflation enabled (or a debug build).  (Bug 751797)  r=roc 
Bug 746966: Conditionally set NS_FRAME_IN_CONSTRAINED_HEIGHT for font inflation on percentage-based height so fonts with room to inflate can do so. [r=dbaron] 
Bug 749186: Make the root frame always be an inflation container to prevent a crash during font inflation. [r=dbaron] 
Bug 745523 - Part a: prepare for unprefixing transforms by removing the prefix from internal APIs; r=dbaron 
Make effect of form controls on font size inflation text threshold not depend on user changes to their value.  (Bug 747857)  r=roc 
Remove duplicate null check of presShell.  (Bug 747231, patch 1)  r=roc 
Cache the last device width we used for font inflation on the pres context so that we can track when it changes.  (Bug 747231, patch 2)  r=roc 
Expose DocumentViewerImpl::CallChildren with an API that fills an array.  (Bug 747231, patch 3)  r=roc 
Reflow for screen size change when font.size.inflation.minTwips is set.  (Bug 747231, patch 4)  r=roc 
Add missing GetFirstInFlow() call that was causing a crash in ComputeDescendantWidth when printing with font inflation enabled (or a debug build).  (Bug 751797)  r=roc 
Bug 249159 - Part 2 Implement CSS3 Text word-break property. r=dbaron, smontagu 
Try to fix topcrash bug 752428 by null-checking the result of nsIPresShell::FrameManager(), which isn't supposed to need it.  r=roc 
Null-check the right thing to fix topcrash.  (Bug 752428)  r=roc 
Bug 753397.  Add a field to nsCSSPropList for a preference that controls the property.  r=dbaron
Bug 752230 - Disallow control characters above 0x7e in CSS unquoted url() tokenization. r=dbaron 
Bug 528332 - Implement non-scaling-stroke vector-effect. Part 1 - style system changes r=dbaron 
should be). 
exposed. 
This width will be used in patch 3. 
Replace AutoMaybeNullInflationContainer with AutoMaybeDisableInflationForShrinkWrap since the concept of the pres context's current inflation container will be going away.  (Bug 747720, patch 2)  r=roc 
horizontal margins) but we determine the text to comprise a single flow. 
Fix call to wrong method (passing nscoord as enum).  (Bug 747720, patch 4)  r=roc 
nsFontInflationData. 
mInflationDisabledForShrinkWrap. 
756518). 
Bug 757755 - Make sure that the reftest suite never attempts to download and stage an update; r=dbaron 
Bug 758885.  Don't apply the dynamic :hover reresolution skipping optimization to selectors which can match on mutable state other than :hover.  r=dbaron 
Bug 464758.  Don't try to check for :before/:after pseudos for frames that can't have them.  r=dbaron 
Bug 713608 - HTML5 Video controls are missing in Fullscreen. f=fryn r=jaws,dbaron 
Serialize border-image shorthand to shortest form, with the exception that we'll always serialize 'border-image-source'.  (Bug 713643, patch 1)  r=bzbarsky 
Make the serialization of the 'border' shorthand fail when we have a 'border-image' subproperty or a '-moz-border-*-colors' property with a non-default value.  (Bug 713643, patch 2)  r=bzbarsky 
Remove nsStyleBorder::GetActualBorder, since it now does the same thing as nsStyleBorder::GetComputedBorder.  (Bug 713643, patch 3)  r=bzbarsky 
Rename nsStyleBorder::GetActualBorderWidth to GetComputedBorderWidth.  (Bug 713643, patch 4)  r=bzbarsky 
Unprefix the border-image-* properties and add a temporary alias for -moz-border-image (but not for its subproperties, which we haven't shipped prefixed).  (Bug 713643, patch 5)  r=bzbarsky 
Bug 219767: Move font size functions in nsStyleUtil into nsRuleNode. r=dbaron 
Bug 731447.  Make buttons display:inline-block by default so that underlines don't reach into them.  r=dbaron 
Bug 760072 - Move RemoveFinishDependency() after the ok() so that the last test result comes before SimpleTest.finish().  r=dbaron 
Bug 760696 - Use :fullscreen to detect HTML5 video/audio state for controls visibility. r=jaws,dbaron 
Restore application of font size inflation to radios and checkboxes.  (Bug 757937)  r=roc 
Bug 749186, Followup Patch 1: Cache font inflation settings in pres shell to prevent crash. [r=dbaron] 
Bug 749186, Followup 2: Crashtest for bug 749186 [r=dbaron]. 
Bug 629882 - Support currentColor in the 2D canvas context; r=dbaron
Remove unused member variable from nsGfxButtonControlFrame.  No bug. 
intrinsic width calculation done on it, but hasn't been reflowed). 
Back out changeset 81f6b1cfbba5627425837ff993ca7012db22b23b (bug 748434) due to reftest failures. 
intrinsic width calculation done on it, but hasn't been reflowed). 
Bug 157681 - Part 1: Add a test suite to make sure that dynamic changes to the position CSS properties work correctly; r=dbaron
Bug 157681 - Part 2: Optimize positioned frame offset changes by moving the frame as opposed to reflowing it in case we know that the size of the frame will not change; r=dbaron
Bug 761912 - add VS11 debug dll to trace malloc. r=dbaron 
Bug 761980 - Make sure to register the callback after the document has loaded; r=dbaron 
Make scroll frames (i.e., overflow != visible) be font size inflation flow roots again, to fix www.youtube.com.  Except for the test changes, this reverts 9620f50be9fa8be44931decf1e57ce25f51da812 (Bug 747720, patch 7) which in turn reverted part of 9499f6b28addcbcd9c480eb80cfe6c4c63a4a3a1 (Bug 706193, patch 2).  (Bug 760098)  r=roc 
Do the necessary reflow when our font inflation data changes.  (Bug 759755)  r=roc 
Make scroll frames (i.e., overflow != visible) be font size inflation flow roots again, to fix www.youtube.com.  Except for the test changes, this reverts 9620f50be9fa8be44931decf1e57ce25f51da812 (Bug 747720, patch 7) which in turn reverted part of 9499f6b28addcbcd9c480eb80cfe6c4c63a4a3a1 (Bug 706193, patch 2).  (Bug 760098)  r=roc 
Bug 762546 - Make sure to register the callback after the document has loaded; r=dbaron 
Fix source of slight test variation.  (Bug 759755, patch 1) 
Do the necessary reflow when our font inflation data changes.  (Bug 759755, patch 2)  r=roc 
Properly dirty intrinsic widths when doing things that change inflation.  (Bug 759755, patch 3)  r=roc 
Make svg:foreignObject be considered a constrained height (now that I'm thinking about them).  (Bug 759755, patch 4)  r=roc 
Backout bug 754202 (all patches, rather than just patches 3-7). 
Back out patches 2 and 3 of bug 759755 for causing intermittent failures of layout/reftests/font-inflation/container-with-clamping.html . 
Do the necessary reflow when our font inflation data changes.  (Bug 759755, patch 2)  r=roc/bzbarsky 
Properly dirty intrinsic widths when doing things that change inflation.  (Bug 759755, patch 3)  r=roc 
Don't assume ordering of callers of nsPresContext::ScreenWidthInchesForFontInflation; instead, track changes only for the caller that cares about changes.  (Bug 759755, patch 5)  r=bzbarsky 
Bug 763424.  Dynamic changes to generated content don't work correctly on frames which pass a child content insertion frame to ProcessChildren (e.g. <td>).  r=dbaron 
Make scroll frames (i.e., overflow != visible) no longer be font size inflation flow roots.  This fixes phoronix.com/reddit.com/others at the expense of youtube.com.  This reverts b64bfa138619890a01826bde8974cc974b45a6f5 (bug 760098) which in turn reverted 9620f50be9fa8be44931decf1e57ce25f51da812 (Bug 747720, patch 7) which in turn reverted part of 9499f6b28addcbcd9c480eb80cfe6c4c63a4a3a1 (Bug 706193, patch 2).  (Bug 747720)  r=backout 
Bug 733614: Backout changes from bug 695222 for mozilla 16 branch [r=dbaron]. 
Don't mark intrinsic widths dirty for font inflation width changes at box/block boundaries.   (Bug 764354)  r=bzbarsky 
Bug 691950 - Set up directories for W3C CSSWG test suite sync to/from mozilla-central. r=dbaron 
Bug 765597 - Invalidate the thebes layer as well as the overflow area when moving frames; r=dbaron 
Bug 763702, Part 1/2: Ensure font inflation bits are set during frame construction for root frame to prevent crash. [r=dbaron] 
Bug 763702, Part 2/2: Crashtest for bug 763702. [r=dbaron] 
Add reftest for bug 764354. 
Implement new values of animation-direction.  (Bug 655920)  r=bzbarsky 
Treat animation-iteration-count:0 specially.  (Bug 765218)  r=bzbarsky 
Bug 765590 - CSSNameSpaceRule.type should be 10, not 0. r=dbaron 
Bug 766798.  Throw SYNTAX_ERR, not NAMESPACE_ERR, from querySelector(All) on unknown namespaces.  r=dbaron 
Track TEXT_IN_TEXTRUN_USER_DATA separately for inflated and non-inflated text runs.  (Bug 718290)  r=roc 
Change standards mode height calculations for table cells to use content-box sizing rather than border-box sizing by default (and to honor -moz-box-sizing, which we do not do in quirks mode).  Also remove -moz-box-sizing: border-box from default style for caption element (all modes).  (Bug 248239)  r=dbaron 
Backout changeset 1e2b9cdc486b (Bug 248239) due to failure of tests/MochiKit-1.4.2/tests/test_MochiKit-Style.html . 
Bug 709747: Fix COMPtr logging for .forget(). r=dbaron 
Back out half of the previous patch for bug 709747, since the nsCOMPtr<nsISupports>::forget(nsISupports**) specialization is substantially different from nsCOMPtr<T>::forget(I**), and uses swap which already does the needed logging. 
Bug 248239 - Change standards mode height calculations for table cells to use content-box sizing rather than border-box sizing by default (and to honor -moz-box-sizing, which we do not do in quirks mode). Also remove -moz-box-sizing: border-box from default style for caption element (all modes). r=dbaron 
Bug 745523 - Part b: Unprefix transforms; r=dbaron
Bug 695813 - Use init list in nsStyleDisplay copy-constructor instead of direct-assignment. r=dbaron 
Bug 696253, patch 1: implement parsing/computation for CSS property 'justify-content'. r=dbaron 
Bug 696253, patch 2: implement parsing/computation for CSS property 'order'. r=dbaron 
Bug 696253, patch 3: implement parsing/computation for CSS property 'flex-direction'. r=dbaron 
Bug 696253, patch 4: implement parsing/computation for CSS property 'align-items'. r=dbaron 
Bug 696253, patch 5: implement parsing/computation for CSS property 'align-self'. r=dbaron 
Bug 696253, patch 6: implement parsing/computation for CSS properties 'flex-grow' and 'flex-shrink'. r=dbaron 
Bug 696253, patch 7: implement parsing/computation for CSS property 'flex-basis'. r=dbaron 
Bug 696253, patch 8: implement parsing/computation for CSS shorthand property 'flex'. r=dbaron 
Bug 764188 - Expose a global frame tree generation number. r=dbaron
Bug 752752 - Set prefs in the reftest harness to prevent updating and prefetching data about addons, to avoid leaking, r=Unfocused,dbaron 
Bug 752187 - Part 1: Separate color stops parsing. r=dbaron 
Bug 752187 - Part 2: Separate legacy gradient line parsing. r=dbaron 
Bug 752187 - Part 3: Separate linear gradient parsing and radial gradient parsing. r=dbaron 
Bug 752187 - Part 4: Remove aIsRadial parameter. r=dbaron 
Bug 752187 - Part 5: Remove "to" corner parsing from ParseRadialGradient. r=dbaron 
Bug 752187 - Part 6: Rename mIsToCorner to mIsLegacySyntax. r=dbaron 
Bug 752187 - Part 7: Add aIsLegacy parameter to parsing functions. r=dbaron 
Bug 752187 - Part 8: Implement unprefixed linear-gradient parsing. r=dbaron 
Bug 752187 - Part 9: Implement unprefixed radial-gradient parsing. r=dbaron 
Bug 752187 - Part 10: Implement rendering unprefixed gradients. r=dbaron 
Bug 752187 - Part 11: Implement serializing unprefixed gradients. r=dbaron 
Bug 752187 - Part 12: Implement serializing unprefixed computed values. r=dbaron 
Bug 752187 - Tests. r=dbaron 
Bug 770993 - ConsoleAPI.js consumes excessive amounts of memory; r=dbaron,rcampbell 
zooming)? 
Implement dppx units [css3-images] for resolution media query.  (Bug 741644)  r=bzbarsky 
Add flush before we find our pres context, to fix media queries tests on ringmark.  (Bug 753777)  r=bzbarsky 
Merge mozilla-inbound and mozilla-central. 
Bug 762302 - Unprefix CSS Animation properties and @keyframes rule and provide temporary aliases for -moz-animation and exposed subproperties. r=dbaron 
Bug 762303 - Unprefix CSS Transition properties and provide temporary aliases for -moz-transition and exposed subproperties. r=dbaron 
Bug 767488 - Cache the current process handle after reading it for the first time during stack walking; r=dbaron
Bug 763223 - convert the assertion added in bug 157681 to a warning; r=dbaron 
Bug 767479 - Handle the case of more than 1024 frames when walking the stack of another thread on Windows, and also use the infallible allocator when walking the stack of your own thread; r=dbaron 
Bug 758079: Inflate margin of numeric list elements to prevent cut-off text during font inflation. [r=dbaron] 
Bug 766579 - Part 1: Add SP param to NS_StackWalk. r=dbaron 
Bug 766579 - Part 3: Follow up fix. r=dbaron 
Bug 719054 - matrix() and matrix3d() with length units should be parse errors; r=dbaron 
Bug 696253 patch 9: Update mochitest-files variable name in ifdef'd chunk of Makefile for style tests, to accommodate changes from bug 370750. r=dbaron 
Bug 338554 - Honor -moz-box-sizing on table cells in standards mode (we ignore it in quirks mode). r=dbaron 
[Bug 773500] nsStyleAnimation checks for common units of nsCSSValuePair/Triplet are screwy r=dbaron 
property_database.js. 
Rename VARIANT_POSITIVE_LENGTH to VARIANT_POSITIVE_DIMENSION since it also applies to times and frequencies.  (Bug 773102, patch 1)  r=bzbarsky 
Add VARIANT_NONNEGATIVE_DIMENSION.  (Bug 773102, patch 2)  r=bzbarsky 
to this patch, but that doesn't have to be done now. 
Bug 771594.  Allow preference control over what CSS properties we parse.  r=dbaron,dholbert 
Back out changeset d49beb57db23 (bug 558516) for causing all Mac builds to crash in nsXULElement::GetAttrValue and for causing a single mochitest-1 failure. 
Rename VARIANT_POSITIVE_LENGTH to VARIANT_POSITIVE_DIMENSION since it also applies to times and frequencies.  (Bug 773102, patch 1)  r=bzbarsky 
Add VARIANT_NONNEGATIVE_DIMENSION.  (Bug 773102, patch 2)  r=bzbarsky 
to this patch, but that doesn't have to be done now. 
Bug 774022 - Remove extra ;. r=dbaron. 
Make test_visited_reftests report failures instead of using timeout to indicate failure.  No bug. 
     quirks mode 
Limit the unitless length quirk to the properties where it's needed, per http://simon.html5.org/specs/quirks-mode#the-unitless-length-quirk .  (Bug 774122, patch 2)  r=bzbarsky 
this fix. 
Make test_visited_reftests report failures instead of using timeout to indicate failure.  No bug. 
     quirks mode 
Limit the unitless length quirk to the properties where it's needed, per http://simon.html5.org/specs/quirks-mode#the-unitless-length-quirk .  (Bug 774122, patch 2)  r=bzbarsky 
this fix. 
Bug 607267.  Don't style imagemaps as block.  r=dbaron,tbsaunde 
Bug 775304 - Don't visit the descendant frames for the nsChangeHint_UpdateEffects hint. r=roc, r=dbaron. 
Bug 774968 - line-height percentage value not computed accurately. r=dbaron 
Bug 769193 - Interpolate between transform functions that share common primitives rather than forcing them to fall back to matrix decomposition. r=dbaron 
Bug 773500 Part 1:Store z-component of transform-origin as 0 rather than null when it is omitted. r=dbaron 
Bug 773500 Part 2: nsStyleAnimation should null check z-component of nsCSSValueTriplet r=dbaron 
Bug 772690: Speed up nsDisplayList::SortByZOrder by removing (unnecessary) secondary sort by content order. r=dbaron 
Bug 706179: Add support for animations to the Layers API r=roc, dbaron, cjones 
Bug 755084 Part 1: Move ElementAnimations, ElementAnimation, AnimationProperty, and AnimationPropertySegment classes to the header file. r=dbaron 
Bug 755084 Part 2: Perform CSS animations of transform and opacity on the compositor r=roc, dbaron 
Bug 768440 Part 1: Move ElementTransitions and ElementPropertyTransition to the header r=dbaron 
Bug 768440 Part 2: Animate CSS Transitions on the compositor r=roc,dbaron 
Bug 706179: Add support for animations to the Layers API r=roc, dbaron, cjones 
Bug 755084 Part 1: Move ElementAnimations, ElementAnimation, AnimationProperty, and AnimationPropertySegment classes to the header file. r=dbaron 
Bug 755084 Part 2: Perform CSS animations of transform and opacity on the compositor r=roc, dbaron 
Bug 768440 Part 1: Move ElementTransitions and ElementPropertyTransition to the header r=dbaron 
Bug 768440 Part 2: Animate CSS Transitions on the compositor r=roc,dbaron 
Bug 755084 Part 3: Move checks for whether to animate opacity and transforms on the compositor thread to nsLayoutUtils, and make them also check whether the compositor is actually running r=cjones,dbaron 
Bug 706179: Add support for animations to the Layers API r=roc, dbaron, cjones 
Bug 755084 Part 1: Move ElementAnimations, ElementAnimation, AnimationProperty, and AnimationPropertySegment classes to the header file. r=dbaron 
Bug 755084 Part 2: Perform CSS animations of transform and opacity on the compositor r=roc, dbaron 
Bug 768440 Part 1: Move ElementTransitions and ElementPropertyTransition to the header r=dbaron 
Bug 768440 Part 2: Animate CSS Transitions on the compositor r=roc,dbaron 
Bug 755084 Part 3: Move checks for whether to animate opacity and transforms on the compositor thread to nsLayoutUtils, and make them also check whether the compositor is actually running r=cjones,dbaron 
Bug 777519: Remove unnecessary checks for min-height/max-height:auto in nsHTMLReflowState::InitResizeFlags. r=dbaron 
Bug 777523: Remove stale "XXX bug 3935" annotation from some properties in nsCSSPropList.h. r=dbaron 
Bug 775174 - Add invalidation timeline to reftest analyzer. r=dbaron 
Bug 729784 - Fix documentation for fuzzy() and fuzzy-if(), and give image difference error messages in the same order as the parameters to them. r=dbaron 
Bug 779010 - Use nsStyleCoord equality operator to compare nsStyleSides and nsStyleCorners. r=dbaron 
Bug 734953 - Restore transform: skew() support; r=dbaron 
Bug 706179 Part 1: Add support for animations to the Layers API r=roc, dbaron, cjones 
Bug 755084 Part 1: Move ElementAnimations, ElementAnimation, AnimationProperty, and AnimationPropertySegment classes to the header file. r=dbaron 
Bug 755084 Part 2: Perform CSS animations of transform and opacity on the compositor r=roc, dbaron 
Bug 768440 Part 1: Move ElementTransitions and ElementPropertyTransition to the header r=dbaron 
Bug 768440 Part 2: Animate CSS Transitions on the compositor r=roc,dbaron 
Bug 755084 Part 3: Move checks for whether to animate opacity and transforms on the compositor thread to nsLayoutUtils, and make them also check whether the compositor is actually running r=cjones,dbaron 
Bug 649740 - Implement @supports. r=dbaron,bz 
Bug 777293 - Remove NS_NewCSSStyleSheet; r=dbaron 
Bug 777306 - Remove NS_NewHTMLStyleSheet; r=dbaron 
Bug 780337 - @supports rule should not parse if property value is empty. r=dbaron 
Bug 778600 - Indent closing brace when listing GroupRules. r=dbaron 
Bug 778413 - Fix table cell automatic width calculation when using box-sizing:border-box. r=dbaron 
bug 721750 - support text-shadow property on ::-moz-selection. r=dbaron 
bug 721750 - reftests for text-shadow in ::-moz-selection. r=dbaron 
Bug 778413 - Fix table cell automatic width calculation when using box-sizing:border-box. r=dbaron 
Bug 777293 - Remove NS_NewCSSStyleSheet; r=dbaron 
Bug 777306 - Remove NS_NewHTMLStyleSheet; r=dbaron 
Bug 655877 - Part 21: Avoid assertions when nsStyleContext::GetVisitedDependentColor is called for an SVG paint property. r=dbaron 
Bug 655877 - Part 29: Don't underline links within SVG text by default. r=dbaron 
Bug 732153 part 1 - Computed transform should be 'none' if there's no transform, even if backface-visibility or transform-style is set; r=dbaron 
Bug 765588.  Make CSSFontFaceStyleDecl an nsICSSDeclaration.  r=dbaron 
Bug 753517 part 1.  Make GetParentObject() on CSS declarations return a useful nsINode if possible.  r=peterv,dbaron 
Bug 753517 part 2.  Make all CSS declarations wrappercached and make them correctly handle preserved wrappers. r=mccr8,peterv,smaug,dbaron 
Changes to tests for bug 774335, r=dbaron 
Implement the new CSS property value unicode-bidi: isolate-override. Bug 774335, r=dbaron 
Bug 666041 patch 4: Mochitest for flexbox layout. r=dbaron 
Bug 691651. When an element changes between having a transform and not having one, don't reframe if we don't need to. r=dbaron 
Bug 383026. Centralize code that converts DOM scroll offsets to/from layout scroll positions. r=dbaron 
Bug 781457 - Define _GNU_SOURCE for _Unwind_Backtrace. r=dbaron 
Bug 777089: Add preference to control the function used to map specified font sizes to inflated font sizes. [r=dbaron] 
Bug 383026. Centralize code that converts DOM scroll offsets to/from layout scroll positions. r=dbaron 
Bug 691651. When an element changes between having a transform and not having one, don't reframe if we don't need to. r=dbaron 
Update syncing directory location in README.  (No bug, DONTBUILD) 
Bug 781869: Remove redundant "NS_FRAME_NO_MOVE_VIEW" bit in a few places where it's already implied from NS_FRAME_NO_MOVE_FRAME. r=dbaron 
Bug 783700: Switch nsColumnSetFrame::BuildDisplayList() to use nsFrameList::Enumerator for walking its child frames. r=dbaron 
Accept unitless lengths in quirks mode for bottom, just as for left/top/right.  (Bug 776591)  r=bzbarsky 
Track whether nsStyleVisibility::mLanguage came from explicit information in the document.  (Bug 702121, patch 1)  r=jfkthame 
Only do hyphenation when the language was specified explicitly, rather than using an encoding-inferred language.  (Bug 702121, patch 2)  r=jfkthame 
Fixes http://test.csswg.org/source/contributors/opera/submitted/css3-conditional/at-supports-030.html 
Do first (small) round of importing W3C reftests into tree.  (This provides a test for bug 782401.) 
Back out nsXBLPrototypeHandler changes from changeset d09b4e60bb09 to fix bug 776075. 
Treat argument of :-moz-locale-dir() case-insensitively.  (Bug 741293)  r=smontagu 
Move the imported css3-namespace test suite in with other test suites imported from the CSSWG repository, and make the importing script import it.  (Bug 691950) 
Fix reftest bustage from changeset aa86bacc7e57.  (Bug 691950) 
Move mStyleRule and mStyleRuleRefreshTime from ElementAnimations/ElementTransitions to CommonElementAnimationData, no bug, r=dbaron over irc 
Bug 705184 - Count unexpected reftest crash dump files as test failures. r=dbaron 
Bug 782610 - Fix format of @supports tests. r=dbaron 
Bug 753517 part 3.   Expose the API needed for Paris bindings on nsDOMCSSDeclaration and nsICSSDeclaration.  r=dbaron,peterv 
Bug 753517 part 4.  Set up auto-generation of CSS2Properties.webidl from nsCSSPropList.h and enable Paris bindings for CSSStyleDeclaration and CSS2Properties.  r=khuey,peterv,dbaron 
Bug 778413 - Minimum cell width calculation reftest. r=dbaron 
Bug 778413 - Move and rename the reftest. irc-r=dbaron 
Bug 781313 - Move the euclidGcd and lcm algos form nsStyleAnimation.cpp to mfbt/MathAlgorithms.h r=dbaron,luke 
Bug 761393 - Add a method to hash an nsStyleCoord. r=dbaron 
Bug 761393 - Cache the gfxPatterns using an nsExpirationTracker and an hashtable. r=dbaron 
Bug 732209 part 4.  Propagate the CORS state throughout the CSS loading process.  r=sicking,dbaron 
Bug 732209 part 6.  Allow web pages to access cross-origin stylesheets if the CORS headers say so.  r=dbaron,sicking
Print which bits have errors to try to distinguish overwriting from hardware problems.  (Bug 785737)  r=roc 
Add some missing values to test as shown by code coverage data on nsComputedDOMStyle.cpp .  No bug. 
Remove now-unneeded code from nsComputedDOMStyle.  (Bug 93725, patch 3)  r=jdaggett 
This was resolved at the CSS Working Group meeting on 2012-08-15. 
Don't accept the third argument to transform-origin when 3-D transforms aren't enabled.  (Bug 786706)  r=mattwoodrow 
Bug 786891: Refactor import script for css reftests and add support for auto-prefixing, DONTBUILD because NPOTB. [r=dbaron] 
Bug 779527 - Use the physical device resolution for media queries on mobile [r=dbaron] 
Bug 763689 patch 2: Support min-width:auto in computed style, and add special cases as necessary wherever it's read. r=dbaron 
Bug 763689 patch 3: Support min-height:auto in computed style, and add special cases as necessary wherever it's read. r=dbaron 
Bug 787267: Add capability to import-tests.py to mark tests as failing. [r=dbaron] 
Convert bidi_numeral_test.js from CR-LF to LF line endings.  No bug. 
Bug 666041 patch 5: Use flex-basis in place of main-size property, when computing the main size of a flex item. r=dbaron 
Bug 666041 patch 6: Ignore min/max main-size properties when computing the main size of a flex item (since those properties are honored later in the flexbox algorithm). r=dbaron 
Bug 780258: Add an interface to set the maximum line box width, accessible from chrome script. [r=dbaron] 
Bug 719286 - Add -moz-is-glyph media feature for setting default values for SVG glyphs in the browser SVG style sheet r=dbaron 
Bug 719286 - Add support for objectfill and objectstroke values to CSS parser r=dbaron 
Bug 719286 - Add support for -moz-objectFillOpacity and -moz-objectStrokeOpacity to CSS parser for SVG glyphs r=dbaron 
Bug 719286 - Add support for -moz-objectValue keyword to CSS parser for SVG glyphs r=dbaron 
we set network.proxy.autoconfig_url to a data: URL. 
Remove the easy-to-remove uses of enablePrivilege in layout/base/tests/.  (Bug 788603)  r=roc 
Rename nsIPresShell::InitialReflow to Initialize since it doesn't actually perform reflow.  (Bug 788956)  r=roc 
Remove last use of enablePrivilege in layout/style mochitests.  (Bug 653461, patch 4)  r=bzbarsky 
Bug 655877 - Part 23a: Add white-space:-moz-pre-discard-newlines value with white space collapsing behavior like SVG's xml:space="preserve". r=roc,dbaron 
Bug 786946.  Don't propagate text-decoration to <select> by default.  r=dbaron 
Move nsStyleStruct MaxDifference methods inline, and make them available unconditionally rather than DEBUG-only.  (Bug 779968, patch 1)  r=bzbarsky 
Use nsStyleStruct MaxDifference methods instead of maxHint for hint handling in nsStyleContext::CalcStyleDifference.  (Bug 779968, patch 2)  r=bzbarsky 
Remove maxHint from nsStyleContext::CalcStyleDifference.  (Bug 779968, patch 3)  r=bzbarsky 
less confusing name nsChangeHint_Hints_NotHandledForDescendants. 
Refix bug 731521 in the new setup for forcing comparison in nsStyleContext::CalcDifference, since we can no longer rely on nsStyleBorder::ForceCompare.  (Bug 779968, patch 5)  r=bzbarsky 
example, margins or widths in em or rem units). 
Remove ForceCompare methods from style structs.  (Bug 779968, patch 7)  r=bzbarsky 
Bug 786946.  Don't propagate text-decoration to <select> by default.  r=dbaron 
Distribute the width of column-spanning cells to columns with nothing in them, like we do for final table widths.  (Bug 734569)  r=dholbert 
Change some uses of nsChangeHint_ReflowFrame to check nsChangeHint_NeedReflow.  (Bug 789592, patch 1)  r=bzbarsky 
Rename nsChangeHint_ReflowFrame to nsChangeHint_AllReflowHints to make it clearer that it's the one that contains multiple bits.  (Bug 789592, patch 2)  r=bzbarsky 
Bug 789771 - Add an OSX variable to the reftest condition sandbox to make it easier to test Mac OS X versions, r=roc 
Bug 716575 (1/4) - Add a scriptable interface to GetViewportInfo [r=dbaron] 
Bug 716575 (3/4) - Move viewport pixel ratio calculations into the platform [r=dbaron,jwir3,mfinkle,roc] 
Bug 716575 (4/4) - Tests for GetViewportInfo [r=dbaron] 
Bug 698256 Add and use Substring(data, length) convenience method r=dbaron 
Bug 716628.  Implement support for 'turn' unit in CSS.  r=dbaron 
Track TEXT_IN_TEXTRUN_USER_DATA separately for inflated and non-inflated text runs.  (Bug 718290)  r=roc 
Bug 788836 - Simplify @-keyword parsing by letting ParseAtKeyword deal with everthing after the @.  Make it pass the first char to GatherIdent so that it returns false for a bad escape sequence at the start.  r=dbaron 
Bug 666041 patch 4.5: Add support for custom flex container sizes to test_flexbox_layout.html, and give it some testcases that exercise our float-accumulation-error-handling code. r=dbaron (DONTBUILD because this test is currently disabled on trunk) 
Add an additional reftest for bug 734569.  No review. 
Add more profile labels for the separate parts of restyle processing.  (Bug 790379)  rs=cjones 
Bug 791037: s/IsInlineOutside/IsInlineOutsideStyle/ in #ifdef MOZ_FLEXBOX code to fix compile error when flexbox is defined. r=dbaron (DONTBUILD because this is in code that's NPOTB for now) 
Bug 733186: Annotate ~1000 methods with MOZ_OVERRIDE in /layout r=dholbert r=dbaron 
Add more profile labels for the separate parts of restyle processing.  (Bug 790379)  rs=cjones 
Make reftest harness print max difference and number of differing pixels on the TEST-UNEXPECTED-FAIL line so that it ends up in bugs.  (Bug 789602)  r=ted 
Bug 570326 - Add support for background-size in background shorthand property. r=dbaron 
Bug 716575 (1/4) - Add a scriptable interface to GetViewportInfo [r=dbaron] 
Bug 716575 (3/4) - Move viewport pixel ratio calculations into the platform [r=dbaron,jwir3,mfinkle,roc] 
Bug 716575 (4/4) - Tests for GetViewportInfo [r=dbaron] 
Remove aPresContext parameter to nsStyleContext constructor and document parameters to constructor.  (Bug 791416)  r=bzbarsky 
consider fixing it somehow.) 
the original as well). 
Bug 774169, patch 3:  Treat -moz-transform as a shorthand rather than an alias so the parsing function can know whether it is parsing a prefixed transform.  r=bzbarsky 
Bug 774169, patch 4:  Revert bug 719054 for prefixed -moz-transform but leave it for unprefixed transform.  r=bzbarsky 
Fix assertion failure causing orange.  (Bug 774169) 
Bug 716575 (1/4) - Add a scriptable interface to GetViewportInfo [r=dbaron] 
Bug 716575 (3/4) - Move viewport pixel ratio calculations into the platform [r=dbaron,jwir3,mfinkle,roc] 
Bug 716575 (4/4) - Tests for GetViewportInfo [r=dbaron] 
Bug 793554: Devirtualize mozilla::css::Loader::[AddRef|Release] r=dbaron 
Bug 524025 - Remove LL_* constants in nsLineLayout with separate booleans with field widths. r=dbaron 
Bug 795313: Modify order of conditionals in UpdateFontInflationDataWidthFor() for performance enhancements. [r=dbaron] 
Add vendor prefix to :dir selector. Bug 562169, r=dbaron 
Bug 666041 patch 6.5: Add flag to nsHTMLReflowState & ComputeSize for measuring auto height. r=dbaron 
Bug 666041 patch 7: implementation of flex container class for CSS3 flexbox. r=dbaron 
Bug 666041 patch 8: Add special handling for "min-width: auto" value on flex items. r=dbaron 
Change :dir selectors to :-moz-dir in css files. Bug 562169, r=dbaron 
Bug 795221 part 1.  Implement cycle collection for nsCSSStyleSheet objects, so we don't leak through them.  r=smaug,dbaron
Bug 795221 part 3.  Implement cycle collection for GroupRule objects.  r=smaug,dbaron 
Bug 799775 part 1: General mochitest for 'order' property reordering items in a flex container. rs=dbaron 
Bug 799775 part 2: Add decl to inherit "-moz-order" on table outer frames in ua.css. r=dbaron 
Bug 799647 part 1: Use style-context parent instead of frame parent when resolving "align-self:auto" on a flex item. r=dbaron 
Bug 799647 part 2: reftest. r=dbaron 
Bug 784375: Add a preference to control maximum font size inflation ratio. [r=dbaron] 
Bug 801098: Unprefix flexbox properties & keywords (still preffed off by default). r=dbaron 
Bug 787210: Add capability to import-tests.py to import ahem font if necessary for tests. [r=dbaron] 
Bug 796526 - stop spewing errors re SysGetModuleInfo64 in debug builds.  r=dbaron 
Bug 799332 - Set a high urlclassifier.updateinterval to match the one in automation.py.in so that we're unlikely to leak background safebrowsing updates by doing them at the wrong time, r=dbaron 
Bug 784466 -  [css3-animations] Drop declarations in keyframe rules that have !important. r=dbaron 
Bug 737961 - add reftest manifest conditions for height width. r=dbaron 
Bug 798020: Reduce severity of fatal assert about unconstrained-width flexbox, since gigantic widths in web content can reach our "unconstrained" sentinel value, and it's not actually dangerous. r=dbaron 
Bug 798235: For flex items in a vertical flex container, treat enumerated values for flex-basis as "auto". r=dbaron 
Bug 798666: Constrain cross size of auto-sized flex containers to be within min/max range. r=dbaron 
Bug 799207: Reduce severity of assertion that checks baseline of flex item against sentinel value. r=dbaron 
Bug 799332 - Set a high urlclassifier.updateinterval to match the one in automation.py.in so that we're unlikely to leak background safebrowsing updates by doing them at the wrong time, r=dbaron 
Bug 784467 - Switch computed style's url(invalid-url:) to [css3-values]'s url(about:invalid). r=dbaron 
Bug 599882.  Make baselines not depend on relative positioning of kids.  r=dbaron 
Bug 795520.  Don't fail to return a computed CSS declaration just because the style change that will give us a presshell has not been processed yet.  r=dbaron
Bug 800983.  Expose a getter for default computed style.  r=dbaron
Bug 799796.  Do memory reporting for stylesheets that only the CSS loader might know about.  r=dbaron,njn 
Bug 800093 - adjust reftest-sanity tests to fit in a 600x600 window. r=dbaron 
Bug 784375: Add a preference to control maximum font size inflation ratio. [r=dbaron] 
Bug 803695: Remove "myRawPtr == myRawPtr" comparisons in TestCOMPtrEq.cpp, to fix clang "-Wtautological-compare" warning, and mark dir as warning-free. r=dbaron 
Bug 503720: Implement vw/vh/vmin/vmax. r=dbaron 
Bug 798853, style system.  r=roc,dbaron 
Bug 802311: Make max line box width adjustment API compute right edge of line boxes correctly to fix reflow-on-zoom issues. [r=dbaron] 
bug 805787 - fix for build failure in nsNodeUtils.cpp with Apple clang 4.0 or other not-up-to-date versions. r=dbaron 
is passed through to the leaf CalcLengthWith calls. 
Bug 804970, patch 2: Add test for dynamic changes of viewport units.  r=bzbarsky 
Bug 804970, patch 3: Don't force vw/vh/vmin/vmax units out of the rule tree.  r=bzbarsky 
Bug 804970, patch 4: Refactor part of RebuildAllStyleData into a helper function (slightly reordering it), so that we can share that part.  r=bzbarsky 
Bug 804970, patch 5: Handle dynamic changes to the basis for 'rem' units by rebuilding all style data.  r=bzbarsky 
Bug 804970, patch 6: Don't force rem units out of the rule tree.  r=bzbarsky 
Add preferences (defaulting to enabled, for now) to control whether certain prefixed aliases for CSS properties are supported, so that authors can have a way to test what happens when they're turned off in advance of our disabling them.  (Bug 804944)  r=bzbarsky 
Bug 801819.  Remove nsIDOMCSS2Properties and the classinfo bits for CSS declarations.  r=peterv,dbaron 
Bug 800106 - Drop inline annotations in nsUTF8Utils.h; r=dbaron 
Bug 783415 part 1: Make "display" value of flex items compute to their blockified forms. r=dbaron 
Bug 783415 part 2: Add mochitest to check the computed value of various specified "display" values on flex-container-children. r=dbaron 
Bug 809533, patch 1:  Make allocation in the frame arena and the display list arena infallible.  r=roc 
Bug 809533, patch 2:  Don't null-check inside NS_New*Frame.  r=roc 
Bug 572200, part 1:  Make rule nodes know whether they're used directly by a style context.  r=bzbarsky 
Bug 572200, part 2:  Allow rule nodes to cache data owned by an ancestor rule node:  don't destroy structs that we don't own.  r=bzbarsky 
Bug 572200, part 3:  Cache data that lives in the rule tree on every relevant rule node that has a style context directly pointing to it directly.  r=bzbarsky 
Bug 794748: Add mochitest to check computed value of "min-width:auto" and "min-height:auto". r=dbaron 
Bug 775350 - Update the overflow areas of the lines containing floats based on the overflow areas of the floats in the containing block; r=dbaron 
Bug 685012 - Implement page-break-inside:avoid in the style system.  r=dbaron 
Bug 790903: Accept unitless 0 as 'flex-basis' component in 'flex' shorthand. r=dbaron 
Bug 806001: Make nsListControlFrame pass a nsDidReflowStatus instead of a nsReflowStatus in its DidReflow calls. r=dbaron 
Bug 806002: Convert nsDidReflowStatus into an enum. r=dbaron 
Bug 809533, patch 3:  Stop handling allocation failures in the style system that no longer need to be handled.  r=bzbarsky 
Bug 809533, patch 4:  Remove null-checks of NS_New*Frame callers in the frame constructor.  r=bzbarsky 
Bug 809533, patch 5:  Remove unneeded null-checks in nsIPresShell.h.  r=roc 
Bug 802849 - Refactor nsPresContext::MediaFeatureValuesChanged so that it can handle rebuilding style data for all callers. r=dbaron 
Fix CheckFontCallback to match 'rem' unit changes.  (Bug 806310)  r=bzbarsky 
Bug 804089: Call DidReflow() after "measuring" reflow of flex item, to clear any intermediate state before our *real* ReflowChild() call. r=dbaron 
Bug 737961 - add reftest manifest conditions for height width. r=dbaron 
Bug 115199 - CSS2 @page rule style support. r=dbaron 
Bug 115199 - CSS2 @page rule style support. r=dbaron 
Bug 516091: Split CSS error reporting to its own file and class.  Allows CSS scanner to become a stack object.  r=dbaron 
Bug 455839: simplify the CSS error reporting API.  r=dbaron 
Bug 229827: escape unprintable characters in CSS parser diagnostics. r=dbaron 
Bug 229827: escape unprintable characters in CSS parser diagnostics. r=dbaron 
Bug 803908: Enable font inflation for async pan/zoomed browsers. r=dbaron 
Bug 813373, patch 1:  Remove pres context parameters from nsStyleAnimation::UncomputeValue.  r=dholbert 
Bug 813373, patch 2:  Remove pres context member from ValueWrapper.  r=dholbert 
Bug 813373, patch 3:  Make sure all style rules have non-empty List implementations.  r=bzbarsky 
Bug 813373, patch 4:  fix printfs that crept in in patch 3. 
Bug 477462 - margin-collapsing test suite, wave 5a; dynamic and != tests for negative sibling margins; r=dbaron 
Bug 807897: Make non-auto values for "z-index" turn flex items into stacking contexts, even if they're not positioned. r=dbaron 
Bug 776443 part 1.  Support percent-less calc for internal table element heights.  r=dbaron 
Bug 776443 part 2.  Support percent-less calc for internal table element widths.  r=dbaron 
Bug 776443 part 1.  Support percent-less calc for internal table element heights.  r=dbaron 
Bug 776443 part 2.  Support percent-less calc for internal table element widths.  r=dbaron 
Bug 814302:  Don't print to console when an invalid selector is passed to mozMatchesSelector.  r=bzbarsky 
border-image-* properties should clamp negative calc().  (Bug 802279)  r=jwalden 
Bug 788409:  When the compositor runs past the end of an animation, just fill forwards until the main thread catches up. r=dbaron a=blocking-basecamp 
Bug 809312 - Add ability to run a subset of reftests from a manifest. r=dbaron,gps 
Bug 788967 - Add a default-preferences statement for reftest manifests. r=dbaron 
Bug 788967 - Add a default-preferences statement for reftest manifests. r=dbaron 
Bug 814778: Disable font inflation for the b2g master process. r=dbaron 
Bug 812824: Use a clean struct for inheritance on root nodes. r=dbaron,Waldo 
Bug 808767: Put flex items' borders & backgrounds into the BlockBorderBackgrounds display-list, so that overlapping flex items & their contents will paint in the right order. r=dbaron 
Bug 811021.  Tell catalog sheets they have the document as an owning node so they won't get double-counted by memory reporters.  r=dbaron 
Bug 808767: Put flex items' borders & backgrounds into the BlockBorderBackgrounds display-list, so that overlapping flex items & their contents will paint in the right order. r=dbaron 
Bug 813358 part 1: Remove unnecessary nsBoxLayoutState argument from various XUL frame-sorting-related methods. r=dbaron 
Bug 813358 part 2: To determine if a frame list is already sorted, just directly compare adjacent frames' GetOrdinal() values. r=dbaron 
Bug 813358 part 3: Templatize nsBoxFrame's frame-sorting methods, to make the comparison function customizable. r=dbaron 
Bug 813358 part 4: Move frame-sorting logic from nsBoxFrame to nsLayoutUtils. r=dbaron 
Bug 813358 part 5: Add a post-condition to SortFrameList() to assert that it's actually sorted. r=dbaron 
Bug 817330 - test_bug458898.html fails if dom.disable_window_move_resize = true. r=dbaron 
Bug 789390 - Fix crash when using -moz-objectStroke paint value with transitions r=dbaron 
Make import-tests.py generate the current state of the reftest manifest, and warn that the file is autogenerated.  (Bug 817810)  No review. 
Bug 811825: Make max line box width ignored if frame has constrained height in order to prevent cut-off data when a user reflows-to-zoom. [r=dbaron] 
Bug 648722 part 1.  Add a :scope pseudo-class that just matches the same thing as :root for now.  r=dbaron 
Bug 648722 part 2.  Make :scope match the context node for selectors API calls.  r=dbaron 
Bug 783490: Enable "layout.css.flexbox.enabled" pref. r=dbaron 
Bug 783409: Enable "layout.css.flexbox.enabled" pref. r=dbaron 
Bug 780692; throttle OMTA (rollup patch). r=dbaron,bz 
Bug 814302, part 2: Don't print to console when an invalid selector is passed to querySelector*.  r=bzbarsky 
Bug 822231; fix end of animation behaviour. r=dbaron 
Bug 814530 - Disable @supports on Release and Beta. r=dbaron 
Bug 793617 - Implement mask-type property. r=dbaron,longsonr 
Merge mozilla-inbound and mozilla-central. 
Bug 807336 - Suppress CSS property parse errors inside failing @supports rules. r=dbaron 
Bug 822766.  Be a bit more careful with our level assert in ReplaceAnimationRule.  r=dbaron 
Bug 823932 Change leaksoup.cpp to use nsAutoTArray rather than nsAutoVoidArray. r=dbaron 
Bug 818861 Shouldn't allow promising a flat string from a flat string r=dbaron 
Bug 814566 - Allow invalid syntax (with balanced parentheses) inside @supports conditions. (v1.1.1) r=dbaron 
Bug 823460; start throttled transitions with delays; r=dbaron; a=blocking-basecamp 
Bug 818400.  Add a preference to control :scope and pref it off in release builds for now.  r=dbaron 
Bug 779917 - Implement CSS.supports(). r=dbaron f=bz 
Bug 811521: When reflowing a flex container, ensure its children are sorted by 'order'. r=dbaron 
Bug 821426: Call FinishReflowChild() instead of DidReflow() after flex container's "measuring" reflow for a flex item. r=dbaron 
Bug 821449: Marked flex items whose height is stretched (via "align-items/align-self") as having a relative height. r=dbaron 
Bug 820909.  Make LowerCaseEqualsASCII and LowerCaseEqualsLiteral actually do ASCII-case-insensitive matching instead of doing odd things with KELVIN SIGN and LATIN CAPITAL LETTER I WITH DOT ABOVE.  r=bsmedberg, sr=dbaron 
Bug 823124:  Add diagnostic (and otherwise good-to-have) assertion that non-root rule nodes must have a non-null rule (and vice-versa). 
Bug 823124; speculative fix - null style rule from an animation; r=dbaron 
Bug 812143 Include text-decoration rect as solid style in text frame's overflow rect when the style is none r=dbaron 
it for such a rarely-hit and non-interoperable case.) 
Bug 818793 - Add a |aMaxFrames| parameter to NS_StackWalk.  r=jlebar,glandium; sr=dbaron. 
Bug 826149 - Add IsFrameTreeTooDeep() early-return in flex container reflow. r=dbaron 
Bug 508725 - Part 1: Add content flag representing whether an element is in a style scope. r=dbaron 
Bug 508725 - Part 2: Record on nsCSSStyleSheets whether they are for a <style scoped>. r=dbaron 
Bug 508725 - Part 3: Create a rule processor for each style scope. r=dbaron 
Bug 508725 - Part 4: Add a content flag representing whether an element is a scoped style root. r=dbaron 
Bug 508725 - Part 5: Record the <style scoped> elements in scope in preparation for selector matching. r=dbaron 
Bug 508725 - Part 6: Modify selector matching to take style scopes into account. r=dbaron 
Bug 508725 - Part 7: Optimize restyling when a scoped style sheet changes. r=dbaron 
Bug 508725 - Part 8: Update style sheet when scoped="" attribute added/removed from <style>. r=dbaron 
Bug 508725 - Part 9: Implement HTMLStyleElement.scoped. r=dbaron 
Bug 508725 - Part 11: Tests for <style scoped>. rs=dbaron 
Bug 605231 - Tests for font family name parsing. r=dbaron 
Bug 605231 - Move transform parsing code out of font property parsing code. r=dbaron 
Bug 605231 - Don't parse unquoted reserved keywords 'initial' or 'default' in font family names. r=dbaron 
because we were failing to process the UpdateOverflow hint. 
Fix bustage from bug 822721. 
Bug 508725 - Part 1: Add content flag representing whether an element is in a style scope. r=dbaron 
Bug 508725 - Part 2: Record on nsCSSStyleSheets whether they are for a <style scoped>. r=dbaron 
Bug 508725 - Part 3: Create a rule processor for each style scope. r=dbaron 
Bug 508725 - Part 4: Add a content flag representing whether an element is a scoped style root. r=dbaron 
Bug 508725 - Part 5: Record the <style scoped> elements in scope in preparation for selector matching. r=dbaron 
Bug 508725 - Part 6: Modify selector matching to take style scopes into account. r=dbaron 
Bug 508725 - Part 7: Optimize restyling when a scoped style sheet changes. r=dbaron 
Bug 508725 - Part 8: Update style sheet when scoped="" attribute added/removed from <style>. r=dbaron 
Bug 508725 - Part 9: Implement HTMLStyleElement.scoped. r=dbaron 
Bug 508725 - Part 11: Tests for <style scoped>. rs=dbaron 
because we were failing to process the UpdateOverflow hint. 
Bug 827579:  Remove post-resolve callback concept from style system.  r=bzbarsky 
Bug 827704:  Fix 'visibility' animation so that it doesn't animate between values when one of them is not 'visibile'.  r=bzbarsky 
Fix bustage from bug 822721. 
Bug 822721 followup:  remove bogus assertion to fix orange. 
Bug 588237, patch 2:  Fix comment that is now incorrect due to work in bug 563584 or followups.  r=roc 
Bug 588237, patch 3:  Remove the pushed floats list when it is empty.  r=roc 
Bug 588237, patch 4:  Pull pushed floats back from the next-in-flow at the start of reflow.  r=roc 
Bug 588237, patch 5:  remove the optimization of skipping FlowAndPlaceFloat for some pushed floats, simply because the optimization looks fishy to me.  r=roc 
related and pass both with and without the patch. 
the spec hasn't yet been updated. 
Bug 827687:  Fix edge case in calculation of whichIteration.  r=bzbarsky 
Bug 827687, patch 2:  Be more careful walking segments.  r=bzbarsky 
Back out bug 588237, patches 2 through 5. 
Bug 413958: report the text of the offending line in CSS error messages. r=dbaron 
Bug 822891:  Make animationiteration events fire when we're running off-main-thread animations and throttling style changes.  r=nrc 
Bug 588237, patch 2:  Fix comment that is now incorrect due to work in bug 563584 or followups.  r=roc 
Bug 588237, patch 4:  Pull pushed floats back from the next-in-flow at the start of reflow.  r=roc 
Bug 588237, patch 5:  remove the optimization of skipping FlowAndPlaceFloat for some pushed floats, simply because the optimization looks fishy to me.  r=roc 
Add crashtest for bug 621424 / bug 588237. 
Bug 829369: Cast pointer-subtraction to a size_t (after ensuring it'll be nonnegative) when comparing it to a nsTArray's size, to fix signed/unsigned comparison build warning. r=dbaron 
Bug 811391 - Part 1: Ignore @page declarations involving viewport units. r=dbaron 
Bug 811391 - Part 2: Tests. r=dbaron 
Bug 827591 - Be more careful changing declarations on page rules. r=dbaron 
Bug 811391 - Part 1: Ignore @page declarations involving viewport units. r=dbaron
Bug 811391 - Part 2: Tests. r=dbaron 
Bug 826582 - Part 1: Unprefix -moz-calc() in reftests for that feature. r=dbaron 
Bug 826582 - Part 2: Unprefix -moz-transform{,-origin} in calc() reftests. r=dbaron 
Bug 826582 - Part 3: Move calc() tests to be upstreamed to the CSS test suite. r=dbaron 
Bug 826582 - Part 4: Make upstreamed calc() tests conform to the test template. r=dbaron 
Bug 826582 - Part 5: Upstream calc-in-gradient tests. r=dbaron 
Bug 702121, patch 3:  Make the auto-hyphenation-{8,9,10} reftests not depend on picking the same fonts for different language or encoding values, to fix Android reftest failures from landing of bug 831354.  r=jfkthame 
Bug 831354, test fix 1:  Make continuous-inline-1{cd} tests no longer assume that the height of an inline in the default font is less than 20px.  r=bzbarsky 
vertical-align: top. 
Bug 831354, test fix 3: Make flexbox-intrinsic-sizing-horiz-2a.xhtml not assume that the distance from the baseline of the default font to the top of its normal line height is less than or equal to 16px.  r=dholbert 
Bug 831354, test fix 4:  Make auto-hyphenation-2 not depend on different languages leading to the same font.  r=jfkthame 
Bug 831354, test fix 5: Make flexbox-align-self-vert-rtl-1.xhtml wrap some text in a 100px-wide inline block, so that our different centering algorithms will be able to center it consistently. r=dbaron 
Bug 831354, test fix 2, followup:  remove a 'line-height: 0' that's in the test but not the reference. 
Backout changeset aa20a6097d0b (bug 830983) for causing mochitest-other orange in test_app_cleardata_permissions.html. 
bug 831354 - test fix 7 - explicitly use Droid Serif for the greek-uppercase-1 test on Android, as default fonts may not be suitable. r=dbaron 
bug 831354 - test fix 6 - canvas and svg language-font tests pass on android with the Open Sans font prefs. r=dbaron 
bug 831354 - test fix 7 - explicitly use Droid Serif for the greek-uppercase-1 test on Android, as default fonts may not be suitable. r=dbaron 
bug 831354 - update default font prefs to use the bundled Open Sans and Charis SIL Compact on Android, but not on Gonk. r=dbaron 
bug 831354 - test fix 6 - canvas and svg language-font tests pass on android with the Open Sans font prefs. r=dbaron 
Bug 832589: Declare character encoding in the blank document that we load between each reftest, to prevent an error message from being printed each time we do that. r=dbaron 
Bug 823989: Don't build testpilot on aurora update channel, a=akeybl DONTBUILD 
Bug 394311 - Stop building with -pedantic.  r=ted,dbaron. 
Bug 763399:  Add a comment describing NS_CSS_MINMAX.  r=dbaron 
Bug 832989 - Disable compiled test TestPoisonArea under ASan (incompatible). r=dbaron, a=nonlibxul 
Bug 797900 - Disable invalid-size-second-frame crashtest under AddressSanitizer. r=dbaron, a=nonlibxul 
bug 832615 - make reftest-analyzer ignore timestamps in b2g reftest logs. r=dbaron a=nonlibxul DONTBUILD 
Bug 832352, patch 1:  Make sure all browser mozconfigs include build/mozconfig.common and that they all include build/mozconfig.common.override last.  r=ted 
Bug 832352, patch 2: Make sure all mobile/android mozconfigs include build/mozconfig.common.override.  r=ted 
Bug 832352, patch 3: Make sure all b2g mozconfigs include build/mozconfig.common .  r=ted 
Bug 832998:  Fix a backwards OMTA-throttling-enabled check, to fix performance regression on the non-OMTA-throttling case.  r=nrc 
Add reftest for bug 830299. 
Bug 832120 cursor: auto; should be cursor: text; on editable element r=dbaron 
Bug 833624. Bump up size of int's in mOrder to allow more than 256 CSS properties. r=dbaron 
Bug 819871 - Make ":-moz-placeholder" parsable but without any effect on styling. r=dbaron,bz 
Bug 827596 - assert at runtime if we try to assign to a nsAutoPtr which already contains the identical pointer, r=dbaron 
Backout 8f213db8fe7f and 31399fd0cb5b (Bug 791432) on a CLOSED TREE on the theory that maybe WebGL changes could have changed graphics state in a way that caused the Android reftest-4 failures on SVG gradient tests. 
Backout ccf23b56150e (bug 832576) on a CLOSED TREE on the theory that maybe WebGL changes could have changed graphics state in a way that caused the Android reftest-4 failures on SVG gradient tests. 
Bug 835169:  Remove unused mapping into style of table cols attribute.  r=bzbarsky 
Bug 836899: Remove nsBlockReflowState constructor unused parameter 'aMetrics'. r=dbaron 
This removes a difference between Gecko and other browsers. 
Bug 836530 followup:  fix tests for new ASCII range. 
Fix WARNINGS_AS_ERRORS bustage ("comparison between signed and unsigned integer expressions") from Bug 830707, Part 1 (changeset 93a4d0995cba) on a CLOSED TREE. 
Bug 831232 - Improve spec conformance for table@border; r=dbaron 
Bug 835439 - Remove support for the table[layout] attribute; r=dbaron 
shorthands or other property duplication works). 
testharness.js integration elides runs of successive passes.) 
Bug 840317 - Re-evaluate media queries in scoped style sheets. r=dbaron 
Bug 836954: Mark nsIFrame::GetBaseline() impls as MOZ_OVERRIDE. r=dbaron 
Bug 837000: Remove nsBlockReflowState.h's essentially-unnecessary #include of nsBlockFrame.h (and related cleanup). r=dbaron 
Bug 817395 - Clean up the temporary style context used for font size comparision of the root before the rule node tree is rebuilt. r=dbaron 
Bug 833808 part 1.  Inspector code should be IMPL_NS_LAYOUT.  r=dbaron 
Bug 833808 part 2.  Add some utilities for working with selectors to inspector utils.  r=dbaron 
the patch. 
Bug 840367:  Fix misnaming of keyword IDs in nsCSSKeywordList.h.  r=heycam 
Bug 827227 - Fixed int overflow when scaling border-image-width. r=dbaron 
Bug 821775: Set mHResize & mVResize flags when doing the actual reflow of a flex item, if we did an earlier "measuring" reflow and we're now stretching the item in either or both dimensions. r=dbaron 
Bug 840402 - Add some more values to property_database.js. r=dbaron 
that can never be null do not begin with "Get". 
patch 1. 
Bug 841789, patch 3:  Some removal of unneeded style context null-checks and comment cleanup.  r=dholbert 
name is different. 
Bug 841873: Pref off CSS3 flexbox in release builds, by default. r=dbaron 
Bug 834107: Replace helper-function GetContainingBlockFor() with direct calls to nsIFrame::GetContainingBlock(), in nsComputedDOMStyle.cpp. r=dbaron 
in order to construct a style context. 
Bug 781360 patch 2:  Rename nsRuleNode::GetPresContext to PresContext, since it can never return null.  r=dholbert 
s/\<GetStyle\(Font\|Color\|List\|Text\|Visibility\|Quotes\|UserInterface\|TableBorder\|SVG\|Background\|Position\|TextReset\|Display\|Content\|UIReset\|Table\|Margin\|Padding\|Border\|Outline\|XUL\|SVGReset\|Column\)\>/Style\1/g 
Bug 781360 patch 4:  Remove the Get from nsStyleContext::GetStyleData and nsIFrame::GetStyleDataExternal, which never return null.  r=dholbert 
Matches spec change in https://dvcs.w3.org/hg/csswg/rev/34b185ae3bac . 
Bug 563195:  Fix -Wshadow warnings in public JS API headers (those used from layout/style/).  r=njn 
Bug 563195:  Fix -Wshadow warnings in layout/style.  r=bzbarsky 
Bug 563195:  Fix -Wshadow warnings in public SPS headers.  r=BenWa 
A better name here would be welcome. 
warnings needed to land this. 
Bug 836655:  Fix bustage ("comparison between signed and unsigned integer expressions", warnings-as-errors) by using Contains rather than IndexOf. 
Backed out changesets b093ba2c7ff9 and 0acbd06d48a9 (Bug 836655) for failing unit test. 
Bug 842128 - Don't call nsLayoutUtils::GetFontMetricsForFrame in nsProgressFrame::ComputeAutoSize. r=dbaron. 
Bug 842829 - Fix test_condition_text.html to parse the style sheet after the pref is set. r=dbaron 
Bug 842772 - Don't test for mask-type when the pref is disabled. r=dbaron 
to match. 
Fix spelling.  No bug.  No review. 
which I believe is portable despite being unspecified. 
Bug 790589:  Document the MOZ_CC_LOG_DIRECTORY environment variable.  r=smaug 
Bug 563195:  Fix -Wshadow warning in nsHtml5ByteReadable.h.  r=hsivonen 
Backout changeset b968708558b9 (bug 839809) for reftest failures. 
http://lists.w3.org/Archives/Public/www-style/2013Feb/0392.html 
Bug 839809 followup:  fix typos in comment.  DONTBUILD.  No review. 
Bug 763879 - implement inline stylesheet blocking for CSP (r=dbaron) 
Bug 841847: Ensure that we reflow a flex container's children, if any of them received a "measuring" reflow. r=dbaron 
Bug 842683: Add #ifdef guard around mac-specific chunk of reftest.js. r=dbaron 
ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/chrome/toolkit/components/passwordmgr/test/test_privbrowsing_perwindowpb.html | uncaught exception - TypeError: normalWindowIframe is null at chrome://mochitests/content/chrome/toolkit/components/passwordmgr/test/test_privbrowsing_perwindowpb.html:266 
freeing it), leaking the window. 
multiple tests); it does not function when running only a single test. 
Bug 326317 - Fix issues with comments in nsTSubstring.h. r=dbaron 
Bug 404077:  Annotate known assertions in mochitests. 
Bug 404077:  Do GC in a small number of tests to reduce the spread of GC-related assertions.  r=Jesse 
Bug 404077:  Clean up erroneous expectAssertions calls from GC of objects created in test_bug391777.html. 
Bug 404077:  Clean up erroneous expectAssertions calls from GC of objects created in test_bug291653.html. 
This will require a little follow-up cleanup. 
Bug 404077:  Use navigator.platform.startsWith rather than navigator.platform.indexOf, at Jesse's suggestion. 
Bug 404077:  Annotate one more known assertion. 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 404077:  Enable checking of assertions in mochitests. 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 843849 - Adjust expected assertion counts for fullscreen assertions. r=dbaron 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 404077:  Adjust annotations of expected assertions.  CLOSED TREE 
Bug 404077:  Adjust annotations of expected assertions.  CLOSED TREE 
Bug 404077:  Adjust annotations of expected assertions.  CLOSED TREE 
Bug 404077:  Fix think-o in previous annotations of expected assertions.  CLOSED TREE 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 404077:  Adjust annotations of expected assertions.  CLOSED TREE 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 846099:  Avoid (GC-timing-sensitive) nsTraceRefcnt assertions from duplicate class names.  r=mounir 
Bug 844869 - Make NS_ASSERTION fatal under GTest. r=dbaron 
Bug 683159:  Explicitly gc in test_bug451286 so that intermittent assertions aren't spread across all the following tests. 
Bug 845676 - Remove most of the assertion annotations in the content/media mochitests. r=dbaron 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 683159:  Adjust annotations of expected assertions.  CLOSED TREE 
Bug 404077:  Adjust annotations of expected assertions. 
Bug 683159:  Remove SimpleTest.expectAssertions() calls no longer needed due to SpecialPowers.gc() added in changeset 67060725ec8d. 
Bug 846096:  Be more consistent about annotating failures due to bug 846096, and mark them with the bug number. 
Bug 671976:  Add SpecialPowers.gc() calls so bug 671976 assertions show up in correct tests, and correctly annotate assertions. 
Bug 671976:  Fix comment typo in previous commit.  DONTBUILD 
Bug 846320 - Remove SimpleTest.expectAssertions in test_seek.html. r=dbaron 
Bug 671976:  Tweak timing in the hopes of forcing the assertion to stay before TEST-END on Linux32; add additional leakage of expected assertions for Windows. 
Backout changeset 2bff7f5e13a4 (bug 846096) because this test isn't relevant to bug 846096.  r=Ms2ger via IRC 
[Bug 847110] Fix up includes in layout/style r=dbaron 
Bug 847130 - Do DestroyOverflowLines() if the last line was removed instead of always RemoveOverflowLines() and SetOverflowLines() when there's lines remaining.  r=dbaron 
Bug 846096:  Bail out of nsRange::ParentChainChanged if the nodes aren't in a connected subtree.  r=smaug 
Bug 846096:  Remove SimpleTest.expectAssertions() calls annotating assertions from bug 846096. 
Bug 570896:  Allow separate background-origin and background-clip to be set in the background shorthand.  r=bzbarsky 
really just need to make our relative positioning support more general. 
Bug 846890 - Disable security.fileuri.strict_origin_policy for reftests (r=dbaron,dholbert) 
Bug 845246 - Stop using -moz-border-image in browser.css; r=dao f=dbaron 
Bug 804944, patch 2:  Also condition @-moz-keyframes parsing on the animations preference.  r=bzbarsky 
Bug 849263:  Make OverflowChangedTracker actually sort by depth in the tree where it intended to.  r=roc 
Backout changeset 6ff3de859ce3 (bug 804944), which depended on an unlanded patch that I currently have tagged for bug 784461. 
Bug 849659 - Make Ripc/Cipc pass on OSX; r=dbaron 
bug 751673 - fix Windows assertion stacks. r=dbaron 
Bug 846890 - Disable security.fileuri.strict_origin_policy for reftests (r=dbaron,dholbert) 
better to change the other values to work this way.) 
Move names for aliases from gAliases into kCSSRawProperties.  (Bug 849656, patch 2)  r=bzbarsky 
Move enabled state for aliases from gAliases to gPropertyEnabled.  (Bug 849656, patch 3)  r=bzbarsky 
Make gAliases be just an array of ids.  (Bug 849656, patch 4)  r=bzbarsky 
Bug 804944, patch 2:  Also condition @-moz-keyframes parsing on the animations preference.  r=bzbarsky 
Bug 841827: Mark flex container frame as having a relative height, if it's abspos w/ auto-height and top,bottom both set. r=dbaron 
Bug 847208 - Make RemoveFloat() check the PushedFloatsList too.  r=dbaron 
Bug 847208 - Reuse RemoveFloat() in a couple of places that did manual removal of a float child frame.  r=dbaron 
Bug 839443.  Add an API for getting our supported CSS property names in inspector code.  r=dbaron 
Bug 848745 part 1.  Add a scriptable API for converting CSS color names to RGB triples.  r=dbaron,miker 
Bug 848745 part 2.  Add a scriptable API for converting RGB triples to CSS color names.  r=dbaron,miker 
Bug 714453: Make pldhash assertions fatal. r=dbaron 
Bug 851097 - 2 tests are failing on debug builds in ubuntu VM's on mochitest chrome due to assertion counts. r=dbaron 
Bug 847480 - Convert DeprecatedAbs use in NS_LUMINOSITY_DIFFERENCE to Abs.  r=dbaron 
Bug 847480 - Convert DeprecatedAbs uses in animation code.  r=dbaron 
Bug 850559:  Fix tests that call advanceTimeAndRefresh without calling restoreNormalRefresh.  r=vlad 
Bug 850559:  Make mochitests check that the test didn't leave the refresh driver under test control.  r=ted 
Bug 847208 - Make RemoveFloat() check the PushedFloatsList too.  r=dbaron 
Bug 847208 - Reuse RemoveFloat() in a couple of places that did manual removal of a float child frame.  r=dbaron 
Bug 851607: Make nsFlexContainerFrame::Reflow reflow its children unconditionally. r=dbaron 
Bug 600100, Part 1: Return a status of NS_FRAME_NOT_COMPLETE during reflow of nsBlockFrame if we have a next continuation with pushed floats to prevent crashing in columns. [r=dbaron] 
Bug 852270 - use transform rather than -moz-transform in svg.css r=dbaron 
Bug 849657 patch 1: Expose CSS_PROP_PUBLIC_OR_PRIVATE macro to users of nsCSSPropList.h rather than CSS_PROP_DOMPROP_PREFIXED, so that we can avoid 'CssFloat' spreading even further.  r=bzbarsky 
Bug 849657 patch 2: Change internal uses of 'CssFloat' to 'Float'.  r=bzbarsky 
Bug 849657:  Fix bustage from changeset eb8d19e9c838. 
Bug 607441 part 1.  Don't disable SVG presentational attributes when page styles are disabled.  r=dbaron,jwatt 
Bug 607441 part 2.  Mark the scoped sheet rule processor dirty when author styles are enabled or disabled.  r=dbaron 
Bug 848539 part 1: Back out ed5120ffd118 from bug 794748 (mochitest for min-width:auto). r=dbaron 
Bug 848539 part 2: Back out de6a5c46a8ff, bug 666041 part 8 (special-handling for min-width:auto as min-content, for flex items). r=dbaron 
Bug 848539 part 3: Back out part of 076d87bf30d0, bug 666041 part 7 (flexbox frame class impl -- just removing the code that deals with min-height:auto). r=dbaron 
Bug 848539 part 4: Back out 82f73bdb2237, bug 763689 part 3 (style-system handling for min-height:auto). r=dbaron 
Bug 848539 part 5: Back out 6bb37077d615, bug 763689 part 2 (style-system handling for min-width:auto). r=dbaron 
Bug 848539 part 6: Back out ff0658329dbd, bug 763689 part 1 (CSS parser support for min-width:auto & min-height:auto). r=dbaron 
Bug 848539 part 7: Fix or disable reftests that depend on min-width:auto / min-height:auto. r=dbaron 
Bug 854263: Add special-case for flex items that are instances of nsFrame, whose trivial reflow impl doesn't request enough space for its border/padding. r=dbaron 
Bug 785468: Compute flex container's baseline as-described in the spec. r=dbaron 
Bug 841876: Enable flexbox pref in release builds. r=dbaron 
Bug 856199: Remove nsHTMLReflowState's no-longer-needed AutoRestore #include. r=dbaron 
Note bug number (bug 846137) for assertion annotation. 
given the difficulty of understanding output of 'perf'). 
Bug 855455:  Turn on @supports in release builds.  r=heycam 
Bug 811403 (Part 1) - Take scrollbars into account for viewport units if 'overflow: scroll' is set. r=dbaron 
Bug 811403 (Part 2) - Tests for viewport unit interactions with overflow values of scroll and auto. r=dbaron 
Bug 856879 - Remove constructor arguments argument from style struct macros. r=dbaron 
Bug 856402 - null-check the result of GetParentStyleSheet. r=dbaron 
Bug 856317 - Expose the column number of style rules via inIDOMUtils. r=dbaron 
Bug 849399. Invalidate existing style rule if we start a transition. r=dbaron 
Bug 857820 part.1 Drop blink effect implementation r=dbaron 
Bug 847279 - Fix incorrect relativesrcdir in other mochitest makefiles. r=mbrubeck 
Bug 847279 - Fix incorrect relativesrcdir in other mochitest makefiles. r=mbrubeck 
Bug 863429: Fix jprof on debug builds, remove evilness NPOTB DONTBUILD rs=dbaron 
Bug 857820 part.4 Remove debug flag for blink r=dbaron 
Bug 799816.  Try to not have preload sheets (or other unreferenced sheets) hanging out in our mCompleteSheets hashtable.  r=dbaron 
Bug 859018 - Remove the MSVC exemption for FAIL_ON_WARNINGS in layout. r=dbaron 
Bug 848291 - Update TransitionEvent to be compatible with the spec, r=dbaron 
Bug 848291 - Update TransitionEvent to be compatible with the spec, additional patch for the test, r=dbaron 
Bug 848293 - Update AnimationEvent to be compatible with the spec, r=dbaron 
Bug 868557. Explicitly unalias list in nsStyleContext::AddChild() r=dbaron
Remove SimpleTest.expectAssertions() call now that bug 846137 is fixed.  No review. 
Bug 868751:  Remove support for obsolete document.createEvent("AnimationEvent"), document.createEvent("TransitionEvent"), AnimationEvent.initAnimationEvent, and TransitionEvent.initTransitionEvent.  r=smaug 
Bug 828312, patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.  r=bzbarsky 
layout/reftests/bugs/418574-1.html exposed by patch 3. 
nsBlockFrame::PrepareResizeReflow. 
Bug 828312 patch 4:  Remove unused nsIPresShell::StyleChangeReflow.  r=bzbarsky 
Bug 828312 patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.  r=bzbarsky 
Fix warnings-as-errors bustage from changeset 09552b219c3a (Bug 828312 patch 3). 
Back out changeset d4f14f6dd401 (bug 863732) on a CLOSED TREE for being half of the problem causing all debug builds to leak as a result of merging mozilla-central and mozilla-inbound. 
(The mozilla-central side of the merge is entirely a merge from fx-team into mozilla-central.) 
Bug 260272 - Remove obsolete code from nsGlobalChromeWindow::SetCursor.  r=dbaron,mats 
Bug 462392 - crash test 
Bug 549861. Create pref for enabling CSS3 font features. r=dbaron 
Bug 549861. Add constants needed to support font-variant subproperties. r=dbaron 
Bug 549861. Parse simple font-variant subproperties. r=dbaron 
Bug 549861. Implement CSS parsing of font-variant-alternates. r=dbaron 
Bug 549861. Implement support for @font-feature-values rule. r=dbaron 
Bug 549861. Changes based on review comments for parsing of font-variant-alternates. r=dbaron 
Bug 549861. Alias unprefixed versions of font-feature-settings and font-language-override. r=dbaron 
Bug 871338:  Handle NS_BLOCK_LOOK_FOR_DIRTY_FRAMES lazy marking in GetMinWidth and GetPrefWidth in addition to Reflow.  r=bzbarsky 
Bug 855081:  Make jprof compile for me by switching from cplus_demangle (which doesn't link) to abi::__cxa_demangle.  r=jesup 
Backout changeset af5273034fdf (bug 871264), which doesn't compile (didn't fix nsRangeFrame.cpp (and possibly others). 
Bug 836565, Part 2: Perform a horizontal resize reflow instead of a full reflow when reflowing on zoom to get better performance. [r=dbaron] 
Bug 798843 - Rename -moz-objectFill, -moz-objectStroke, -moz-objectValue to context-fill, context-stroke, context-value r=dbaron 
Bug 798843 - Test to check that context-* attribute values are not valid when gfx.font-rendering.opentype_svg.enabled pref is false r=dbaron 
Bug 798843 - Add README for generating fonts for SVG in OpenType reftests r=dbaron 
Bug 862763: Cache whether font size inflation is enabled in the pres shell for efficiency. [r=dbaron] 
Bug 862763, Followup 1: Make MaybeReflowForInflationScreenWidthChange trigger a reflow when font inflation prefs change in either direction. [r=dbaron] 
Bug 763879 - implement inline stylesheet blocking for CSP (r=dbaron) 
Bug 763879 - implement inline stylesheet blocking for CSP (r=dbaron) 
Bug 779395 - Add support for skew transforms to compositor-driven animations r=dbaron 
Bug 872678: Mark nsStaticNameTable immutable after initialization to fix assertions r=dbaron 
Bug 851514.  Make sure that we add the parent frame before its kids when constructing a scrollable block, so that things will appear in the right order in fixed-pos lists.  r=dbaron 
Bug 864553 part 1: Remove ifdefs for MOZ_FLEXBOX and configure.in MOZ_FLEXBOX chunk. r=dbaron 
Bug 864553 part 2: Minor cleanup to formerly-ifdef-MOZ_FLEXBOX code. r=dbaron 
Bug 511803 patch 1:  Fix serialization of font-variant-alternates values with more than one function.  (Tested in patch 2.)  r=jdaggett 
Bug 511803 patch 2:  Convert all eCSSUnit_Function storage to use nsCSSKeyword.  This leads to one behavior change, which is case canonicalization for font-variant-alternates function values.  r=bzbarsky 
Bug 788549 Part 2: Remove nsComputedDOMStyle::GetROCSSPrimitiveValue r=dbaron 
Bug 788549 Part 3: Refactor nsComputedDOMStyle::DoGetTransform r=dbaron 
Bug 788549 Part 1: Throttled animations should not claim that their style rule is up to date r=dbaron, nrc 
Bug 867487.  Make sure we don't think we're cloning a complete sheet when we're actually cloning a loading one because the complete sheet was dirty.  r=dbaron 
Bug 585185: Parse font-sizes as non-negative, in 'font' shorthand. r=dbaron 
Bug 875175 - Stop continuous reflow and invalidation of entire SVG when an element that is partially/wholly outside the viewport is subject to a transform animation. r=dbaron 
Bug 842065: Remove no-longer-necessary method nsIFrame::StyleDataExternal(). r=dbaron 
Bug 876127 - Assert if we do not look at all style structs in nsStyleContext::CalcStyleDifference. r=dbaron 
Bug 750388:  In an+b microsyntax in :nth-child() etc., allow starting with +n and allow comments at all token boundaries rather than requiring the strange tokens that result from lack of comments or spaces.  r=dbaron 
Additional tests for bug 750388.  No review. 
Bug 876570:  Add missing UngetToken() call in an+b microsyntax parsing.  r=bzbarsky 
that, though I'm considering just deleting the tests entirely. 
I think the case in this bug is the RecvException case. 
uniqueness is being managed correctly. 
Bug 875287 - font-family: Do not require whitespace between unquoted idents. r=dbaron
Bug 788549 Part 6: Remove a redundant if check r=dbaron 
Bug 788549 Part 9: matrix() animations interpret arguments in wrong order r=dbaron 
Bug 788549: Fix matrix animations (patch hunk got lost in rebasing) r=dbaron 
Bug 871462 - Clean up string API usages on Gonk. r=dbaron 
Bug 779395 - Add support for skew transforms to compositor-driven animations r=dbaron 
Bug 772321 - Implement CSS parsing of writing-mode r=dbaron 
Bug 879255:  Refactor fix for bug 613888, step 1:  create haveCurrentTransition variable.  r=nrc 
Bug 879255:  Refactor fix for bug 613888, step 2:  consolidate oldPT variable.  r=nrc 
Bug 879255:  Refactor fix for bug 613888, step 3:  move no-change test earlier so that we don't have to clutter conditions between the new location and old with logic to fall through to it.  r=nrc 
Bug 879255:  Refactor fix for bug 613888, step 4:  consolidate conditions, and reindent (and fix bracing while doing so).  r=nrc 
Bug 788549 Part 11: Refactor test_transitions_per_property in prepartion for async tests r=dbaron 
Bug 788549 Part 12: Add tests for async transform transitions r=dbaron 
Bug 877824 - log proper TEST-START and TEST-END points for reftests; r=dbaron 
Bug 863430 - Teach the reftest harness about async spell checking. r=dbaron 
Bug 880104 part 1: Rewrite flexbox-align-self-* reftests to not depend on prefixed intrinsic sizing keywords. rs=dbaron 
Bug 880104 part 2: Replace -moz-*-content with the (known) fixed length that it computes to in some flexbox reftest files. rs=dbaron 
Bug 880104 part 3: Fix flexbox-justify-content-horiz-5-ref.xhtml to not rely on -moz-max-content for centering shrinkwrapped content. rs=dbaron 
Bug 880104 part 4: Remove unnecessary -moz-max-content from flexbox-widget-flex-items-4.html, and other minor cleanup/commenting in that reftest. rs=dbaron 
Bug 880137 part 1: Create reftest directory for flexbox in w3c-css folder. rs=dbaron 
Bug 880137 part 2: Migrate most flexbox reftests to the flexbox directory in w3c-css folder. rs=dbaron 
Bug 880137 part 3: Give w3c-css flexbox reftests the necessary boilerplate headers with author info, reference, and placeholder test-title and "help" nodes (populated in next patch). rs=dbaron 
Bug 880137 part 4: Populate test title fields in w3c-css flexbox reftests. rs=dbaron 
Bug 880137 patch 5:  point to TR draft rather than dev.w3.org draft. 
Bug 880137 patch 6: Fix a broken spec link. 
Bug 852850 - Follow-up to improve failure output with reftest-no-paint. r=dbaron 
Bug 879628.  Don't screw up the text from earlier counters when using counters() with various list styles.  r=dbaron 
Bug 880150 - Treat \<EOF> as U+FFFD outside a string, and drop it inside a string. r=dbaron 
Bug 849399. Adjust test timeouts to account for newly correct behaviour in nsTransitionManager.cpp. r=dbaron 
Bug 849399. Invalidate existing style rule if we start a transition. r=dbaron 
Bug 880075. Move def of pts in one scope since it is no longer used in the if statement and add comment; r=dbaron 
Bug 829817 - Cycle collect nsCSSPageRule. r=dbaron 
Bug 882573 patch 1:  Move the style attribute style sheet from nsDocument to nsIDocument, and devirtualize its getter.  r=bzbarsky 
Bug 882573 patch 2:  Add a separate DirtyRuleProcessors method to nsStyleSet, and use it from existing methods.  r=heycam 
Bug 882573 patch 3:  Stop putting the presentational hint and style attribute style sheets in the style set's list of style sheets; put them only in the list of rule processors.  r=heycam 
method that was previously part of nsIStyleSheet (but no longer virtual). 
Bug 757554:  Reject uses of reserved 'not', 'only', 'and', and 'or' as a media type.  r=heycam 
Bug 849399. Adjust test timeouts to account for newly correct behaviour in nsTransitionManager.cpp. r=dbaron 
Bug 849399. Change reftest 598726-1 to only transition on transform; r=dbaron 
Bug 849399. Invalidate existing style rule if we start a transition. r=dbaron 
The additional tests hit the ABORT without the patch and pass with the patch. 
Fix XPC_DUMP_AT_SHUTDOWN bustage from Bug 882162 Part 1 (changeset efb0b493cc21). 
Bug 807184 patch 1:  Fix uses in tests of prefixed -moz-initial.  r=dholbert 
Bug 807184 patch 2:  Remove support for prefixed -moz-initial (in favor of unprefixed initial).  r=dholbert 
Bug 881242 - part 1 - rename reftest's gFilter to gURLFilterRegex; r=dbaron 
Bug 881242 - part 2 - add focus filtering mode to reftests; r=dbaron 
Bug 881121: Remove the 3d-transforms-enabled pref because it is always enabled and has been for a while r=dbaron 
Bug 788549 Part 14: Add a test for async opacity animations r=dbaron 
Bug 858937 patch 1: Add nsLayoutUtils::GetStyleFrame() variant taking nsIContent*, and use it for two existing users of the variant taking nsIFrame*.  r=nrc 
transform on a table). 
(It still ends up included in dom/bindings, though.) 
Bug 858937 patch 1: Add nsLayoutUtils::GetStyleFrame() variant taking nsIContent*, and use it for two existing users of the variant taking nsIFrame*.  r=nrc 
transform on a table). 
Bug 878142; be more precise about removing the animation manager from the refresh driver. r=dbaron 
Bug 829816 - Treat \0 and U+0000 in CSS style sheets as U+FFFD. r=dbaron 
Bug 873222 - check unit-type of font-synthesis value before use. r=dbaron 
Bug 883987 - Don't allow BAD_STRING or BAD_URL tokens in @supports conditions. r=dbaron 
Bug 653881 - Push <xbl:children> in ancestor filter. r=bz,dbaron 
Bug 653881 - Normalize the undisplayed map entry for <xbl:children>. r=dbaron 
Bug 653881 - Add a compatibility hack to allow <xbl:children> elements to be optional when selecting via the child CSS selector. This allows old CSS selectors selecting default content to continue working in the new world. r=dbaron 
Bug 842181 - Prevent text zoom from affecting SVG text. r=dbaron 
Bug 887502 - Part 1: Coalesce corners rather than repeating when serializing specified values of 'border-radius'. r=dbaron 
Bug 887502 - Part 2: Refactor Declaration::GetValue for 'margin' and friends. r=dbaron 
Bug 606125 followup:  Reattach comment to the code that it was commenting (and rewrap it to a shorter line length too).  No review. 
Bug 887502 - Part 1: Coalesce corners rather than repeating when serializing specified values of 'border-radius'. r=dbaron 
Bug 887502 - Part 2: Refactor Declaration::GetValue for 'margin' and friends. r=dbaron 
Bug 571635 - Make nsCSSStyleSheet::GetStyleRuleAt return a css::Rule*. r=dbaron 
Bug 885424 part 0: Shift declarion of 'frameCrossSize' down to where it's actually used. r=dbaron 
Bug 885424 part 1: Set aStatus at the very beginning of flexbox reflow, and call NS_FRAME_SET_TRUNCATION at the very end. r=dbaron 
Bug 885424 part 2: Perform flexbox main-axis alignment separately from cross-size determination, to more closely match the ordering of steps in flexbox spec. r=dbaron 
Bug 885424 part 3: Rename flexContainerMainSize to contentBoxMainSize, for clarity, and mark that & 'frameMainSize' as const. r=dbaron 
Bug 860242: If box-sizing includes border/padding, then don't add border/padding to cell-width, in fixed table layout's percent-width case. r=dbaron 
Bug 885424 part 4: Refactor ComputeFlexContainerMainSize to have a clearer horizontal case vs. vertical case. r=dbaron 
Bug 893962 - Refactor the application of relative positioning. r=dbaron 
Bug 873368 - Automatically generate nsStyleStructList.h. r=dbaron,ted 
Bug 885107 - Fix testharness tests outside dom/imptests. r=dbaron 
Back out changeset e8bf739addfa (bug 868498 patch 2) for causing bug 894931. 
bug 879963 - part 1 - preserve in-progress font loaders when updating the user font set. r=dbaron 
bug 879963 - part 2 - avoid adding duplicate face entries to a user font family. r=dbaron 
bug 879963 - test for redundant downloading of a repeated @font-face resource. r=dbaron 
Bug 845205 - Do not reset the style context when removing unset properties. r=dbaron 
Bug 819930 - Part 1: Implement an API for emulating CSS media types. r=dbaron 
bug 879963 - part 1 - preserve in-progress font loaders when updating the user font set. r=dbaron 
bug 879963 - part 2 - avoid adding duplicate face entries to a user font family. r=dbaron 
bug 879963 - test for redundant downloading of a repeated @font-face resource. r=dbaron 
Bug 894931. Add reftest. r=dbaron 
Bug 873346 - Fix sometimes-unitialized warning in nsImageMap. r=dbaron 
Bug 896138 patch 1:  Move RestyleTracker and OverflowChangedTracker out of nested namespace mozilla::css (which shouldn't exist) into namespace mozilla.  r=heycam 
from nsCSSFrameConstructor and nsFrameManager. 
Bug 896138 patch 3:  Remove forward declaration of struct that hasn't been in this class since changeset e0df6dfdaaca (Bug 479655 part 3).  r=heycam 
into the same destination file. 
could argue for either way, but it was easier not to move it). 
could perhaps have moved. 
Bug 896138 patch 7:  Remove unused aFrameManager parameters to some functions.  r=heycam 
which I'd rather leave private.) 
Bug 896138 patch 9:  Move RecomputePosition to a more logical place in the .cpp file, near other hint handling implementations.  No review. 
Bug 894629 - Reference containing block's content box for relatively positioned elements in RestyleManager::RecomputePosition. r=dbaron 
Bug 885107 - Fix testharness tests outside dom/imptests. r=dbaron 
Bug 890773 - Compute -x-text-zoom properly. r=dbaron 
Bug 886691 - make tests and serialization code sensitive to font features pref. r=dbaron 
Bug 886691 - switch from references to pointers for values within GetValue. r=dbaron 
Bug 887741 - Allow CSS at-rules in declaration lists. r=dbaron 
Bug 857142 - implement -moz-font-smoothing. r=dbaron 
Bug 857142 - change name and switch to grayscale value. r=dbaron 
Bug 857142 - implement -moz-font-smoothing. r=dbaron 
Bug 857142 - change name and switch to grayscale value. r=dbaron 
Bug 896138 patch 10:  Move beginning and ending of ProcessPendingRestyles into helper functions on the RestyleManager.  r=heycam 
is. 
https://groups.google.com/d/topic/mozilla.dev.tech.layout/5e4O84CO-sw/discussion 
https://groups.google.com/d/topic/mozilla.dev.tech.layout/Cmvapo3fWeg/discussion 
Bug 898209 patch 1:  Add ElementRestyler class to begin refactoring ReResolveStyleContext.  r=heycam 
Bug 898209 patch 2:  Create and use ElementRestyler::mHintsHandled.  r=heycam 
Bug 898209 patch 3:  Create and use ElementRestyler::mFrame.  r=heycam 
Bug 898209 patch 4:  Remove aPresContext parameter to ElementRestyler::Restyle.  r=heycam 
Bug 898209 patch 5:  Remove the localContent variable in favor of writing mFrame->GetContent().  r=heycam 
Bug 898209 patch 6:  Create and use ElementRestyler::mParentContent and mContent.  r=heycam 
Bug 898209 patch 7:  Fix remaining variable shadowing warning.  r=heycam 
Bug 898209 patch 8:  Create and use ElementRestyler::mChangeList.  r=heycam 
Bug 898209 patch 9:  Create and use ElementRestyler::mParentFrameHintsNotHandledForDescendants and mHintsNotHandledForDescendants.  r=heycam 
Bug 898209 patch 10:  Create and use ElementRestyler::mRestyleTracker.  r=heycam 
Bug 898209 patch 11:  Create and use member variables for accessibility notifications.  r=heycam 
Bug 898209 patch 12:  Create and use ElementRestyler::mVisibleKidsOfHiddenElement.  r=heycam 
Bug 898209 patch 13:  Create and use ElementRestyler::mTreeMatchContext.  r=heycam 
on patch 2. 
comments on patch 2. 
Bug 898329 patch 1:  Remove null-checks on oldContext and newContext and avoid manual reference counting.  r=heycam 
Bug 898329 patch 2:  Fix indentation in ReParentStyleContext from patch 1.  r=heycam 
Bug 898329 patch 3:  Create and use ElementRestyler::mWasFrameVisible.  r=heycam 
(Most of them already were.) 
mFrame still has its old style context. 
Bug 898329 patch 5:  Create and use ElementRestyler::mResolvedChild.  r=heycam 
Bug 898329 patch 6:  Avoid using pseudoTag outside of what will be in RestyleManager::RestyleSelf.  r=heycam 
Bug 898329 patch 7:  Split ElementRestyler::Restyle into multiple functions.  r=heycam 
Bug 898329 patch 8:  Use for loops instead of while loops for iterating extra style contexts.  r=heycam 
Bug 898329 patch 9:  Fix indentation from previous patches.  r=heycam 
Bug 898329 patch 10:  Fix wrapping of comment that I just reintended.  r=heycam 
Bug 899389 - Don't null check result of NS_NewStyleContext. r=dbaron 
Bug 899385 - Update comments that incorrectly state nsIPresShell::AllocateBlah are fallible. r=dbaron 
Bug 894716 - Parameterize nsLayoutUtils::GetNearestScrollableFrame. r=dbaron 
Bug 898797 - Use nsHTMLReflowState::ApplyRelativePositioning when placing floats. r=dbaron 
Bug 900284:  Use #ifdef ACCESSIBILITY around member variables only used inside #ifdef ACCESSIBILITY, to avoid clang warnings (and reduce object size with --disable-accessibility).  r=dbaron 
Bug 896277 - Don't return nsresult from GroupRule::AppendRulesToCssText; r=dbaron 
Bug 899881 - Don't allow frames to have a null style context. r=dbaron 
Bug 899886 - Don't return null from nsStyleSet::ReparentStyleContext. r=dbaron 
Bug 899894 - Don't null check nsStyleSet::ResolveBlah return values. r=dbaron 
Bug 899896 - Avoid null checking of some box layout factory functions. r=dbaron 
Bug 899900 - Avoid null checking result of NS_NewBlahFrame. r=dbaron 
bug 900975 - include font-smoothing setting in the nsFont::BaseEquals comparison. r=dbaron 
bug 900975 - reftest for -moz-osx-font-smoothing on display:inline element. r=dbaron 
Bug 898175 - Refactor filter parsing to use a keyword lookup table for filter function names. r=dbaron 
Bug 885107 - Add a global error handler to the testharness integration script. r=dbaron 
Bug 901610 - Use nsStyleDisplay::IsRelativelyPositionedStyle in nsLineLayout. r=dbaron 
Bug 901610 - Use nsStyleDisplay::IsRelativelyPositioned in constructing frames for IB splits. r=dbaron 
Bug 812995 Support 'blink' value at -moz-text-decoration-line and drop -moz-text-blink r=dbaron 
Bug 898794 - Store normal frame position before applying relative positioning. r=dbaron 
Bug 812995 Support 'blink' value at -moz-text-decoration-line and drop -moz-text-blink r=dbaron 
bug 879963 - preserve in-progress font loaders when updating the user font set, and avoid adding duplicate face entries to a user font family. r=dbaron,jdaggett 
bug 879963 - unit tests for redundant downloading of a repeated @font-face resource, and for rendering regressions when multiple rules refer to the same font. r=dbaron,jdaggett 
Bug 904263 - don't set disabled subproperties within font shorthand parsing. r=dbaron 
Bug 904263 - add tests to assure all properties can be removed. r=dbaron 
Bug 893308:  Move hashtable of @keyframes rules (keyed by name) from nsAnimationManager to RuleCascadeData.  r=heycam 
Back out changeset 2454e6a5edbd (Bug 904926) on CLOSED TREE for lots of fatal assertions in Windows debug builds in MediaDecoder::IsDataCachedToEndOfResource. 
Bug 904263 - check pref settings more efficiently. r=dbaron 
Bug 861761 - Remove <blink> in perf-doc.html. r=dbaron 
Bug 875250 - add invalid value for text-combine-horizontal. r=dbaron 
Bug 746015: Add a nsDisplayGenericOverflow class that uses a frame's visual overflow rect as its bounds to correctly display column rules that lie outside of a column set frame's bounds. [r=dbaron] 
Bug 859339 - blur reftests that don't need focus; r=dbaron
Bug 825771 (Part 1) - Add CSS support for the image-orientation property. r=dbaron 
Bug 904158 - When creating a string for the SMIL-animated value of a mapped SVG attribute, use NS_strlen to get the StringBuffer's logical length, instead of using nsCheapString and the allocated length. r=dbaron 
Bug 859807: Request longer timeout for test_transitions_per_property.html. r=dbaron 
Bug 883514: During block reflow, check floats after reflowing bullet frames, instead of before. r=dbaron 
Bug 886646 - Part 5: Always build a stacking context for sticky positioned elements. r=dbaron 
Bug 886646 - Part 6: Implement sticky positioning, calculated on reflow and scroll. r=dbaron, r=dholbert 
Bug 886646 - Part 7: Reftests for sticky positioning. r=dbaron 
Bug 794693, part 1: Refactor nsHTMLReflowState constructor to allow initialization to be done by caller. [r=dbaron] 
Bug 794693, part 2: Perform parent reflow state calculation at the box-block interface before setting up child reflow state to prevent crashing when a parent reflow state is assumed to be non-null. [r=dbaron] 
browser/base/content/test/browser_aboutHome.js . 
Bug 847275 patch 2:  Temporarily disable failures from checking of assertions in browser-chrome mochitests so that we can annotate the expected assertions before enabling.  r=dao 
out not to be related to that bug. 
It doesn't change the number of values tested for any other property. 
Bug 794693, part 1: Refactor nsHTMLReflowState constructor to allow initialization to be done by caller. [r=dbaron] 
Bug 794693, part 2: Perform parent reflow state calculation at the box-block interface before setting up child reflow state to prevent crashing when a parent reflow state is assumed to be non-null. [r=dbaron] 
Bug 911451: Refactor nsStringBuffer-to-nsString code into a helper-method, and invoke it instead of nsCheapString in one other place. r=dbaron 
Bug 522515 - omit null urls from inclusion in userfont src descriptor array. r=dbaron 
Bug 894497. Weaken the assertion in GetAnimationRule. r=dbaron 
Bug 798843 - Rename -moz-objectFill, -moz-objectStroke, -moz-objectValue to context-fill, context-stroke, context-value r=dbaron
Bug 798843 - Test to check that context-* attribute values are not valid when gfx.font-rendering.opentype_svg.enabled pref is false r=dbaron 
Bug 798843 - Add README for generating fonts for SVG in OpenType reftests r=dbaron 
Bug 906643. Part 1: Add nsRefreshDriver::Add/Remove/PostRefreshObserver so we can receive notifications when a refresh has occurred, without triggering one. r=dbaron 
Bug 798843 - Rename -moz-objectFill, -moz-objectStroke, -moz-objectValue to context-fill, context-stroke, context-value r=dbaron
Bug 798843 - Test to check that context-* attribute values are not valid when gfx.font-rendering.opentype_svg.enabled pref is false r=dbaron 
Bug 798843 - Add README for generating fonts for SVG in OpenType reftests r=dbaron 
test_style_attribute_quirks.html fails 2 tests. 
more than nsStyleDisplay::IsRelativelyPositionedStyle()). 
layout/base/crashtests/317934-1.html through this codepath. 
a good assertion to have. 
Bug 904985, part 2: Use char16_t for NS_LITERAL_STRING, r=glandium, dbaron. 
Bug 904985 - Use Char16.h in favor of NS_LL, Part 3: kill NS_LL. r=dbaron 
Bug 861489:  Fix SkipAnimationRule to do the right thing in the presence of new cascading rules.  r=bzbarsky 
Bug 918906 - Add VS2013 debug dll name to trace-malloc. r=dbaron 
Bug 264517 - Move the _LAYOUT variant of COMPUTED_STYLE_MAP_ENTRY into a property bit. r=dbaron 
Bug 880672:  Add support for unprefixed cursor:grab and cursor:grabbing.  r=bzbarsky  sr=dbaron 
Bug 898333, patch 1:  Restyle the :after pseudo-element after the content children.  r=bzbarsky 
11, and the rest should hopefully be removed in bug 918064. 
Bug 898209 patch 16:  Move a comment that should have been moved in patch 15.  No review. 
change hint only needs to apply once, globally.) 
continuations and block-in-inline siblings. 
Bug 828312 patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.  r=bzbarsky 
continuations and block-in-inline siblings. 
siblings ("special siblings") in addition to continuations. 
continuations and block-in-inline siblings. 
continuations and block-in-inline siblings. 
block-in-inline sibling. 
Followup to bug 828312 patch 9a:  Mark test as fuzzy-if on Mac OS X 10.8, where the Ahem font is behaving in ways it shouldn't.  CLOSED TREE 
Followup to bug 828312 patch 9a:  Mark test as fuzzy-if on Android.  CLOSED TREE 
Bug 925218 - Include -moz-system-font as a component of the 'all' shorthand. r=dbaron 
Bug 899808 - Fix matching of pseudo-elements in scoped style sheets. r=dbaron 
Bug 915440 - move null URL fix to after format hint is processed. r=dbaron 
Bug 914847. Use a mini-flush instead of a full style flush. r=dbaron 
Bug 914847. Mini-flush for animations. r=dbaron 
Bug 875275 part 1: Implement layout support for <input type="color">. r=dbaron,dholbert 
Bug 859339 - blur reftests that don't need focus; r=dbaron
Adjust comment that should have been adjusted in the original patch for bug 835007.  No review. 
Bug 929673 Patch 1:  Rename mozOrigin to transformOrigin to avoid use of deprecated CSS prefixes in variable names.  r=dzbarsky 
Bug 929673 Patch 2:  Rename mToMozOrigin to mToTransformOrigin to avoid use of deprecated CSS prefixes in variable names.  r=dzbarsky 
Bug 929673 Patch 3:  Rename GetDeltaToMoz{Transform,Perspective}Origin to remove the Moz to avoid use of deprecated CSS prefixes in variable names.  r=dzbarsky 
Bug 914432 - Add support for multiple prefs to enable/disable values in the same property keyword table.  r=dbaron 
Bug 911889. Part 3: Create nsLayoutUtils::HasAnimations, and suppress opacity:0 optimizations whenever there's any opacity animation even if it's not using the compositor. r=dbaron 
Bug 911889. Part 5. Add API to detect whether an nsRefreshDriver is in the middle of a refresh. r=dbaron 
Bug 911889. Part 6: A scripted change to element.style.opacity or element.style.transform in a setTimeout or requestAnimationFrame callback should trigger our "style property is animated" heuristic. r=dbaron 
Bug 911889. Part 7: A single change to CSS 'transform' should not be treated as animation. r=dbaron 
Bug 815467 - Store pldhash's recursionLevel in a better place, so that debug and non-debug pldhashes take up the same amount of memory.  r=dbaron. 
Bug 903880 part 1: Create a helper-function to set a flex item's base size (and update its hypothetical main size). r=dbaron 
Bug 903880 part 2: Resolve the flex base size produced by "height:auto" *after* we create a FlexItem object. r=dbaron 
Bug 903880 part 3: Convert "ResolveStretchedSize" into a member-function on FlexItem. r=dbaron 
Bug 903880 part 4: Resolve stretched cross-size early, if we know the container's cross size, and use the result when establishing main size. r=dbaron 
Bug 903880 part 5: Reftest. r=dbaron 
Bug 927734 - Loosen assertions about the contents of the style scope stack. r=dbaron 
Bug 930270 - Don't initialize the ancestor filter for elements outside the document. r=dbaron 
Bug 911889. Part 3: Create nsLayoutUtils::HasAnimations, and suppress opacity:0 optimizations whenever there's any opacity animation even if it's not using the compositor. r=dbaron 
Bug 911889. Part 5. Add API to detect whether an nsRefreshDriver is in the middle of a refresh. r=dbaron 
Bug 911889. Part 6: A scripted change to element.style.opacity or element.style.transform in a setTimeout or requestAnimationFrame callback should trigger our "style property is animated" heuristic. r=dbaron 
Bug 911889. Part 7: A single change to CSS 'transform' should not be treated as animation. r=dbaron 
Bug 911889. Part 3: Create nsLayoutUtils::HasAnimations, and suppress opacity:0 optimizations whenever there's any opacity animation even if it's not using the compositor. r=dbaron 
Bug 911889. Part 5. Add API to detect whether an nsRefreshDriver is in the middle of a refresh. r=dbaron 
Bug 911889. Part 6: A scripted change to element.style.opacity or element.style.transform in a setTimeout or requestAnimationFrame callback should trigger our "style property is animated" heuristic. r=dbaron 
Bug 911889. Part 7: A single change to CSS 'transform' should not be treated as animation. r=dbaron 
Bug 934867 - nsStyleFont::CalcDifference should return a hint when mFont.systemFont differs. r=dbaron 
Bug 243412: Add reftests for css3-ui box-sizing in W3C format.  r=dbaron 
Bug 243412: Updated reftests for css3-ui box-sizing with correct values and better descriptions of the tests; r=dbaron 
Bug 926546 - Modify assertion in nsComputedDOMStyle::GetPropertyCSSValue to mention the pseudo-element concerned to aid debugging. r=dbaron 
Bug 935850 - Mark box-sizing-replaced-001.xht as random on Android for now.  r=dbaron 
Bug 935056 - Don't apply minimum font sizes to SVG text. r=dbaron 
Bug 492239 - Reflow when -moz-stack-sizing is changed. r=dbaron 
Bug 938334 - Use "Type" as parameter in nsCSSPseudoElements methods instead of "nsIAtom*" when it makes sense to do so. r=dbaron 
Bug 913264 - add none value to font-variant-ligatures. r=dbaron 
Bug 926546 - Modify assertion in nsComputedDOMStyle::GetPropertyCSSValue to mention the pseudo-element concerned to aid debugging. r=dbaron 
Bug 932102 - Fix rooting hazard in nsStyleUtil::AppendAngleValue r=dbaron 
Bug 665884 - Redirect focus from <input type=number> to its anonymous text control, and get autofocus working. r=dbaron 
Bug 942137 - Fix non-unified build after bug 932102; r=dbaron 
Bug 940446:  Log a variable that's guaranteed to exist, so we don't throw an exception from the exception handler and break the URL bar and search bar.  r=smacleod 
Bug 945580 - Add nsRuleNode::IsInherited helper function. r=dbaron 
Bug 938334 - Use PseudoElementSupportsStyleAttribute(Type) when it makes sense to do so and remove now unnecessary nsCSSPseudoElements functions. r=dbaron 
Bug 388971:  Enable the 'make check' test checking for bad relocations.  r=bsmedberg 
Bug 935056 - Don't apply minimum font sizes to SVG text. r=dbaron 
Bug 702508 part 1: Support parsing/computing the CSS property "flex-wrap". r=dbaron 
Bug 702508 part 2: Support parsing/computing the CSS property "align-content". r=dbaron 
Bug 944259 - initialize variable to quelch compiler warning. r=dbaron 
Bug 925626 - Parse general_enclosed in @supports conditions properly. r=dbaron 
Bug 914072 - Have nsCSSScanner store any implied characters at EOF needed for correct serialization. r=dbaron 
Bug 943217 - fix moz-document error message, r=dbaron 
Bug 909170 - Add some tests for @supports conditions with tokens after a declaration's priority. r=dbaron 
Bug 773296 - Part 1: Add a preference for CSS variables. r=dbaron 
Bug 773296 - Part 2: Parse CSS variable declarations and store them on Declaration objects. p=ebassi,heycam r=dbaron
Bug 773296 - Part 3: Allow more than 27 style structs. r=dbaron
Bug 773296 - Part 4: Add style struct to store CSS variables. r=dbaron
Bug 773296 - Part 5: Map variables on a Declaration to nsRuleData. r=dbaron
Bug 773296 - Part 6: Add enum to represent types of CSS tokens involved in serialization. r=dbaron
Bug 773296 - Part 7: Add a field to nsStyleVariables to store computed variable values. r=dbaron
Bug 773296 - Part 8: Resolve and compute CSS variables. r=dbaron
Bug 773296 - Part 9: Give nsCSSScanner the ability to remember when it encounters a "var(" token. r=dbaron
Bug 773296 - Part 10: Add a new eCSSUnit_TokenStream type for storing unparsed CSS values. p=ebassi,heycam r=dbaron
Bug 773296 - Part 11: Give nsCSSParser and nsCSSScanner the ability to save/restore their current input state. r=dbaron
Bug 773296 - Part 12: Record whether we are parsing an @supports condition. r=dbaron
Bug 773296 - Part 13: Parse properties that use variable references and store them as eCSSUnit_TokenStream values. r=dbaron
Bug 773296 - Part 14: Add an nsCSSProps::IsInherited function. r=dbaron
Bug 773296 - Part 15: Factor out mapping of a single property from an nsCSSCompressedDataBlock to an nsRuleData. r=dbaron
Bug 773296 - Part 16: Add a ref-counted list nsCSSValue unit and use it for tranform lists; hold a strong reference to one on nsStyleDisplay. r=dbaron
Bug 773296 - Part 17: Resolve property values that have variable references at computed value time. r=dbaron
Bug 773296 - Part 18: Add error reporting for invalid variable references. r=dbaron
Bug 773296 - Part 19: Compare style structs even for the same rule node when variables have changed. r=dbaron
Bug 773296 - Part 20: Return variables from getComputedStyle().get{,CSS}Property(). r=dbaron 
Bug 773296 - Part 21: Factor out style context getting from nsComputedDOMStyle::GetCSSPropertyValue. r=dbaron
Bug 773296 - Part 22: Expose variables through the nsComputedDOMStyle indexed getter. r=dbaron
Bug 773296 - Part 23: Support variables in CSSStyleDelcaration methods. r=dbaron
Bug 773296 - Part 24: Recognize variables in CSS.supports("var-blah", "whatever") calls. r=dbaron 
Bug 773296 - Part 25: Parse variable declarations in @supports conditions. r=dbaron
Bug 773296 - Part 26: Tests. r=dbaron 
Bug 773296 - Part 27: Support 'unset' in CSS variables. r=dbaron 
Bug 948914 - Remove redundant default style for <pre> element from quirk.css. r=dbaron 
Bug 941300 - Make circle radial-gradient invalid if two radii values are given. r=dbaron 
Bug 949879 - Drop support for the "cols" attribute of <pre> elements. r=dbaron 
Bug 950497 - Make self-referencing CSS variables invalid even if they have fallback. r=dbaron 
Bug 951765:  Make CSS variables reftests point to TR draft rather than dev.w3.org draft so the CSS WG test system understands them.  No review. 
Bug 826582 followup:  remove link rel=help from test references, since it's considered an error in the CSS WG test suite management system.  No review. 
Bug 782610 followup:  Add a version of css-supports-027 that does not use @-moz-document.  (We already have css-supports-026 to pair with css-supports-028.) 
Bug 878935, Part 1: Add a "freeze" counter to nsRefreshDriver to keep track of how many times it was frozen. r=dbaron 
Bug 878935, Part 2: Pause painting while reflow-on-zoom is in progress to provide a better user experience. r=kats,dbaron 
Bug 878935, Part 2: Pause painting while reflow-on-zoom is in progress to provide a better user experience. [r=kats,dbaron] 
Bug 878935, Part 2: Pause painting while reflow-on-zoom is in progress to provide a better user experience. [r=kats,dbaron] 
Bug 955913 - Look up custom property names in a Declaration correctly. r=dbaron 
Bug 897763 - Take into account nsChangeHint_{NeedReflow,ClearAncestorIntrinsics} never being inherited for difference calculations on certain style structs. r=dbaron 
Bug 731271 - Part 1: Rename eCSSUnit_Color to eCSSUnit_RGBAColor. r=dbaron 
Bug 731271 - Part 2: Add new nsCSSValue units to store colors in their original syntactic form. r=dbaron 
Bug 731271 - Part 3: Store parsed CSS color values in their original syntactic form. r=dbaron 
Bug 731271 - Part 4: Add ability for nsCSSValues to serialize themselves in their original syntactic form. r=dbaron 
Bug 731271 - Part 5: Add support for serializing colors in nsCSSValue in their original syntactic form. r=dbaron 
Bug 731271 - Part 6: Add a chrome-only CSSDeclaration.getAuthoredPropertyValue() method to expose a property value in its original syntactic form. r=dbaron 
Bug 731271 - Part 7: Test. r=dbaron 
Bug 950737 - Remove layout effect from the "width" attribute of <pre> elements. r=dbaron 
Bug 940229 part 1: Test extra inherit/-moz-initial at the start/end of property values. r=dholbert 
Bug 940229 part 2: Update mochitest boilerplate, unprefix "initial", and test "unset". r=dbaron 
Bug 514173 Make literal string buffers shareable r=dbaron,ehsan,bholley 
Bug 956046: Allow adjacent anonymous flex items if we've reordered items with the "order" property. r=dbaron 
Bug 945074 - Give continuing nsFirstLetterFrame child a style context that inherits from what the nsFirstLetterFrame inherits from. r=dbaron 
Bug 783133:  Remove NS_ABORT_IF_FALSE that fires somewhat regularly, which happens in a case that is correctly handled.  r=mcmanus 
(Followup to IRC discussion with nrc, who hit a failure in this test.) 
Bug 959832 patch 1: Fix tests in test_eventctors.html that weren't testing what was intended.  r=smaug 
Bug 959832 patch 2: Transition events and animation events are not cancelable.  r=smaug 
Bug 795567 - Part 1: Add touch-action css property to the style system. r=dbaron 
Bug 914847. Use a mini-flush instead of a full style flush. r=dbaron 
Bug 914847. Mini-flush for animations. r=dbaron 
Bug 960848 - Part 1: Make nsFrameState an enum and consolidate all frame state bit definitions in a single preprocessed file. r=dbaron 
Bug 960848 - Part 2: Swap NS_BLOCK_HAS_FIRST_LETTER_CHILD and NS_BLOCK_FRAME_HAS_INSIDE_BULLET bit values. r=dbaron 
Bug 960899 - Add debug function and lldb command to print frame state symbolically. r=dbaron 
Bug 945105 patch 1:  Revert the changes to RestyleManager::ComputeStyleChangeFor from bug 898333, patch 2, since they cause skipping (in addition to the desired skipping) of continuations that do need restyling, in the case of directly restyling an element where continuations have different styles.  r=heycam 
Bug 945105 patch 2:  Convert RestyleManager::ComputeStyleChangeFor from while loops to for loops to make it easier to add continue statements to it.  r=heycam 
Bug 945105 patch 3:  Replace changes to ComputeStyleChangeFor with a check of GetPrevContinuationWithSameStyle to avoid the duplication in a way that still doesn't break direct restyling of an element whose continuations have different styles.  r=heycam 
Bug 944892 - Add uintptr_t casts to fix bustage with -Werror=int-to-pointer-cast set. r=dbaron 
Bug 962427 - Make RestyleManager.cpp's GetNextBlockInInlineSibling static. r=dbaron 
Bug 834842 - Support mach timestamp in reftest-analyzer. r=bgirard 
Bug 243412. Enable unprefixed 'box-sizing'. r=dbaron 
Bug 940842 - 1/3 - Add will-change CSS property - r=dbaron
http://lists.w3.org/Archives/Public/www-style/2013Apr/0428.html 
Bug 966415:  Add more line breaks to nsCSSPropAliasList.h for better diffs and blame.  r=bzbarsky 
Bug 964529 pre-patch:  Make things that were syntax errors prior to enabling scientific notation continue to be syntax errors, by changing e+ to x+. 
http://lists.w3.org/Archives/Public/www-style/2013Apr/0428.html 
Bug 935056 - Don't apply minimum font sizes to SVG text. r=dbaron 
Bug 960848 - Part 1: Make nsFrameState an enum and consolidate all frame state bit definitions in a single preprocessed file. r=dbaron 
Bug 960848 - Part 2: Swap NS_BLOCK_HAS_FIRST_LETTER_CHILD and NS_BLOCK_FRAME_HAS_INSIDE_BULLET bit values. r=dbaron 
Bug 960848 - Part 3: Generate consts rather than enum values for nsFrameState bits for VS2010. r=dbaron,f=glandium 
Bug 243412: Add box-sizing preference to control the vendor prefix; r=dbaron 
Bug 243412:  Remove -moz- prefixes from box-sizing in tests for submission to W3C test repository. 
Importing change from W3C test repository made by Peter Linss <peter.linss@hp.com> (no bug):  rename multicol-height-001 to multicol-height-002 to avoid file name conflict 
Bug 960899 - Add debug function and lldb command to print frame state symbolically. r=dbaron 
Bug 960899 - Add debug function and lldb command to print frame state symbolically. r=dbaron 
Bug 968029 - Use unprefixed box-sizing in content/, dom/, layout/, and widget/. r=dbaron 
Bug 91419 patch 1:  Rename NS_FRAME_IS_SPECIAL to NS_FRAME_PART_OF_IBSPLIT.  r=mats 
Bug 91419 patch 2:  Rename IsFrameSpecial to IsFramePartOfIBSplit.  r=mats 
Bug 91419 patch 3:  Rename everything with IBSplitSpecialSibling to IBSplitSibling.  r=mats 
Bug 91419 patch 4:  Rename everything with IBSpecialSibling to IBSplitSibling.  r=mats 
Bug 91419 patch 5:  Rename everything with SpecialSibling to IBSplitSibling.  r=mats 
Bug 91419 patch 6:  Rename everything with IBSplitSpecialPrevSibling to IBSplitPrevSibling.  r=mats 
Bug 91419 patch 7:  Rename everything with SpecialPrevSibling to IBSplitPrevSibling.  r=mats 
Bug 91419 patch 8:  Miscellaneous function and variable name changes.  r=mats 
Bug 91419 patch 9:  Fix comments and debugging output referring to "special" frames.  r=mats 
Back out changeset fc09c90aaab1 (bug 966885, enable audio level RTP extension) for sdp_unittests failure on all platforms, on a CLOSED TREE. 
Bug 969879 - Use infallible allocation to store the style information for CSS transitions and animations; r=dbaron 
Bug 969898:  Make gfx/heap-textures memory reporter support 64-bit numbers on 64-bit platforms.  r=njn 
Bug 970647 patch 1:  Remove some null-checks and simplify control flow in nsIFrame::HasPerspective and nsIFrame::ChildrenHavePerspective.  r=mattwoodrow 
Bug 970647 patch 2:  Fix indentation and bracing in nsIFrame::Preserves3DChildren.  r=mattwoodrow 
Bug 970647 patch 3:  Rename (to match convention) and better share nsStyleDisplay* variable in nsIFrame::Preserves3DChildren.  r=mattwoodrow 
Backed out changeset 31bc303caa56 (bug 970578) for failing to compile on many platforms, on a CLOSED TREE. 
IsFrameOfType check. 
Bug 541855:  Add in the error tolerance before calling the timing function, so that we allow more error for steeper functions, and less error for most.  r=dholbert 
Bug 480888 patch 1:  Rename ComputeOutlineAndEffectsRect to ComputeEffectsRect.  r=roc 
Bug 480888 patch 2:  Remove always-true aStoreRectProperties parameter to ComputeEffectsRect.  r=roc 
Bug 480888 patch 3:  Refactor a common pattern into a FrameMaintainsOverflow helper function.  r=roc 
accurately in the overflow calculation. 
Back out changeset dd1f8adbfecc (bug 480888 patch 4) for failing reftests 402338-1.html and 412352-2.html on Android and B2G only. 
Fix whitespace and modelines in reftest-analyzer.  No bug. 
Bug 789602 followup:  unbreak printing of REFTEST IMAGE with != test failures, which the initial patch incorrectly put before the REFTEST TEST-UNEXPECTED-FAIL line. 
Bug 973187:  Fix typo (checking mRadiusX twice and not checking mRadiusY) in nsStyleGradient::HasCalc().  r=dbaron 
accurately in the overflow calculation. 
Bug 970250. Add the ability to set a display port on scroll frames that aren't the root scroll frame to reftests. r=dbaron 
Bug 961364 - Clear the column type bits before setting them in nsTableCol{,Group}Frame::SetColType. r=dbaron 
Bug 965655:  Revert test disabling from changeset 8a0d810a0cca now that bug 969590 (switch of test slaves) is fixed. 
(mrbkap, I, and ehoogeveen have all seen lowercase lately.) 
matches at least Chromium; I didn't check any other browsers. 
for bug 709014. 
have been slightly easier to fix it in the same patch). 
Bug 434102 followup:  Mark reftest as failing on Mac. 
Update test failure annotation for bug 791480, now that we're running tests on Windows NT 6.2 as well. 
Bug 969883 - Remove some unneeded memory allocation failure handling code in table cell map code; r=dbaron
Bug 964885 - Implement stacking context behavior of CSS will-change. r=dbaron 
Bug 63895 (Part 1) - Add helper methods for retrieving overflow areas in the frame's local coordinate space. r=dbaron 
Bug 63895 (Part 2) - Support table parts as absolute containing blocks. r=dbaron 
Bug 63895 (Part 3) - Add tests for positioned internal table objects serving as absolute containing blocks. r=dbaron 
Bug 972536 - Add a tool for gathering USS memory data for a process over time for memory leak detection. r=dbaron 
Bug 935778 - Part 1: Add RefCountType, a type compatible with nsrefcnt, to MFBT; r=dbaron,froydnj 
Bug 939610:  Return to printing stack walk addresses in uppercase hexidecimal rather than lowercase, since we have scripts depending on it.  r=ted 
Back out changeset 72c0c955cf53 (no bug) now that bug 939610 is fixed. 
Bug 975741:  Store the initial value of 'perspective' as 'none' rather than the (invalid value) '0' to make storage of 'none' consistent, and remove workaround from nsComputedDOMStyle computed value implementation.  r=heycam 
Bug 975295 patch 1:  Remove class nsTraceRefcnt, which is unused.  r=bsmedberg 
Bug 975295 patch 2:  Remove the nsITraceRefcnt interface and any instantiation of the nsTraceRefcntImpl object.  r=bsmedberg 
Bug 976372 - Remove support for compilers which lack support for dynamic_cast<void*>; r=dbaron 
Bug 973321 - Prevent int overflow in border image width calculation. r=dbaron 
Bug 935778 - Part 0.7: Emit the correct type name from FilterNodeLightingSoftware; r=jrmuizel, parts r=dbaron 
Bug 974430 - Put the |input[type=number]| rule in forms.css into a separate sheet so we can make it respect the dom.forms.number pref. r=dbaron 
the additional check. 
back to nsTraceRefcnt. 
for the previous renaming. 
     tree showing the change in allocations between them 
Bug 331743 patch 4:  Fix -Wshadow warning in leaksoup.cpp.  r=khuey 
Bug 331743 patch 5:  Fix -Wformat warnings in leaksoup.cpp related to 32-bit vs. 64-bit sizes.  r=khuey 
it matches WebKit. 
Bug 968555 - Don't create a stacking context for backface-visibility:hidden. r=dbaron 
Bug 687297 - The per-presentation base minimum font size is now propagated without being maxâed with the language-specific global minimum font size preference, r=dbaron
Bug 687297 - Added Mochitest to verify that the per-presentation base minimum font size is propagated without being influenced by the language-specific global preference.  r=dbaron
Bug 977248:  Remove quirk.css rule that selects on an attribute that was only set by the old HTML parser.  r=mrbkap 
Bug 975769 - Avoid asserting on a eCSSProperty_UNKNOWN - r=dbaron 
Bug 975789 - Sync the computation of whether we have a pseudo stacking context between two different places - r=dbaron 
Bug 968555 patch 2 (tests):  Test that 'backface-visibility' does not cause creation of a stacking context.  r=mattwoodrow 
DONTBUILD. 
Bug 978495:  Initialize mozilla::layers::TextureClientX11::mLocked.  r=nical 
Bug 687297 - The per-presentation base minimum font size is now propagated without being maxâed with the language-specific global minimum font size preference, r=dbaron
Bug 687297 - Added Mochitest to verify that the per-presentation base minimum font size is propagated without being influenced by the language-specific global preference.  r=dbaron
This bumps the minimum required pango version to 1.22, released 29 Sep 2008. 
Bug 855081 patch 2:  Use a single buffer for the demangled names.  r=jesup 
Originally written while investigating bug 435138. 
Bug 978620:  Make nsFrameSetFrame call FinishAndStoreOverflow.  r=roc 
Bug 439204:  Remove assertion "We placed a float where there was no room!"  r=roc 
these checks in the opposite order. 
Bug 63895 (Part 1) - Add helper methods for retrieving overflow areas in the frame's local coordinate space. r=dbaron 
Bug 63895 (Part 2) - Support table parts as absolute containing blocks. r=dbaron 
Bug 63895 (Part 3) - Add tests for positioned internal table objects serving as absolute containing blocks. r=dbaron 
Bug 979640 is filed on making this mistake harder. 
memory. 
nsGenericElement. 
Bug 621618 patch 2:  Make nsXMLElement reuse Element::AddToIdTable and Element::RemoveFromIdTable thoroughly.  r=bzbarsky 
Bug 621618 patch 3:  Add FIXMEs in nsXULDocument for ID handling.  r=bzbarsky 
Bug 621618 patch 4:  Make conditions in Element::RemoveFromIdTable match those in AddToIdTable, to avoid asymmetric calls to the document's functions.  r=bzbarsky 
Bug 978648:  Handle dynamic changes to @keyframes rules and keyframe rules better.  r=heycam 
units. 
Bug 828173 patch 1:  Add nsLayoutUtils::GetReferenceFrame.  r=mattwoodrow 
variant of AddAnimation called AddAnimationForNextTransaction.) 
Bug 828173 patch 3:  Add a concept of pending animations to Layer, like pending transform.  r=mattwoodrow 
Bug 828173 patch 3.5:  Move GetTransformRootFrame to nsLayoutUtils.  r=mattwoodrow 
Bug 828173 patch 4:  Expose AddAnimationsAndTransitionsToLayer and allow it to be called from style change handling.  r=mattwoodrow 
Bug 828173 patch 5:  Call AddAnimationsAndTransitionsToLayer when we choose not to repaint when handling an UpdateTransformLayer hint, so that any new animations resulting from the style change get sent to the layer.  r=mattwoodrow 
as bad as it otherwise would have been. 
pref was not removed.  (The pref was initially added in bug 780342.) 
enabled; that difference was introduced in bug 785648. 
Bug 828173 bustage fix for non-unified builds:  add using declaration. 
Bug 619487: Assert when preferences are used off the main thread. r=dbaron 
Bug 619487: Assert when preferences are used off the main thread. r=dbaron 
Bug 977757 - 1/3 - make nsCSSProps::EnabledState a bitfield - r=dbaron,bz 
Bug 977757 - 2/3 - add nsCSSProps::eEnabledInChromeOrCertifiedApp bit, and use it for will-change - r=dbaron,bz 
https://hg.mozilla.org/mozilla-central/rev/b4e9a17e7fe2 
not change behavior. 
throttled (having the main thread style updates suppressed). 
Bug 977757 - 1/3 - make nsCSSProps::EnabledState a bitfield - r=dbaron,bz 
Bug 977757 - 2/3 - add nsCSSProps::eEnabledInChromeOrCertifiedApp bit, and use it for will-change - r=dbaron,bz 
Bug 935778 - Part 3: Add trace-refcount logging for AddRef and Release in RefCounted objects; r=dbaron 
Bug 980810 - Part 2: Fix clang -Wstring-conversion warning in layout. r=dbaron 
Bug 979658 part 2 - Add nsDOMWindowUtils.getOMTAStyle; r=dbaron
Bug 975931. Part 2: Update README with complete documentation of all attributes, and put the attribute name in the section heading. r=dbaron 
Bug 975931. Part 4: Support reftest-async-scroll attributes. r=dbaron 
Bug 975931. Part 7: Enable APZC in reftests. r=dbaron 
Bug 981252 - Initialize all values in MaskLayerUserData so that equality comparisons make sense. r=dbaron 
Bug 63895 (Part 1) - Add helper methods for retrieving overflow areas in the frame's local coordinate space. r=dbaron 
Bug 63895 (Part 2) - Support table parts as absolute containing blocks. r=dbaron 
Bug 63895 (Part 3) - Add tests for positioned internal table objects serving as absolute containing blocks. r=dbaron 
Bug 977757 - 1/3 - make nsCSSProps::EnabledState a bitfield - r=dbaron,bz 
Bug 977757 - 2/3 - add nsCSSProps::eEnabledInChromeOrCertifiedApp bit, and use it for will-change - r=dbaron,bz 
Bug 349259 patch 1:  Add an nsIContent* parameter to nsHTMLReflowState::CalcLineHeight.  r=bz 
Bug 349259 patch 2:  Prevent html:input elements from having a line-height smaller than 1.  r=bz 
Bug 349259 patch 3 - Allow pages to override line-height on form controls, except for <select>.  r=dbaron
Bug 349259 patch 4 - Add reftests for line-height on input type=text, input type=button, and button. 
Bug 983084 - Correctly handle z-order only changes by removing opacity through a dynamic change; r=dbaron 
Chromium allows them to, but it might still be Web-compatible. 
it, both standalone and in the directory harness. 
Bug 984739 - Make nsCSSValue::StartImageLoad assume |new ImageValue| is infallible. r=dbaron 
Bug 950436 - Store ImageValues that resulted from re-parsing a nsCSSValueTokenStream on that object. r=dbaron 
Bug 63895 (Part 4) - Propagate overflow of relatively positioned table parts to the table frame. r=dbaron 
Bug 63895 (Part 5) - Add more tests for positioned internal table objects serving as absolute containing blocks. r=dbaron 
Peter Linss <peter.linss@hp.com>. 
Bug 959973 - Followup to actually run the tests. r=dbaron 
Bug 950526 - don't dump textruns within nsTextFrame::DidSetStyleContext. r=dbaron 
Bug 984786 part 1: Add MOZ_FINAL and private destructors to some refcounted classes in layout. r=dbaron 
Bug 986404:  Disable fade-out of overlay scrollbars during reftest.  r=mstange 
Bug 986404 - Mark test as failing due to scrollbars showing up. 
Bug 986406 - Don't skip entire reftest directories on Android.  r=roc 
Bug 986409 - Skip fewer entire reftest directories on B2G.  r=roc 
Bug 986807 patch 1 - Sync lower-risk prefs over from desktop reftest code to Android reftest code.  r=roc 
Bug 986807 patch 2 - Sync APZC/viewport prefs from bug 975931 from desktop reftest code to Android/B2G reftest code.  r=roc 
Bug 976365 - Make 'perspective' create a containing block for absolute and fixed positioned children. r=dbaron 
Bug 791480. Make reftests enter print mode before reftest-wait is removed, so canvas-print-callback tests can finish drawing before the test ends. r=dbaron 
Bug 791480. Reenable test on Windows 7. r=dbaron 
Bug 610733.  Vertically center the text in the combobox display area when a non-default height is set for the combobox.  r=dbaron 
Bug 980247 - Use offsets from GetNormalPosition() when updating continuations of position:sticky elements instead of assuming that they're all currently offset by the same amount. r=dbaron, r=corey 
Bug 980247 - Add a reftest for different continuations of a sticky element having the same offsets. r=dbaron 
Bug 987605. Call MaybeReflowForInflationScreenWidthChange on SetScrollPositionClampingScrollPortSize instead of SetDisplayPortForElement. r=dbaron
Bug 983175 - Part 0: Rename nsParsingStatus to CSSParseResult. r=dbaron 
shows it the other way around.) 
Bug 989574. Enable reftests in layout/reftests/invalidation on all platforms. r=dbaron
Bug 470769 - Store computed styles of integer-valued properties as integers in nsROCSSPrimitiveValue, so they round-trip correctly.  r=bzbarsky 
Fix merge bustage between changeset c8be375e0c41 (bug 988111) and changeset 8560fc7e2849 (bug 984269), merged (I think) in changeset 0ff6afce0133, on a CLOSED TREE. 
box's height.  Why this isn't the case should be investigated. 
Bug 989574 patch 2 - Fix comment to match code. 
https://hg.mozilla.org/mozilla-central/rev/79b61f9909c0 
https://hg.mozilla.org/mozilla-central/rev/a888be20e9d7 (bug 975931). 
form-dynamic-not-invalid-barred.html file? 
https://hg.mozilla.org/mozilla-central/rev/2eb1331a2bc4 
checkin-needed on a non-GIT-style diff "containing" an image. 
directory. 
appended to it. 
calls as in the following patch.) 
patch. 
reject entirely-empty properties) pass. 
variables. 
of those codepaths. 
Bug 989560 patch 4 - Remove most uses of CheckEndProperty()/ExpectEndProperty().  r=heycam 
Bug 985838 - Change custom property name prefix from "var-" to "--" and allow identifiers to begin with "--". r=dbaron 
Bug 988780 - Refactor ParseGridTemplateAfterString() to not use CheckEndProperty() (layout/style/nsCSSParser.cpp). r=dbaron 
Bug 990297 - Refactor table initialization code in nsCSSProps::AddRefTable. r=dbaron 
I confirmed that the crashtest crashes in the harness without the patch. 
Bug 880596 part 1 - Separate delay from start time for transitions; r=dbaron
Bug 880596 part 2 - Make ElementPropertyTransition inherit from ElementAnimation; r=dbaron
Bug 880596 part 3 - Remove ElementPropertyTransition::IsRunningAt and mIsRunningOnCompositor; r=dbaron
Bug 880596 part 4 - Reuse ElementAnimation::HasAnimationOfProperty; r=dbaron
Bug 880596 part 5 - Make ElementAnimation::HasAnimationOfProperty no longer virtual; r=dbaron
Bug 880596 part 6 - Factor out common method for adding animations and transitions to a layer; r=dbaron
Bug 880596 part 7 - Move ElementAnimation to AnimationCommon; r=dbaron
Bug 880596 part 8 - Rename ElementAnimation to StyleAnimation; r=dbaron
Bug 880596 part 9 - Fix comment about mFlushCount; r=dbaron
Bug 957833 - Enable CSS Variables by default in release builds. r=dbaron 
Bug 964646 part 1 - Add common OMTA test runner to animation_utils.js; r=dbaron
Bug 964646 part 2 - Add OMTA version of test_animations.html fill mode tests; r=dbaron
Bug 964646 part 3 - Refactor OMTA test methods to include opacity too; r=dbaron
Bug 964646 part 4 - Add OMTA version of test_animations.html animation list tests; r=dbaron
Bug 964646 part 5 - Add OMTA version of test_animations.html keyframe tests; r=dbaron 
Bug 950526 - don't dump textruns within nsTextFrame::DidSetStyleContext. r=dbaron 
Bug 950526 - add more reftests to cover first-letter, first-line scenarios. r=dbaron,heycam 
Bug 950526 - dirty frames after reparenting. r=dbaron 
Bug 984226 - Add parameter to OverflowChangedTracker::AddFrame to distingush between frames that need nsIFrame::UpdateOverflow called and frames that only have a transform that has changed. r=dbaron
No bug - Add paragraph about the size of reftests. 
Bug 993747 - nsAppRunner.cpp should use NS_FREE_PERMANENT_DATA rather than making up its own variant of the same concept.  r=karlt 
Bug 991928 - Make warning about wrapping XUL boxes chrome-only.  r=bzbarsky 
Bug 992324 patch 1 - Add a pref to disable interruptible reflow.  r=bzbarsky 
running reftests; with the patch it is always initialized to false. 
Back out changeset 244e4088c1b9 (bug 993747) for mochitest ASAN orange. 
Bug 992333 - Skip custom properties when looking for properties to transition. r=dbaron 
always being null. 
this codepath. 
The final 4 tests in each set of 7 fail without patch 2 in this bug. 
to DrawSurface (which honors the transform). 
creates a DrawTarget.) 
876626. 
Bug 995661 followup - Skip mochitest on b2g desktop for now on a CLOSED TREE. 
Bug 791480. Make reftests enter print mode before reftest-wait is removed, so canvas-print-callback tests can finish drawing before the test ends. r=dbaron 
Bug 791480. Reenable test on Windows 7. r=dbaron 
Bug 985303. Part 1: Assert that nsViews are only associated with a specific, limited set of frame types. r=dbaron 
Bug 985303. Part 2: Add aSkipChildLists parameter to nsLayoutUtils::UnionChildOverflow. r=dbaron 
Bug 985303. Part 3: Save a block's 'bottom edge of content' in a frame property if it doesn't match the block's content height, and use it in UpdateOverflow to compute the correct overflow. r=dbaron 
Bug 984226 - Add parameter to OverflowChangedTracker::AddFrame to distingush between frames that need nsIFrame::UpdateOverflow called and frames that only have a transform that has changed. r=dbaron
Bug 991134 - Output an additional failure line for loadfailed: null failures to make bug 789751 and bug 720452 TBPL starable; r=dbaron 
Bug 992878 - Increase number of expected assertions in test_bug437844.xul DONTBUILD, r=dbaron 
Bug 998995 - Reserve stack space for 16 arguments when parsing a CSS function; r=dbaron 
Bug 979345 - Implement "touch-action: manipulation" CSS value for Pointer Events. r=kats, r=botond, r=dbaron, r=mbrubeck 
Bug 920688 - Remove FIXME comment from StickyScrollContainer::ComputeStickyLimits. r=dbaron
Bug 979345 - Implement "touch-action: manipulation" CSS value for Pointer Events. r=kats,botond,dbaron,mbrubeck 
Bug 998206. Add --shuffle option to runreftests.py and 'mach reftest'. r=dbaron 
have a restyle posted for a frame that has the NEEDS_FRAME bit flag set. 
Bug 1001237 - Don't return nsChangeHint_UpdatePostTransformOverflow in nsStyleDisplay::CalcDifference when a transform is added. r=dbaron 
Bug 1001237 - Add crashtest. r=dbaron 
Bug 926728 - Only pass the first continuation or or-split-sibling of the sticky element to StickyScrollContainer::PositionContinuation. r=dbaron, r=corey
Bug 1005405 - OverflowChangedTracker::Flush() no longer downgrades parent frames from CHILDREN_AND_PARENT_CHANGED to CHILDREN_CHANGED. r=dbaron
Bug 1005405 - Ensure that multiple frame changes coalesce correctly. r=dbaron
Bug 995871 - Apply CSS transforms in CSS pixel space instead of device pixel space. r=dbaron 
Bug 916315 - Enable CSS sticky positioning in release desktop builds. r=dbaron
Bug 972601, part 1 - Get rid of pointless start state in nsTreeStyleCache::GetStyleContext. r=dbaron 
Bug 972601, part 2 - Delete trailing whitespace from nsXULTreeStyleCache. r=dbaron 
Bug 972601, part 3 - Make nsTreeStyleCache use auto pointers for its hashtables. r=dbaron 
Bug 972601, part 4 - Convert nsTreeStyleCache::mCache to nsRefPtrHashtable. r=dbaron 
Bug 972601, part 5 - Convert nsTreeStyleCache::mTransitionTable to nsClassHashtable. r=dbaron
Bug 972601, part 6 - Replace nsDFAState with uint32_t in nsXULTreeStyleCache. r=dbaron
Bug 985336: Remove unnecessary #includes from headers in layout/style. r=dbaron 
crashtest harness prior to the patch, and does not with the patch. 
Bug 998246 part 1 - Add pref for Web Animations API; r=dbaron 
Bug 1004383 part 1 - Put StyleAnimation on the heap; r=dbaron
Bug 1004383 part 3 - Add ElementAnimation::AsTransition virtual method; r=dbaron
Bug 1004383 part 4 - Move mAnimations to CommonElementAnimationData; r=dbaron
Bug 964646 part 6 - Add OMTA tests for timing functions on keyframes; r=dbaron
Bug 964646 part 7 - Handle NaN values when comparing matrices; r=dbaron
Bug 964646 part 8 - Add OMTA tests for animation-name; r=dbaron
Bug 964646 part 9 - Add OMTA tests for animation-iteration-count; r=dbaron
Bug 964646 part 10 - Fix floating point precision issues when comparing matrices; r=dbaron
Bug 964646 part 11 - Add OMTA tests for animation-direction; r=dbaron
Bug 964646 part 12 - Add OMTA tests for animation-play-state; r=dbaron
Bug 964646 part 13 - Add OMTA tests for animation-delay; r=dbaron
Bug 964646 part 14 - Add OMTA tests for multi-property animations; r=dbaron
Bug 964646 part 15 - Add OMTA tests for sampling animations with same timestamp; r=dbaron
Bug 964646 part 16 - Add OMTA tests for !important rules and animations; r=dbaron
Bug 964646 part 17 - Add RunningOn.TodoMainThread for marking animations that are known to run on the compositor when they should not; r=dbaron
Bug 964646 part 18 - Add omta_todo_is for marking OMTA animations that are known to fail; r=dbaron
Bug 964646 part 19 - Add OMTA tests for restyling interaction; r=dbaron
Bug 964646 part 20 - Add OMTA tests for cascading between keyframe rules; r=dbaron
Bug 964646 part 21 - Add OMTA tests for animation list lengths and dynamic style rule changes; r=dbaron
Bug 1013078 (part 1) - Remove some dead code left over from the removal of the Leaky tool. r=dbaron. 
Bug 1013078 (part 2) - Remove some dead code in tools/jprof/stub/libmalloc.h. r=dbaron. 
Bug 1005937 - Make the 'touch-action' CSS property apply to all elements except non-replaced inline elements and table rows, columns, and row/column-groups. r=dbaron 
Bug 1016251 - Ignore logcat output when parsing log. r=dbaron 
Bug 1016260 - Label images as (TEST) or (REFERENCE) from the reftest log output. r=dbaron 
Bug 854421 - Part 4: Flush out of date animations even if async animations are disabled since they could also be throttled by the refresh driver. r=dbaron 
Back out changeset 9bd21ab86f78 (bug 1013160) due to regression (bug 1017335). 
but not without the patch or with the final version. 
Bug 854421 - Part 4: Flush out of date animations even if async animations are disabled since they could also be throttled by the refresh driver. r=dbaron 
Bug 1017132. Don't call printf in FramePointerStackWalk. r=dbaron
Bug 966166 - Part 1: Parse @counter-style rule. r=dbaron, r=bz 
Bug 966166 - Part 2: Computation of counter style. r=dbaron 
Bug 966166 - Part 3: Link to other parts. r=dbaron 
Bug 966166 - Part 4: Rewrite some builtin counter styles. r=dbaron 
Bug 966166 - Part 5: Move computation code with minor changes. r=dbaron
Bug 727125 - Lazily compute LineBaselineOffset when needed so it is present after a dynamic change of 'text-decoration'. r=dbaron
Bug 727125 - Update overflow areas for text frames on text-decoration change to ensure text-decoration on hover is visible. r=dbaron 
Bug 727125 - Lazily compute LineBaselineOffset when needed so it is present after a dynamic change of 'text-decoration'.  r=dbaron
Bug 727125 - Update overflow areas for text frames on text-decoration change to ensure text-decoration on hover is visible. r=dbaron 
Bug 727125 - Lazily compute LineBaselineOffset when needed so it is present after a dynamic change of 'text-decoration'. r=dbaron
Bug 727125 - Update overflow areas for text frames on text-decoration change to ensure text-decoration on hover is visible. r=dbaron 
Bug 996798 - Add a typedef to make it easier to change the size of nsWrapperCache/nsINode flags.  r=bzbarsky 
so I'm moving it into its own bug. 
Bug 1027251 - Fix or whitelist dangerous public destructors in layout/ - r=dbaron 
Bug 1026344 - Part 1: Don't use memcpy to copy style structs. r=dbaron
Bug 1026344 - Part 2: Make nsStyleUnit a uint8_t-sized enum so we can use it on nsStyle{Sides,Corners}. r=dbaron 
Bug 1026344 - Part 3: Rename CalcValue to PixelCalcValue. r=dbaron 
Bug 1026344 - Part 4: Make nsStyleCoord::Calc refcounted and introduce a non-refcounted nsStyleCoord::CalcValue. r=dbaron
Bug 1026345 - Remove the now unused nsStyleContext allocation functions. r=dbaron 
Bug 1026903 - Make nsStyleContext members private. r=dbaron 
Bug 1013065 - Remove bug 65664's NSCAP_DONT_PROVIDE_NONCONST_OPEQ workaround. r=dbaron 
Bug 1016345 - Add memory reporting for nsHTMLCSSStyleSheet's nsDataHashtable's buffer and the buffers of its nsString keys. r=dbaron 
Bug 1016680, part 5 - Report the memory used by PresShell::mCaret. r=dbaron 
Bug 1026302 part 1 - Move IsForElement and PseudoElement from ElementAnimations to CommonElementAnimationData; r=dbaron
Bug 1026302 part 2 - Move PostRestyleForAnimation to CommonElementAnimationData; r=dbaron
Bug 1026302 part 1 - Move IsForElement and PseudoElement from ElementAnimations to CommonElementAnimationData; r=dbaron
Bug 1026302 part 2 - Move PostRestyleForAnimation to CommonElementAnimationData; r=dbaron
Bug 1024642: Remove extra white space from files, no functional changes; r=dbaron 
Bug 1024642: Add in rebeccapurple to color lists in gfx; r=dbaron 
Bug 1024642: Update layout tests to incorporate rebeccapurple as color in element properties; r=dbaron 
Bug 1028588 - Fix dangerous public destructors in layout/ - r=dbaron 
Bug 1026302 part 3 - Move GetEventsAt to nsAnimationManager; r=dbaron
Bug 1026302 part 4 - Remove ElementAnimations; r=dbaron
Bug 1026302 part 5 - Make a common property dtor for CommonElementAnimationData; r=dbaron
Bug 1010067 part 1 - Rename nsStyleAnimation::Value to mozilla::StyleAnimationValue; r=dbaron
Bug 1010067 part 2 - Rename nsStyleAnimation.{h,cpp} to StyleAnimationValue.{h,cpp}; r=dbaron 
Bug 1026315 - Remove PercentageHashKey; r=dbaron 
Bug 1000722 - Many B2G reftests fail after enabling OOP, because partial drawWindow calls are drawing too small an area. r=dbaron 
Bug 1028559 - Flatten xpcom/string/{public,src}/ directories. r=dbaron 
Bug 1000722 - Many B2G reftests fail after enabling OOP, because partial drawWindow calls are drawing too small an area. r=dbaron 
Bug 1028559 - Flatten xpcom/string/{public,src}/ directories. r=dbaron 
Bug 1010067 part 3 - Rename nsAnimation to mozilla::StyleAnimation; r=dbaron 
Bug 1010067 part 4 - Rename nsTransition to mozilla::StyleTransition; r=dbaron 
Bug 1010067 part 5 - Move ElementPropertyTransition to mozilla namespace; r=dbaron 
Bug 1010067 part 6 - Rename mozilla::css::CommonElementAnimationData to mozilla::ElementAnimationCollection; r=dbaron 
Bug 1010067 part 7 - Rename instances of ElementAnimationCollection; r=dbaron 
Bug 1010067 part 8 - Rename ElementData methods and members in CommonAnimationManager to ElementCollection; r=dbaron 
Bug 1006595 - Add some APIs on inIDOMUtils to allow determining the subproperties of a CSS shorthand, whether a property is a shorthand, and whether a given property supports a given type of value.  r=dbaron 
and led to further misindentation in this patch. 
Bug 997010 (Part 1) - Support dynamic changes to the image-orientation property. r=dbaron 
Bug 997010 (Part 2) - Reftest for dynamic changes to the image-orientation property. r=dbaron 
Bug 1029982 - Set mNeedLayoutFlush and mNeedStyleFlush back to true when flush failed. r=dbaron,roc 
Bug 1032116 - Outparamdel nsIStyleSheetLinkingElement::GetStyleSheet; r=dbaron 
Bug 1032118 - Remove the nsresult return value from nsMediaList::SetStyleSheet; r=dbaron
Bug 1033052 - Call SetRect in ReflowFrame since the old rect does not need to be preserved. r=dbaron 
Bug 1032014 - Remove extra call to AppendElement when generating animations; r=dbaron 
Bug 1031319 part 1 - Don't generate element animations when animation-name is "none"; r=dbaron
Bug 1031319 part 2 - Add tests for animation-name:none handling; r=dbaron 
Bug 556441 - Interpolation fails for stroke-width and stroke-dashoffset when animating between unitless values & values with units. r=dbaron 
Bug 1031153 - Move unicode-range descriptor serialization to nsStyleUtil. r=dbaron 
Bug 1034803 - Treat local(serif) as an invalid value in descriptor_database.js. r=dbaron 
Bug 1035394 - Fix dangerous public destructors in layout - r=dbaron 
Bug 1033881 part 1 - Don't generate animations when the animation-name doesn't match; r=dbaron
Bug 637242, patch 1 of 3: Fix ref-counting bug.  r=dbaron 
Bug 637242, patch 2 of 3: Make nsRuleNode::Sweep nonrecursive to avoid stack exhaustion crashes.  r=dbaron 
Bug 637242, patch 3 of 3: crashtest.  r=dbaron 
Bug 1032573 part 1 - Don't overload start time for marking finished transitions; r=dbaron
Bug 1032573 part 2 - Add a timeline member to ElementAnimations; r=dbaron
Bug 1032573 part 3 - Add AnimationTimeline::GetCurrentTimeStamp; r=dbaron
Bug 1032573 part 4 - Add AnimationTimeline::ToTimelineTime helper method; r=dbaron
Bug 1032573 part 6 - Add tests for Element.getAnimationPlayers; r=dbaron 
Bug 1039151 - Replace space-wasting use of DebugOnly<> in CSSVariableResolver with #ifdef DEBUG. r=dbaron 
without the patch, and passes in the reftest harness with the patch. 
does, and I think it's worth making explicit. 
their constructors (see patch 1). 
Bug 1038488 patch 3 - Use AllocateByObjectID/FreeByObjectID for style structs.  r=heycam 
Bug 1037314 - Include animation-play-state in animation shorthand; r=dbaron
Bug 1033881 part 2 - Add tests to test_element-get-animation-players.html which checks for animation-name: missing; r=dbaron 
content/xul/content/src/nsXULElement.h:359:117: error: left shift count >= width of type [-Werror] 
  --debugger-args "--tool=memcheck --leak-check=no --trace-children=yes --num-callers=50" 
Bug 1039796 - Use int64_t-based MULDIV() more consistently when working with aspect ratios in nsLayoutUtils.cpp. r=dbaron 
allocated using frame IDs or object IDs. 
I noticed this in the logs of a B2G emulator mochitest run. 
Back out changeset f698c8166457 (bug 1035075) for B2G ICS Emulator Opt mochitest-7 orange. 
Bug 1031576 (Part 3) - Remove nsLayoutUtils::DrawPixelSnapped, since it's dead code now. r=dbaron 
Bug 1015474 part 2: Add reftests for new "min-width:auto" sizing behavior on flex items. r=dbaron 
Bug 1015474 part 3: Add reftests for new "min-height:auto" sizing behavior on flex items. r=dbaron 
Bug 1015474 part 4: Add reftests for interaction between "min-width:auto" & "overflow-x". r=dbaron 
Bug 1015474 part 5: Add reftests for interaction between "min-[width|height]:auto" & "overflow-x"/"overflow-y". r=dbaron 
Bug 1037316 part 1 - Return the same object when updating animations; r=dbaron
Bug 1037316 part 2 - When updating animations, match existing animations one-by-one starting from the beginning of each list; r=dbaron
bug 1031241 pt 1 - Rename Get{Min,Pref}Width to Get{Min,Pref}ISize throughout layout. r=dbaron,smontagu 
the VMs on which we're running tests. 
Bug 1043181 - Copy mValues and mGeneration in the nsCSSCounterStyleRule copy constructor. r=dbaron 
pass. 
might have been the issue patch 0 fixes.) 
only the internals. 
Bug 996796 patch 3 - Move the knowledge of when we last updated main-thread-suppressed animation styles into the restyle manager rather than have two separate but always equal timestamps for animations and transitions.  r=birtles 
Bug 996796 patch 4 - Add a new type of RestyleTracker for handling animation-only style flushes.  r=heycam 
Bug 751939 - make url( followed by EOF valid.  r=dbaron 
Bug 1041247 - Allow font inflation test to pass in e10s (r=dbaron) 
Back out the remainder of 3f6ee18b1e9d (bug 1038357), most of which was backed out in 8da875b402fe (backout of bug 1020416). 
Bug 1046534 - Call DropDocumentReference on a document's CSSLoader before we unlink it. r=dbaron 
Bug 1039826: Make changes to 'order' property trigger a repaint (even if reflow doesn't change position). r=dbaron 
descendants due to matching rules in the UA style sheet. 
Bug 996796 patch 5 - Move the guts of UpdateThrottledStyle into nsStyleSet, where it can be reused.  r=heycam 
only replace the style attribute, animation rule, or transition rule. 
priority right now. 
we add the ability to replace the style attribute rule.) 
since it didn't handle creating important rules.  (Possibly more.) 
Bug 996796 patch 10 - Separate the rule node replacement code from the style context handling so that we can make visited handling correct.  r=heycam 
patch to bug 1031149 deals with aNewParentStyleContext being null). 
in automation right now. 
some more work) start doing so. 
Bug 996796 patch 14 - Fix the aElementForAnimation passed from ResolveStyleWithReplacement.  r=heycam 
Bug 996796 patch 15 - Copy the eSkipParentDisplayBasedStyleFixup bit from ReparentStyleContext as well.  r=heycam 
Bug 996796 patch 16 - Add comment about potential performance impromevent to RuleNodeWithReplacement.  r=heycam 
Bug 996796 patch 17 - Add comment about how RuleNodeWithReplacement should interact with nsTransitionManager and nsAnimationManager.  r=heycam 
we do this. 
asked to touch, so that we can use it for the animation-only restyle. 
Bug 996796 patch 20 - Make restyling exact - Avoid rerunning selector matching on everything when the basis of rem units changes.  r=heycam 
Bug 996796 patch 21 - Make restyling exact - Only call MaybeRecreateFramesForElement when we have a nonzero restyle hint.  r=heycam 
Bug 996796 patch 22 - Make restyling exact - only call RestyleBeforePseudo and RestyleAfterPseudo when we have an eRestyle_Subtree hint.  r=heycam 
animation-only style flush. 
bug. 
Bug 996796 patch 25 - Remove the old (now-unused) miniflush code (preserving one of the header comments).  r=heycam 
(If it is, we should probably fix that as a general issue.) 
Bug 1045161 patch 2 - Remove write-only member variables of nsStyleTable.  r=bzbarsky 
Back out bug 996796 patch 18 through patch 25 (changesets fbe97c2db729 through 9719c08c3144) to fix 50%-of-the-time Android 4.0 debug orange from single assertion ("Why did this not get handled while processing mRestyleRoots?", layout/base/RestyleTracker.cpp, line 87) in gfx/tests/crashtests/815489.html . 
we do this. 
asked to touch, so that we can use it for the animation-only restyle. 
Bug 996796 patch 20 - Make restyling exact - Avoid rerunning selector matching on everything when the basis of rem units changes.  r=heycam 
Bug 996796 patch 21 - Make restyling exact - Only call MaybeRecreateFramesForElement when we have a nonzero restyle hint.  r=heycam 
Bug 996796 patch 22 - Make restyling exact - only call RestyleBeforePseudo and RestyleAfterPseudo when we have an eRestyle_Subtree hint.  r=heycam 
Bug 1038943: Turn on leak checking on B2G with an initial threshold of 400000 bytes. r=ahal,dbaron 
Bug 1049052: Use the style context on the root element's primary frame (if it exists) to resolve rem units, instead of re-resolving style. r=dbaron 
Bug 914253 patch 2 - Pull opening comment from fix-linux-stack.pl.  No review. 
Bug 914253 patch 3 - Implement separate debug info for fix_linux_stack.py, including the addition of support for .note.gnu.build-id sections that fix-linux-stack.pl did not support.  No review. 
Bug 914253 patch 4 - Implement address adjustment for fix_linux_stack.py.  No review. 
Bug 914253 patch 5 - Implement caching of addr2line results, like bug 812070 did for fix-linux-stack.pl.  No review. 
Bug 914253 patch 6 - Linux stacks are lowercase hexidecimal (although this was temporarily not true due to bug 939610, which is probably when mccr8 started fix_linux_stack.py).  No review. 
DONTBUILD 
DONTBUILD 
DONTBUILD 
Bug 914253 patch 10 - Revert inadvertent change from previous commit.  No review.  DONTBUILD 
Bug 972199 followup - use crashtest manifest rather than setBoolPref so that all later crashtests aren't affected by the pref change.  No review. 
animation-only style flush. 
bug. 
Bug 996796 patch 25 - Remove the old (now-unused) miniflush code (preserving one of the header comments).  r=heycam 
Bug 1050845 - Add will-change: auto to full-screen-override.css; r=dbaron 
Bug 1044181: style loader now annotates classified tracking nodes r=dbaron 
Bug 1051122: Don't infinitely recurse in CodeAddressServiceStringAlloc::free. r=dbaron 
Bug 981924 - Update ReportToConsole calls in layout code to use the right category. r=dbaron 
Bug 1052147 - Initialize AnimationPlayer::mPlayState to running state; r=dbaron
Bug 625289 patch 1 - Add comment about dependence on synchronous frame reconstruction.  r=heycam 
Bug 625289 patch 2 - Create wrapper function around the only calling pattern of ComputeStyleChangeFor.  r=heycam 
Bug 625289 patch 3 - Add types for storing the style contexts of elements currently being reframed.  r=heycam 
Bug 625289 patch 4 - Add member variable to restyle manager for currently reframing style contexts.  r=heycam 
Bug 625289 patch 5 - Create a ReframingStyleContexts struct during restyling.  r=heycam 
Bug 625289 patch 6 - Store style contexts being reframed in the ReframingStyleContexts struct.  r=heycam 
Bug 625289 patch 7 - Expose TryStartingTransition.  r=heycam 
other things might as well in the future, thus the FIXME. 
Bug 625289 patch 9 - Convert nsCSSFrameConstructor::ResolveStyleContext away from early returns.  r=heycam 
Bug 625289 patch 10 - Check for difference in HasPseudoElementData before starting transitions.  r=heycam 
Bug 625289 patch 11 - Call RestyleManager::TryStartingTransition during frame construction.  r=heycam 
the element) before the style context is destroyed. 
(probably through some interesting interactions). 
Bug 1052907 - Make --this-chunk and --total-chunks arguments to mach reftest-remote work by coercing them to ints, which they need to be.  r=ahal 
Bug 913586 (Part 7) - Update Maybe users in layout. r=dbaron 
Bug 1030993 - Basic reflow implementation for ruby frame classes. r=dbaron
Bug 1030993 - Fix assertion failure in reftest css-ruby/ruby-whitespace-1.html. r=dbaron
Bug 1030993 - Reftests for Ruby reflow implementation.r=dbaron 
Bug 1054163 - Replace numbered reftest manifest file errors with more descriptive error messages.  r=dholbert 
Bug 781701 - Interpolate rotate3d rotation angles numerically when we can instead of using matrix decompositon. r=dbaron 
Bug 35168 (Part 1) - Add GetNormalRect to nsIFrame. r=dbaron 
Bug 35168 (Part 2) - Allow relative positioning of internal table objects. r=dbaron 
Bug 35168 (Part 3) - Add tests for table part relative positioning. r=dbaron 
Bug 35168 (Part 3) - Add dynamic tests for table part relative positioning. r=dbaron 
Bug 1041951 - parse font-variant as a shorthand for font feature subproperties. r=dbaron 
Bug 1041951 - rework computed value of font-variant to support only 2.1 values. r=dbaron 
Bug 975744 - remove font features pref and enable features by default. r=dbaron 
Bug 1041951 followup: Fix broken comparison against NS_FONT_VARIANT_CAPS_SMALLCAPS, to use != instead of negation. r=dbaron 
Bug 1048838 - Properly invalidate the style rule in nsTransitionManager::StyleContextChanged.  r=dbaron
The third test fails without the patch, and passes with the patch. 
Bug 948265 - Add CSS hue-rotate filter to nsCSSFilterInstance. r=mstange,dbaron 
Bug 1024454 (Part 1) - Eagerly propagate dirty bits so absolute children of table parts get reflowed reliably. r=dbaron 
Bug 948265 - Add CSS saturate filter to nsCSSFilterInstance. r=mstange,dbaron 
Bug 1054161. Don't build display items for text with alpha=0. r=dbaron 
Bug 1045994 - Add a chrome-only property to AnimationPlayer to indicate if an animation is running on the compositor; r=dbaron, r=bz 
Bug 1045993 part 1 - Add AnimationEffect interface and Animation.effect member; r=dbaron, r=bz 
Bug 1045993 part 2 - Move the animation name from AnimationPlayer to Animation; r=dbaron
Bug 1045993 part 3 - Add AnimationEffect.name; r=dbaron, r=bz 
Bug 1045993 part 4 - Add tests for Animation.effect.name; r=dbaron 
Bug 1043560 followup:  Annotate different fuzziness on one test for d2d since it is intermittenly more fuzzy on accelerated win7 reftests. 
Bug 1043560 followup:  Annotate reliable reftest failure on B2G following merge of bug 1043560 with https://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?changeset=09ee525ce99d (probably bug 974242). 
Bug 1057098 - Rename ElementRestyler::Restyle{Before,After}Pseudo to MaybeReframeFor{Before,After}Pseudo.  r=bzbarsky 
that are suppressed from running on the main thread. 
pseudo-elements with animations on them. 
960465, when animation phases are removed. 
Bug 1055977 part 1: Use !important (and 'initial') in full-screen-override.css, to more thoroughly prevent ancestors of a fullscreen element from creating stacking contexts. r=dbaron 
Bug 1057674 - Unget the token when parsing the filter property expects a function but doesn't find one. r=dbaron 
test so that it matches the reference. 
child. 
the non-floating (i.e., inline) codepath (the else branch). 
FinishAndStoreOverflow. 
having a height that is determined from the font metrics. 
Bug 839812 - Add clip-path style for fullscreen override, which was probably originally intended ("SVG masking, clipping, or filtering").  r=dholbert 
Bug 1057928 (part 1) - In SpanningCellSorter, use |ops| instead of |entryCount| to indicate table liveness. r=dbaron. 
Bug 1057928 (part 2) - In nsTHashtable, use |ops| instead of |entrySize| to indicate table liveness. r=dbaron. 
Bug 1057900 - Resolve calc values for CSS blur() in nsRuleNode instead of storing them. r=dbaron,mstange 
Bug 931668 - Part 1: Add a change hint that represents a style data change that requires no processing. r=dbaron 
Bug 931668 - Part 2: Return nsChangeHint_NeutralChange where there was a style data change and we currently return nsChangeHint(0). r=dbaron 
Bug 931668 - Part 3: Add a style context bit to represent whether it depends on style data from its grandparent or higher ancestor. r=dbaron 
Bug 931668 - Part 5 (no part 4): Record whether a style context is shared. r=dbaron 
Bug 931668 - Part 6: Add helper function to check if a style context has any children with the NS_STYLE_USES_GRANDANCESTOR_STYLE bit. r=dbaron 
Bug 931668 - Part 7: Add helper functions looking at cached struct pointer values on style contexts. r=dbaron
Bug 931668 - Part 9 (no part 8): Make nsStyleContext::CalcStyleDifference compare all structs and return a bitfield of which changed. r=dbaron 
Bug 931668 - Part 10: Record pending restyles of restyle root descendants and ensure we restyle them if we didn't get to them. r=dbaron 
Bug 931668 - Part 11: Add eRestyle_Force (and eRestyle_ForceDescendants) restyle hints to control whether the frame (and all of its descendants) must be assigned its new style context even if it had the same style data as the old style context. r=dbaron 
Bug 931668 - Part 13 (no part 12): Add expensive (commented out) debug checks that destroyed style structs aren't still used in the style context tree. r=dbaron 
Bug 931668 - Part 14: Add functions to move style contexts to a new parent. r=dbaron 
Bug 931668 - Part 15: Pass equal struct bitfield back out of ElementRestyler::CaptureChange. r=dbaron 
Bug 931668 - Part 16: Give ElementRestyler::RestyleSelf a return value that indicates how restyling should proceed. r=dbaron 
Bug 931668 - Part 17: Handle eRestyleResult_Stop by moving a frame's style context to its new parent. r=dbaron 
Bug 931668 - Part 18: Add a function to swap style structs between style contexts. r=dbaron 
Bug 931668 - Part 19: Make RebuildAllStyleData use eRestyle_ForceDescendants so that it does rebuild the whole style tree. r=dbaron 
Bug 931668 - Part 20: Stop the recursive restyling process when we detect it is safe to do so. r=dbaron 
Bug 931668 - Part 20.1: Keep old structs on new style contexts, for those that are equal. r=dbaron
Bug 931668 - Part 20.2: Don't call AssertStructsNotUsedElsewhere on style contexts for :before/:after frames that are going away. r=dbaron 
Bug 931668 - Part 21: Fix issue where not all pending-restyle descendants are restyled. r=dbaron 
Bug 931668 - Part 22: Clear cached structs on descendants of an old style context that had structs swapped, if it is staying around. r=dbaron 
Bug 931668 - Part 23: Change a few test assertion expectations. r=dbaron 
Bug 931668 - Part 24: Avoid copying RestyleData::mDescendants when modifying an existing entry. r=dbaron 
maybe slightly earlier in bug 1057231 or bug 1058346). 
simple enough that it isn't needed yet). 
Bug 1057231 patch 2 - Add SVG Attribute Animation rule processor to the document.  r=dholbert 
bits and allows a maximum of 15. 
rule with which they do not interact. 
will happen in patch 2. 
(I'll rename this to match the name determined in bug 1057231.) 
also nsChangeHint, to use MOZ_MAKE_ENUM_CLASS_BITWISE_OPERATORS.) 
will happen in patch 3. 
important rules, which will happen in patch 3. 
implications. 
used on elements, and never on pseudo-elements or anonymous boxes. 
Note that this depends on bug 1057231. 
Bug 977991 patch 6 - Use the faster eRestyle_StyleAttribute path for style attribute changes.  r=birtles 
This couldn't be done in bug 1058346 because it depends on patch 5 in this bug. 
Bug 575675 - Remove assertion about aRelevantLinkVisited that isn't needed, and assumes that all link elements are styled with a style sheet that has :visited rules.  r=bzbarsky 
Bug 1065868 - Make nsStyleMargin::MaxDifference return the right bits. r=dbaron 
Bug 1045895 - Pass out provider frame from RestyleSelf to avoid calling GetParentStyleContextFrame again. r=dbaron 
Bug 1041512 - Mark intrinsic widths dirty on a style change even if the frame hasn't had its first reflow yet. r=dbaron 
Bug 1066089: Clear dependent data from CustomCounterStyle when it gets dropped from table. f=xidorn r=dbaron 
Bug 1063052 - in case a user ends up with unpacked chrome, on update use omni.ja again by removing chrome.manifest, r=rstrong r=glandium sr=dbaron 
Bug 1063775, part 1: Remove unnecessary null-checks after 'new' in StyleAnimationValue.cpp. r=dbaron 
Bug 1063775, part 2: Document nsCSSValue*List::Clone() as being infallible, and remove null-checks on its result. r=dbaron 
Bug 944836 - Add CSS property -moz-window-dragging: drag | no-drag. r=dbaron 
Bug 1063384 - Make RestyleTracker::DoProcessRestyle's restylesToProcess not have an mDescendants array in each element. r=dbaron 
Bug 1062732 - Avoid tracking descendants for restyling if we are force restyling the entire subtree. r=dbaron 
Bug 1038756: Callsites creating a channel in /layout/style/ (r=dbaron) 
Bug 1064636 followup:  Add new function to config/external/nss/nss.def r=khuey  a=bustage  CLOSED TREE 
Bug 1072100 - mix-blend-mode doesn't work when set in JS. r=dbaron 
Bug 95530 - topmargin and leftmargin attributes on the BODY element should be honored in all modes (not just Quirks mode).  r=dbaron 
Bug 95530 - add test for checking if the topmargin and leftmargin attributes on the BODY element are honored in all modes.  r=dbaron 
Bug 1070316 - Factor out descriptor storage from nsCSSFontFaceStyleDecl. r=dbaron 
Bug 1072072 - Fix invalid @font-face rules in scoped-style-font-face.html. r=dbaron 
Bug 979133 - Add facility to log the restyle process. r=dbaron
Bug 979133 - Add facility to log the restyle process. r=dbaron
Bug 1072130 - Don't swap structs when we're reusing a style context from a previous same-style continuation. r=dbaron 
Bug 966168 - Implement symbols() CSS function. r=dbaron 
Bug 1038570 - Part 1: rename nsObjectFrame.* to nsPluginFrame.*, changes moz.build and includes. r=dbaron 
Bug 1038570 - Part 2: rename ObjectFrame class to PluginFrame. r=dbaron 
Bug 1038570 - Part 3: rename ObjectFrame variables to PluginFrame. r=dbaron 
Bug 95530 - topmargin and leftmargin attributes on the BODY element should be honored in all modes (not just Quirks mode).  r=dbaron 
Bug 95530 - add test for checking if the topmargin and leftmargin attributes on the BODY element are honored in all modes.  r=dbaron 
Bug 1073828 - Fix variable generation in RestyleLogging.h. r=dbaron 
Bug 966168 - Implement symbols() CSS function. r=dbaron 
Bug 1072724 - Support showing more information about style structs in restyle logs. r=dbaron
Bug 1073396 - Make Element.getAnimationPlayers flush style; r=dbaron 
Bug 1046055 part 1 - Remove nsPresContext parameter from nsLayoutUtils::HasCurrentAnimations; r=dbaron 
Bug 1046055 part 2 - Rename AnimationPlayer::IsCurrent to HasCurrentSource; r=dbaron
Bug 1046055 part 3 - Add AnimationPlayerCollection::HasCurrentAnimationsForProperty; r=dbaron
Bug 1046055 part 4 - Add HasCurrentAnimationsForProperty to nsLayoutUtils; r=dbaron
Bug 1046055 part 5 - Check for current animations from ActiveLayerTracker::IsStyleAnimated; r=dbaron
Bug 1074054 part 1 - Add Animation::IsInEffect; r=dbaron
Bug 1074054 part 2 - Make Element::GetAnimationPlayers return in-effect animations too; r=dbaron
Bug 1062709 (part 1) - Add a frame number argument to NS_WalkStackCallback. r=dbaron. 
Bug 1062709 (part 2) - Clean up stack printing and fixing. r=dbaron. 
Bug 1075336 - Fix lifetime management of CounterStyle. r=dbaron 
Bug 1074634 - Don't overwrite eRestyleResult_ContinueAndForceDescendants with eRestyleResult_Continue.  r=heycam 
Bug 1075082 patch 1 - Add a helper function for the root of the rule tree.  r=birtles 
Bug 1075082 patch 2 - Add assertion in destructor of style contexts that should have been destroyed earlier.  r=birtles 
Bug 1075137 patch 1 - Convert one use of IsProcessingRestyles that doesn't follow normal pattern to a debug-only member on the restyle manager.  r=birtles 
Bug 1075137 patch 2 - Add new booleans for whether to skip animation styles and whether to post animation restyles.  r=birtles 
Bug 1075137 patch 3 - Add PresContext() method to nsRuleWalker.  r=birtles 
Bug 1075137 patch 4 - Convert callers from IsProcessingRestyles/IsProcessingAnimationStyleChange to SkipAnimationRules/PostAnimationRestyles.  r=birtles 
sense here now. 
Bug 1075137 patch 6 - Convert remaining IsProcessingAnimationStyleChange calls to call the method on the RestyleManager.  r=birtles 
Bug 1075137 patch 7 - Remove old IsProcessingRestyles and IsProcessingAnimationStyleChange booleans.  r=birtles 
Bug 1077139 - Use the vertical-text I-beam cursor when the writing mode is vertical. r=dbaron 
Bug 913990 - Test 'feed:' filter URL as crashtest instead of computed style test. r=dbaron 
Bug 1057180 - Enable CSS Filters by default. r=dbaron 
Bug 771043.  Move MediaQueryList tracking from the prescontext to the document, so they will correctly outlive prescontext changes.  r=dbaron 
I don't know of any bugs caused by this, but it seems worth fixing. 
Bug 1062709 (part 1, attempt 2) - Add a frame number argument to NS_WalkStackCallback. r=dbaron. 
Bug 1062709 (part 2, attempt 2) - Clean up stack printing and fixing. r=dbaron. 
Bug 1047928 patch 1 - Add more comments explaining eRestyle_Subtree vs. eRestyle_ForceDescendants.  r=bzbarsky 
This patch is not intended to contain any changes in behavior. 
The behavior changes for these callers are in the following patch. 
Bug 1047928 patch 4 - Don't rerun selector matching for charset or system color changes.  r=bzbarsky 
Bug 1047928 patch 4a - Explain why we need to rerun selector matching for preference changes.  r=bzbarsky 
This patch is not intended to contain any changes in behavior. 
The behavior changes for these callers are in the following 2 patches. 
Bug 1047928 patch 7 - Don't rerun selector matching when user font set is updated.  r=bzbarsky 
Bug 1047928 patch 8 - Don't rerun selector matching when @counter-style rules change.  r=bzbarsky 
Bug 1047928 patch 9 - Don't rerun selector matching for viewport units.  r=bzbarsky 
The behavior changes in these callers are in the following 4 patches. 
Bug 1047928 patch 11 - Fix indentation.  r=bzbarsky 
Bug 1047928 patch 12 - Optimize nsDocShell::SetDeviceSizeIsPageSize better, since changing results of media queries should not require forcing restyling if media queries don't change.  r=bzbarsky 
Bug 1047928 patch 13 - Don't rerun selector matching for changes to zoom, min font size, or app units per dev pixel.  r=bzbarsky 
Bug 1047928 patch 14 - Explain why changes to theme require rerunning selector matching.  r=bzbarsky 
Bug 1077388 - Fix parsing/computing issue with polygon(). r=dbaron 
Bug 1076918.  r=dbaron 
Bug 1080291 (part 2) - Remove thrashview.cpp. r=dbaron. 
Bug 1080291 (part 3) - Remove watch.sh. r=dbaron. 
Bug 1080291 (part 4) - Remove Gross Dynamic Footprint Reports code. r=dbaron. 
Bug 1080291 (part 5) - Rename tools/footprint/ as tools/leak-gauge/. r=dbaron.
DONTBUILD 
Bug 1082265 followup - Remove obsolete comment.  DONTBUILD 
Bug 1081812 - Remove tools/performance/layout/, which is ancient and unused. r=dbaron. 
Bug 1074522 - Implement ellipse()/circle() parsing and style computing. r=dbaron 
DONTBUILD 
DONTBUILD 
Bug 949651 - Serialize all pseudo-elements with the two-colon syntax, even those that allow one colon.  r=dbaron 
Bug 1081792 - Remove tools/page-loader/, which is ancient and unused. r=dbaron.
Bug 1077872 - Implement parsing of isolation CSS property. r=dbaron 
Bug 1077872 - Implement parsing of isolation CSS property. r=dbaron 
Bug 949651 - Serialize all pseudo-elements with the two-colon syntax, even those that allow one colon.  r=dbaron 
Bug 1083461 - Convert nsCSSValue{,Pair}List::operator== back to a static Equal method so that it can be validly called on null pointers.  r=bzbarsky 
Back out changeset 197317c196cf (bug 1077301) for apparently breaking component alpha on some Windows variants (perhaps those without accelerated layers backends). 
Bug 1074056 - Part 1 - Add support for interpolation hints to CSS gradients. r=dbaron 
Bug 1082899 patch 1 - Add a flags field to the CSS_PSEUDO_CLASS and related macros.  r=birtles 
The code for this is basically copied from nsCSSPseudoElements. 
Bug 1082899 patch 3 - Add flag for marking pseudo-classes as UA-sheet only.  r=birtles 
Bug 1082899 patch 4 - Rename existing flag for pseudo-elements to better match what it is (UA sheets, not chrome sheets, although EditorOverride is included).  r=birtles 
Bug 1082899 patch 5 - Add :-moz-native-anonymous pseudo-class, exposed only to UA style sheets.  r=birtles  sr=bzbarsky 
the touch caret appears again. 
This was formerly bug 1082899 patch 6. 
Bug 1084322 - Allow reftest analyzer to accept pasting of non-raw log output from treeherder. r=dbaron 
Bug 1090931 - Update logcat-filtering regex in reftest analyzer. r=dbaron
lands second will have some merging (though it shouldn't be difficult). 
Note that the name inside of IsJustifiableCharacter is already correct. 
Bug 1090627 - [e10s] Fix broken fuzzy annotation in reftest (r=dbaron) 
Bug 1092264 - Fix testing of 'isolation' property. r=dbaron 
Bug 1091885: Ship the 'isolation' CSS property. r=dbaron 
Bug 974125 - Use RepaintFrame change hint for will-change. r=dbaron 
Bug 1041075 followup: Request even-longer timeout for test_value_storage.html. r=dbaron 
has moved there. 
Bug 1083004 - Fix crashes for tests. r=dbaron 
Bug 1086937 patch 0 - Add missing null check of root element so this patch series doesn't expose a crash in layout/style/crashtests/472237-1.html .  r=birtles 
Bug 1086937 patch 1 - Add eRestyle_ChangeAnimationPhaseDescendants restyle hint that is like eRestyle_ChangeAnimationPhase, but for a whole subtree.  r=birtles 
this optimization slightly less beneficial until then. 
(reporting -1000px), whereas with the patches all 4 tests pass. 
Bug 1088025 - part 1 - Ensure nsBlockReflowState has a constrained mContainerWidth before we reflow lines into the container. r=dbaron 
Bug 1088025 - part 2 - Fix up block-dir position of lines in a vertical-rl block once we know the final block size (container width) needed to map to physical coordinates. r=dbaron 
Bug 1088025 - Reftest for positioning of lines within paragraphs in a vertical-rl block. r=dbaron 
Bug 1089441 - Move bloattable.pl and bloatdiff.pl into tools/bloatview/. r=dbaron.
Bug 1089441 - Update the refcount-balancer docs link. r=dbaron.
Bug 1096152 - Use frame instead of content to track break position. r=dbaron 
Bug 783213 - Part 1: Only apply the :active and :hover quirk to links, and not when the selector uses other pseudo-classes. r=dbaron 
Bug 783213 - Part 2: Don't apply the quirk to selectors that use a pseudo-element or are part of a pseudo-class argument. r=dbaron 
Bug 783213 - Part 3: Tests. r=dbaron 
Bug 1084183 - Propagate text decoration to ruby frames. r=dbaron 
Bug 1084183 - Test for text-decoration for ruby frames. r=dbaron 
Bug 1073336 part 1 - Move CheckNeedsRefreshes to CommonAnimationManager; r=dbaron
Bug 1073336 part 2 - Call CheckNeedsRefresh from within EnsureStyleRuleFor; r=dbaron
Bug 1073336 part 3b - Add nsPresContext::ClearLastStyleUpdateForAllAnimations; r=dbaron 
Bug 1073336 part 4 - Add CommonAnimationManager::CollectionUpdated; r=dbaron
Bug 1073336 part 5 - Add AnimationPlayerCollection::PlayerUpdated; r=dbaron 
Bug 1073336 part 6 - Add CSSTransitionPlayer; r=dbaron
Bug 1073336 part 7 - Move style flushing to CSSAnimationPlayer and CSSTransitionPlayer; r=dbaron
Bug 1073336 part 8 - Add protected AnimationPlayer::GetRenderedDocument(); r=dbaron
Bug 1073336 part 9 - Add protected AnimationPlayer::GetPresContext(); r=dbaron
Bug 1073336 part 10 - Add AnimationPlayer::GetAnimationManager(); r=dbaron
Bug 1073336 part 11 - Move GetAnimationPlayers to base CommonAnimationManager class; r=dbaron
Bug 1073336 part 12 - Add AnimationPlayer::GetCollection(); r=dbaron
Bug 1073336 part 13 - Add AnimationPlayer::PostUpdate; r=dbaron
Bug 1073336 part 14a - Update animation generation when changing animations via the API; r=dbaron 
Bug 1073336 part 14b - Make ElementRestyler detect changes to the animation generation; r=dbaron
Bug 1073336 part 14c - Check for a null style refresh time in AnimationPlayerCollection::CanThrottleTransformChanges; r=dbaron
Bug 1073336 part 15 - Switch AnimationPlayer to using less aggressive update mechanism; r=dbaron 
Bug 1073336 part 16 - Factor out animation-layer related information to a common database; r=dbaron 
Bug 1083670 - Move API tests for CSS Animations and CSS Transitions into separate directories; r=dbaron 
this bug. 
but not patch 1. 
the main-thread-suppressed (throttled) animations.) 
Bug 825004 - Part 1: Unprefix CSS3 Text Decoration. r=dbaron 
Bug 825004 - Part 2: Provide temporary aliases for -moz-text-decoration-*. r=dbaron 
Bug 1039488 - Turn text-decoration into a shorthand. r=dbaron 
Bug 1099450: Turn on pref "layout.css.object-fit-and-position.enabled" (enabling "object-fit" & "object-position" properties). r=dbaron 
Bug 771043.  Move MediaQueryList tracking from the prescontext to the document, so they will correctly outlive prescontext changes.  r=dbaron 
Bug 907396 - Style system support for display:contents.  r=dbaron 
Bug 1099143 - Add the minimized testcase as a crashtest. r=dbaron 
Bug 1074528 - Implement parsing/computing of inset(). r=dbaron 
Bug 1083848 - Make InlineBackgroundData aware of vertical writing mode. r=dbaron 
Bug 1083848 - Reftests for borders and backgrounds when inline element is split across lines in vertical writing-mode. r=dbaron 
Bug 1052924 - Rewrite pref isize and min isize computation. r=dbaron
Bug 1052924 - Use unified enumerators to simplify code. r=dbaron 
Bug 1052924 - Treat ruby text containers as inline elements for the purposes of finding a font inflation container so that ruby text gets the same font inflation as its ruby bases. r=dbaron 
Bug 1052924 - Add assertion and comments pointing out that ruby base container frames do not have an mBlockRS, but that's OK since they are never the containing block for floats. r=dbaron 
Bug 1052924 - Rewrite reflow code. r=dbaron
Bug 1052924 - Resolve some warnings. r=dbaron
Bug 1052924 - Give rbc & rtc correct position. r=dbaron
Bug 1052924 - Separate reflow code. r=dbaron 
Bug 1052924 - Implement basic line breaking for ruby. r=dbaron
Bug 1084183 - Propagate text decoration to ruby frames. r=dbaron 
Bug 1084183 - Test for text-decoration for ruby frames. r=dbaron 
Bug 1098270 - Null check curData in AddPendingRestyle to avoid crashing on style sheet updates in ShadowRoots outside of the composed document. r=dbaron 
Bug 1100770 - Better document existing printf_stderr, vprintf_stderr, fprintf_stderr functions.  r=froydnj 
Bug 1100773 patch 1 - Fix bracing of indent loops in style rule print functions.  r=heycam 
splitting lines of output across multiple fprintf_stderr calls. 
Bug 1100773 patch 3 - Add an aListDescendants boolean to nsStyleContext::List.  r=heycam 
Bug 1102650 - Make the :-moz-dir() and :-moz-locale-dir() selectors be valid selectors (matching nothing) with arguments other than rtl and ltr, rather than invalid.  r=heycam 
Bug 1100773 patch 4 - Fix nonunified build bustage. 
Bug 1102177 - Don't apply a fixed height to <hr> elements. r=dbaron 
Bug 1102374 - Enable display:contents by default in non-release builds.  r=dbaron 
Bug 1102177 - Don't apply a fixed height to <hr> elements. r=dbaron 
Bug 1093998 - Make nsContainerFrame::CreateNextInFlow return the new frame instead of using an our param. r=dbaron 
it in a separate bug. 
Bug 639134 - change document color pref to tristate, r=dbaron 
debugging, since I wanted to see if it was the problem. 
debugging, since I wanted to see if it was the problem. 
Patch 8 also makes the test pass. 
nsCSSRuleProcessor::MediumFeaturesChanged in patch 8. 
This is needed for patch 7. 
This is needed for patch 7. 
This depends on patches 5 and 6, and is needed for patch 8. 
This depends on patches 4 and 7. 
debugging, since I wanted to see if it was the problem. 
debugging, since I wanted to see if it was the problem. 
Patch 8 also makes the test pass. 
nsCSSRuleProcessor::MediumFeaturesChanged in patch 8. 
This is needed for patch 7. 
This is needed for patch 7. 
This depends on patches 5 and 6, and is needed for patch 8. 
This depends on patches 4 and 7. 
Bug 1109263 - Clamp the reftest drawWindow call to the canvas. r=dbaron
Bug 1092320 - Log a warning to the console when will-change is out of budget. r=dbaron,khuey 
Bug 1109972: nsHyphenator should not assume sizeof(bool) == sizeof(char). r=dbaron 
Bug 1110181 - Move mTextOrientation to the nsStyleVisibility struct to avoid potential recursive dependency in nsStyleText. r=dbaron 
Bug 1107721 - Add pointer to the base line layout in nsLineLayout. r=dbaron 
Bug 1107721 - Allocate PerFrameData & PerSpanData from the base line layout. r=dbaron 
Bug 1107721 - Add pointers to PerFrameData of different level. r=dbaron 
Bug 1107721 - Separate pfd unlinking code to method UnlinkFrame. r=dbaron
Bug 1107721 - Handle unlinking pfds linked to other levels. r=dbaron 
Bug 1107721 - Create PFD for root span. r=dbaron 
Bug 1107721 - Add method for attaching frame data to base line layout. r=dbaron 
Bug 1107721 - Move BeginSpan down for attaching annotation containers to the base container. r=dbaron 
Bug 1107721 - Link line layouts of ruby annotations to those of their ruby base. r=dbaron 
Bug 1111230 - Remove the library names for unsupported MSVC versions from trace-malloc; r=dbaron 
Bug 1087872 - Tests for dynamic change of ruby frames. r=bz,dbaron 
Bug 1081770 - Move ruby annotation frames when text-align: justify is applied to ruby bases. r=dbaron 
Bug 1039009 - Handle float in the base line layout. r=dbaron 
Bug 1052123 - Autohide ruby annotations which are identical to their ruby bases. r=dbaron 
Bug 1111879 - Avoid copying an nsFont when we don't need to modify it locally. r=dbaron 
Bug 1052123 - Autohide ruby annotations which are identical to their ruby bases. r=dbaron 
Bug 649145 - Store properties on nsCSSCompressedDataBlocks in declaration order. r=dbaron 
Fix a layout bug with columnset, transforms, and fixed positions. (bug 1112501, r=dbaron) 
Bug 1098272 part 1 - Suppress line breaks inside ruby boxes. r=dbaron,roc 
Bug 1098272 part 2 - Assert that there is no line break inside ruby. r=dbaron 
Bug 1098272 part 3 - Move initial line break check code in ruby. r=dbaron 
Bug 1098272 part 4 - Remove unused parameter of nsRubyBaseContainerFrame::ReflowSpans. r=dbaron 
Bug 1098272 part 5 - Move final line break check code in ruby. r=dbaron 
Bug 1098272 part 6 - Check whether line break is allowed in ruby. r=dbaron 
Bug 1108616 - part 1 - Language-specific text-transform casing behavior should only be used when content was explicitly tagged for language. r=dbaron 
Bug 1108616 - part 2 - Add an explicitLanguage field to gfxFontStyle, and pass it down from callers. r=dbaron 
Bug 35168 (Part 1) - Add GetNormalRect to nsIFrame. r=dbaron 
Bug 35168 (Part 2) - Allow relative positioning of internal table objects. r=dbaron 
Bug 35168 (Part 3) - Add tests for table part relative positioning. r=dbaron 
Bug 927349 part 28 - Call AddLayerChangesForAnimation after updating style; r=dbaron 
want to deal with now. 
Bug 1103832 - Initialize mLineIsEmpty and mLineAtStart of ruby annotations to false. r=dbaron 
Bug 1087735: Make JS callers of ios.newChannel call ios.newChannel2 in layout/ (r=dbaron) 
Bug 649142 - Part 1: Add macros and flags for defining logical properties and don't allocate storage for them in nsRuleData. r=dbaron
Bug 649142 - Part 2: Convert logical properties to their physical equivalents during the cascade. r=dbaron
Bug 649142 - Part 2.1: Test that logical properties in property_database.js are longhands. r=dbaron 
Bug 649142 - Part 3: Convert logical padding properties. r=dbaron
Bug 649142 - Part 4: Convert logical margin properties. r=dbaron 
Bug 649142 - Part 5: Convert logical border properties. r=dbaron 
Bug 649142 - Part 6: Remove support for shorthand-implemented logical properties. r=dbaron
Bug 649142 - Part 7: Move CSS_PROPERTY_LOGICAL up into one of the earlier free bits. r=dbaron 
Bug 649142 - Part 8: Tests. r=dbaron 
Bug 1114792 - Rename nsStyleContext::IsDirectlyInsideRuby to IsInlineDescendantOfRuby. r=dbaron 
Bug 1116037 part 1 - Move TextContainerIterator to RubyUtils. r=dbaron 
Bug 1116037 part 2 - Use frame state bit to mark rtc of span. r=dbaron 
Bug 1116037 part 3 - Use ruby "column" instead of "pair" to match the spec term. r=dbaron 
Bug 1116037 part 4 - Remove useless parameters in ruby reflow methods. r=dbaron 
Bug 1116037 part 5 - Use unified struct for ruby reflow states. r=dbaron 
Bug 1116037 part 6 - Use a single struct to represent ruby column. r=dbaron 
Bug 1116037 part 7 - Small fixes to ruby line breaking. r=dbaron 
Bug 1116037 part 8 - Merge two ruby text container arrays. r=dbaron 
Bug 1116037 part 9 - Move ruby text container arrays to stack. r=dbaron 
Bug 1116037 part 10 - Remove mColumnCount from nsRubyBaseContainerFrame. r=dbaron 
Bug 1116037 part 11 - Add RubyReflowState for sharing states between ruby level boxes. r=dbaron 
Bug 1116037 part 12 - Move mLineSize to RubyReflowState. r=dbaron 
Bug 927349 part 28 - Call AddLayerChangesForAnimation after updating style; r=dbaron 
Bug 1116688 - Always try to push children after reflowing an incomplete ruby segment. r=dbaron 
Bug 1118426 - Mark virtual overridden functions as MOZ_OVERRIDE in layout/style; r=dbaron 
Bug 1014341 (part 1) - Remove trace-malloc. r=dbaron,glandium. 
Bug 1055658 part 1 - Move code for applying relative position to an independent method. r=dbaron 
Bug 1055658 part 2 - Add relative positioning support for ruby annotations. r=dbaron 
Bug 1055658 part 3 - Add reftests for ruby annotation relative positioning. r=dbaron 
Bug 1055658 part 4 - Revert RubyReflowState. r=dbaron 
Bug 1103000.  Update the unitless length quick whitelist to match spec changes.  r=dbaron 
Bug 1120211 - Don't force the innerwindow size to the outerwindow size if the viewport is overridden. r=dbaron
haven't actually tested the reflow counts.) 
in a particular interval. 
tests, respectively, since they are what fix the tests. 
removal of its todo annotation). 
This is used in patch 3. 
though I haven't investigated why. 
#07: mozilla::dom::NodeBinding::appendChild [obj-firefox/dom/bindings/NodeBinding.cpp:600] 
Bug 1111463 part 1 - Invalidate html.css when ruby pref changes. r=dbaron 
Bug 1111463 part 2 - Add styles in html.css and ua.css. r=dbaron 
Bug 1111463 part 3 - Fix ruby reftests for default styles. r=dbaron 
Bug 1055658 part 1 - Move code for applying relative position to an independent method. r=dbaron 
Bug 1055658 part 2 - Add relative positioning support for ruby annotations. r=dbaron 
Bug 1055658 part 3 - Add reftests for ruby annotation relative positioning. r=dbaron 
Bug 1055658 part 4 - Revert RubyReflowState. r=dbaron 
Bug 1120313 - Fix nested ruby inside ruby annotation. r=dbaron 
Bug 1055658 part 1 - Move code for applying relative position to an independent method. r=dbaron 
Bug 1055658 part 2 - Add relative positioning support for ruby annotations. r=dbaron 
Bug 1055658 part 3 - Add reftests for ruby annotation relative positioning. r=dbaron 
Bug 1055658 part 4 - Revert RubyReflowState. r=dbaron 
number of earlier tabs. 
Bug 1115812 patch 1 - Remove obsolete comment that was fixed by bug 1047928.  r=heycam 
of code that will be preserved. 
animation-only update or in mPendingAnimationRestyles.) 
rebuilding all style data, renaming this one makes things clearer. 
of it can be called from different places within ProcessPendingRestyles. 
variable of RestyleManager. 
we have nothing to do. 
patches.) 
will be removed later in this patch series). 
This is needed in patch 11. 
happen during any sort of update.) 
This means it needs its own null-check of the root frame. 
match the lifetime of the ReframingStyleContexts). 
rebuild-all process. 
to have a ReframingStyleContexts with the right lifetime. 
Bug 1115812 patch 16 - Remove the now-unused DoRebuildAllStyleData.  r=heycam 
caused bugs in transitions with OMT animations enabled. 
ProcessPendingRestyles. 
the first time rather than bothering with an extra variable. 
the handling of mDoRebuildAllStyleData that it's within.) 
This is needed for patch 7. 
This is just a little cleanup that follows from patch 4. 
Also fixes bug 1111451. 
RestyleManager::ProcessPendingRestyles; this adds a call at the end.) 
should probably add some additional tests.) 
Bug 1055667 part 1 - Allow inline direction margin of ruby base/text boxes. r=dbaron 
Bug 1055667 part 2 - Remove unnecessary param of SetBSizeFromFontMetrics. r=dbaron 
Bug 1055667 part 3 - Suppress border/padding space on rbc/rtc frames. r=dbaron 
Bug 1055667 part 4 - Compute border/padding to zero for rbc & rtc. r=dbaron 
Bug 1055667 part 5 - Make nsRubyFrame inherit nsInlineFrame. r=dbaron 
Bug 1055667 part 6 - Fix border/padding of ruby frame. r=dbaron 
Bug 1055667 part 7 - Reftests for box properties on ruby boxes. r=dbaron 
Bug 1113216 - Avoid assertions/crashes by treating enumerated block-size values as auto, pending proper implementation of all the values. r=dbaron 
partly because they didn't work with non-OSX being 0.) 
Bug 1121327 patch 2 - Update reftest and crashtest manifests for new OSX variable in condition sandbox.  r=ted.mielczarek 
http://dev.w3.org/csswg/css-transforms/#transformable-element 
ruby text.) 
version tests rather than == version tests. 
that. 
Bug 924087 - Do not make editable elements as active, as their default action is disabled; r=smaug,dbaron 
Bug 649142 - Part 1: Add macros and flags for defining logical properties and don't allocate storage for them in nsRuleData. r=dbaron
Bug 649142 - Part 1.1: Assert that CSS_PROPERTY_IGNORED_WHEN_COLORS_DISABLED is not used on logical properties. r=dbaron 
Bug 649142 - Part 2: Convert logical properties to their physical equivalents during the cascade. r=dbaron
Bug 649142 - Part 2.1: Test that logical properties in property_database.js are longhands. r=dbaron 
Bug 649142 - Part 3: Convert logical padding properties. r=dbaron
Bug 649142 - Part 4: Convert logical margin properties. r=dbaron 
Bug 649142 - Part 5: Convert logical border properties. r=dbaron 
Bug 649142 - Part 6: Remove support for shorthand-implemented logical properties. r=dbaron
Bug 649142 - Part 7: Move CSS_PROPERTY_LOGICAL up into one of the earlier free bits. r=dbaron 
Bug 649142 - Part 8: Tests. r=dbaron 
Bug 1083134 - Part 1: Add CSS_PROPERTY_LOGICAL_{BLOCK_AXIS,END_EDGE} flags to record which side a logical property is for. r=dbaron 
Bug 1083134 - Part 2: Add function that can return which physical box property shorthand a given logical longhand is related to. r=dbaron 
Bug 1083134 - Part 3.1: Cascade block-axis logical properties with their physical equivalents. r=dbaron 
Bug 1083134 - Part 4: Add padding-block-{start,end} logical properties. r=dbaron 
Bug 1083134 - Part 5: Add margin-block-{start,end} logical properties. r=dbaron 
Bug 1083134 - Part 6: Add border-block-{start,end}-{color,style,width} logical properties. r=dbaron 
Bug 1083134 - Part 7: Tests. r=dbaron 
Bug 1083134 - Part 8: Add border-block-{start,end} logical shorthands. r=dbaron 
Bug 1120284 - Part 1: Define logical property groups more explicitly. r=dbaron 
Bug 1120284 - Part 2: Support non-shorthand-related logical box property groups. r=dbaron 
Bug 1120284 - Part 5: Support logical axis properties. r=dbaron 
Bug 1117983 - Part 1: Implement the {block,inline}-size logical properties. r=dbaron 
Bug 1117983 - Part 2: Implement the max-{block,inline}-size logical properties. r=dbaron 
Bug 1117983 - Part 3: Implement the min-{block,inline}-size logical properties. r=dbaron 
Bug 1117983 - Part 4: Tests. r=dbaron 
Bug 1120283 - Part 1: Implement the offset-{block,inline}-{start,end} logical properties. r=dbaron 
Bug 1120283 - Part 2: Tests. r=dbaron 
Bug 1121768 - Part 1: Require that shorthands with CSS_PROPERTY_ALWAYS_ENABLED_IN_UA_SHEETS or CSS_PROPERTY_ALWAYS_ENABLED_IN_CHROME_OR_CERTIFIED_APP have those flags on all subproperties. r=dbaron
Bug 1121768 - Part 2: Give CSSPROPS_FOR_SHORTHAND_SUBPROPERTIES an nsCSSProps::EnabledState argument. r=dbaron 
Bug 1121768 - Part 3: Look at all subproperties (not just content-visible ones) in nsCSSExpandedDataBlock methods. r=dbaron
Bug 1121768 - Part 4: Store token stream values in all subproperties of a shorthand with a variable reference. r=dbaron
Bug 1122366 - pt 1 - Make nsBlockFrame::IsSelfEmpty aware of vertical writing modes. r=dbaron 
Bug 1122366 - pt 2 - Also make nsInlineFrame::IsSelfEmpty aware of vertical writing modes. r=dbaron 
Bug 1122366 - Reftest for margin-collapsing through empty element in vertical mode. r=dbaron 
Bug 1067022 - Annotate the expected 5 "bad inline size" assertions on 10.10 in test_bug995943.xul, r=dbaron 
(i.e., without patch 10). 
I confirmed that this patch fixes the mochitest. 
Bug 1122375 - Fixes to avoid Valgrind false positives with gcc-4.9.x -O2 builds (part 2).  r=dbaron. 
Bug 1092363 - Disable bug 931668 optimizations for the time being. r=dbaron 
Bug 1122897 patch 1 - Remove quirk that text-decoration propagates to floats and absolutely positioned elements in quirks mode.  r=dholbert 
reflecting a quirk that is not removed, and that is interoperable. 
The added test fails without the patch and passes with the patch. 
Bug 1126140 - Remove duplicated selector lists in StyleRule::List output. r=dbaron 
Bug 1126145 - Include style sheet URL and line number in StyleRule::List output. r=dbaron 
Bug 621351 - Test that border widths and colors set by logical border shorthands can be transitioned. r=dbaron 
Bug 1126420 - Don't assert when intrinsic size values are used for a block-size property, just pretend they're 'auto' for now. r=dbaron 
Bug 891347 - Make bug 385526 crashtest appropriate for use in the reftest/crashtest harness.  r=mats 
overflow-inline-nooverflow.html fails. 
Bug 1128356 - Add template functions for common frame property destructors. r=dbaron 
Bug 1128356 - Add template functions for common frame property destructors. r=dbaron 
Bug 1122781 part 1 - Declare and statically check dependencies of style structs. r=dbaron
Bug 1122781 part 2 - Generate dependencies table of style structs for runtime check. r=dbaron 
Bug 1122781 part 3 - Restyle member initializer list of nsStyleContext. r=dbaron 
Bug 1122781 part 4 - Add runtime dependency check of style structs. r=dbaron
#ifdefs are correct? 
https://gcc.gnu.org/onlinedocs/gcc-4.9.0/gcc/i386-and-x86-64-Options.html 
Bug 680547 bustage fix:  Make #pragmas be #ifndef __clang__.  No review. 
Bug 1082017 - Add writing-mode to prerequisites for line-height and font (shorthand) tests, because vertical vs horizontal mode may result in different line metrics. r=dbaron 
The reftest fails without the patch and passes with the patch. 
for properties in category (2). 
overflow areas. 
introduction of the UpdateParentOverflow hint in patch 2. 
parent; it's the parent that actually needs the update.) 
This simplifies the API of the OverflowChangedTracker. 
TEST-UNEXPECTED-FAIL | testPanCorrectness | PaintExpecter - blockUtilClear timeout 
Back out changeset ffa5f28f512c (bug 1133541) on a CLOSED TREE for failing to compile (aPrincipal: undeclared identifier). 
This is used in patch 2. 
This is used in patch 3. 
updating the base values dynamically (bug 1064915). 
This is used by patch 6. 
added in patch 6, though we don't really depend on it until patch 17.) 
Bug 960465 patch 6 - Add the new mechanism for avoiding starting spurious transitions as a result of animations:  flush animation styles only before doing other restyle processing.  r=birtles 
Bug 960465 patch 7 - Use SetInAnimationOnlyStyleUpdate for ProcessPendingRestyles runs that are only updating animation data.  r=birtles 
Bug 960465 patch 8 - Get a style that is the correct "after-change style" for once we stop using animation phases.  r=birtles 
Bug 960465 patch 9 - Move the addition of the cover rule into nsTransitionManager::StyleContextChanged so that later patches can make it other than just addition of a rule.  r=birtles 
Bug 960465 patch 10 - Invalidate the collection's style rule when we stop some but not all transitions.  r=birtles 
phases. 
when also starting on ancestors. 
Bug 960465 patch 13 - Remove the cover rule code, which became unused in the previous patch.  r=birtles 
more than one for any element+property combination. 
Bug 960465 patch 15 - Switch debugging user of IsProcessingAnimationOnlyStyleUpdate() to InAnimationOnlyStyleUpdate() so that I can remove the former.  r=birtles 
the cover rule, that restyle doesn't get consumed by an inner frame. 
matters, i.e., implicit 0% and 100% keyframes.) 
Bug 960465 patch 18 - Remove aElementOrPseudoElement parameter to ReparentStyleContext (added in bug 1057129).  r=birtles 
Bug 960465 patch 19 - Remove users of eRestyle_ChangeAnimationPhase.  r=birtles 
although I've forgotten the full reasoning. 
Bug 960465 patch 21 - Replace one use of nsRestyleHint_ChangeAnimationPhase with nsRestyleHint_AllHintsWithAnimations so that we can remove the rest.  r=birtles 
Bug 960465 patch 22 - Remove implementation of nsRestyleHint_ChangeAnimationPhase.  r=birtles 
Bug 1131994 - Part 1: Support border-block-{start,end} shorthands in Declaration::GetValue. r=dbaron 
Bug 1131994 - Part 2: Fix logical axis and offset property computed value lookup in tests. r=dbaron 
Bug 1131994 - Part 3: Fix bad invalid_values in property_database.js for max-{block,inline}-size. r=dbaron 
Bug 1131994 - Part 4: Don't fail test_value_computation.html on min-{block,inline}-size:calc(-1%). r=dbaron 
Bug 1133617 - Reftest Analyzer: Use process_log() directly instead of log_pasted() for log from url or param. r=dbaron DONTBUILD 
Bug 1132008 part 1 - Calculate bsize of rtc according to its children. r=dbaron 
Bug 1132008 part 2 - Sync bounds of <rt>s in line layout. r=dbaron 
Bug 1132008 part 3 - Remove unused code in nsLineLayout. r=dbaron
Bug 1132008 part 4 - Fix reftests which rely on the old rtc sizing method. r=dbaron 
No bug - Mark css-ruby/line-breaking-1 a known assertion for windows. r=dbaron 
Bug 1125391 - Re-enable bug 931668 optimizations. r=dbaron 
Bug 1127198 - Part 1: Add a DEBUG-only count of frames that use a style context. r=dbaron 
Bug 1127198 - Part 2: Assert if we clear cached structs on a style context still used by a frame. r=dbaron 
Bug 1127198 - Part 3: Crashtest. r=dbaron 
Bug 1127198 - Part 4: Clear cached structs only after we have fully processed a restyle. r=dbaron 
Bug 1082017 - Add writing-mode to prerequisites for line-height and font (shorthand) tests, because vertical vs horizontal mode may result in different line metrics. r=dbaron 
Bug 1039006 - Enable the preference for CSS Ruby by default. r=dbaron 
though they exist partly just to flush); all tests pass with the patch. 
with the non-displaced text). 
Bug 1131812 patch 1 - Add reftests for sizing of replaced elements.  r=dholbert 
computed first.) 
Bug 1133439 patch 1 - Split eRestyle_StyleAttribute into eRestyle_StyleAttribute and eRestyle_StyleAttributeAnimations.  r=birtles 
Bug 1133439 patch 2 - Distinguish animation-only SMIL restyles based on eRestyle_StyleAttribute_Animations in RestyleManager::PostRestyleEvent.  r=birtles 
Bug 1134069 part 1 - Move ruby autohiding reftests to w3c-css/submitted. r=dbaron 
Bug 1134069 part 2 - Move ruby inlinize blocks reftests to w3c-css/submitted. r=dbaron 
Bug 1134432 part 1 - Suppress break inside ruby when calculating intrinsic isize. r=dbaron
Bug 1134432 part 2 - Fix basic inline min/pref isize calculation of ruby frames. r=dbaron 
Bug 1134432 part 3 - Move a function upwards for reuse. r=dbaron 
Bug 1134432 part 4 - Move line break checking code to an independent method for reuse. r=dbaron 
Bug 1134432 part 5 - Fix line breaks for intrinsic min isize calculation of ruby base container. r=dbaron 
Bug 1134432 part 6 - Add reftest for intrinsic isize calculation of ruby. r=dbaron 
Bug 1107378 part 1: Create a JS-implemented "CSS Unprefixing Service" that can convert certain -webkit prefixed CSS to an unprefixed form. r=dbaron 
Bug 1107378 part 2: Make the CSS Parser call out to the unprefixing service, when it detects a vendor-prefixed property name (if pref is enabled). r=dbaron 
Bug 1107378 part 3: In cases where we're unprefixing, treat "display:-webkit-box" as "display: flex" (& same for "-moz-box" if we previously saw "-webkit-box"). r=dbaron 
Bug 1107378 part 4: Add mochitest for our CSS unprefixing functionality. r=dbaron 
Bug 1107378 - Part 1: Create a JS-implemented "CSS Unprefixing Service" that can convert certain -webkit prefixed CSS to an unprefixed form. r=dbaron 
Bug 1107378 - Part 2: Make the CSS Parser call out to the unprefixing service, when it detects a vendor-prefixed property name (if pref is enabled). r=dbaron 
Bug 1107378 - Part 3: In cases where we're unprefixing, treat "display:-webkit-box" as "display: flex" (& same for "-moz-box" if we previously saw "-webkit-box"). r=dbaron 
Bug 1107378 - Part 4: Add mochitest for our CSS unprefixing functionality. r=dbaron 
Bug 1137984.  When parsing attribute selectors, treat EOF as ']' any place ']' is allowed.  r=dbaron 
Bug 1133624 - Add lang-specific ruby rules to ua.css. r=dbaron 
Bug 1139180 - Add BUG_COMPONENT metadata to moz.build for files in layout/.  r=roc 
Bug 1138092 - Add sanity check before checking ruby-align in TextAlignLine. r=dbaron 
Bug 1137031 - Do not stop restyling when TryStartingTransitiosn gives us a new style context. r=dbaron
Bug 1136010 - Don't coalesce style contexts added to RestyleManager::mContextsToClear. r=dbaron 
Bug 1125750 - Check the overflow region direction to avoid unnecesary reflow for scrollable frame. r=dbaron 
Bug 1125750 - Add auto test to detect error when using mOuter to check overflow area of a scrollable frame. r=dbaron 
Bug 1136010 - Don't coalesce style contexts added to RestyleManager::mContextsToClear. r=dbaron 
Bug 1073594, part 1 - Remove mean and stddev for BloatView addrefs and releases. r=dbaron 
Bug 1073594, part 2 - Remove nsTraceRefcntStats::mRefsOutstanding{Total, Squared}. r=dbaron
Bug 1073594, part 3 - Remove the mean and stddev for BloatLog object counts. r=dbaron 
Bug 1073594, part 4 - Remove nsTraceRefcntStats::mObjsOutstanding{Total, Squared}. r=dbaron
Bug 1138616, part 1 - Remove nsTraceRefcntStats::mAddRefs and ::mReleases. r=dbaron 
Bug 1138616, part 2 - Inline BloatEntry::AddRef and ::Release. r=dbaron 
Bug 1138616, part 3 - Add a faster bloatlog-only mode. r=dbaron 
Bug 1139272 - Allow expensive style context assertions to be enabled with a pref. r=dbaron 
Bug 1139723 - Turn on expensive style struct assertions for 1136010-1.html, and fix pref name typo. r=dbaron 
Bug 1039834 - Fix PNG suite reftest on mulet. r=dbaron 
Bug 1097242 - Make sure contenteditable -moz-user-select styles can be overridden by web pages; r=dbaron 
Bug 1139640:  Change DOM property for -moz-osx-font-smoothing to match standard camel-casing algorithm.  r=jdaggett 
Bug 1139640 test:  Add mochitest for DOM properties for CSS properties.  r=heycam 
Bug 1140502 - Request longer mochitest timeout threshold for test_media_queries.html & test_selectors.html. r=dbaron, a=me 
"top is animating" test fails. 
called from XrayCreateFunction 
This led to build errors on some periodic B2G device image builds for Nexus 5-L. 
This allows calling it from UpdateOverflow in patch 2. 
I don't think we need to worry about that case much. 
Bug 1139283 - Move some properties from nsStyleDisplay to nsStylePosition. r=dbaron
Bug 1140946 - tweak fall-through for ex/ch restyle on font load. r=dbaron 
Bug 1140264 part 1 - Avoid expanding auto-hidden ruby annotations. r=dbaron
Bug 1140264 part 2 - Move and merge line breaking code in rbc reflow to reduce useless computation and fix undesired break point. r=dbaron 
Bug 1140264 part 3 - Rename IsInlineDescendantOfRuby to ShouldSuppressLineBreak and exclude rbc/rtc from it. r=dbaron 
Bug 1140264 part 4 - Reftest for this bug. r=dbaron 
Bug 1142400 - Separate padding calculation in Get{Min,Pref}ISize and Reflow of nsBulletFrame. r=dbaron 
4.6 to 4.9, I get the expected build error. 
temporarily change the != to an =. 
Bug 1132743: Only allow CSS Unprefixing Service to be activated for hosts on a small, hardcoded whitelist. r=dbaron f=bz 
Bug 1132743 followup: hook up nsPrincipal.cpp's "gCodeBasePrincipalSupport" in new InitializeStatics method, instead of lazily. implicit rs=dbaron 
Bug 1132743: Only allow CSS Unprefixing Service to be activated for hosts on a small, hardcoded whitelist. r=dbaron f=bz 
Bug 1132743 followup: hook up nsPrincipal.cpp's "gCodeBasePrincipalSupport" in new InitializeStatics method, instead of lazily. implicit rs=dbaron CLOSED TREE 
Bug 1143227 - Annotate test_conformance__textures__texture-npot-video.html as asserting 4 times on Android, since bug 1083347 made us run it on Android debug builds, on a CLOSED TREE.  No review. 
more) data as before. 
Bug 1141919 - Fix incomplete line break suppression in ruby. r=dbaron 
Bug 1141919 part 2 - Drain overflow list of ruby content frame if line break suppression fails somewhere. r=dbaron 
Bug 1143147: Turn on (whitelist-restricted) CSS Unprefixing Service, by default. r=dbaron 
Bug 1142501 - Disable webvtt/rendering/cues-with-video/processing-model/basic.html on Linux due to extremely frequent timeouts.  No review. 
Bug 1143314 - Temporary disable two tests that are frequently failing intermittently, added about 12 hours ago in bug 1123523, on a CLOSED TREE. 
Bug 1125455 patch 1 - Add boolean for whether an animation of a property wins in the CSS cascade.  r=birtles 
Bug 1125455 patch 2 - Set mWinsInCascade for transitions based on whether there are animations.  r=birtles 
fixed. 
the test failures that match the test changes in this patch. 
This is needed for patch 6. 
item that we found. 
the test failures that match the test changes in this patch. 
nonzero style on the button in 491180-{1,2}.html. 
Bug 1125455 patch 1 - Add boolean for whether an animation of a property wins in the CSS cascade.  r=birtles 
Bug 1125455 patch 2 - Set mWinsInCascade for transitions based on whether there are animations.  r=birtles 
fixed. 
the test failures that match the test changes in this patch. 
This is needed for patch 6. 
item that we found. 
the test failures that match the test changes in this patch. 
Bug 1117603 part 1 - Don't assume style rules have been refreshed in GetAnimationRule; r=dbaron
Bug 1117603 part 2 - Don't unregister from the refresh driver unless we are also queueing events; r=dbaron 
Bug 1134849 - For display:inline elements whose writing mode is orthogonal to their parent's, the computed value should become inline-block. r=dbaron 
Bug 1134849 - Reftest for orthogonal inline elements. r=dbaron 
intermittent failure is and where it occurs. 
nonzero style on the button in 491180-{1,2}.html. 
Bug 1144619 - Variable 'nextX' is created in the wrong scope. r=dbaron 
Bug 1010675 followup - fix reftest failure annotation to fix Mac OS X 10.6 reftest orange.  No review. 
CLOSED TREE (per RyanVM) 
Bug 1145327 - Disable css-animations/print-no-animations.html on osx 10.10. r=dbaron 
Bug 1145803 - Skip the reftests added in bug 1010675 on B2G because they change the test chunking and trigger an unrelated failure, on a CLOSED TREE. 
Bug 1145327. Mark css-animations/print-no-animations.html as random on OS X on CLOSED TREE. r=dbaron. a=Kwierso 
Bug 1142360 - Move the mochitests for bugs 441782, 467672 and 570378 to the reftest framework; r=dbaron
No bug - Correct a few misspellings in test assertion messages, since commits with non-ascii commit messages now break the tree.  On a CLOSED TREE. 
Bug 1142360 followup - Annotate 3 tests as failing on Windows reftest-no-accel, on a CLOSED TREE. 
Bug 1142360 followup - Use better condition for failure annotation that avoids also including Windows XP reftests. 
Bug 1146145 - Give references z-index:-1 so that they have the same z-ordering characteristics as the tests, for the case when edges of the text overlap the floats. 
Bug 1146145 - Revert previous fix and give the tests position:relative so they have the same z-ordering as the references. 
Bug 1117603 part 1 - Don't assume style rules have been refreshed in GetAnimationRule; r=dbaron
Bug 1117603 part 2 - Don't unregister from the refresh driver unless we are also queueing events; r=dbaron 
Bug 1061364 - Don't force transitions to refresh their style rule; r=dbaron 
4.6 to 4.9, I get the expected build error. 
temporarily change the != to an =. 
Back out changeset c30bce033d92 (bug 1145803) to reenable the tests from bug 1010675 on B2G in the hopes that enough mochitests have been added or removed since then (primarily by bug 1142360) that we won't get the same chunking problems. 
test. 
http://test.csswg.org/shepherd/search/owner/dbaron/status/issue/
http://test.csswg.org/shepherd/testcase/ruby-autohide-001/ (etc.) 
DMError: Timeout exceeded for shell call 
Bug 1147552 - Add a yellow background on the active test item in the reftest analyzer. r=dbaron
Bug 1144607 part 1 - Remove CounterStyleManager::BuildCounterStyle for anonymous counter styles. r=dbaron 
Bug 1144607 part 2 - Support string value for list-style-tyle. r=dbaron 
Bug 1144607 part 3 - Reftests for string value on list-style-type. r=dbaron 
Bug 1088437 - Enable the CSS Font Loading API pref in non-release builds. r=dbaron 
Bug 1146103 - Use NS_WARNING instead of MOZ_ASSERT for bcoord check in ruby text container. r=dbaron 
Back out changeset 501a8f687a91 (bug 1148973) for widespread test bustage. 
Back out changeset 616e32e3da77 (bug 1146333) for widespread test bustage. 
Back out changeset 64934914c29d (bug 1144397) for widespread test bustage, on a CLOSED TREE. 
Bug 1123979 - Annotate known intermittent assertion on crashtest.  No review. 
some already-existing todos in the same file). 
This flag is used in patch 5 and patch 6. 
These flags were added in patch 2. 
This is used in patch 6. 
This is used in patch 6. 
to rerun it, though. 
mWinsInCascade updated in cases where we need to update it. 
This is also needed to prevent infinite recursion in patch 9. 
debugging, but still seems worth doing.) 
EnsureStyleRuleFor. 
EnsureStyleRuleFor. 
layer because we think we have animations to send to it. 
rules to the compositor. 
Backed out changeset e942133b1f9b (bug 1149769) for jittest-2, jsreftest, and spidermonkey test failures, on a CLOSED TREE. 
Bug 980770 - Enable off-main-thread animations on all platforms with off-main-thread compositing, for nightly/aurora.  r=birtles 
Back out changeset a765547ac232 (bug 980770) due to recently-introduced test failures. 
Bug 1145218 - Require a new float manager if a block frame has a different writing-mode to its parent's. r=dbaron 
Bug 1149781; [webvr] Update Oculus API to use 0.5.x SDK; Mac startup crash fix; r=dbaron, a=startup-crash 
Bug 1145218 - Require a new float manager if a block frame has a different writing-mode to its parent's. r=dbaron 
animations enabled. 
Bug 1149906 - Consider play-pending animations to be playing as well  r=dbaron 
Bug 980770 - Enable off-main-thread animations on all platforms with off-main-thread compositing, for nightly/aurora.  r=birtles 
Bug 980770 followup - Disable test_deferred_start on Linux mochitest-e10s (probably because bug 1149391 also landed today). 
Bug 980770 followup - Use requestLongerTimeout(2) in test_animations_omta.html to fix intermittent Android timeout. 
Back out changesets 6ea87def95b9 and 288ad0365a5e (bug 980770, enable OMT animations) for frequently-intermittent Mac talos glterrain crashes, on a CLOSED TREE. 
CLOSED TREE with a=RyanVM 
Backed out changeset 9002c68ad577 (bug 980770, enabling off-main-thread animations) for 10% failure rate crash bug 1150619 on Linux ASAN mochitest-e10s-2, on a CLOSED TREE. 
Bug 1117603 part 1 - Don't assume style rules have been refreshed in GetAnimationRule; r=dbaron
Bug 1117603 part 2 - Don't unregister from the refresh driver unless we are also queueing events; r=dbaron 
Bug 1097922 - Remove temporary aliases for -moz-text-decoration-*. r=dbaron 
Bug 1146875 - Fix the leak-gauge.html broken and add a encoding declaration. r=dbaron 
Bug 1151136 - Always initialize the aSeqno result from TabParent::RecvNotifyIMEFocus.  r=masayuki 
Bug 1061364 - Don't force transitions to refresh their style rule; r=dbaron 
Bug 980770 - Enable off-main-thread animations on all platforms other than Linux (and other X11 based platforms) with off-main-thread compositing, for nightly/aurora.  r=birtles 
bug 1139922 - Fix loading mozinfo in runreftest.py. r=dbaron 
Back out changeset ad743e667004 (bug 950401) for Mac OS X 10.6 browser-chrome orange, mostly but not entirely on mochitest-e10s, on a CLOSED TREE. 
patch). 
and a comment removal that patch 1 made irrelevant) and some of part 21. 
Bug 723197 - Remove a workaround of VS2010 PGO bug. r=dbaron 
Bug 1153693 - Only call ReleaseRef on nsStyle{ClipPath,Filter} once when setting a new value. r=dbaron 
Bug 1146101 - Call ClearCachedInheritedStyleDataOnDescendants on more style contexts that had structs swapped out from them. r=dbaron a=abillings 
Bug 1154149 - Remove nsPresContext arguments from a bunch of nsStyleSet methods. r=dbaron 
Bug 1153570 - Remove AutoUseBasicLayerManager, which has been unused since 78b90e6c491b (bug 676241 part 3).  r=mstange 
Bug 980770 - Enable off-main-thread animations on Linux (and other X11 based platforms), for nightly/aurora.  r=birtles 
the added test crashes without the patch and passes with the patch. 
even when the pref is enabled. 
though there's still a crash when closing it. 
canceling a print dialog. 
CLOSED TREE 
Bug 1150351 - ReÃ«nable test_deferred_start.html on Linux, since the bug for which we disabled it has disappeared. 
Bug 1155412: Use mozilla::Maybe instead of hardcoded placement-new, for reflow state created in nsTableOuterFrame::OuterBeginReflowChild() and used by its caller. r=dbaron 
Bug 1156021 - Use containing block inline-size (as appropriate for writing mode) to compute text-indent when specified as percentage. r=dbaron 
Bug 1156021 - Reftest for text-indent specified as percent in vertical writing mode. r=dbaron 
Bug 1156104 - Mark nsROCSSPrimitiveValue::m{Color,Value,URI} as MOZ_OWNING_REF; r=dbaron 
Bug 1146117 - Downgrade the assertion in FindNearestRubyBaseAncestor to warning. r=dbaron 
Bug 1149009 - Fix line break suppression on whitespace not contained but wrapped in ruby boxes. r=dbaron 
Bug 1155766 - Fix a bad assertion r=dbaron 
Make split-profile run jprof in the directory with the jprof-log.  No bug. 
layout/style/test/test_value_computation.html . 
Bug 1144885 - Add reftests for font-size:0 and font-size-adjust:0.  r=jdaggett 
Bug 1156111 patch 1 - Give layout/reftests/ its own moz.build file.  r=gps 
Bug 1156111 patch 2 - Add BUG_COMPONENT metadata for tests in layout/reftests/.  r=gps 
Bug 1156988 - Update RestyleManager::{Change,Restyle}HintToString for recent changes. r=dbaron 
Bug 1028716 part 1 - Remove the 'auto' value of the -moz-orient property, and add 'inline' (new initial value) and 'block'. r=dbaron 
Bug 1028716 - Reftests for <progress> and <meter> with various writing-mode and -moz-orient combinations. r=dbaron 
Bug 1157279.  Escaping CSS identifiers should use lowercase letters for hex digits, not uppercase ones.  r=dbaron 
Bug 1084322 followup - Fix reftest-analyzer display of image from a failing != test. 
an additional patch on top of the patch stack. 
change). 
Bug 1156456 patch 3 - Send transform origin and perspective origin to layer in device pixels rather than CSS pixels.  r=birtles 
Back out changeset 1ae18f4c151f (bug 944164) for not compiling on Windows XP, on a CLOSED TREE. 
Bug 1156456 followup - Also annotate as fuzzy on Mulet, on a CLOSED TREE. 
Bug 1144885 followup - Remove spec links from reference, which the CSS test suite validator treats as an error. 
here to have variants with both degrees and radians. 
than a different one that will round differently. 
than a different one that will round differently. 
Bug 1157455 followup - fix test_transitions_per_property.html to expect different angle interpolation results, on a CLOSED TREE. 
Bug 1157083 <abbr> and <acronym> should use dotted underline of text-decoration instead of border-bottom r=dbaron 
Bug 1148694 patch 1 - Stop creating a CharsetRule object when parsing @charset rules. r=dbaron 
Bug 1148694 patch 2 - Remove interface and implementation of CSSCharsetRule. r=dbaron 
Bug 1148694 patch 3 - remove tests affected by removal of CSSCharsetRule. r=dbaron, r=khuey 
Bug 1157654 - Back out changeset 4803c84d4976 (bug 1153690) for frequent failures in dom/media/test/test_mediarecorder_getencodeddata.html . 
Bug 1157654 - Back out changeset e428ba6470b9 (bug 1140995) for frequent failures in dom/media/test/test_mediarecorder_getencodeddata.html . 
Bug 1157654 - Back out changeset e73f7d6a138d (bug 1140995) for frequent failures in dom/media/test/test_mediarecorder_getencodeddata.html . 
Back out bug 1154494 (changeset 94c2f1d254e7 and changeset d1269f811e05) for causing intermittent orange in various service worker tests. 
Bug 1158540 - Don't repeat the mRefCnt member of URLValue in ImageValue; r=dbaron
With the patch, all the added tests pass. 
copying. 
Bug 1141607.  Fix the initial value of outline-color to actually be correct.  r=dbaron 
This is a parallel to the transform test previously added in this bug. 
Bug 1157097 - Don't share a style context that will have its cached style data cleared. r=dbaron 
Bug 1141607.  Fix the initial value of outline-color to actually be correct.  r=dbaron 
Bug 1155836: Template on aComputeData in the DoGetStyle* helpers. r=dbaron f=bz 
Bug 947753 - Make test_drawWindow_widget_layers.html wait for the opened window to be visible. r=dbaron
even when the pref is enabled. 
Bug 1149009 - Suppress line break inside text frame if it is directly contained by ruby content box. r=dbaron 
Bug 1152941 - Always use unconstrained block-size when reflowing an orthogonal child block, to avoid incomplete reflow across orthogonal boundary. r=dbaron 
Bug 1152941 - Reftest for orthogonal block with potentially overflowing content. r=dbaron 
Bug 1161021 patch 1 - Add comments for existing started_test() calls.  r=bzbarsky 
happening after SimpleTest.finish(). 
Bug 1161021 patch 3 - Check that we don't get duplicate events for #seven::after.  r=bzbarsky 
Bug 1160724 - Part 1: Resolve a properly parented style context when looking up -moz-binding of a display:none XUL/plugin element. r=dbaron 
Bug 1161366 - Correctly set referrer when loading fonts with |new FontFace()|. r=dbaron 
Bug 1161325 - Make nsStyleVariables copy constructor behave more traditionally. r=dbaron 
Bug 1149555 - Update resize event firing to follow the specs, dispatch right before rAF callbacks, r=dbaron 
(with the image in the test having 100px height/width instead of 50px). 
The reftests pass with the patch, based on local testing. 
Bug 1153539 patch 1 - Improve comments for nsLayoutUtils::ComputeSuitableScaleForAnimation.  r=roc 
serves correctly) it's much cheaper to get. 
Back out changeset 266853fe8965 (bug 1038072) for widespread test failures (at least Linux, Android, and Mulet). 
Back out changeset a02ea85607a2 (bug 1038072) for widespread test failures (at least Linux, Android, and Mulet), on a CLOSED TREE. 
Bug 1132748 part 1: Add CSSUnprefixingService API for handling prefixed gradient expressions, with stub JS implementation. r=dbaron 
Tests for bug 645642, r=dbaron 
Bug 645642: implement text-align: match-parent, r=dbaron 
Bug 645642: use text-align: match-parent in list items, options and file inputs, r=dbaron 
947753) and Android (bug 1161049). 
Bug 1161049 patch 2 - Add comments reflecting what CanPerformOnCompositorThread doesn't check.  r=birtles 
animations. 
Bug 1159305 - patch 1 - Provide logical accessors for nsStylePosition and nsStyleSides fields. r=dbaron 
Bug 1135812 - Make picture element react to viewport changes. r=dbaron,johns 
Bug 1164813 - Make nsAnimationManager update cached in-effect status even when there is no frame; r=dbaron 
Bug 1167145 - Check result of PrevInFlow() before trying to call a method on it. r=dbaron 
Bug 1163832 - Update the reftest harness to wait for APZ repaint flushes before finishing. r=dbaron 
Bug 1167311: When we unprefix 'display:-webkit-box' on a whitelisted site, only set flag to unprefix '-moz-box' if we're parsing a series of declarations. r=dbaron 
Bug 1147766 - Part 2: Replace FixedStyleStructArray with mozilla::RangedArray. r=dbaron 
Bug 1147766 - Part 2: Replace FixedStyleStructArray with mozilla::RangedArray. r=dbaron 
Bug 1147766 - Part 2: Replace FixedStyleStructArray with mozilla::RangedArray. r=dbaron 
Bug 1160642. Add reftest-async-zoom to apply an async zoom before taking snapshot. r=dbaron 
Bug 1166598 (part 2) - Use PLDHashTable2 in SpanningCellSorter. r=froydnj,dbaron. 
Bug 1167189: Cleanup NS_RUNTIMEABORT("OOM") in layout/. r=dbaron 
Bug 1167782: Null-check pseudo element in nsHTMLCSSStyleSheet::RulesMatching(). r=dbaron 
Bug 1167588 - Mark Rule::mParentRule as MOZ_NON_OWNING_REF. r=dbaron 
Bug 1167712 - Allow the reftest analyzer to ignore timestamps from |mach reftest| at the start of the line. r=dbaron 
Bug 1168950. Add the document to DoProcessRestyles profile label. r=dbaron
Bug 1169088 - Remove unused nsBidiPresUtils methods. r=dbaron
Bug 1171440 - Stop using for-each loops in reftest.js; r=dbaron 
Bug 1164783 - Removing trailing spaces. r=dbaron 
Bug 1164783 - Change default style for input type=search to box-sizing: border-box. r=dbaron 
Bug 1171842 - Use jump table instead of nested if statements for peeking compute function of style struct. r=dbaron 
Bug 861449 - Incremental css::Rule destroyer. r=dbaron
Bug 1167665 - Mark css::Loader::mDocument as MOZ_NON_OWNING_REF. r=dbaron 
Bug 1167663 - Mark nsCSSKeyframeStyleDeclaration/nsCSSPageStyleDeclaration::mRule as MOZ_NON_OWNING_REF. r=dbaron 
Bug 1168179 - Mark nsPresContext::mMedium as MOZ_UNSAFE_REF. r=dbaron 
Bug 1167589 - Mark the members of CSSParsingEnvironment as MOZ_UNSAFE_REF. r=dbaron 
Bug 1168180 - Mark nsPresContext::mShell as MOZ_NON_OWNING_REF. r=dbaron 
Bug 1167402 - Mark nsPresContext::mLinkHandler as MOZ_NON_OWNING_REF. r=dbaron 
Bug 1163832 - Update the reftest harness to wait for APZ repaint flushes before finishing. r=dbaron 
Bug 1176270: Handle self-assignment in StyleAnimationValue::operator=. r=dbaron
plan to do that here.) 
were never *non*-inherited.) 
Bug 1169440 patch 3 - Add nsChangeHint_ReflowChangesSizeOrPosition.  r=heycam 
Bug 1169440 patch 4 - Add comment to nsStylePadding::DifferenceAlwaysHandledForDescendants.  r=heycam 
addition of the new hint to nsChangeHint_AllReflowHints. 
Bug 1169440 patch 6 - Add parameter to nsIFrame::FrameNeedsReflow to control handling of target being a reflow root.  r=dholbert 
Bug 1169440 patch 7 - Pass parameter determined from style hint to FrameNeedsReflow.  r=dholbert 
TEST-UNEXPECTED-FAIL | file:///C:/slave/test/build/tests/reftest/tests/layout/reftests/writing-mode/ua-style-sheet-size-1.html | application terminated with exit code 1 
2362 INFO TEST-UNEXPECTED-ERROR | toolkit/webapps/tests/test_webapp_runtime_executable_update.xul | called finish() multiple times 
Bug 804975 - Part 1: Expose WritingMode bits. r=dbaron 
Bug 804975 - Part 2: Add a RuleNodeCacheConditions class and use it instead of a boolean canStoreInRuleTree during style computation. r=dbaron 
Bug 804975 - Part 3: Support conditional cached reset structs on rule nodes. r=dbaron 
Bug 804975 - Part 4: Cache reset structs on rule nodes for different font-size or writing mode values. r=dbaron 
Bug 1175789 Draw underline as overline when it's in vertical writing mode and the language is Japanese or Korean r=dbaron 
Bug 77999 - Part 1: Add nsDocumentRuleResultCacheKey. r=dbaron 
Bug 77999 - Part 2: Add RuleProcessorCache. r=dbaron 
Bug 77999 - Part 3: Gather document rules and produce an nsDocumentRuleResultCacheKey in nsCSSRuleProcessors. r=dbaron 
Bug 77999 - Part 4: Mark nsCSSRuleProcessors as ready for expiration from the RuleProcessorCache once no nsStyleSets are using them. r=dbaron
Bug 77999 - Part 5: Cache eAgentSheet and eUserSheet rule processors in the RuleProcessorCache. r=dbaron
Bug 1138384 - Enable CSS writing-mode support for all channels. r=dbaron,dholbert 
Bug 789788 - Revise the don't-use-document-fonts option so that it will prefer generics (as configured in prefs) but ignore the 'cursive' and 'fantasy' values, but may still use page-specified fonts if necessary for fallback (e.g. icon fonts). r=dbaron 
Bug 1122526 patch 1 - Factor in the scale from ancestors when computing scale for layer with OMT animation of transform.  r=roc 
same element, e.g., because it animates both transform and opacity. 
bug 1122526.  This patch also fixes bug 1165196. 
Bug 1122526 patch 4 - Use the nearest widget size as the maximum size for an animated layer, in case it's a popup larger than the toplevel window.  r=roc 
Bug 1167406 - Mark nsRootPresContext::RunWillPaintObservers::mPresContext as MOZ_NON_OWNING_REF. r=dbaron 
tests also show an invalidation bug without the patch.) 
Bug 1176969 followup - Annotate new reftests as intermittently fuzzy on Mac. 
Bug 980770 - Fully enable (for RELEASE_BUILD) off-main-thread animations on all platforms with off-main-thread compositing.  r=birtles 
Bug 1176969 followup - Increase error amounts for intermittent fuzzy-if(cocoaWidget). 
Bug 1176969 followup - Mark test as random for now until I have a chance to rewrite it. 
original patch in the bug. 
Bug 771367 - Support compositor animation for pseudo-elements. r=dbaron 
Bug 771367 - Update test_animations_omta.html to support testing pseudo-elements. r=dbaron 
Bug 1177149 - Don't force an invalidation for transform origin changes. r=dbaron 
Bug 1179285 - Give text-combine-upright its own pref, separate from writing-mode (vertical-text), so that we can keep it disabled until we actually have a layout implementation backing the CSS property. r=dbaron 
Bug 1180083 - Avoid shadowing info() in test_property_database.html. r=dbaron 
Bug 1118103 - Swap the aliasing direction of -moz-margin-start <-> margin-inline-start etc. r=dbaron 
Bug 1177563 - Test that we share agent rule processors across different documents. r=dbaron 
Bug 1099448 - Don't accept box properties with invalid calc() or rgb() etc. function values. r=dbaron 
Bug 1163257 - Only fail test_bug1160724.xul if we get a console warning about parsing 'transform'. r=dbaron 
Bug 1177563 - Test that we share agent rule processors across different documents. r=dbaron 
Bug 1171817 part 1 - Cancel animations when destroying the property holding them; r=dbaron
Bug 1171817 part 2 - Add CSSAnimation::GetOwningElement; r=dbaron
Bug 1171817 part 3 - Add CSSTransition::GetOwningElement; r=dbaron
Bug 1171817 part 4 - Add const version of AsCSSAnimation/AsCSSTransition methods; r=dbaron
Bug 1171817 part 5 - Add a sequence number member to Animations; r=dbaron
Bug 1171817 part 6 - Add Animation::HasLowerCompositeOrderThan; r=dbaron
Bug 1171817 part 7 - Add Animation::IsUsingCustomCompositeOrder; r=dbaron
Bug 1171817 part 8 - Override sequence numbers for CSS animations; r=dbaron
Bug 1171817 part 9 - Add override of HasLowerCompositeOrderThan for CSS animations; r=dbaron
Bug 1171817 part 10 - Override sequence numbers for transitions; r=dbaron
Bug 1171817 part 11 - Add CSSTransition::TransitionProperty(); r=dbaron
Bug 1171817 part 13 - Add override of HasLowerCompositeOrderThan for CSS transitions; r=dbaron
Bug 1171817 part 14 - Add AnimationPtrComparator class; r=dbaron
Bug 1171817 part 15 - Factor out common code for comparing owning elements into a separate class; r=dbaron 
Bug 1171817 part 16 - Always cancel transitions before removing them; r=dbaron
Bug 1180443 - Consider whitespace collapse when calculating intrinsic isize of ruby. r=dbaron 
Bug 1176496 - Drop support for -moz-prefixed gradients. r=dbaron 
Bug 1151506 - move nsIInterfaceInfo::isMainProcessScriptable to the end of the interface's vtable; r=dbaron
Bug 1165263 - Part 4: Update reftest runners to support new moz_hosts schema, r=dbaron 
Bug 1165263 - Part 4: Update reftest runners to support new moz_hosts schema, r=dbaron 
Bug 812899 - Make vertical 'auto' margins on absolutely positioned elements always center, even when the margins are negative. r=dbaron 
the new tests but not the code change, it reports 12 failures. 
Bug 1186061 patch 1 - Add feature to reftest harness to allow skipping the flush.  r=mattwoodrow 
main thread, which in turn covers up the bug. 
Bug 1187025 - Add keyboard shortcuts for differences/next/prev in the reftest analyzer. r=dbaron
Bug 1181011 - Don't use cached rule node structs for animations within pseudo-elements. r=dbaron a=abillings 
http://test.csswg.org/shepherd/reference/replaced-elements-width-40-ref/ 
with the patch. 
Bug 1180125 part 0 - Fix an obvious bug in animation_utils.js; r=dbaron
Bug 1180125 part 1 - Queue and dispatch CSS animation events as a separate step; r=dbaron
Bug 1180125 part 1b - Hook nsAnimationManager's list of events up to the cycle collector; r=dbaron 
Bug 1180125 part 2 - Move AnimationCommon classes out of CSS namespace; r=dbaron
Bug 1180125 part 3 - Extract DelayedEventDispatcher; r=dbaron
Bug 1180125 part 4 - Move PseudoTypeAsString to AnimationCollection and reuse; r=dbaron
Bug 1180125 part 5 - Move TransitionEventInfo to nsTransitionManager.h; r=dbaron
Bug 1180125 part 6 - Use DelayedEventDispatcher in nsTransitionManager; r=dbaron
Bug 1180125 part 7 - Queue transition events from CSSTransition::Tick; r=dbaron
Bug 1180125 part 8 - Dispatch transition events from refresh driver; r=dbaron
Bug 1186780: Replace EnumerateRead with new iterators in ImageLoader. r=dbaron 
IGNORE IDL 
Bug 538194 patch 1 - Refactor some code dealing with fitting block formatting contexts around floats into separate functions.  r=roc 
patch). 
the patch. 
Bug 1187851 patch 2 - Rename nsChangeHint_AddOrRemoveTransform to nsChangeHint_UpdateContainingBlock.  r=roc 
Backed out changeset 5dcb38c7f1b8 (Bug 1187851 patch 2) for reflow counting failures in Gaia integration tests apps/system/test/marionette/edges_gesture_test.js and apps/system/test/marionette/homescreen_navigation_test.js . 
Backed out changeset f24dbdeeaef1 (Bug 1187851 patch 1) for reflow counting failures in Gaia integration tests apps/system/test/marionette/edges_gesture_test.js and apps/system/test/marionette/homescreen_navigation_test.js . 
locally with patch 4. 
Bug 1187851 patch 2 - Cleanup to prepare for making dynamic changes to filter and perspective change fixed position containing block for descendants.  r=roc 
conditional in patch 2). 
Bug 1187851 patch 4 - Fix URL in tests to be something that Shepherd recognizes.  No review. 
Bug 1187851 patch 5 - Make dynamic changes to perspective change fixed position containing block for descendants.  r=roc 
31f18988). 
parent (or, potentially, grandparent, etc.). 
Bug 1180125 part 0 - Fix an obvious bug in animation_utils.js; r=dbaron
Bug 1180125 part 1 - Queue and dispatch CSS animation events as a separate step; r=dbaron
Bug 1180125 part 1b - Hook nsAnimationManager's list of events up to the cycle collector; r=dbaron 
Bug 1180125 part 2 - Move AnimationCommon classes out of CSS namespace; r=dbaron
Bug 1180125 part 3 - Extract DelayedEventDispatcher; r=dbaron
Bug 1180125 part 4 - Move PseudoTypeAsString to AnimationCollection and reuse; r=dbaron
Bug 1180125 part 5 - Move TransitionEventInfo to nsTransitionManager.h; r=dbaron
Bug 1180125 part 6 - Use DelayedEventDispatcher in nsTransitionManager; r=dbaron
Bug 1180125 part 7 - Queue transition events from CSSTransition::Tick; r=dbaron
Bug 1180125 part 8 - Dispatch transition events from refresh driver; r=dbaron
Bug 1181392 part 1 - Remove use of IsFinishedTransition from Animation::CanThrottle; r=dbaron
Bug 1181392 part 2 - Remove use of IsFinishedTransition from Animation::ComposeStyle; r=dbaron
Bug 1181392 part 3 - Remove use of IsFinishedTransition in KeyframeEffectReadOnly; r=dbaron
Bug 1181392 part 4 - Remove use of IsFinishedTransition from nsLayoutUtils; r=dbaron
Bug 1181392 part 5 - Remove use of IsFinishedTransition from AnimationCollection::HasAnimationOfProperty; r=dbaron
Bug 1181392 part 6 - Remove use of IsFinishedTransition from nsTransitionManager::StyleContextChanged; r=dbaron
Bug 1181392 part 7 - Remove use of IsFinishedTransition from nsTransitionManager::ConsiderStartingTransition; r=dbaron
Bug 1181392 part 8 - Remove use of IsFinishedTransition from nsTransitionManager::PruneCompletedTransitions; r=dbaron
Bug 1181392 part 9 - Remove use of IsFinishedTransition from nsTransitionManager::FlushTransitions; r=dbaron
Bug 1181392 part 10 - Remove KeyframeEffect::IsFinishedTransition; r=dbaron 
Add missing match/mismatch links to reftests submitted to CSS WG test suite, so that they work correctly as CSSWG reftests in addition to working as our reftests.  No bug. 
Bug 1146101 - Test. r=dbaron a=abillings 
Bug 1181130 - Part 1: Add support for -moz-user-select: -moz-text; r=dbaron 
Bug 1181130 - Part 2: Mark editable regions inside non-editable regions as -moz-user-select: -moz-text; r=dbaron 
Bug 1146002 - Increase fuzzy-if(Android) max-difference for box-sizing-replaced-003 to match box-sizing-replaced-002 to fix frequent intermittent failure.  No review. 
for consistency in case we use it elsewhere. 
Bug 1195142 patch 2 - Add reftests for will-change creating a stacking context.  r=BenWa 
(Imported from https://hg.csswg.org/test/ by dbaron.) 
Bug 1195142 patch 3 - Link to correct specification URLs so the CSSWG test suite system is happy. 
Bug 968923 - part 3d - record use counter information from the CSS parser; r=dbaron 
Bug 1180120 - Part 1: Record on style contexts that reset style is explicitly inherited. r=dbaron 
Bug 1180120 - Part 2: Move style-if-visited as well in nsStyleContext::Move (and assert that its parent is the same as the non-visited-style parent). r=dbaron 
Bug 1180120 - Part 3: Record on ElementRestyler whether we are at the root of a restyle. r=dbaron 
Bug 1180120 - Part 4: Add an outparam to CalcStyleDifference to indicate which struct pointers were identical. r=dbaron 
Bug 1180120 - Part 5: Factor out section of ElementRestyler::Restyle that calls AddPendingRestylesForDescendantsMatchingSelectors. r=dbaron 
Bug 1180120 - Part 6: Replace HasSameCachedStyleData call with samePointerStructs bit tests. r=dbaron 
Bug 1180120 - Part 6.1: Factor out some of RestyleUndisplayedDescendants. r=dbaron 
Bug 1180120 - Part 6.2: Refactor MaybeReframeFor{Before,After}Pseudo. r=dbaron 
Bug 1180120 - Part 7: Add eRestyleResult_StopWithStyleChange. r=dbaron 
Bug 1197765 - Compare text content inside frame instead of the content node for ruby autohiding. r=dbaron 
Bug 1200568 - Don't create animations for elements that are not part of the document tree; r=dbaron
Bug 1188061 - (Testcases from dbaron) Reftests for nsChangeHint_* flags that relate to resizing in one dimension only. r=dbaron 
Bug 1188061 - Pass the style context to nsStylePosition::CalcDifference so that it can take account of writing-mode where necessary. r=dbaron 
Bug 1194856 - Load noscript.css and noframes.css from data: URLs in release builds. r=dbaron 
Bug 1202419 - Include Ahem.ttf in reftests submitted to W3C. r=dbaron 
Bug 1151214 part 1 - Remove the optimization to ignore 'align-content' changes for single-line flex containers.  It's invalid now that we'll support 'align-content' for other box types (grid).  r=dbaron
Bug 1202908 part 1 - Remove pref layout.css.will-change.enabled. r=dbaron 
Bug 1202908 part 2 - Remove CSS_PROPERTY_ALWAYS_ENABLED_IN_CHROME_OR_CERTIFIED_APP. r=dbaron 
clearing other flags when an error occurred. 
Bug 1099557 - Make -moz-control-character-visibility default to 'visible' rather than 'hidden', so that spurious control characters are rendered as hexboxes. r=dbaron 
Bug 1099557 - Reftest to check that stray control characters are visible in HTML content. r=dbaron 
Bug 1202029 - Use the containing block for determining perspective for transformed elements. r=dbaron 
Bug 1206105 - Use CheckedInt for an+b selector matching.  r=bzbarsky 
Bug 1204841 followup - Remove the rest of the temporary code from bug 1150284.  r=roc  (backing out patch that was r=smaug, which I need to say for the commit hook) 
Bug 1208220 - Remove test of manifest filename that breaks my workflow.  r=jgraham 
Bug 1175492 followup:  remove extra dashes left over from removing -moz- prefixes.  r=longsonr 
Bug 1207157 patch 1 - Add reftest.  r=jfkthame 
given the code change that's happened since. 
Bug 1207157 patch 3 - Don't bother passing around the inline-end margin of replaced elements we consider clearing past floats, since we don't need it any more.  r=jfkthame 
Bug 1209124 - Bail out of nsStyleSet::GatherRuleProcessors and PresShell::Observe if we're called during/after shutdown. r=dbaron 
Bug 1208136: Give property_database.js a helper-function for pref lookups, to catch exceptions thrown for missing about:config prefs. r=dbaron 
Bug 1099557 followup - Put the default setting for control-character visibility behind a runtime pref, and keep it off-by-default on release builds for now. r=dbaron 
Bug 1099557 followup - Put the default setting for control-character visibility behind a runtime pref, and keep it off-by-default on release builds for now. r=dbaron 
Bug 1069192 part 1 - Force users of nsCSSProps::IsEnabled() to pass in the enabled state. r=dbaron 
Bug 1069192 part 2 - Add a flag for chrome-only properties and change semantics of enabling flags. r=dbaron
Bug 1069192 part 3 - Restrict -moz-window-{dragging,shadow} to be chrome-only. r=dbaron 
Bug 1032613 part 1: Promote FrameMaintainsOverflow to be a public nsIFrame method, & implement it using HasAllStateBits. r=dbaron 
Bug 1032613 part 2: Make RestyleManager::AddSubtreeToOverflowTracker skip frames that don't maintain overflow areas. r=dbaron 
Bug 1126230 part 3 - Add -moz-top-layer internal CSS property and set it for fullscreen elements. r=dbaron 
Bug 1126230 part 4 - Give proper geometric parent for top layer frames. r=bz,dbaron 
Bug 1126230 part 8 - Remove fullscreen override and related test. r=dbaron 
Bug 1126230 part 9 - Add test for fullscreen top layer. r=dbaron 
Bug 1205511 - Give nsPresContext a method that returns the CSS to device pixel scale. r=dbaron 
Bug 1069192 part 1 - Force users of nsCSSProps::IsEnabled() to pass in the enabled state. r=dbaron 
Bug 1069192 part 2 - Add a flag for chrome-only properties and change semantics of enabling flags. r=dbaron
Bug 1211040 - Restrict -moz-window-{dragging,shadow} to be chrome-only. r=dbaron 
Bug 1207002 - Use CSS property flag to restrict MathML-related internal properties. r=dbaron 
Bug 1126230 part 3 - Add :-moz-browser-frame pseudo class for HTML browser frame elements. r=dbaron 
Bug 1126230 part 4 - Add -moz-top-layer internal CSS property and set it for fullscreen elements. r=dbaron 
Bug 1126230 part 5 - Give proper geometric parent for top layer frames. r=bz,dbaron 
Bug 1126230 part 9 - Remove fullscreen override and related test. r=dbaron 
Bug 1126230 part 10 - Add test for fullscreen top layer. r=dbaron 
(Patch has been minorly tweaked by dholbert, with dbaron's approval.) 
Bug 1212607 - Re-expose -moz-window-dragging property to the content. r=dbaron 
Bug 1196379 - Fix incorrect assertion checking for sorted arrays in nsDocumentRuleResultCacheKey::Matches. r=dbaron 
Bug 1199610 - Correctly handle parsing failures inside CSS functions. r=dbaron 
Bug 1216043 - Rename nsStyleSheet::sheetType and make it an enum class. r=dbaron
Bug 1214958 - Add operators &=, |=, and ^= to mozilla::DebugOnly.  r=froydnj 
Bug 1209603 patch 1 - Add comments to RuleNodeCacheConditions.h .  r=heycam 
(I noticed this while writing patch 1.) 
only 'em' unit in a style struct. 
Bug 1209603 patch 4 - Add reftest for bug 1209603.  r=heycam 
Making it public allows its use in assertions in nsRuleNode in patch 7. 
cached storage is null. 
Bug 1209603 patch 6b - Rename nsStyleContext::HasCachedInheritedStyleData to HasCachedDependentStyleData.  r=heycam 
These document an invariant that I depend on in the next patch. 
the performance benefit from patch 10. 
now only execute once because of that work. 
not-yet-presented frames because we have fewer change hints to process. 
that testcase that don't show the bug. 
Bug 1215424 - Convert ParseBoxProperty to CSSParseResult and remove ParseBoxPropertyVariant.  r=heycam 
@page rules; they were only intended for @page rules. 
nonconformance with http://www.w3.org/TR/CSS/#partial . 
Without the patch, both reftests fail; with it, both pass. 
Bug 1216747 followup - Use the correct value when calling SetWritingModeDependency. 
some further simplification given that we need a WritingMode now. 
This is needed for patch 2. 
PeekStyleVisibility() instead of StyleVisibility(). 
more reliably. 
This is the replacement fix for bug 1209603. 
bail early for them even without mBits. 
This backs out the part of bug 1209603 whose speed I was concerned about. 
comment changes for nsStyleContext::mBits. 
Bug 1216431 patch 8 - Fix whitespace error I made when addressing review comments. 
Bug 1201327 - Don't repaint the whole frame subtree when background-position changes. r=dbaron 
Bug 803562 - force -moz-appearance: none on foreignObject elements. r=dbaron 
Bug 1216332 - Remove framearena helpers from abstract frame classes and stop them from being instantiated. r=dbaron 
fail. 
happens in patch 3, and which is used in patch 12. 
places.) 
inDOMUtils::GetCSSStyleRules. 
here, though.) 
Note that this removes an unused "friend class StyleRule;" declaration. 
having to worry about cycles. 
nsIStyleRule identity). 
after patch 12. 
TEST-UNEXPECTED-FAIL | layout/inspector/tests/chrome/test_bug727834.xul | original rule is not available for modification anymore - got "NS_ERROR_FAILURE", expected "NS_ERROR_NOT_AVAILABLE" 
on the include-what-you-use principle. 
11, and again through patch 12. 
removal needs to happen after patch 12. 
simplifying these notifications? 
nsCSSPageRule).  After patch 12, it is now needed by none. 
patch 17 and patch 18 possible. 
Bug 978833 patch 17 - Remove Rule::mWasMatched.  r=heycam 
This is just simplification (plus the addition of an assertion). 
a matched Declaration cannot. 
Bug 1186768 patch 1 - Avoid setting different font-size conditions due to MathML font size adjustments.  r=heycam 
Bug 978833 patch 20 - Rev IIDs that I should have revised in Bug 978833 patch 14. 
Bug 1059014 (part 1) - Remove support for max line box width. r=dbaron.
Bug 1059014 (part 2) - Remove support for reflow on zoom event pending. r=dbaron.
Bug 1059014 (part 3) - Remove support for pausing and resuming painting. r=dbaron.
Bug 1186768 patch 1 - Avoid setting different font-size conditions due to MathML font size adjustments.  r=heycam 
hitting the assertion instead of taking the slow path. 
Bug 1222226 - Don't return eRestyleResult_StopWithStyleChange if the old style context is shared. r=dbaron 
Bug 1216030 - Part 1: Remove CanAnimate_HasGeometricProperty. r=dbaron
Bug 1216030 - Part 2: Remove gfxPlatform::OffMainThreadCompositingEnabled from CanAnimatePropertyOnCompositor. r=dbaron
Bug 1216030 - Part 3: Move AreAsyncAnimationsEnabled check outside animation properties loop. r=dbaron 
Bug 1216030 - Part 4: Move IsCompositorAnimationDisabledForFrame outside animation properties loop. r=dbaron 
Bug 1216030 - Part 7: Add nsIFrame::RefusedAsyncAnimation. r=dbaron
Bug 1216030 - Part 12: Pass nsIFrame to CanPerformOnCompositorThread to avoid redundant process for getting nsIFrame. r=dbaron
Bug 1216030 - Part 13: Remove existsProperty check from CanPerformOnCompositorThread. r=dbaron
we can't do that until after patch 2. 
nsAttrValue::ParseStyleAttribute. 
This was made unused by patch 2. 
Thus this needs to be done separately, after patch 1. 
probably worth keeping for the memory savings). 
This is no longer used, thanks to patch 5. 
This is no longer used, thanks to patch 5. 
without the patch, and passes in the harness with the patch. 
Bug 1192189 - Fix assertion condition to use to-be-restyled element's composed document. r=dbaron 
Bug 1223694 - Don't bother checking for correct style scopes for native anonymous content. r=dbaron 
Bug 1224230 - Explicitly store the lineContainer's writing mode in InlineIntrinsicISizeData. r=dbaron 
Bug 1222745 - Restore eRestyleResult_StopWithStyleChange optimization for shared style contexts by comparing rule nodes for inherited style data changes. r=dbaron 
Bug 990250 - Fold nsIStyleSheet into CSSStyleSheet. r=dbaron 
Bug 1220621.  When removing a <col>, only create an anonymous colframe to replace it if one is really needed.  r=dbaron 
Bug 1176792 part 1 - [css-grid] Implement the 'grid-column-gap', 'grid-row-gap', and 'grid-gap' properties in the style system.  r=dholbert,dbaron 
Bug 1224464 patch 1 - Make nsCSSKeyword explicitly int16_t.  r=heycam 
Bug 1224464 patch 2 - Make nsCSSProps keyword tables be arrays of structs, to represent what they logically are.  r=heycam 
Bug 1224464 patch 3 - Rename KTableValue to KTableEntry now that it is a struct.  r=heycam 
ComputeWidthValue"). 
landing this before doing that.  Bug 1224918 covers doing better. 
Bug 1119062 - enable unicode-range in release builds. r=dbaron 
Bug 1119062 - enable unicode-range load test under Linux. r=dbaron 
Bug 1226489 - Pass only a single rule to StyleRuleChanged.  r=bzbarsky 
Bug 1221823 patch 1 - Use rvalue-reference and Move rather than just comments to show behavior of nsCSSKeyframeRule constructor.  r=xidorn 
Bug 1221823 patch 2 - Use already_AddRefed<Declaration>&& as parameter to nsCSSKeyframeRule constructor to avoid extra reference count cycle.  r=xidorn 
Bug 994305 - Remove DOCTYPE declarations from SVG files in browser UI.  r=dao 
Bug 1038663 followup - Add the link rel=match that makes the CSS WG harness believe this test a reftest.  No review. 
Bug 1038663 followup - Remove specification link from reftest reference, which the CSS WG harness considers an error.  No review. 
Bug 1038663 followup - Remove assertion from reftest reference, which the CSS WG harness considers an error.  No review. 
Bug 1059014 (part 3) - Remove support for pausing and resuming painting. r=dbaron.
Bug 1226864 - Don't wait for an APZ flush on load-only or script type reftests, since they don't get snapshotted. r=dbaron 
Bug 1213587 - Add foreground color to the background color for XML error pages.  r=xidorn 
wrote the reference.) 
Remove workaround for bug 1224761.  r=dbaron 
Bug 1217833 - Fix container width in exception for line frames in nsBidiPresUtils::ReorderFrames.  r=jfkthame 
Bug 1217833 followup - Mark one test as fuzzy(43,2) on a CLOSED TREE (though fuzzy amounts needed vary by platform). 
Bug 1217833 followup - Add margin to avoid fuzz on reftest. 
without this patch, and passes with the patch. 
   the unprefixed, and 4 for the shorthand for each prefixed 
Bug 1040668 part 1 - Avoid queuing transition event for disabled properties. r=dbaron 
Bug 1040668 part 2 - Parse and compute text emphasis properties. r=dbaron 
Bug 1040668 part 9 - Compute overflow from text-shadow after text decorations. r=dbaron 
Bug 1040668 part 13 - Move first part of nsStyleFont::GetLanguage to nsPresContext::GetContentLanguage. r=dbaron 
Bug 1040668 part 14 - Add helper function nsStyleUtil::MatchesLanguagePrefix for doing simple language matching. r=dbaron 
Bug 1040668 part 15 - Make the default value of text-emphasis-position aware of the language. r=dbaron 
Bug 1040668 part 16 - Add reftests for text-emphasis. r=dbaron 
Bug 1040668 followup - Use monospace for text-emphasis reftests. rs=dbaron on a CLOSED TREE 
  area of the row that is behind the text is correct) 
Bug 1224251 patch 2 - Add nsChangeHint_UpdateUsesOpacity to say when opacity changes between 1 and non-1.  r=xidorn 
Bug 1224251 patch 3 - Return nsChangeHint_UpdateUsesOpacity when opacity changes between 1 and non-1.  r=xidorn 
Bug 1224251 patch 4 - Convert UpdateOpacityLayer to RepaintFrame when changing opacity between 1 and non-1 on table parts.  r=mattwoodrow 
The removed parameter is always 0. 
opportunities for reordering members to actually shrink nsFont. 
(operator== is also defined as an inlined call to Equals.) 
Bug 1228501 patch 4 - Remove nsStyleFont::CalcFontDifference, which now duplicates the list of tests in nsFont::Equals.  r=jdaggett 
of the uses). 
Bug 1228877 - Make nsStyleContext::HasChildThatUsesGrandancestorStyle by setting bit on grandchild's parent instead of grandchild.  r=xidorn 
Bug 1224251 followup - Annotate one of the new reftests as fuzzy on Windows and Mac. 
The removed parameter is always 0. 
opportunities for reordering members to actually shrink nsFont. 
(operator== is also defined as an inlined call to Equals.) 
Bug 1228501 patch 4 - Remove nsStyleFont::CalcFontDifference, which now duplicates the list of tests in nsFont::Equals.  r=jdaggett 
of the uses). 
Bug 1202940 part 1 - Move html.css and ua.css back to be loaded in constructor of nsLayoutStylesheetCache. r=dbaron
Bug 1202940 part 2 - Remove layout.css.ruby.enabled pref. r=dbaron 
centered. 
Bug 1227766 patch 1 - Add flag for CSS properties that establish a containing block for fixed positioned elements.  r=dholbert 
Bug 1227766 patch 2 - Add will-change bit for establishing a containing block for fixed positioned elements.  r=dholbert 
Bug 1227766 patch 3 - Make will-change cause creation of a containing block for fixed and absolutely positioned elements when needed.  r=dholbert 
transform via HasTransform. 
Bug 1228877 - Make nsStyleContext::HasChildThatUsesGrandancestorStyle by setting bit on grandchild's parent instead of grandchild.  r=xidorn 
Bug 1228934 - Remove style, weight, and stretch parameters from nsFont constructor.  r=jdaggett 
  area of the row that is behind the text is correct) 
Bug 1224251 patch 2 - Add nsChangeHint_UpdateUsesOpacity to say when opacity changes between 1 and non-1.  r=xidorn 
Bug 1224251 patch 3 - Return nsChangeHint_UpdateUsesOpacity when opacity changes between 1 and non-1.  r=xidorn 
Bug 1224251 patch 4 - Convert UpdateOpacityLayer to RepaintFrame when changing opacity between 1 and non-1 on table parts.  r=mattwoodrow 
adding new constants. 
Bug 1228921 patch 2 - Fix nsRestyleHint constants to match the same style.  r=xidorn 
Bug 1229881 - fix off-by-one error in nsPrinterEnumeratorWin::GetPrinterNameList; r=dbaron; a=KWierso 
Bug 1225018 part 1 - Trigger reflow on some text emphasis changes for line height calculation. r=dbaron 
Bug 1229278 - Fix dynamic changes to text-emphasis-style. r=dbaron 
Bug 1224013 part 1 - Enable text-emphasis in UA sheets. r=dbaron
Bug 1224013 part 1 - Enable text-emphasis in UA sheets. r=dbaron
Bug 1230397 - Write safe mode pref on the main thread r=dbaron 
Back out changeset 9ebcec50fefa (bug 1223261) for causing unacceptable levels of intermittent orange (bug 1230015, bug 1230020).  a=orange 
Merge mozilla-central to fx-team. 
Merge mozilla-central to mozilla-inbound. 
Bug 1040668 followup 3 - Wrap lang attribute mapping code in NS_STYLE_INHERIT_BIT test. r=dbaron 
Bug 1230701 - Make will-change:position create a containing block for absolutely-positioned elements.  r=dholbert 
passes with the patch. 
Bug 1225018 part 1 - Trigger reflow on some text emphasis changes for line height calculation. r=dbaron 
Bug 1229278 - Fix dynamic changes to text-emphasis-style. r=dbaron 
Bug 930218 part 1.  Factor out the computation of block-size taken up by box-sizing into a separate function so we can reuse it.  r=dbaron 
Bug 930218 part 2.  Account for the parent's box-sizing whe figuring out the percentage height of a kid with an intrinsic ratio for purposes of determining the parent's shrink-wrap width.  r=dbaron 
Bug 1231261 - Append plugins to extra profile files instead of overwriting. r=dbaron 
Bug 1230508 - Always compute position to fixed for top layer elements for now. r=dbaron
Bug 1232157 - Fix reference mismatch errors in text-emphasis reftests caught by check-for-references. r=dbaron DONTBUILD 
Bug 1232596 - initialize variable changed  = false, flagged by Coverity. r=dbaron 
