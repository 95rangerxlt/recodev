smontagu.org

Remove unused interface nsILocaleDefinition. Bug 374447, r=jshin, sr=biesi 
Remove one incorrect assertion and temporarily comment out one that fires too often. Bug 377898, bug 377902, r+sr=roc 
Reverse the sign of mXOffset in RTL runs so that the offset is always from left to right. Bug 378351, r=roc 
Allow property values to have (escaped) trailing and leading whitespace. Bug 365345, r+sr=darin 
Don't call GDI 'A' functions for non-ASCII strings. Bug 378859, r+sr=roc 
Backout fix for bug 365345 due to regressions. a=bsmedberg on IRC 
bug 375291 - update layout/generic/punct_marks.ccmap to unicode 5.0p=arno. <arno.@no-log.org>r=smontagu, sr=dbaron 
Allow property values to have (escaped) trailing and leading whitespace. Bug 365345, r+sr=darin. Recheckin including fix for bug 378839, r=bsmedberg, sr=biesi 
Assert on null gfxContext. Bug 377918, r+sr=roc 
Clear mTextRun on a style change reflow. Bug 379969, r+sr=roc 
Avoid calling formatStringByName with no formats b=379889 r=smontagu sr=biesi 
Unit test for bug 365345 
Uneven justification with new textframe. Bug 380062, r+sr=roc 
Add unit test for bug 378839 and remove obsolete test programs 
Compile error in intl/uconv/native/nsNativeUConvService.cpp. Bug 372648, patch by Priit Laes <amd@store20.com> and timeless, r=smontagu 
Do bidi resolution during GetPrefWidth() and GetMinWidth() as well as Reflow(). Bug 365130, r+sr=roc 
Clear textruns during bidi resolution. Not Part of the Build. Bug 382429, r+sr=roc 
Add 'ascii' as alias for 'us-ascii'. Bug 383018, patch by Adam Guthrie <ispiked@gmail.com>, r=smontagu, blanket sr=roc 
Unit test for bug 383018. Author: Adam Guthrie <ispiked@gmail.com 
Bug 383542. Stop word breaking at NBSP. r+moa=smontagu 
Bug 382105. Clean up PeekOffsetWord to exit early without setting *aOffset if there is nowhere to go in the requested direction. Also, ignore *aSawBeforeType when we're checking for punctuation. r=smontagu 
Bug 385234. Iterate through textframe continuations properly in AddInlinePref/MinWidth. r=smontagu 
Remove unused argument 'aAttribute' in nsCSSFrameConstructor::StyleChangeReflow. Bug 382244, r+sr=dbaron 
Remove unused empty decoders and encoders for CP932 and CP950. Bug 385044, r=jshin 
Bug 385344. Always reconstruct textruns for next-in-flows of firstline/firstletter frames. Also, be more careful looping over text in AddInlinePrefWidthForFlow. r=smontagu 
Bug 384836. Avoid using a stale gfxContext, by not holding onto one in nsTransformedTextRun, passing in a gfxContext when required instead. r=pavlov,smontagu 
Bug 385293. Silence warnings about textrun recreation that aren't really problems, just informational. r=smontagu 
Bug 384836. Relanding fix to pass around gfxContexts a bit more instead of hanging on to one in nsTransformedTextRun. r=smontagu,pavlov 
Converting bidi utilities to non-XPCOM interfaces. Bug 120818; r=mkaply, nhotta; sr=attinasi 
Fix for bug 121654, "Browser hangs when viewing a Ja message w/o MIME header with folder charset set to Arabic (IBM-864)". r=mkaply, sr=kin, a=asa 
Move HandleNumbers() from nsBidiPresUtils to nsBidiUtils. Bug 137857. r=ftang, sr=attinasi 
ArabicShaping() shouldn't assume that the input and output is in visual order. Bug 137871. r=ftang, sr=attinasi 
Do Arabic shaping earlier before measuring the text so that it gets laid out correctly. Bugs 117041, 138097. r=ftang, sr=waterson 
Fix crasher bug 158796, r=jkeiser, sr=jst, a=asa 
patch by mozilla-bugs@nogin.org r=smontagu sr=bz 
Don't do numeric substitution in Arabic text by default. Bug 181711, r+sr=rbs, a=asa. 
patch by Behnam Esfahbod <behnam@esfahbod.info> r=smontagu sr=rbs a=mkaply 
Make Bidi symmetric swapping handle characters outside BMP. Bug 122800, r=mkaply, sr=darin 
Update the table of Bidi character categories to Unicode 4.0.1: partial patch to Bug 240943 to match the 1.7 branch checkin. r=jshin, rs=blizzard. 
Update bidi data tables to Unicode 4.0.1 and add surrogate handling. Bug 240943, r=jshin, sr=rbs. 
Correct the joining of some Urdu characters. Bug 255566, r=jshin, sr=rbs. 
Fix flipping of Arabic text when pasted to clipboard. Bug 197375, r+sr=bzbarsky 
Improve the CHAR_IS_BIDI macro. Bug 240943, patch from an idea by Peter Kirk, r+sr=roc 
Update Bidi character data tables to Unicode 4.1.0. Bug 288836, r=jshin, rs=roc, a=mkaply 
Update data files to Unicode 5.0 
Update data files to Unicode 5.0 
Update data files to Unicode 5.0. Bug 345156, r=jshin, sr=jag 
Trigger Bidi processing also for non-displayable control characters (RLM, RLE, RLO, etc.) Bug 177148, r+sr=roc, a=asa 
Only strip zero-width joiner and non-joiner control characters when we do our own Arabic shaping. Bug 280936, r=jshin, sr=rbs 
Move SymmSwap and other character-related Bidi utility methods from layout to intl/unicharutil. Bug 385539, r+sr=roc 
patch by prasad@medhas.org r=timeless r=smontagu sr=biesi 
Bug 9101. Fix various soft-hyphen bugs, primarily related to detecting when hyphenation is needed during a second-pass break-forcing line reflow. r=smontagu 
Bug 386122. Allow text runs to end at preformatted newlines. Speeds up loading of plain-text files a lot because we don't have to have a textrun for the entire file. r=smontagu 
Reftest for bug 377918. r=roc 
First batch of Bidi reftests 
Mark failing tests 
Bug 385423. Refactor textrun cache so that all textrun clients use a single global word-based cache. Responsibility for stripping out problematic characters (e.g. newlines) is given to the word cache. r=vlad,smontagu 
Implement -moz-border-start and -moz-border-end.  Patch by Simon Montagu <smontagu@smontagu.org> and me.  b=74880  r/sr=smontagu/dbaron 
Change font-sizes from ems to pts 
bidi-001-v.html now passes on Mac 
Add an mIsRTL flag to the textrun word cache hash key. Bug 386339, r+sr=roc 
Add reftest for bug 386339 
Bug 387358. Don't go into an infinite loop searching for end-of-first-letter-cluster; also translate from DOM to textrun offsets. r=smontagu 
Process glyphs in right-to-left clusters in reverse order. Bug 387653, r=vlad 
Add reftest for bug 387653 
Mark 387653.html as failing on Mac 
Mark 387653.html as failing on Windows 
Add an API to access <input type="file"> data.  r=smontagu (for charset stuff), r+sr=jonas 
Bug 388049. Update mCurrentFramesAllSameTextRun along the same-content path as well as the normal path. r=smontagu,a=dbaron 
Add docCharsetIsForced member to nsIDomWindowUtils. Bug 391631, r+sr=bz, a=jst 
Only override the charset in viewsource if the document charset was forced by the user. Bug 382074, r=mano 
Bug 211004 - mailnews.reply_header_locale de-DE not working, patch by Christian Eyrich <ch.ey@gmx.net>, r=smontagu, sr=biesi 
Bug 385270. Clean up textframe offset invariants: try #2 --- mContentLength no longer exists/is no longer trusted. r=smontagu,a=dbaron 
Bug 385270. Clean up textframe offset invariants: try #2 --- mContentLength no longer exists/is no longer trusted. r=smontagu,a=dbaron 
Bug 345259 - [RTL UI] opening tabs in background moves tabs. patch from smontagu and me, r=mconnor. 
Bug 390050. Scan all blocks in a flow-chain, and their overflow lines, when iterating through lines to build text runs. r=smontagu,mats,sr=mats,a=bz 
Blow away text runs after Bidi resolution. Bug 382429, r+sr+a=roc 
Override fLinkBefore except for the first range of an item, and fLinkAfter except for the last range. Bug 391045, r+a=pavlov 
Reftest for bug 391045 
Mark reftest for bug 391045 passing on Mac 
Mark reftest for bug 391045 passing on Linux 
Bug 393356. Spellchecker should not use private copy(ies) of the Unicode category tables. r=smontagu,a=damon 
Null check after CheckLineOrder. Bug 388175, patch by Uri Bernstein <uriber@gmail.com>, r=me, sr+a=roc 
Detect placeholders when building the array of frames for bidi resolution and add the real frames to the array. Bug 384527, r+sr=roc, b=dbaron 
Bug 385426. Be careful about looking for a previous soft-hyphen when checking for hyphen breaks. r=smontagu 
Remove cruft from nsBidiPresUtils. Bug 393962, r+sr+a=roc 
Bug 394222: Optimize calls to Bidi resolution. r=dbaron, sr+a=roc 
Previous checkin was for bug 382422 
Only substitute real frame for placeholder frame when it is an inline container. Bug 394239, r+sr+a=roc 
Unit test for bug 384527 based on Martijn Wargers' testcase 
Unit test for bug 385751 based on Martijn Wargers' testcase 
Unit test for bug 389630 based on Jesse Ruderman's testcase 
Bug 391621. Remove unnecessary trimmed-space counting. r=smontagu,a=dbaron 
Unit test for bug 394173 based on Martijn Wargers' testcase 
Bug 394545 - Remove intl.collationOption, r+moa=smontagu, a1.9=dsicore 
Bug 394510. Don't leak the hyphen textrun when we display a soft hyphen. r=smontagu 
Bug 393923. Fix text-offset calculation for first-letter. r=smontagu,a=dbaron 
Bug 392435. Make ClearTextRun work no matter which frame of a continuation chain we call it on. r=smontagu,a=dbaron 
Treat all empty and incomplete sequences as encoding errors, and some other clean-up. Bug 381412, r=jshin, sr=dveditz, b1.9=jst 
Tests for bug 381412 
Bug 337917 Make consumers stop using cids from other modules r=smontagu sr=darin 
Bug 386807. Remove duplicate elements from the linebreak array textrun construction parameter. r=smontagu,a-M8=damon 
Unit tests for bug 394239 (based on Martijn Wargers' testcase) and bug 392923 
Bug 389437. Handle searching for word breaks when starting at the end of the available text. r=smontagu,a=damon 
Bug 394832. Remove overeager rounding that causes underlines to appear too close to the text. r=smontagu,a=dbaron 
Bug 393796. Be more careful about verifying that an existing textrun is okay to be reused again after a change to the frame tree. r=smontagu 
Display one hex box with six digits for non-BMP codepoints with no glyph. Bug 376532, r+sr+a=roc 
Reftests for bug 376532 
Activate reftest bidi-005 now that bug 376532 is fixed 
Update bidi mirroring table to Unicode corrigendum 6. Bug 392581, r=jshin, blocking1.9=dbaron 
Tweak failing reftest 
Bug 299222 Mac font defaults for "new" langGroups (Indic + Armenian, Georgian, Ethiopic, Can. Syllabics). patch by Smokey Ardisson<alqahira@ardisson.org> r=smontagu, sr=roc, a=dsicore 
Bug 396761. Fix buffer length. r=smontagu,a=bz 
Set fLogicalOrder in the SCRIPTITEM before copying to the ranges so that ScriptPlace has it set. Bug 395676, r+blocking1.9=pavlov 
Reftests for bidi diacritics (bugs: 378351, 387653, 395676) 
Bug 393906. Make AdjustOffsetsForBidi maintain textframe invariants across the entire continuation chain, not just the fluid chain. r=smontagu 
Regression test for bug 92473 
Bug 385635. Make text min-width calculation clear out old value of trimmable whitespace when the text contains non-collapsible whitespace. Also, set skipWhitespace to skip subsequent whitespace only if the trailing whitespace in the text is not preformatted. r=smontagu 
Fix bidi reftests so they pass for me:  use font size in px rather than pt so they're not dpi-dependent (primarily for 000), and rewrite 006 so it doesn't hard-code the width of characters.  b=398337  r=smontagu 
Bug 397216 - "nsPersistentProperties shutdown leak in uconv" [p=asqueella r=smontagu a1.9=damons] 
Bug 387414. Detect situations where the textrun doesn't map enough text to fully reflow the frame (which can happen during style changes to preformatted whitespace, for example) and rebuild textruns in that case. r=smontagu 
Change the usage of NEEDS_BIDI_RESOLUTION so that it is either set on every block in a continuation chain or none of them. Bug 394805, r+sr+b=roc 
Bug 397510. Limit the number of lines below the initial line for which we reconstruct textruns. Speeds up line painting near the top of huge documents. r=smontagu 
Bug 393758. Detect when we're about to create two flows with the same element in the same textrun (which violates our invariants), and prevent it by starting a new textrun for the second flow. r=smontagu 
Bug 389666. The mTransformedTextOffset field of MappedFlow wasn't always being set up correctly, so let's just stop using it altogether. r=smontagu,a=vlad 
Fix the positioning of diacritics in right-to-left languages and clean up a bunch of typos in bidi reftests. Bug 386573, r+sr=roc, a=vlad 
Mark test as failing on Mac again 
Change bidi-006.html to use U+05E0 HEBREW LETTER NUN instead of U+05D6 HEBREW LETTER ZAYIN because Lucida Grande is quirky 
bug 399369. disable font fallback when a character is in the PUA. r=smontagu 
Bug 400826 - We shouldn't build the styles array for transformed textruns assuming every frame in a flow has the same style; instead we should build it frame by frame. [p=roc r=smontagu a=blocking1.9+] 
Bug 336408 - Allow the caret to be positioned at the end of trimmed whitespace, as if the whitespace wasn't trimmed [p=roc r=smontagu sr=mrbkap a=blocking1.9+] 
Bug 385417 - Rework textrun glyph representation so we can handle clusters containing glyphs in different fonts [p=roc r=stuart r=smontagu a=blocking1.9+] 
Bug 391584 - Pass around a context string so we can detect word breaks at the beginning or end of frames [p=roc r=smontagu a=blocking1.9+] 
Regression tests for runs of characters with different implicit directionality but the same resolved direction 
Correct unexpected pass 
Bug 385417 - Rework textrun glyph representation so we can handle clusters containing glyphs in different fonts [p=roc r=stuart r=smontagu a=blocking1.9+] 
Bug 397510 - Limit the number of lines we build textruns in BuildTextRuns (speeds up painting of huge pages) [p=roc r=smontagu a=blocking1.9+] 
Bug 400369 - "List markers (bullets) positioned incorrectly for left- and center-aligned list items in RTL lists" [p=uriber@gmail.com (Uri Bernstein) r=smontagu sr+a1.9=roc] 
Do AdjustOffsetsForBidi after RemoveBidiContinuation so that we have up-to-date information about which continuations are fluid and which are non-fluid. Bug 397961, r=uriber, sr+blocking1.9=roc 
Testcase for bug 399951 
Go back to adding bidi overrides to text-runs. Prevents assertions and a regression in shaping LTR Arabic. Bug 402427, r+sr=roc, blocking1.9=pavlov 
Clear first-letter state when leaving the first-letter frame inserted by the frame constructor. Bug 402380, r+sr+blocking1.9=roc 
Preserve history on charset reload. Bug 134911, r+sr=bz, a=roc 
Define langgroups for all charset decoders 
Testcase for bug 134911 
Mark failing and unexpectedly passing tests as random 
Typo fix 
Bug 389707. Rework text-transform:capitalize by putting logic to decide what to capitalize into nsLineBreaker. r=smontagu 
Bug 401796 - "nsIStringCharsetDetector.h should not include nsString.h" [p=Mook r=smontagu a1.9=damons] 
Bug 403786 Remove unnecessary nsISupportsArray includes from intl code. r/moa=smontagu,a1.9=dsicore 
Bug 403455. Allow prewrap text to record 'last break opportunity'. r=smontagu 
Bug 394752. Skip over preformatted newlines when moving caret; the caret will appear at the end of a line when it is positioned at the start of the next line with a HINTLEFT. r=smontagu 
Testcase for bug 402380 
Use Unicode escapes instead of octal escapes to print non-ASCII text in frame tree dumps. Bug 403871, r+sr=roc, a=dsicore 
Use Unicode escapes instead of octal escapes to print non-ASCII text in frame tree dumps. Bug 403871, r+sr=roc, a=dsicore 
Prevent duplicate entries in the line-break array. Bug 404204, b+r+sr=roc 
Display reftest images on unexpected passes. Bug 403012, r=dbaron, a=schrep 
test for bug 288789. r=smontagu 
Fix typo in the checkin from bug 403012 
Bug 404624. Silence assertion failures by allowing PropertyProvider's content length to be PR_INT32_MAX. r=smontagu 
Bug 403426. Clear break-after-whitespace flags when we reset the linebreaker. Also rescue a trailing break opportunity when we reset the line breaker and notify the line layout that the opportunity exists. r=smontagu 
Bug 403426. We should clear whitespace status when we reset the linebreaker. If a final break opportunity exists we should save it and forward it to the line layout. Relanding with a fix so hopefully we won't crash Tp this time. r=smontagu 
Bug 392809. Break between whitespace and following punctuation even when stop_at_punctuation is false. Don't stop between punctuation and following non-punctuatino if the preceding punctuation follows white-space. r=smontagu 
Only try to process first-letter frames when they exist. Bug 404209, r+sr+b=roc 
More first-letter reftests 
Try to work around Mac test failure 
Mark failing test as random 
Regression test for bug 335816 
Bug 407207: add unit tests in intl/uconv to makefiles 
Bug 407078. Don't allow a trailing break in a text run that is followed by a <br>. r=smontagu 
Bug 407348, intl/uconv/tests build failure on Linux x86_64 r=smontagu, a=dsicore 
Make sure that the offsets in a textframe are up-to-date before creating a bidi continuation. Bug 406675, r=uriber, sr=roc, blocking1.9=schrep 
bug 407161 fix garbled-Japanese Tbird subject lines (regression). patch by VYV03354@nifty.ne.jp, r=smontagu, sr=dveditz, a=beltzner 
Collect frames from all block continuations in the buffer for bidi resolution. Bug 408292. r+sr=roc, a=schrep 
testcases for bug 408292 
Reftests for ZWNJ 
Mark test failing on tinderbox as random 
Bug 297759 - ""No chrome package registered for chrome://..." in Error Console" [p=reed r=smontagu a1.9=beltzner] 
Bug 410332 nsITextTransform.h should use nsStringGlue.h instead of nsString.h. r/moa=smontagu,approval1.9=beltzner 
Fix bullet positioning for justified RTL list items. bug=410503 r=smontagu sr=roc a1.9=dsicore 
Remove unnecessary include of nsCOMPtr.h. Bug 400918, r+sr=roc, a=dsicore 
Make CreateUnique use UTF-16 path names on Windows and correct some bugs with handling over-long filenames. Bug 364285, r=bsmedberg, blocking-firefox3=beltzner 
Bug 410228. Fix crash when an uppercased szlig has a font-change in the middle of it, r=smontagu 
Percentage margins thrown on the floor during bidi reordering. Bug 413542, r+sr=dbaron, blocking1.9=schrep 
Bug 413670 - Add plural rules for Irish ga-IE, Arabic, Maltese, Macedonian. r=l10n@mozilla.com (Pike), r=smontagu, a1.9=beltzner 
Bug 411792. Never put a line break before a preformatted newline. r=smontagu 
Remove unused OrderIdFormater (sic) code.  r=smontagu  b=414142  Not part of the build. 
Bug 414141 - Help debug bad plural strings to PluralForm.jsm by printing the caller. r=l10n@mozilla.com, r=smontagu, a1.9=schrep 
Bug 411870. Make bidi resolution track lines across block continuation boundaries. r=smontagu 
Bug 411870. Bidi resolution needs to scan through block continuations when tracking the current line for frames. r=smontagu 
Bug 413613: remove MOZ_EXTRA_X11CONVERTERS and the code it enables, r=smontagu, a=beltzner 
Bug 404386 - nsScanner construction is 5% of setting innerHTML. r=mrbkap,smontagu. sr=jst. a=blocking1.9. 
Bug 411870. nsBidiPresUtils needs to track the current line across block continuation boundaries. r=smontagu 
When creating a bidi continuation for a frame with fluid continuations, set the length of all the frames in the continuation chain to zero except the last one. Bug 409375, r+sr+blocking1.9=roc 
Bug 374040 - "nsIScriptableDateFormat does not work as expected with dateFormatLong" [p=arenevier@fdn.fr (arno.) r=smontagu a1.9=schrep] 
Tests for bug 409513 and bug 410967 
Remove lame test for bug 387653 
Bug 374040 - "nsIScriptableDateFormat does not work as expected with dateFormatLong" (move test to unix sub-directory to fix bustage) [p=arenevier@fdn.fr (arno.) r=smontagu] 
Pass per-item offsets to ScriptBreak. Bug 416721, r=masayuki, sr=shaver, a=mconnor 
Testcase for bug 416721 
Bug 361986. Exclude complex script codepoints for fonts that lack AAT morphing data. r=vlad,smontagu, sr=pavlov 
Bug 415962 - Map [sv-se] to Swedish/Sweden. Patch by Hasse <hasse@jasajudeju.se>. r=smontagu, a=mtschrep. 
Make Hebrew list numbering be ordered correctly. Bug 413928, r+sr=roc, blocking1.9=shrep 
Bug 418012 - Friulian (fur) missing from (accept) language options, r=smontagu, a=schrep 
Bug 416446 - Make PluralForm more useful for extensions and delay importing strings for perf. r=sdwilsh, r=smontagu, a1.9=damons 
Bug 392809. Fix word-based caret movement around punctuation and whitespace. r=smontagu,a=beltzner 
Enable bidi processing if there are right-to-left characters in print headers or footers. Bug 421690, r+sr=roc, blocking1.9=damon 
Reject properties files with encoding errors. Bug 397093, r+sr=bsmedberg, a1.9=damons 
Testcase for bug 128896. 
Bug 422394. Fix tab width calculation so we never fail to advance. r=smontagu 
Bug 342133 - "xmlhttprequest.send doesn't work in nativeuconv builds" [p=mh+mozilla@glandium.org (Mike Hommey) r=smontagu a1.9=beltzner] 
In bidi resolution, convert inline bidi continuations not at the end of a bidi run into fluid continuations. bug=423130 r=smontagu sr=dbaron a19b5=dsicore 
Bug 423676 - "weirdness with layout and selection of mixed-direction text" [p=uriber@gmail.com (Uri Bernstein) r=smontagu sr=roc a1.9b5=schrep] 
Remove unnecessary and obsolete code. Bug 424916, r+sr=dbaron, a=damons 
Only join ancestor inline frames for frames that are last children. bug=424631, r=smontagu, sr=dbaron, blocking1.9=vladimir 
Define codepoints below 0x20 as illegal characters in filenames. Bug393488, r=bsmedberg, b=beltzner 
Bug 378105. Update default fonts for Indic scripts. r=pavlov, ui-review+approval1.9=beltzner 
Correct the coordinates for selection decoration in right-to-left text. Bug 421042, r+sr=roc, a=beltzner 
Fallback to null-padding in nsMimeHeaderParam::GetParameter if all other conversions fail. Bug 419157, r+sr=biesi, b=beltzner 
Use universal charset detector with filters instead of the old language-specific parallel state machines. Bug 426271, r+sr=dbaron, b=vladimir 
Bug 426957 - Add default Mac fonts for Telugu and Kannada. r=smontagu, sr=roc, a1.9=beltzner 
Pass domain names to stringprep label by label. Bug 427959, r+sr=biesi, a1.9+b1.9=beltzner 
Bug 348724: nsBidiKeyboard for GTK2 backend, patch by Behnam ZWNJ Esfahbod <bugs+behnam@zwnj.org>, r=smontagu, sr=roc, a=beltzner 
Assert that the nsContinuingTextFrame is not a first continuation. Bug 414760, r+sr=roc 
Mochitests for charset autodetection 
bug 431453 - Make browser-chrome mochitests pass on SeaMonkey: make some platform tests Firefox-only or non-SeaMonkey (as applicable), r=smontagu for docshell, r=dwitte for cookie, r=gavin for dlmgr, a1.9=damons for platform tests; make SeaMonkey sanitizer tests pass, sr=Neil 
[Bug 350693] "Character Encoding" in "View Source" window doesn't work p=Simon Montagu <smontagu@smontagu.org>, r=neil, sr=mscott, approval1.9=mtschrep 
Make the UTF-16 decoder return an error if the input length is less than 2 bytes. Bug 396637, r=jshin 
Use ASCII-compatible fallback if an encoder has no values defined for code points below U+0020. Bug 399257, r=jshin 
update 
Reftest for bug 229764 
imported patch 435856 
Bug 435856: Bidi processing disabled after printing. r+sr=roc 
Remove unnecessary argument from SetBidiEnabled. Bug 435856, r+sr=roc 
Set glyph info for low surrogates in Pango. Bug 439910, r+sr=roc 
reftest for bug 439910 
Unit test for bug 9357 (Autodetection of EUC-KR) 
Reftest for bug 109735 
Make :first-letter include following punctuation but not first letters that are neither letters nor digits. Bug 399941, r+sr=roc 
Bug 441876: remove UTF-7 option from browser Character Encoding menus, r=smontagu, sr=bzbarsky 
Bug 443672 - Fix a few nits in nsStringBundle.cpp, r=smontagu 
Bug 441167 – nsIScriptableDateFormat defaults to OS locale but should be application locale. r=smontagu 
Bug 22310 - "Locale conversion to support 3 letter language" [r=smontagu] 
Position soft hyphens correctly in right-to-left text. Bug 444656, r+sr=roc 
Fix for reftest for bug 444656 
Mark the reftest random (apparently the same failure as the other soft-hyphens tests) 
Fix generation of precompiled cmaps on 64-bit platforms to match what the code expects.  (Bug 445626)  r=smontagu 
Canvas routines draw right-to-left text backwards - bug 402276 r=smontagu sr=roc 
Remove unused ccmap files. Bug 445877, r+sr=dbaron 
Support for word-wrap CSS property. Bug 99457, r+sr=dbaron, roc 
Bug 431341. Let textrun construction descend into first-letter frames so that the correct capitalization state is constructed in nsLineBreaker. r=smontagu 
Mark failing tests as random 
p=smontagu r/sr=roc 
Bug 431341. Include floating first-letter text when we build textruns for a paragraph, because we want nsLineBreaker to see the text for capitalization analysis. Make sure that textrun construction for floating first-letter text uses the block as its scope. And make sure we reconstruct textruns after determining the first-letter length, so that ligatures are broken as necessary. r=smontagu 
Bug 284265. Set better default Thai fonts. r=Arthit Suriyawongkul <arthit@gmail.com>, sr=roc 
Bug 447853. Remove obsolete intl/ctl module. r=ted, sr=roc 
Bug 449555. Disable word-wrap for single-line widgets, r+sr=roc 
Bug 449577. Remove GetHints(), r+sr=roc 
Bug 422789: reduce narrow windows API calls in uconv/, original patch by Brad Lassey <blassey@mozilla.com>, r=smontagu 
Reenable test for bug 444656 
Reenable tests fixed by bug 449324 
Prevent crash with long string of Indic characters. Bug 445711, r=pavlov 
Bug 411059. Take preformatted tabs into account when computing the min and pref widths for text. r=smontagu 
Bug 449519. Make text-shadow code compute the right areas for RTL. r=smontagu 
Bug 450670. Avoid conflicts in textframe state bits, urk. r=smontagu 
Bug 449578 - "Wrong interpretation of escape sequence in charset iso-2022-kr" [r=emk] 
Bug 451603 - Wrong region code for Moldavia in languages.properties. r=smontagu. 
Test cases for bug 116882 
Bug 455749 - Update regionNames.properties. r=smontagu. 
Remove <CR>s (to fix cross-compilation bustage) rs=bsmedberg,gavin,roc,smontagu b=372802 
Check for previous-continuations intead of previous-in-flows. Bug 448610, r+sr=roc 
Bug 458089: Kill VISUALSELECTION code. r=smontagu, sr=roc. 
Bug 457886 - Cannot send ISO-2022-JP email on Tb trunk; r=smontagu sr=bienvenu 
Bug 361822 - Native font names are no longer required in font.name-list.* for CJK fonts; r=smontagu sr=roc 
Bug 455738 - Add support for new Vista locales; r=smontagu 
Bug 453468: fix regression in wrap attribute in textareas from bug 99457. r+sr=dbaron 
Bug 455738 - Add support for new Vista locales; Define LOCALE_NAME_MAX_LENGTH; r=smontagu 
Add a space to make the width the same as in the test. b=460399 r=smontagu 
Bug 228102 - </intl/strres/tests/strres-test.xul>: "This file needs a rewrite"; (Bv1) <intl.pkg>; r=smontagu 
Don't require a minimum data threshold for encodings that correspond to the selected language. Bug 431054, r=Masatoshi Kimura (:emk) <VYV03354@nifty.ne.jp> 
Turning off symbol ligatures can turn off required ligatures also in some fonts. Bug 462387, r+sr=roc 
Detect clusters in Indic scripts where an initial RA is reordered after the following consonant and vowel. Bug 428317, r=roc 
Make layout/reftests/text/444656.html not depend on the size ratio between Hebrew and Western fonts.  (Bug 466484)  r=smontagu  a=tests 
Make zwnj-02.html reftest more tolerant of font anti-aliasing.  (Bug 465140)  r=smontagu  a=tests 
Bug 444375. Take TEXT_HAS_TRAILING_BREAK into account when computing min-width for text which has entirely collapsed away. r=smontagu 
Bug 430332. Lazily rebuild transformed-textruns, deferring rebuild until after the linebreaker has finished analysis. r=smontagu 
Bug 455826. Look into overflow-lists of inlines to find text when we're building textruns. r=smontagu 
Bug 455826. Look into overflow-lists of inlines to find text when we're building textruns. r=smontagu 
Bug 455826. Don't reconstruct textruns just because we deleted an empty nsContinuingTextFrame. r=smontagu 
Delete all text frame continuations when deleting first letter frame. Bug 466763, r+sr=roc 
Reftests for bug 418574 
Update Unicode data files to Unicode version 5.1. Bug 427350, r=jdaggett 
Bug 424068: Disable Unicode collation on Mac more intelligently. r=jdaggett 
Bug 335531 - Correct misuse of "UTF-16BE", "UTF-16LE", "UTF-32BE", and "UTF-32LE" charset labels; r=smontagu sr=dbaron 
Exclude Arabic numeric formatting characters from IS_ARABIC_ALPHABETIC. Bug 438571, r=Ehsan Akhgari <ehsan.akhgari@gmail.com> 
Bug 335531 - Correct misuse of UTF-16BE, UTF-16LE, UTF-32BE, and UTF-32LE charset labels; r=smontagu sr=dbaron 
Bug 468413. Make test_bug335816.html reliable by using onload instead of setTimeout. r=smontagu 
Bug 430332. Defer nsTransformingTextRun::RebuildTextRun until the linebreaker has completely set up the break and capitalization data on the transformed text run. r=smontagu 
Make display of the directional hook on the caret dependent on the bidi.browser.ui pref. Bug 418513, r=uriber, sr=roc (for core) r=mano, gavin.sharp (for browser) 
Bug 467150. Don't clear textruns just because we destroy an empty nsContinuingTextFrame. r=smontagu 
Bug 467487. Use a better and more explicit check for the case where a text frame's textrun doesn't map enough text for the frame. r=smontagu 
Bug 430332. Defer nsTransformingTextRun::RebuildTextRun until the linebreaker has completely set up the break and capitalization data on the transformed text run. r=smontagu 
Fix typo in the checkin for bug 418513 (changeset 68e3d56ef84c).r=gavin 
Bug 467347 - Fix Plural Rule #12, Arabic, to have 6 forms. r=Pike, r=smontagu 
Bug 470209 - intl.charsetmenu.browser.unicode should not be included in localizable file; r=smontagu sr=dbaron 
Fix compiler warnings in nsCaret.cpp. Bug 470574, r+sr=dbaron 
Bug 440149. Don't break after empty text at the start of the line, even if we're past the available width. r=smontagu 
Bug 430332. Defer nsTransformingTextRun::RebuildTextRun until the linebreaker has completely set up the break and capitalization data on the transformed text run. r=smontagu 
Update the GEOSTD8 to Unicode decoder. Bug 472746, r=Masatoshi Kimura <VYV03354@nifty.ne.jp> 
Bug 436925 - THREADSAFE nsCharsetConverterManager uses NS_CHARSETALIAS_CONTRACTID (nothreadsafe) from a random thread - triggered by Expired cert and nsDateTimeFormat, r=smontagu, sr=jst 
Bug 472909. Need to call FinishSettingProperties on nsTranformedTextRuns that we create as parts of other transformed textruns. r=smontagu 
Back out changeset d9c4a4d5a4e4 (bug 441167) 
Bug 67374: replace obsolete Japanese encoding table generators with current one from bug 54135. NPOTB 
Tests for Unicode security issues -- bug 445886 
Some more testcases for character set encoding/decoding 
Remove obsolete files in intl/uconv. Bug 475538, r=Masatoshi Kimura <VYV03354@nifty.ne.jp> 
Bug 478157 - verKorea should be KR, not KP; r=smontagu
Bug 174351: Encoding errors aren't treated as fatal XML errors. r=smontagu, sr=peterv 
Remove comment based on old version of CSS3 Lists spec. Comment-only change from bug 390440, rs=bz 
Treat unpaired surrogate characters in UTF-16 as illegal characters. Bug 312716. Patch by me and Peter Annema <jag@tty.nl>, r=me, jag, jshin; sr=dveditz 
Bug 472776. Don't accidentally clear TEXT_IN_TEXTRUN_USER_DATA after we just set it. r=smontagu 
Make data tables in extensions/universalchardet const. Bug 482227, r=smontagu 
Use onload instead of setTimeout to reduce random test failures. Bug 482455, r=bz 
Fix some issues found with valgrind. Bug 479759 and bug 481692. r=Masatoshi Kimura <VYV03354@nifty.ne.jp> 
Bug 22310 - Locale conversion to support 3 letter language; Mac OS locale parser; r=smontagu 
Use CFDateFormatter instead of deprecated Carbon functions. Some additional work by smontagu, r=smontagu, jdaggett 
Backout previous commit 
Use CFDateFormatter instead of deprecated Carbon functions. Bug 360018, Some additional work by smontagu, r=smontagu, jdaggett 
xpcshell tests for bug 22310, based on a test by Jesper Kristensen <bugzilla@jesperkristensen.dk> 
reftests for bug 299065 and some of its dependencies and mochitests for bidi editing issues found when debugging bug 332655 
Bug 484310 nsCharsetMenu::GetURI uses wrong strdup r=smontagu sr=jag 
Bug 483769 - dateFormatYearMonth should generate 4 digits year; r=smontagu 
Bug 404149 - Underline width doesn't correspond to character width in Arabic/Persian script; r=roc,smontagu sr=roc 
Test ta-IN instead of gu-IN, to avoid failure on W2K. Bug 484664 
Display URLs containing unassigned Unicode code points in punycode. Bug 479413, r=jduell, sr=jst 
Update default scripts for languages and the list of preferred languages based on data from the IANA registry. Bug 437276, r=Masatoshi Kimura 
Bug 474862 - Create plural rule for Icelandic. r=gandalf, r=smontagu 
Remove duplicate property added in bug 437276, rs=Neil 
Bug 474636 - IDL interfaces in intl should include some documentation; r=smontagu 
bug 485511, Firefox crashes in nsExtensibleStringBundle::FormatStringFromName, p=rcampbell, r=smontagu, sr=shaver 
Bug 485728 - TUnit test_intl_locale tests get executed twice now; (Av1) Fix MODULE name; r=smontagu 
Bug 332655 -  Don't join up text frames with the same content in Bidi resolution. r=uriber, sr=roc 
bug 489135: fix old PRMonitor leak, init debug var in mozilla::Monitor. r=smontagu 
Bug 117440 - remove usages of DEBUG_PRINTF in favor of NS_ASSERTION/NS_WARNING; (Dv1) <nsCompressedCharMap.cpp> remove commented out FONT_SCAN_PRINTF(); r=smontagu 
Enable bidi when a frame has right-to-left direction during style post-processing instead of frame construction to catch dynamic changes to direction. Bug 489517, r+sr=dbaron 
Set baseLevel and paraLevel properties on empty frames. Bug 489887, r+sr=roc 
Testcases for bug 332655 
Clear previous continuation's text run when destroying a continuation text frame. Bug 490747, r+sr=roc 
Fix crash in unicode collation on Mac OS X, enable it, remove old collation impl. b=488320 r=smontagu sr=roc 
r=smontagu sr=neil 
Do bidi reordering for visual RTL frames in the same way as other bidi frames. Bug 492231, r+sr=roc 
Remove deprecated language code mo (Moldovian). Bug 399667, r=Masatoshi Kimura <VYV03354@nifty.ne.jp> 
Fix warnings caused by the patch for bug 492231. r+sr=roc 
Bug 485592 Fix nsTextToSubURI::UnEscapeAndConvert allocator mismatches r=smontagu sr=jag 
Bug 482558. Remove obsolete test. r=smontagu 
Bug 491193 - fix intl warnings. r=smontagu 
Empty inlines can get misplaced during incremental reflow in bidi pages. Bug 496006, r+sr=roc (regression from bug 332655) 
Check for newline at the beginning of the loop. Bug 494098, r=VYV03354@nifty.ne.jp 
Bug 494099, HZ-GB-2312 converter reads beyond input buffer and omits characters at block boundaries. r=VYV03354@nifty.ne.jp 
Unit test for ISO-2022-KR decoding 
Bug 488426 - enable TIS-620 detector; r=smontagu 
r=smontagu 
Make fluid continuations between adjacent text frames with the same directionality. Bug 499538, r+sr=roc 
Bug 371839. Treat \n as space that the line-breaker will use as a word boundary. The main effect is that we don't have to scan backwards past \n when looking for a place to start linebreaking. r=smontagu 
Check alt text for right-to-left characters and enable bidi processing if they are found. Bug 503269, r+sr=roc 
Replace timeouts by event listeners in test cases for bug 92473 and bug 134911 
Bug 468351 - "display of header values with unencoded special characters broken" - core fix [r=smontagu sr=bienvenu] 
Bug 444021 - Remove useless |#include "nsILocale[Service|].h"|; (Av1) Just remove them; r=smontagu 
Ensure that block elements with display changed to inline are formatted as bidi embeddings. Bug 503957, r=dbaron 
Make all charset aliases lower-case, and add unit test for MacRoman. Bug 512060, r=Masatoshi Kimura <VYV03354@nifty.ne.jp> 
Bug 342754 - pavlov defined NS_CHARSETALIAS_CID a second time, r=smontagu 
Bug 503399. Never count trimmed trailing whitespace as whitespace that should received justification spacing; in this case we were using doing that when computing caret position. r=smontagu 
Bug 503657. Treat a newline character as a valid boundary for line breaking analysis. r=smontagu 
Bug 512896 - Remove the obsolete makefile.win that doesn't build GenCyrillicClass.cpp, r=smontagu 
Share code in encoding conversion tests 
Tests for Unicode case transformations 
Ensure that continuation frames after the end of a directional run are non-fluid. Bug 490559, r+sr=roc 
Don't propagate the FRAMES_ARE_EMPTY flag when continuations cross block frame boundaries. Bug 495875, r+sr=roc 
r=(benjamin, cbiesinger, smontagu, ted.mielczarek) 
Bug 519631 nsBidiKeybaord.mm is still using KL APIs r=smontagu+josh 
Tests for bug 514156 
Bug 522931 - textToSubURI.UnEscapeAndConvert(UTF-8, null) causes crash in NS_strdup [@strlen | NS_strdup(char const*) ]. r=smontagu 
Bug 491547. Special case creating a bidi continuation inside a floating first letter frame. r=roc,smontagu 
Bug 521191 - xpcshell-tests: some unit tests fail with the '-S' option ('strict' & 'werror' on). r=smontagu,dtownsend,mano 
Drill down through placeholder frames to the real frames in bidi reordering. Bug 525740, r=roc 
Bug 527347 - nsIScriptableUnicodeConverter::convertToByteArray aLen out param should be optional. r=smontagu 
Bug 529365, patch 2: Add braces (and adjust indentation) to fix build warning in nsBufferDecoderSupport::Convert. r=smontagu 
Remove the concept of stateless unicode decoders since they now all have state.  (Bug 530328)  r=smontagu 
Add Songhay to supported languages. Bug 532496, r=Masatoshi Kimura <YV03354@nifty.ne.jp> 
Remove intl/uconv/ucvmath. Bug 483116, r=Masatoshi Kimura <YV03354@nifty.ne.jp> 
Fix mixed directional tests from bug 396392. Bug 525788, r=roc 
Update data files and tests to Unicode 5.2. Bug 528359, r=Masatoshi Kimura <YV03354@nifty.ne.jp> 
Bug 224547: Change the organization of the window title bar for RTL XUL windows. Part 1, refactoring, r=enndeakin 
Bug 224547: Change the organization of the window title bar for RTL XUL windows. Part 2, set the right-to-left flags on right-to-left windows, r=enndeakin 
Backout changeset 4ed95e61ee01 because of test failures 
Replace locale no-NO by nb-NO. Bug 533814, r=pike 
Fix failing test from bug 525788. r=roc 
Round coordinates to 1/256 pixel to fix DOM Range tests from bug 396392 that were failing on Mac. Bug 525788, r=roc 
Call AdjustOffsetsForBidi on a new continuation frame immediately after creating it. Bug 536963, r=roc 
Fix mixed directional DOM Range tests from bug 396392. Bug 525788, r=roc 
Add DOM Range test with non-contiguous selection rectangles in mixed directional text. Bug 525788 
Unescape URIs in page headers. Bug 537216, r=roc 
Bug 532998. Cache the offset of the next newline character in preformatted text. r=smontagu 
Reftests for bug 541189 
Allow justification space to be added after non-breaking-spaces. Bug 541189, r=roc 
Bug 542823: Fix display of cp932 encoded messages r=smontagu 
r=smontagu 
Bug 542660. Move universalchardet tests that use XPConnect to mochi-chrome. r=smontagu 
Update intl/uconv/directory.txt. Follow-up to bug 483116, NPOTB 
Tests for bug 267459 
Set a minimum threshold even for the detector's preferred language. Bug 547487, r=emk 
Tests for bug 534854 
Use Unicode paths instead of native paths for profile directory on platforms where native paths are not UTF-8. Bug 534854, r=ted 
Bug 422868 part 1: Fix UTF8 <-> UTF16 conversion code to deal with all encoding errors consistently. r=smontagu 
Bug 541245 part 2: Make UTF8<->UTF16 comparison code consistent in the face of badly encoded strings. r=smontagu 
Bug 541245 part 3: Add UTF8/UTF16 encoding/decoding/comparison tests. r=smontagu 
Bug 541245 part 4: Be consistent about prohibited characters such as 0xFFFE in UTF8<->UTF16 conversion code. r=smontagu 
Bug 546530. Bound search for previous cluster start. r=smontagu 
Bug 545059: Remove unneeded/non-working bidi.controlstextmode pref. r=smontagu 
Add Tibetan to font selection UI. Bug 441110, r=emk 
Bug 499862. Need to flush out linebreaker stuff even if there are no mapped flows. r=smontagu 
Bug 544512 - Misaligned accesses in uconv causes Bus Error on sparc and word wrapping on arm. r=smontagu 
Bug 548073 - Tabs in extensions/universalchardet/tests/CharsetDetectionTests.js. r=smontagu 
bug 550163 - part 2 - resolve Win7 failure in bidi-004 reftest. r=smontagu 
Remove extension/universalchardet/doc/. Bug 471480, r=smontagu 
Bug 534768. Also special case creation of continuations inside of floating first letter frames while reflowing them. r=roc,smontagu 
Bug 411511: Make nsIProcess accept Unicode paths as well as native charset, r=bsmedberg 
Add failing reftests from bug 329069 to manifest. r=dbaron 
Bug 551632. endsInDiacritic frame property is set but never used. r=smontagu 
Bug 557380: Add missing arg to printf in TestUnicodeArguments.cpp, to fix build warning. r=smontagu 
Make the scroll bar and resizer always be on the left of right-to-left widgets. Bug 556363, r=Enn 
Reftests for bug 556363 
Mark test random on GTK 
Bug 206802 - U+3005 is missing from the kinsoku list. r=smontagu 
Bug 554029 - Use Bitstream Vera as an alternative font in font-face/local-1 reftest [r=smontagu] 
Bug 554036 - Mark bugs/424074-1-ref2.xul reftest as randomly failing with Gtk: its result depends on the Gtk theme used [r=smontagu] 
Bug 558975 - Mark reftests/bidi/bidi-004.html, reftests/bidi/bidi-004-j.html and reftests/bidi/mirroring-02.html as random on Linux, since they pass on the new refplatform, r=smontagu, a=1 
Test for bug 558403 

Test for bug 558403 Force logical ordering in XUL elements on visual bidi pages. Bug 558403, r=roc 

Force logical ordering in XUL elements on visual bidi pages. Bug 558403, r=roc Reftest for visual and logical marquee, a=1hr 
Mark reftest as failing, a=bustage 
Fix typo, a=bustage 
backout crashing test, a=bustage 
Test for bug 558403 

Test for bug 558403 Bug 560095 - Use mozilla::services::GetObserverService(). r=biesi,dveditz,gavin,josh,jst,mrbkap,roc,sdwilsh,shaver,sicking,smontagu,surkov 
Bug 552235 - Fixing warning in universalchardet array subscript has type 'char', r=smontagu 
Fix failing reftests for resizable textareas. Bug 562963 
Don't split frames in bidi resolution that have the same resolved directionality but different character types. Bug 399850, r=ehsan, roc 
Tests for bug 564679 
Fix an off-by-one error with undefined codepoints. Bug 564679, r=Masatoshi Kimura <VYV03354@nifty.ne.jp> 
Tests for bug 563618 
Fix some errors with handling invalid sequences in the EUC-JP decoder. Bug 563618, r=Masatoshi Kimura <VYV03354@nifty.ne.jp> 
Bug 206802 - U+3005 is missing from the kinsoku list. r=smontagu 
Back out change from bug 399850 that causes an assertion to fire 
Bug 564950 - Make more use of mozilla::services, r=surkov, jst, neil, smontagu, roc, joshmoz, gavin, shaver 
Bug 563536, bug 204111 - Put data from uconv property files into code to avoid thread-unsafe property file loading. r=smontagu. 
Bug 562908. Add genignorable.pl script to regenerate ignorable.x-ccmap. r=smontagu 
bug 552460 - part 2 - Unicode data needed for Variation Sequence support. r=smontagu 
bug 449292 - part 3 - add unicode character properties needed for script itemization and harfbuzz shaper. r=jdaggett,smontagu sr=roc 
bug 449292 - part 4 - script run itemizer implementation (based on ICU code). r=jdaggett,smontagu sr=roc 
When bidi resolving makes a frame's continuations non-fluid, make sure that its parents also have non-fluid continuations. Bub 534367, r=roc 
Don't make bidi continuations out of empty text frames. Bug 572582, r=roc 
Do Hankaku to Zenkaku conversion in the ISO-2022-JP encoder. Bug 563283, r=Masatoshi Kimura <VYV03354@nifty.ne.jp> 
Test for bug 574958 
Don't drop keypress messages with character codes > U+FFFF. Bug 297943, r=karlt 
Remove dead code in intl. Bug 559489, r=smontagu 
Fix for windows bustage from bug 559489 
Bug 576556: Add GCC-suggested parens in uconv.c to fix build warning. r=smontagu 
Bug 575045: Remove the completely unused nsITextTransform. r=smontagu 
Bug 566859 - Plurals Formula for gd [r=Pike r=smontagu]
Make bidi marquee reftests aligned left. Bug 561637 
Bug 575175: Make the HTML5 parser deal with Unicode decoder signaling -1 consumed bytes. r=smontagu a=blocking 
Remove unused file. Bug 580580, r=Masatoshi Kimura <VYV03354@nifty.ne.jp>, a=bsmedberg 
Bug 575043: Remove internal uses of nsICaseConversion. r=smontagu sr=roc 
Check that frame offsets are within content. Bug 579655, r=roc, blocking2.0=dsicore 
Remove test for bug 558403.  (Bug 581734)  r=sayrer  a2.0=tests 

Remove test for bug 558403.  (Bug 581734)  r=sayrer  a2.0=tests Bug 582186 - Render Zero-Width-Non-Joiner correctly in the address bar. r=smontagu 
Bug 240933 - Part 11: Optimize setting the bidi flag for modifications to large DOM text nodes; r=smontagu a=dbaron 
Use member boolean instead of Window style to identify right-to-left windows. Bug 588735; r=jmathies a=blocking2.0:betaN+ 
Make Windows Common Dialogs children of a temporary window, which is styled as right-to-left when the parent window is right-to-left. Bug 588735, r=jmathies, blocking.betaN+=bsmedberg 
Tests for bug 588739 
Don't include floats in bidi resolution and reordering, unless they are first-letters. Bug 588739, r+a=roc 
Bug 240933 - Part 11: Optimize setting the bidi flag for modifications to large DOM text nodes; r=smontagu a=dbaron 
Use MapWindowPoints instead of manually converting from screen to client coordinates. Bug 593942, r=jimm, a=dbaron 
Fix missing parentheses in expression. Bug 594278, r=jimm, a=dbaron 
Bug 593046 - Do not read a pref in nsJapaneseToUnicode. r=smontagu, a=blocking2.0-final. 
Tests for bug 600974 
Don't split a surrogate pair over two output buffers. Bug 600974, r=emk, dbaron, a=blocking 
Tests for bug 600974 
Don't split a surrogate pair over two output buffers. Bug 600974, r=emk, a=blocking 
Tests for bug 579655, a=test 
Bug 145975 - Implement nsCaseInsensitiveUTF8StringComparator r=smontagu 
Block some Mac charsets. Bug 601429, r=emk, sr=dveditz, a=blocker 
test for bug 595435, a=test 
Cache line breaks that are not in the current frame due to bidi resolution. Bug 595435, r=roc, a=blocker 
Update Unicode data files to version 6.0. Bug 606917, r=emk, a=bsmedberg 
Backout changeset 8cbe83542596 due to test failures 
Backout changeset 1dad59de62c4 due to test failures 
Backout changeset 06ec9fa89d20 due to test failures, a=backout 
Backout changeset 97aca07b7f32 due to test failures, a=backout 
Block some Mac charsets. Bug 601429, r=emk, sr=dveditz, a=blocker 
Update Unicode data files to version 6.0. Bug 606917, r=emk, a=bsmedberg 
Cache line breaks that are not in the current frame due to bidi resolution. Bug 595435, r=roc, a=blocker 
test for bug 595435, a=test 
bug 606917 part 2 - update character property tables for harfbuzz to unicode 6.0. r=smontagu approval2.0=benjamin 
Test for bug 603423, a=test 
Don't propagate error getting a Unicode decoder to caller. Bug 603423, r=hsivonen, a=bsmedberg 
Make the 'More Encodings' submenus non-localizable. Bug 610638, r=emk, a=bsmedberg 
Test for bug 612843, a=test 
Update Unicode tables to Corrigendum #8. Bug 612843, r=emk, a=dbaron 
tests for bug 603710, first-letter in Indic a=test 
Remove obsolete Unicode to Jamo encoder. Bug 615706, r=emk, a=blocker 
Tests for bidi in SVG. a=test 
Basic bidi support for SVG. Bug 620446, r=roc, a=roc 
r=smontagu a=bsmedberg 
r=smontagu a=bsmedberg 
r=smontagu a=bsmedberg 
r=smontagu a=bsmedberg 
Add 'overflow: hidden' to reftests for bug 600974 to workaround reftest failures in the scroll bars on WinXP. Bug 623459, a=tests 
Bug 619223 - Arrow panel should use the direction of the anchor. r=enndeakin f=smontagu a=blocking-final 
Bug 587196 - Remove intl/unicharutil/note.txt. r=smontagu, a=npotb 
Test case for bug 447749; r=smontagu a=tests 
Tests for bug 508816, from dbaron and Enn 
Bug 508816 - layout patch 
Bug 508816: remove browser workarounds. a=blocker 
Mark failing reftest as random-if(cocoaWidget), a=bustage 
Disable OSX 32/64-bit restart mode in non-libxul builds. Bug 631564, r+a=Mossop 
Test case for bug 558011; r=smontagu a=test-only 
Set the position of the childRect in nsXULScrollFrame::LayoutScrollArea before calling Layout. Bug 632379, r=dbaron, a=blocker 
Test for bug 632379, r=ehsan, a=test 
Bug 634262 - Correct assertions in nsHtml5StreamParser::WriteStreamBytes. r=smontagu, a=beltzner. 
Set correct output params. Bug 634257, r=emk, a=bsmedberg 
Don't create or delete frames when nsTextFrame::SetLength is called from bidi resolution. Bug 635329, r+a=roc 
Don't return NS_ERROR_ILLEGAL_INPUT when given an empty source buffer.  (Bug 638236)  r=smontagu  a2.0=blocking 
Bug 627277 - Remove (broken) BeOS support. r=biesi,dwitte,gavin,joe,jorendorff,josh,khuey,mfinkle,neil,Pike,roc,shaver,smontagu,taras 
Debugging code for Bidi resolution. NPOTDB 
Bug 263359 part 1: refactor bidi resolution code, combining InitLogicalArray and CreateBlockBuffer. r=roc 
Bug 263359 part 1.5: remove nsDirectionalFrame. 
Bug 263359 part 2: split nsBidiPresUtils::Resolve into Resolve and ResolveParagraph. r=roc 
Tests for bug 229367 and bug 613157 
Bug 263359 part 3: resolve paragraph on encountering <br> or embedded block elements 
Tests for bug 263359 
Bug 263359 part 4: resolve paragraph on encountering line breaks in preformatted elements 
Bug 263359 part 5: optimization -- don't do bidi resolution if the text is monodirectional. r=roc 
Bug 623116 - Add constructor for nsASCIICaseInsensitiveStringComparator (which inherits from nsStringComparator) to placate CLang; r=smontagu 
Bug 622935 - Map 0x7F to U+007F rather than U+FFFD in mac and soviet encodings; r=smontagu 
Bug 600715 - Remove JIS X 0212 support from EUC-JP encoder. r=smontagu 
r=smontagu 
r=smontagu 
Make mRestorePos a logical position and convert to physical position when scrolling. Bug 638753, r=dbaron 
Bug 414064 part 1.  Mark UTF-7 as being vulnerable to XSS attacks.  r=VYV03354@nifty.ne.jp 
Bug 414064 part 2.  Add some tests. 
Remove UTF-32 encoder and decoder. Bug 604317, r=emk 
Change x-gbk to gbk in charset titles. Bug 369403, r=emk 
Bug 577945 - Map 0x7F..0x9F to U+007F..U+009F in ISO-8859 encodings; r=smontagu 
bug 643502 - add missing cases to GetFontPrefLangFor(). r=smontagu 
Use case-sensitive comparison when we know we are comparing canonical encoding names. Bug 564757, r=emk 
Bug 637599 - Move nsIPlatformCharset from intl/uconv to intl/locale. r=smontagu 
Remove native uconv. Bug 644801, r=smontagu 
Debugging code for Bidi resolution. NPOTDB 
Tests for bug 83958, originally by David Baron 
Bug 263359 part 1: refactor bidi resolution code, combining InitLogicalArray and CreateBlockBuffer. r=roc 
Bug 263359 part 1.5: remove nsDirectionalFrame. r=roc 
Bug 263359 part 2: split nsBidiPresUtils::Resolve into Resolve and ResolveParagraph. r=roc 
Tests for bug 229367 and bug 613157 
Bug 263359/Bug 229367: resolve paragraph on encountering <br> or embedded block elements. r=roc 
Tests for bug 263359 
Bug 263359 part 4: resolve paragraph on encountering line breaks in preformatted elements. r=roc 
Regression test for bug 644768. r=roc 
Tweak to the patch for bug 263359 to prevent regressing bug 644768, r=roc 
bug 623495 - revise prefs for dispatching scripts to shaping backends; enable harfbuzz for Hebrew on OS X. r=smontagu 
Bug 648248 - Update default Hebrew fonts on OS X to avoid fonts with buggy rendering; r=smontagu 
Make all nsBidiPresUtils methods static. Bug 624798, r=roc 
Bug 638408 - Remove unused nsUConvDll.*. r=smontagu 
Bug 651229: Remove unused variable from nsLineBox. r=smontagu 
Bug 366774 - Removed unused preference bidi.characterset.(p1) r=smontagu 
Bug 366774 - Removed unused preference bidi.characterset.(p2) r=smontagu 
Bug 366774 - Remove unused preference bidi.characterset. (p3) (v2) r=smontagu 
Bug 366774 - Remove unused preference bidi.characterset. (p5) (v2) r=smontagu 
Back out bug 263359 and bug 624798 because of performance regressions (bug 650189) 
Bug 651113 - Remove windows-936 converter. r=smontagu 
Bug 635170 - DeCOM nsIWin32Locale. r=smontagu 
bug 253317 - part 2 - import hyphenation code (from http://sourceforge.net/projects/hunspell/files/Hyphen/2.7/hyphen-2.7.1.tar.gz/download) r=smontagu 
bug 253317 - part 3 - import en-US hyphenation patterns (from http://sourceforge.net/projects/hunspell/files/Hyphen/2.7/hyphen-2.7.1.tar.gz/download) r=smontagu 
bug 253317 - part 4 - implement nsHyphenationManager and nsHyphenator classes. r=smontagu sr=roc 
Bug 564774 - nsMacCharset.cpp looks obsolete. r=smontagu 
Bug 366774 - Removed unused preference bidi.characterset. r=smontagu 
Bug 637555 - Remove nsIMacLocale. r=smontagu 
Use SetMenuItemInfo instead of EnableMenuItem for the system menu to prevent spurious repainting of the buttons in the title bar. Bug 651905, r=jmathies 
Bug 655475 - Remove WinCE code from I18N; r=smontagu 
Cache in-flow content length. Bug 566066, r=roc 
Bug 590389 - some methods into nsICharsetConverterManager should be noscript. r=smontagu 
Bug 654063 - nsIPlatformCharset for Android should return UTF-8 simply. r=smontagu 
Fix the range check for CP949 in uscan.c, Bug 658952. Correct a typo in the alias cseuckr, Bug 462687 r=emk 
Don't use cached inflow length for empty frames. Bug 660416, r=roc 
Bug 617539 - Integrate nsIMarkupDocumentViewer_MOZILLA_2_0_BRANCH back into the main interface; r=smontagu 
Bug 660584 - nsILanguageAtomService.LookupLanguage should use nsACString instead of nsAString. r=smontagu 
Don't adjust the horizontal position for text-indent on right-to-left lines. Bug 641444, r=dbaron 
Reftest for bug 641444. r=dbaron 
Bug 263359 part 1: refactor bidi resolution code, combining InitLogicalArray and CreateBlockBuffer. r=roc 
Bug 263359 part 1.5: remove nsDirectionalFrame. r=roc 
Bug 263359 part 2: split nsBidiPresUtils::Resolve into Resolve and ResolveParagraph. r=roc 
Bug 263359 part 2.5: cache lines per frame in TraverseFrames. r=roc 
Test for bug 650489 by Jesse Ruderman 
Tests for bug 229367 and bug 613157 
Bug 263359/Bug 229367: resolve paragraph on encountering <br> or embedded block elements. r=roc 
Tests for bug 263359 
Crash test for bug 645193 by Jesse Ruderman 
Bug 263359 part 4: resolve paragraph on encountering line breaks in preformatted elements. r=roc 
Don't overshoot the last sibling when iterating frames. Bug 66329, r=roc 
Tests for bug 582181, r=roc 
Include continuations of frames with no newline. Bug 582181, r=roc 
Force newlines only at 0xa, not 0xd. Bug 663662, r=roc 
Don't overshoot the last sibling when iterating frames. Bug 663295 (whitespace change with correct bug number) 
Bug 655655 - decom nsIPosixLocale. r=smontagu 
Don't overshoot the end of the sibling chain when copying text for bidi resolution. Bug 665837, r=roc 
Mochitest for bug 666225 
Check for null frame selection. Bug 666225, r=roc 
Unify intl/locale xpcshell tests in one directory. Bug 668515, r=ted 
Tests for bug 664087 and follow-up changes to the tests for bug 646382. r=ehsan 
Undefine caret bidi level during reflow instead of on text entry. Bug 664087, r=roc 
Bug xxx intl should use mozilla::Preferences r=smontagu 
Bug 668933 intl should use mozilla::Preferences r=smontagu 
Force Scratchpad textbox to be LTR in all locales. Bug 668960, r=mihai.sucan 
Return success code not failure code when GetDefaultCharsetForLocale returns a fallback charset. Bug 653750, r=emk 
Make sure that bidi continuation chains don't go beyond the end of the paragraph. Bug 668941, r=roc 
Tests for bug 670226. r=roc 
Don't resolve bidi paragraph in preformatted text until we really get to the end of the line. Bug 670226, r=roc 
Make all nsBidiPresUtils methods static. Bug 624798, r=roc 
bug 672472 - convert hyphenation-point offsets correctly from Unicode characters to UTF16 code units. r=smontagu 
bug 672320 pt 1 - include all available hyphenation patterns in the build. r=smontagu 
bug 672320 pt 2 - add hyphenation patterns for Swedish. fb=gerv rs=smontagu 
bug 672320 pt 3 - reftest for Swedish hyphenation patterns. r=smontagu 
bug 672320 pt 4 - add hyphenation patterns for af,bg,ca,cy,da,eo,es,et,gl,hr,hsb,ia,is,kmr,la,nl,pt,sl,uk locales. rs=smontagu 
bug 672320 pt 5 - more hyphenation locale reftests. r=smontagu 
bug 672320 - part 4a - add missing hyphenation alias entries. r=smontagu 
bug 672320 - part 6.1 - hyphenation patterns for German. rs=smontagu 
bug 672320 - part 6.2 - reftests for German hyphenation. r=smontagu 
bug 672320 - part 7.1 - hyphenation patterns for Mongolian. rs=smontagu 
bug 672320 - part 7.2 - reftest for Mongolian hyphenation. r=smontagu 
bug 672320 - part 8.1 - hyphenation patterns for Serbian/Serbo-Croatian. rs=smontagu 
bug 672320 - part 8.2 - reftest for Serbo-Croatian hyphenation. r=smontagu 
Bug 667512 - Do not return a bogus visual frame if we don't have any visual frames in reality; r=smontagu 
bug 672320 pt 9.1 - add hyphenation patterns for French. rs=smontagu 
bug 672320 pt 9.2 - reftest for French patterns. r=smontagu 
bug 672320 pt 11.1 - hyphenation patterns for Russian. rs=smontagu 
bug 672320 pt 11.2 - reftest for Russian patterns. r=smontagu 
bug 672320 pt 12.1 - hyphenation patterns for Norwegian Bokmål & Nynorsk. rs=smontagu 
bug 672320 pt 12.2 - reftests for Norwegian patterns. r=smontagu 
bug 672320 pt 13.1 - hyphenation patterns for Lithuanian. rs=smontagu 
bug 672320 pt 13.2 - reftest for Lithuanian patterns. r=smontagu 
bug 672320 pt 14.1 - hyphenation patterns for Finnish. rs=smontagu 
bug 672320 pt 14.2 - reftest for Finnish patterns. r=smontagu 
Bug 673680 - Add support for koi8_r charset encoding. r=smontagu 
Bug 601261 - nsXPCOMDetector::DoIt didn't call Reset resulting in crash [@ nsSJISProber::HandleData]. r=emk 
bug 681895 - update default Cyrillic font prefs for OS X. r=smontagu 
bug 672320 pt 15.1 - hyphenation patterns for Hungarian. r=smontagu 
bug 672320 pt 15.2 - hyphenation test for Hungarian. r=smontagu 
bug 672320 pt 16.1 - hyphenation patterns for Italian. r=smontagu 
bug 672320 pt 16.2 - hyphenation test for Italian. r=smontagu 
bug 672320 pt 17.1 - hyphenation patterns for Turkish. r=smontagu 
bug 672320 pt 17.2 - hyphenation test for Turkish. r=smontagu 
Bug 680255 - Add Urdu to the list of RTL languages; r=Pike,smontagu 
bug 689736 - enable harfbuzz on android for hebrew (to fix glyph mirroring) and thai scripts. r=smontagu 
bug 689736 - reftest for mirroring of parentheses within Hebrew text. r=smontagu 
bug 655337 - part 1 - use nsIURI rather than nsIFile to specify hyphenation resources. r=mfinkle,smontagu 
bug 655337 - part 2 - don't unpack hyphenation patterns on android, look for them in omnijar. r=mfinkle,bsmedberg,smontagu 
bug 655337 - part 2 - don't unpack hyphenation patterns on android, look for them in omnijar. r=mfinkle,bsmedberg,smontagu 
Resynchronize the Shift_JIS converter after unrecognized sequences. Bug 690225, r=emk 
Support for HTML5 bdi element in content. Bug 613149, r=peterv 
Support for unicode-bidi: -moz-isolate and -moz-plaintext in style system. Bug 613149, r=dbaron 
Implement unicode-bidi: -moz-isolate in layout. Bug 613149, r=roc 
Remove unnecessary method argument. Bug 613149, r=roc 
Implement unicode-bidi: -moz-plaintext in layout. Bug 662288, r=roc 
Backout cset 308f180eb3f4 
Resynchronize the Shift_JIS converter after unrecognized sequences. Bug 690225, r=emk 
Bug 698331 - get rid of *WithConversion (intl part). r=smontagu 
Bug 696672. Use a larger font size in bidi/613149-2* tests. r=smontagu
Zero the saved frame when creating a new line iterator for a new column. Bug 695861, r=roc 
Bug 699009 - Remove MOZ_USE_NATIVE_UCONV. r=smontagu 
Bug 699673 - nsTextToSubURI::UnEscapeNonAsciiURI shouldn't do fallback unescaping if the fallback charset is not an ASCII superset, or the URI gets messed up in the UI. r=smontagu 
Tests for bug 698706 
Test the containing frame for continuations, not the child. Bug 698706, r=roc 
Test for next-continuations before doing bidi resolution. Bug 704837, r=roc 
Tests for bug 704837, r=roc 
Use BrowserSetForcedCharacterSet instead of Firefox-specific SetForcedCharset. Bug 705943, r=dao 
Add selectors so that block elements with dir also get unicode-bidi: -moz-isolate in the default stylesheet. Bug 676245, r=dbaron 
Reftests for bug 676245, r=dbaron 
Don't assume that text is left-aligned when unicode-bidi=plaintext. Bug 698291, r=dbaron 
Tests for bug 698291, r=roc 
Ensure that Reset is always called before using the subparagraph. Bug 707098, r=roc 
Bug 709511 - Remove unused nsCharsetMenu::SetCharsetCheckmark; r=smontagu r=ehsan 
Bug 709511 - Remove unused nsCharsetMenu::kNC_Checked; r=smontagu a=ehsan 
bug 703861 - add hyphenation alias for de-AT-1901. r=smontagu a=khuey 
Bug 700490 - Remove nsICharsetResolver; r=smontagu 
Remove intl/chardet/tests. bug 710980, r=emk 
Bug 712876 - Replace ISO-8859-9 (latin5, etc.) decoder with windows-1254 decoder; r=smontagu 
Give the text in prompts unicode-bidi: isolate. Bug 652550, r=dolske 
Bug 623610 - Remove support for geostd8; r=smontagu 
Bug 655255 - Remove nsICharsetDetectionAdaptor from the tree. r=smontagu. 
Tests for bug 536557, r=dbaron 
Implement text-align-last. Bug 536557, r=dbaron 
Bug 713519 - getCharsetAlias should throw for unknown character sets. r=smontagu. 
Tests for bug 536557, r=dbaron 
Implement text-align-last. Bug 536557, r=dbaron 
Bug 714613 - Simplify nsShiftJISToUnicode::Convert; r=smontagu 
Make continuations non-fluid when the end of a bidi paragraph is forced by a preformatted newline. Bug 698335, r=roc 
Bug 718500 - View > Character Encoding > Auto-Detect menupopup is broken. r=smontagu 
Use moz_malloc and _free instead of nsMemory. Bug 705407, r=bsmedberg 
Fix typos in conditions. Bug 670556, r=emk 
Tests for bug 670556, r=emk 
Move nsIDocCharset out of intl/chardet into nsIDocShell, Bug 713825, r=bz 
Move nsIDocumentCharsetInfo out of intl/chardet into nsIDocShell, Bug 713825, r=bz, mbrubeck 
Remove unused forcedDetector property. Bug 713825, r=bz 
Rename BrowserSetForcedDetector and remove unnecessary parameter. Bug 720310, r=gavin 

Rename BrowserSetForcedDetector and remove unnecessary parameter. Bug 720310, r=gavin tests for bug 718236, r=roc 
Recreate content when a deleted frame is the only child of a bidi continuation frame. Bug 718236, r=roc 
Remove unused files from intl/chardet. Bug 713866, r=emk 
Bug 721535. (Av1) Stop packaging dead chardet.xpt. r=smontagu. 
test for bug 722137, r=roc 
Remove unnecessary test for next sibling. Bug 722137, r=roc 
Bug 722206 - Change layout/reftests/bidi/718236-x.html to work around sub-pixel failures on Windows 7 reftest-no-accel on Try. r=smontagu. 
Update data files to Unicode 6.1. Bug 723509, r=jfkthame 
Change SetForcedCharset to BrowserSetForcedCharacterSet. Bug 724776, r=gavin 
Improve the tests for end of output block. Bug 718573, r=emk 
Remove nsDebugDetector. Bug 683429, r=smontagu 
Remove nsObserverBase. Bug 726950, r=emk 
Reftests for bug 726392, r=dbaron 
Mark the last line in the block dirty when text-align-last resolves to something other than left. Bug 726392, r=dbaron 
bug 728866 - pt 1 - expose low-level APIs for canonical composition and decomposition of a single Unicode character. r=smontagu 
bug 728866 - pt 2 - implement canonical composition callbacks for harfbuzz. r=smontagu 
bug 728866 - pt 3 - add support for Hebrew presentation forms, excluded from canonical composition. r=smontagu 
Reftest for bug 726420, r=ehsan 
Make elements with unicode-bidi: plaintext and no strong directional characters default to left-to-right. Bug 726420, r=ehsan 
bug 722139 - Turn on harfbuzz shaper by default for Hebrew on all platforms. r=smontagu 
bug 662055 followup - permute order of Hebrew diacritics so that Biblical spelling of 'Jerusalem' renders properly. r=smontagu 
bug 724826 pt 1 - move various Unicode property tables from gfx to intl. r=smontagu 
bug 724826 pt 2 - replace the use of cattable.h with nsUnicodePropertyData for more accurate (and faster) category lookup. r=smontagu 
bug 724826 pt 3 - replace users of nsIUGenCategory service within libxul with direct access to mozilla::unicode::GetGenCategory. r=smontagu 
bug 729866 - remove unused and unimplemented nsIUGenDetailCategory interface. r=smontagu 
Unescape URLs in mail subjects before passing them to ShellExecute. Bug 227268, r=bsmedberg, sr=biesi 
Reftest for bug 729047, r=ehsan 
Treat <wbr> like ZERO WIDTH SPACE during bidi resoltion. Bug 729047, r=ehsan 
bug 721821 - make nsBidiPresUtils::WriteReverse aware of clusters, so that diacritics in RTL text display correctly in SVG text. r=smontagu 
Use GetGeneralCategory in IsPunctuationMark instead of the precompiled ccmap. Bug 731222, r=jfkthame 
Bug 731615 - Eliminate duplicate headers in layout. rs=smontagu 
Bug 590390 - deCOM nsICharsetAlias. r=smontagu 
Test case for bug 667512; r=smontagu 
Recognize Ctrl-Q and Ctrl-W under Hebrew keyboard layout on Linux. Bug 452393, r=masayuki, karlt 
Bug 734090 - Fix GB18030 4-bytes mappings. r=smontagu 
bug 210501 - implement case-folding support (ToUpper/Lower/Titlecase) for non-BMP characters (Unicode plane 1 and above). r=smontagu 
bug 605021 - handle surrogates in text-run transformations. r=smontagu 
bug 731536 - text-transform:capitalize should affect the first alphanumeric char in a word, not the first non-punctuation char. r=smontagu 
bug 731536 - reftest for text-transform:capitalize with punctuation marks. r=smontagu 
Bug 733282. r=smontagu. 
bug 731536 - followup, add a reftest for Deseret text capitalization with punctuation marks. r=smontagu 
Various fixes to multi-byte Unicode decoders. Bug 715319, r=emk 
Tests for bug 712600. r=smontagu 
Add a mParagraphDepth member to BidiParagraphData and cache it on frames to track nested bidi-isolated paragraphs. Use mParagraphDepth (* 2 + isRTL in order to keep LTR even and RTL odd) as the initial paragraph embedding level instead of pushing a stack of embedding codes. Pass the <bdi> frame instead of its first-child to BidiParagraphData::Reset and save a call to GetParent(). Split inline ancestors before and after bidi-isolated paragraphs, in the same way that we currently do between runs in different directions. This required also adding code to SplitInlineAncestors to handle situations where the parent frame is being split before its first child or after its last child. In JoinInlineAncestors, prevent frames that belong to paragraphs isolated from one another from being rejoined. Bug 712600, r=ehsan, roc 
Reftest for bug 726460, r=roc 
Check for orphaned fluid continuations after deleting content. Bug 726460, r=roc 
Tests for bug 730562, r=roc 
Check for orphaned non-fluid continuations after deleting content. Bug 730562, r=roc 
bug 736210 - fix bug in nsCaseTransformTextRunFactory surrogate handling. r=smontagu 
Bug 738581 - fix various warning on mozilla/intl. r=smontagu 
Bug 739124 - Remove unused nsCharsetProber::SetOpion and overrides. r=smontagu 
bug 231162 - support custom casing behavior for Turkish and similar writing systems. r=smontagu 
bug 231162 - reftests for Turkish casing behavior. r=smontagu 
Set all languages to true in language.properties. Bug 730625, r=jfkthame 

Set all languages to true in language.properties. Bug 730625, r=jfkthame bug 740477 - handle Dutch-specific capitalization of the ij digraph. r=smontagu 
bug 740477 - reftest for Dutch capitalization behavior. r=smontagu 
bug 736227 - fix surrogate handling in case-insensitive string compare. r=smontagu 
bug 745454 - don't lose line-break flag when merging case-transformed characters in text run. r=smontagu 
bug 740120 - implement context-sensitive mapping for Greek sigma in text-transform:lowercase. r=smontagu 
bug 740120 - reftest for context-sensitive lowercase sigma mapping. r=smontagu 
Bug 745991: In nsCSSFrameConstructor::MaybeRecreateContainerForFrameRemoval, add explicit parenthesis around '&&' within '||' to silence GCC warning. r=smontagu 
Tests for unicode-bidi: isolate and plaintext from Webkit. Bug 706194, r=roc 
Modifications to the tests for unicode-bidi: isolate and plaintext from Webkit. Bug 706194, r=roc 
Modifications to the tests for default bidi css properties from Webkit. Bug 706194, r=dbaron, a=tests-only 
Tests for unicode-bidi: isolate and plaintext from Webkit. Bug 706194, r=roc 
Modifications to the tests for unicode-bidi: isolate and plaintext from Webkit. Bug 706194, r=roc 
Modifications to the tests for default bidi css properties from Webkit. Bug 706194, r=dbaron, a=tests-only 
Fuzz failing reftests from bug 706194, a=tests-only 
Fix typo in tests for bug 706194. r=orange, a=tests-only 
Mark failing tests from bug 706194. r=orange, a=tests-only 
bug 747834 - fix genUnicodePropertyData tool following harfbuzz header changes. r=smontagu 
bug 738101 - add support for more Unicode properties. r=smontagu 
bug 738101 - Use the new mozilla::unicode::GetBidiCat instead of the old GetBidiCat. r=jfkthame 
bug 738101 - Use the new mozilla::unicode::GetIdentifierModification instead of the old ccmap in IsDefaultIgnorable. This is the last client for precompiled ccmaps, so remove the infrastructure for them at the same time. r=jfkthame 
bug 738101 - test for bidi mirroring. r=jfkthame 
bug 744357 - implement mappings from Unicode's SpecialCasing.txt for text-transform. r=smontagu 
bug 744357 - update case-mapping reftests to take account of SpecialCasing mappings. r=smontagu 
bug 752176 - only read the style array for valid offsets within the textrun. r=smontagu 
Tests for bug 750551. r=dholbert 
Make dir=rtl reverse layout direction in horizontal orientation only. Bug 750551, r=dholbert 
Tests for bug 750551. r=dholbert 
Make dir=rtl reverse layout direction in horizontal orientation only. Bug 750551, r=dholbert 
Bug 249159 - Part 1 Add word-break interface to nsILineBreaker. r=smontagu 
Test for word-break in 16-bit text as well as 8-bit. Bug 249159 r=jfkthame 
Bug 249159 - Part 2 Implement CSS3 Text word-break property. r=dbaron, smontagu 
More tests for bug 249159, r=jfkthame 
Split wordbreak-7 test into two testcases, one without lam-alef ligatures and one with (marked as failing due to bug 479829). Bug 249159, r=smontagu 
harfbuzz shaper should not modify character-clustering info due to diacritic within ligature. Bug 249159, r=smontagu 
Fix some cases where a bidi-isolated element was never going through bidi resolution. Bug 731594, r=roc 
Fix test failures from bug 750551, r=dholbert 
Tests for bug 746987. r=smontagu, roc 
Make unicode-bidi: [-moz-]plaintext apply to inline elements. Bug 746987, r=roc 
Tests for bug 755994, r=roc 
Start painting text shadow of selection from the left edge in RTL text. Bug 755994, r=roc 
bug 752455 - don't allow word break within cluster when copying glyph data for text-transform. r=smontagu 
bug 752455 - reftest for word-break, clusters, text-transform. r=smontagu 
bug 752459 - respect clusters when doing word-wrap:break-word. r=smontagu 
bug 752459 - reftest for word-wrap cluster support. r=smontagu 
Tests for bug 718573 
Tests for bug 715319 
bug 756850 - HBGetGlyph callback for harfbuzz needs to return whether the glyph existed. r=smontagu 
Bug 757946: don't write to underlying output stream if flush() has 0 bytes remaining. r=smontagu 
Make tests that use non-UTF-8 content use file URLs instead of chrome URLs. Bug 644209, r=emk 
Update patch for bug 644209 to final version. r=emk 
Bug 710693 - Move internal encoding check into nsCharsetAlias. r=smontagu 
Bug 752406 - Remove locale.OSTYPE in unixcharset.properties. r=smontagu 
Bug 754176 - Make TestLineBreak unit test. r=smontagu 
Prevent line numbers in view-source from participating in bidi reordering. Bug 751841, r=ehsan 
Bug 434044 - Consider ZWNJ and ZWJ as part of the word for spell checking, and pass the entire word to Hunspell; r=smontagu 
Bug 760954 - Fix the performance regression in the View Source windows; r=ehsan 
Bug 747911 - Add plural rule for Breton (br). r=Pike,smontagu 
Bug 758992 - Make the classes which use the XPCOM nsISupports implementation macros final, to avoid the warning about deleting using a pointer to a base class with virtual functions and no virtual dtor (intl/ parts); r=smontagu 
Bug 739804. Fix up reftests dependent on fallback behavior. r=smontagu 
Bug 763617 - Don't propagate an error code from GetCharsetAlias. r=smontagu 
bug 763703 - optimize Unicode property lookup and gfxScriptItemizer::Next. r=smontagu 
bug 764005 - optimize gfxFontGroup::FindFontForChar for the most common case, and lift array Length() accesses out of other loops in font code. r=smontagu 
bug 763982 - update and optimize Arabic char processing in TransformText. r=smontagu 
Bug 764541.  r=smontagu 
Bug 772519 - Remove the unused variable res in nsPlatformCharset::Init; r=smontagu 
bug 769475 - incorrect font used for italicized Arabic text when font-family is Arial or Times New Roman. r=smontagu 
bug 769475 - reftest for italicized Arabic text. r=smontagu 
bug 769475 - incorrect font used for italicized Arabic text when font-family is Arial or Times New Roman. r=smontagu 
bug 769475 - reftest for italicized Arabic text. r=smontagu 
Use printf instead of sed to prevent lots of blank lines in console output from make -s. Bug 756382, r=ted 
Changes to tests for bug 774335, r=dbaron 
Implement the new CSS property value unicode-bidi: isolate-override. Bug 774335, r=dbaron 
Tests for dir(ltr/rtl) CSS selector. bug 562169, r=bz 
Add support for :dir(ltr/rtl) CSS selector, layout/style part. Bug 562159, r=bz 
Add support for :dir(ltr/rtl) CSS selector, content part, Bug 562169, r=bz 
Tests for dir(ltr/rtl) CSS selector. bug 562169, r=bz 
Bug 562169. Add support for :dir(ltr/rtl) CSS selector, layout/style part, r=bz 
Bug 562169. Add support for :dir(ltr/rtl) CSS selector, content part, r=bz 
Don't split inline ancestors of bidi frames if we don't have any child frames after the split. Bug 779003, r=roc 
Bug 782916 - Do not compare nsresult to noErr; r=smontagu 
Bug 782916 - Do not compare nsresult to noErr; r=smontagu 
Treat argument of :-moz-locale-dir() case-insensitively.  (Bug 741293)  r=smontagu 
Bug 783206 - replace NULL with nullptr in intl except to OS API usages. r=smontagu 
Bug 784776 - Provide a pointer as an argument to time(). r=smontagu 
Bug 780979 - Compute length of char to freq order tables. r=smontagu 
Don't forget to empty the buffer after ResolveParagraph. Bug 788086, r=roc 
Bug 790354 - Remove unused variable 'ch' in nsBasicUTF7Decoder::ConvertNoBuff r=smontagu 
Bug 788178 - Remove extraneous trailing whitespace from language.properties and langGroups.properties. r=smontagu 
Bug 535422 - Add support for Lower Sorbian [dsb]. r=smontagu 
Bug 586085 - Add support for Kashubian [csb], Hawaiian [haw], and Hiligaynon [hil]. r=smontagu 
Bug 724594 - Rename 'Scots Gaelic' to 'Scottish Gaelic' [gd]. r=smontagu 
Bug 791027 - Change Upper Sorbian [hsb] langGroup to x-central-euro. r=smontagu 
Bug 655877 - Part 44: Fix some bidi tests whose rendering behavior has changed a bit with the new SVG text support. r=smontagu 
Bug 764234 - Implement StringEncoding API. r=dougt,smontagu 
Add vendor prefix to :dir selector. Bug 562169, r=dbaron 
Change :dir selectors to :-moz-dir in css files. Bug 562169, r=dbaron 
b=793233; mark reftest bidi/779003-1.html and 712600 as random; r=smontagu 
Make SimpleTest.is* functions less verbose on pass. Bug 797827, r=jmaher 
bug 795025 part 0 - update the genUnicodePropertyData tool for rearranged harfbuzz headers. r=smontagu 
bug 795025 part 1 - update Unicode character property data to Unicode 6.2. r=smontagu 
bug 795025 part 2 - update transliteration properties for Unicode 6.2. r=smontagu 
Bug 797385 - Part 1: Rename isXSSVlunerable flag to isInternal and add the flag to ibm864. r=smontagu 
Bug 797385 - Part 2: Remove ibm864 usage. r=smontagu 
Bug 797385 - Part 3: Remove ibm864i converter. r=smontagu 
Bug 799917 - Make document.characterSet always lowercase; r=bz,f=hsivonen,smontagu 
Bug 801330 - Assert if charLenTable is too small.  r=smontagu 
Bug 801330 - Make ISO2022JPCharLenTable large enough.  r=smontagu 
Bug 797385 Followup to blacklist the ibm864 converter in SeaMonkey Composer too r=smontagu
Bug 799910 - Fix ASCII range of EUC-KR and Big5 converters. r=smontagu 
Bug 802059 - Implement labels for existing encodings from the encoding spec; r=smontagu 
Bug 802069 - Make "macintosh" the canonical name of its encoding, not "x-mac-roman"; r=smontagu 
Fix off-by-one error in conversion pointers. Bug 801681, r=emk 
Bug 802820 Restore fallback behaviour when charset titles are missing r=smontagu 
Tests for bug 793233, r=roc 
Don't split inlines with bidi-isolated kids unnecessarily when they don't have siblings. Bug 793233, r=roc 
Bug 799105: Adjusts the width and height to < 600px. r=smontagu. 
Bug 803668 - convert string bundle caches to use mozilla::LinkedList; r=smontagu 
Bug 803668 - convert string bundle caches to use mozilla::LinkedList; r=smontagu 
Bug 803668 - convert string bundle caches to use mozilla::LinkedList; r=smontagu 
bug 774560 pt 1 - add Unicode full-width character mapping data. r=smontagu 
bug 774560 pt 2 - implement text-transform:full-width. r=smontagu 
bug 774560 pt 3 - testcase for all characters with a full-width mapping. r=smontagu 
Bug 562091 - Remove the EUC-KR conveter and rename x-windows-949 to EUC-KR. r=smontagu 
UTF-8 auto-detection tests. Bug 811363 
Fix an error in the UTF-8 state machine table, and clean up the table generally. Bug 811363, r=jfkthame. 
Add EnumerateEntries to nsCheapSet. Bug 809446, r=bsmedberg 
Changes to existing tests caused by bug 548206 
Tests for dir=auto (Bug 548206) from w3c HTML5 test suite, r=smontagu 
Dynamic tests for bug 548206, r=ehsan 
More tests for bug 548206, r=ehsan 
Implementation of HTML5 dir=auto. Bug 548206, r=ehsan, peterv 
Changes to existing tests caused by bug 548206 
Tests for dir=auto (Bug 548206) from w3c HTML5 test suite, r=smontagu 
Dynamic tests for bug 548206, r=ehsan 
More tests for bug 548206, r=ehsan 
Implementation of HTML5 dir=auto. Bug 548206, r=ehsan, peterv. 
Bug 746900 - Implement "Best Practices for Using U+FFFD" from the Unicode standard. r=smontagu 
Bug 782412 - Part 1: Rename UCS2BE to UTF16. r=smontagu 
Bug 782412 - Part 2: Return NS_OK_UDEC_MOREINPUT and NS_OK_UDEC_MOREOUTPUT as appropriate. r=smontagu 
Bug 782412 - Part 3: Improve the BOM handling. r=smontagu 
Bug 782412 - Part 4: Implement inputErrorBehavior. r=smontagu 
Test for bug 816253 
Remove node from nsTextNodeDirectionalityMap when another node is going to replace it. Bug 816253, r=peterv 
Test case for bug 712603, r=smontagu 
Bug 638379 - Part 1: Implement kOnError_Recover to the UTF-8 decoder. r=smontagu 
bug 818454 - backout change from bug 722137, no longer needed. r=smontagu 
Test for bug 815500 
Test for bug 815477 
When the text node that set the directionality of an element with dir=auto is removed, and there is no other text node that can set the directionality, clear the dirAutoSetBy property on the element. Bug 815500, r=peterv 
Bug 815473 - Replace runtime computed gUnicodeToGBKTable by constants. r=smontagu 
Bug 805374 - Remove UTF-16 family from Character Encoding menu. r=smontagu 
Bug 493544 - Don't decode the encoded text until it ends. r=smontagu 
Be consistent in what text nodes we look at in the #ifdef DEBUG pre-loop and the actual loop. Bug 822723 
Don't set autodirection on elements like <script>, <style> and <textarea>. Bug 819014. 
Test for bug 815276 
Clear the HasTextNodeDirectionalityMap property from the text node when deleting the map. Bug 815276, r=peterv 
Test for bug 815043 
Don't set AncestorHasDirAuto when binding a <bdi> element to the tree. Bug 815043, r=peterv 
Clear element from nsTextDirectionalityMap when unbinding. Bug 819623, r=peterv 
Add spaces between consecutive angle brackets. Bug 827086, r=Ms2ger 
bug 826610 - update zh-CN default font prefs on OS X. r=smontagu 
Test for bug 824719 
Test for bug 827190 
Set AncestorHasDirAuto on descendants of a node being bound to an element with HasDirAuto or AncestorHasDirAuto. Bug 827190, r=ehsan 
Fix whitespace and remove an unused method argument in DirectionalityUtils.cpp. Bug 828166, r=ehsan 
Use a utility method for repeated code. Bug 828166, r=ehsan 
Use IsHtml(foo) instead of NodeInfo()->Equals(foo). Bug 828166, r=peterv 
Test for bug 828054 
Remove aStartAfterNode from WalkDescendantsSetDirectionFromText. Bug 828054, r=ehsan 
Bug 830112 - Remove prtypes.h from intl/ and some other cleanups. r=smontagu 
Test for bug 829428, rs=ehsan 
Make DoesNotParticipateInAutoDirection return true for non-HTML elements; and make WalkDescendantsSetDirAuto consistent with SetDirOnBind. Bug 829428, r=ehsan 
Bug 827070.  r=smontagu 
Clear the HasDirAuto and HasDirAutoSet flags when setting dir to an invalid value. Bug 831287, r=ehsan 
Distinguish between bdi with default auto direction and with explicit auto-direction. Bug 832644, r=ehsan 
Test for bug 836890 
Set AncestorHasDirAuto flag when adding a new text node. Bug 836890, r=ehsan 
Bug 655877 - Part 44: Fix some bidi tests whose rendering behavior has changed a bit with the new SVG text support. r=smontagu,jwatt 
Reapply the patch from bug 722137 to fix bug 826163, r=roc, sec-approval=dveditz 
Check for fluid continuations up the parent chain and make them non-fluid. Bug 818454, r=roc 
Tests for bug 801681, r=tests 
Remove unused mIDNConverter and IDNConverter() from nsHTTPHandler. Bug 842295, r=honzab 
Make the test for <bdi> without dir=auto more accurate. Bug 838689, r=ehsan 
Don't clear HasDirAutoSet on a <bdi>. Bug 838489, r=ehsan 
Text nodes in anonymous subtrees shouldn't affect ancestors with dir=auto. Bug 839886, r=ehsan 
Test for bug 841205 
Test for bug 844404 
When unsetting dir=auto, don't clear the AncestorHasDirAuto flag on descendants if the parent itself has AncestorHasDirAuto set. Bug 844404, r=ehsan 
Bug 845743 - Support Big5-HKSCS as a separate encoding again. r=smontagu 
New algorithm for when to display IDNs as Unicode. Bug 722299, r=honza.b 
Add a pref to disable the IDN whitelist. Bug 722299, r=honza.b 
Changes to existing tests caused by bug 722299, r=honza.b 
Tests for bug 722299, r=honza.b 
New algorithm for when to display IDNs as Unicode. Bug 722299, r=honza.b 
Add a pref to disable the IDN whitelist. Bug 722299, r=honza.b 
Changes to existing tests caused by bug 722299, r=honza.b 
Tests for bug 722299, r=honza.b 
bug 846690 - add a memory-pressure notification observer to the hyphenation manager, to discard dictionaries when we're low on memory. r=smontagu 
Remove .com .net and .name from the IDN whitelist. Bug 843739, r=honza.b 
Remove network.enableIDN pref. Bug 842282, r=honza.b 
Bug 844461 - Perform alias resolution on the fallback encoding pref value. r=smontagu. 
Testcase from bug 847127, r=ehsan 
Set the AncestorHasDirAuto flag for all new text nodes that need it. Bug 847127, r=ehsan 
Make sure not to return the old text node in ResetNodeDirection. Bug 845093, r=ehsan 
Move WalkDescendantsClearAncestorDirAuto from BeforeSetAttr to OnSetDirAttr to simplify the test for elements that had dir=auto but no longer do, especially <bdi>. Bug 845093, r=ehsan 
Bug 833028 - Subjects with mixed ASCII and MIME words are incorrectly displayed. r=smontagu 
Don't rerun the downward propagation algorithm from ResetNodeDirection after an element has had dir=auto removed. Bug 849727, r=ehsan 
Set AncestorHasDirAuto on the descendants of a <bdi> having its dir attribute removed or set to an invalid value. Bug 849732, r=ehsan 
Bug 762270 - Align the file name to the right when direction is RTL. r=smontagu 
Disable the check for mixed Simplified and Traditional Chinese characters when determining whether to display IDN labels as unicode or punycode. Bug 857481, r=honzab 
Exclude U+30FB KATAKANA MIDDLE DOT from the non-recommended characters that force IDN labels to be displayed as punycode. Bug 857490, r=jfkthame 
The test for bidi isolated subparagraphs should be > 0, not > 1. Bug 859093, r=roc 
Exclude U+30FB KATAKANA MIDDLE DOT from the non-recommended characters that force IDN labels to be displayed as punycode. Bug 857490, r=jfkthame 
Add some assertions to DirectionalityUtils.cpp, Bug 861606, r=ehsan 
Remove unnecessary calls to ClearHasDirAutoSet in AfterSetAttr, Bug 861607, r=ehsan 
Remove elements from text node directionality map when they cease to have dir=auto, Bug 861610, r=ehsan 
Bug 701504 - Null out all BidiParagraphData::mPrevFrame when starting a new block.  r=smontagu 
Bug 863025 - Fix nsUniversalDetector overlooking the UTF-16 BOM. r=smontagu 
Bug 859172 - Call SetInputErrorBehavior from convertURItoUnicode. r=smontagu 
Bug 858897 - Fix warnings in umaptable.c. r=smontagu 
Fix document.dir getters and setters to (a) work and (b) conform to HTML5. Bug 151407, r=ehsan 
Change tests that depended on the behaviour before bug 151407 was fixed, r=Ms2ger 
Followup to bug 151407: use GetDir() on the root element. r=bz 
bug 866544 - ignore break position at end-of-text returned by UCFindTextBreak. r=smontagu 
Bug 866588 - Check that the frame IsBidiSplittable before changing a fluid continuation to non-fluid.  r=smontagu 
bug 837498 - work around DWrite/GDI 'cmap' discrepancy for Italic fonts with Hebrew system locale. r=smontagu 
Bug 859252 - Part b: Import the reftests in the HTML test suite; r=mounir+smontagu 
Assert that entry exists before removing it. Bug 876155, r=ehsan 
Bug 851982 - Make ISO-2022-JP decoder reliable. r=smontagu 
Bug 851982 - Regression test. r=smontagu 
Remove superseded workaround, bug 870794, r=roc 
Unfocus the text area before snapshotWindow so that the caret doesn't appear in the snapshot. Bug 886737; r=ehsan 
Use GetFrameBaseLevel to drill down to the first leaf frame instead of just looking at the first child when getting the line direction. Bug 889742, r=roc 
Reinitialize bidi keyboard when installed keyboard layouts change. Bug 817508, r=karlt, sr=roc 
Move the caret invalidation from CharacterDataChanged to CharacterDataWillChange so that the text doesn't change under the caret before invalidation. Bug 887631, r=ehsan 
Bug 896032: Don't bother capturing return value from CallGetService in nsGtkKeyUtils.cpp, since we don't use it. r=smontagu 
Bug 884061 - Part 3l: Use NS_DECL_THREADSAFE_ISUPPORTS in intl/, r=smontagu 
Only test IDN nodes against kMaxDNSNodeLen on string-prepped IDNs that we're going to send to DNS, not the Unicode form for display only. Bug 892370, r=honzab 
Bug 900246: Mark variable as DebugOnly in DirectionalityUtils.cpp, to fix opt "unused variable" build warning. r=smontagu 
Add a routine to clear the direction set by a textnode without resetting it. Bug 894137, r=ehsan 
Bug 906698 - nsUTF16ToUnicode is mis-converting on big-endian processor. r=smontagu
Bug 921472 - Minimize the #includes in intl/; r=smontagu 
Bug 906154 - move gCategoryImp to its point of use to avoid a static constructor; r=smontagu 
Bug 928231 - Build the uconv library in unified mode; r=smontagu 
Add new bidi control characters defined in Unicode 6.3. Bug 922530, r=jfkthame 
Update Unicode data to version 6.3. Bug 922550, r=jfkthame 
Add Apple SD Gothic Neo to Korean default font list for OSX 10.8. Bug 923713, r=jdaggett 
Bug 936899 - Build all of the uconv library in unified mode; r=smontagu 
Bug 936930 - Build the unicharutil library in unified mode; r=smontagu 
Bug 923967: Move from deprecated Unicode Utilities usage to CFStringTokenizer on OS X. r=smontagu 
Bug 928185 - Write a test for nsIScriptableUnicodeConverter.convertToInputStream. r=smontagu 
Bug 936935: Mark lines dirty more accurately in Bidi resolution, r=roc 
Optimize bidi resolution on blocks without mixed-direction text. Bug 646359, r=roc 
Test for bug 869833 
Add support for unicode-bidi: -moz-plaintext in XUL. Bug 869833, r=roc 
First testcase from bug 838489 
Second testcase from bug 838489 
First testcase from bug 845093 
Second testcase from bug 845093 
Test for bug 849727 
Test for bug 849732 
Test for bug 819014 
Test for bug 830098 
test for bug 832644 
Test for bug 831287 
Test for bug 826163 
Bug 946209 - Build intl/strres in unified mode; r=smontagu 
Bug 946647 - Remove bidi options from nsIMarkupDocumentViewer as dead code. r=smontagu. 
Add NS_FRAME_IS_BIDI bit even when short-circuiting bidi resolution. Bug 942690, r=roc 
Bug 950032 - Part 1: Remove dead code from japanese.map. r=smontagu 
Bug 950032 - Part 2: Import jamap.pl from bug 108136. r=smontagu 
Bug 950032 - Part 3: Update jamap.pl to the latest tip. r=smontagu 
Bug 947158 - Drain the overflow list on inlines before traversing children for bidi processing.  r=smontagu 
bug 735577 - pt 1 - introduce mozilla::WritingMode and logical-coordinate Point/Size/Margin/Rect classes. r=smontagu 
bug 735577 - pt 2 - add GetWritingMode() method to nsIFrame. r=smontagu 
bug 735577 - pt 3.1 - make width/height/offset/margin fields in nsHTMLReflowState private, and provide accessor functions. r=smontagu 
bug 735577 - pt 3.2 - update the rest of layout code to use the new accessors on nsHTMLReflowState. r=smontagu 
bug 735577 - pt 3.3 - provide logical-coordinate APIs in nsHTMLReflowState, parallel to the existing physical APIs. r=smontagu 
bug 735577 - pt 4.1 - use accessor functions for some physical-coordinate fields in nsHTMLReflowMetrics, in preparation for logicalization. r=smontagu 
bug 735577 - pt 4.2 - convert width and height fields in nsHTMLReflowMetrics to logical coordinates. r=smontagu 
Bug 213517 part 1 - Interpret x-user-defined as windows-1252 in <meta> for compatibility with other browsers. r=smontagu. 
Bug 956995 - Remove prtypes.h inclusions from C++ code in intl/. r=smontagu 
Bug 956995 - Stop using prtypes in unicpriv.h. r=smontagu 
Bug 958497 - Use the correct character type in th_char.h depending on the language to use; r=smontagu 
Bug 958577 - Add Uyghur to the list of RTL languages; r=smontagu 
Bug 958985 - Make isBidiEnabled check the intl.uidirection.<locale> pref; r=smontagu 
Bug 957128 - Report hyphen breaks also for word-wrap:break-word (to display soft-hyphens).  r=smontagu 
Bug 957128 - Idempotent change to simplify the code a bit.  r=smontagu 
Bug 844744, part 1 - Add some utils classes and static methods to aid in using ICU from gecko code. r=smontagu 
Bug 969872 - Do not try to check the return value of nsTArray::SetLength in nsLocaleService; r=smontagu
Bug 969878 - Do not try to check the return value of nsTArray::SetLength in nsDateTimeFormatMac::FormatTMTime; r=smontagu
Add some logical setters/getters to nsIFrame.h. Bug 735577, r=jfkthame 
Extend the WritingModes API. Bug 735577, r=jfkthame 
Fix a hang by using a dedicated state bit instead of overloading NS_FRAME_IS_DIRTY. Bug 964821, r=roc 
Add more logical-coordinate API to nsIFrame. Bug 735577, r=jfkthame 
Add ReplaceChars with a char16_t array. Bug 979556, r=bsmedberg 
Use the new ReplaceChars with char16_t array. Bug 979556, r=bsmedberg 
Add U+2029 PARAGRAPH SEPARATOR and other characters with bidi type Segment Separator and Paragraph Separator to the characters we convert to whitespace before passing text to the Bidi engine. Bug 847242, r=roc 
Use logical coordinates in nsBlockFrame::ReflowBullet. Bug 789096, r=jfkthame 
Use logical text layout API in nsLineLayout. Bug 789096, r=jfkthame 
Use logical text layout API for GetSkipSides. Bug 789096, r=jfkthame 
Use logical coordinates in nsBlockFrame::ReflowBullet. Bug 789096, r=jfkthame 
Use logical text layout API in nsLineLayout. Bug 789096, r=jfkthame 
Use logical text layout API for GetSkipSides, bug 789096, r=jfkthame 
Correction to typo in checkin for bug 789096. Bug 983691, r=jfkthame 
Aways use the root span's writing mode when recursing into child spans in nsLineLayout::ApplyFrameJustification. Bug 986899, r=jfkthame 
Bug 984379 - Use fallible allocator for nsIScriptableUnicodeConverter. r=smontagu 
bug 987668 - add hyphenation patterns for Polish. r=smontagu,gerv 
bug 987668 - reftest for Polish hyphenation. r=smontagu 
Bug 988829 - convert intl/uconv/ucvlatin/ to use Endian.h; r=smontagu 
Make nsLineBox.mBounds a LogicalRect. Bug 789096, r=jfkthame 
Add some more logical getters to nsIFrame.h. Bug 735577, r=jfkthame 
bug 998777 - use Nirmala UI by default for Devanagari text on Windows. r=smontagu 
Follow up the parent chain when making continuations non-fluid at the end of a directional run. Bug 989994, r=roc 
bug 1002425 - add a Gecko script code for "mathematical notation". r=smontagu 
bug 1001233 - convert bullet frame's margin to the block frame's writing mode when positioning bullet. r=smontagu 
Bug 1008908 - Remove assignment since the value isn't used.  r=smontagu 
Disable the textarea border and make the tests non-fuzzy. Bug 1012220, r=mattwoodrow 
Test for bug 465574, r=smontagu 
Remove the hack making all <br> frames 1 app unit wide, bug 421436, r=roc 
Mark the test for bug 465574 as failing 
Wait for CanPlaceFrame (i.e. after reflow) to apply start-margin and test whether the frame is a last continuation and so needs its end-margin applied. Bug 999446, r=jfkthame 
Remove the hack making all <br> frames 1 app unit wide. Bug 421436, r=roc 
Bug 1007067 - Add a currentLine->MarkDirty() to wallpaper a bug 936935 regression.  r=smontagu 
Add a WritingMode argument to nsHTMLReflowMetrics::ISize() and BSize(). Bug 789096, r=jfkthame 
Backout 38b25d5e6cf9 because assertions 
Bug 1007067 - Adding a reftest.  r=smontagu 
bug 1014639 - part 0 - (preliminary cleanup) split GreekCasing out into its own file to reduce clutter in nsUnicharUtils.cpp. r=smontagu 
bug 1014639 - part 1 - implement IrishCasing to encapsulate the special Irish uppercasing rules. r=smontagu 
bug 1014639 - part 2 - use IrishCasing in nsCaseTransformTextRunFactory::TransformString to provide correct Irish uppercasing. r=smontagu 
bug 1014639 - part 3 - reftest for Irish uppercasing rules. r=smontagu 
bug 1018805 - implement custom lowercasing behavior for Irish. r=smontagu 
bug 1018805 - reftest for Irish lowercasing behavior. rs=smontagu 
Add a WritingMode argument to nsHTMLReflowMetrics::ISize() and BSize(). Bug 789096, r=jfkthame 
bug 1020008 - use mozilla::ArrayLength for array size. r=smontagu 
Replace Get/SetTopAscent with Get/SetBlockStartAscent. Bug 789096, r=jfkthame 
Back out wallpaper patch from bug 1007067 in favour of real fix from bug 1015128, r=mats 
Mark line after a preformatted newline as dirty during bidi resolution. Bug 1015128, r=mats 
Replace GetBaseline with GetLogicalBaseline and use logical coordinates in the line position and baseline getters in nsLayoutUtils. Bug 789096, r=jfkthame 
Bug 789096: make method names in nsLineLayout correspond to the respective CSS properties. r=jfkthame 
Bug 789096 patch 7: Use logical coordinates in nsBlockReflowContext. r=jfkthame 
Bug 789096 patch 8: use logical coordinates in nsBlockReflowState. r=jfkthame 
Bug 1026397 part.2 Shouldn't separate input string between a surrogate pair at handling maxlength r=smontagu+ehsan 
bug 1028521 - testcase for assertion in mathml with bidi. r=smontagu 
Bug 1028521: Use the nsHTMLReflowMetrics' writing mode passed in from the container in nsMathMLContainerFrame::ReflowChild, not the child frame's. r=jfkthame 
bug 789096 patch 3a - followup to fix usage of LOGICAL_SIDE flags in nsTableColGroupFrame.cpp. r=smontagu 
bug 789096 patch 8 followup - constify new accessors in nsBlockReflowState. r=smontagu 
bug 789096 patch 2 followup - set aMetrics.BSize() rather than .Height() in nsInlineFrame::ReflowFrames, to accompany setting .ISize(). r=smontagu 
bug 789096 patch X - avoid some unconstrained-width (should be -isize) warnings with mixed writing modes. r=smontagu 
Bug 1037903: convert from frame's writing mode to block's writing mode in GetBEndMarginClone. r=jfkthame 
Bug 789096 patch 9: use logical coordinates in nsHTMLReflowState available size. r=jfkthame 
Bug 789096 patch 10: make Reflow set nsHTMLReflowMetrics.ISize and BSize instead of Width and Height. r=jfkthame 
bug 1031241 pt 1 - Rename Get{Min,Pref}Width to Get{Min,Pref}ISize throughout layout. r=dbaron,smontagu 
bug 1031241 pt 2 - More renaming, e.g. where {Min,Pref}Width occurs within longer type and function names. r=smontagu 
bug 1031241 pt 3 - Also rename Intrinsic{Width,Height} to Intrinsic{I,B}Size. r=smontagu 
bug 1031241 pt 4 - Rename the {MIN,PREF}_WIDTH constants used to identify the type of intrinsic inline-size. r=smontagu 
Bug 1038537 - Part 1: Flatten intl/chardet/{public,src}/ directories. r=smontagu 
Bug 1038537 - Part 2: Flatten intl/hyphenation/{public,src}/ directories. r=smontagu 
Bug 1038537 - Part 3: Flatten intl/locale/src/ directory. r=smontagu 
Bug 1038537 - Part 4: Flatten intl/locale/{public,idl}/ directories. r=smontagu 
Bug 1038537 - Part 5: Flatten intl/lwbrk/{idl,public,src}/ directories. r=smontagu 
Bug 1038537 - Part 6: Flatten intl/strres/{public,src}/ directories. r=smontagu 
Bug 1038537 - Part 7: Flatten intl/uconv/src/ directory. r=smontagu 
Bug 1038537 - Part 8: Flatten intl/uconv/{idl,public}/ directories. r=smontagu 
Bug 1038537 - Part 9: Flatten intl/unicharutil/{idl,public,src}/ directories. r=smontagu 
Bug 1044198: convert margins from the frame's writing mode to the line's writing mode in nsBidiPresUtils::RepositionInlineFrames, r=jfkthame. 
bug 1044706 - handle temporary contextPaint as part of fontParams. r=smontagu 
bug 1044706 - handle temporary contextPaint as part of fontParams. r=smontagu 
Bug 750622 patch 1: merge x-baltic with x-western, r=jfkthame 
Bug 750622 patch 2: merge x-central-euro with x-western, r=jfkthame 
Bug 756022 patch 3: merge tr with x-western, r=jfkthame 
Bug 756022 patch 4: change "Western" to "Latin" and "Other Languages" to "Other Writing Systems" in the font preferences dialog, r=jfkthame 
Bug 756022 patch 5: delete obsoleted comments in langGroups.properties and assign x-western to a few unassigned languages that use Latin script, r=jfkthame 
Bug 1037641: split SetDirectionFromChangedTextNode into TextNodeWillChangeDirection and TextNodeChangedDirection. r=ehsan 
bug 1048050 - ignore region (or other) subtags when checking for language-specific casing behavior. r=smontagu 
bug 1048050 - additional reftests to cover cases with and without region subtag. r=smontagu 
Bug 1051147 - Fix overflow area handling in nsTableRowFrame::DidSize. r=smontagu 
Bug 1053605 - Fix the bad implicit constructors in intl/; r=smontagu 
Bug 1054810: when block size is unconstrained and we aren't setting aDesiredSize.BSize to the computed block size, preserve the original value. r=jfkthame. 
bug 1057548 patch 1 - update table-generating tools. r=smontagu 
bug 1057548 patch 2 - regenerate unicode data tables for version 7.0. r=smontagu 
bug 1057548 patch 3 - regenerate transliterate.properties for unicode 7.0. r=smontagu 
bug 1046950 pt 1 - additional/modified APIs on LogicalSize. r=smontagu 
bug 1046950 pt 2 - convert ComputeSize to use logical-coordinate parameters. r=smontagu 
bug 1046950 pt 3 - convert ComputeAutoSize to use logical-coordinate parameters. r=smontagu 
bug 1046950 pt 4 - convert ComputeSizeWithIntrinsicDimensions to logical-coord parameters. r=smontagu 
bug 1058954 - use logical-size with the proper writing mode when setting up to call ReflowAbsoluteFrames. r=smontagu 
bug 1058954 - add testcase. r=smontagu 
bug 1059167 - fix accidental regression in FloatMarginWidth. r=smontagu 
bug 1059167 - add reftest. r=smontagu 
bug 1057330 pt 1 - update genUnicodePropertyData tool to add Vertical_Orientation property. r=smontagu 
bug 1057330 pt 2 - regenerate Unicode character property tables with updated tool. rs=smontagu 
bug 1057330 pt 3 - provide character property accessor for Vertical_Orientation. r=smontagu 
bug 1048899 - don't end ::first-letter in the middle of a ligature for Indic and SEAsian scripts. r=smontagu 
bug 1048899 - reftest for ::first-letter with Indic clusters. r=smontagu 
Bug 1060999 - Fix more bad implicit constructors in intl; r=smontagu 
Bug 1061057 - Fix more bad implicit constructors in universalchardet; r=smontagu 
Bug 1058021 patch 1: bring encoding/decoding tests in line with w3c tests and the Encoding Standard. r=annevk 
Bug 1058021 patch 2: add more helpful output for encoding test failures. r=jfkthame 
Bug 1058021 patch 3: change the mapfile generator to pass thru undefined codepoints from 0x80-0x9F and update the comments. r=jfkthame 
Bug 1058021 patch 4: regenerated encoding mapfiles. r=jfkthame 
bug 1061170 - constrain the reflow-state's available inline size for an orthogonal flow. r=smontagu 
Bug 1068218: Don't pass lone surrogates to GetDirectionFromChar, r=ehsan 
Bug 1034337: Test deletion on direction-change boundaries with the pref bidi.edit.delete_immediately set to both true and false, r=ehsan 
Bug 1034337: set the pref bidi.edit.delete_immediately to true by default, r=ehsan 
Bug 1068027 - nsBidiPresUtils::RepositionFrame should not mix logical and physical directions. r=smontagu 
Bug 1038756: Callsites creating a channel in /intl/ (r=smontagu) 
Bug 1071478 - Update unicode data tables for new release of UTR50 (revision 13). r=smontagu 
Tests for bug 1069941, one by jfkthame, r=smontagu; the other by smontagu, r=jfkthame 
Bug 1069941 patch 1: be more accurate when identifying the first and last frames on the line and applying margin/border/padding, r=jfkthame 
Bug 1069941 patch 2: reset the start coordinate of the inline frames before ReorderFrames so that the margin doesn't get added twice, r=jfkthame 
Bug 1069941 patch 3: Pass the frame physical width, not inline size, to the inner loop of RepositionFrame, plus cosmetic fixes, r=jfkthame 
Bug 902762 pt 5 - Handle vertical textruns when painting text in nsTextFrame. r=smontagu 
Bug 902762 pt 6 - Handle vertical textruns for mouse click in nsTextFrame. r=smontagu 
Bug 902762 pt 7 - Draw caret appropriately for vertical textruns. r=smontagu 
Bug 1076986: make LogicalMargin and LogicalRect's IsEmpty the same as nsMargin and nsRect, r=jfkthame 
Test for bug 1067268, r=jfkthame 
Bug 1067268: don't mix physical and logical coordinates when calculating width to clear past floats, r=jfkthame 
Bug 1079314 - Remove the mWritingMode field from logical-coordinate objects in non-debug builds. r=smontagu 
Bug 1074735 pt 1 - Use more sensible values for underline and strikeout position in vertical font metrics. r=smontagu 
Bug 1074735 pt 2 - Support drawing CSS text decorations (underline, overline, strikeout) on vertical text frames. r=smontagu 
Bug 1079314 - Remove the mWritingMode field from logical-coordinate objects in non-debug builds. r=smontagu 
Bug 1079319 - Fix some more bad implicit constructors in intl; r=smontagu 
Bug 1074735 pt 1 - Use more sensible values for underline and strikeout position in vertical font metrics. r=smontagu 
Bug 1074735 pt 2 - Support drawing CSS text decorations (underline, overline, strikeout) on vertical text frames. r=smontagu 
Bug 1081867 - Convert textrun metrics to physical coordinates before merging with visual-overflow region. r=smontagu 
Bug 1080621 - Don't pass nscoord in-params by reference in nsBidiPresUtils methods. r=smontagu 
Bug 1083104 - Fix misuse of physical instead of logical dimension for line breaking. r=smontagu 
Bug 1081867 - Convert textrun metrics to physical coordinates before merging with visual-overflow region. r=smontagu 
Bug 1062963 patch 1: Logical coordinates in nsLineLayout:ReflowFrame and CanPlaceFrame. r=jfkthame 
Bug 1062963 patch 2: changes and additions to WritingModes.h. r=jfkthame 
Bug 1062963 patch 3: make nsFloatManager's origin a LogicalPoint, adapt GetFlowAreas, AddFloats, ClearFloats, etc. to use it and make nsFloatManager region functions work with logical region. r=jfkthame 
Bug 1079139: make nsFlowAreaRect.mRect a LogicalRect. r=jfkthame 
Bug 1062963 patch 1: Logical coordinates in nsLineLayout:ReflowFrame and CanPlaceFrame. r=jfkthame 
Bug 1062963 patch 2: changes and additions to WritingModes.h. r=jfkthame 
Bug 1062963 patch 3: make nsFloatManager's origin a LogicalPoint, adapt GetFlowAreas, AddFloats, ClearFloats, etc. to use it and make nsFloatManager region functions work with logical region. r=jfkthame 
Bug 1062963 - reftest that catches the floatmanager writing-mode mismatch bug on container resize. r=smontagu 
Bug 1079139: make nsFlowAreaRect.mRect a LogicalRect. r=jfkthame 
Bug 1087224 - Allow compareSnapshots and assertSnapshots to be passed fuzz values. r=smontagu 
Tests for bug 1082844 (not run in a default build). r=jfkthame 
Bug 1082844: when converting between logical and physical coordinates in nsLineLayout, use the width of the containing block as container-width for the root span, and the width of the root span for child spans. r=jfkthame 
Tests for bug 1083748 (not run in a default build). r=jfkthame 
Bug 1083748. Pass inline-size, not width, to ComputeSize. r=jfkthame 
Bug 1086883 - Convert writing modes where necessary for orthogonal flows when collapsing margins in nsBlockReflowContext methods. r=smontagu 
Bug 1086883 - Reftest. r=smontagu 
Bug 1083892 - Make CalculateBlockSideMargins work with logical coordinates. r=smontagu 
Bug 1083892 - Reftest. r=smontagu 
Bug 1087954 - Fix invalid mix of logical/physical coordinate systems in nsLineLayout::AllowForStartMargin. r=smontagu 
Bug 1088547 - Don't pass NS_UNCONSTRAINEDSIZE as inline-size constraint to ComputeSize. r=smontagu 
Bug 1094914 - part 1 - Don't confuse frame and line writing-modes in nsLineLayout. r=smontagu 
Bug 1094914 - part 2 - Store margins and borders using line's writing mode in perFrameData, to avoid writing-mode conversions. r=smontagu 
Bug 1094914 - Reftest for margins and writing-mode of an inline block. r=smontagu 
Bug 1089388 - Convert nsBlockFrame::SlideLine to use logical coordinates. r=smontagu 
Bug 1089388 - Followup to add a LogicalPoint version of nsIFrame::MovePositionBy, and use this in SlideLine. r=smontagu 
Bug 1089388 - Reftests for nsBlockFrame::SlideLine in vertical writing modes. r=smontagu 
Bug 1089581 - Convert nsLineBox::SlideBy to use logical coordinates. r=smontagu 
Bug 1093165 - Include the text-orientation value in WritingMode, and add the IsSideways flag for baseline decisions. r=smontagu 
Bug 1091058 - Fix positioning of text-decoration lines in vertical writing mode. r=smontagu 
Bug 1091058 - Reftest for underlining of vertical writing-mode spans. r=smontagu 
Bug 1090159 - Correct baseline alignment in vertical-rl writing mode. r=smontagu 
Bug 1090159 - Reftest for erratic baseline in vertical-rl mode. r=smontagu 
Bug 1093553 - Improve handling of line-height metrics, block ascent, etc., in vertical writing mode. r=smontagu 
Bug 1093553 - Followup to fix positioning of the caret with writing-mode:vertical-lr and text-orientation:sideways-right. r=smontagu 
Bug 1084370 - Fix handling of vertical-align in lines with vertical writing mode. r=smontagu 
Bug 1098551: Use nsBidiLevel (instead of uint8_t) to capture result of functions that return nsBidiLevel. r=smontagu 
Bug 1098558: Remove unused constant NS_STYLE_DIRECTION_INHERIT. r=smontagu 
Bug 1093684 - part 1 - Make nsGfxScrollFrame aware of vertical writing modes. r=smontagu 
Bug 1093684 - part 2 - Handle vertical writing mode when computing overflow areas in nsBlockFrame. r=smontagu 
Bug 1093684 - part 3 - Replace |bottom| with |block-end| in a bunch of comments, and rename mCarriedOutBottomMargin to mCarriedOutBEndMargin. r=smontagu 
Bug 1095933 - Apply horizontal writing-mode to MathML content. r=smontagu 
Bug 1097128 - Enable compile-time support for vertical writing modes. r=smontagu 
Bug 1097894: if the embedding level of a frame is unset, get the direction from style, r=dholbert 
Bug 1100071 patch 1: change uint8_t to nsBidiLevel in a few more places, r=dholbert 
Bug 1100071 patch 2: add macros for common tests whether bidi level is odd and whether two bidi levels have the same parity, r=dholbert 
Bug 1100071 patch 3: don't pass around bidi levels when we only need the direction, r=dholbert 
Test for bug 818454 by Abishek Arya, r=smontagu 
Test for bug 894137, r=ehsan 
Fix errors in cset bd04d03f7980 (test for bug 894137) 
Remove testcase for bug 894137 because it causes assertions in other tests 
Bug 1103388 - Use sideways orientation for lone <space> when text-orientation is mixed. r=smontagu 
Bug 1103613 - Use better inline-size for an orthogonal flow within a block of specified dimensions. r=smontagu 
Bug 1103613 - Reftest for inline-size of an orthogonal block. r=smontagu 
Bug 1104589 - Improve the mapping of lang tags to langGroup codes. r=smontagu 
Bug 1096224 - part 1 - CalculateBlockSideMargins should be working in the containing block's writing mode. r=smontagu 
Bug 1096224 - part 2 - Fix writing mode mismatch in margin calculation in PlaceBlock. r=smontagu 
Bug 1096224 - Reftest for margins on an orthogonal block. r=smontagu 
Bug 1105268 - part 1 - Fix the logical/physical confusion with min- and max- dimensions in nsFrame::ComputeSize(). r=smontagu 
Bug 1105268 - part 2 - Fix logical/physical confusion with min- and max- dimensions in nsLayoutUtils::ComputeSizeWithIntrinsicDimensions(). r=smontagu 
Bug 1105268 - Reftest for CSS min- and max- dimensions with vertical writing mode. r=smontagu 
Bug 1077528 - part 1 - Provide physical and logical accessors for the m{HV}Resize flags in nsHTMLReflowState, and convert all flag users to the accessor methods. r=smontagu 
Bug 1077528 - part 2 - Make nsBlockFrame consider resize flags logically instead of physically. r=smontagu 
Bug 1105828 patch 1: Avoid using UNCONSTRAINEDSIZE in CalculateBlockSideMargins, r=jfkthame 
Bug 1105828 patch 2: Don't set UNCONSTRAINEDSIZE in an availSpace that we aren't going to use, r=jfkthame 
Bug 1106083 - Record the new containerWidth on lines when finalizing their placement in vertical-rl mode, so that they maintain their proper positioning during subsequent block-dir resize reflows. r=smontagu 
Bug 1104711: short-circuit LogicalSize.ConvertTo when the source and target modes are non-orthogonal, r=jfkthame 
Bug 1101625 part 1 - Don't escape all non-ASCII characters when unsafe characters are found, just escape the unsafe characters.  r=smontagu 
Bug 1101625 part 2 - Remove the aIRI param since it's always true. And some minor code cleanup.  r=smontagu 
Bug 1106665 - Fix text-align:justify for vertical writing modes. r=smontagu 
Bug 1079157 - part 1 - Purely mechanical renaming of local variables and members in nsColumnSetFrame. r=smontagu 
Bug 1079157 - part 2 - Comment updates and whitespace cleanup only, no actual code changes. r=smontagu 
Bug 1079157 - part 3 - Make nsColumnSetFrame support vertical writing mode. r=smontagu 
Bug 1106667 - Vertical writing-mode support for HTML button elements. r=smontagu 
Bug 1106669 - Convert nsLayoutUtils::IntrinsicForContainer to work with logical coordinates. r=smontagu 
Bug 1106669 - Reftest for IntrinsicForContainer writing-mode handling. r=smontagu 
Bug 1107256 - Correct the position of text decoration lines on vertical text. r=smontagu 
Bug 1108277 - part 1 - Make Get{Min,Pref}ISize for the <canvas> element aware of vertical writing mode. r=smontagu 
Bug 1108277 - part 2 - Make Get{Min,Pref}ISize in video and plugin frames aware of vertical writing mode. r=smontagu 
Bug 1108923 - Use the correct containing box dimension as the percent basis for margin/padding in vertical writing modes. r=smontagu 
Bug 1108923 - Update comments to reflect the newly logicalized parameters. r=smontagu 
Bug 1108923 - Reftest for margins specified using percentages. r=smontagu 
Test for bug 1105137, r=jfkthame 
Bug 1105137: treat nsFloatManager's mOrigin as an offset, not a point, and rename it to mOffset to make that clearer, r=jfkthame 
Bug 1110266 - Use horizontal-font metrics as basis for CSS units when text-orientation is sideways. r=smontagu 
Bug 1108067 - Make nsIFrame::GetWritingMode virtual, and override it in nsViewportFrame, nsCanvasFrame and nsHTMLScrollFrame to make them adopt the writing mode of their contents. r=smontagu 
Bug 1111517 - Use new method UpdateLineContainerWidth instead of SlideLine when finalizing the width of a vertical-rl block. r=smontagu 
Reftest for bug 1114329, r=smontagu 
Bug 1113526: make GetLogicalNormalPosition return the correct logical origin of the frame, not just convert the physical origin to logical coordinates, r=jfkthame 
Bug 1087733: Make JS callers of ios.newChannel call ios.newChannel2 in intl/ (r=smontagu) 
Bug 1090329 - gfxHarfBuzzShaper::GetGlyphVAdvance should never use the backend-specific GetGlyphWidth method, which is for horizontal width only. r=smontagu 
Bug 1115916 - Improve synthetic vertical metrics for fonts that don't have actual vhea/vmtx tables. r=smontagu 
Bug 1115916 - Reftest for synthetic vertical metrics. r=smontagu 
Bug 1095334 - Adjust ascent/descent to provide centered vertical baseline when reading 'vhea' table. r=smontagu 
Bug 1111944 - part 1 - Make nsLayoutUtils::DrawString (and the nsFontMetrics methods it calls) handle vertical text. r=smontagu 
Bug 1111944 - part 2 - Update nsBulletFrame::PaintBullet to handle vertical text in list item markers. r=smontagu 
Bug 1111944 - Reftest for list item markers with vertical text. r=smontagu 
Bug 1113684 - part 1 - Handle vertical writing modes when displaying alt-text alongside a broken-image icon. r=smontagu 
Bug 1113684 - part 2 - Update test from bug 1105268 to account for position of broken-image icon now being sensitive to vertical-rl mode. r=smontagu 
Bug 1118418 - Mark virtual overridden functions as MOZ_OVERRIDE in intl; r=smontagu 
Bug 1079154 - Reftest for column child-frame positioning in vertical-rl mode, r=smontagu 
Bug 1079154 patch 1: add a != operator to LogicalPoint and sprinkle some const dust in WritingModes.h, r=jfkthame 
Bug 1079154 patch 2: add SetPosition with a LogicalPoint to nsIFrame, r=jfkthame 
Bug 1079154 patch 3: logical versions of ApplyRelativePositioning, r=jfkthame 
Bug 1079154 patch 4: Logical versions of ReflowChild and FinishReflowChild, r=jfkthame 
Bug 1079154 patch 5: convert callers of ApplyRelativePosition, ReflowChild and FinishReflowChild in layout/generic to the logical versions, r=jfkthame 
Bug 1079154 patch 6: convert ApplyRelativePosition, ReflowChild and FinishReflowChild in nsFlexContainerFrame to the logical versions, r=dholbert 
Bug 1079154 patch 7: remove obsoleted nsPoint::GetPhysicalPosition, r=jfkthame 
Tests for bug 1102175, r=jfkthame 
Bug 1063471: finish off converting nsBlockReflowContext to logical coordinates (comment-only change), r=jfkthame 
Bug 1067796: make SelectionLanguageChange cache the language direction on mFrameSelection and return early if the language hasn't changed, r=roc 
Bug 1114297 - Improve performance of nsTreeBodyFrame::AdjustForCellText for very long strings; r=smontagu 
Bug 1120102 - Use absolute value of vhea descender field, because fonts differ in the sign of the coordinate system they assume. r=smontagu 
Bug 1118943 - Ensure mFUnitsConvFactor is set up properly for vertical fonts in the FT2 backend. r=smontagu 
Bug 1119770 - Remove the compile-time switch to enable/disable vertical writing mode support. r=smontagu 
Bug 1123133 - Vertical writing-mode support in nsFieldSetFrame. r=smontagu 
Reftest for bug 1124636, r=jfkthame 
Bug 1124636: use min/maxBSize instead of Height in nsFieldSetFrame, r=jfkthame 
Bug 1126269 - Part 2: Remove a useless include from intl/lwbrk/th_char.h. r=smontagu 
Bug 1127679 - Fix use of incorrect writing mode in flex-item relative positioning. r=smontagu 
Bug 1127679 - Reftest for relative positioning of flex items with different directionality. r=smontagu 
Bug 1121748 - patch 1 - Make sure to update the frame dimensions before calling ApplyRelativePositioning. r=jfkthame 
Bug 1121748 - patch 2 - Use the flex-item frame's final size when computing its logical position within the flex container. r=smontagu 
Bug 1121748 - test 1 - Reftest for use of out-of-date frame size during relative positioning in BlockReflowContext. r=smontagu 
Bug 1121748 - test 2 - Reftest for use of incorrect container and frame widths in nsFlexContainerFrame. r=smontagu 
Bug 1124661 - Make some vertical writing-mode reftests more robust, and/or mark as fuzzy where minor subpixel differences occur. r=smontagu.
Bug 1130231 - Properly logicalize the implementation of padding on button contents. r=smontagu 
Bug 1130231 - Reftest for left/right padding on button contents with direction=rtl. r=smontagu 
Bug 1076657 pt 1 - Fix ContentEventHandler::OnQueryTextRect for vertical textframes. r=smontagu 
Bug 1117210 - Snap text baselines to device pixels in vertical writing modes. r=smontagu 
Bug 1117210 - Reftest for baseline-snapping in vertical writing modes. r=smontagu 
Tests for bug 1127488, r=jfkthame 
Test for bug 1131013, r=jfkthame 
Bug 1131013: when setting the position of inline frames in vertical writing modes with right-to-left direction, subtract the inline start from the container height to get the correct vertical position. r=jfkthame 
Bug 1124636 patch 2: use logical ReflowChild, FinishReflowChild and ApplyRelativePositioning in nsFieldSetFrame. r=jfkthame 
Bug 1117210 - Snap text baselines to device pixels in vertical writing modes. r=smontagu 
Bug 1117210 - Reftest for baseline-snapping in vertical writing modes. r=smontagu 
Bug 1133289 - Remove nonstandard expression closures from intl/locale. r=smontagu 
Bug 1105644 - Lowercase words before passing them to libhyphen, so as to match patterns fully. r=smontagu 
Bug 1105644 - Update reftests for improved handling of capitalized words. r=smontagu 
Bug 1105644 - Lowercase words before passing them to libhyphen, so as to match patterns fully. r=smontagu 
Bug 1105644 - Update reftests for improved handling of capitalized words. r=smontagu 
Bug 1131013 followup - make the vertical-bidi reftest more robust across platform/font differences. r=smontagu
Bug 1134216 - Preserve line-break flags properly when applying text-transform conversions. r=smontagu 
Bug 1134216 - Reftest for automatic hyphenation with text-transform. r=smontagu 
Bug 1134534 - Convert writing mode if necessary before applying positioning to fieldset legend. r=smontagu 
Bug 1134534 - Reftest for fieldset legend with opposing directionality. r=smontagu 
Bug 1134598 - Enable the vertical writing-mode reftest directory. r=smontagu 
Bug 1134598 - Enable the vertical writing-mode reftest directory. r=smontagu 
Bug 1134598 - Enable the vertical writing-mode reftest directory. r=smontagu 
Bug 1134744 - Fix baseline for form controls when line is inverted relative to block dir. r=smontagu 
Bug 1134744 - Reftest for baseline of radio button and checkbox. r=smontagu 
Bug 1138353 - Correct the directionality of vertical-align dimensions in cases where line- and flow-relative coordinate directions differ. r=smontagu 
Bug 1123284 - pt 1 - Make nsTextBoxFrame somewhat aware of vertical writing mode, to allow <input type=file> to display properly. r=smontagu 
Bug 1123284 - pt 2 - Fix Get{Min,Pref}ISize in nsLeafBoxFrame for vertical mode. r=smontagu 
Bug 1136521 - Don't try to use the ascent when placing a frame whose block-direction doesn't match the line's. r=smontagu 
Bug 1114329 - Reftests for floats within blocks of varying width and directionality.  r=smontagu 
Bug 1138495 - pt 0 - Reftests for font inflation in vertical writing mode, initially annotated as failing. r=smontagu 
Bug 1138495 - pt 1 - Rename NS_FRAME_IN_CONSTRAINED_HEIGHT flag to NS_FRAME_IN_CONSTRAINED_BSIZE, and set it appropriately according to writing mode. r=smontagu 
Bug 1138495 - pt 2 - Remove failure annotations from tests that no longer fail; note that the comparison of font-inflation-1c.html vs 1d still fails (they should inflate by different amounts). r=smontagu 
Bug 1138495 - pt 3 - Compute font inflation based on inline-axis dimensions rather than always using physical width. r=smontagu 
Bug 1138495 - pt 4 - Remove failure annotation from the final testcase, and add specific equality tests for the correctly-inflated rendering of 1c and 1d. r=smontagu 
Bug 1139646 - Ensure gfxHarfBuzzShaper only loads the vmtx table once, to avoid leaking it. r=smontagu 
Bug 1134598 - Enable the vertical writing-mode reftest directory. r=smontagu 
Bug 1136557 - pt 1 - Ignore bogus ascent/descent values in 'vhea' table. r=smontagu 
Bug 1136557 - pt 2 - Round maxDescent similarly to maxAscent in nsFontMetrics. r=smontagu 
Bug 1136557 - Reftests with nested spans in vertical mode. r=smontagu 
Mark the failing reftests from bug 1114329 as passing (fixed by bug 1143218). r=jfkthame 
Bug 1143218 patch 1: Back out the fix for bug 1105137, r=jfkthame 
Bug 1143218 patch 2: Add LineLeft and LineRight accessors to LogicalRect, r=jfkthame 
Bug 1143218 patch 3: a better fix for bug 1105137 using line-left and line-right to place floats, r=jfkthame 
Bug 1099032 - Enable CSS writing-mode support by default for nightly/aurora builds. r=smontagu 
Bug 1138356 - Correct the alignment of button contents in vertical-rl writing mode. r=smontagu 
Bug 1138356 - Reftests for button contents alignment in vertical writing modes. r=smontagu 
Bug 1138359 - Make the margins of native-themed Cocoa buttons aware of writing mode. r=smontagu 
Bug 1145546: take auto-direction into account in GetScrolledRect, r=jfkthame 
Bug 1133945 - Fix behavior of vertical-align with a specified length, relative to dominant centered baseline in vertical mode. r=smontagu 
Bug 1133945 - Reftest for vertical-align with dominant centered baseline. r=smontagu 
Bug 1145218 - Make the float manager's writing-mode field debug-only, and assert that it matches what callers are passing in. r=smontagu 
Bug 1145936 - Fix sizing of foreignObject with vertical writing mode. r=smontagu 
Bug 1145936 - Reftest for sizing of foreignObject with vertical writing mode. r=smontagu 
Bug 1145218 - Make the float manager's writing-mode field debug-only, and assert that it matches what callers are passing in. r=smontagu 
Bug 1130907 - patch 1 - Account for writing-mode when incorporating border widths into intrinsic size. r=smontagu 
Bug 1130907 - patch 2 - Account for writing-mode in nsContainerFrame::DoInlineIntrinsicISize. r=smontagu 
Bug 1130907 - patch 3 - Reftest for contribution of border widths to intrinsic size. r=smontagu 
Bug 1130907 - patch 4 - Reftest for container-frame intrinsic size involving borders. r=smontagu 
Bug 1141931 part 4 - Make bidi reordering always in frame order. r=jfkthame,smontagu 
Bug 1141931 patch 10 - Revert to pass container size instead of only isize for bidi reordering. r=smontagu 
Bug 1141931 part 4 - Make bidi reordering always in frame order. r=jfkthame,smontagu 
Bug 1141931 patch 10 - Revert to pass container size instead of only isize for bidi reordering. r=smontagu 
Bug 1144501 - Take account of orthogonal writing modes when adjusting available size to reflow a child frame. r=smontagu 
Bug 1144501 - Reftest for sizing of orthogonal frame after block-end margin. r=smontagu 
Bug 1151993 - Apply shrink-wrapping to block frames that are orthogonal to their containing block. r=smontagu 
Bug 1151993 - Reftest for inline-sizing of orthogonal block frames. r=smontagu 
Bug 1151993 - Fix the reference for 1124636-2-fieldset-min-height to match new behavior. r=smontagu 
Bug 1152254 - Handle vertical text frames when clipping display list for drag image. r=smontagu 
Bug 1141867 - patch 1 - Use the proper writing mode to return the inline-size from FloatMarginISize. r=smontagu 
Bug 1141867 - patch 2 - If FloatMarginISize returns unconstrained, we need to do an early reflow on the orthogonal float to find out its real size. r=smontagu 
Bug 1141867 - patch 3 - Reftests for contiguous orthogonal floats. r=smontagu 
Bug 1139306: Fix margin sides for right-to-left scrollbars depending on the actual position of the scrollbar as determined by layout.scrollbar.side, r=tn 
Bug 1141867 - patch 1 - Use the proper writing mode to return the inline-size from FloatMarginISize. r=smontagu 
Bug 1141867 - patch 2 - If FloatMarginISize returns unconstrained, we need to do an early reflow on the orthogonal float to find out its real size. r=smontagu 
Bug 1141867 - patch 3 - Reftests for contiguous orthogonal floats. r=smontagu 
Bug 1028716 part 2 - Handle the new orient values in <progress> and <meter> layout. r=smontagu 
Bug 1154227 - Fix the painting of text-shadow in vertical writing modes. r=smontagu 
Bug 1157691 - Explicitly enable writing-mode support for reftests that require it. r=smontagu 
Bug 1158549 - Properly apply min/max constraints to block-size in vertical writing modes. r=smontagu 
Bug 1158549 - Reftest for size constraints in vertical writing mode. r=smontagu 
Bug 1155261 - Fix computation of glyph extents and text-frame visual overflow for vertical text frames. r=smontagu 
Bug 1151908 - Updating our character property data with new Bidi info from Unicode 6.3. r=smontagu 
Bug 1157752 - In vertical writing modes, text-orientation:upright should force LTR directionality. r=smontagu 
Bug 1157752 - Reftest for vertical mode with upright orientation overriding bidi directionality. r=smontagu 
Bug 1150614: place floats correctly in vertical writing modes with dir="rtl", r=jfkthame 
Tests for bug 1150614, r=jfkthame 
Bug 1157726: Updated algorithm to match ICU implementation of support for bidi isolates. r=smontagu 
Tests for bug 1150614, r=jfkthame 
Fix test regressions from bug 1150614, r=jfkthame 
Bug 1150614: place floats correctly in vertical writing modes with dir="rtl", r=jfkthame 
Bug 1160784 - Remove a misleading declaration r=smontagu 
Bug 1162084: Check back in TLDs for Pakistan, r=gerv 
Tests for bug 645642, r=dbaron 
Bug 645642: implement text-align: match-parent, r=dbaron 
Bug 645642: use text-align: match-parent in list items, options and file inputs, r=dbaron 
Bug 1103348 - Part 1: Correctly reset the direction of an ancestor that is still in the tree when a text node is removed; r=smontagu
Bug 1103348 - Part 2: Test case; r=ehsan 
Move reftests for bug 645642 to w3-css/submitted and add CSS test metadata 
Bug 1159729 - Use the adjusted |offset| value in GetTextDecorationRectInternal, instead of ignoring it. r=smontagu 
Bug 1159729 - Reftest to check that text decoration is properly offset when needed. r=smontagu 
Bug 1162485 - Ensure the vertical-text.enabled pref is set for reftests that involve vertical writing modes. r=smontagu 
Bug 1159305 - patch 2 - Clean up layout code by using the new accessors. r=smontagu 
Bug 1139306: Fix margin sides for right-to-left scrollbars depending on the actual position of the scrollbar as determined by layout.scrollbar.side, r=tn 
Bug 1139306. Adjust heights of scrollable area so scrollbar sizes almost match in reftests now that RTL scrollbars correctly show in these reftests. r=smontagu 
Bug 1139306: Add a small amount of fuzz to a test on Android, r=tn 
Bug 1161932 - Fix coverity warning in nsBidi.cpp. r=smontagu 
Bug 1130935 part.11 Disable test_backspace_delete.xul due to bug 1163311 r=smontagu 
Bug 1164852 patch 1 - Rewrite reference files for float-in-rtl-* reftests to avoid the use of position:relative. r=smontagu 
Bug 1164852 patch 2 - Remove irrelevant position:relative from all the float-in-rtl-* testcases, too. rs=smontagu 
Bug 1163583 - Update SetPara with recent changes to ICU algorithm. r=smontagu 
Bug 1167048 - Change default font for Thai script from serif to sans-serif. r=smontagu 
Bug 1167930 - Handle direction:rtl in vertical modes when converting a LogicalMargin to physical. r=smontagu 
Bug 1169267: treat an empty nsTextDirectionalityMap as missing when changing text content 
Tests for bug 1169267 
Bug 1067788 - Part 2: Fixes to caret positioning in bidi text. r=smontagu 
Bug 1067788 - Part 1: Don't invalidate bidi cursor directionality during a delete. r=smontagu 
Bug 1067788 - Part 4: Update test_bug496275.html. Add setCaretBidiLevel method to Selection. r=smontagu r=ehsan 
Bug 1067788 - Part 5: Fix for parts of test_bug496275.html. r=smontagu 
Bug 1169248 - Fix GBK/GB18030 encoders. r=smontagu 
Bug 1169433 - Remove  UnicharSelfTest and turn NormalizationTest into a gtest. r=glandium,smontagu 
Bug 1147834: Use abstract coordinates in nsHTMLReflowState, r=jfkthame 
Bug 1147834: tests for overconstrained relative positioning, r=jfkthame 
Bug 1079151 - patch 1 - Update constraint calculations in nsHTMLReflowState to work with logical coordinates. r=smontagu 
Bug 1079151 - patch 2 - Convert nsAbsoluteContainingBlock to use logical coordinates. r=smontagu 
Bug 1079151 - patch 3 - Remove failure annotations from the vertical abs-pos reftests. r=smontagu 
Bug 1079151 - patch 4 - Handle unconstrained inline-size when computing constraints for an orthogonal absolutely-positioned block. r=smontagu 
Bug 1171006: Fix some errors introduced in uconv tests by bug 943268, r=emk 
Bug 1170932: Improve error handling for the gbk encoder, r=emk 
Bug 1170932: Test handling of unmapped characters in unicode-to-codepage encoders 
Bug 1113206: Make nsComboboxControlFrame and nsListControlFrame use logical coordinates and support vertical writing modes - patch by smontagu with additions by jfkthame. r=jfkthame,smontagu 
Bug 1172774: for a box with a writing mode orthogonal to its containing block, calculate positioning values (margin, padding and offsets) in the writing mode of the containing block, r=jfkthame 
Tests for bug 1172774, r=jfkthame 
Bug 1173415 - Fix incorrect mask used for nsBidi::mFlags [r=smontagu]
Bug 1173689: allow column sets in an orthogonal writing mode to their container to expand in the container's block direction, r=roc 
Bug 1176462 - Remove nsTableDecoderSupport. r=smontagu 
Bug 1164693 - Part 1: Directional caret should point in caret direction in bidi paragraphs. r=smontagu 
Bug 1164693 - Part 2: Frames in a non-bidi paragraph with newline shouldn't be marked as bidi. r=smontagu 
Bug 1164693 - part 3: Exclude optimizations that don't apply to preformatted paragraphs. r=smontagu 
Bug 1174504 - Logical-coordinate versions of nsIFrame::SetSize should maintain the frame's logical position. r=smontagu 
Bug 1077521 - Allow tables to use vertical writing modes. r=smontagu 
Bug 1077521 - Initial testcases for vertical writing-mode tables. r=smontagu 
Bug 1077521 - Initial testcases for vertical writing-mode tables. r=smontagu 
Bug 1077521 - Reftest for rowspan in vertical table. r=smontagu 
Bug 1077521 - Reftest for colspan in vertical table. r=smontagu 
Bug 1173958: convert FixedTableLayoutStrategy to logical coordinates, r=jfkthame 
Bug 1173958: whitespace and bracing changes to make FixedTableLayoutStrategy conform to local style, r=jfkthame 
Tests for bug 1173958. r=jfkthame 
Bug 1178059: fix a pair of failing reftests from bug 1173958 by forcing a div to align like a td, r=jfkthame 
Add fuzz to three reftests on Android. No bug. 
Bug 1165168 - Tests from Gérard Talbot for border-spacing in vertical writing-modes. r=smontagu 
Bug 1165172 - Tests from Gérard Talbot for table row progression in vertical writing-modes. r=smontagu 
Bug 1180643 - Fix the SetY() method on LogicalPoint to update the correct field. r=smontagu 
Bug 1181087 - part 1 - Eliminate the few callers of physical-coordinate setters on the logical-coordinate geometry classes. r=smontagu 
Bug 1181087 - part 2 - Remove the unused physical setter methods on logical-coordinate classes. r=smontagu 
Bug 1180178: Add writing-mode and logical coordinates to frame dumps, r=jfkthame 
Bug 1182008 - Fix inconsistencies between testcases and reference files in (currently-failing) vertical float-in-rtl reftests. r=smontagu 
Bug 1175094 - Include borderPadding in the combobox's containerWidth, so that dropdown arrow is positioned correctly in RTL. r=smontagu 
Bug 1183209 patch 1: add new script codes from Unicode 8 to harfbuzz, r=jfkthame 
Bug 1183209 patch 2: update data generation tools to Unicode 8, r=jfkthame 
Bug 1183209 patch 3: update generated data files to Unicode 8, and adapt internal XIDMOD types to the new types in Unicode's xidmodifications.txt, r=jfkthame 
Bug 1180417 - Part 1: Put back optimizations for determining end of flow. r=smontagu 
Bug 1180417 - Part 2: Fix failure in layout/base/crashtests/942690.html. r=smontagu 
Bug 1172450 - Size and position the dropdown arrow properly in vertical writing modes. r=smontagu 
Bug 1177505 - Make all continuations fluid within non-bidi paragraphs. r=smontagu 
Bug 1187605 pt 1 - In vertical writing modes, add an 'orientation' attribute with value='left' or 'right' to the <select> control's dropdown button. r=smontagu 
Bug 1187605 pt 2 - Make the <select> dropdown arrow respect the 'orientation' attribute, if present. r=smontagu 
Bug 1194493 - Ensure the 'mVertical' flag is set appropriately on the nsFontMetrics we use to draw text for an nsTextBoxFrame. r=smontagu 
Original Patch by Simon Montagu <smontagu@smontagu.org> 
Bug 1201533 - Remove the GetEastAsianWidth API and its supporting character-property data. r=smontagu 
Bug 843689: make network.IDN.use_whitelist pref default to false preparatory to removing it completely, r=gerv 
Bug 319030: remove fossil support for RACE encoding and multilingual test bed from IDN code, r=jfkthame 
Bug 321491: Refactor error handling in nsIDNService, r=mcmanus 
Bug 1201468: Map UErrorCode to nsresult, r=jfkthame 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 1: build system changes, r=ted; code changes, r=jfkthame 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 2: changes to existing tests, r=jfkthame. 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 3: test for transitional processing and CONTEXTJ, r=jfkthame. 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 1: build system changes, r=ted; code changes, r=jfkthame 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 2: changes to existing tests, r=jfkthame. 
Bug 479520: Implement IDNA2008 standard for International Domain Names, patch 3: test for transitional processing and CONTEXTJ, r=jfkthame. 
Bug 1221550 - use UniquePtr<T[]> instead of nsAutoArrayPtr<T> in intl/; r=smontagu 
Bug 1221874 - Crashtest for overzealous writing-mode check (currently asserts). r=smontagu 
Bug 1221874 - Ignore the sideways-orientation flag when logical-coordinate classes are checking writing-mode compatibility. r=smontagu 
Bug 1216096: restore previous RTL caret behaviour by backout of bug 1164963, bug 1177505, and bug 1180417. r=jfkthame 
Bug 1157727 - Reftests for bidi bracket pairing, based on UAX #9 examples. r=smontagu 
Bug 1157727 - Part 0: Preliminary cleanup, remove a bunch of #ifdef'd dead code from nsBidi.cpp. r=smontagu 
Bug 1157727 - Reftests for bidi bracket pairing, based on UAX #9 examples. r=smontagu 
Bug 1157727 - Part 0: Preliminary cleanup, remove a bunch of #ifdef'd dead code from nsBidi.cpp. r=smontagu 
Bug 1218179: move from transitional to non-transitional IDNA2008 processing, r=jfkthame 
Bug 1228755 - Map "C.UTF-8" to "en-US.UTF-8" in GetXPLocale().  r=smontagu 
Test for bug 1162813, r=jfkthame 
Bug 1162813: filter paragraph separators before passing text to SetPara, r=jfkthame 
Bug 1231175 - Reftest for failure to recognize mixed directionality in RTL para beginning with number within embed/isolate controls. r=smontagu 
Bug 1231175 - Missed change from Unicode 6.3 bidi algorithm update (ported from ICU's ubidi): include new ENL and ENR bidi pseudo-types in MASK_LTR. r=smontagu 
