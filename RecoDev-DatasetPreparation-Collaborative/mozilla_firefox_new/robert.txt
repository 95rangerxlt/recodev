mozdev.org

Bug 370063 OpenBSD: sync with reality - they define uint32_t and boolchanges by one of pvalchev@openbsd.org, wilfried@openbsd.org, robert@openbsd.org, or naddy@openbsd.org (or at least Martynas Venckus thinks it was one of them)patch by martynas@openbsd.orgcorrect spelling thanks to vicviq@gmail.comr=jst sr=jst 

Win32 only - Bug 369221: Fails to install with xpicleanup error message. r=sspitzer, sr=mscott for Thunderbird JS code-sharing module system. Patch by Alex Fritze <alex@croczilla.com> and Robert Sayre <sayrer@gmail.com>. r=shaver/brendan, sr=brendan 
JavaScript Test - regression test for bug 366941, by Robert Sayre; add version(180) foo 
Bug 180380. nsXPCComponents object and its wrapper leaked at shutdown. Patch by David Baron, David Bradley, and Robert Sayre. r=jst/bzbarsky, sr=dbaron 
Bug 306907 - Build libsqlite as a standard name separate shared library.  Patch by Michael Wu <michael.wu@mozilla.com>, Robert Relyea <rrelyea@redhat.com>, Ryan VanderMeulen <ryanvm@gmail.com>, and Shawn Wilsher <me@shawnwilsher.com>.  r=benjamin 

Bug 387385 - Remove files from the VirtualStore on uninstall / in-place upgrade / software update. r=sspitzer 
Bug 388192 - Remove gopher OS integration support. r=sspitzer Bug 306907 - Build libsqlite as a standard name separate shared library.  Patch by Michael Wu <michael.wu@mozilla.com>, Robert Relyea <rrelyea@redhat.com>, Ryan VanderMeulen <ryanvm@gmail.com>, and Shawn Wilsher <me@shawnwilsher.com>.  r=benjamin 

Bug 388192 - Remove gopher OS integration support (Mac OS X patch). r-sspitzer 
Bug 388932 - Additional cleanup for talkback removal. r=bsmedberg Bug 391147 --> hunspell doesn't build on MSVC71.1 patch by Robert Longson <longsonr@gmail.com> 1.9 blocker sr=mscott 
Bug 384042 - Extension manager uses installLocation.stageFile method (not defined in the interface). Patch by Wladimir Palant <trev.moz@adblockplus.org>, r=benjamin/robert.bugzilla 
Bug 384052 - Allow custom parameters in the update URL. Patch by Wladimir Palant <trev.moz@adblockplus.org>, r=robert.bugzilla 
Bug 308073 - Change default downloading folder in Windows Vista from Desktop to Downloads.  Patch by Jim Mathies <jmathies@mozilla.com>.  r=robarnold, r=robert.bugzilla, sr=dougt, a=mconnor 
Bug 343628 - Double-clicking a close button of a tab shouldn't open a new tab. r=robert. 
Bug 393525 - XPCOMUtilify nsBlocklistService. r=robert.bugzilla 

Bug 393003 - accesskey duplicates on advanced tab. r=mano Bug 92543 - BandRect.mFrames should be created as an nsAutoVoidArray p=alfredkayser@nl.ibm.com (Alfred Kayser) r+sr=roc@ocallahan.org (Robert O'Callahan) a=dbaron@mozilla.com (David Baron) 
Bug 380595 - Need unittest for nsIIdleService r=roc@ocallahan.org (Robert O'Callahan) sr=neil@parkwaycc.co.uk (Neil Rashbrook) Tests Only. 

Bug 394299 - UI to provide access to extension options from app options cut off (also fixes bug 393945). r=mano 
Bug 283697 - Firefox Options (Preferences) panels are cropped (cut off). r=mconnor 
Bug 394666 - prefpane height is incorrect when animateFadeIn is true and some other edgecases. r=mconnor, a1.9=mconnor 
Bug 396541 - Show Passwords dialog/chrome is broken. r=mconnor, a1.9=mconnor 
Bug 395404 - Use Checkbox instead of Radio Buttons for License Agreement Prompt. r=sspitzer, a1.9=mconnor 
Bug 396121 - make Applications prefpane the right height on all primary platforms. r=mconnor, a1.9=mconnor 
Bug 370571 - Ability to install as a standard user on Vista is not available. r=sspitzer a=beltzner (blocking-firefox3) 
Bug 388192 - Remove gopher OS integration support. r=caillon, a=mconnor:blocking-firefox3 
Bug 311169 - typo in sanitize.js pref call (nsIBranch instead of nsIPrefBranch from bug 284086). r=mconnnor Fix from Frankie Robertson <frankierobertson5@googlemail.com> to Node toString (399659, r/a=me). 
Include $ and _ in identifier chars (still to do: Unicode alnums and escapes); based on patch from Frankie Robertson <frankierobertson5@googlemail.com> (399625, r=mrbkap). 
Bug 399642 - "Make parsing stricter" [p=longsonr@gmail.com (Robert Longson) r=tor sr+a1.9=roc] 

Bug 394299 - UI to provide access to extension options from app options cut off (also fixes bug 393945). r=mano 
Bug 283697 - Firefox Options (Preferences) panels are cropped (cut off). r=mconnor 
Bug 396121 - make Applications prefpane the right height on all primary platforms. r=mconnor, a1.9=mconnor Fixing bug 400150. Remove |font-family: sans-serif| from svg.css. r=tor@acm.org, sr=robert@ocallahan.org, a1.9=tor@acm.org 
Bug 403771 - Patch to fix mingw build failure in nsWindowsShellService.cpp needs approval1.9, r=robert.bugzilla, a=mtschrep 
Bug 404820 - Reading uninitialized memory in gfxFont::Measure with zero-length string [p=roc@ocallahan.org (Robert O'Callahan [roc]) r=pavlov a=blocking1.9+] 
Fixing bug 406040. Paving the way for the new NPRuntime enabled Java plugin, making Firefox able to find the new plugin when installed alongside the old plugin. Patch by kenneth.russell@sun.com, r=robert.bugzilla@gmail.com, sr=jst@mozilla.org 
Fix for bug 300639 (don't recompile xbl event handlers on every event dispatch). Patch by Robert Sayre, r/sr=peterv. 
Bug 407794, Nightlies should not override the module-specific build settings, patch by Robert Sayre <sayrer@gmail.com>, r=tmielczarek, a=schrep 
Bug 66057 - "Proxy: $http_proxy should influence proxy settings" [p=roc@ocallahan.org (Robert O'Callahan [roc]) / diane@ghic.org (Diane Trout) / ventnor.bugzilla@yahoo.com.au (Michael Ventnor) r=josh r+sr=biesi a1.9=damons] 
Bug 66057 - "Proxy: $http_proxy should influence proxy settings" [p=roc@ocallahan.org (Robert O'Callahan [roc]) / diane@ghic.org (Diane Trout) / ventnor.bugzilla@yahoo.com.au (Michael Ventnor) r=josh r+sr=biesi a1.9=damons] 
Patch from Robert Longson <longsonr@gmail.com> for _InterlockedCompareExchange on MSVC7.1 (416813, r=me). 
Bug 419096 - "getPathSegAtLength() causes nsSVGPathSegMovetoAbs to leak" [p=longsonr@gmail.com (Robert Longson) r+sr=roc a1.9=damons] 
Bug 392233 - "Text kerning broken by scaling/viewBox (space between letters or letters above each other)" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r=longsonr sr=vlad a=blocking1.9+] 
Bug 421584. SVG that is filtered does not repaint correctly when filtered elements change/move. Patch by Robert Longson longsonr@gmail.com, r=jwatt@jwatt.org, sr=roc@ocallahan.org, a=blocking1.9 
Don't do translation during table border painting.  b=421069  Patch by Robert O'Callahan <roc@ocallahan.org>.  r+sr=dbaron 
Don't do translation during table border painting. b=421069 Patch by Robert O'Callahan <roc@ocallahan.org>. r+sr=dbaron  approval1.9b5=damon 
Bug 417178 - "Google reader does not show subscribed topics in ff3b3 at certain zoom levels" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r+sr=dbaron a1.9b5=mconnor] 
Back out Robert O'Callahan's patch from bug 417178 due to mochitest failure. 
Bug 423385 - "floating parent does not size correctly with floating child using negative margin" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r+sr=dbaron a1.9b5=beltzner] 
Bug 417178 - "Google reader does not show subscribed topics in ff3b3 at certain zoom levels" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r+sr=dbaron a1.9b5=mconnor] 
Back out Robert O'Callahan's patch from bug 423385 due to mochitest failure. 
Bug 423385 - "floating parent does not size correctly with floating child using negative margin" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r+sr=dbaron a1.9b5=beltzner] 
Bug 421885 - "Google reader search results have strange red line and broken border around them" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r=vlad a=blocking1.9+] 
Bug 421885 - "Google reader search results have strange red line and broken border around them" [p=roc@ocallahan.org (Robert O'Callahan [roc]) r=vlad a=blocking1.9+] 
Back out Robert O'Callahan's patch from bug 421885 due to reftest failure. 
Bug 382392 - "FF3 20070528: scrolling non-fixed-pos content when fixed-pos content present is extremely sluggish" (Windows fix) [p=roc@ocallahan.org (Robert O'Callahan [roc]) r=vlad a1.9=schrep] 
Back out Robert O'Callahan's patch from bug 382392 due to crashes. 
Bug 413937 - "Please add "Can't Print" to list of Problem types" (string change only) [p=robert@accettura.com (Robert Accettura [raccettura]) ui-r=beltzner pending-a1.9=string-freeze] 
Bug 392137 - "Retention: take over user defaults during install on Win32" (string change only; fixing typo) [p=robert.bugzilla@gmail.com (Robert Strong [rob_strong]) r+a1.9=beltzner] 
Bug 413937 - "Please add "Can't Print" to list of Problem types" [p=robert@accettura.com (Robert Accettura [raccettura]) r+ui-r+a1.9=beltzner] 
Bug 384090 - [GTK+] incorrect logical resolution for converting font sizes in pt, etc. Get the actual resolution used by GTK+/X instead of a best-guess based on screen dimensions r=Behdad Esfahbod, Owen Taylor sr=Robert O'Callahan a=Damon Sicore 
Bug 431703 - "Crash [@ nsXMLContentSink::HandleEndElement] setting innerHTML with SVG, onload" (null check) [p=longsonr@gmail.com (Robert Longson) r+sr=bzbarsky a1.9=beltzner] 
Make gfxImageSurface clear allocated surface data. r=vlad 
Add 2-axis Scale, operator-, and Contains to gfxRect. r=vlad 
Add Width/Height/GetDataSize getters to gfxImageSurface. r=vlad 
Remove unused virtual functions. r+sr=tor 
Allow floats to be placed on the current line even after nonzero-width inline content has been placed. Fixes an Acid3 layout bug. r+sr=dbaron 
Bug 402509. Simplify Thebes-using logic in nsDisplayOpacity::Paint. r+sr=vlad 
Bug 403132 – DTrace function probes are double-counting invocations. Patch by Andrew Sutherland and Robert Sayre. r=ted.mielczarek. 
Merge commit for bug 403132 
Support system proxy settings on OS X, fixing bustage (bug 125995) 
Support system proxy settings on OS X, fixing bustage (bug 125995) 
Support system proxy settings on OS X, fixing bustage (bug 125995) 
Backing out text-shadow due to Mac issues 
Backing out text-shadow due to Mac issues 
Backing out text-shadow due to Mac issues 
Backout changeset 1f599577eca2 (bug 432525) due to mochitest failures 
Bug 438519. Make DocumentType.internalSbuset return null when there was no internal subset in the doctype at all. r+sr=sicking. Acid3 progress. 
Bug 439004. Check whether there's logically empty content already placed on the line instead of just checking whether the line has advanced horizontally. r+sr=dbaron. 
Bug 438997. DoApplyRenderingChangeToTree should not invalidate SVG frames. r+sr=dbaron. 
Bug 421436. Remove hack that gives <br> 1-appunit width in standards mode; it's no longer necessary and it can cause subtle bugs. r+sr=dbaron 
Bug 437448. New-style nsSVGString (simpler and more efficient support for animated values). r+sr=roc 
Bug 437448. New-style nsSVGString (simpler and more efficient support for animated values). (adding missed files) r+sr=roc 
Bug 437448. New-style nsSVGString (simpler and more efficient support for animated values). (removing obsolete files) r+sr=roc 
Remove DOM testcase from exclusions now that it passes 
Bug 287465. Support getSVGDocument on 'iframe' and 'object', and allow it to return on-SVG documents. r+sr=jst. acid3++ 
Backing out bug 421436 due to regression bug 439462 
Fixing testcase 
Fixing testcase 
bug 399031 - Convert xpfe prefpane to toolkit version (DOMi), p=aqualon@aquachan.de r=sdwilsh sr=Neil 
Bug 395891 - Profile Manager prevents Minefield startup from OS Integration points (links in Mails, etc). patch=Masatoshi Kimura (:emk) r=rob_strong 
Bug 434041 - text outline does not change thickness on zoom 
Bug 438867 - SVG not rendered after html hr element. r+sr=roc 
Bug 438867 - rftest for SVG not rendered after html hr element. 
Bug 438981. The canonical 'body element' must be the first 'body' child. 
Bug 344258. Move ID-content map up from nsHTMLDocument to nsDocument to prepare for using it across all document types. r+sr=jst 
Bug 344258. Make XUL use the shared ID-element map. r+sr=jst 
Mark reftest as passing 
Removing nsElementMap 
Bug 437349 - updater.exe lacks elevation manifest and fails to start when installer detection is disabled r=jmathies r=ted.mielczarek 
Backing out bug 427109 to try to fix Linux bustage 
Follow up for Bug 395891 to fix compiling with the Win2K Server 2003 SP1 SDK 
Bug 344258. Create nsReferencedElement to track which element is associated with a given ID. r+sr=jst 
Bug 344258. Create nsReferencedElement to track which element is associated with a given ID. r+sr=jst 
Bug 344258, fixing Windows bustage 
Bug 441339 - Simplify number-optional-number parsing. r+sr=roc 
Bug 441303 - jsutil.cpp does not compile with Visual Studio 2003. r=crowder 
Bug 439375. Improve Gaussian blur inner loop. r=longsonr,sr=mats 
Bug 344258. Make <use> honour changes to the ID-to-element map. r=longsonr,sr=mats 
bug 442121 - Don't call into mailnews from toolkit-makefiles.sh, r=ted 
Adding comments. 
Bug 440704 - Installer sets Firefox 3 as default browser and there's no silent unattend switch. r=ted.mielczarek 

Bug 440704 - Installer sets Firefox 3 as default browser and there's no silent unattend switch. r=ted.mielczarek use '-s' options instead of '-' for 'silent' on ed, as we know at least one machine where the former succeeds and the latter fails though both mean the same, r=ted 
bug 442484 - packager.mk doesn't work correctly with non-default topsrcdir, r=ted 
bug 442503 - Use MOZILLA_DIR for the Mozilla source dir in makensis.mk, r=ted 
bug 440932 - toolkit dlmgr should be buildable by suite, supplemantal patch for including config.mk early enough, r=ted 
Fixing bustage 
fix xpfe autocomplete bustage from bug 438861 to be really in sync with cvs 
Bug 409383 - Make dynamic changes to switch children work and fix transient switch errors. r=jwatt,sr=roc 
Bug 409383 - Enable reftests for dynamic changes to switch children. r=jwatt,sr=roc 
Bug 444690. gfxPlatformGTK::CreateOffscreenSurface should clear the surface to be consistent with other platforms. r=vlad 
Bug 367246. When the scrolled frame's width exceeds its available width (because its padding alone is greater than the available width) and the direction is RTL, the scrolled frame should be positioned with its right edge at the right edge of the scrollport. r+sr=dbaron 
Bug 444690. Scrollframes should call the superclass InvalidateInternal so that generic invalidation hooks work. r+sr=dbaron 
Bug 444692. Windowless plugin frames should use frame invalidation so that generic invalidation hooks work. r+sr=dbaron 
Bug 444689. gfxMatrix type checks should allow for an epsilon fuzz so that matrix arithmetic that works out to the identity doesn't change the type. r=vlad 
Bug 444688. Use an IsFrameOfType check instead of a frame state bit to detect whether a frame excludes ignorable whitespace children. r+sr=dbaronlayout 
Bug 416305. Part 1: restructure SVG filters to remove the image dictionary and pass Image objects along edges of the filter primtive graph; filter primitive analysis and coordination is moved to nsSVGFilterInstance. r=longsonr,sr=mats 
Bug 416305. Part 1, fixing missing file bustage 
Bug 416305. Part 1, fixing C++ bustage 
Bug 416305. Part 2: Introduce image flag to indicate that all the color channel values are equal, set it for source-alpha images, and optimize Gaussian blur when the color channel values are known to be all-zero. r=longsonr,sr=mats 
Bug 418201. Restrict filter processing to the dirty area. r=longsonr,sr=mats 
Bug 445081. Factor out code to create nsSVGUtils::ComputeNormalizedHypotenuse. r=longsonr,sr=mats 
Bug 445079. Make filters and patterns use an offscreen surface with the ability to create an nsIRenderingContext wrapper as needed, so foreignObject works in those contexts. r=longsonr,sr=mats 
Backing out changeset 6c8c95fcaf9b (bug 445079) due to test failure on Windows 
Backing out changeset 4624fef36355 (bug 445081) due to test failures on Windows and Mac 
Disabling feGaussianBlur-3.svg for investigation 
Disabling unreliable test, see bug 431833 
Bug 445081. Refactor code to use ComputeNormalizedHypotenuse ... relanding with a fix so that we don't lose precision and break SVG text mochitests. r=longsonr,sr=mats 
Bug 445268. Initialize gfxRect to empty, it doesn't do it automatically. Should fix regression from bug 416305. r=longsonr,sr=mats 
Bug 445269. Change nsRect to nsIntRect in filter implementations to make it clear these are pixel rects. Also fix a few style nits. r=longsonr,sr=mats 
Fix test to not fail randomly 
Bug 444996 - Compilation broken on various platforms. INT_MAX was not declared in this scope. r+sr=vladimir 
Bug 444664 - Unable to install due to misreporting of OS version (requires Microsoft Windows 2000 or newer). r=jmathies 
bug 444992 - NATIVE_DIST definition used in packager.mk for SIGN_CMD is crap, r=ted 
Bug 431341. Let textrun construction descend into first-letter frames so that the correct capitalization state is constructed in nsLineBreaker. r=smontagu 
Backing out bug 431341 
Bug 378028. Add an 'axis' field to DOMMouseScroll events so that we can distinguish horizontal from vertical scrolling, and use it in trees and listboxes. r=smaug,sr=sicking 
Back out bug 442972 to fix DOM Inspector (bug 447042). 
Back out bug 378028 due to mochitest failures. 
Bug 445276 - uninstall\helper.EXE does not contain a value for Original file name. r=jmathies 
Bug 447928 - HKCU protocol / file handlers won't be updated after update or during an in place upgrade. r=jmathies 

Bug 447928 - HKCU protocol / file handlers won't be updated after update or during an in place upgrade. r=jmathies Bug 447930. Preserve old timestamp on cairo-features.h across reconfigures, if it hasn't changed. r=bsmedberg 
Bug 419285. nsCSSFrameConstructor should stop looking for first-letter content after a <br>. r+sr=dbaron 
Bug 431341. Include floating first-letter text when we build textruns for a paragraph, because we want nsLineBreaker to see the text for capitalization analysis. Make sure that textrun construction for floating first-letter text uses the block as its scope. And make sure we reconstruct textruns after determining the first-letter length, so that ligatures are broken as necessary. r=smontagu 
Whitespace change to effectively clobber orange Windows test boxes 
Bug 445685 - Improve performance with large numbers of text fragments. r=jwatt,sr=roc 
Bug 448506 - support xlink:show attribute in links. r=jwatt,sr=roc 
Disabling test for bug 448534 because it causes a crash in unrelated code :-( 
Bug 447934 - Default browser check doesn't return false if the registry key doesn't exist. r=jmathies 

Bug 447934 - Default browser check doesn't return false if the registry key doesn't exist. r=jmathies Correctness fix for Bug 447934 - Default browser check doesn't return false if the registry key doesn't exist. r=jmathies 

Correctness fix for Bug 447934 - Default browser check doesn't return false if the registry key doesn't exist. r=jmathies bug 445101 - rendering does not change if systemLanguage attribute changes r=jwatt,sr=bzbarsky 
bug 445687 - Should not be able to nest text r+sr=roc 
(Thunderbird 7zSD.sfx) Bug 404609 - Update Thunderbird installer with changes made to the Firefox installer. r=standard8 
Bug 447565. Make clip-path/filter/mask use nsReferencedElement to update correctly when the element referenced by an ID changes. r=longsonr,sr=mats 
Bug 447565. Enable test 
Bug 448612. Remove incorrect assertion. r=longsonr,sr=mats 
Bug 441418. Instead of guessing when frame broke at a first-letter boundary, explicitly record that in a reflow status bit. r+sr=dbaron 
Bug 447567. Instead of brutally wiping out effects properties whenever the style context changes for an SVG frame (which wouldn't work for non-SVG frames), create a new style change hint to handle it. r=longsonr,sr=dbaron 
Bug 447567, trying to fix bustage 
Bug 447567, trying to fix bustage again 
Bug 447565. Comment-only followup. 
Bug 238072. Rework generated content support to match CSS 2.1, making generated content take the normal frame construction path so supporting any style applied to it (including 'position', 'float', etc). r+sr=bz,r=dbaron 
Bug 238072. Fixing bustage 
Bug 238072, fix test file I forgot to move 
Bug 238072, bad version of table-parts-01 was committed 
Bug 238072, disable bad test temporarily 
Bug 238072. Add missing image file for tests 
Bug 238072. Fix table-parts-01 test 
Bug 238072. Fix crashtest.list to point to the right file 
Bug 238072. Disable table-parts-01 again because it still doesn't work on tinderbox test machines :-( 
Bug 238072 backout 
Bug 448938 - Fix relative URIs in image filters and make href processing more consistent. r+sr=roc 
Bug 449323. Factor some code out of nsSVGUtils to nsSVGEffects. r=longsonr,sr=mats 
Bug 438987. Propagate background color correctly when the root element is a table. r+sr=dbaron 
Bug 438987, backing out 
Bug 438987. Propagate background color correctly when the root element is a table. Relanding with a crash fix. r+sr=dbaron 
Bug 449519. gfxFont::Measure needs to be more careful so that gfxRect::Union does not discard height information. r=vlad 
Bug 445030, win32 nsAppShell eats WM_QUIT messages, r=robert.bugzilla@gmail.com, sr=roc 
Bug 230555. Support white-space:pre-line. r+sr=dbaron 
Bug 445079. Make nsSVGRenderState able to generate an nsIRenderingContext, so that filters and other users can host foreignObject content. r=longsonr,sr=mats 
Bug 406299. Make sure we include the font ascent/descent of a soft hyphen if there is one. r+sr=dbaron 
Bug 441259. Account for trimmable width when deciding whether we can place a float on the line. Also, only try to place a float at a point where we can have a line break. r+sr=dbaron 
Bug 413048. Disable float breaking in columns. r+sr=dbaron 
Bug 406299. Make sure we include the font ascent/descent of a soft hyphen if there is one (gfx bits). r+sr=dbaron 
Bug 230555. Support white-space:pre-line (add tests). r+sr=dbaron 
Fix filename case 
Comment out new tests that are failing 
bug 302971 - Scientific notation in stroke-width doesnt work r+sr=dbaron 
bug 302971 - Remove failing ex tests (still have em test for units with e in) 
Bug 378028. Add an 'axis' field to DOMMouseScroll events and use it to distinguish horizontal from vertical scrolling. r=smaug,sr=sicking, with help from Markus Stange 
Bug 449324. When an element has a solid border, clip background painting to the padding-rect so we don't bother trying to tile a repeating background under the border area. r+sr=vlad 
Bug 441368 crashtest 
Bug 411059. Take preformatted tabs into account when computing the min and pref widths for text. r=smontagu 
Bug 449519. Make text-shadow code compute the right areas for RTL. r=smontagu 
Bug 230555. Fix tests so they're more robust and actually work on Windows. 
Bug 331088. Handle file-control frame being torn down while the dialog is up. r=smaug,sr=mats 
Bug 449327. nsSVGObjectFrame::GetBBox should account for canvas TM. Also add some simple bbox tests even though they don't test this bug. r=longsonr,sr=mats 
followup kinda-typo fix to bug 443370, use correct index to fix error when doing async autocomplete updates, r=Neil over IRC, NPOTB for FF 
Bug 450164: remove leftovers from DOMi removal from installer.nsi. r=robert 
Bug 118704. Get the document title from the DOM instead of storing it as a string in the document. r+sr=jst 
Bug 118704. Get the document title from the DOM instead of storing it as a string in the document. r+sr=jst 
Bug 450670. Avoid conflicts in textframe state bits, urk. r=smontagu 
Bug 423823. Clip overflowing background when tbody is scrollable. r=fantasai,sr=dbaron 
Bug 447739. When a uniform-color area is bitblitted to a new location while scrolling, the intersection of its old and new areas does not need to be invalidated. r+sr=dbaron 
Backing out bug 118704 to try to fix Windows leak orange 
Adding general application update service tests from Bug 446527 without the Makefiles since the tree is not green - NPOB for now. r=dtownsend, r=bsmedberg 
Bug 448804 – In <test_384370.js> and <test_placesTxn.js>, 'Exception / NS_ERROR_FILE_ACCESS_DENIED / nsIFile.remove / head_bookmarks.js / cleanUp', with debug build. r=dietrich 
Adding general application update service tests from Bug 446527. r=dtownsend, r=bsmedberg 
Bug 450495 - Make foreignObject a mandatory part of SVG. r+sr=roc 
Bug 450495 - Bustage fix 
Bug 450495 - Bustage fix 
Bug 238072. Make generated content take the normal frame construction path. Relanding with changes so that counter and quote nodes are initialized after their frames are available, more like the old code. r+sr=dbaron,bzbarsky 
Bug 118704. Get the document title from the DOM instead of storing it in the document object. Relanding with hopeful leak fix. r+sr=jst 
Bug 446527 - major update not offered when some language packs are installed. r=dtownsend, r=bsmedberg 
Followup to bug 446527 - make %LOCALE% optional, r=dtownsend,bsmedberg 
Bug 450790 - Remove testnsUpdateService.js. r=dtownsend 
Bug 451168 - "Borders around folder icons in directory listings (e.g. when viewing FTP sites)" [r+sr=bzbarsky] 
Bug 446529 - "Disable discretionary ligatures on Mac" [r=vlad] 
Bug 449666 – TM: Assertion failure: JSSTRING_IS_FLAT during trace recording. r=brendan 
Bug 449972 – TM: give xpcshell a JIT switch 
Bug 449978 – TM: trace some more builtins for string-validate-input 
Bug 451580, fix string split assertions and return values. Tests fail with JIT on for other reasons, it seems. r=shaver 
Turn on the JIT for tracemonkey mochitests. 
Turn off the JIT during mochitest for now. 
Bug 451669. Bustage fix for linux canvas build. Patch by Mike Kaplinskiy. r/sr=jst. 
bug 380786 - clean up xpfe/ after suite moving to toolkit, r=ted sr=Neil 
bug 450948 - Remove Mac case from AUTOCONF detection code - simple, slightly hacky, new fix, r=ted 
Bug 451164 - Update error messages are often incorrect. r=dtownsend 
Bug 451256. Fire DOMTitleChanged when a new document loads, even if it has no title. r+sr=jst 
Bug 451028. Don't offset the exclusion region, it's in non-moving coordinates. r+sr=dbaron 
Bug 450350. Don't let the tiled vs single-image drawing path choice depend on the dirty area, since the rendering results can differ. r+sr=dbaron 
Bug 379616. Fix offset tests to not assume getComputedStyle()['width'/'height'] works on SVG elements 
Backing out changeset 043ea4ef249c to try to fix failed mochitests on Windows and Linux 
Bug 451692 - updater.exe debug exception - dbgheap.c Line 1279 _CrtlsValidHeapPointer(pUserData). r=bsmedberg 
Remove bogus log statement added by Bug 451164 
bug 380786 - clean up xpfe/ after suite moving to toolkit - clean up xpfe/components, r=ted sr=Neil 
bug 451909, first step: error out if builds unset MOZ_XUL_APP, r=ted 
bug 386906 - remove xpfe chrome registry, r=bsmedberg 
Bug 452174 - Make updater binary parent-pid command line arg optional. r=bsmedberg 
Bug 405257 - gUpdates.wiz is null in some cases. r=dtownsend 
Additional tests from Bug 451164. r=dtownsend 
Bug 452128 - Only try to elevate when updating from the application. r=ted.mielczarek 
Bug 452657 - Remove richview from toolkit. r=dtownsend 
Add test of (attempted) trace recording with an active call object 
Merge 
Add some tests for loops that should exit trace. 
Add tests for continue statement. 
Add tests covering division. 
Add test for more bitwise ops 
Add tests containing switch statements 
bug 450257 - Move SeaMonkey-specific files in manager/ to comm-central/suite, r=kaie 
Bug 376662. Make nsIFrame::GetOffsetTo not explicitly use views. r+sr=bzbarsky 
Bug 452567. Reorder glyph drawing order for RTL to make it consistent with LTR. r=vlad 
Bug 452747. Make reftest robust against subpixel rendering on Mac. r=dholbert,sr=dbaron 
Bug 390746 - Software Update displays 'AUS: Update XML File Malformed (200)' if system clock is off. ui-r=boriss, r=dtownsend 
Test for Bug 390746 
Bug 453693 - updater.exe sometimes creates the lock file in the wrong directory. r=ted.mielczarek 
Backing out changeset 1bdd5da49865 (for bug 376662) due to regression bug 453661 
bug 453713 - add shell.checkDefaultClient pref to testing profile, r=ted 
Bug 353177 - Details link has ugly focus while downloading an update. r=dietrich 
Bug 446529. Disable uncommon ligatures on Mac/ATSUI. Make sure we don't enable common ligatures if ATSUI has disabled them by default for this font (e.g. for Courier). r=vlad 
Bug 442291. Avoid the bitblit scrolling path completely if the area to be repainted is more than half the area to scroll. The goal is to avoid the synchronous repaint required by bitblitting (synchronicity is required to minimize the delay between blitting and repainting --- the intermediate display is very ugly). Also, make scroll-induced full-view repainting DEFERRED, so that it's less urgent and more apt to coalesce, so we drop frames more easily when painting can't keep up during scrolling. r+sr=bz 
Bug 422283. Make sure that an overflow container's next-in-flows are always also overflow containers. This means that when we convert a normal frame into an overflow container, we need to scan through its next-in-flows and make them overflow containers too. r=fantasai,sr=mats 
Bug 376662. Convert nsIFrame::GetOffsetTo to not use views. We need to ensure that for popups and scrollframes, views and frames are kept in sync at *all* times. Also fixes bugs in tests for NS_FRAME_NO_MOVE_FRAME. r+sr=bzbarsky 
Bug 243519. Rework root element frame construction and the CanvasFrame so that the CanvasFrame is an abs-pos container and the root element frame can be positioned. r=fantasai,sr=dbaron 
Bug 243519. Fix the crashtest so that it doesn't bomb out with a JS error without completing the actual test. And make it (and Acid3) actually pass without screwing up the frame tree. 
Backing out changesets 75919d3eb3d0 and 14ce7619e9c1 due to test failures 
Bug 451664. Tests for bugs 435425 and 438519 fail a lot. 
Bug 451664. 438519 should be innocent, reenable the test. 
Bug 243519. Rework root element frame construction and the CanvasFrame so that the CanvasFrame is an abs-pos container and the root element frame can be positioned. r=fantasai,sr=dbaron 
Bug 453870 - Give app update some XPCOMUtils love. r=dtownsend 
Bug 451085 - Add updater tests for applying mar files. r=dtownsend 
[Win32] Bug 454130 - Deprecate the ini creation macros from common.nsh. r=jmathies 
[Win32]  Bug 453845 - Remove unused custom.properties strings. r=jmathies 
Add some basic correctness tests for benchmarks 
Add controlflow-recursive to correctness checks 
Add date tests to correctness checks 
bug 383833 - eliminate toolkit's mork-based history implementation, step 2: finally kill toolkit history, r=mano 
bug 451601 - kill MOZILLA_LOCALE_VERSION, main mozilla-central patch to kill xpfe-style chrome versions, r=ted sr=Neil 
bug 454513 - browser_bug453896.js fails on all SeaMonkey unit test boxes, remove event listeners added by the tests when they aren't needed any more, r=dbaron 
Bug 450340. Support SVG mask/clip-path/filter CSS properties applied to non-SVG content. r=longsonr,sr=mats 
Fix intermittent failure of Bug 451085 on Mac OS X. r=me 
Disabling test_loadflags - see Bug 454857 and Bug 421494. 
Backed out changeset ff043f7356f7 
Merge for back out changeset ff043f7356f7 - Bug 396519 
Bug 454357 - ?force=1 is appended to update url even when the url supplies params. r=dtownsend 
Marking failing tests random 
Mark failing tests with bug# 
Reftests for bug 448831. 
Add final newlines to reftests for bug 448831. 
Correct flood reftest for bug 448831. 
Disable non-working feImage reftest for bug 448831. 
Bug 455280. Distinguish pre-transform overflow area from post-transform overflow area and have nsDisplaySVGEffects use the pre-transform area. r=kschwarz,sr=dbaron 
Backing out bug 449443 (SQLite upgrade) 
bug 453840 - make it possible to create files in the final place for releases, r=ted 
Bug 454004 - Ctrl+Home / Ctrl+End don't work in Mail Compose window; r+sr=mats.palmgren 
Bug 454004. Disable tests that fail on Windows. 
Bug 454114. Avoid infinite recursion due to nsHTMLEditor::AddOverrideStyleSheet triggering a mozAutoDocUpdate that reenters nsHTMLDocument::EndUpdate. r+sr=jst 
Bug 424626. NetworkManager sometimes incorrectly tells us the machine has no network link, causing Gecko to default to offline mode. Since we can't trust NM, disable it by default. r=dcamp 
Comment out tests instead of using todo. 
Bug 450930. Fire a DOM event when painting so that content and chrome can track what's being repainted. r=smaug,sr=dbaron 
Bug 455226 - Removing the xlink:href attribute of an feImage filter does not cause it to change; r+sr=bzbarsky 
Bug 455259. Don't use access() to check if a file is writeable, since with at least some Linux kernels it will return OK for a file that will give 'text file busy' when written. Just try to open the file and take the rename/unlink path if we can't open it. r=bsmedberg 
Bug 455279. Fix mask alpha computation so that it works when the incoming gfxContext has a non-identity transform. r=longsonr,sr=mats 
Disable test that fails on Windows (bug 456323) 
Bug 454026 - Updates directory not removed on install on Vista. r=jmathies 
Turn on JIT for unit tests. 
Add check to make sure bug 452008 remains fixed. 
Hg: user: Robert Sayre <sayrer@gmail.com> 
tag mozilla-central for SeaMonkey 2.0a1 build1 
tag mozilla-central for SeaMonkey 2.0a1 release 
Fixing bustage 
Fixing bustage 
Fixing bustage 
Fixing more potential bustage 
Backing out bug 448830 
Backing out patch for bug 456027 to try to fix test bustage 
Bug 456282 - getStartPositionOfChar calculates advances in incorrect coordinate system. r+sr=roc 
Backing out bug 448830 
Backing out 454683 due to test failure 
Backing out 454683 due to test failure 
Relanding bug 433616 part 2 to see if it's the cause of a Tp regression 
Bug 455984. Rework gradient and pattern code to use nsReferencedElement and nsSVGRenderingObservers, so they observe changes to the ID-element-map properly and propagate invalidations correctly (and with simpler code too). r=longsonr,sr=mats 
Backing out bug 455984 to see if it fixed Tp crashes 
Bug 455984. Rework gradient and pattern code to use nsReferencedElement and nsSVGRenderingObservers, so they observe changes to the ID-element-map properly and propagate invalidations correctly (and with simpler code too). r=longsonr,sr=mats 
Fixing filename case bustage 
Bug 408838 - DOM binding for native JSON. r+sr=shaver 
Back out Robert Sayre's patch from bug 408838 due to test failures (changeset 2fe3cb0c9f7c). 
Bug 458068 - SVG fill="none" is broken, behaves like fill="black". r+sr=roc 
Bug 458068 - SVG fill="none" is broken, behaves like fill="black" (reftest) 
Bug 408838. Native JSON. r/sr=shaver 
Merge. 
Bug 459065. JSON space patrol. r=gal 
Bug 458959. this.JSON is enumerable. r+sr=mrbkap 
Merge. 
Fix typo in filename. 
Bug 459160 - json.cpp misuses rooting api. r=mrbkap 
Bug 309220 - SVG markers should be live to id changes in document. r+sr=roc 
Bug 458839 - Move errors.xul from update over to extensions since the add-ons mgr. is the only consumer. r=dtownsend 
Bug 453733 - Software update fails if current directory is root directory (win32 only). r=ted.mielczarek, r=bsmedberg 
Bug 453733 - Software update fails if current directory is root directory (win32 only). r=ted.mielczarek, r=bsmedberg 
Bug 458010 - textPath should use nsReferencedElement instead of nsSVGUtils::GetReferencedFrame. r+sr=roc 
Bug 458087 - Use global comma separated tokeniser now that we have one. r+sr=roc 
Bug 459497 - Remove unused code following dynamic ID work. r+sr=roc 
enable reftest for bug 455226 
Modify existing mochitest to cover bug 456282 
reftest for bug 309220 
reftest for bug 458010 
Fix mochitests for bug 437448 to only run once rather than twice 
Partial backout of Bug 453733 to fix Bug 459569 
Bug 459259 - Consolidate code for retrieving top of the JSON parser's object stack. r=brendan 
Merge. 
Bug 459300. JSON should use internal JS functions where it makes sense. r=brendan 
Merge. 
Bug 457194. Be careful when we do NS_ceil for font max-ascent/max-descent; we don't want a number that's an integer plus epsilon to round up to the next integer. r=vlad 
Bug 459218 - Wizard back and next / finish buttons have incorrect space between them (wonstripe). r=dtownsend 
Bug 459619. Add zoom support to reftest harness. r+sr=dbaron 
Bug 459619. Add zoom support to reftest harness. r+sr=dbaron. Adding new files 
Bug 428263. Don't treat continuations of blocks as 'continuations' for setting zeroEffectiveSpanBox, since they're not span-continuations which is all we care about here. r+sr=dbaron 
Bug 455988. Optimize MozAfterPaint so we never even dispatch an XPCOM event if there are no listeners. r=smaug,sr=mats 
Fixing bustage 
Revert nsprpub configure micro-change in case that caused Windows bustage 
Revert layout test changes that shouldn't have landed in the previous commit :-( 
Try to fix Windows bustage 
Fixing test for bug 442542 
Bug 459293. Sites not loading - redeclaration const JSON error on console. r=brendan 
Bug 459759 - Crash if markers contain paths. r+sr=roc 
Bug 459512. When painting an SVG source image for a filter, translate the dirty rect into device coordinates relative to the outer-SVG. Also, don't use an override-CTM to transform into filter space, just apply the transform to the gfxContext. r=longsonr,sr=mats 
Bug 453103. Make reftests robust against Mac subpixel rendering quirks. r+sr=dbaron 
Bug 460333. Implement toJSON for primitive wrapper classes. r=crowder 
Merge. 
Bug 460210 - Various frames should call GetMatrixPropagation() instead of using mPropagateTransform. r+sr=roc 
Bug 460551 - overrideCTM is no longer necessary. r+sr=roc 
Bug 421662. Remove unused files. 
Backing out unwanted configure change, sigh 
Bug 459758 - effects on outer svg frames only work accidentally. r+sr=roc 
Comment only change - Bug 460698 - Confusing undocumented code in uninstaller.nsi - un.leaveWelcome. r=me 
Bug 460240. Need to repaint the overflow area if the overflow area changes, the frame has effects/outline/box-shadow, and the frame size has not changed. r+sr=bzbarsky 
Bug 459086. Use XUL GetBorderAndPadding method to avoid assertion. r+sr=dbaron 
Bug 335266 - If update of Thunderbird was paused, incorrect message is shown; r=robert.bugzilla 
Bug 324121 - (EM Patch) Extensions with available updates for the next version of the app should not be listed in app update extension will be disabled warning. r=dtownsend 
Bug 458493 - Crash calling nsSVGEffects::RemoveRenderingObserver. r+sr=roc 
Bug 461131 - Remove unused mFilterRect variable from nsSVGFilterProperty. r+sr=roc 
Bug 461324 - Simplify NS_STATE_SVG_NONDISPLAY_CHILD in foreignObject. r+sr=roc 
Bug 459883 r+sr=roc 
Merge from mozilla-central. 
Merge from tracemonkey. 
Bug 448603. Support direct loading of Ogg audio and video files by creating a synthetic <video> document. r=doublec,sr=bzbarsky 
Bug 458928. Render windowed Windows plugins using PrintWindow when necessary, and use gfxWindowsNativeDrawing for windowless plugins so we can draw them correctly under all circumstances. r=vlad,sr=jst 
Fixing bustage 
Bug 459953 - Some path segments have the wrong pathSegTypeAsLetter. r+sr=roc 
Bug 458928. Reparenting hack to ensure plugins are fully painted to non-screen targets is evil and probably breaking things; back it out. r+sr=jst 
Bug 460240. box-shadow style changes sometimes need a REFLOW hint, so ensure we don't return prematurely with VISUAL before we check the box-shadow styles. r+sr=dbaron 
Bug 442304. Don't try to clip table cells in %-overheight situations in quirks mode. (Basically we're just removing a quirk here.) r=bernd,r+sr=dbaron 
Fixing test for bug 385823 to not depend on clipping of %-overheight cells. 
Bug 461751 - zoomAndPan=disable prevents programmatic zoom. r+sr=roc 
Bug 460946 - getBoundingClientRect on rotated svgElement with stroke is incorrect. r+sr=roc 
Bug 458487 - 'Rework image snapping logic'. r=vlad+joedrew, sr=dbaron 
Bug 462307 - 'Speed up columns case hit by HTML5 spec'. r+sr=dbaron 
Bug 462972 - 'Fix nsChangeHint comparisons'. r=bernd, sr=dbaron 
Backing out changeset dc1aff36a411 (bug 462389) to try to fix bustage 
Back out changeset b83d3c8ac166 (bug 460811) to try to fix bustage 
Back out changeset b83d3c8ac166 (bug 460811) to try to fix bustage ... re-adding removed files 
Resurrect nsAutoJSObjectHolder.h 
Bug 324121 - Extensions with available updates for the next version of the app should not be listed in app update extension will be disabled warning (AUS patch). r=dtownsend ui-r=beltzner 
Bug 456330. Fix translation to account for top/left padding. r=vlad 
Bug 463204. Be more careful about snapping the anchor point. We must transform the anchor point to match the snapping of the fill rect before we actually snap it to device pixels. r+sr=dbaron 
Bug 418740. Make sure that mouse events are reported to windowless plugins relative to the widget we associated with the plugin. r+sr=jst 
Bug 462778. Fix JSON top crash. r=brendan 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central into tracemonkey. 
Merge mozilla-central to tracemonkey. 
Add debug logging to track tinderbox problem... 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Mochitests for bug 459953 
Bug 463217. Don't let nsLayoutUtils::DrawSingleImage/DrawSingleUnscaledImage do any tiling, restrict their drawing to the single tile. r+sr=dbaron 
bug 456373 - create a makefile target for packaging a source tarball, r=ted a1.9.1b2=beltzner (actual code is NPOTDB) 
Bug 454964: |make check|: test_0110_general.js reports leak 1. r=mconnor, a1.9.1b2=beltzner 
Bug 313057: Automatic updater downgrades/overwrites browser version when an older/identical version is in the queue. r=bsmedberg, a1.9.1b2=beltzner 
Disable speculative parsing to check regression. bug 464495. 
Turn spec parsing back on. 
Merge m-c to tracemonkey. 
Bug 464765: Update wizard back button displayed on Linux when it shouldn't. r=mconnor, a1.9.1b2=beltzner 
Backed out changeset 30cc5a85b411 
Backed out changeset 73fb44504b62 
Merge 
Backed out changeset bbbcc5a1eb5e 
Merge 
Bug 464811. Tweak the anchor point snapping algorithm again. This time we have a proof that the resulting snapping algorithm guarantees the subimage rectangle intersects the logical source rectangle. r+sr=dbaron 
Backed out changeset 0ced86fbf8ed (reftest failures) 
Bug 464811. Snap the anchor point to pixels using a method that guarantees the source rect and the subimage rect intersect. r+sr=dbaron 
Backing out bug 463339 due to Mac build failure 
Backed out changeset ab6c0cda36b2 to fix test failures 
Backing out bug 451958 to fix test failures 
Bug 444375. Take TEXT_HAS_TRAILING_BREAK into account when computing min-width for text which has entirely collapsed away. r=smontagu 
Bug 454959. When a document is in a floating view, floating-ness doesn't propagate across view manager boundaries. So use the display-root view as the place to invalidate from. r+sr=bzbarsky 
Bug 454751. Use a fresh nsFrameConstructorState when we construct new frames in ReconstructDocElementHierarchyInternal, so internal state pointing to deleted frames is flushed out. r+sr=bzbarsky 
Bug 460012. When recreating frames for a generated content node, reframe the nearest non-generated-content ancestor. r+sr=bzbarsky 
Bug 463952. Expand destArea according to CSS background-repeat *before* intersecting with bgClipArea, instead of after. r+sr=dbaron 
Bug 430332. Lazily rebuild transformed-textruns, deferring rebuild until after the linebreaker has finished analysis. r=smontagu 
Bug 455826. Look into overflow-lists of inlines to find text when we're building textruns. r=smontagu 
Bug 459968. Fix some integer overflows in the style system and in min/pref width computation for text. r+sr=dbaron 
Bug 462968. Sanitize block height. r+sr=dbaron 
Bug 463292. Make text-shadows in XUL nsTextBoxFrames get the correct overflow area and actually paint when only the overflow area is intersected. r+sr=dbaron 
Bug 464791 - Add ifdef MOZ_UPDATER for the app update preferences UI and Help menu. r=mconnor, approval1.9.1=mconnor 

Bug 464791 - Add ifdef MOZ_UPDATER for the app update preferences UI and Help menu. r=mconnor, approval1.9.1=mconnor 
Merge bug 464791 for Rob Strong. Bug 455826. Look into overflow-lists of inlines to find text when we're building textruns. r=smontagu 
Bug 459968. Fix some integer overflows in the style system and in min/pref width computation for text. r+sr=dbaron 
Bug 462968. Sanitize block height. r+sr=dbaron 
Bug 463292. Make text-shadows in XUL nsTextBoxFrames get the correct overflow area and actually paint when only the overflow area is intersected. r+sr=dbaron 
Bug 464364 - Multiple attempts to write permission test file (should cache canUpdate). r=dtownsend, approval1.9.1=beltzner 
Bug 457398. Don't treat empty lines as the first line for text-indent or first-letter/first-line purposes. r+sr=dbaron 
Bug 462940 - check for existing ProgressListener before adding one in updates.xml. r=dtownsend, approval1.9.1=beltzner 
r=roc, sr=roc, a1.9.1=beltzner 
Bug 442633. Detect removal of href attribute on SVG <use> elements. r=longsonr,sr=mats 
Bug 455826. Don't reconstruct textruns just because we deleted an empty nsContinuingTextFrame. r=smontagu 
Bug 467283. Ignore dirty rect when doing any image resampling --- it will lead to artifacts. r+sr=dbaron,r=vlad 
Bug 458898. Fix intrinsic sizing of windows by ensuring CanvasFrame converts an NS_UNCONSTRAINEDSIZE desired height to its actual desired height. r+sr=dbaron 
Bug 465996. Use Ellipse instead of Arc to draw circles. r+sr=roc 
Merged 
Backed out changeset 3f5a6da199fc 
Backed out bug 464158 to fix failure of test_videocontrols.html ... CLOSED TREE 
Bug 465475. Stop test iterations well in advance of reftest timeout. Test-only change. 
Bug 465928. Avoid SetInvalidateTextRuns being called by nsBlockFrame::DoRemoveFrame when we're just deleting empty continuation frames. r+sr=dbaron 
Bug 463307. Convert to float a bit earlier to avoid integer overflow. r+sr=dbaron 
Bug 437704. Always union fill extents with stroke extents instead of just relying on stroke extents, in case they turn out to be empty. r+sr=roc 
Followup comment change for bug 465928. 
Bustage fix for bug 463307 
Backed out changeset 357d1c01bde3 
Backing out bug 458898 to try to fix Windows orange 
Backed out changeset aaeb20c61fca 
Backing out bug 455826 to try to fix Windows orange. 
Bug 466576 - Null deref [@ nsSVGTransformList::GetValueString] after failed appendItem; r+sr=roc 
Bug 464374 - Crash [@ nsSVGUtils::MaxExpansion] with svg filter, mathml; r+sr=roc 
bug 453840: make it possible to create files in the final place for releases - create a MOZ_PKG_NAME for the in-package dir. r=tmielczarek 
Bug 463064 - Use covered region to minimise foreignObject painting r+sr=roc 
backout bug 465996 as it only works in restricted circumstances. 
bug 466302 - remove superfluous inclusion of global/skin in editMenuOverlay, r=gavin 
Bug 465913. Don't need to call BreakFromPrevInFlow in nsContainerFrame::DeleteNextInFlowChild. r+sr=dbaron 
Bug 467987. Speed up reftests by caching the rendering of pages which will be needed again. r+sr=dbaron 
Bug 451117. Remove obsolete assertion. r+sr=bzbarsky 
Bug 466268. Fix cairo-win32 bug that needed MOD but was using the C % operator. r=jmuizelaar 
Bug 467518. Interpret gfxBlur's border radius properly, as the actual boundary of the shadow, not the box-blur size. r=vlad 
Bug 463242. Ideographic spaces should not get CSS word-spacing, but nonbreaking spaces should. r+sr=dbaron 
Bug 467987. Address additional review comment, remove redundant initialization of gCanvas1/gCanvas2. 
Merged to trunk 
bug 448729 - Remove xpfe/components/history from trunk, r+sr=Neil 
Bug 468413. Make test_bug335816.html reliable by using onload instead of setTimeout. r=smontagu 
Bug 458898. Make sizeToContent work for HTML documents by ensuring CanvasFrame converts an UNCONSTRAINEDSIZE computed height into its actual desired height. r+sr=dbaron 
bug 468341 - Some toolkit places tests fail on SeaMonkey unit test boxes - make tests mor tolerant to default prefs, non-override DOM error messages, non-existing browser-specific services and protcol defintions, r=sdwilsh a=tests-only 
fix up my test bustage by removing a spurious { the review didn't catch, not sure why I did put it there, sorry. 
Bug 468753 - Startup crash in nsViewManager::ProcessSynthMouseMoveEvent; r+sr=dbaron 
Backout JOEDREW! patches for bug 468160 and bug 414259. Looks like they make mochitest leak. 
Backout JOEDREW! patches for bug 89419 and bug 393936. Looks like they make mochitest leak. 
backout bug 460548, checked in on persistent orange. 
Merge 
backout bug 428988, checked in on persistent orange. 
Merge 
backout bug 468836, checked in on persistent orange. 
Merge 
Merge m-c to tracemonkey. 
Merge m-c to tracemonkey 
Merge tracemonkey to m-c 
Merge tm to m-c. 
Bug 448243. When nsSVGFilterInstance needs to create a dummy input image, create one of the right size. r=jwatt,sr=mats 
Bug 448600. Add prefs to disable Ogg and WAVE backends. r=doublec,sr=bzbarsky 
Bug 455314. RemoveIDTargetObserver doesn't need to do the full GetElementByIdInternal because we don't need or want to set up an mIdentifierMap entry if no entry is found for the ID. r+sr=jst 
Bug 455314. nsSVGRenderingObserver::GetReferencedFrame shouldn't try to look up the frame on a cache miss, if we're currently destroying frames. r+sr=mats 
Bug 468702. Fix tests for bug 466395 that fail due to Mac subpixel rendering. r+sr=dbaron 
Bug 468690. Remove leftover assertion that's no longer needed after the fix for bug 460012. r+sr=bzbarsky 
Bug 459613. When we tear down a textcontrol frame, tell its editor that we're blowing away the frame tree so it doesn't try to clear the spellcheck selection, which not only wastes time but does GetPrimaryFrame for during frame destruction which is a no-no. r+sr=mats 
Bug 430332. Defer nsTransformingTextRun::RebuildTextRun until the linebreaker has completely set up the break and capitalization data on the transformed text run. r=smontagu 
Backed out changeset 0cb24a4bcd9b 
Backing out patch for bug 430332 to fix mochitest failures 
Bug 463934 - text bounds do not account for position properly; test_bounds.html fix; r=roc 
bug 448729 - Remove xpfe/components/history from trunk, supplementary cleaning up toolkit-makefiles.sh, r+sr=Neil 
bug 468337 - Remove "what's related" module, r=Mnyromyr sr=Neil 
bug 468337 - Remove "what's related" module, supplementary patch for OS/2 and RDF cleanup, r=pweilbacher sr=Neil 
[Seamonkey Win32] Add manifest to 7zSD.sfx. r=mcsmurf 
Bug 449149. Implement the 'controls' attribute for audio elements. r+sr=bzbarsky,r=dolske,r=enndeakin 
Bug 469247. Implement 'canPlayType' API for video/audio elements. r=doublec,r+sr=bzbarsky 
Bug 467150. Don't clear textruns just because we destroy an empty nsContinuingTextFrame. r=smontagu 
Bug 467487. Use a better and more explicit check for the case where a text frame's textrun doesn't map enough text for the frame. r=smontagu 
Bug 441780. Fix radial gradient clamping to be more aggressive. r=jwatt,sr=roc 
Bug 430332. Defer nsTransformingTextRun::RebuildTextRun until the linebreaker has completely set up the break and capitalization data on the transformed text run. r=smontagu 
Bug 449142. Draw video with the same aspect ratio as the underlying media, centered within the video element's CSS box. r=doublec,sr=dbaron 
Bug 468991. Move GetVisibleArea call to avoid using a stale visible area. r+sr=dbaron 
Backed out changeset 8ab5a111e00b to fix orange 
Backing out bug 449142 to fix orange ... looks like the reftest aren't working on some platforms 
Backed out changeset dcd1ad7a918e 
Backing out bug 430332 to try to fix reftest and Tp crashes 
Backed out changeset 70b57b58afe2 
Backout bug 464376 to fix orange 
Backed out changeset 1a4e7f55120d 
Backed out changeset b873bd70913f 
Backout bug 464376 due to test failures 
[Sunbird] Bug 470197 - Update installer. r=ctalbert 
Bug 470124 - Crash [@ nsSVGUtils::GetRelativeRect]; r+sr=roc 
bug 469331 - [SeaMonkey] test_bug458898.html fails, mark the test todo on SeaMonkey for now, r=dbaron 
Bug 460669 - Installing Firefox writes incorrect file paths to DefaultIcon and open command. r=jmathies 
bug 469593 - test_423060.xul fails on SeaMonkey, r=gavin 
bug 469331 - [SeaMonkey] test_bug458898.html fails, make the width test function always ok on Windows, r=dbaron 
Backed out changeset f682453c06d0. Failing scriptaculous unit tests, doesn't build on windows or mac ppc. 
Bug 423231. bustage fix. 
Merge m-c to tracemonkey. 
Merge m-c to tracemonkey. 
Ho ho ho, it's a lump of hg coal. Merge. 
Bug 469203. Don't try to make toplevel HTML documents transparent, it just doesn't work and the window can disappear in a mysterious way. r+sr=dbaron 
Bug 458296. When a block doesn't carry out the bottom-margin of its children, add that bottom-margin to its overflow area. Also, add the bottom-padding of a scrolled block to its overflow area. r+sr=dbaron 
Bug 449142. Scale video so that it fits in the content-box of the element and has the same aspect ratio as the video source. Also adds some Ogg video reftests. r=doublec,sr=dbaron 
Bug 458296 --- fix reference test name 
Merge. 
Mergre mozilla-central to tracemonkey. 
Bug 318855 - 'Help/Check for Updates' should not be disabled when Firefox doesn't have write access to itself, but should perform check anyway (and, on Linux, prompt for root password). r=beltzner, approval1.9.1=beltzner 
Bug 459615 - Remove the needElevation param from WinLaunchChild. r=ted.mielczarek, r=jmathies 
Bug 318855 (string only)- followup to fix hardcoded app name. 
Merge m-c to tracemonkey. 
Bug 471367 - Change the property name WARN_UNSUPPORTED_MSG to WARN_MIN_SUPPORTED_OS_MSG. r=jmathies 
Bug 463023 - nsIAutoCompleteController::searchStatus is initialized to 0, which is not a documented constant (nsAutoCompleteController::mSearchStatus); Patch; r=gavin.sharp 
Bug 463023 - nsIAutoCompleteController::searchStatus is initialized to 0, which is not a documented constant (nsAutoCompleteController::mSearchStatus); Unit test; r=gavin.sharp 
Bug 429968. Handle situations where first-letter text detects first-letter style should not be applied, by creating a zero-length 'first letter'. r+sr=dbaron 
Bug 465448. Perform sanity check to avoid resizing a window smaller than the content area we're trying to achieve. r+sr=bzbarsky 
Bug 470911. Make the preserveAspectRatio attribute storage much simpler and make the DOM accessors use tear-offs. With help from Craig Topper. r+sr=roc 
Fix bustage for bug 470911 
Fix bustage by removing mention of non-existent test for bug 451958. 
Fix bustage for bug 470911, try harder 
Fix bustage for bug 470911, try harder^2 
Fix obvious mistake in bug 470911 as well 
Backed out changeset 23021d6ef8b2 
Back out 451958 
Backed out changeset a5587354082a 
Back out 451958 
Bug 464835 - Update prompt comes up too often - backout changes from bug 324121. r=dtownsend 
Bug 397964 - Remove nsPostUpdateWin.js. r=dtownsend 
Bug 471365. Make reftest-wait tests track invalidation via MozAfterPaint and repaint the invalid areas like normal window repaining would. This makes invalidation-related bugs testable. r=dbaron 
Disable failing invalidation+zooming test 
Disable reftests with random failures (probably) exposed by invalidation-reftest system 
Bug 470797 - The GetLongPath macro returns paths with a trailing \. r=jmathies 
Bug 472244. Flush out MozAfterPaint for previously painted areas before we go ahead and fire MozReftestInvalidate to test invalidation. Also make canvas.drawWindow take float parameters so we can more precisely specify the area to render when 'device pixels' don't match CSS pixel boundaries. r=dbaron,vlad 
Merge. 
Merge m-c to tracemonkey. 
Merge. 
Merge tracemonkey into mozilla-central. 
Bug 425981. Make first-letter frame wrapping build its own frame constructor state to ensure it's for the correct place in the frame tree. r+sr=bzbarsky 
Backed out changeset 5041ce453104 
Backout bug 456219 ... Mac tests still fail 
Bug 467481. Don't reorder the children of listboxbody frames using their ordinals. r+sr=bzbarsky 
Bug 462593. Add nsPtrHashKey<T> to XPCOM. r=bsmedberg 
Bug 440149. Don't break after empty text at the start of the line, even if we're past the available width. r=smontagu 
Bug 430332. Defer nsTransformingTextRun::RebuildTextRun until the linebreaker has completely set up the break and capitalization data on the transformed text run. r=smontagu 
Bug 399153 - Software update should support unicode strings for the UI. r=bsmedberg, r=ehsan 
Bug 324758 - Updater should use brand name string and not hardcode Firefox. r=ted.mielczarek 
Bug 472801 - Enabling updater no longer requires iconv. r=ted.mielczarek 

Bug 472801 - Enabling updater no longer requires iconv. r=ted.mielczarek bug 471886 - Make places autocomplete tests even more robust against default prefs, r=Mardak 
Bug 470182 - (Win32 only) Create separate log file for shortcuts. r=jmathies 
bug 472706 - add better profiling input for spidermonkey in PGO builds. r=ted 
bug 472813 - Remove SeaMonkey workaround for test_bug465448.xul, r=roc 
bug 464687 - --enable-tests static build bustage in thebes/test, r=vlad 
Bug 470799 - Remove deprecated macros that are no longer in use. r=jmathies 
Bug 466781 -  TM: inconsistent (0 in d) where d is a String. r=brendan 
Merge m-c to tracemonkey. 
Merge m-c to tracemonkey. 
Merge tm to m-c. 
Bug 473680. Stop crashtest 458637-1.html early (returning success) if it's running too long. 
wallpaper for bug 473721 
Merge. 
Mark new failing test 280708-1a.html as expected-fail 
Add bug number for failing test 
Disable randomly-failing progress-event test 
Disable randomly-failing progress-event test, properly 
Fix Mac bustage 
Fix Windows bustage 
Fix Windows bustage 
Backed out changeset c2f1c609bfbd 
Backed out changeset 9fa8386b1200 
Backed out changeset 8019a959aade 
Backed out changeset f34b0b9c368c 
Backout 
Backout 
Backout bug 461047 
Bug 472878. Allow nsMediaDecoder::Invalidate to UpdateMediaSize on the element even if there is no frame for the element. r=doublec 
Bug 472909. Need to call FinishSettingProperties on nsTranformedTextRuns that we create as parts of other transformed textruns. r=smontagu 
Bug 472135. Avoid re-getting the target marker frame in nsSVGMarkerProperty::DoUpdate --- that leads to infinite loops. Update things lazily instead via fake style changes. r+sr=roc 
Bug 471594. In ContentInserted, when we have an insertionPoint and we take the isAppend path, use the insertionPoint's last continuation as the place to append so we don't insert the new frames in the middle of some other content's continuation chain. r+sr=bzbarsky 
Add missing tests for bug 463830 
Backed out changeset 9246fefef1cc 
Backout bug 472135 due to Linux test failure 
Merge m-c to tm. 
Merge mc to tm. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 431473. Kill unused mozIStorageDataSet. r=sdwilsh 
Bug 471551. Avoid duplicate string storage for SVG string attributes; let nsSVGString get the baseval from the element. Also change mAnimVal to an nsAutoPtr to minimize storage in the non-animated common case. r=longsonr,sr=roc 
Bug 462593. Cancel all outstanding font loads when the presshell is torn down. r=jdaggett 
Backed out changeset fb2d014e0352 
Merged backout of bug 471551 
NPOB Bug 473348 - Checkin the modified NSIS plugin source. r=bsmedberg 
Bug 473417 - updater.exe window is blank, and doesn't close. r=bsmedberg 
Bug 466410. Ensure that videoWidth and videoHeight are valid when metadataloaded fires on Ogg videos. r=doublec 
Bug 472135. Invalidate markers using style system hints instead of doing an eager invalidation (which reacquires frames, breaking our one-shot nsSVGRenderingObservers setup). r+sr=roc 
Bug 474472. reftest harness should go back to the event loop after reftest-wait is removed and before we start checking isMozAfterPaintPending, in case reftest-wait was removed in a load event handler and that load event will unsuppress painting after the event handler has run. r=dbaron 
Fixing bustage 
Bug 474393. Fix bytes-downloaded count. r=doublec 
Reenable test_progress1 to see if it passes now 
test_progress1.html still fails, sigh 
Backed out changeset a87563d6594e 
Bug 451958 ... reverting the content-policy part to see if it alone is responsible for weird random seek failures on Windows. 
Backed out accidentally committed 192d50641f83 
Bug 451958 ... reverting the content-policy part to see if it alone is responsible for weird random seek failures on Windows. 
Merge mozilla-central to tracemonkey. 
Backout c0b2c82a524e. 
Merge m-c to tm. 
Merge m-c to tm. 
Merge tracemonkey to mozilla-central. 
Bug 466410. Make sure videoWidth and videoHeight are posted to the element before metadataloaded fires. r=doublec 
Bug 472782. Avoid infinite recursion when textPath points to a non-path. r+sr=roc 
Backed out changeset 360b4a2d0aa8 
Backing out bug 475092 due to test failure 
bug 459405 - JavaScript Test by Robert Sayre. 
Merge tracemonkey to mozilla-central. 
Bug 475885 - Error compiling uninstaller - StrCpy expects 2-4 parameters, got 6. in CreateShortcutsLog. r=mconnor 
Bug 459490 - Console error when checking for Sunbird or Thunderbird software updates 'Exception 0x80040154 (NS_ERROR_FACTORY_NOT_REGISTERED) [nsIDocShellHistory.useGlobalHistory] in browser.xml'. r=dtownsend 
Bug 475193. Only SVG frames should have marker properties. r+sr=roc 
Bug 475023. Fix DEBUG_CC compilation for nsCStringArray removal. r+sr=roc 
Bug 474700. Avoid negative-sized filter areas. r+sr=roc 
Bug 464007. Don't crash in liboggplay end-of-file path when the load is cancelled near the end of the stream. r=wiking 
Disable failing test on Linux 
Backed out changeset 7f5292b5b9e2 
Backed out changeset c7385f0a0168 
Backing out bug 475092. 
Bug 471165 - add missing test 
Merge tracemonkey to mozilla-central. 
Bug 374820 - [Mac] vertical scrollbars showing in the major update / EULA part of the software update UI. r=dtownsend 
bug 474732 - Rerunning configure causes the world to be rebuilt, r=ted 
Merge tm to m-c 
Bug 476106 (Win32 only) - Unable to get directory path for directories immediately under some symlinks. r=jmathies 
Bug 406335 (Win32 only) - Software Update for portable or secondary Firefox install overwrites primary install's registry settings. r=jmathies 
Bug 455654. Rework the download-rate, playback-rate and related statistics so they're managed by the decoders in a thread-safe way. Implement proper HTML5 readyState handling with event firing, including 'canplay' and 'canplaythrough' events and autoplay behaviour. Also changes buffering so that we buffer when we're actually about to run out of data, instead of trying to guess when to buffer based on rate estimates. r=doublec 
Bug 474669. Use reftest invalidation support to improve the SVG dynamic reftests. r=roc 
Followup to Bug 476106 (Win32 only) - Unable to get directory path for directories immediately under some symlinks. r=jmathies 
Backed out changeset ba595db2b681 
Backing out bug 445087 due to reftest failures 
Bug 477000 (win32 only) - Remove installer code that adds unused registry key values. r=jmathies 

Bug 477000 (win32 only) - Remove installer code that adds unused registry key values. r=jmathies Bug 455654. Rework the download-rate, playback-rate and related statistics so they're managed by the decoders in a thread-safe way. Implement proper HTML5 readyState handling with event firing, including 'canplay' and 'canplaythrough' events and autoplay behaviour. Also changes buffering so that we buffer when we're actually about to run out of data, instead of trying to guess when to buffer based on rate estimates. r=doublec 
Bug 472950. Restrict the lazy-parent-pointer optimization so it isn't used if we already have child frames. r=dbaron 
Bug 476771. 'load', 'emptied' and 'ended' events should be asynchronous as per spec; it's safer anyhow. r=doublec 
Backed out changeset a142df653655 
Backing out bug 455364 
Bug 471898 - In Tools > Options > Privacy: if sanitize on shutdown is off settings... button should be disabled. r=gavin 
Tests for Bug 473417 - updater.exe window is blank, and doesn't close. r=ted.mielczarek 
Fix Linux and Mac compiler warnings for Bug 473417 tests 
Followup to fix more compiler warnings for Bug 473417 tests 
Fix error running tests for bug 473417 on Thunderbird Mac tinderbox 
Bug 476489 - Remove unused virtual methods from nsSVGFilterElement. r+sr=roc 
Test only fix - Bug 477577 - Encoding errors compiling TestAUSReadStrings.cpp 
Bug 459666. GetReferencedFrame should bail out if we've destroyed the frame tree while reconstructing frames for the entire document. r+sr=bzbarsky 
Merge mc to tm 
Didn't mean to disable mandelbrot 
Fix bustage from Bug 476873 
Merge tm to m-c 
Merge. 
Bug 468771. Make sure to reflow the last column of a column-set if we're changing its height to be unbounded; it needs to pull all the content from the extra column, if there is one. r+sr=dbaron 
Bug 469272. Get rid of mPlayRequested since it's not needed; just use mPaused to remember whether we should be playing or not, if play() is called before the stream is loaded. r=doublec,r=kinetik 
Bug 476811. Fire 'waiting' event when the decoder starts buffering. r=doublec 
Bug 476176. Avoid potential deadlock warnings by not calling 'Available' on the media stream when checking whether to exit buffering; instead we can use our internal position counters. r=doublec 
Bug 477996 - scale transforms are not serialised correctly. r+sr=roc 
Reftest for bug 477996. 
Bug 456895 - Error: Uncaught Exception [@ nsIShellService.isDefaultBrowser][@ delayedStartup] (GetShortPathNameW fails due to permissions). r=mconnor 
Bug 468197 - Simplify / automate the addition of the pre-release suffix string (e.g. Alpha 1, Beta 2, etc.). r=mconnor 
Bug 475343. If the region to paint is too complex, just use its bounding box. Mac changes. r=joshmoz 
Bug 475343. If the region to paint is too complex, just use its bounding box. Windows changes. r=vlad 
Fixing bustage 
Bug 477908 - Set a smaller value for DOWNLOAD_BACKGROUND_INTERVAL for non official builds. r=mconnor 
Merge mc to tm 
Bug 459161 -  Process first argument to JSON stringify and parse methods as specified by ES3.1. r=shaver 
Merge tm to m-c. 
Bug 478195 - '[Mac] Same-thread deadlock with trace-malloc (causing random red on OS X 10.5.2 mozilla-central leak test build)'. r=dbaron. 
Followup to Bug 468197 - also add the version and not just the Alpha / Beta string. r=mconnor 
Backed out changeset a2f0465c9dc3 
Back out bug 477732 due to Mac test failure. 
Merge tm to mc 
Bug 479389 - Incorrect quoting when calling GetLongPath macro. r=jmathies 
Bug 361920 - Incorrect unit conversion for SVGLength created through createSVGLength. r+sr=roc 
Bug 406646. Make sure to only search *visible* popups for mouse event targets. r=enndeakin 
Bug 472776. Don't accidentally clear TEXT_IN_TEXTRUN_USER_DATA after we just set it. r=smontagu 
Bug 473337 - Refresh the updater application icon; Linux part; r=(robert.bugzilla + ted.mielczarek) ui-r=faaborg 
Bug 479361 - Replace hack to get available space in CheckDiskSpace with GetDiskFreeSpaceExW. r=jmathies 
Unused string removal on trunk only for Bug 468197 - Simplify / automate the addition of the pre-release suffix string (e.g. Alpha 1, Beta 2, etc.). r=mconnor 
Bug 476327 - Updater window title should be Firefox Update. r=mconnor 
Merge m-c to tracemonkey. 
Bug 465371 -  Native JSON stringification aborts on functions and xml but returns JS_TRUE. r=shaver 
Merge tracemonkey to m-c. 
Merge. 
Bug 479968 - CreateSVGNumber should create a number initialised to 0. r+sr=roc 
Bug 476817 - Optional credit for NSIS team in about:licence. r=gerv 
Merge tracemonkey to m-c. 
Bug 236107 (Windows only fix) - wrong background for caption in groupbox. r=mconnor 
Bug 480053 -  Fix z-ordering of scrollbars to match Webkit/IE8. r+sr=dbaron 
Bug 479936 - Correctly handle sizing of video elements 
Bug 480079 - Move comm-central 7zSD.sfxes out of mozilla-central (Thunderbird, SeaMonkey, and Sunbird). r=philringnalda, r=mcsmurf, r=mschroeder 
Backout patch for bug 361920 
Merge tm to m-c. 
Bug 464159 - Quickstubs leaks IIDs. r=jorendorff 
Merge. 
Backout out patch for Bug 463256. 
Remove test for backed out patch. 
Bug 459161 -  Process first argument to JSON stringify and parse methods as specified by ES3.1, part 2. r=jorendorff 
Check where we're calling JSON functions for a few runs. Temporary debug stuff. 
Merge. 
Take out printfs. no relation to orange 
Bug 476374 - JSON.parse does not support reviver argument as defined in spec. r=jorendorff 
Merge tm to m-c. 
Bug 481697 - TextRunWordCache::MakeTextRun: Mismatched free() / delete / delete []; r=vladimir 
Bug 470653 - nsSVGElement::AfterSetAttr should probably use insertionParent, not insertionParent of the bindingParent. r+sr=roc 
Merge m-c to tm 
bug 449666 - JavaScript Test by Robert Sayre. 
Merge tracemonkey to mozilla-central. 
Fix test bustage from bug 482349. r=jorendorff 
Merge m-c to tm. 
Merge tracemonkey to mozilla-central. 
Backout patch for  Bug 465158 due to Ts regression. 
Merge. 
Merge tracemonkey to mozilla-central. 
Bug 479946 - '../removed-files: No such file or directory' in L10n installer logs. r=ted.mielczarek 
Bug 476336 -  Remove check for InfoText from readstrings.cpp. r=ted.mielczarek 
Bug 390734 - groupboxes need native theming on Windows. ui-r=faaborg, r+sr=vlad 
Do things in a different order. Bug 482861. r=jwalden 
Merge tracemonkey to mozilla-central. 
Bug 482899 - Don't call the reviver function when the JSON parse fails. r=jwalden 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Backout patch for Bug 480132. Debug only nit fix busts static analysis compile. 
Merge mozilla-central to tracemonkey. 
Bug 483439 - text with stroke and fill causes crashes. r+sr=roc 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge 
Bug 476062. Author-applied 'box-shadow' should cause elements to drop their native look. r+sr=dbaron 
Bug 480345. Handle painting of background images on pages which have no in-flow content. r+sr=dbaron 
Bug 483765. Remove incorrect scaling when painting non-SVG content with an SVG filter, so such content renders properly when zooming. r=jwatt 
Bug 483841. Animated background images on visibility:hidden elements shouldn't cause any painting. r+sr=dbaron 
Bug 482938. nsPipe should create and destroy monitors using nsAutoMonitor so the potential-deadlock detector doesn't get confused. r=bsmedberg 
Merge tracemonkey to mozilla-central. 
Bug 481703 - Use python to create pre release suffix. r=bsmedberg 
Bug 483688 - Modify Firefox Installer to Incorporate Feedback Form. r=jmathies, ur-r=beltzner 

Bug 483688 - Modify Firefox Installer to Incorporate Feedback Form. r=jmathies, ur-r=beltzner Bug 484013 - Unknown content type dialog cut off. r=dao 
Bug 341749 - 30% cpu usage check for updates while window dialog is up. r=dtownsend 
Bug 483327 - Options window is too tall after the landing of bug 390734. r=dao 

Bug 483327 - Options window is too tall after the landing of bug 390734. r=dao Merge tracemonkey to mozilla-central. 
revert to changeset b59984b88601 
bug 484397 - SeaMonkey fails browser_nsIDownloadManagerUI.js due to missing Cc/Ci/Cr, r=sdwilsh 
Bug 484150 - support image-rendering attribute. Includes some gfx code by vlad from bug 423756 which is r=joe. The rest is r=dbaron, sr=roc 
Bug 483389 - viewportElement methods return the wrong element sometimes. r+sr=roc 
Bug 482942. Implement nsILocalFile::DELETE_ON_CLOSE. r=bsmedberg 
Bug 482942. Tests for nsILocalFile implementations. Also changes nsLocalFileUnix::MoveTo to update the object to refer to the destination, matching other platforms' behaviour. r=bsmedberg 
Bug 484761. Add README file describing test plugin behaviour. r=joshmoz 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 484374 - groupbox.collapsable needs the adjustment of margin/padding. r=dao 
Bug 484677 - Mouse coordinates in zoomed foreignObject are calculated incorrectly. r+sr=roc 
Reftest for bug 484677 
Bug 485544 - crash getting attributeType of target element of animation. r=jwatt 
Back out Bug 483723 - 'Trace string.indexOf'. It conflicts badly with mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 485030. Don't restrict BuildDisplayList's dirty rect to a child's overflow area; then we can use the passed-in dirty rect to optimize the 'ignore scroll frame' case. r=dbaron 
Bug 340571. Removing getBoxObjectFor from non-XUL documents. r+sr=bzbarsky 
Bug 484766. Clean up MathML directory structure. r=karlt,ted 
Bug 475441. Expose media strategy directly to decoders instead of proxying through nsMediaStream. r=doublec 
Bug 475441. Merge nsDefaultStreamStrategy with nsHttpStreamStrategy. r=doublec 
Bug 475441. Rename media stream classes. r=doublec 
Bug 475441. Clean up media tests to avoid opening windows or leaving them lying around. r=doublec 
Backout fix for bug 459666 
Merge tracemonkey to mozilla-central. 
Merge. 
Merge tracemonkey to mozilla-central. 
Bug 475441. Bail out a little earlier in liboggz to avoid crashing when an I/O error occurs during a seek. r=conrad 
Bug 475441. Implement media data cache. r=doublec,kinetik 
Bug 475441. Make the media cache size really small while we're running mochitests, to give the cache code a thorough workout. r=doublec 
Bug 475441. Make nsOggDecoder seek instead of reloading when asked to replay after playback has ended. r=doublec 
Bug 475441. Make nsWaveDecoder seek instead of reloading when asked to replay after playback has ended. r=kinetik 
Bug 475441. Fix tests that assume a 'playing' event will be sent when we replay after playback has ended. r=doublec 
Bug 476062. Instead of turning off -moz-appearance when an element has a box-shadow, just ignore the box-shadow. r+sr=dbaron 
Bug 484923. Test plugin should support 'window' mode on GTK2/X. r=josh,karl 
Bug 459666. Guard assertion containing GetPrimaryFrameFor so it doesn't run at a bad time to be calling GetPrimaryFrameFor. Also, nsCSSFrameConstructor::PostRestyleEvent should check mPresShell->IsDestroying() when deciding whether to drop requests, and it should drop requests silently because it's perfectly safe and correct to do so. r+sr=bzbarsky 
Backed out changeset bfc994cc639e 
Backing out media-cache, bug 475441 
Backed out changeset 53b4ee85ceda 
Backing out media-cache, bug 475441 
Backed out changeset 3d97aaee8615 
Backing out media-cache, bug 475441 
Backed out changeset c166dc4af167 
Backing out media-cache, bug 475441 
Backed out changeset b6a1093e5814 
Backing out media-cache, bug 475441 
Noting passing test due to checkin for bug 484923. 
Merge m-c to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 475441. Implement media data cache. r=doublec,kinetik 
Bug 475441. Make the media cache size really small while we're running mochitests, to give the cache code a thorough workout. r=doublec 
Bug 475441. Make nsOggDecoder seek instead of reloading when asked to replay after playback has ended. r=doublec 
Bug 475441. Make nsWaveDecoder seek instead of reloading when asked to replay after playback has ended. r=kinetik 
Bug 475441. Fix tests that assume a 'playing' event will be sent when we replay after playback has ended. r=doublec 
Bug 423756 - Support image-rendering attribute for html images and css backgrounds. r=joe,vlad sr=roc 
Bug 486365 - Should not assert on invalid content. r=jwatt 
Reftest for Bug 423756 r=roc 
Bug 476062. Don't suppress box-shadows on elements with -moz-appearance in chrome documents. r+sr=dbaron 
Bug 484921. Create TimeDuration/TimeStamp API that never rolls over and provides better typechecking than PR_IntervalTime. r=bsmedberg,cgj 
Bug 485121. Support getting native geometry data from the test plugin on Mac and GTK2/X11. r=joshmoz,karl 
Merge tracemonkey to mozilla-central 
Fix libxul test bustage 
Backout incorrectly pushed changes 
Fix libxul test bustage, really 
Backed out changeset 7c809460ad13 
Back out bug 451540 
Disabling (new) failing mochitest 
Bug 486934 - video display should take account of image-rendering CSS property. r+sr=roc 
Bug 486933 - image-rendering does not work on body or root CSS background images. r+sr=roc 
Bug 486933 - image-rendering does not work on body or root CSS background images. r+sr=roc 
Backout Bug 486933 on suspicion of causing reftest machine issues 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Bug 486933 - image-rendering does not work on body or root CSS background images. r+sr=roc 
Separation of tests, cleanup, and additional logging for Bug 465490 - Intermittent time out after test_0051_general.js: test_0110_general.js hangs randomly. 
Bug 486556. Don't rely on loadeddata firing before the document load event, per spec it might not. r=doublec 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 486933 - image-rendering does not work on body or root CSS background images. r+sr=roc 
Bug 486673. <object> elements containing video document should scale the video to fill the document. r+sr=bzbarsky 
Bug 485121. The screen coordinates for an element should be snapped to the nearest screen pixel, not rounded out, for consistency with the way we position native widgets and snap rectangle drawing. r=dbaron 
Bug 485121. Reenable test_plugin_position.xhtml 
Bug 468491. When removing the continuations of a text frame, remove them starting at the end to avoid disrupting frame invariants by removing frames from the middle of the flow. r=dbaron 
Bug 471594 crashtest 
Bug 486991. Add useful operators to TimeStamp/TimeDuration. r=bsmedberg 
Bug 486991. Convert nsMediaCache to use TimeStmap/TimeDuration. r=doublec 
Bug 486991. Convert nsMediaStream and media decoders to use TimeStamp/TimeDuration. r=doublec 
Marking tests for bug 486673 random pending further analysis 
Backed out changeset 3dea9dc659dd 
Backing out enabling of test_plugin_position.xhtml while we back out the fix for that test 
Backed out changeset b5f88bffb072 
Back out GetScreenRect fix in bug 485121 in case it caused a test failure on Linux 
Backed out changeset 994ecd62b880 
Backing out bug 475968 patch to fix orange 
Bug 486935 - feImage should support of image-rendering attribute. r+sr=roc 
Merge tracemonkey to mozilla-central. 
Bug 465490 - Intermittent time out after test_0051_general.js: test_0110_general.js hangs randomly. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 486780 -  EndUnless used in installer where EndIf should be used. r=jmathies 
Merge tracemonkey to mozilla-central. 
Bug 484579 - nsIMIMEService.getTypeFromExtension may fail unexpectedly on Windows when "Content Type" is empty in the registry; r=(robert.bugzilla + sdwilsh) sr=bzbarsky 
Bug 487346 - app update test cleanup. r=dtownsend 
Bug 485624 - Downloads in progress for previous releases should be canceled on startup instead of resumed. r=dtownsend 
Test bustage fix for bug 487346 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Test cleanup - Bug 488797 - Custom GreD directory in xpcshell tests fails on Thunderbird 
Bug 488928 - statusText is set twice in Downloader::onStopRequest. r=dtownsend 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge 
Bug 485121. The screen coordinates for an element should be snapped to the nearest screen pixel, not rounded out, for consistency with the way we position native widgets and snap rectangle drawing. r=dbaron 
Bug 485121. Reenable test_plugin_position.xhtml 
Bug 384037. Eliminate nsFrameNavigator and switch XUL splitters to using nsFrameList instead. Also add a check so that we don't crash when a splitter's parent is not a XUL box. r+sr=dbaron 
Bug 489506. Fix test so it can pass when the screen height is an odd number. r=enndeakin 
Bug 488416. The GTK2 test plugin needs to clip to its clipRect in windowless mode. r=karlt 
Fix bustage 
Fix bustage #2 
Fix bustage #3 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
fix test from bug 489443 to work on SeaMonkey, r=Mardak 
bug 316387 - make version_win.pl able to use the app version from configure vars, r=ted 
bug 316387, part 2 - actually use generic configure variables in Firefox module.ver, r=ted 
bug 316387, followup - copy changes to js/src/config as well to fix JS test bustage 
Merge tracemonkey to mozilla-central 
Bug 484176 - Support allowReorder for switch. r=jwatt,sr=roc 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey 
Merge. 
Bug 442059 -  [native JSON] allow to blacklist keys by name when encoding to JSON. r=brendan 
Merge tracemonkey to mozilla-central. 
Fix up whitespace. CLOSED TREE 
Merge tracemonkey to mozilla-central. 
Backed out changeset 836d5856f1e5 
Bug 480819. Explicitly track all elements that need to be frozen when a document enters bfcache. r+sr=jst 
Bug 488901. When an element's size changes and it has borders, we don't necessarily need to invalidate the entire border-box --- if there is no right or bottom border, and other conditions are met. r+sr=dbaron 
Bug 463350. Don't allow fieldsets to break vertically. r+sr=dbaron 
Backing out fix for bug 479852 due to regressions 
Bug 489389. Limit size of temporary surface for tiling based on current clip extents. r=vlad 
Bug 476526. Release the style context before calling LoadBindings. r+sr=bzbarsky 
Bug 487371. Fix Darwin/X11 xulrunner start script. r=bsmedberg 
Backed out changeset d917c7a63b14 
Backing out fix for bug 490175 to try to fix test bustage. 
bug 483781 - make tests that require the toolkit dlmgr UI not fail with new SeaMonkey dlmgr UI work, r=sdwilsh 
Add the editor to cycle collection.  (Bug 423233)  r+sr=peterv 
Disable test_plugin_freezing.html for now since it causes focus problems 
Merge mozilla-central to tracemonkey. 
Merge mozilla central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 491595. Use path filling instead of platform glyph rasterization at a smaller size threshold of 256 device pixels, if the backend supports native filling (which we assume will be fast). r=vlad 
Bug 492480. Unregister placeholder relationship when we destroy out-of-flow frames, instead of trying to do it earlier in many places and not always doing it right. r+sr=dbaron 
Bug 489415. Handle media streams with data from different principals in the media cache. r=bzbarsky,doublec 
Fixing bustage for bug 491595. 
Followup to bustage fix for bug 491595 
Backed out changeset eb93563530d5 
Backing out bug 489415 due to Linux test failures 
Merge tracemonkey to mozilla-central. 
merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Bug 489415. Handle media streams with data from different principals in the media cache. r=bzbarsky,doublec 
Bug 491960. Only reflow due to selection if we did or will have overflowing selection decorations. r=dbaron 
Backing out bug 492219 to fix assertion failure on leak boxes 
Merge. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Bug 476973. Don't get confused by repeated seeks in the Ogg decoder. r=doublec 
Bug 489008. Destroy anonymous content off a script-runner. r=bzbarsky 
Bug 493202. Add a layout.css.devPixelsPerPx hidden pref to control that ratio if desired. r=vlad 
Backing out bug 492225 on suspicion of causing Windows leak test fatal assertion. 
Fix test_seek5; it should not depend on reading currentTime for the first seek during the asynchronous 'seeking' event, since the second seek may well have already happened. 
Fix seeking tests to avoid false assumptions 
Bug 479863. Stop buffering media elements by default, implement 'autobuffer' attribute to control buffering. r=doublec 
Bug 479863. Add ability to close and reopen suspended streams, and recover from server-side disconnect of suspended streams. r=doublec 
Bug 479863. AdFire 'suspend' event and do correct networkState transitions when downloads suspend and resume. Also avoid firing 'stalled' while the download is suspended. r=doublec 
Relax time constraint in test_buf482461 a bit. 
Fix test_autobuffer2 to handle the case when a suspend happens when all the data is already loaded. 
Fix videocontrols test; its video resource needs to be autobuffered or we may never fire the load event... 
Fix test_media_selection.html; its video resource needs to be autobuffer so it doesn't stop loading 
Bug 493443. Set readyState to HAVE_CURRENT_DATA whenever the Ogg frame queue is empty or we're buffering/seeking, instead of trying to hardcode it based on other events like PlaybackEnded. r=doublec 
Bug 493187. Call nsOggDecoder::UpdateReadyStateForData more often so we don't fail to notice state changes, and make it smarter about examining the frame queue. r=doublec 
Bug 487659. Make sure we never pass a playback rate of 0 to the media cache. r=doublec 
Bug 493509. Don't fire 'suspend' when the resource is actually fully loaded. r=doublec 
Bug 480058. Handle non-square Theora pixel-aspect-ratio property. r=doublec 
Bug 493109. Shut down step-decode thread from the main decoder thread, instead of synchronously on the main thread at bad times. r=doublec 
Fix comment for bug 493202. 
Bug 480058. New liboggplay API oggplay_get_video_aspect_ratio. r=doublec 
Backed out changeset 49f254a4390e 
Backing out bug 480058 since it seems to have caused reftest failures on Windows 
Make test_autobuffer2.html more informative to try to narrow down the failures 
Disable test_autobuffer2.html for now, it fails a lot (bug 493692 filed) 
Merge m-c to tracemonkey. 
Backout last cset. Bug 487607 is not ready yet. 
Merge mozilla-central to tracemonkey. 
Bug 493586. JSON.parse replacer function doesn't elide object values correctly. r=brendan 
Merge. 
Merge. 
Merge. 
Bug 492420. Delay a little before playing a live stream to try to reduce the likelihood we'll have to buffer. r=doublec 
Bug 493431. When a frame has no video data, don't try to use the video time. r=doublec 
Bug 480058. Handle non-square Theora pixel-aspect-ratio property. r=doublec 
Fix test_media_selection.html to handle IDLE network states, since the cache size limit can suspend its loads 
Bug 486922. Clamp out-of-bounds seek requests. r=doublec 
Backed out changeset 4b86cbae2846 
Backing out bug 493109 on suspicion of causing crashes in linux tests 
(test only change) Bug 493805 - Additional app update test cleanup. r=me 
Bug 486275 - active-update.xml is not saved after a channel change which leaves behind cruft. r=dtownsend 
Bug 493109. Shut down step-decode thread from the main decoder thread, instead of synchronously on the main thread at bad times. r=doublec 
Re-marking object-aspect-ratio tests as random 
Fix FrameData leak (bug 463358) 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 404541 - [MSFT-7816] on Vista / Windows 7 installer does not elevate or ask to be elevated. r=jmathies 

Bug 404541 - [MSFT-7816] on Vista / Windows 7 installer does not elevate or ask to be elevated. r=jmathies Bug 491323. Allow splitters to collapse siblings that aren't XUL elements. Also fix the logic for finding the right sibling. r+sr=bzbarsky 
Bug 492213. Make video controls' statusFader status be determined by examining the element state instead of by making assumptions about what the state is when events fire. r=dolske,mconnor 
Merge. 
Bug 488936 - Store the install locale in its own file. r=bsmedberg, r=ted.mielczarek 
Followup fix for Bug 488936 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Bug 475110. Don't try to handle Wave files loaded via links or <object> using our Wave codec, since there are Wave formats we don't support that are actually used in the wild. r=doublec,a=beltzner 
Bug 494336. In DECODER_STATE_DECODING state, if mBufferExhaused is set then stop waiting for the next frame to become available. r=doublec 
Since test_load.html waits for load events, make sure it autobuffers and set the cache size to something large so loads aren't suspended. No bug, test-only change. 
Bug 495145. Don't change the state away from ENDED if we try to pause in the ENDED state. r=doublec 
Bug 494667. Don't apply optimization to shrink drawn background area to exclude solid borders, if we're not going to draw those borders (e.g. in tables with collapsing borders). r+sr=dbaron,a=beltzner 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
bug 495629 - also fix test_backspace_key_removes.xul (Mac-only) to work with SeaMonkey, r=sdwilsh 
bug 495604 - Make ifndef MOZ_SUITE in dlmgr Makefile.in actually work, r=sdwilsh 
Bug 495300. Trigger 'ended' behaviour when seeking to the end of a media resource. r=doublec 
Fixing bustage (bug 495300) 
Backing out bug 487519 due to reftest failures 
Bug 495319. Fire 'timeupdate' with the correct final time when we finish playing. r=doublec 
Bug 495161. Buffer enough data in the Wave decoder that we never immediately leave BUFFERING after entering it. r=mgregan 
Bug 495635. Don't register overlay content in the ID-map etc if it hasn't actually ended up in the document. r+sr=bzbarsky 
Bug 493621. Correctly set marginTop style to make volume slider appear when quirks are disabled. r=dolske 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge m-c to tracemonkey. 
Merge. 
Merge 
Merge tracemonkey to mozilla-central. 
Back out bug 496134, destructuring assignment upvar fixes due to reported fuzzer problems 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
merge tracemonkey to mozilla-central 
Merge tracemonkey to mozilla-central. 
Bug 494322. nsMediaCache verification code is super slow in debug builds, so turn it off during seeking so we don't get O(N^2) slowdowns. r=doublec 
Bug 492837. If a scrollframe's reflow is interrupted, don't clamp the scroll position to the new size. r=bzbarsky 
Bug 496032. Buttons should should lay out their contents using IsBlockInside not IsBlockOutside. r+sr=bzbarsky 
Bug 496840. Make dynamic insertion and removal of legends work in the presence of multiple legends. r+sr=bzbarsky 
Bug 497274. nsWrapUtils is unused, remove it. r+sr=peterv 
Bug 496581. If we seek to the end, enter COMPLETED state instead of trying to decode more. r=doublec 
Bug 497578: delay update resuming to avoid it being interrupted by the private browsing necko reset when private browsing autostart is enabled, r=mconnor 
Bug 495385. Text inputs should set the white-space style of the anonymous inner div when that div is created, not later when it will trigger a restyle. r+sr=bzbarsky 
Bug 495385. Text frames adjacent to block boundaries that contain only collapsible whitespace cannot affect layout, so don't create them. r+sr=bzbarsky 
Backed out changeset 69c6dbdfd179 
Backing out main patch for bug 495385 due to test failures 
Bug 486936 - image-rendering style should apply to canvas element. r=vladimir 
Bug 495135 - nsSMILValue forward declared as a struct in one place. r=jwatt 
Bug 481614 - implement clip property. r=jwatt 
Bug 393832 - svg circle with infinite radius causes hang. r=jwatt 
Bug 496989 - Simplify text/glyph interface. r=jwatt 
Bug 492186 - Crash with altGlyphDef and getBBox. r=roc 
Bug 496420 - ASSERTION: no presShell' changing currentScale in display:none iframe. r=jwatt 
Bug 327756 - ASSERTION: can't find nsISVGValue interface on mMatrix. r=roc 
Bug 486936 - fix reftest. Where did that ? come from 
disable crashtest for bug 492186 temporarily 
Merge tracemonkey to mozilla-central. 
Bug 487571 - add xpcshell tests for network offline and connection refused. r=sicking 
Test only - Bug 489230 - Use mock XHR for test_0050_general.js and additional cleanup. r=me 
Test only - Bug 497578 - Fallback upgrade ends in endless loop of downloading partial upgrades when Private Browsing auto-start is enabled. r=dtownsend 
Bug 499770 - um.activeUpdate is null in onStopRequest for some edgecases. r=dtownsend 
Bug 495385. Text frames adjacent to block boundaries that contain only collapsible whitespace cannot affect layout, so don't create them. r+sr=bzbarsky 
Bug 500124. Fix regression from bug 495385 by initializing text items correctly. Also avoid reframing text nodes in ContentRemoved when we know the text node doesn't need to be unsuppressed. r+sr=bzbarsky 
Bug 499608. Fix leak of nsSVGRenderingObserverList frame property. r=jwatt 
Bug 495455. Always get correct bounding boxes for text rendered with user fonts, since they are likely to be using unusually-sized glyphs. Mac/Windows only at the moment. r=jdaggett 
Bug 499880 - Restructure content/media directory. r+=doublec 
reenable crashtest for bug 492186 
Bug 500556. Split FRAMETREE_DEPENDS_ON_CHARS bit into NS_CREATE_FRAME_IF_NON_WHITESPACE and NS_REFRAME_IF_WHITESPACE so we don't need to reframe for every data change. r+sr=bzbarsky 
Bug 500629. Remove NS_SCROLL_PROPERTY_ALWAYS_BLIT, only XUL listboxes use it, and for no good reason. r+sr=bzbarsky 
Bug 500630. Clip Cocoa plugins to theheir bounds, so an errant plugin won't draw outside its bounds and leave artifacts. r=josh 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey 
Merge. 
Merge tracemonkey to mozilla-central. 
Bug 496472 - Remove several files from /other-licenses/branding/firefox/. r=mconnor 
Bug 490258 - TestXREMakeCommandLineWin: fix nits in result reports. r=ted.mielczarek 
Followup nit for Bug 490258 - TestXREMakeCommandLineWin: fix nits in result reports. 
Bug 488620. GTK2 test plugin should not assume that ancestor X windows have associated GTK widgets. r=karlt 
Bug 500912. Remove realTimeDrag flag, it's always true. r=bzbarsky 
Bug 501100. Convert print preview tests to chrome tests. r=martijn 
Bug 499595. Win32 test plugin needs to double-buffer and look more like other platforms' test plugins. r=jmathies 
Bug 501878. Don't suppress whitespace-only SVG text frames. r+sr=bzbarsky 
bug 498500 - Mac DMG unpackaging is unreliable, r=ted 
Backed out changeset 31f30d06b803 
Backed out changeset b2256abf53c0 
Backout jsvector patch. Doesn't build the full browser. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 500533 - Firefox missing app icon on Windows CE - incorrect icon resource id's. r=vlad 

Bug 500533 - Firefox missing app icon on Windows CE - incorrect icon resource id's. r=vlad Bug 490253 - TestAUSReadStrings.cpp: fix nits in result reports. r=ted.mielczarek 
Bug 500251 - Cannot set set Minefield as default browser on Windows CE. r=vlad 
Test only - Bug 503308 - Debug build failure in toolkit/mozapps/update/TestAUSReadStrings.cpp: undefined reference to NS_DebugBreak. r=me 
Backing out Bug 503308 
Test only - Bug 503409 - test_0030_general.js hangs on WinMo. add do_throw when the directory specified for nsHttpServer registerDirectory doesn't exist or isn't a directory. r=me 
Test only -  Bug 503308 -  Debug build failure in toolkit/mozapps/update/TestAUSReadStrings.cpp: undefined reference to NS_DebugBreak. 2nd try - succeeded on the try server. r=me 
Typo in test only - Bug 503409. 
Bug 500910. GTK2 test plugin should take window shapes into account when computing the effective clip region. r=karlt 
Bug 501295. pluginGetEdge should return coordinates relative to the window frame in the Win32 test plugin. Then we can enable test_plugin_position on Windows. r=jmathies 
Bug 501295. The Win32 test plugin needs to compute an accurate clip region. r=jmathies 
Bug 502211. Make test_media_selection.html and test_load.html backend-independent. r=doublec 
Bug 502211. Create test_playback and test_playback_errors for easy regression testing. r=doublec 
Bug 502211. Unify seek tests into a single backend-independent test. r=doublec 
Bug 502211. Convert test_wav_8bit to a playtest. r=doublec 
Bug 502211. Convert 'new Audio' tests to be backend-independent. r=doublec 
Bug 493915. Fix leak in media element when an error occurs early in the resource load. r=cpearce 
Bug 371839. Assertions that scan all continuations should bail out if the continuation chain is too long, so they don't add O(N) to algorithmic complexity. r=bzbarsky 
Bug 371839. Treat \n as space that the line-breaker will use as a word boundary. The main effect is that we don't have to scan backwards past \n when looking for a place to start linebreaking. r=smontagu 
Bug 502156. Make editor use nsContentUtils::CreateContextualFragment instead of instantiating a parser directly, when HTML content is pasted/dropped. This removes some code and lets the editor use the HTML5 parser if enabled. r+sr=peterv 
Fix bustage temporarily 
Fix bustage properly 
Bug 493915. Fix test failures. 
Backed out changeset 92cc21ed9634 
Backed out changeset 4c139bbb4895 
Backout patch for bug 371839 to fix test failures 
Backed out changeset 91a43fa9b0da 
Bug 500174 - pointer-events=all not registering on non-visible stroke. r=roc 
Disable seek tests on Windows again 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Fix dtrace build bustage. 
Backed out changeset 6ca843fc1e67 
Merge backout 
Backed out changeset b6a8110a858f 
merge backout 
Merge tracemonkey to mozilla-central. 
Fix for bug 503468 (canPlayType should return "", not "no"). r=cdouble. 
Backed out changeset 7fc9bac4d871 
Backed out changeset f4bcdda71b8f 
Backout merge 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central for backouts. 
Bug 500632. Suppress invalidation caused by parts inside collapsed scrollbars. r=dbaron 
Bug 500910. GTK2 test plugin should take window shapes into account when computing the effective clip region. r=karlt 
Bug 505184. Remove unused aBorder parameter to PaintBackgroundLayout. r=dbaron 
Bug 505184. Expose nsFrame::DisplayBackgroundUnconditional so we can easily create an nsDisplayBackground elsewhere. r=dbaron 
Bug 505184. When 'deflation' of the background area is not required, paint table backgrounds using a dedicated nsDisplayBackground instead of the multipurpose nsDisplayTableBorderBackground. r=fantasai 
Bug 505186. Don't add useless nsDisplayReflowCount items to display lists in debug builds. r=bzbarsky 
Bug 339548. Part 1: Factor out FindContainerView. 
Bug 339548. Part 2: Introduce nsRootPresContext. 
Bug 339548. Part 3: Introduce native widget clip region API. 
Bug 339548. Part 4: Move responsibility for removing child widget areas from the paint region from nsViewManager to platform widget code. r=karl,josh 
Bug 339548. Part 5: Support an accurate mode for display lists computing visible regions. r=dbaron 
Bug 339548. Part 7: Create nsLayoutUtils::IsAncestorFrameCrossDoc. r=dbaron 
Bug 339548. Part 6: Uninline IsMovingFrame so nsDisplayList.h doesn't have to include nsLayoutUtils.h. r=dbaron 
Bug 339548. Part 8: Create nsPoint::ToNearestPixels. r=dbaron 
Bug 352093. Part 1: Add view parameter to nsViewManager::DispatchEvent so we can target view system events to widget-less documents. r=bzbarsky 
Bug 339548. Part 9: Create nsRootPresContext::UpdatePluginGeometry, and use it. Make nsObjectFrame manage its widget directly. 
Bug 339548. Part 10: Simplify widget parameters to UpdateWidgetArea. 
Bug 339548. Part 10.5: Eagerly fix up Mac plugin clip rect to be consistent with other platforms. 
Bug 339548. Part 11: tests for complex plugin clipping. 
Bug 352093. Part 2: Create nsIViewManager::GetRootWidget. 
Bug 352093. Update accessibility to handle windowless IFRAMES. r=alexsurkov 
Bug 352093. Part 4: IME code should use GetRootWidget so it works with documents that don't have their own widgets. r=masayuki 
Bug 352093. Part 5: the focus manager should use GetRootWidget so it works with documents that don't have their own widgets. r=enndeakin 
Bug 352093. Part 6: make GetScreenRect work when appunits-per-dev-pixel varies up the frame tree. r=dbaron 
Bug 352093. Part 7: nsXULPopupManager should store coordinates relative to GetRootWidget to avoid confusion. r=enndeakin 
Bug 352093. Part 8: Fix view returned for eToplevelWindowCoordinates. r=bzbarsky 
Bug 352093. Part 9: make context menu event coordinates be relative to the widget for the widget for the top of the view hierarchy. r=dbaron 
Bug 352093. Part 10: misc fixes to remove assumptions about documents having widgets. r=smaug 
Bug 352093. Part 11: Remove GetWidget cals from the view maanger. r=bzbarsky 
Bug 352093. Part 12: Teach nsDocShell/nsDocumentViewer to deal with not having a widget 
Bug 352093. Part 13: Remove nsIViewManager::GetWidget since no-one should be using it. r=bzbarsky 
Bug 352093. Part 14: Make content IFRAMEs windowless. r=bzbarsky 
Bug 352093. Part 15: Rework scrolling so that we don't need a dedicated native widget for scrollframes. r=dbaron,joshmoz,karlt,jmathies 
Bug 339548. Part 14: hide windowed plugins in CSS transforms and SVG foreignObject contexts; we can't display them properly, so let's not display them at all. r=dbaron 
Bug 339548. Part 15: test overlaying an opaque-background table over a plugin. 
Fix test bustage in test_contextmenu_list.xul 
Remove accidentally commited .rej files 
Bug 503160 -  integer constants are not automatically demoted. Patch by Andreas Gal and Robert Sayre. r=dvander/gal 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Backed out changeset 8f6d8ce284ff 
Merge backout. 
Bug 505912. Trust the widget visibility in UpdateWidgetArea. r=dbaron 
Bug 505896. Try to avoid invalidating plugins unnecessarily on Windows. r=jmathies 
Bug 505667. Don't need to check INVALIDATE_NOTIFY_ONLY in nsHTMLScrollFrame::InvalidateInternal. r=dbaron 
Bug 505743. Fix nsHTMLScrollFrame::InvalidateInternal to not take the 'invalidation in scrollbar' path when there is no scrollbar. r=dbaron 
Bug 505693. Remove nsIView::DisownWidget. r=bzbarsky 
Bug 505150. 'new Audio' constructors should set autobuffer automatically. r=doublec 
Bug 503835. Wave codec 0 should be reported as unsupported. r=doublec 
Bug 371839. Remove useless SetSelected implementations. r=bzbarsky 
Bug 371839. Simplify SetSelected signature and semantics, and reimplement it in nsTextFrame much more efficiently. r=bzbarsky 
Bug 371839. Remove ParentDisablesSelection, which is effectively unused. r=bzbarsky 
Bug 371839. Some simple selection rendering tests. r=bzbarsky 
Bug 503928. Cap blur box size to 1024 pixels to avoid pathological behaviour. r=longsonr 
Backed out changeset 8f6d8ce284ff 
merge. 
Backed out changeset 047b9102dddb 
Merge backout. 
Backed out changeset 53b153375585 
Backed out changeset 8f7b8cae113d 
Merge backout. 
Backed out changeset d07b03553f36 
Merge backout. 
Backed out changeset b3d459d23452 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Backed out changeset e09130fcb013 
Merge tracemonkey to mozilla-central. 
Bug 467914. GetOverflowRectRelativeToSelf shouldn't always expect a preEffectsBBox. r=dbaron 
Bug 506615. XUL decks should not have wididgets. r=dbaron 
Bug 506304. Walk all the way up to the nearest widget when computing event coordinates for windowless plugins. r=bz 
Bug 492309. Remove useless gfxTextRuNnFactory flags. r=vlad 
Bug 504311. Don't reframe text when white-space changes between preformatted values, or between non-preformatted values. r=bz 
Bug 486200. Add window.mozInnerScreenX/Y APIs to return usable screen coordinate APIs (as opposed to window.screenX/Y which return window frame coordinates and are unusable). Also adds window.mozScreenPixelsPerCSSPixel which chrome-prileged code can use to convert CSS pixels to actual screen pixels. r=dbaron,sr=jst 
Bug 506696 - [WinCE] updater.exe doesn't use the working directory when applying the update. r=bsmedberg, r=blassey 
Updated tests for Bug 506696. r=me 
Bug 504432 - [WinCE] updater.exe not launched when there is an update during startup. r=vlad 
Backed out changeset c353fe809be0 
Backing out bug 506615 to fix mochitest failures 
Bug 505934 - Skip the write access checks on Windows CE. r=dtownsend 
Bug 506615. XUL decks should not have wididgets. r=dbaron 
Bug 507032 - "Set As Desktop Background..." doesn't work on Windows CE, r=robert.bugzilla 
Bug 507513 - Need ABI defined for WinCE / WinMo, r=ted.mielczarek 
Bug 504311. Don't reframe text when white-space changes between preformatted values, or between non-preformatted values. r=bz 
Bug 504311. Test. 
Bug 506874. Don't temporarily remove ranges from the selection while we alter the frame state. Also adds a bunch of selection tests. r=smaug 
Bug 500304. Turn on chrome jit. r=brendan 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 507755. Move the chrome-only property screenPixelsPerCSSPixel out of 'window' to nsIDOMWindowUtils. r=jst 
Bug 507755. Add a test that will fail if anyone adds any enumerable chrome-only properties to 'window'. r=jst 
Bug 508115. Don't reparent the views for popups, since they should always have the root view as their parent. r=dbaron 
Bug 506304. Support synthesized mouse events being sent to windowless plugins, support reporting mouse event coordinates from the test plugin, and add tests for mouse events. r=josh 
Bug 504524. Change signature of nsIFrame: of nsIFrame::CharacterDataChanged to support passing of the full CharacterDataChangeInfo struct. r=bz 
Bug 504524. Don't reflow the line after an incomplete frame unless we really need to. r=bz 
Backed out changeset 60add17e8ed3 
Backoug but 586081, mailnews still uses nsTime 
Disable failing test 
Backed out changeset 77787eb64629 
Backout bug 504524 due to test failure 
Bug 508746 - Log file written incorrectly for EXECUTE PATCH and FINISH PATCH. r=bsmedberg 
Bug 507339 - Test more files in the complete / partial mar files and check file permissions. r=blassey, r=me 
Bug 507481 - [WinCE] Check for Windows version in download manager shouldn't be done for Windows CE. r=sdwilsh 
Bug 509161 - [WinCE] Remove support for XRE_UPDATE_ROOT_DIR on WinCE. r=sdwilsh 
Bug 507338 - [WinCE] updater.exe update in progress dialog isn't displayed. r=blassey, r=vlad 
Bug 507526 -  use getc_unlocked in the scanner rather than getc. r=jorendorff 
Bandaid for bug 508128. r=waldo 
causes timeouts, somehow. backed out changeset 1391e8b39c73 
Commit backout. 
Backed out changeset 70b3b23c948a 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 507939 - Remove erroneous clip rect fixup which caused repainting errors with repeating radial gradients on Mac. r=jmuizelaar 
Bug 507334, part 1:  Remove nsDisplaySummary optimization, since it introduces extra display items that would disable the optimizations in part 2.  r=dbaron 
Bug 507334, part 2:  Blit multiple rectangles when scrolling rather than blitting only the largest single rectangle, and avoid repainting opaque content that covers the scrolling content.  r=dbaron 
Followup to Bug 507513 -  Need ABI defined for WinCE / WinMo. Make the code portable. r=ted.mielczarek 
Bug 510162 - Updater dialog should size itself appropriately on mobile devices. r=vlad 
Bug 510836 - mozce_shunt.dll loaded with updater.exe. r=blassey, r=vlad 
Merge mozilla-central to tracemonkey. 
Merge. 
Try to fix bustage by revving XDR number. 
Backed out changeset 5817b38a8686 
Merge. 
Merge mozilla-central to tracemonkey. 
Fix jsapi-tests assert in debug builds. tests need to happen inside a request. 
Merge. 
Merge tracemonkey to mozilla-central. 
Bug 507402. Update window bounds to account for SW_SCROLLCHILDREN, since plugins might not tell us about their WM_MOVE messages. r=jmathies 
Bug 508227. Don't fallback to Quartz for repeating radial gradients. r=jmuizelaar 
Bug 508730. Clean up Quartz gradient code by moving some local variables to static const globals. r=jmuizelaar 
Bug 508730. Don't repeat a Quartz gradient more times than necessary, to avoid Quartz quality problems when there are lots of repeated color stops. r=jmuizelaar 
Bug 507926. Make sure CreateWindowEx doesn't fail when we're creating an invisible window. r=jmathies 
Fix bustage 
Backed out changeset 6db996debbd1 
Backout bug 508730 
Backed out changeset 336bcf9010d1 
Backout bug 508730 
Backed out changeset 875c4ba4cbc8 
Backout bug 508227 
Bug 512564 - Support for the WinCE environment implementation. r=bsmedberg 
Bug 508227. Don't fallback to Quartz for repeating radial gradients. r=jmuizelaar 
Bug 508730. Clean up Quartz gradient code by moving some local variables to static const globals. r=jmuizelaar 
Bug 508730. Don't repeat a Quartz gradient more times than necessary, to avoid Quartz quality problems when there are lots of repeated color stops. r=jmuizelaar 
Bug 508227. Disable gradient tests that fail on Mac now that Mac handles degenerate radial gradients consistently with our other platforms. r=jmuizelaar 
Backed out changeset e2927bb26412 
Backing out patch for bug 497495 
Bug 470979 - Keep a copy of the last-update.log renamed when the partial fails for troubleshooting. r=dtownsend 
Bug 512994 - Deleting / recreating the updates/0 directory puts the filesystem into a weird state. r=dtownsend 
Tests for Bug 470979 and Bug 512994 and Buf. r=dtownsend 
Bug 512524 - Unable to set image as desktop background, r=robert.bugzilla 
Bug 508247 - Crash if non SVG element encountered in path for getCTM. r=jwatt 
Bug 509940 - Images with fill=none are not displayed. r=jwatt 
Tests cleanup - no bug. 
Bug 444050 - add unit tests for make_incremental_updates.py (NPOTB) - r=ccooper 
Bug 503813. Events targeted at generated content frames should get the non-generated ancestor as target element. r=dbaron 
Bug 508134. Stop managing the visibility of views from SyncFrameViewProperties, except for nsSubdocumentFrames. r=dbaron 
Bug 511951. Don't hide the inner view of a subdocument frame's hidden view. r=dbaron 
Bug 503399. Never count trimmed trailing whitespace as whitespace that should received justification spacing; in this case we were using doing that when computing caret position. r=smontagu 
Bug 503657. Treat a newline character as a valid boundary for line breaking analysis. r=smontagu 
Bug 508684 - Add Ability to Change 'Firefox as your default browser' and inform of upgrade on Summary step. r=jmathies 
Temporarily ifdef jsapi-tests on wince, so the rest of the tests can run. r=ted 
Bug 515288 - Crash with getScreenCTM() on outer svg with no current document. r=roc 
Add cairo patches for Quartz gradient fixes 
Bug 514974. Test plugin reads from instanceData just after freeing it. r=joshmoz 
Bug 515080 - setting fill doesn't always cause re-styling. r=bzbarsky 
Bug 512890 - ABORT: NULL content node with SVG filter, em units. r=roc 
Bug 512890 - crashtest for ABORT: NULL content node with SVG filter, em units. 
Bug 509274 - Make sizing reftests more robust 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge 
Bug 471219 - Store timer registrations somewhere permanent. r=dtownsend 
Tests for Bug 471219 - Store timer registrations somewhere permanent. r=dtownsend 
Followup test only fix for bug 471219 
Bug 510110. Extend MozAfterPaint event to contain list of PaintRequest objects with information about individual invalidations. r=dbaron,sr=jst 
Bug 510856. Round out 'visible area of moving content' to device pixel edges to avoid stray subpixel rectangles needing to be repainted. r=dbaron 
Bug 510856. Create tests for which areas of the page are repainted or blitted by scrolling. r=dbaron 
Bug 513144. Move ownership of the Ogg decoder's nsMediaStream out from nsChannelReader to nsOggDecoder. Also remove unnecessary mNotifyOnShutdown flag from nsOggDecoder and nsWaveDecoder. Since Load can only be called once after Init, remove unnecessary initialization of variables in Load and move some code up from Load to Init in both backends to simplify Load. r=doublec 
Bug 513144. Remove mURI from the decoders, and change nsMediaDecoder::GetCurrentURI to GetCurrentStream so nsHTMLMediaElement::GetCurrentSrc gets the URI directly from the stream. r=doublec 
Bug 513144. Split static nsMediaStream::Open into static nsMediaStream::Create and nonstatic nsMediaStream::Open. Move call to NS_GetFinalChannelURI down into nsMediaStream::Create. r=doublec 
Bug 513144. Hoist nsMediaStream creation up into nsHTMLMediaElement, out of the decoders. Pass the stream as the parameter to nsMediaDecoder::Load. r=doublec 
Bug 513144. Basic implementation of mozLoadFrom API. r=doublec 
Bug 513144. Allow nsMediaCache blocks to belong to more than one BlockList at the same time. r=doublec 
Bug 513144. Allow nsMediaCache blocks to be owned by multiple streams at the same time. r=doublec 
Bug 513144. Make nsMediaChannelStream::CloneData clone the underlying cache stream, which adds the new stream as co-owner of all the nsMediaCache blocks currently cached for the original stream. Also, use NS_NEW_RUNNABLE_METHOD instead of the SuspendedStatusChanged class. r=doublec 
Bug 513144. Allow streams that are related by mozLoadFrom to share data loaded after the initial clone. r=doublec 
Bug 513144. nsWaveDecoder::PlaybackEnded should call UpdateReadyStateForData to ensure that we enter HAVE_CURRENT_DATA ... otherwise it get into the ended state with HAVE_FUTURE_DATA or HAVE_ENOUGH_DATA, which is wrong. r=kinetik 
Bug 435441. Fix signed/unsigned warning. r=dbaron 
Bug 516740. Never simplify the visible region by increasing its area when we're subtracting opaque areas from the visible region. Instead, just don't subtract the opaque area if it would make the visible region too complex. r=bzbarsky 
Bug 517818. Suppress seeking to the end of the stream on Resume, there is no data to read there. r=kinetik 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge 
Backed out changeset f5ea964eb493. (Brendan Eich — High-level CSE for shape guards (518448, r=jorendorff). 
Merge backout 
Bug 514660. Use classes instead of an explicit 'style' attribute to style the anonymous DIV of a text control, so that the styles are treated as user-agent styles and not removed when author styling is disabled. r=bzbarsky 
Bug 509693. Remove eWindowType_java (unused) and actually use eWindowType_plugin. r=josh 
Bug 509693. Make Windows test plugin in windowed mode have a child widget, and add API so we can check that that child widget is in the right place. r=josh 
Bug 509693. Don't use SW_SCROLLCHILDREN if some child has a descendant window that's outside the scrolled rectangle. r=jmathies 
Bug 442715. Invalidate the whole border-box when an element's size changes and its background is being clipped by a border-radius. r=dbaron 
Bug 396392. Fix test to not assume that the height of a block matches the height of the text inside it. 
Bug 510856. ComputeRepaintRegionForCopy should not look outside the update rect for moving and non-moving visible content. r=dbaron 
Bug 517818. When nsMediaCache::Update wants to read from the end of the stream, don't resume if we're already suspended. And if the channel is not already positioned at the end, suspend instead of seeking to the end, since there is no point in seeking to the end and it may cause harmful side effects. r=doublec 
Bug 517818. Treat HTTP errors (other than 416 'Requested Range Not Available') as network errors. And do not allow an error page to be treated as media data. r=kinetik 
Bug 517818. Wave decoder should not look beyond the Wave data area to see if we have a 'next frame' to play. r=kinetik 
Bug 510856. Additional scrolling tests. 
Bug 513082. Round out 'region of moving visible content' to device pixels to reduce incidence of stray subpixel rectangles causing unnecessary painting. r=dbaron 
Bug 513082. Instead of passing aDirtyRect to nsDisplayItem::Paint, have nsDisplayList::OptimizeVisibility (renamed to ComputeVisibility) compute the intersection of the visible region with the bounds of each display item and store the result in the item's mVisibleRect. This lets us do less work to paint display items which have a small intersection with the visible region but a large intersection with the bounding-box of the visible region. r=dbaron 
Bug 508495. Let CSS borders and padding apply to plugin elements, and fix layout, painting and event handling to work with them. r=dbaron 
Bug 508495. Remove CreateWidgetForView from nsIFrame and nsObjectFrame since it's no longer used there. r=dbaron 
Bug 508945. Additional fixes for plugin printing when the plugin has borders or padding. r=dbaron 
Bug 519136. Clean up media-related logging. r=doublec 
Bug 508908. Disable windowed plugins in popup windows, since they don't work. r=dbaron 
Backed out changeset 59a6c227df86 
Backing out fix for bug 494828 to fix Places test failures 
Bug 520526 - Changes to TimerManager cause test_preventive_maintenance.js to leak due to PlacesDBUtils using TimerManager. r=mak77, r=dtownsend 
Bug 520462. Let NS_PLUGIN_ACTIVATE events look up the view hierarchy to find a frame. r=karlt 
Backed out changeset f5ea964eb493sdf 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
revert accidentally committed test harness modification. 
Merge. 
Merge. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 512603 - switches with systemLanguage fail in some cases. r=jwatt,sr=roc 
Bug 413975 - GetCtx returning null does not mean we are an outer SVG. r=jwatt 
Bug 517393 - Crash in GetTransformToElement. r=jwatt 
Bug 513958 - Firefox silently fails to start if %APPDATA% variable is missing. r=jmathies, r=bsmedberg 
Merge tracemonkey to mozilla-central. 
Bug 388547 - Initial support for x,y,dx,dy,rotate lists on SVG text and tspan elements. r=roc 
Backout Bug 388547 due to Mac test orange 
Bug 521262 - XREDirProvider provides app chrome dir twice, making us parse manifests twice. r=bsmedberg 
Bug 521371 - Extraneous '2' written to the update log file. r=dtownsend 
Bug 512651 - lessen the write access checks during startup and remove final-ui-startup observer. r=dtownsend 
Bug 521956 (pt1) - nsUpdateService, nsExtensionManager.js.in and, nsBlocklistService include badCertHandler.js (reduce file sizes by using a jsm). r=dtownsend 
Bug 521956 (pt2) - nsUpdateService, nsExtensionManager.js.in and, nsBlocklistService include badCertHandler.js (reduce file sizes by using a jsm). r=dtownsend 
Bug 522114. Fix stupid bug so we don't treat 0 pin count as pinned. r=doublec 
Bug 522114. While we're suspending the download, a Web server might close our connection, thinking we're dead. This might look just like a normal connection close. So whenever the connection closes after we resumed, try to reopen it, if we're seekable. r=kinetik 
Bug 512367. Don't reset fullZoom level when zooming in/out of an image loaded in an <iframe>. r=smaug 
Bug 520436. Interpret NPN_InvalidateRect rectangles as relative to the content-box, not the border-box. r=josh 
Bug 476547. Make lquote and rquote actually work, especially when there are dynamic changes, by finding the correct text frames to modify and notifying the text frame that the DOM text has changed. r=karlt 
Bug 520462. Test that mouse clicks transfer focus to plugins correctly. r=jmathies 
Bug 520316. Call DetachWidgetEventHandler on the right view. r=dbaron 
Bug 521359. Our tests should not depend on NETWORK_LOADED or the media 'load' event. r=doublec 
Bug 521359. Don't enter the NETWORK_LOADED state or fire a media 'load' event. r=doublec 
Bug 508115. Test 
Bug 518659. If we finish decoding while loading metadata, go directly to COMPLETED instead of trying to decode again which violates liboggplay's assumptions. r=kinetik 
Bug 518659. Tests should be in gPlayTests instead of gSmallTests. r=kinetik 
Fixing test_videocontrols to not depend on the load event (bug 521359) 
Fixing test 459439-1.html to not depend on the load event (bug 521359) 
Disabling test_resume.html since it apparently fails on Tinderbox 
Disabling plugin test for bug 520436 to figure out test failures on Windows and Linux 
Fix test_videocontrols again 
Try yet another fix for test_videocontrols 
Add logging code to help diagnose random failure 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge 
Merge tracemonkey to mozilla-central. 
Merge 
WINCE bustage fix 
Bug 504524. Don't reflow the line after an incomplete frame unless we really need to. r=bz 
Bug 521207 - tiles do not work if they extend beyond the filter subregion bounds 
Bug 521452 - nsUpdateService and nsBlocklistService both have getFile(key, pathArray). Added a js module for this shared code. r=dtownsend, sr=bsmedberg 
Bug 522583 - nsUpdateService.js.in cleanup (remove previous update migration code, defineLazyServiceGetter for nsIObserverService, and other cleanup). r=dtownsend 
Bug 521759 - patterns incorrect with viewBox and percentage widths or heights. r=roc 
Bug 448906 - linked patterns are not scaled correctly. r=roc 
Bug 518659. Create nsIDocument::IsActive and IsVisible APIs so we can track HTML5 'active'ness. r=jst 
Bug 518659. Make nsMediaCache call out to nsMediaCacheStream::ClientSeek/Suspend/Resume without holding its lock. r=doublec 
Bug 518659. Make nsHTMLMediaElement hold a reference to itself to keep itself alive while network or decoder activity could result in events being fired in the future. Also rework the handling of media elements in inactive documents. r=jst, r=doublec 
Bug 522394. Make nsSVGUtils::ConvertToSurfaceSize more robust, and don't assert needlessly when we adjust filterRes to account for over-large filter sizes. r=jwatt 
Bug 522394. Don't bother descending into zero-opacity content when constructing display list. r=dbaron 
Bug 516885. Pass separate visible-before-move and visible-after-move regions into ComputeVisibility, to make code clearer because we don't have to overload a single region, and which also lets us fix ambiguities related to clipping. r=dbaron 
Bug 523468. Force next line to be reflowed whenever we push or pull children from an inline frame. r=dbaron 
Bug 449324. Apply opaque-border optimization to all opaque border types, not just 'solid'. r=dbaron 
Bug 522767, fixing WinMo bustage 
Bug 518659, fixing crash bustage due to bad merging 
Backed out changeset 9f5177a978ac 
Backout fix for bug 523468 due to crashing tests 
Bug 523257 -  remove some ComputeThis code duplication. r=mrbkap 
Add inline requested in bug 523257. 
Merge m-c to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
bug 512247 - replace license headers in tests by Jason Orendorff, Blake Kaplan, Robert Sayre, Bob Clary with public domain notice; by permission. 
Merge mozilla-central to tracemonkey. 
bustage fix 
Merge tracemonkey to mozilla-central. 
Bug 525363 - clipPath winding-mode is broken. r=roc 
Bug 513395: Make sure the Cairo/Quartz backend returns the first stop for negative positions on the gradient line of a nonrepeating linear gradient.  r=jrmuizel 
Bug 513395: Implement revised CSS gradient notation (2/2): rendering 
Disable tests on Mac that aren't getting 100% accurate results for 360deg after the landing of bug 513395 
bug 514732 - fix bustage for shared lib builds r=bz 
Bug 508128. Fix do_timeout to hold references to pending timers so that they don't get GCed and automatically cancelled. r=jwalden 
Bug 508128. Make sure to QI to the right interface so that if the JS wrapper gets GCed we still have a getRequestHeader method. 
Bug 526072. Guard super-expensive nsFrameList assertions with #ifdef DEBUG_FRAME_LIST so debug builds don't completely suck. r=bz 
Bug 523468. Make sure we reflow the next line when content is pushed or pulled from an inline frame. r=dbaron 
Bug 510082. Silverlight depends on NPN_InvalidateRect working even when the plugin is in windowed mode (although it should really just call Win32 APIs to invalidate its window), so make NPN_InvalidateRect work for windowed plugins. r=josh 
Bug 523911. Content that's not moving, that's positioned over uniform content that is moving, does not need to be repainted. r=dbaron 
Bug 523911. Cocoa 'scrollRect' method doesn't actually update the window if we don't also invalidate something. Sometimes our scroll optimizations are so smart we don't actually need to repaint anything, so just invalidate one pixel in that case. r=josh 
Bug 513082. Take advantage of our knowledge that nsDisplayClip, when used in a blitting scrolling frame, must snap to device pixels, to get more accurate blit regions. r=dbaron 
Bug 521176. Don't unnecessarily start an HTTP transaction when cloning a media resource. r=doublec 
Bug 521178. Don't open a connection when we're only trying to read at the end of the resource (even if the seek-vs-read optimization decides we should just read from the start of the resource). r=doublec 
Bug 311965 - Refactor nsUpdateService.js to load less code at startup. r=dtownsend 
Backed out changeset 9eda936adc30 
Backout tests because they're failing on Mac 
Disable test_windowed_invalidate.html on non-Windows, since it's only needed for Windows and seems to be failing on GTK2 at least 
Merge tracemonkey to mozilla-central. 
Merge 
Check whether the patch in  Bug 527261 fixes a mochitest crash. 
Merge 
Backed out changeset 7d7f59076479 
Backing out bug 524545 due to test failures 
Bug 508128. Fix another case of GC stripping JS wrapper objects of previously QIed interfaces 
Bug 508128. Fix staller.sjs to hold a reference to its pending timer so that it doesn't get GCed and automatically cancelled. r=jwalden 
Bug 508128. Fix type mismatch in RawTests. r=jwalden 
Bug 498340. Block script execution during the entire paint phase including when we call WillPaint to flush notifications. We don't want script to run and disturb (directly or indirectly) the widget hierarchy, because doing that during BeginPaint/EndPaint can confuse Windows. Other platforms might also be adversely affected. r=bz 
Bug 501627. Take out unncessary and harmful surface size check. r=jrmuizelaar 
Bug 526882. Create nsIntRegion. r=jmuizelaar 
Bug 526882. translateRectsNeedingDisplayInRect isn't exactly what we need so we have to apply it to a larger rectangle than desired, then fix up by invalidating areas that have not been bltted. r=mstange 
Bug 527325 - feConvoleMatrix does not process bias correctly. r=roc 
Bug 527845 (WinCE only) - App update can't deal with read-only files. r=vlad 
Bug 528445 - change app.update.log.* in updates.js to app.update.log for UI logging. r=dtownsend 
Prevent starting Firefox and other apps while applying an update. Bug 525390 - 3.5.4 Upgrade failure: 'entry point js_SaveRegExpStatics could not be located'. r=vlad 
Bug 523915 - updater crashes when trying to update with crash reporter open. r=ted.mielczarek 
Bug 498340. Backout previous fix 
Bug 498340. Fire NS_WILL_PAINT on Windows so flushes that change the window hierarchy happen before we call BeginPaint. r=jmathies 
Bug 519168. Fix some spurious reftest failures on Mac. r=dbaron 
Bug 527306. Remove problematic flush in selectFrames. r=bz 
Bug 519168. Address David's comments. 
Bug 510501 - not granting UAC permission to updater.exe causes full update to be downloaded. r=dtownsend 
Bug 518659. When deciding whether a previous stream is going to load the data we need, we need to check against the data we'll be loading next, not the data we're currently loading. r=doublec 
Bug 529105. Don't mess with closed streams when data arrives for a resource that the closed stream is using. r=doublec 
Bug 528604. Don't add areas-to-repaint when scrolling for non-moving clip rects that aren't clipping any moving content. r=dbaron 
Bug 520506 -  Incorrect text getBBox in SVG. r=jwatt 
Bug 528493. Prevent script execution while initializing nsDocumentViewer. r=bzbarsky 
Backed out changeset 93a0acf68dd6 
Backout bug 528493 on suspicion of causing regression 
Bug 407875 - Unprivileged users are not notified of security updates. r=dtownsend, r=vlad, a=dietrich 
Merge mozilla-central to tracemonkey. 
Check whether the patch in  Bug 527261 fixes a mochitest crash. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
followup to Bug 407875 - prevent multiple update prompts for manual update notification. r=dtownsend, a=beltzner 
followup fix for Bug 407875 - disable control when canCheckForUpdates is false instead of canUpdate. r=dolske, a=beltzner 
Bug 528493 preliminary.  Don't MaybeLoadImage on bind if image loading for this node is disabled.  r=bzbarsky 
Bug 528493 preliminary number 2.  Don't call a function that needs to flush while we might be under a scriptblocker.  r=bzbarsky 
Bug 528493. Prevent script execution while initializing nsDocumentViewer. r=bzbarsky 
Bug 529371 - Fix nsPopupSetFrame sibling pointers (crash [@nsWeakFrame::Init][@nsWeakFrame::InitExternal]). r=bzbarsky 
bug 529092 - seams when scrolling with position:fixed [MS Windows] r=jmathies 
Bug 514061.  Don't dispatch events while painting.  r=jmathies 
Bug 530686.  Don't redraw box-shadows over the bounding rect of the dirty region; just redraw them over a (somewhat simplified) dirty region.  r=dbaron 
Bug 530472.  Make sure to check across document boundaries to see whether the clipFrame is an ancestor of the moving frame.  r=dbaron 
Bug 531371.  Correctly propagate the backround from a <body style="display: table"> to the viewport as needed.  r=bzbarsky 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge 
Add a missing credit to trigger a re-compile. 
Merge m-c to tm 
Merge. 
Add a call to reportCompare so this test passes. 
Backed out changeset c696751593d6.  Tolerate race condition or broken resolve hook (530507, r=jorendorff). 
Merge backout. 
Backed out changeset c03ebf340688. Bye-bye middle-deletes and their O(n^2) worst case complexity; hello dictionary-mode scopes (473228, r=jorendorff). 
Backout bug 473228 and its follow-up, temporarily, to attempt a clean merge of other stuff. 
Merge tracemonkey to mozilla-central. 
Bug 532552 - There is no need to load nsBlocklistService.js on startup. r=dtownsend, a=beltzner for baking 
Relanding: Bye-bye middle-deletes and their O(n^2) worst case complexity; hello dictionary-mode scopes (473228, r=jorendorff). Backed out changeset ee7bfc1923ad 
Merge 
Relanding Tolerate race condition or broken resolve hook (530507, r=jorendorff). Backed out changeset fb34a7163a43 
Reland bug 473228 and bug 530507 
Merge tracemonkey to mozilla-central. 
Bug 533665 - Avoid the need to build NSPR for L10N repacks. r=robert.bugzilla a192=beltzner 
Bug 534216 - Text in anchor tags not placed correctly if viewBox present. r=roc 
Bug 467477 - View Source should linkify xlink:href. r=mrbkap 
Bug 531461. Avoid creating an nsDisplayTableBorderBackground if every part of the table is hidden. r=dbaron 
Bug 530686. Only create an nsDisplayTableBorderBackground when it's going to have something to paint, since having one can disable some scrolling optimizations. r=dbaron 
Bug 532404. If SW_SCROLLCHILDREN was used, invalidate the region in all descendant windows as well. r=jmathies 
Bug 523576 - Fix compilation with disable-svg. r=dbaron 
Bug 516885 / Bug 525375: Fix (harmless) assertions due to nsDisplayTransform passing non-null aVisibleRegionBeforeMove. r=dbaron 
Bug 531361. Make nsLineLayout not assert about long lines that may occur naturally. r=dbaron 
Bug 534090 - do not use background notification for major updates (was PMU 3.0->3.5 major update has been really poor). r=dtownsend, ui-r=beltzner 
Bug 526323. httpd.js should send custom headers with 416 responses. r=jwalden 
Bug 526323. Add to nsCrossSiteListenerProxy support for treating certain HTTP result codes as non-errors. r=sicking 
Bug 526323. nsCrossSiteListenerProxy for media loads should not treat 416 'range not satisfiable' as an error. r=doublec 
Bug 526323. Make test_access_controls more precise about attributing failures to the right test, and re-enable it. r=cpearce 
Bug 534366. Make nsFirstLineFrame set InlineReflowState::mLineLayout correctly. r=dbaron 
Bug 534426. Use our zlib.h, not system zlib.h. r=jfkthame 
Backed out changeset 682926ebca13 
Backing out test for bug 533371 to try to fix leaks 
Bug 534561. When scrolling with SW_SCROLLCHILDREN, invalidate any affected window that is not wholly inside the destination *or* source area, and do the invalidation after we've scrolled and moved the window. r=jmathies 
Bug 534841 - filter feFunc[RGBA] does not default omitted attributes correctly. r=roc 
Bug 526216 - mochitest-browser-chrome: crash in nsObjectFrame::IsOpaque while running browser_pluginnotification.js and test_crashing.html, r=josh 
imported patch disable-Composite 
Backed out changeset 70b5097f7c30 
Bug 526394. Don't paint synchronously when updating after scrolling. r=mats 
Backed out Andreas Gal — Try to fix autoconf madness for bug 530896. changeset 289c9c3c9195 
Merge. 
Backed out changeset eae07941000e. Andreas Gal — Efficient Implementation of JSDOUBLE_IS_INT using SSE2 (original patch by Moh Haghighat/Intel, bug 530896, r=dvander). 
Merge. 
Merge. 
Backed out changeset 787d5fbc1f80 
Merge. 
Backed out changeset 8a44551a28c1 
Merge. 
Merge mozilla-central rev a732c6d3c078 to tracemonkey. This is just prior to the e10s plugins landing. 
Merge m-c to tm. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 529942 - Remove nsIApplicationUpdateService2 on trunk. r=dtownsend 
Bug 510177 - path with a single point not rendered. r=jwatt 
backout Bug 510177 (reftest failure) 
Bustage fix for non-JIT builds. Following up bug 474500. 
Merge mozilla-central to tracemonkey. 
Bug 510177 - path with a single point not rendered. r=jwatt 
Merge. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 535185 - patterns of non-integer scaled size have seams. r=roc 
Bug 526394. Back out removal of Composite call. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
r=roc. 
Bug 420909 - OS X 10.5 unexpectedly passing opacity-and-gradient-01.svg. r=jwatt 
Merge. 
Bustage fix for non-JIT builds. Following up bug 474500. 
Bug 519368 - pattern with viewBox not treated correctly. r=jwatt 
Bug 537609 - Change to SVG 1.2T stroke-dasharray parsing. r=dbaron 
Backed out changeset 880125b33bca 
Bug 366283. Enable/disable shadows correctly as per spec. r=jrmuizel 
Bug 366283. Make canvas 'copy' operator behave as unbounded by clearing the surface before we render the source. r=jrmuizel 
Bug 366283. Enable canvas tests for correct compositing operators. 
Bug 532732. When rendering a background-attachment:fixed background to the screen, limit the background painting area to the viewport, since this is the only area where it will actually be visible and in many cases this means we don't need to think about tiling it. r=dbaron 
Bug 532998. Cache the offset of the next newline character in preformatted text. r=smontagu 
Bug 537309. Synthesize WM_*DBLCLK on NS_MOUSE_BUTTON_DOWN, not NS_MOUSE_DOUBLECLICK (since the latter fires on mouse-up). r=jmathies 
Bug 527864. Add support to the test plugin to detect what width was used at the last paint. r=josh 
Bug 527864. Test that we flush reflows before painting. 
Bug 528703. NotifyOwnerDocumentActivityChanged() should call mDecoder->Play() regardless of mReadyState. r=doublec 
Bug 508369. Fix test. r=bzbarsky 
Backed out changeset ad1892e1bb82 
Back out bug 515190 due to test failures 
Bug 536677 - fill with url to gradient not inherited when dynamically switched more than once. r=roc 
Bug 495968 - Only update the active switch child in nsSVGSwitchFrame::UpdateCoveredRegion. r=roc 
merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge. 
Bug 526394. Part 1: Make a couple of tests more descriptive when they fail. 
Bug 526394. Part 2: Remove pointless code in nsTextControlFrame, nsGfxScrollFrame handles this already. r=mats 
Bug 526394. Part 3: Add all necessary new APIs to nsIScrollableFrame. r=mats,sr=dbaron 
Bug 526394. Part 4: Obsolete nsIScrollableViewProvider by adding nsIFrame::GetScrollTargetFrame. r=mats,sr=dbaron 
Bug 526394. Part 5: Fix up a bunch of sites to use nsIScrollableFrame instead of nsIScrollableView. r=mats 
Bug 526394. Part 6: Fix up nsEventStateManager. r=smaug 
Bug 526394. Part 7: Hoist GetHtmlContent/GetBodyContent to nsIDocument. r=jst 
Bug 526394. Part 8: Fix nsNSElementTearoff to use new APIs, and also fix it to check for root element and body properly. r=jst 
Bug 526394. Part 9: More conversion for nsEventStateManager and nsImageDocument. r=smaug 
Bug 526394. Part 10: Convert accessibility code. r=mats 
Bug 526394. Part 11: Convert nsGlobalWindow and nsDOMWindowUtils. r=mats 
Bug 526394. Part 12: Convert XUL layout code: scrollboxes and trees. r=mats 
Bug 526394. Part 13: Convert nsCanvasFrame. r=mats 
Bug 526394. Part 14: Convert nsListBoxBodyFrame::GetAvailableHeight. r=mats 
Bug 526394. Part 15: Convert various random chunks of layout code. r=mats 
Bug 526394. Part 16: Convert nsListControlFrame. r=mats 
Bug 526394. Part 17: Convert some selection-related code in nsTextControlFrame and nsSelection. r=mats 
Bug 526394. Part 18: Remove nsIScrollableViewProvider and its implementations, now that we've removed all its users. r=mats 
Bug 526394. Part 19: Remove view paramters from nsIScrollPositionListener. r=mats 
Bug 526394. Part 20: Convert more code in caret and docshell. r=mats 
Bug 526394. Part 21: Remove nsIViewManager RootScrollableView APIs, and move GetRectVisibility to nsIPresShell. r=mats 
Bug 526394. Part 22: Remove more view stuff from PresShell. r=mats 
Bug 526394. Part 23: Make nsRect::IntersectRect preserve height and width if possible even when the intersection of two rectangles is empty. r=mats 
Bug 526394. Part 24: Create sane nsCaret::GetGeometry API to obsolete nsCaret::GetCaretCoordinates. r=mats 
Bug 526394. Part 25: Create nsIPresShell::ScrollFrameRectIntoView. r=mats 
Bug 526394. Part 26: Rework nsSelection to use frames only. r=mats 
Bug 526394. Part 27: Rewrite EnsureMenuItemIsVisible to use new nsIPresShell API. r=mats 
Bug 526394. Part 28: Remove nsIScrollableFrame::GetScrollableView. r=mats 
Bug 526394. Part 29: Create new nsLayoutUtils methods and remove useless code from nsListControlFrame::CaptureMouseEvents. r=mats 
Bug 526394. Part 30: Change the scroll state in nsPresState to a point. r=mats 
Bug 526394. Part 31: Move scroll implementation into nsGfxScrollFrame. r=mats 
Bug 526394. Part 31.5: Cleanup ScrolledAreaEvent stuff to be simpler. In particular we don't need to store the scrolled area, we can just compute it when we fire the event. r=mats 
Bug 526394. Part 32: Remove code that only existed so that scrollframes could have views. r=mats 
Bug 526394. Part 33: Remove nsScrollPortView etc. r=mats 
Bug 526394. Part 34: Create nsContentUtils::AddScriptBlockerAndPreventAddingRunners. r=sicking 
Bug 526394. Part 35: Prevent event dispatch and script execution during UpdateViewAfterScroll, even in the presence of malign Win32 reentrant APIs. r=mats 
Bug 526394. Part 36: Store the overflow area explicitly whenever it's not exactly equal to the border-box; if they're both empty but with different dimensions or position, we should still store the explicit overflow area. Also fix test_offsets to compute the expected scrolled area correctly. r=mats 
Bug 539122 - Stop restyling non-elements with SVG. r=roc 
Bug 539331 - browser_sanitizeDialog.js is failing [r=mats] 
Backed out changeset a3af8424d938 
Backing out fix for bug 539331 due to test failures 
Bug 534433. Destroy all nsImageLoaders when the prescontext is torn down. r=mats 
Bug 536524. Avoid overlong paths by normalizing. r=bsmedberg 
Bug 538909. Correctly calculate index of top-left tile. r=dbaron 
Bug 539226. Ensure that when a scrollbar is added or removed the invalidation is not swallowed by the code that suppresses invalidation of hidden scrollbars. r=mats 
Backed out changeset 636a1f8ef224 
Backing out patch that wasn't meant to be checked in 
Bug 531259 - The SVG script element should respect the aFromParser flag on NS_NewElement. r=hsivonen, r+sr=jst 
Bug 538533 - If a complete update fails the update prompt should state the error and offer a link to download the update. r=dtownsend 
Backing out logging changed from Bug 538533 due to scoping issues. r=me 
Bug 539331 - browser_sanitizeDialog.js is failing, r=matspal 
Bug 539331 - browser_sanitizeDialog.js is failing part 2, r=matspal 
bug 539938 - Make L10n nightly updates work (for SeaMonkey), make generatesnippet.py accept a branch argument, r=armenzg 
Bug 539697 - valueAsString returns an incorrect failure code. r=jwatt 
Bug 539697 - missing files bustage fix 
Bug 539576 - SVGTransform matrix changes still not live in all circumstances. r=jwatt 
Backout Bug 539576 due to test failures 
Bug 539576 - SVGTransform matrix changes still not live in all circumstances (with bustage fix). r=jwatt 
Bug 540726 - User units for angles should be degrees. r=jwatt 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 540356 - Enforce a sane minimum interval of 60 seconds for app.update.timer and provide mechanism for tests to have a minimum interval of 500 ms. r=dolske 
Bug 536547 - 3.5.6 is downloading the same version for an update. This prevents resuming the download for an update with the same app version with the same build id.. r=dolske 
Bug 543312 - Remove the dependency on nsTryToClose.js from app update's ui. r=dietrich 
Bug 536547 - followup to fix log message 
Bug 539354. When scrolling an area that was partially outside the window into view, make sure we invalidate the destination area on Mac. r=mstange 
Bug 539720. Initialize cachedNewlineOffset. r=bz 
Bug 538935. A span should be considered non-empty (for the purposes of deciding whether stuff after it is 'at the beginning of the line') only if it contains non-empty content. r=dbaron 
Bug 542620. Need to paint the table background if columns or column-groups have backgrounds. r=dbaron 
Fix newline and merge. CLOSED TREE. 
bug 542222 - Reduce recursion in makefiles r=ted.mielczarek r=robert.bugzilla 
Bug 329212 - display the title element contents as a tooltip in SVG. r=dao,sr=bzbarsky 
Bug 374216 - Setting element.style.someSvgProperty has no effect. r=dbaron,sr=roc 
Mark regress-404755.js as random. see bug 544603. 
Backout the marking of the test in bug 544603. Igor has a different patch that will deal with it. 
Bug 544742 - fePointLight does not work with primitiveUnits=objectBoundingBox. r=roc 
Bug 536912 - getNumberOfChars() throws an exception if text is display:none. r=roc 
Bug 542620. Fix incorrect usage of nsFrameList. r=bzbarsky 
Bug 541406. Temporarily disable showing outlines on focused plugins. r=dbaron 
Bug 541406. Test 
Bug 523083. Don't bother caching the last nsContentList, it just creates leaks and probably doesn't help anything. r=peterv 
Backed out changeset eebf55548023 
Backing out bug 541406 due to test failure 
Backed out changeset 73f6051d6ff9 
Backing out bug 541406 due to test failure 
Bug 547596 - zoom events do not fire. r=jwatt 
Bug 510202 - xlink:title should only work on links. r=dao,sr=bzbarsky 
Merge mozilla-central to tracemonkey. 
Merge. 
Try to fix js1_8_5/extensions/ jsreftest directory. see bug 544757. 
Add test for bug 470795. 
Merge mozilla-central to tracemonkey. 
Patch for bug 547086 is causing a crash in the js tests. Backed out changeset 10a40c748aed 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 541406. Temporarily disable showing outlines on focused plugins. r=dbaron 
Bug 544399. Use nsLayoutUtils::SurfaceFromElement when comparing canvases. r=vlad 
Bug 503989. Break MediaLoadListener reference cycle at shutdown. r=sicking,doublec 
Bug 529263. Allow content IFRAMEs in chrome IFRAMEs to not be hooked into the view manager hierarchy. r=bz 
Bug 546530. Bound search for previous cluster start. r=smontagu 
Bug 546865. Stop creating widgets for XUL trees. r=mats 
Bug 545581. Stop checking view visibility at content/chrome boundary. r=mats 
Bug 534612 - clipPath references with clipPath elements do not work correctly. r=roc 
Bug 534425. Part 1: Create initial layers API. r=jmuizelaar,sr=dbaron 
Bug 534425. Part 2: Create BasicLayers implementation. r=jrmuizel 
Bug 534425. Part 3: Make nsRefPtr be more lenient about initializing from an already_AddRefed. r=bsmedberg 
Bug 534425. Part 4: Implement nsDisplayList::Paint using layers. r=mats,sr=dbaron 
Bug 534425. Part 5: Test that we push content to the bottommost Thebes layer when possible 
Bug 534425. Part 6: Let nsIWidgets expose a LayerManager to be used to render into the widget, instead of nsPaintEvent::renderingContext which is removed since it's no longer needed. Currently all widgets fall back to a default BasicLayerManager implementation. Also change nsPaintEvent::region to be an nsIntRegion, and get rid of nsPaintEvent::rect since it's redundant. 
Fix Windows bustage 
Fix Windows bustage again 
Bug 547854 - Improve outermost svg:title tooltip behaviour. r=dao,r=bzbarsky 
Bug 547062 - Implement restrictions on clipPath content. r=roc 
1. main patch - Bug 530872 - app.update.url params / update.xml cleanup and addition of a custom string property for apps. r=dtownsend 
2. updated xpcshell tests - Bug 530872. r=dolske 
3. ui changes to support mochitest chrome tests - Bug 530872. r=dtownsend 
4. mochitest chrome tests for app update - Bug 530872. r=dtownsend 
5. string cleanup for app update ui - Bug 530872. r=dtownsend 
Backed out changeset b35354fe21e3 
Back out due to Linux-64 build bustage 
Backed out changeset b4268cb7bf48 
Backing out fix for bug 543682 because test failed 
Backed out changeset c9ff351b0738 
Backing out more stuff to try to fix test failure 
Backed out changeset 1672d4c79e82 
Backing out bug 534467 to try to fix test failure 
Bug 499862. Need to flush out linebreaker stuff even if there are no mapped flows. r=smontagu 
Bug 520697. Fix build in some weird Vista configurations. r=jmathies 
Bug 532569. Support 'transparent' attribute on XUL IFRAMEs to integrate content documents into the chrome rendering hierarchy, with their background defaulting to transparent. r=mats,sr=bz 
Bug 536524. Normalize paths when possible/necessary to keep them under MAX_PATH limits. r=bsmedberg 
Bug 539323. Position the caret at the content-edge of its container frame, not the border-edge. r=mats 
Bug 545268. Decide whether to suppress a mouse event by looking at the suppression state of the document where the event is going to be delivered. r=smaug 
Bug 546033. AddScrollPositionListener lazily in nsCanvasFrame to ensure that it's not added during frame construction when the root scroll frame might not be set up yet. r=enndeakin 
Bug 546071. Compute view-to-widget offset for plugin views. r=mats 
Backed out changeset 78318b260f18 
Backing out fix for bug 546071 due to test failures 
Backed out changeset 79f299fc10d6 
Backing out fix for bug 543444 to try to fix places test hang 
Backed out changeset 9912050f4a4a 
Backing out fix for bug 541530 to fix test failure 
Backed out changeset 5125fc26166b 
Backing out fix for bug 541530 to fix test failure (CLOSED TREE) 
Backed out changeset 0923925b4b8f 
Backing out fix for bug 550351 to fix test failures (CLOSED TREE) 
Bug 550362 - Too much recursion through nsSVGEffects::InvalidateRenderingObservers with nested textPath. r=roc 
Bug 480178 - Billboard should extend to available space and the update UI should be the same width for all locales. Patch 1 - main changes without pinstripe changes. r=dtownsend, ui-r=faaborg 
Bug 480178 - Billboard should extend to available space and the update UI should be the same width for all locales. Patch 2 - pinstripe changes. r=dtownsend, ui-r=faaborg 
Bug 480178 - Billboard should extend to available space and the update UI should be the same width for all locales. Patch 3 - string changes. r=dtownsend, ui-r=faaborg 
Bug 510202 - simplify C++ code now that bug 461199 has landed. r=sdwilsh,sr=bzbarsky 
Bug 546071. Compute view-to-widget offset for plugin views. r=mats 
Bug 549184. Track 'has nonempty content been placed on this line yet' separately from 'has nonempty, non-span content been placed on this line yet'. r=dbaron 
Bug 549630. mViewToWidgetOffset is being calculated the wrong way around. r=mats 
Bug 550716. Snap layer bounds to nearest bpixels instead of outside pixels, to accurately reflect what we draw. r=mats 
Mark tests as failing if there's no test plugin 
Bug 538266. Part 1: create gfx3DMatrix. r=jrmuizel 
Bug 538266. Part 3: move nsSVGUtils::GfxRectToIntRect to nsLayoutUtils. r=mats 
Bug 538266. Part 2: add transform API to layer system. r=jrmuizel,sr=dbaron 
Bug 538266. Part 4: Fix setting of visible region to account for any transforms that have been set on the layer. r=dbaron 
Bug 538323. Part 1: create ImageLayers and associated API for displaying pixel-buffers in various formats. r=jrmuizel,sr=dbaron 
Bug 538323. Part 2: use ImageLayers to render video. r=kinetik 
Bug 552602 - Open Containing Folder button on about:support(Troubleshooting Information) page does not work. Fallout from bug 548426. r=dougt 
Bug 548061 - Billboard should handle 404 (other errors?) for billboard better. r=dolske 
Bug 551283 - Suspicious and possibly unused code in updates.js updateListener.onProgress. r=dolske 
Bug 549969 - Add ability to save xml attributes from update xml that app update doesn't care about. r=dolske 
Bug 545707 - Software update reports transfer speed in bytes per second. r=dolske 
Bug 552830 - Should not force rx=ry for a rect by clamping if one is omitted. r=jwatt 
Bug 553053 - Should not create frames for SVG animation elements, it interferes with clipPath validation and is inefficient. r=dholbert,sr=roc 
bug 541746 - fix test_frecency.js to work on SeaMonkey, r=dietrich 
Bug 554091 - negative rx and ry are unsupported rather than errors according to SVG1.2T. r=jwatt 
Bug 554561 - Failed partial not handled properly in UI. r=dtownsend 
Bug 552617 - A paused update can't be resumed when closing the window using a window manager control. r=dolske 
Merge tracemonkey to mozilla-central. 
Merge 
Bug 551632. endsInDiacritic frame property is set but never used. r=smontagu 
Bug 551637. collapseOffsetProperty is never used. r=mats 
Bug 551660. Create FramePropertyTable. r=mats,sr=dbaron 
Bug 551660. Switch layout code from using nsPropertyTable to FramePropertyTable. r=mats,sr=dbaron 
Bug 545049. When the overflow area of a transformed frame changes, we need to repaint the whole thing. r=mats 
Bug 545049. Capture the pre-transform overflow area of a frame and use it in InvalidateOverflowArea. r=mats 
Bug 548792. When scrolling content into view, make sure to check scrollable elements in ancestor documents. r=mats 
Bug 551635. Don't crash if we focus the root element and there's no root scroll frame. r=mats 
Bug 551463. Don't clamp scroll positions during reflow, do it during a post-reflow callback so that temporary frame size changes don't clamp when they shouldn't. r=mats 
Backed out changeset 4df05ea5fe1b 
Backing out fix for bug 548792 to try to fix test failure in test_caretmove.html 
Bug 388547 - initial support for x,y,dx,dy,rotate lists on SVG text and tspan elements. r=roc 
Bug 388547 - initial support for x,y,dx,dy,rotate lists on SVG text and tspan elements (missing reftest files). r=roc 
Bug 388547 - revert reftest change to get tree green. 
Bug 388547 - reenable reftest. 
Bug 521636 - A single rotate number should rotate all glyphs. r=roc 
Bug 550029. Don't try to run treeview script if the document global object has gone away. r=smaug 
Merge mozilla-central to tracemonkey. 
Bustage fix: Change canvas quickstub tvr usage to the new name. 
Bustage fix: change ctypes to use finite() and the correct name for tvrs. 
Merge. 
Fix up a little merge fail so that infallible malloc macros don't get run on js/src files. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Fix merge bustage. 
Merge. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge. 
Merge. 
JSON stringify and parse have the wrong length. bug 554082. r=waldo 
Bug 554079: JSON.parse should reject control characters. r=waldo 
Bug 554152: Fix handling of space parameter match final spec. r=waldo 
Bug 554851: MSVC warning C4345 is lame. r=lw 
Bug 554798: msvc warning in json.cpp. r=waldo 
Bug 554850: silence JSBool -> bool conversion warnings in msvc. r=waldo 
Disable reftest 508908-1.xul. See bug 556124. 
Merge mozilla-central to tracemonkey. 
Fix up the tests from bug 555246 to run when there's no evalcx function available. 
Fix thinko in test. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 538331 - On update perform action based upon the update metadata. r=dietrich, r=dtownsend, r=gavin, ui-r=beltzner 
Typo fix for Bug 552617. r=me 
Test only fix - Bug 553763 - [SeaMonkey 2.1] mochitest-chrome: bug 530872 update ui tests time out. r=me 
Bug 553905 - data parser should parse up to a failure and not scrap the whole path. r=jwatt 
Bug 556808 - ASSERTION: unknown nsISVGValue: Not Reached, when appending segment to SVG path. r=jwatt 
Bug 456286 - support altGlyph elements as tspans. r=roc 
FF 3.5.2 native JSON.stringify replacer applied only to array items, not object properties. bug 509184. r=waldo 
Merge mozilla-central to tracemonkey. 
Bug 505228. JSON.stringify generates non standard output if space is defined. r=sayrer 
Merge 
worker-error.js passes now. 
Merge mozilla-central to tracemonkey. 
Fix merge bustage. 
Merge mozilla-central to tracemonkey. 
Backed out changeset c9faf5a2bc75 
Merge 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 559562. Fix Windows a11y test using obsolete getter syntax. 
Bug 539717 - update is paused, can't unpause. r=dtownsend 
Bug 559562. Fix Windows a11y test using obsolete getter syntax. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge 
bug 560867 - test_contextmenu should test for label existence and give slightly better log info, r=gavin a=jimm|sheriff for CLOSED TREE 
Bug 556052. Compute mViewToWidgetOffset correctly and fix bugs by adding subpixel translation when painting. r=mats 
Bug 550330. Try harder to find a document with a layer manager that we can use to create our ImageContainer. r=mats 
Bug 548792. Let the search for a scrollable parent cross document boundaries. r=mats 
Bug 548792. Fix rect coordinate adjustment. r=mats 
Bug 534566. Use separate nsPropertyTables for different categories so we don't pollute the property name list with unrelated names. r=sicking 
Backed out changeset 7432d20f5b86 
Backout 7432d20f5b86 to try to fix test failures 
Backed out changeset e79947cb55bc 
Backing out e79947cb55bc to fix test failures a=me (CLOSED TREE) 
Backed out changeset 1af19eedbde2 -- Fix sharpSlots vs. with grudge-match (561011, r=mrbkap). 
Merge 
Fix busted test from Bug 558830 - Trace script getters. 
Someone should teach me to write JavaScript. Really fix busted test from Bug 558830 - Trace script getters. 
Merge mozilla-central to tracemonkey. 
Bug 560650 - TM: json code should use JS_Enumerate. r=gal 
Merge tracemonkey to mozilla-central. a=1hr 
Update json.cpp comment. a=1hr 
Merge tracemonkey to mozilla-central. a=1hr 
Backed out changeset 35c25547a135 
Backing out fix for bug 560358 to fix regressions and test failures (see bug 561700) a=philor 
Merge. 
Merge mozilla-central to tracemonkey 
Merge mozilla-central to tracemonkey 
Merge mozilla-central to tracemonkey. 
Update dense array cloning with new factoring of getDenseArrayCapacity 
Merge. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
bug 563151 - split test files to install into two groups to not run into commandline overflows on Windows (fixes SeaMonkey debug bustage), r=ted a=peterv for pushing 
Bug 562765: Searching for add-ons doesn't show results when there is no description set for an add-on. r=bmcbride 
Bug 562847: extensions.css font-size: 120% is not terminated. r=dtownsend 
Bug 562848: Lightweight themes without descriptions display undefined for text. r=dtownsend 
Bug 490003: Take outer <svg> element's border and padding into account, for invalidation and hit-testing. r=roc 
bug 563864. Add mozPaintCount API. r=smaug,sr=vlad 
Bug 489477. Part 1: reflow lines again for clearance while we pull lines from the next-in-flow. r=mats 
Bug 489477. Part 2: nsOverflowTracker should drop references to deleted frame lists. r=fantasai,sr=mats 
Bug 538062. Call SetPrimaryFrame when we create the text frame for the text content in the display node of a combobox, so that the text frame will be notified when the content changes. r=mats,sr=dbaron 
Bug 564993. Part 1: Remove CopyFrom API, it won't be used. r=Bas 
Bug 564993. Part 2: Don't flatten the layer tree in layout. r=mats 
Bug 564993. Part 3: Split nsDisplayList::Paint into PaintForFrame and PaintRoot. Set the visible rect on the root layer from PaintRoot, let the visible rects of other layers be set when they're placed in their containers. r=mats 
Bug 561959. Implement ColorLayer, which paints a solid color into its layer. r=bas,sr=vlad 
Bug 561959. Replace solid-color ThebesLayers with ColorLayers. r=dbaron 
Bug 538062. Remove mTextFrame field from nsComboboxControlFrame since it's no longer needed. r=mats 
Backed out changeset 054698c2cb8f 
Back out part of fix for bug 538062 to fix accessibility tests 
Bug 547924. Paint <canvas> using EXTEND_PAD to prevent seams. r=vlad 
Bug 561959. Replace solid-color ThebesLayers with ColorLayers. r=dbaron 
Bug 559241. Reflow non-dirty overflow container children if we're supposed to reflow all kids. r=dbaron 
Bug 522859. Refactor cairo-quartz-surface so that state local to a drawing operation is stored in a cairo_quartz_drawing_state_t instead of the surface. r=jrmuizel 
Bug 565875. Part 1: Refactor PlanarYCbCrImageOGL to make ownership of its temporary buffer more explicit. r=bas 
Bug 565875. Part 2: Create GLTexture wrapper to manage texture lifetimes and ensure textures are released on the main thread. r=bas 
Bug 565875. Part 3: Recycle temporary buffer used by PlanarYCbCrImageOGL to avoid reallocation/recommit costs (especially on Mac). r=bas 
Bug 565875. Part 4: Recycle textures used by PlanarYCbCrImageOGL to avoid reallocation/recommit costs (especially on Mac). r=bas 
Marking passing test as passing, thanks to bug 547924 
Backed out changeset b50002597112 
Bug 522859. Refactor cairo-quartz-surface so that state local to a drawing operation is stored in a cairo_quartz_drawing_state_t instead of the surface. r=jrmuizel 
Bug 565569. Set primary frame for anonymous text in buttons. r=mats 
Bug 564993. Part 4: Add trivial user-data API so layout can attach data to layers. r=Bas,sr=vlad 
Bug 564993. Part 5: Change ThebesLayer painting to be callback-based; move layer tree construction to FrameLayerBuilder. r=Bas,mats,sr=vlad 
Backed out changeset efa8719a93d2 
Bug 552859. Fix cairo patch to relfect what I actually landed. Not part of the build. 
Bug 562151 - allow post-update helper application on mac. r=rstrong 
Bug 566807 - Workaround Bug 566787 when checking for incompatible add-ons. r=dtownsend 
Bug 567054 - Cc and Ci are not defined in updates.js. r=dtownsend 
Bug 566267 - Simplify app update mochitest-chrome tests (rename files). r=dtownsend 
Bug 564993. Part 5: Change ThebesLayer painting to be callback-based; move layer tree construction to FrameLayerBuilder. r=Bas,mats,sr=vlad 
Remove code that I need to back out that slipped into the wrong patch 
Backed out changeset b37bdb032fe7 
Backing out bug 564993 part 5 again due to leaks 
Bug 564993. Part 5: Change ThebesLayer painting to be callback-based; move layer tree construction to FrameLayerBuilder. r=Bas,mats,sr=vlad 
Port over part of changeset eaea9e3806a3 to FrameLayerBuilder to fix reftest failure in ogg-video/clipping-1a.html 
Bug 564993. Fix build error, and fix Bas' review comment. 
bug 567587 - consistent IDs for view(Partial)Source, kill unused page editing function, r=gavin 
fix debug build bustage from Bug 559408. 
fix windows debug build bustage from Bug 559408. 
Backed out changeset 4eca3e990ec0 
Backed out changeset e0d454817dfd 
Merge. 
Backed out changeset 919950c7f0f0 
Merge. 
Backed out changeset 60c4693a80ef 
Merge. 
Disable most of test_wrappers.html until we fix 564954. 
Disable generator-using test until bug 565199 is fixed. 
Ahem. Disable generator-using test until bug 565199 is fixed. 
Merge mozilla-central to tracemonkey 
Merge mozilla-central to tracemonkey. 
Get rid of some js_AllocStack usage. 
Disable msvc warning C4800 
Merge 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey. 
Bug 566267 - Simplify app update mochitest-chrome tests (updated tests). r=dtownsend 
bug 566613 - fix typo wasVisbile in treeView.js and use nodeAncestors in invisible node lookup, r=Mano 
Bug 564719 - SVG length parsing should indicate an error when it only contains whitespace. r=jwatt 
Bug 561726 -  make animateTransform work on gradientTransform and patternTransform. r=jwatt 
Bug 561726 -  bustage fix, mark reftest as failing on mac 
Bug 567184 - A bootstrap add-on with a target app version less than the current app version is enabled when installed. r=dtownsend 
Bug 552537. Cache the CGImageRef that we create for a CGBitmapContext so that we can take advantage of Quartz caching optimizations. r=jrmuizel 
Bug 559499. Don't need to put the children of nsCanvasFrame in a psuedo-stacking-context. r=mats 
Bug 568041. Add user-data API and GetRoot to LayerManager. Move mVisibleRegion into Layer. r=bas,sr=vlad 
Bug 586041. Part 2: refactor RemoveChild. r=bas 
Bug 568189. Part 3: Remove snapshot backend function since it doesn't work and we may as well just fall back. r=jrmuizel 
Bug 568189. Implement CGLayer-backed cairo-quartz surfaces. r=jrmuizel 
Bug 568189. Create gfxASurface::CreateSimilarSurface API. r=jrmuizel 
Bug 568390. When a Mac plugin is  instantiated, as well as showing the widget we need to explicitly invalidate our frame. r=josh 
Backed out changeset 95894b2d2c52 
Backing out fix for bug 565904 to fix test failures 
Fix test_button03 UNEXPECTED PASS 
Backed out changeset 2f626891ac2b 
Backed out changeset cf9fcc2c89b1 
Backout bug 566128 to fix test failures 
Backed out changeset 25c7d2e71e57 
Backout bug 566128 to fix test failures 
Bug 552537. Add patch to list. 
Bug 568189. Add patches to list. 
Bug 522065 - PCA complains when installer is cancelled (uninstaller fix is bug 569058). r=ted.mielczarek 
Bug 546595 - Add mochitests for the incompatibleList and incompatibleCheck pages. r=dtownsend 
Bug 569648 - First async XHR without other network activity has null securityInfo for the channel when using auto-detect proxy. r=dveditz 
no bug - whitespace fix to force another build to kick off 
(transplanted from 54b1ef73016757af0ac0fa2970867a8d9a5f0c7b) 
(transplanted from b219912edfec87b80b97b44b6831868c7b1dcf31) 
Backed out changeset 52be13ea0488. Bug 556277 - Compute this eagerly in more cases. r=brendan. Suspected of performance regression on SunSpider unpack-code. 80ms -> 135ms. 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 570354 - CSS mapping missing for link elements. r=jwatt 
Bug 569463 - Stop coverity complaining about GetParsedAttr call in RebuildPathAndVerticesFromMpathElem. r=jwatt 
Bug 570555 - CSS animation on font-size should not require units. r=dholbert,sr=roc 
Bug 571036: Add reftest-wait to reftest dynamic-use-nested-01.svg to hopefully fix randomorange. r=dholbert 
bug 570788 - Incorporate improvements from SeaMonkey places review into Firefox code - round 1, r=sdwilsh 
Bug 569058 - Upgrade NSIS version to 2.45 or later (PCA complains when installer is cancelled on Windows 7). configure.in, autoconf.mk.in, and makensis.mk changes only. r=ted.mielczarek 
Bug 526333 - Having to create patches for each app's package manifest and removed-files and then get reviews from each app is a PITA. configure.in changes for MOZ_UPDATER only. r=ted.mielczarek 
Bug 485114 - Add plugin for modifying file permissions and move NSIS plugins under other-licenses. r=bsmedberg 
Followup bustage fix for Bug 569058 - don't use a cached var. 
Followup comm-central bustage fix for Bug 569058 - backout makensis.mk changes until comm-central's configure.in is updated 
Bug 570066 - Update UI dialogue box in Firefox disappeared before Firefox could be updated. r=dtownsend 
Bug 570680 - Remove call to check-locales.pl for Firefox. r=vlad 
Followup bustage fix for Bug 570680 
Bug 521349 - crash reporter should submit to a URL including some client info for stat mining from access logs. r=vlad 
Bug 568392. Part 1: fix reftests so they pass if the scrollbars are visible. r=dbaron 
Bug 568392. Part 2: fix reftest images to match descriptions. 
Bug 568392. Part 4: Add reftests for scrolling. 
Bug 572287. Fix leak of mThebesComputationalSurface. r=jwatt 
Bug 572288. Fix surface leak in CreateSimilarSurface. r=jrmuizel 
Bug 572283. Fix CanvasLayerOGL to work with retained layers (and on Mac). r=vlad 
Bug 572283. Part 2: Retain CGLContext for the lifetime of its widget. r=vlad 
Bug 572283. Part 3: Fix compiler warnings. r=vlad 
Bug 572912. Fix surface type passed to cairo_quartz_surface_create during fallback for CGLayers. r=jrmuizel 
Bug 56839. Part 3: Make reftest harness draw with scrollbars and use the window's layer tree, when possible. r=dbaron 
Fixing bustage 
Backed out changeset 5a07f228795b 
Backout reftest harness change due to test failures on Windows 
background-zoom-4 passes on Mac currently 
Merge 
Bug 562795: Fix update tests to ignore application extensions. r=dtownsend 
Backout bug 487404 
Backout bug 487404 - fix mochitest 
Bug 572224 - Remove check-locales.pl. r=ted.mielczarek 
Bug 569058 - Upgrade NSIS version to 2.45 or later (PCA complains when installer is cancelled on Windows 7). overrides.nsh changes. r=jmathies 
Bug 569058 - Upgrade NSIS version to 2.45 or later (PCA complains when installer is cancelled on Windows 7). makensis.mk changes. r=jmathies 
Bug 571387 - Use the official Unicode UAC and ShellLink distributions. r=jmathies 
Bug 367539 - When upgrading an existing install use the uninstall.log to uninstall the previous version before install. r=jmathies 
Fix review comment for Bug 569058 - Upgrade NSIS version to 2.45 or later (PCA complains when installer is cancelled on Windows 7). overrides.nsh changes. r=jmathies 
Bug 367539 - When upgrading an existing install use the uninstall.log to uninstall the previous version before install. Exclude MapiProxy_InUse.dll and mozMapi32_InUse.dll since apps already have code to deal with them without requiring a reboot. r=dtownsend 
Bug 367539 - When upgrading an existing install use the uninstall.log to uninstall the previous version before install. Final cleanup patch. r=jmathies 
Bug 570689 - Convert perl scripts to python. Patch 1 - remove unused perl scripts. r=ted.mielczarek 
b=573944 invalidate windowless plugins on instantiation r=josh 
Merge. 
Bug 573946. Move include of prlog.h to the start of files. r=mstange 
Bug 573931. Make XUL tree scrolling just repaint. r=enndeakin 
Bug 572914. Overflow areas for theme backgrounds should not be clipped by -moz-hidden-unscrollable. r=dbaron 
Bug 572612. Make scrollbars appear in the background/border layer of the scrollable element. r=mats 
Bug 572317. Allow snapped rectangles to snap even if there's a 90 degree rotation. r=jrmuizel 
Bug 572282. Reuse main window layer tree to paint child windows. r=mats 
Bug 568392. Part 3: Make reftest harness draw with scrollbars and use the window's layer tree, when possible. r=dbaron 
Bug 564991. Part 28: Update test manifest to reflect fewer assertion failures on Mac (probably because of less painting). 
Bug 575524: browser_bug562890.js fails with other application extensions installed. r=dtownsend 
Bug 575524: browser_bug562890.js fails with other application extensions installed. r=dtownsend 
Bug 573687 - Clamp radial gradients with small radii correctly. r=jwatt 
Bug 576033  - Accept-Encoding syntax causes upstream cache inefficiency.  r=jduell 
Bug 557120 - [SeaMonkey 2.1] mochitest-plain-1: it seems test_bug457672.html "leaks the world". r=smaug 
Bug 564991. Part 6: Make BasicLayers support retained ThebesLayer contents. r=cjones,sr=vlad 
Bug 574249 - Polyline should display up to the point of a parse error. r=jwatt 
Bug 576802 - Fix crash with gradientTransform animate. r=jwatt 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Fix rooting API differences. will get review after the fact, taking care of bustage now. 
Merge. 
Merge mozilla-central to tracemonkey. 
Do a trivial rooting change instead of the more involved one I tried after the merge. 
Merge mozilla-central to tracemonkey. 
try to fix moz_free macro substitution bustage on Windows by reordering includes 
Squash warning, rebuild with Windows clobbered. 
Backed out changeset 562f69adb6b8 
Merge backout. 
Move includes in JetpackActorCommon.cpp only. 
Fix bustage from jetpack including jstl on Windows. 
Merge mozilla-central to tracemonkey. 
Fix ObjectWrapperChild bustage 
merge 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
add logging data for websocket test failure. 
tweak error formatting in flaky test 
Merge mozilla-central to tracemonkey. 
add yet more debugging info to the websocket test. 
Push more logging. 
Merge mozilla-central to tracemonkey. 
Merge. 
Comment out part of the flakiness in the websocket test. 
add some logging to reftest 
Mark a few bidi tests random. see bug 578286. 
merge tracemonkey to mozilla-central. 
Merge 
Bug 576986 - Fix pointer-events on foreignObject with clip-path. r=roc 
Bug 573953. Ensure that zoom factors are chosen in reftests so appunits-per-dev-pixel is an integer. r=dbaron 
Bug 573933. Part 1: Fix marquee tests to not depend on subpixel AA. r=dbaron 
Bug 573933. Part 2: disable -moz-appearance for troublesome GTK2 themes. r=dbaron 
Bug 573933. Part 3: Fix button-state test to render a margin around the button so we don't get into any weird sampling issues. Also, use a canvas that's just as big as necessary. r=dbaron 
Bug 572623. Rename nsDisplayItemCanvas to nsDisplayCanvas. r=vlad 
Bug 576453. Let the reftest window auto-size itself to fit the browser element. r=dbaron 
Bug 564991. Part 1: Create a new kind of frame property that can receive a frame pointer when its destructor is called. r=mats 
Bug 564991. Part 2: Create retained layer API: methods on FrameLayerBuilder that frames can use to access, reuse and invalidate retained layers. r=mats,sr=vlad 
Bug 564991. Part 4: Create GetFrameKey API. r=tnikkel,sr=mats 
Bug 564991. Part 5: Make GetClipRect return a const reference. r=tnikkel 
Bug 564991. Part 7: Create Begin/EndDeferredInvalidates API so we can catch and defer invalidates on frames (and suppress certain areas completely). r=mats,sr=dbaron 
Bug 564991. Part 9: Retain layer trees. r=tnikkel,sr=mats 
Bug 564991. Part 10: When NS_DOCUMENT_STATE_WINDOW_INACTIVE changes, flush the contents of all ThebesLayers. We need to do this because this change can change the rendering of themed content, and explicitly tracking and invalidating all such content would be way too expensive to justify. r=mats 
Bug 564991. Part 11: Start retaining layer trees. r=mats 
Bug 564991. Part 12: Refactor RenderDocument to use nsLayoutUtils::PaintFrame. r=mats 
Bug 564991. Part 13: Optimize invalidation to avoid repainting ThebesLayer contents sometimes. r=mats,sr=dbaron 
Bug 572613. Avoid creating a SolidColor display item when possible by poking the color into the canvas background display item. r=tnikkel 
Bug 564991. Part 14: Scroll using the layer system. r=mats,sr=dbaron 
Bug 564991. Part 15: Start retaining the contents of BasicLayers. r=mats 
Bug 564991. Part 16: Improve performance by putting each scrollbar in its own layer. Also note that Mac scrollbars are opaque. r=mats,sr=dbaron 
Bug 564991. Part 17: Reimplement ColorLayers. r=mats 
Bug 564991. Part 19: Cache the backbuffer surface for performance wins. r=vlad 
Bug 564991. Part 22: Mark scrolled elements as inactive after a timeout. r=mats 
Bug 564991. Part 23: Introduce the concept of 'inactive' layers. r=mats,sr=dbaron 
Bug 564991. Part 24: Make video layer inactive if the video is not playing. r=doublec 
Bug 564991. Part 25: Introduce a 'has active layers' flag on frames, which times out, and use it for 'opacity'. r=mats,sr=dbaron 
Bug 564991. Part 26: Put background-attachment:fixed backgrounds that propagated to the canvas in their own layer. r=mats,sr=dbaron 
Bug 572900. Part 1: Remove view cruft that's not needed now that scrolling is layer-based. r=tnikkel 
Bug 564991. Part 27: Make plugin geometry changes asynchronous and make them happen as close to the final paint as possible. r=matspal,sr=vlad 
Bug 564991. Part 29: Sort plugins so they get moved in the best order. r=karl 
Bug 573942. Adjust transform matrix in RenderDocument to ensure that components close to integers become actual integers. r=jrmuizel,sr=vlad 
Bug 564991. Part 30: Skip clearing our ThebesLayerBuffer surface if we just created it. r=cjones 
Bug 564991. Part 31: Don't cull display items in nsDisplayList::ComputeVisibility. r=mats 
Bug 577631. Don't pass zero sizes to XCreatePixmap. r=jrmuizel 
Bug 564991. Part 32: Fix assertion in BasicThebesLayer; it's entirely possible that we need to invalidate an area, but the actual visible region is empty so there's no context to draw to. r=cjones 
Bug 564991. Part 33: Copy data out of hashtable in DrawThebesLayer in case hashtable is modified during the method. r=tnikkel 
Bug 564991. Part 34: Make sure that ThebesLayerBuffers are always allocated as similar surfaces to the widget surface, whenever possible. r=cjones 
Bug 564991. Part 35: Fix text decorations to have a unique GetPerFrameKey. r=tnikkel 
Bug 564991. Part 36: Newly-instantiated plugins should be clipped to be invisible until we set their geometry correctly. r=mats 
Bug 564991. Part 37: Add test plugin API to make the plugin invalidate itself during each paint. r=josh 
Bug 564991. Part 38: Make invalidation-during-paint work reliably. r=mats,sr=dbaron 
Bug 564991. Part 39: Accumulate the full opaque rect of opaque display items, and don't simplify away opaque areas of display items low in z-order. r=tnikkel 
Bug 564991. Part 40: ThebesLayers painted with variable opacity can still be OPAQUE_CONTENT themselves. r=bas 
Bug 564991. Part 41: When we clear our buffer, we need to redraw the entire visible region. r=cjones 
Bug 564991. Part 42: When the root frame changes size, invalidate the changed area. r=tnikkel 
Bug 564991. Part 43: Fix coordinates for invalidating fixed-attachment backgrounds. r=tnikkel 
Bug 564991. Part 44: Move IsFixedAndCoveringViewport implementation to nsDisplayBackground so it can work on any frame, not just the canvas background. r=tnikkel 
Bug 579017 - Fix crash calling nsSVGAngle::NewValueSpecifiedUnits. r=jwatt 
Bug 577475 - polygon end marker should be at the same point as the start marker. r=jwatt 
Bug 487649 - Markers handle viewBox and preserveAspectRatio badly. r=jwatt 
Bug 562833. Set proper alignment for display items. r=dbaron 
Bug 567805. Call UpdatePlaybackRate whenever duration is set. r=doublec 
Bug 579262. Fix logic around mNeedsToUpdatePluginGeometry so we don't miss updating geometry for some plugins. r=tnikkel 
Bug 576332. Don't dispatch synthetic mouse move events if our root view has no widget. r=dbaron 
Bug 540537 - In China, set default browser does not work. r=jmathies, a=blocking2.0 
Bug 580579 - While creating services from category 'profile-after-change', service for entry 'nsUpdateServiceStub', contract ID '@mozilla.org/updates/update-service-stub;1' does not implement nsIObserver. r=dtownsend, approval2.0=dtownsend 
Bug 579250. Revamp unified-titlebar interface so that we can tell nsNativeThemeCocoa about toolbars even if they're not actually painted. r=mstange 
Bug 579262. Inherit FLAG_DESTINED_FOR_SCREEN into BasicLayer rendering. r=vlad 
Bug 579264. Ensure that ApplyRenderingChangeToTree repaints popup descendants of the frame. r=bz 
Bug 578309 - mask and clipPath applied to foreignObject are translated. r=roc a=blocking 
Backout Bug 578309 due to mochitest failures 
bug 582657 - Docshell test failures after SeaMonkey switch to tabbed browsing - just add a null-check for win.location, r=bz a=test-only 
Bug 574621. Make sure top level content documents get an opaque background. (patch modified to review comments by romaxa) r=tnikkel 
Backed out changeset e393b9673207. ( Bug 573803 - add SSL WebSocket support to mochitest. r=ted ) 
Merge backout. 
[Windows only] patch 2 - convert preprocess-locale.pl to python rev3 for Bug 570689 - Convert preprocess-locale.pl to a python script. r=ted.mielczarek, approval2.0=benjamin 
[Windows only] use absolute paths for Bug 575838 - Build scripts should be able to handle @BINPATH@/extensions/testpilot@labs.mozilla.com/* in package-manifest.in for the installer. r=ted.mielczarek, approval2.0=benjamin 
Uupdate Firefox package-manifest.in for Bug 575838 - Build scripts should be able to handle @BINPATH@/extensions/testpilot@labs.mozilla.com/* in package-manifest.in for the installer. r=ted.mielczarek, approval2.0=benjamin 
[Windows only] patch 3 - cleanup and a typo fix for Bug 570689 - Convert preprocess-locale.pl to a python script. r=ted.mielczarek, approval2.0=benjamin 
Change a comment to match the surrounding code. 
(b=583450, 583375) Fix ShaderLang.h bustage. Commas at the end of enum lists. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
Merge 
Add some debugging data to a failing test. 
Backed out changeset d8bbb2ef3038. (Igor Bukanov – bug 579957 - parent as a field in JSObject. r=lw) 
Merge backout. 
Change a comment to match the surrounding code. 
Merge mozilla-central to tracemonkey. 
Fix ShaderLang.h bustage. Commas at the end of enum lists. 
Bug 583493 - nsTransactionItem log spew is making working with tinderbox impossible. 
Backed out changeset af011e92ad0b. (Dave Herman – bug 583281, r=jimb: njs should get symlinked into objdir). This doesn't build on windows. 
Merge backout. 
Back out changeset c877176cbbed in order to get Windows compiling. (Bug 582479 - TM: Assertion failure: (&cx->regs->sp[1 - (iargc + 2)].toObject())->isFunction().) 
Backout changeset 80382d88b92c. (Bug 577648 - arguments.callee.caller does not work in FF 4 under certain circumstances). The patch is righteous, but MSVC's behavior with a mere 3GB of addressable memory is not. Will reland soon. 
Remove tests associated with backouts. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Reland bug 577648 tests. 
Merge. 
Reland: Bug 577648 - arguments.callee.caller does not work in FF 4 under certain circumstances. 
Merge 
Reland Bug 582479 - TM: Assertion failure: (&cx->regs->sp[1 - (iargc + 2)].toObject())->isFunction(). 
Merge relanding of bug 577648 and bug 582479. 
Merge tracemonkey to mozilla-central. 
CertUtils.jsm patch for Bug 544442 - Add support for signed AUS update snippets. r=dveditz, r=dtownsend, a=blocking2.0-Beta3 
App update patch for Bug 544442 - Add support for signed AUS update snippets. r=dtownsend, a=blocking2.0-Beta3 
Bug 579349. Track the 'drawn region' of content in layers, whhich ignores visibility, and use it to determine which layer a display item should be placed in. r=tnikkel 
Bug 581317. DoApplyRenderingChangeToTree needs to invalidate the ThebesLayer contents of descendants. r=tnikkel 
Bug 582467. With accelerated layer backends, we should always treat video layers as active to avoid having to read back; no point in saving composition costs on those backends anyway. r=vlad 
Bug 580160. Test plugin needs to invalidate itself if its size changes. r=josh 
Backed out changeset edd01aafe372 
Backout edd01aafe372 to fix red 
Fix reftest for bug 579349 
Bug 580494. Avoid creating an empty ThebesLayer when an inactive nsDisplayItem::BuildLayer returns null. r=tnikkel 
Merge tracemonkey to mozilla-central. (CLOSED TREE) 
Backed out changeset c6131ed87e9c. Jason Orendorff — Bug 583262 - Remove security checks on f.prototype.constructor property at last. r=mrbkap. Causing nightly topcrash. 
Merge backout. 
Backed out changeset c6131ed87e9c. Jason Orendorff — Bug 583262 - Remove security checks on f.prototype.constructor property at last. r=mrbkap. Causing nightly topcrash. 
Bug 579356: Limit recursion in CalcBezLength for SVG path length-calculation. r=dholbert a=blocking 
Bug 584252 - disallow non-standard extensions to float syntax (r=jorendorff) (CLOSED TREE) 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Backed out changeset 504bc84513b0. Andreas Gal – Ensure that JSOPTION_UNROOTED_GLOBAL is set when we cycle collect (stop-gap measure for bug 584495, r=brendan). default tip 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 577850 - A gradient applied to SVG Text element should render as if the objectBoundingBox spans the entire Text content. r=roc 
Bug 584193. Allow print preview to work without its own widget. r=smaug 
Bug 579621. Don't create widgets for chrome subdocuments of chrome windows. r=tnikkel, a=blocker 
Backed out changeset 96ef97b766e6. (Bug 458271 - Property cache causes resolve hooks not to be called. r=brendan.) 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
bug 570788 - Incorporate improvements from SeaMonkey places review into Firefox code, round 3 (PUIU, PC, sbUtils), r=mak a=gavin 
bug 570788 - Incorporate improvements from SeaMonkey places review into Firefox code, round 4 (tree), r=mak a=gavin 
Backed out changeset 66c25030a8d4 
Backing out bug 569520 to fix test failures 
Backed out changeset 464f978cfca5 
Backing out bug 569520 to fix test failures 
Backed out changeset b7900afb72e5 
Backing out bug 577607 to fix test failures 
Backed out changeset 0c4519d63a98 
Backing out bug 577607 to fix test failures, a=me 
Bug 497808. Enable dumping of cycle-collector graphs in any debug build. r=peterv,a=blocking 
Fix bustage from changeset 2e2b2ae083e5, a=me 
Backed out changeset 0386f606ef5b 
Backed out changeset 2e2b2ae083e5 
Backing out bug 497808, a=me 
Bug 585838 - Disable update checks in any tests running in the browser. r=dtownsend, a=dtownsend 
Bug 586194 - move never pref check into selectUpdate and use services js module in app updat. r=dtownsend, approval2.0=bsmedberg 
Bug 523410 - Disable LSPs in WinSock that don't have categories for Firefox on Windows Vista and above. r=khuey, a=blocking2.0-beta4 
Bug 579258. Change IsVaryingRelativeToMovingFrame to take the 'moving frame' as a direct parameter instead of getting it from the builder. r=tnikkel,a=joe 
Bug 579258. Remove the 'before move' region parameter to ComputeVisibility. r=tnikkel,a=joe 
Bug 579258. Remove dead nsIWidget::Scroll code. r=karlt,a=joe 
Bug 579621. Don't create widgets for chrome subdocuments of chrome windows. r=tnikkel 
Bug 537890. Part 1: Add nsIWidget::GetDPI and nsIWidget::GetDefaultScale and use them to set up device contexts. r=vlad,sr=dbaron 
Bug 537890. Part 2: Get DPI values for Mac, Windows, and X. r=jmathies,josh,karlt 
Bug 537890. Part 8: Define MM_PER_INCH_FLOAT. r=dbaron 
Bug 537890. Part 3: Remove gfxPlatform::GetDPI(). r=vlad 
Bug 537890. Part 4: Make points be a fixed number of CSS pixels. r=dbaron 
Bug 537890. Part 4.5: Create 'mozmm' unit for physical millimeters on screen devices. r=dbaron 
Bug 537890. Part 5: Make pc, in, mm and cm be a fixed number of CSS pixels. r=dbaron 
Bug 537890. Part 6: Switch DPI dynamically when the window moves across screens or the screen mode changes. r=dbaron 
Bug 537890. Part 7: Tests for pt/pc/mm/cm/in not being physical units, and for mozmm being physical units. r=dbaron 
Bug 537890. Part 9: Make accessibility's font-size text attribute return 'pt' values calculated as 4/3 of a px, not based on the DPI of the user's monitor. r=surkov 
Bug 537890. Part 10: Fix nsPresContext and nsIDeviceContext unit-conversion methods to be explicit about using CSS logical units instead of physical units. r=dbaron 
Bug 537890. Part 11: Introduce _TO_INT_TWIPS macros and have some _TO_TWIPS callers use _TO_INT_TWIPS instead. r=dbaron 
Bug 584282. Add nsDisplayItem::mToReferenceFrame and initialize it in the constructor. r=tnikkel,a=dbaron 
Bug 584282. Use nsDisplayItem::ToReferenceFrame() instead of calling nsDisplayListBuilder::ToReferenceFrame, wherever possible. r=tnikkel,a=dbaron 
Bug 522859. Handle unbounded cairo operators properly in the Quartz backend. r=jrmuizel,a=joe 
Bug 580834. Make nsLayoutUtils::GetActiveScrolledRoot stop at the nearest popup ancestor instead of asserting. r=tnikkel,a=dbaron 
Dummy commit 
Backing out bug 584282 and bug 537890 
Backing out bug 584282 and bug 537890 
Merge mozilla-central to tracemonkey. 
Merge merge. 
Merge mozilla-central to tracemonkey. 
Disable the test for bug 458898. See bug 562955. 
Fix bustage on Mac PPC. 
Try to fix Maemo 4 build. 
Try to fix Maemo 4 again 
Try to fix Maemo 4 again again. 
Try to fix Maemo 4 again again again. 
Try to fix Maemo 4 again again again. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Backed out changeset 1406935fced4. Brian Hackett – Put JSStackFrame.scopeChain/blockChain behind an interface, bug 586533. r=lw. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 584322 - feDisplacementMap seems to be adding an offset. r=roc, a=dbaron 
Backed out changeset 7b475a00cd7c. Reftest bustage. 
Merge backout. 
Bug 584322:  Fix confusion between premultiplied and non-premultiplied colors that was causing feDisplacementMap to offset the result incorrectly.  r=roc  a2.0=dbaron 
Bug 587317: Fix test_offsets to succeed on all platforms including D2D. r=dbaron 
Paper over some missing refactoring on mozilla-central. 
Always use the '0' dir for updates - Bug 588163 - Crash [@ @0x0 | ProcessUpdates(nsIFile*, nsIFile*, nsIFile*, int, char**, char const*&) ]. r=dtownsend, approval2.0=dtownsend 
Fix line endings. 
Bug 537890. Part 1: Add nsIWidget::GetDPI and nsIWidget::GetDefaultScale and use them to set up device contexts. r=vlad,sr=dbaron 
Bug 537890. Part 2: Get DPI values for Mac, Windows, and X. r=jmathies,josh,karlt 
Bug 537890. Part 8: Define MM_PER_INCH_FLOAT. r=dbaron 
Bug 537890. Part 3: Remove gfxPlatform::GetDPI(). r=vlad 
Bug 537890. Part 4: Make points be a fixed number of CSS pixels. r=dbaron 
Bug 537890. Part 4.5: Create 'mozmm' unit for physical millimeters on screen devices. r=dbaron 
Bug 537890. Part 5: Make pc, in, mm and cm be a fixed number of CSS pixels. r=dbaron 
Bug 537890. Part 7: Tests for pt/pc/mm/cm/in not being physical units, and for mozmm being physical units. r=dbaron 
Bug 537890. Part 9: Make accessibility's font-size text attribute return 'pt' values calculated as 4/3 of a px, not based on the DPI of the user's monitor. r=surkov 
Bug 537890. Part 10: Fix nsPresContext and nsIDeviceContext unit-conversion methods to be explicit about using CSS logical units instead of physical units. r=dbaron 
Bug 537890. Part 11: Introduce _TO_INT_TWIPS macros and have some _TO_TWIPS callers use _TO_INT_TWIPS instead. r=dbaron 
Bug 497808. Enable dumping of cycle-collector graphs in any debug build. r=peterv,a=blocking 
Bug 588664. Cache DPI in nsCocoaWindow. r=joshmoz,a=blocking 
Bug 586804. Swallow exceptions generated in the error message listener, to avoid infinite loop. r=robcee,a=test-only 
Bug 585817. Part 1: Create a single static 1x1 surface in gfxPlatform that can be used to create contexts for text measurement etc. r=vlad 
Bug 585817. Part 2: Change nsIPresShell::CreateRenderingContext to GetReferenceRenderingContext, that uses the shared 1x1 surface, and use it all over the place. r=mats,sr=dbaron 
Bug 585817. Part 3: Remove nsSVGUtils::GetThebesComputationalSurface and use gfxPlatform::ScreenReferenceSurface instead. r=jwatt 
Bug 585817. Part 1: Create a single static 1x1 surface in gfxPlatform that can be used to create contexts for text measurement etc. r=vlad 
Bug 585817. Part 2: Change nsIPresShell::CreateRenderingContext to GetReferenceRenderingContext, that uses the shared 1x1 surface, and use it all over the place. r=mats,sr=dbaron 
Bug 585817. Part 3: Remove nsSVGUtils::GetThebesComputationalSurface and use gfxPlatform::ScreenReferenceSurface instead. r=jwatt 
Merge 
Merge 
Merge mozilla-central to tracemonkey. 
Merge from mozilla-central 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=very many blockers 
Bug 584282. Add nsDisplayItem::mToReferenceFrame and initialize it in the constructor. r=tnikkel,a=dbaron 
Bug 584282. Use nsDisplayItem::ToReferenceFrame() instead of calling nsDisplayListBuilder::ToReferenceFrame, wherever possible. r=tnikkel,a=dbaron 
Bug 581222. Back out patch that disabled box-shadows for native-themed content elements. 
Bug 581222. Extend gfxQuartzNativeDrawing to support non-Quartz destination surfaces. r=vlad 
Bug 581222. Extend gfxAlphaBlur to support "spread radii". r=vlad 
Bug 581222. Draw outer box-shadows for native-themed elements using the alpha mask of the theme background as the border-shape, and disable inner box-shadows. r=dbaron 
Bug 581222. Ensure that the bounds for opaque native-theme backgrounds are correct. r=tn 
Bug 587887. Create pref for refresh driver timer, and make it 60Hz by default. r=dbaron,a=bsmedberg 
Merge mozilla-central to tracemonkey 
Bug 587257 - Make Array.prototype.join faster. r=lw 
Backed out changeset b404ad209cb9. (Bug 587257 - Make Array.prototype.join faster. r=lw) 
Merge backout. 
delete obvious comment. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Bug 552924 - Allow distinguishing Universal ppc/i386 from Universal i386/x86_64 builds in AUS request. r=dtownsend, a=blocking bug 519060 
bug 570788  - Incorporate improvements from SeaMonkey places review into Firefox code, round 5 (CSS nit), r+a=gavin 
bug 570788  - Incorporate improvements from SeaMonkey places review into Firefox code, round 2 of Neil's comments, r+a=gavin 
Bug 574621. Ensure that the prescontext DefaultBackgroundColor is painted on the background of root content documents. r=tnikkel 
Bug 590468. Part 1: Add support for XUL 'layer' attribute. r=tnikkel sr=vlad 
Bug 590468. Part 2: Mark browser "bottombox" as having its own layer(s). r=dao 
Bug 590468. Part 3: Make Cocoa theme aware that statusbars are always opaque. r=joshmoz 
Bug 590468. Part 4: Make Windows theme aware that scrollbars and status bars are always opaque. r=jmathies 
Bug 590468. Part 6: Fix setting of nsDisplayList::mOpaque, and return it from nsDisplayWrapList::IsOpaque. r=tnikkel 
Bug 130078. Part 1. Hookup view managers unconditionally. r=dbaron 
Bug 130078. Part 2. Remove widgets from all subframes. r=dbaron 
Bug 584193. Allow print preview to work without its own widget. r=smaug a=blocking beta5 
Bug 583408 - Notify user when the certificate attribute check fails. r=dtownsend ui-r=beltzner a=blocking 
merge mozilla-central to tracemonkey. 
merge 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 579323. Part 1: Add FrameLayerBuilder::InvalidateThebesLayersInSubtree, and call it from InvalidateOverflowRect. r=tnikkel,sr=dbaron 
Bug 579323. Part 1.2: Move nsSubDocumentFrame header to its own file. r=tnikkel 
Bug 579323. Part 1.4: Switch nsIFrameFrame users to use nsSubDocumentFrame.h. r=tnikkel 
Bug 579323. Part 1.6: Clean up dead code, rename nsFrameFrame to nsSubDocumentFrame. r=tnikkel 
Bug 579323. Part 1.8: Rename InvalidateOverflowRect to InvalidateFrameSubtree. r=tnikkel 
Bug 579323. Part 3: Fix invalidation of lines to update layers as necessary. r=dbaron 
Bug 579323. Part 2: Actually fix the bug by calling InvalidateThebesLayersInSubtree from nsIFrame::Redraw. r=dbaron,a=blocking 
Bug 592131. Don't propagate invalidations across document boundaries where the child document's docshell is inactive (e.g., a hidden tab). r=tnikkel,a=blocking 
Workaround until minimum NSIS version required is 2.46 - Bug 506867 - /S command line option for silent installation is broken - fixed in the latest NSIS. r=jmathies, a=approval2.0 dtownsend 
Bug 592785 - Don't report add-ons as incompatible if they are already incompatible with the current version. r=dtownsend, a=approval2.0 dtownsend 
Bug 591564 - Stop copying QuickTime's nsIQTScriptablePlugin.xpt. r=jmathies, a=approval2.0 dtownsend 

Bug 591564 - Stop copying QuickTime's nsIQTScriptablePlugin.xpt. r=jmathies, a=approval2.0 dtownsend Stop using version.nsh - Bug 592133 - Installer includes 'Minefield is a Trademark of The Mozilla Foundation' when not using official branded. r=jmathies, ur-r=beltzner, a=approval2.0 beltzner 
Patch 1 (main patch) - Bug 583408 - Notify user when the certificate attribute check fails. r=dtownsend, a=blocking2.0-beta6 
Patch 2 (tests only) - Bug 583408 - Notify user when the certificate attribute check fails. r=dtownsend, a=blocking2.0-beta6 
Bug 592941. Fix performance regression by ensuring we create a ThebesLayerInvalidRegionProperty for frames with new container layers. r=tnikkel,a=blocking 
Bug 580410. Hide reftest window title bar so the reftest window fits on our Mac test machines. test-only change, a=me. 
Bug 579276. Part 1: Change layer/layermanager user data API to use keys and values. r=cjones,sr=vlad 
Bug 579276. Part 2: If a transparent layer is over a solid background color, hoist that color into the layer to make it opaque. r=tnikkel 
Bug 579276. Part 8: Bump scroll timeout up a lot. r=tnikkel 
Bug 579276. Part 4: Move nsDisplayItem parameter down to ThebesLayerData::Accumulate. r=tnikkel 
Bug 579276. Part 3: Change Set/IsOpaqueContent API to a more generic Get/SetContentFlags API. r=cjones,sr=vlad 
Bug 579276. Part 5: Set CONTENT_NO_TEXT and CONTENT_NO_TEXT_OVER_TRANSPARENT flags. r=tnikkel 
Bug 579276. Part 6: Add gfxASurface::GetTextQualityInTransparentSurfaces API. r=jrmuizel,sr=vlad 
Bug 579276. Part 7: Don't retain transparent layers that would hurt text rendering. r=cjones 
Bug 579276. Part 9: Backout 4d1dc2ea47fd since we no longer need those test changes 
Bug 579276. Part 10: add a couple of scrolling tests to ensure that text looks good when scrolled in an overflow:auto div. a=blocking 
Fixing bustage, a=me 
Backing out bug 579276. a=me 
Bug 584494 - Regression: Transform rotation testcase performs significantly worse - r=dbaron 
followup test only fix for SeaMonkey and Thunderbird for bug 583408. r=dtownsend, a=test bustage fix 
Bug 579276. Part 1: Change layer/layermanager user data API to use keys and values. r=cjones,sr=vlad 
Bug 579276. Part 2: If a transparent layer is over a solid background color, hoist that color into the layer to make it opaque. r=tnikkel 
Bug 579276. Part 8: Bump scroll timeout up a lot. r=tnikkel 
Bug 579276. Part 4: Move nsDisplayItem parameter down to ThebesLayerData::Accumulate. r=tnikkel 
Bug 579276. Part 3: Change Set/IsOpaqueContent API to a more generic Get/SetContentFlags API. r=cjones,sr=vlad 
Bug 579276. Part 5: Set CONTENT_NO_TEXT and CONTENT_NO_TEXT_OVER_TRANSPARENT flags. r=tnikkel 
Bug 579276. Part 6: Add gfxASurface::GetTextQualityInTransparentSurfaces API. r=jrmuizel,sr=vlad 
Bug 579276. Part 7: Don't retain transparent layers that would hurt text rendering. r=cjones 
Bug 579276. Part 9: Backout 4d1dc2ea47fd since we no longer need those test changes 
Bug 579276. Part 10: add a couple of scrolling tests to ensure that text looks good when scrolled in an overflow:auto div. a=blocking 
Bug 579276. Part 11: Move ClipToRegion to gfxUtils. r=vlad 
Bug 579276. Part 12: Clip all drawing to the visible region on the nonretained path. r=cjones 
Bug 579276. Part 13: Use CONTENT_COLOR for temporary surface in nonretained path, if possible. r=cjones 
Fixing bustage, a=me 
Backed out changeset b92757b90f6f 
Disable abspos tests when D2D is enabled. With changeset c888cdffd617, glyphs get rasterized slightly differently. a=me 
Bug 593275. Take reftest snapshots by painting the toplevel window. r=dbaron 
Bug 593275. Take reftest snapshots by painting the toplevel window. r=dbaron a=blocking2.0:beta6+ 
Bug 593275 part 2 - Dynamically recompute drawWindow flags, in case our window is asynchronously resized on us. r=dbaron a=blocking2.0:beta6+ 
Bug 593361. Part 1: Limit the region of a non-retained layer we repaint to the clip region of the destination buffer. r=tnikkel 
Bug 593361. Part 2. Don't bother trying to draw directly to the backbuffer instead of retaining ThebesLayer, if the backbuffer is transparent anyway. r=tnikkel 
Bug 584699. Invalidate ThebesLayers in abs-pos frame subtree that's moved. r=dbaron 
Bug 584703. Compute XUL listbox contents overlow area correctly. r=enndeakin 
Backed out changeset 0ebfa9dfba8e 
Backout bug 592563 on suspicion of causing failure in test_cocoa_focus.html, a=me 
Fixing test for D2D, a=fixing-test 
Bug 316890 - Add more logging to updater and close patch files so they can be deleted. r=dolske, a=approval2.0 dtownsend 
Bug 546593 - If both a partial and complete update have a verification failure this._update is null, the UI breaks, and the user is not notified of the update failure. r=dtownsend, a=approval2.0 dtownsend 
Bug 594986 - Allow applications to specify the first timer interval via a pref. r=dtownsend, a=dtownsend 
Bug 594140. Make window.open width/height parameters respect opener's CSS-pixel-to-device-pixel ratio. r=tnikkel,a=jst 
Bug 594140. Make window.open width/height parameters respect opener's CSS-pixel-to-device-pixel ratio. r=tnikkel,a=jst 
Bug 590291. r=dholbert,a=blocking2.0 
Bug 586213 - Update app update url and certificate preferences after the additional host name with a new certificate is added for aus. r=dtownsend, a=blocking2.0-betaN 

Bug 586213 - Update app update url and certificate preferences after the additional host name with a new certificate is added for aus. r=dtownsend, a=blocking2.0-betaN Bug 595059 - Incorrect errorCode comparison and enabled check in showUpdateError. r=dtownsend, a=approval2.0 dtownsend 
Bug 593328 - Only build hudservice for Firefox. r=khuey a2.0=noptb 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. CLOSED TREE 
Backed out changeset e2e1ea2a39ce. (Igor Bukanov – bug 588016 - Avoid reporting OOM when background has not finished. r=anygregor) 
Merge backout. 
Merge. 
Merge mozilla-central to tracemonkey. 
merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
Bug 590083 - temporarily disable ARM method jit 
jaegermonkey. what. a=arewefastyet 
jaegermonkey. what. a=arewefastyet 
[Bug 595544] Fix some JSFunctionSpec definitions in nsJSEnvironment.cpp. r=dbaron a=bustage 
Merge tracemonkey to mozilla-central. a=blockers 
Increment JSXDR_BYTECODE_VERSION 
Cherry pick some fixes from TM. a=blockers. 
Followup for Bug 595059 - Incorrect errorCode comparison and enabled check in showUpdateError. r=dtownsend, a=approval2.0 
strings for Bug 595455 - After several background update check failures notify the user that they should check if there is a new version available. r=dtownsend, ui-r=beltzner, a=blocking2.0-beta6 
Bug 595722 - Using this._enabled to make nsIUpdatePrompt not show some of the UI when the app.update.silent pref is set is confusing. r=dtownsend, a=approval2.0 
Bug 596172 - disabling one check in browser_details.js due to perma-orange on Mac OS X. a=test disable 
Bug 596174 - disabling test browser_bug586574.js due to perma-orange on Mac OS X. a=disable perma-orange on Mac OS X. a=test disable 
Bug 568904 - Don't perform a shell refresh when there are no shortcuts for the installation when updating app modal id's. r=jmathies, a=approval2.0 
Bug 595455 - After several background update check failures notify the user that they should check if there is a new version available. r=dtownsend, a=blocking2.0-beta7 
Merge mozilla-central to tracemonkey. 
Increment JSXDR_BYTECODE_VERSION 
Merge tracemonkey to mozilla-central. a=blockers 
Merge 
Fix for bug 466157 (Enable dumping of cycle-collector graphs in any build). r=dbaron, a=jst. 
Bug 594774. Detect DOM changes during painting, and abort painting ASAP when that happens. r=dbaron a=blocking-beta6+ 
Bug 594774. Test a=blocking-beta6+ 
Temporarily landing patches for bug 130078.  Will be backed out when it lands for real. 
Temporarily landing patches for bug 130078.  Will be backed out when it lands for real. 
Bug 584193. Allow print preview to work without its own widget. r=smaug 
imported patch layer-attribute 
Bug 590468. Part 2: Mark browser "bottombox" as having its own layer(s). r=dao 
Bug 590468. Part 3: Make Cocoa theme aware that statusbars are always opaque. r=joshmoz 
Bug 590468. Part 4: Make Windows theme aware that scrollbars and status bars are always opaque. r=jmathies 
Bug 590468. Part 6: Fix setting of nsDisplayList::mOpaque, and return it from nsDisplayWrapList::IsOpaque. r=tnikkel 
Bug 574621. Ensure that the prescontext DefaultBackgroundColor is painted on the background of root content documents. r=tnikkel 
Bug 590468. Part 1: Add support for XUL 'layer' attribute. r=tnikkel sr=vlad 
Bug 590468. Part 3: Make Cocoa theme aware that statusbars are always opaque. r=joshmoz 
Bug 590468. Part 4: Make Windows theme aware that scrollbars and status bars are always opaque. r=jmathies 
Bug 590468. Part 6: Fix setting of nsDisplayList::mOpaque, and return it from nsDisplayWrapList::IsOpaque. r=tnikkel 
Bug 584193. Allow print preview to work without its own widget. r=smaug a=blocking beta5 
Strings for Bug 596813 - Check for updates inside the About window without opening a new window. r=dtownsend, ui-r=beltzner, a=approval2.0 dietrich 
Merge tracemonkey to mozilla-central. a=blockers 
Merge. a=blockers 
Bug 596414. Tell ChildView about the plugin drawing model. r=josh 
Bug 596414. Don't paint NSViews for plugins. r=jrmuizel,josh a=b 
Bug 596414. Don't subtract plugin areas from within UpdateWidgetArea, except on mac. r=tn a=b 
Bug 596710. Increment (not decrement) rline to skip checking the cursor line twice. r=dbaron a=blocking 
Bug 594774. Detect DOM changes during painting, and abort painting ASAP when that happens. r=dbaron a=blocking 
Bug 594774. Tests for this bug. r=dbaron a=blocking 
Fix shadowing warnings from bug 581222.  r=dbaron  a2.0=blocking2.0:beta5 
Bug 584494. Avoid creating opacity/transform wrappers for empty lists. r=tnikkel  a2.0=blocking2.0:betaN 
Bug 584494. Avoid clipping in BasicThebesLayer when not necessary. r=cjones  a2.0=blocking2.0:betaN 
Bug 597247 - Implement alive ping counter for blocklist to strengthen user privacy. r-dtwonsend, a=approval2.0 
Bug 597630 - Fix __snprintf / snwprintf usage in updater.cpp and various x64 compiler warnings. r-dolske, a=approval2.0 
Bug 588662 - Update NSIS entry in license.html. r=gerv, a=approval2.0 
Bug 597664 - Add finalURI.spec for the mar file download to the local update xml and log the finalURI.spec along with the original URI.spe. r=dtownsend, a=approval2.0 
Merge mozilla-central to tracemonkey. 
Merge 
Back out changeset d7d3c0af2877. Brendan Eich – Fix slot leak that leads to allocSlot assert botch (597945, r=jorendorff). 
Merge backout. 
Merge tracemonkey to mozilla-central. a=blockers 
Followup test fix for Bug 597247. a=bustage fix 
Merge. a=blockers 
Fix test_canvas.html mochitest. Using preventExtensions on a huge typed array is a bad idea right now. Bug 598969. r=brendan 
Merge tracemonkey to mozilla-central. a=blockers. 
Strings - Bug 596813 - Check for updates inside the About window without opening a new window. r=dtownsend, ui-r=beltzner, a=blocking2.0-beta7 
Main patch - Bug 596813 - Check for updates inside the About window without opening a new window. r=dtownsend, ui-r=beltzner, a=blocking2.0-beta7 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers. 
Merge a=blockers 
Bug 599412 - Disable the update button when it is hidden in the deck. r=dtownsend, a=blocking2.0-beta7 

Bug 599412 - Disable the update button when it is hidden in the deck. r=dtownsend, a=blocking2.0-beta7 Remove useless comment. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. a=whatever 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central a=blockers 
Merge tracemonkey to mozilla-central. a=typo 
Merge. a=typo. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers 
Merge. a=blockers 
Bug 601469 - Updater in 10/02 and 10/03 Windows nightly is broken. r=dolske, a=blockingB7 
strings needed for b7 for Bug 315278 - Update process produces a broken application when disk space is low. r=mossop, ui-r=beltzner, a=blocks a blocker 
Bug 589436 patch 1: Make a number of methods take const arguments, to support this bug's main patch. r=jst a=blocking-b8+ 
Bug 589436 patch 2: Allow string-valued SVG attributes to be SMIL-animated. r=dholbert a=blocking-b8+ 
Bug 589436 patch 3: Tests. r=dholbert a=blocking-b8+ 
Bug 571863: Make sure to update graphic and/or invalidate transform on an inner <svg> element when its various attributes are modified. r=dholbert a=blocking-betaN+ 
Bug 595608: Check for non-atom value for "type" attribute in nsSVGTransformSMILAttr::ValueFromString. r=dholbert a=blocking-final+ 
Bug 599274 - Add ability to fallback to previous update snippet format. r=Mossop a=Blocking-b8+ 
Bug 582146. 8388608.0 is invalid in cairo, so clamp to 8388607.0 instead. r=jrmuizel 
Bug 601406 - GetBBox crashes when called on an SVG a element r=jwatt a=blocking-final 
Bug 596491. Part 1: Inline ApplyConfiguration into nsChildView::ConfigureChildren. r=josh 
Bug 596491. Part 2: Add test to ensure that we don't ask a plugin to paint just because we scrolled it. r=josh 
Bug 596491. Part 3: When we move a plugin's NSView, don't invalidate it if it's a Cocoa-drawing plugin, since we don't paint in that NSView anyway. r=josh 
Bug 596491. Part 4: Rename ForcePluginGeometryUpdate to SynchronousPluginGeometryUpdate, and make it do nothing if no plugin geometry update is required. r=mats,a=blocking 
Fix bustage, a=fire 
Fixing test errors, a=me 
Mark assertion. a=me 
Bug 601251 - numberList and pointlist DOM methods need to validate their arguments. r=jwatt a=blocking-final 
Bug 584238 - Add an API to clear the media cache; r=kinetik a=blocking-betaN+ 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Bug 599813 - nsSVGGlyphFrame::getCharacterData is expensive avoid calling it too many times. r+a=roc 
Bug 468035 - turn off optional ligatures when drawing textPaths or positioned glyphs r+a=roc 
Bug 580983 - try to make test_pointer-events.xhtml more robust. a=test-only 
Merge tracemonkey to mozilla-central. 
Merge a=blockers 
Bug 599798 - Fix viewBox on pattern with patternContentUnits=objectBoundingBox r+a=roc 
Bug 601830 - app.update.url.manual for nightly builds should point to the nightly builds. r=beltzner, ui-r=beltzner, a=approval2.0 

Bug 601830 - app.update.url.manual for nightly builds should point to the nightly builds. r=beltzner, ui-r=beltzner, a=approval2.0 Bug 601518 - Need updater tests to cover nsUpdateDriver.cpp code. r=dtownsend, a=blocking2.0-final 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 605767 - Intermittent test_0200_app_launch_apply_update.js | the application can't be in use when running this test. r=dtownsend, a=test fix 
Bug 601386 - Running in 64 bit mode after applying an update when the bundle was originally opened in 32 bit mode. r=joshmoz, a=blocks a blocker 
Bug 508128 - Additional diagnostics to report more data about test exceptions. r=waldo a=test-only 
Bug 593839. Part 1: Use nsDisplayListBuilder::IsPaintingToWindow instead of gfxContext::DESTINED_FOR_SCREEN. r=tnikkel 
Bug 593839. Part 2: Remove DESTINED_FOR_SCREEN flag now that it's no longer used. r=vlad a=blocking-betaN 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central a=blockers. 
Merge tracemonkey to mozilla-central a=blockers. 
test fix and some cleanup - Bug 607545 - Intermittent browser_bug562797.js | Test timed out *followed* by other errors. r=dtownsend, a=test fix 
test cleanup - Bug 607545 - Intermittent browser_bug562797.js | Test timed out *followed* by other errors. r=dtownsend, a=test fix 
Backed out changeset 069ccd107c32 
Backing out bug 575561 
Backed out changeset ecd1948992eb 
Backing out bug 575561 
Bug 595842. When GetHDCWithClip fails, fall through to the fallback rendering path. r=vlad,a=blocking-beta7 
Try to fix failing test for bug 595842 by removing border whose antialiasing seems to be inconsistent, a=testonly 
Bug 608112 - undeclared variable formatted chrome://mozapps/content/extensions/extensions.js line: 2086. r=dtownsend, a=b7 
Bug 608115 - ReferenceError: strings is not defined in a couple of obvious places in update.js. r=dtownsend, a=b7 
Bug 608138 - Exclude plugins from the compatibility wizard checks. r=dtownsend, a=b7 
Bug 608165 - Lots of 'reference to undefined property this.mAddon.applyBackgroundUpdates' warnings when running browser_bug562797.js in a debug build. r=dtownsend, a=b7 
Bug 607821 - intermittent timeout toolkit/mozapps/extensions/test/browser/browser_bug557956.js | Test timed out. r=dtownsend, a=b7 
Bug 608210 - requestLongerTimeout for each test within a test in extensions/test/browser. r=dtownsend, a=test fix 
Bug 584944 - Intermittent browser_uninstalling.js | Timed out. r=dtownsend, a=test fix 
Merge m-c to tm 
Merge m-c to tm 
Bug 595243 - Expose debugMode to JSD. r=gal 
Merge. 
Bug 595243 - Expose debugMode to JSD. Relanding test bustage fixed up. r=gal. 
Follow-up fix for bug 595243. Don't try to place non-main thread scripts in debug mode, and don't attempt to set debug mode from a non-main thread. r=gal 
Merge mozilla-central to tm. 
Merge tm to mozilla-central. a=blockers 
Merge tm to mozilla-central. a=blockers 
Bug 608507 - some minor test cleanup. r=dtownsend, a=test fix 
Bug 608586 - [SeaMonkey] mochitest-browser-chrome: .../browser-window/browser_bug562797.js fails. r=dtownsend, a=test fix 
Bug 604136 - [Windows SeaMonkey] mochitest-browser-chrome: 'browser_bug562890.js | Test timed out'. r=dtownsend, a=test fix 
Bug 608911 - Invalid check in browser_bug562890.js. r=dtownsend, a=test fix 
Bug 608763 - JSD breakpoint does not work. r=gal 
Bug 484953 - speed up display of text that is both stroked and filled r+a=roc 
Bug 605626 - Prevent assertion when displaying an image that has no width or height r=dholbert a=roc 
Bug 603584 - feDisplacementMap does not always create output in correct colour space r+a=roc 
Bug 608653 - lacuna pattern width/height should be zero r+a=roc 
Bug 595209 patch 1 - stroke scales badly with positioned glyphs r=roc,a=blocking-final+ 
Bug 606410 - add tests for calling the callback app and the arguments passed to it. r=dtownsend, a=tests 
Bug 594977. Part 1: Make ui.trackpoint_hack.enabled live, and add ui.window_class_override pref. r=jmathies,a=blocker 
Bug 594977. Part 2: Disable trackpoint hack for newer Synaptic drivers. r=jmathies,a=blocker 
Bug 598470. Treat all chrome display items as opaque when we're computing plugin visibility regions; this ensures translucent chrome content is visible above windowed plugins. r=tnikkel,a=blocker 
Bug 602200. Share code to compute effective transforms and opacity, and snap effective transforms. r=bas,sr=vlad,a=blocker 
Fix Thunderbird bustage by calling MAKEINTRESOURCEW correctly, a=bustage 
Bug 610466 - feDiffuseLighting with filterRes larger than filter region causes filter not to work r+a=roc 
Bug 593270. Part 1: Move surface setup code to a helper function. r=jrmuizel,a=joe 
Bug 593270. Part 2: Treat EXTEND_PAD like EXTEND_NONE when painting. r=jrmuizel,a=joe 
Bug 579985. Using CGContextSetAlpha to implement mask alpha doesn't work for some operators. r=jrmuizel,a=blocking 
Bug 579985. Part 3.1: Pass cairo_content_t parameter when creating CGLayer surfaces. r=jrmuizel,a=blocking 
Bug 579985. Part 3.2: Remove gfxASurface::AreSimilarSurfacesSensitiveToContentType because it's effectively always true now. r=jrmuizel,a=blocking 
Bug 579885. Part 4: Paint opaque surfaces using kPrivateCGCompositeCopy when possible. r=jrmuizel,a=blocking 
Bug 579885. Part 2: Never use SOURCE to composite ThebesLayers into the target, just use OVER and assume cairo backends will optimize. r=vlad,a=blocking 
Bug 608636. Clip to transformed bounds of BasicContainerLayers when compositing their opacity groups back to the target surface. r=vlad,a=blocking 
Bug 608763 - JSD breakpoint does not work. r=gal 
Merge. 
Merge. 
Merge 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Bug 612642 - JS base64 code needs to be updated for removal of JS_GetStringBytesZ. Wallpaper patch for merging. 
Merge. 
Merge tracemonkey to mozilla-centra. a=blockers. 
Fix merge botch. a=bustage 
Bug 602562 - [Win] Add keyboard modifier to start in safe mode for windows. r=dtownsend, ui-r=faaborg, feedback=jmathies, a=blocking2.0-BetaN 
1. main patch - Bug 466778 - [Win] Unable to update when files to be patched are in use on Windows. r=dolske, a=blocking2.0-BetaN 
2. tests - Bug 466778 - [Win] Unable to update when files to be patched are in use on Windows. r=dtownsend, a=blocking2.0-BetaN 
Bug 611186 - [Win] Try to lock the main exe multiple times before giving up. r=dolske, a=dtownsend 
Bug 611975 - text with gradient on stroke breaks when fill of any kind exists r=roc,a=blocking-final+ 
merge mozilla-central to tracemonkey 
Merge tracemonkey to mozilla-central. a=blockers. 
Bug 482939 - Need to use nsAutoMonitor::New/DestroyMonitor when using nsAutoMonitor to grab monitors; r=kaie a=bsmedberg 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 611975 - text with gradient on stroke breaks when fill of any kind exists r=roc,a=blocking-final+ 
Bug 614767 - dos line ending in extensions-aero.css. r=dtownsend, a=dtownsend 
File fragmentation on update fix for partial updates which are by far the worst culprit - Bug 570058 - investigate small writes from MBS_ApplyPatch. r=tglek, r=dtownsend, a=dtownsend 
Bug 615467 - intermittent failure in toolkit\mozapps\update\test\unit\test_0170_fileLocked_xp_win_complete.js | test failed (with xpcshell return code: 0), see following log: succeeded == failed. r=dtownsend, a=test fix 
Bug 614324 - Enable reftest on windows now that bug 606372 has fixed it a=test-only 
Bug 615658 - SMIL animation of some filter attributes don't invalidate correctly. r=jwatt, a=roc. 
Bug 599393. Remove workaround code that's no longer needed (backing out bug 587508). a=joe 
Bug 590368. Pass SWP_NOCOPYBITS when moving a clipped plugin window with D3D9, to work around a Windows/driver bug. r=jmathies a=blocking 
Bug 611164. Fire MozPaintWait event if async plugin rendering hasn't caught up with our desired plugin size. r=romaxa a=roc 
Bug 615666 - SMIL animation does not work with percent units for "offset" attr on <stop> elements. r=jwatt a=roc 
Bug 489871 - CSS comments should not be allowed in presentation attribute values. r=dbaron a=roc 
Bug 615417. Postpone AsyncSetWindow processing until we're not in the middle of painting the plugin. r=bsmedberg a=pavlov 
Merge mozilla-central to tracemonkey. 
Merge 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers 
Merge. a=blockers 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 597235 - Remove Java Console extensions in the install directory's extensions directory on install and app update. r=jmathies, a=blocking2.0-final 
Bug 616924 - App update test cleanup. r=dtownsend, a=tests 
Bug 616765 - Useless Exists check in nsUpdateDriver.cpp. r=dtownsend, a=approval2.0 
Bug 616775 - Use OpenNSPRFileDesc instead of OpenANSIFileDesc in nsUpdateDriver.cpp. r=dtownsend, a=approval2.0 
Bug 617215. JS_NewString leaks. r=bz, a=blocking b8 
Backout changeset 501c5ca70faa. a=bustage 
Bug 617448  - remove svg.enabled as the browser now uses SVG and fails to start if it's disabled r+a=roc 
Merge tracemonkey to mozilla-central. a=blockers 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 594333. Invalidate frame subtree (including layers) when moving a float. r=dbaron a=blocking-final+ 
Bug 616901. Fix rect in nptest_windows.cpp, to fix misrendering in 580160-1-ref.html. r=bsmedberg a=tests-only 
but use NullPrincipal for untrusted content. 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 617513 - Duplicate declaration of doc in updates.xml. r=dtownsend, a=approval2.0 
Bug 617737 - white space handling incorrect r+a=roc 
Bug 579885. Fix test. 
Bug 612840. Part 1: Remove CONTENT_NO_TEXT flag since it's not really used. Also remove ShouldRetainTransparentSurface and related code; we'll assume that when text is over opaque pixels in an RGBA surface we can always paint it with subpixel AA --- and make it so in later patches. r=vlad 
Bug 612840. Part 2: Remove unnecessary opacity check. r=cjones 
Bug 612840. Part 3: Make Layer::CONTENT_NO_TEXT_OVER_TRANSPARENT applicable to all layer types, and set CONTENT_NO_TEXT_OVER_TRANSPARENT on container layers. r=tnikkel,r=vlad 
Bug 612840. Part 4: Invert the meaning of CONTENT_NO_TEXT_OVER_TRANSPARENT and rename it. r=vlad 
Bug 617152. Part 1: fix 424465-1 test. r=dbaron 
Bug 617152. Part 2: Fix SVG-as-image tests. r=dholbert 
Bug 617152. Part 3: Fix reftest.js harness to have much simpler logic for waiting for a test to end. r=dbaron 
Bug 617152. Part 4: Make sure to always fire a balancing MozPaintWaitFinished, even if the plugin dies suddenly, and make sure events are dispatched safely. r=dbaron 
Bug 617152. Part 5: nsPluginHost::StopPluginInstance should skip plugin instances that are already destroyed (e.g. because the plugin was disabled). r=josh 
Bug 617152. Part 6: Improve diagnostic messages for reftest failures. r=dbaron 
Bug 617152. Part 7: Take a full snapshot after we've set up our listeners. r=dbaron 
Bug 617152. Part 8: Remove useless call to processUpdates. r=dbaron 
Bug 617152. Part 8.5: Fire MozPaintWait even if the plugin layer is currently zero-size. r=tnikkel 
Bug 617152. Part 9: Use desired bounds in nsDisplayList::GetBounds, not actual bounds, when computing plugin geometry. r=tnikkel 
Bug 594333. Invalidate frame subtree (including layers) when moving a float. r=dbaron 
Bug 617512. Part 10: Don't wait for pending paints to flush in crashtests. r=dbaron 
Bug 617152. Part 11: Invalidate the ThebesLayers for an active-scroll-root using the scroll position at the last layer tree update, and do the rest of the invalidation using the current scroll position. r=tnikkel 
Bug 617152. Part 12: Fix 594333-1 reftest to avoid small differences in opacity calculations. 
Bug 617152. Part 13: Fix nsXULScrollFrame::InvalidateInternal. r=tnikkel,a=blockers 
Bug 619630 - Support no comma or whitespace between negative 2nd point in polyline r=jwatt,a=roc 
Bug 619968 - feGaussianBlur should render as identity if stdDeviation=0 r=jwatt,a=roc 
Bug 620144 - clip paths and masks that cannot be resolved should be ignored  r=jwatt,a=roc 
Bug 617718. Don't process invalidates if we're stopping. r=bsmedberg a=bsmedberg 
Bug 615131 - Installer crashes if 'Next' button is clicked while 'Looking for existing installation...' dialog is displayed. r=jmathies, a=approval2.0 

Bug 615131 - Installer crashes if 'Next' button is clicked while 'Looking for existing installation...' dialog is displayed. r=jmathies, a=approval2.0 Bug 619866 - Shift key for safe mode conflicts with Windows shortcut keys. r=dtownsend, a=approval2.0 
Bug 617512 - Additional tests for deprecated update xml format. r=dtownsend, a=tests 
Bug 369411 - improve CRC error value in the update.log. r=dolske, a=approval2.0 
Backing out ade671d15514 
Backing out part 5 of bug 617152. a=blocking 
Bug 621210 - Clear cached ctm when painting mask children; r=jwatt; a=roc 
Bug 584251. Wallpaper around crash. r=joshmoz a=blocking-betaN+ 
Bug 620668 - spike in crashes [@ nsAString_internal::IsEmpty() ] r=joshmoz a=blocking:beta9+ 
Bug 615870. Part 2: Track per-display-root-frame 'update layer tree' state bit. r=tnikkel a=b-f 
Bug 621598 - Don't try to get covered region of parts of markers r+a=roc 
Bug 621339. Protect against contentRootElement being null. r=dbaron. a=test 
Bug 621260. Don't run StopPluginInstance multiple times on the same instance. Also, let StopPluginInstance do the call to instance->Stop(). r+a=josh 
Bug 620512. Part 1: Only fire MozPaintWait and change window visibility in BuildDisplayList if we're painting. r=bsmedberg, a=b:b9 
Bug 363861. Part 1: Introduce gfxContext::PushGroupAndCopyBackground and use it to create opaque temporary surfaces for opacity groups which will be composited onto opaque surfaces. r=jrmuizel,sr=vlad,a=blocking 
Bug 363861. Part 2: Introduce cairo_surface_get/set_subpixel_antialiasing. r=jrmuizel,sr=vlad,a=blocking 
Bug 363861. Part 2.3: Disable subpixel AA in gfxASurfaces with alpha channels by default. r=jrmuizel,a=blocking 
Bug 363861. Part 2.6: Wrap cairo API in gfxASurface::Get/SetSubpixelAntialiasingEnabled. r=vlad,a=blocking 
Bug 363861. Part 3: Reenable Cleartype on surfaces where we know we'll only paint text over opaque pixels. r=jrmuizel,sr=vlad,a=blocking 
Bug 363861. Part 4: Track rectangles of opaque content in RGBA surfaces and use them to make PushGroupAndCopyBackground work in more situations. r=jrmuizel,sr=vlad,a=blocking 
Bug 593604. Part 1: Add gfxTeeSurface. r=jrmuizel,a=blocking 
Bug 593604. Part 2: When compositing a tee surface into another tee surface, try to compose the subsurfaces pointwise. r=jrmuizel,a=blocking 
Bug 593604. Part 2.5: cairo_pattern_get_surface should not call cairo_error. r=jrmuizel,a=blocking 
Bug 593604. Part 4: Create Layer::GetSurfaceMode to help determine what kind of alpha support the layer needs. r=vlad,a=blocking 
Bug 593604. Part 5: Mark CSS gradient images as opaque when all their stops are opaque. r=dbaron,a=blocking 
Bug 593604. Part 7: When doing a PushGroupAndCopyBackground on a gfxTeeSurface, copy the backgrounds of the subsurfaces pointwise. r=jrmuizel,a=blocking 
Bug 593604. Part 8: Add SetAllowUseAsSource API for better diagnostics. r=jrmuizel,a=blocking 
Bug 593604. Part 8.5: Add SupportsComponentAlphaChildren API. r=bas,a=blocking 
Bug 593604. Part 8.6: Add component-alpha shaders. r=bas,a=blocking 
Bug 593604. Part 9: Support component alpha in ThebesLayerD3D9. r=bas,a=blocking 
Bug 593604. Part 10: When ContainerLayerD3D9 uses an intermediate surface, try to copy up the background into the intermediate surface so we can composite component alpha into it correctly. r=bas,a=blocking 
Bug 602757. Part 1: Create gfxContextAutoDisableSubpixelAntialiasing helper. r=vlad,a=blocking 
Bug 602757. Part 2: Detect display items over the transparent part of a window, and disable usage of component alpha (i.e., subpixel antialiasing) for those items. r=tnikkel,a=blocking 
Bug 602757. Part 3: Change IsOpaque to GetOpaqueRegion so we can get useful opaque regions for content that uses border-radius. r=tnikkel,sr=dbaron,a=blocking 
Bug 602757. Part 4: Let nsDisplayBackground::GetOpaqueRegion return opaque regions for arbitrary repeat modes, background-clip, border-radius, etc. r=tnikkel,sr=dbaron,a=blocking 
Bug 602757. Part 5: Change HasText to GetComponentAlphaBounds. r=tnikkel,sr=dbaron,a=blocking 
Bug 602757. Part 6: Don't limit complexity of opaque region when adding opaque chrome display items. r=tnikkel,a=blocking 
Bug 593604. Re-add missing hunk of part 10. a=blocking 
Bug 593604. Back out changeset c20f34eefa5d to fix regression. a=blocking 
Bug 539604. Part 12: Enable component alpha for containers that don't have an intermediate surface. r=bas,a=blocking 
Bug 621430. Lazily create stream writer thread so we don't create one when using local audio. Also, shut down the stream writer thread when the audio stream dies. r=dougt,a=blocker 
Bug 601064. Ensure we ask each plugin instance to paint at least once. Some plugin instances assume they will be asked to paint even if they're always invisible. r=bsmedberg,a=blocking 
Bug 601064. Fix tests (and test this bug). 
Bug 620610. When dumping display lists, include which layer each item ended up in. r=tnikkel,a=debug-only 
Bug 613449. Extend GetLargestRectangle to support considering only rectangles that contain a given rectangle. r=robarnold 
Bug 613449. When setting Aero Glass margins, find the largest opaque rect that contains all windowed plugins, since the DWM doesn't like margins under child windows. r=jmathies,a=blocker 
Backing out 3883e79e5a9a and 0653a37b7230 (bug 601064) due to test failures, a=backout 
Bug 622733. Allow any area to be added to the visible region if it decreases the area of the visible region by at least half. r=tnikkel,a=blocking 
Bug 585258. Part 1: Don't make visible region arbitrarily complex in RecomputeVisibility. r=dbaron,a=blocking 
Bug 585258. Part 2: Make SimplifyOutward smarter by trying to avoid combinging rectangles that are vertically discontiguous. r=bzbarsky,a=blocking 
Bug 602892. Part 1: Refactor so that mScrollingActive is always true for scrollframes that are always active. r=tnikkel,a=blocking 
Bug 602892. Part 2: Ensure that a scrollframe is 'inactive' if it can't be scrolled by blitting. r=tnikkel,a=blocking 
Mark test for bug 602892 random since it fails on Mac and Windows; visually it's OK, but there are differences at the edges, a=test 
Bug 602892. Fix test. a=test 
Bug 615794. Part 1: Be conservative when converting visible regions and opaque regions from appunits to pixels. r=tnikkel a=blocking 
be ignored (see comments on Layer::SetVisibleRegion). 
Bug 615794. Part 2: Remove some usage of gfxUtils::ClipToRegionSnapped since snapping the visible region may not be correct. r=jrmuizel a=blocking 
Bug 615794. Part 3: Snap bounds of border and background display items to pixels if we're sure they will be snapped. r=tnikkel a=blocking 
Bug 615794. Part 4: transform tests pass with D2D now. a=tests 
Bug 615794. Part 5: Don't abort in RoundedRectIntersectsRect, just check whether we intersect the frame border-box. r=dbaron a=blocking 
Bug 579808. Fix bounds for nsDisplayTransform and nsDisplayPlugin. r=tnikkel a=blocking-betaN+ 
Backed out changeset d56f9c2057ed 
Backed out changeset 0bc05578d3d6 
Merge backout. 
Backed out changeset d099c5659761 
Merge backout. 
Backed out changeset 54e2039322ef 
Merge backout. 
Backed out changeset 39ccae4efa0f 
Merge backout. 
Backed out changeset d58e45442c87 
Merge backout. 
Backed out changeset 2215b740bca4 
Merge backout. 
Backed out changeset 2025b4eeca14 
Merge backout. 
Backed out changeset feb6682a10af 
Merge backout. 
Backed out changeset 2e94f0b8d03c 
Merge backout. 
Backed out changeset 013bde94ad94 
Merge backout. last good changset is a6c636740fb9 Brendan Eich – Fix joined method leak via arguments.callee.caller (586482, r=igor). 
Merge 
Bug 622886 - spike in crashes [@ gfxContext::gfxContext(gfxASurface*) ].  r=bas, a=blocking 
Bug 622886 - Further wallpaper over crashes in gfxContext::gfxContext(gfxASurface *). r=bas,jrmuizel a=blocking-beta9+, CLOSED TREE 
Bug 624170. Part 1: Don't try to release the DC for null surfaces. r=bas; a=blocking-beta9+ landed on a CLOSED TREE 
Bug 593535 - Failure to download extension causes about:addons to list the addon with no way to restart the download; fix broken hasResource, getResource; f=dtownsend r=dtownsend,robert.bugzilla a=blocking2.0 
Bug 593535 - Failure to download extension causes about:addons to list the addon with no way to restart the download; frontend; f=dtownsend r=dtownsend,robert.bugzilla a=blocking2.0 
Bug 617787 - Stop offering uninstall survey to users. r=mossop, a=blocking2.0-final 
Bug 601701 - Automatic updates get stalled when installed version is newer than a downloaded update restored using Windows system restore. r=mossop, a=blocking2.0-final 
Bug 595078 - Where possible, remove the possibility of other components breaking app update. r=mossop, a=approval2.0 
Bug 620837 - Modify blocklist pingCount parameter to track pingCount for profile and for version. r=mossop, a=approval2.0 
Bug 601064. Ensure we ask each plugin instance to paint at least once. Some plugin instances assume they will be asked to paint even if they're always invisible. r=bsmedberg,a=blocking 
Bug 601064. Fix tests (and test this bug). a=tests 
Bug 625247. Don't use nsAutoTArray inside an nsAutoTArray. r=tnikkel,a=blocking 
Bug 623852. gfxContext::PushGroupAndCopyBackground should not try to copy the background if the underlying surface cannot be used as a source. r=mstange,a=blocking 
Bug 612190. Make MozAfterPaint actually fire after paint. r=dbaron,a=me (blocks a blocker) 
Bug 624152. Don't do the 'copy background' part of PushGroupAndCopyBackground for non-pixel-based surfaces; it shouldn't be necessary. r=jrmuizel,a=blocker 
another root element, etc. 
backing out 2d7561bc0cb0 
Backing out fix for bug 579846 on suspicion of causing test failures. 
Bug 594253. Update mValidRegion by OR-ing with the visible region after repainting, instead of OR-ing with the redrawn region, since this leads to simpler region structures. r=cjones,a=blocking 
Bug 625288. Part 1: Don't create nsDisplaySolidColors with zero alpha. They just confuse our display list analysis. r=tnikkel,a=blocking 
Bug 625288. Part 2: Report that -moz-win-glass and -moz-win-borderless-glass are uniform with opacity 0, i.e. they don't paint anything. Skip such display items when accumulating the visible region of a layer. r=tnikkel,a=blocking 
Bug 625357. Take account of tee-surface device offsets when copying subsurfaces pointwise. r=jrmuizel,a=blocking 
Bug 613696. Always use the presshell's reference rendering context to create textruns when we draw text via nsIThebesFontMetrics::DrawString, to be consistent with the textruns we measure during reflow. r=dbaron,a=blocking 
Disable new reftest on Mac pending investigation, a=test 
Bug 626177 - Correctly clip plugin draw area to prevent overdrawing. r=jmathies a=blocking2.0 
Bug 625409. ColorLayer implementations need to premultiply by the alpha value of their color. r=bas,a=blocking 
Bug 363861. cairo patch for changeset 8857392e37ae; a=NPOTB 
Bug 593604. cairo patch for changeset bacc54d452a9l a=NPOTB 
Bug 593604. cairo patch for changeset e427b4ea7e2f; a=NPOTB 
Also, if we have wide horizontal margins then the glaze effect will look odd. It's designed for relatively narrow borders. 
Bug 621601. Part 1: Change empty transaction API to EndEmptyTransaction. r=bas,tnikkel,a=joe 
Bug 621601. Part 2: Implement EndEmptyTransaction for D3D9. r=bas,a=joe 
Bug 621601. Part 3: Implement EndEmptyTransaction for D3D10. r=bas,a=joe 
Bug 621601. Part 4: Fix ImageLayers to handle null current image. r=bas,a=me 
Bug 598779 - Remove start menu directory and safe mode shortcut creation. r=jmathies, a=blocking2.0-betaN 

Bug 598779 - Remove start menu directory and safe mode shortcut creation. r=jmathies, a=blocking2.0-betaN Bug 627848 - Start menu shortcut isn't migrated as implemented in bug 598779. r=Mossop, a=blocking2.0-betaN 

Bug 627848 - Start menu shortcut isn't migrated as implemented in bug 598779. r=Mossop, a=blocking2.0-betaN Bug 620991 - test_windowed_invalidate.html runs after mochitest shutdown, trips assertion / JS_Assert; r=ehsan a=NPOTB 
Bug 504019 - When hiding the program via 'Set program access and computer defaults' the Start Menu entries aren't removed. r=jmathies, a=approval2.0 

Bug 504019 - When hiding the program via 'Set program access and computer defaults' the Start Menu entries aren't removed. r=jmathies, a=approval2.0 Bug 620991 - test_windowed_invalidate.html runs after mochitest shutdown, trips assertion / JS_Assert; r=ehsan a=NPOTB 
Bug 619117. When invalidating due to a transform change, use the cached post-transform visual overflow rect to avoid depending on the new transform style. r=dbaron,a=blocking 
Bug 626962. Implement empty transactions for GL. r=bas,a=blocking 
Bug 627393. Set correct alpha value for D3D10 ColorLayers. r=bas,a=blocking 
Bug 627262. gfxQuartzSurfaces should disable the copy-background optimization when printing. r=jrmuizel,a=blocking 
Fixing reftest, a=test 
Bug 628829 - Updater crashes when localized strings excess 200 utf-8 bytes, as bn-IN, kn, ml, and te do. r=mossop, a=blocking2.0-final 
Patch part 2 - Bug 628829 - Updater crashes when localized strings excess 200 utf-8 bytes, as bn-IN, kn, ml, and te do. r=mossop, a=blocking2.0-final 
Bug 524294 - [Mac] Updater window does not resize to fit text label on localized builds. r=joshmoz, a=approval2.0 
Bug 616085 - Renable 508908-1.html crashtest without it hitting the network, a=test 
Bug 629866. Part 1: Create a DIB for a Win32 surface that's similar to a parent surface with alpha, even if the parent surface doesn't have a DIB. r=jrmuizel 
Bug 626962. Part 0: Don't do empty transactions when painting to a widget's non-retaining layer manager. r=tnikkel,a=blocker 
Bug 626962. Implement empty transactions for GL. r=bas,a=blocking 
Bug 622542. Ensure that the layer tree is updated after NS_DOCUMENT_STATE_WINDOW_INACTIVE has changed. r=tnikkel,a=blocking 
Bug 625288. Part 3: Test that a browser window containing a single empty tab builds a layer tree whose leaf layers form a non-overlapping partition of the window. r=tnikkel,a=test 
Bug 575296 - Firefox Update should show no options in the context menu (e.g. right click) - based on a patch from timeless. r=jimm, a=approval2.0 
Bug 575266 - Mozilla Crash Reporter should not display all options but 'Close Window' - based on a patch from timeless. feedback=timeless, r=ted.mielczarek, a=approval2.0 
Bug 631840 - Remove nsProcess plugin and associated code since it is no longer used. r=jimm, a=approval2.0 
Bug 626602. Part 0: Fix header guards. r=bas 
Bug 626602. Part 1: Create ReadbackLayer API to enable collection of background pixels in a layer tree. r=bas,sr=cjones 
Bug 626602. Part 2: BasicLayers implementation of ReadbackLayer. r=cjones 
Bug 626602. Part 3: Hook up ReadbackLayers in nsObjectFrame. r=cjones 
Bug 626602. Part 4: Make the display items behind a plugin that needs readback be as visible as we can. r=tnikkel 
Bug 626602. Part 5: Implement ReadbackLayers for D3D9. r=bas 
NSIS plugin for Bug 621873 - Pin to taskbar when setting as default browser on Windows 7. r=vlad, r=jmathies, a=approval2.0 
Main patch for Bug 621873 - Pin to taskbar when setting as default browser on Windows 7. r=jmathies, a=approval2.0 
Bug 618722. background-attachment:fixed display items rendered via temporary layer managers can't have their scrolling taken care of via the layer system, so make sure we invalidate them when we scroll in their document. r=tnikkel,a=blocker 
Bug 618722. Test. 
Bug 625672. Part 1: Fix scrolling tests to actually test stuff correctly. r=dbaron 
Bug 625672. Part 1.5: Make layer managers silently do nothing when ending a transaction with no root layer. r=bas,a=blocker 
Bug 625672. Part 2: Build temporary layer manager to render inactive layers after we've recomputed visibility. r=tnikkel,a=blocker 
Bug 622542. Remove unused FrameLayerBuilder::InvalidateAllThebesLayerContents API. r=tnikkel  a2.0=blocking 
Bug 633040 - [regression] Text rendering looks scaled; r=cjones a=blocking-final/fennec 
Bug 626602. Part 0: Fix header guards. r=bas 
Bug 626602. Part 1: Create ReadbackLayer API to enable collection of background pixels in a layer tree. r=bas,sr=cjones 
Bug 626602. Part 2: BasicLayers implementation of ReadbackLayer. r=cjones 
Bug 626602. Part 3: Hook up ReadbackLayers in nsObjectFrame. r=cjones 
Bug 626602. Part 4: Make the display items behind a plugin that needs readback be as visible as we can. r=tnikkel 
Bug 626602. Part 5: Implement ReadbackLayers for D3D9. r=bas 
Bug 633728 - After an update, the Firefox desktop shorcut is moved to the top left corner from a user set custom position; r=jmathies a=blocking-betaN 
Bug 634232. Call WillEndTransaction/DidEndTransaction notifications for FrameLayerBuilder's temporary layer managers. r=tnikkel a=hardblocker 
r=dholbert a=shaver 
Merge tracemonkey to mozilla-central. a=blockers. CLOSED TREE 
Bug 631388. Part 1: Add nsIPluginInstance::GetImageSize. r=cjones,a=blocking 
Bug 631388. Part 2: Don't let nsDisplayPlugin bounds depend on the ImageContainer's current image bounds, since that can change during display list processing. r=cjones,a=blocking 
Bug 634844. nsPluginInstanceOwner::IsUpToDate should not create an Image for the plugin. r=cjones,a=blocking 
Bug 634844. Part 2: Don't create a new Image in BuildLayer if we already have one. r=cjones,a=blocking 
region which contains areas not actually painted by the layer contents. 
Bug 631092 - Large number of blocklist requestors making multiple requests per day affecting the ping for metrics. r=dtownsend, a=approval2.0 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 636088 - Blocked LSP: Microsoft Proxy Client / Microsoft Firewall Client Service Provider. r=johnath, a=blocking2.0-final 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers. 
Bug 636114 - Crash [@ PluginBackgroundSink::~PluginBackgroundSink() ]; r=jones.chris.g approval2.0=johnath 
Bug 635373. Disable ThebesLayerBuffer rotation for non-identity resolutions, and add API to disable rotation explicitly. r=cjones a=beltzner 
Bug 632423. Enable subpixel AA when we draw into the opaque subrect of a surface. r=tnikkel a=beltzner 
Bug 638241. Part 1: remove useless QI. r=bzbarsky 
Bug 638241. Use a cache to avoid redoing SurfaceForElement and DoDrawImageSecurityCheck. r=bzbarsky 
Bug 638241. Test that painting an <img>, changing its src attribute and then painting the <img> again paints the new image. 
Bug 639689. Part 1: Cache nsIImageLoadingContent pointer to avoid expensive do_QueryInterface in CanvasImageCache::Lookup hit path. r=joe 
Bug 639689. Part 2: Some trivial cleanup and microoptimizations. r=joe 
Bug 639689. Part 3: Remove unnecessary full context save/restore, and redundant SetPattern call. r=joe 
Bug 639689. Part 4: Optimize Redraw by creating custom RedrawUser, which avoids having to do user->device rectangle transformation if we've already invalidated the full canvas. Also, if the last batch of canvas drawing operations contained many operations causing us to invalidate the full canvas, assume that the next batch will also contain many operations and invalidate the full canvas in the first operation of the batch,  r=joe 
Bug 639689. Part 5: Track whether the current path in the canvas context is empty. If it is, then optimize path save/restore to not make a copy of the current path. r=joe 
Bug 615092 - Add a way to dump gfxASurfaces to a data URL. r=mattwoodrow 
testcases tend to paint most or all of the canvas on every frame anyway. 
Bug 622072. Part 2: Add DidTransactionCallback to CanvasLayer. r=bas, sr=joe 
called on them in BuildLayer when created. 
Bug 619503 - Support SMIL animation of the class attribute r=dholbert,jwatt 
Bug 635511 - Improve performance getting parent SVG elements r=jwatt 
Bug 614367 - Fix assert removing nonexistent transform r=dholbert 
Bug 617539. Remove nsIPresShell_MOZILLA_2_0_BRANCH(2). r=tnikkel 
Bug 641770. Ensure that the cliprect for a layer is interpreted in the coordinate system of its container in MarkLeafLayersCoveredByOpaque. r=bas 
Bug 641770. Apply correct clip rect to a layerized image. r=tnikkel 
Bug 644832. Windowless plugins inside CSS transforms should be rendered. r=tnikkel 
Bug 635373. Add layersOpenGL to the reftest harness. r=dbaron 
Bug 635373. If we need to resample a ThebesLayer texture, make sure we make all the pixels of the texture valid in case they get sampled. r=bas 
Bug 635373. Tests 
Bug 635373. ThebesLayerOGL needs to make sure we only sample valid pixels too. r=mattwoodrow 
Bug 635373. When resampling a ThebesLayer, ensure that D3D9 and OpenGL layers paint the entire layer as one quad to avoid unnecessary aliasing. r=bas 
testcases tend to paint most or all of the canvas on every frame anyway. 
Bug 622072. Part 2: Add DidTransactionCallback to CanvasLayer. r=bas, sr=joe 
called on them in BuildLayer when created. 
Bug 4944495: Remove locale from updater.ini, r=mfinkle 
Bug 641858 - text does not reflect dynamic gradient/pattern changes r=jwatt 
Bug 647315. Back out one line of changeset 844579d34200. r=mattwoodrow 
Bug 647315. Update ThebesLayerOGL with the same fix. r=mattwoodrow 
Bug 279629. Allow scrolling to anchors to use smooth scrolling. r=mats 
Bug 633337 - pattern viewBoxes not treated correctly. r=jwatt 
Bug 598854. We no longer have cases where the view to paint is not a displayroot, so remove the code that handles that. r=tnikkel 
Bug 279629. Allow scrolling to anchors to use smooth scrolling. r=mats 
Backed out changeset 082a9df5c6f7 
Backout for bug 279629. 
Bug 641599. Completely flush all ThebesLayers whenever the appunits-per-dev-pixel ratio changes. r=tnikkel 
Bug 641422 - wrong arg passed for current working directory. r=mossop 
1. mar packaging and build changes - Bug 386760 - directory removal with software update. r=nthomas, r=khuey 
2. updater changes - Bug 386760 - directory removal with software update. r=dolske 
3. test patch 1 - Bug 386760 - directory removal with software update. r=mossop 
4. remove updater wince support- Bug 386760 - directory removal with software update. r=dolske 
5. test binaries - Bug 386760 - directory removal with software update. r=dolske 
6. test patch 2 - Bug 386760 - directory removal with software update. r=dolske 
1. main patch - Bug 642765 - Add ability to channel change to the client. r=mossop 
2. only support channel change with complete mar files - Bug 642765 - Add ability to channel change to the client. r=mossop 
6. test fix to make log parsing happy - Bug 386760 - directory removal with software update. r=testfix 
test fix for test_0160_appInUse_xp_unix_complete.js - Linux and Mac - Bug 386760 - directory removal with software update. r=testfix 
test fix for test_0112_general.js - Linux and Mac - Bug 386760 - directory removal with software update. r=testfix 
followup mac orange fix (so we can turn mac nightly update generation on) for Bug 386760 - directory removal with software update. r=khuey 
followup l10n repack fix (fallout from Bug 386760) - Bug 649428 - l10n repacks broken on all platforms on mozilla-central (probably aurora, too). r=khuey 
followup fix to sync config.mk - Bug 649428 - l10n repacks broken on all platforms on mozilla-central (probably aurora, too). r=bustagefix 
Bug 649754 - update dialog no longer centered. r=mossop 
Bug 641426. Part 1: Create Point and Size templates. r=joe,sr=cjones 
Bug 641426. Part 2: Remove a bunch of direct gfxRect::pos/size usage. r=joe 
Bug 641426. Part 2.5: Make gfxBlur bail out in all cases where the blur rect is empty. r=tnikkel 
Bug 641426. Part 3: Convert gfxRect::pos/size to x/y/width/height. r=joe,sr=cjones 
Bug 641426. Part 3.5: Remove usage of nsMargin::TopLeft and nsMargin::IsZero. r=dbaron 
Bug 641426. Part 4: Create Margin template. r=joe,sr=cjones 
Bug 641426. Part 4.2: Rename BaseMargin::side to BaseMargin::Side. r=cjones 
Bug 641426. Part 5: Avoid operator== where possible to distinguish between 'equal edges' and 'equal areas' for rectangles. r=dbaron,sr=cjones 
Bug 641426. Part 6: Rename Empty to SetEmpty. r=cjones 
Bug 641426. Part 7: Create Rect template. r=joe,sr=cjones 
Bug 641426. Part 8: Replace gfxRect::Outset/Inset with Inflate/Deflate. Also slip in a conversion constructor from nsIntRect to gfxRect. r=tnikkel 
Bug 648819 - Stop ASSERTION: unknown nsISVGValue with invalid patternTransform. r=dholbert 
Bug 650254 - Permanent fail on update xpcshell tests for Thunderbird | TEST-UNEXPECTED-FAIL | test_0110_general.js and co failing in head_update.js. r=mossop 
Increase app update test timeout - Bug 645607 - Intermittent failure in toolkit/mozapps/update/test/chrome/test_0072_notify_verifyFailComplete_noPartial.xul | Test timed out. Maximum time allowed is 20 seconds. r=mossop 
Bug 627892 - Remove (Safe Mode) string since it is no longer used. r=jmathies 

Bug 627892 - Remove (Safe Mode) string since it is no longer used. r=jmathies Bug 650973 - Update dialog is seldom if ever shown on Mac OS X and Linux for complete updates. r=mossop 
Bug 614181 - Remove app.update.timer preference and add app.update.timerMinimumDelay preference. r=dao 
Bug 620274 - nsSVGForeignObjectFrame::PaintSVG null checks aDirtyRect when it is always non-null r=dholbert 
Bug 652442 - Script feature support should depend on whether javascript is enabled. r=dholbert 
Bug 652442 - Script feature support should depend on whether javascript is enabled. r=dholbert 
Bug 619992 - Fix invalid reftest that will fail after this bugs main patches land. r=roc 
Bug 643419 - pathLength should affect stroke-dasharray. r=dholbert 
Bug 620286 - White space at beginning (end) of tspan should render when there is preceding (following) non-white space text. r=roc 
Bug 655025 - Fix zippity graph. r=dholbert 
Bug 655497 - Remove nsISVGGlyphFragmentLeaf. r=dholbert 
Bug 654641. Make nsDisplaySolidColor::GetBounds reflect any snapping that's going on. r=tnikkel 
Bug 650228. Invalidate ThebesLayers when a linebox is moved. r=dbaron 
Bug 648277. Ensure we request a plugin geometry update for a new windowless plugin that may need its visibilty state updated. r=tnikkel 
Bug 616516 - Try to fix few pixel intermittent animation reftest failure by using crispEdge drawing. r=dholbert 
Bug 616516 - Try to fix few pixel intermittent reftest failure by using crispEdge drawing. r=dholbert 
Bug 633072 - Fix reftests failure by using crispEdge drawing. r=dholbert 
Bug 640899. Have test_leaf_layers_partition_browser_window.xul test maximized windows as well as normal windows; on Windows XP, don't test normal windows because we know the resizer overlaps there. r=tnikkel 
Bug 656749. Only optimize away zero-opacity elements when we're painting, not for any other kind of display list construction such as plugin geometry. r=tnikkel 
Bug 648483. Record the transform used when we last painted a layer and use that to control what needs to be invalidated in the layer. r=tnikkel 
Bug 629866. Part 2: Make MarkLeafLayersHidden actually hide layers that aren't in the dirty region. Don't consider hidden layers when deciding whether double-buffering is needed. r=cjones 
that result in a ContainerLayer drawing content even if it has no children. 
OPERATOR_SOURCE so that the alpha values in the window are reset. 
This change fixes this bug because in normal browser windows the Web content layer double-buffers 
Bug 647560. Cache temporary backbuffer surfaces. r=karlt 
Bug 647560. Remove unused MayHaveOverlappingOrTransparentLayers. r=tnikkel 
Bug 656749. Fix Mac test failure 
Backout 647560 --- changesets 32a13c864e55 c2dbc3747034 3d845440cbc7 13c5fa1bdfb0 8cf18f0d9e7e 863cd05ae581 
Bug 640889. Have test_leaf_layers_partition_browser_window.xul test maximized windows as well as normal windows; on Windows XP, don't test normal windows because we know the resizer overlaps there. r=tnikkel 
Bug 657780. Silence pldhash warnings by shrinking ThebesLayerItemsEntry. r=tnikkel 
Main patch - Switching channels is broken when an update is already downloading or downloaded - Bug 652016 - When switching channels, I get a failed update. r=mossop 
Tests - Switching channels is broken when an update is already downloading or downloaded - Bug 652016 - When switching channels, I get a failed update. r=mossop 
Bug 629866. Part 2: Make MarkLeafLayersHidden actually hide layers that aren't in the dirty region. Don't consider hidden layers when deciding whether double-buffering is needed. r=cjones 
that result in a ContainerLayer drawing content even if it has no children. 
OPERATOR_SOURCE so that the alpha values in the window are reset. 
This change fixes this bug because in normal browser windows the Web content layer double-buffers 
Bug 647560. Cache temporary backbuffer surfaces. r=karlt 
Bug 647560. Remove unused MayHaveOverlappingOrTransparentLayers. r=tnikkel 
Bug 658094 - Partial updates for 5.0b1 on Mac fail. r=nrthomas 
Bug 606681 - deleteTabValue should not throw an exception [r=zpao] 
Bug 628901. Ensure a MozAfterPaint event is fired after 'load'. r=ehsan 
Bug 654950. Fix scissor rect calculations for descendants of container layers with intermediate surfaces. r=bas 
Bug 656749. Only optimize away zero-opacity elements when we're painting, not for any other kind of display list construction such as plugin geometry. r=tnikkel 
Mark test for bug 654950 as failing on Mac with GL because GL alpha blending doesn't perfectly match Quartz alpha blending. 
bug 600244 - Some cleanups in search and sidebar code found by SeaMonkey's OpenSearch work, r=gavin 
Bug 588027 - Clean up places library code. r=mak 
Bug 656844. Only draw shadows when 'source-over' operator is being used. r=joe 
Bug 639168. Don't try to reuse a buffer if we don't have one. r=tnikkel 
Bug 647560. Use passed-in aContext instead of getting it from the layer manager. r=tnikkel 
that result in a ContainerLayer drawing content even if it has no children. 
OPERATOR_SOURCE so that the alpha values in the window are reset. 
This change fixes this bug because in normal browser windows the Web content layer double-buffers 
Bug 647560. Cache temporary backbuffer surfaces. r=karlt 
Bug 647560. Remove unused MayHaveOverlappingOrTransparentLayers. r=tnikkel 
Bug 646757. Don't snap display item bounds during hit-testing. r=tnikkel 
Bug 646757. Don't construct useless nsDisplayOwnLayers. r=tnikkel 
Bug 646757. Fix faulty test for bug 463104. 
Bug 657077 - Should not assert calling suspendRedraw on elements that fail conditional processing. r=dholbert 
Bug 661471. Part 1: Create preference to force particular font families to use 'GDI Classic' rendering with DirectWrite. r=jdaggett,jfkthame 
Bug 661471. Part 2: Add a pref to limit the forcing of 'GDI Classic' to a maximum font size. r=jdaggett,jfkthame 
Bug 661471. Part 3: Apply 'GDI Classic' prefs to @font-face local(). r=jdaggett,jfkthame 
Bug 661471. Part 4: Force DirectWrite to use 'GDI Classic' rendering for sans-serif 'core Web fonts' of size < 16 pixels. r=jdaggett,jfkthame 
Fix Mac universal xulrunner packaging for omnijar and appp update precomplete generation for Bug 653971 - Mac XULRunner packaging broken by bug 386760. r=nthomas, r=khuey 
Bug 661471. Part 6.1: Expose cairo_win32_get_system_text_quality. r=jfkthame 
Bug 661471. Part 6.2: Handle dynamic changes to Cleartype enabled/disabled. r=jfkthame 
Bug 658916 - TEST-UNEXPECTED-FAIL | test_0182_rmrfdirFileInUse_xp_win_complete.js | test failed (with xpcshell return code: 0), see following log:TEST-UNEXPECTED-FAIL | head.js | exception thrown from do_timeout callback. r=mossop 
Bug 661784 - Intermittent timeout /test_0083_error_patchApplyFailure_partial_complete.xul | Test timed out. Maximum time allowed is 25 seconds. r=mossop 
Bug 647296 - crashreporter.exe and updater.exe creates HKEY_CURRENT_USER\Software\Classes\Applications as a volatile key. r=khuey 
Bug 661471. Part 6.1: Expose cairo_win32_get_system_text_quality. r=jfkthame 
Bug 661471. Part 6.2: Handle dynamic changes to Cleartype enabled/disabled. r=jfkthame 
backing out Bug 661784 since it didn't help 
Bug 662898. Set canvas drawImage source pattern after any shadow is drawn, so the source doesn't get clobbered by the shadow drawing. r=jrmuizel 
Bug 662898. Set canvas drawImage source pattern after any shadow is drawn, so the source doesn't get clobbered by the shadow drawing. r=jrmuizel 
Bug 662898. Test 
Bug 661784 - Make sure that the nsITimer variable doesn't get garbage collected causing the updater tests to fail intermittently; r=ehsan 
Bug 660682. Let anonymous blocks in IB splits inherit opacity from their first inline, so that 'opacity' applies to the contents of a split inline. r=bz 
Bug 647560. Implement non-fallbacky behavior for _cairo_win32_surface_fill_rectangles on an ARGB surface, using StretchDIBits. r=jrmuizel 
Bug 656844. Test. r=joe 
Bug 662450. Test, r=jrmuizel 
Adding test file to fix bustage for bug 662450 
Bug 652832 - Support animation of use element width/height. r=jwatt 
The ThebesLayer contents are going to be drawn through directly without retaining, so there's no point in snapping. 
Bug 637852. Part 2: Add BaseRect::ScaleInverseRoundOut API. r=joe 
Bug 637852. Part 3: Add nsPoint::ScaleToNearestPixels, nsRect::ScaleToNearestPixels, nsRect::ScaleToInsidePixels and nsRect::ScaleToOutsidePixels APIs. r=joe 
Bug 637852. Part 4: Add nsRegion::ScaleInverseRoundOut and nsRegion::ScaleToOutsidePixels APIs. r=joe 
before constructing the children, which in the next patch will let us construct the children with the right resolution. 
adjust the root layer transform to scale back down by the resolution. 
Layer-system resolution support is no longer needed. 
Layer-system resolution support is no longer needed. 
This is not needed anymore. 
These are the last vestiges of Layer-based resolution API. 
This is good because the semantics of this method always sucked. 
Bug 637852. Part 12: Dump layer trees and display lists to stdout instead of stderr so that they stay in order with window.dump() and other output. r=tnikkel 
This allows baselines to be snapped properly when drawing into high-resolution ThebesLayers. 
The goal here is to avoid antialiased border edges when drawing into high-resolution ThebesLayers. This fixes test failures. 
but with non-identity scale the rectangle snapping ensures pixel alignment of the edges. This fixes reftest failures. 
Various tests that used to fail on Android now pass. One test that used to fail on Mac passes now too. 
too often when the content is zooming in or out. 
This fixes bug 637597 and probably other bugs. 
Bug 637852. Part 19: Test (from bug 633344) 
This lets us easily test scrolling with non-identity resolution. 
Bug 637852. Part 21: Skip invalidation if aRegionToInvalidateIsEmpty (note that ScaleRoundOut on an empty bounds rect can return a non-empty rect). r=tnikkel 
this code change). 
Bug 637852. Part 23: Fix incorrect call to 'abs'. r=tnikkel 
Bug 637852. Part 24: Fix scale/translate order in DrawThebesLayer. r=tnikkel 
Bug 637852. Part 25: Add nsSize ScaleToNearestPixels. r=tnikkel 
Bug 637852. Part 26: Ensure that FrameMetrics coordinates are correctly stored as layer coordinates. r=tnikkel 
Bug 637852. Part 27: Fix RenderFrameParent rendering to handle transforms on the root layer, and fix bugs with parameters being modified. r=stechz 
Bug 666068 - Speed up nsSVGIntegrationUtils::UsingEffectsForFrame. r=jwatt,jmuizelaar 
Bug 668889 - simplify boolean attribute parsing. r=dholbert 
Bug 639945 - tooltips are not displayed on inline svg elements. r=dao,bzbarsky 
Bug 617623 - animate number-optional-number and integer-optional-integer attributes properly. r=dholbert 
Bug 669025 - class name and proto chain interface mismatch with number-optional-number and integer-optional-integer. r=dholbert 
Bug 669216 - Simplify some of the number-optional-number implementation. r=dholbert 
Bug 649924. Use image surfaces to implement canvases beyond the texture size limit. r=bas 
Fix test 579323-1.html 
Bug 669155 - animation of filterRes does not result in layout being refreshed. r=jwatt 
Bug 629196. Fix intermittent failures by censoring irrelevant pixels in test for bug 579323. 
Bug 672055 - Use nsCharSeparatedTokenizer to parse number-optional-number attributes. r=dholbert sr=jonas 
Bug 671892 - Simplify a common filter number conversion pattern. r=dholbert 
Bug 644998 - Session should not be restorable after clearing history, r=zpao/gavin 
Bug 672519 - dominant-baseline applied multiple times for tspan. r=dholbert 
Bug 448168 - Apply |s/entires/entries/g|; r=roc 
Bug 654131 - Firefox 4 update/installer failed to scrub old java extensions. r=jmathies 

Bug 654131 - Firefox 4 update/installer failed to scrub old java extensions. r=jmathies Bug 677095. Compute reasonable destination alpha values with component-alpha blending in D3D10. r=bas 
Bug 386444. Pass the correct current scroll position as the default value to GetCoordAttribute. r=dbaron 
Bug 657401. Ensure that when our double-buffering logic expects layers to clip to their visible regions, we actually do. r=tnikkel 
Bug 677674 - absolute path is required to build test pilot. r=dtownsend 

Bug 677674 - absolute path is required to build test pilot. r=dtownsend Bug 678656 - fix some warnings in js/src/jsemit.cpp. r=dmandelin. 
Bug 678250 - Filter bounds rounded before scaling so small filters may be too large. r=roc 
Bug 680035 - Filter elements do not react to color-interpolation-filters attribute changes. r=roc 
Bug 682411 - Filters on shapes that have zero width or height assert. r=roc 
Bug 682685 - Dynamic changes to use elements only work to/from invalid states. r=dholbert 
Bug 684479 - Bounding boxes for strokes are unnecessarily big for many shapes. r=roc 
Bug 684790 - Add crisp-edges to anim-css-strokewidth-1 tests to prevent intermittent Android failures. r=test-only 
Bug 665702 - expose session information in getBrowserState. r=zpao 
Bug 685404. Make callers of nsDisplayList::HitTest use nsAutoTArrays to reduce allocations. r=tnikkel 
Bug 619992 - Fix location calculations for light sources. r=longsonr 
Bug 647687 - Fix filter SourceImage bounds. r=longsonr 
Bug 687340 - Make dynamic changes to mask, clipPath and marker attributes work. r=roc 
Bug 687518 - Remove nsSVGUtils:: from nsSVGutils methods. r=roc 
Bug 687830 - Simplify marker implementation by calculating viewbox on paint rather than attempting to cache it. r=roc 
Bug 687445 - Do not round mask size till after the CTM transform has been applied. r=roc 
Bug 630657 - masks should respect color-interpolation. r=jwatt 
Bug 630657 - masks should respect color-interpolation. r=jwatt 
Bug 689546 - Simplify attribute updates to svg elements. r=jwatt 
Bug 691646 - Pattern tile pixelated on patternTransform. r=dholbert 
Backout Bug 691646 for causing reftest failures on Linux 
Bug 691646 - Pattern tile pixelated on patternTransform. r=dholbert 
Bug 692203 - Covered region must be empty if markerHeight or markerWidth=0. r=dholbert 
Bug 550047 - Removing attributes from most elements does not cause a refresh. r=dholbert 
Bug 691298 - Remove aDoSetAttr arguments where callers always pass the same value. r=dholbert 
Bug 691194 - Move filter element attribute processing to the frame class. r=dholbert 
Bug 693183 - Move image element attribute processing to the frame class. r=jwatt 
Backout Bug 693183 - reftest failure 
Bug 694298 - Changing text to empty does not repaint. r=dholbert 
Bug 528444 - Empty xlink:href treated like absent xlink:href on SVG script. r=dholbert 
Bug 528444 - Empty xlink:href treated like absent xlink:href on SVG script. r=dholbert 
Bug 693145 - Simplify class animation processing. r=dholbert 
Bug 693183 - Simplify class animation processing. r=jwatt 
Backout Bug 693183 
Bug 693183 - move image processing to the frame class. r=jwatt 
Bug 681867. text-overflow only needs to affect the scrolling behavior of the block container with text-overflow. r=mats 
Bug 681867. Part 2: remove nsDisplayForcePaintOnScroll. r=mats 
Bug 696739. Treat inline fieldsets as pseudo-stacking-contexts. r=bz 
Bug 653928 - Animation of path d attribute with elliptical arcs discrete instead of continuous when flags change. r=dholbert 
Bug 678859. Don't create layers for content less than 16x16 pixels. r=tn 
Backed out changeset 9bbb30ec51f5 
Backing out fix for bug 678859 due to unexpected passes --- we need to make sure canvases are always treated as active 
Bug 696248. Flush pending onscroll events before painting. r=mats 
Bug 696579 - Round out mask, filter and pattern surfaces. r=roc 
Bug 678859. Don't create layers for content less than 16x16 pixels. r=tn 
Followup for bug 678859. Fix test to use larger areas to ensure active layers are used. 
Bug 665702 - expose session information in getBrowserState [r=zpao] 
Bug 697057 - Patterns are blurred when the element is scaled. r=dholbert 
Bug 697978 - make display:none svg images load. r=dholbert,bzbarsky 
Bug 696307. Don't overwrite the aChild parameter of BuildDisplayListForChild. r=mats 
Bug 696307. Floats in a different block to their placeholders should only be painted once. r=mats 
Bug 280391 - implement SVGSVGElement.getElementById. r=jwatt,bzbarsky 
Bug 693424 - remove Should not be calling this on a non-display child assert in nsSVGForeignObjectFrame::GetBBoxContribution. r=dholbert 
Bug 699147 - Simplify lengthList parsing. r=jwatt 
Bug 701528. Fix component alpha shader so correct destination alpha values are produced. r=bas 
Bug 698985 - make canvas/image-rendering-test.html more reliable. r=dholbert 
Bug 698195 - Use AfterSetAttr to process script href changes. r=dholbert 
Bug 703491. Silence useless assertion. r=bas 
Bug 696078 - Move filter attribute processing to frame classes. r=jwatt 
Bug 680275. Fix test to ensure that window always gets closed. r=doublec 
Bug 703491. Part 2: use bools, not nsresults, and silence the rest of the assertions. r=bas 
Bug 703379. Part 3: Ensure that we can extract the data from any partially-read blocks held by any stream for a given resource. r=doublec 
Bug 703379. Fire CacheClientNotifyDataEnded when we clone a decoder which has already reached the end of the download. r=doublec 
Bug 703379. Rename nsMediaDecoder::GetCurrentStream to GetStream. Make nsMediaStream::URI() const. r=doublec 
Bug 703379. Keep a table of media elements indexed by URI and when loading, try to find an existing element with the same URI and clone its decoder. r=doublec 
Backing out part of bug 703379 to fix build failure of nsRawReader 
Merge 
Bug 703379. Rename nsMediaDecoder::GetCurrentStream to GetStream. Make nsMediaStream::URI() const. r=doublec 
Bug 703379. Keep a table of media elements indexed by URI and when loading, try to find an existing element with the same URI and clone its decoder. r=doublec 
Bug 705173. Make mDependentTargets weak by tracking the inverse relationship in mDependingOnTargets. In Flush(), remove dependencies on other targets. r=bas 
Adding more logging to try to track down bug 687972. 
Bug 687972. Make sure that if ResourceLoaded fires before MetadataLoaded, we go to HAVE_ENOUGH_DATA when MetadataLoaded eventually fires. r=cpearce 
Bug 705997 - Remove additional Java Consoles. r=bbondy 

Bug 705997 - Remove additional Java Consoles. r=bbondy Bug 687972. Try 2: Run autoplay for an element after reaching loadedmetadata if all download streams for its resource are suspended by the media cache. r=cpearce 
Bug 687972. Add a little bit more logging. 
Bug 687972. Don't count streams whose channel has ended when looking to see if there's any non-suspended stream for a resource. r=cpearce 
Bug 699351. Add nsIFrameLoader::clipSubdocument API to allow XUL <iframe> and <browser> to not clip the subdocument. r=tnikkel,sr=bzbarsky 
Bug 687972. Remove logging code now that we've fixed the bug. 
Bug 687972. More logging... 
Bug 687952. Fix bustage 
Bug 687972. Even more logging... 
Bug 687972. Set mCacheSuspended/mChannelEnded flags on all streams *before* calling CacheClientSeek/Resume/Suspend on any stream, because nsMediaChannelStream::CacheClientSuspend will call nsBuiltinDecoder::NotifySuspendedStatusChanged which will call nsMediaChannelStream::IsSuspendedByCache which will call nsMediaCacheStream::AreAllStreamsForResourceSuspended which relies on mCacheSuspended/mChannelEnded being set correctly for all streams for that resource. r=doublec 
Bug 699351. Add nsIFrameLoader::clipSubdocument API to allow XUL <iframe> and <browser> to not clip the subdocument. r=tnikkel,sr=bzbarsky 
Bug 699351. Part 2: fix assertion. r=tn 
Bug 699351. Part 3: Fix clipping to subdocument to not use subdocument root view bounds. r=tnikkel 
Bug 699351. Part 4: Fix test. r=tnikkel 
Bug 699351. Add API to allow XUL <iframe> and <browser> to not clip the subdocument. r=dougt 
Bug 708062. Root view bounds should not include viewport frame overflow area. r=tn 
Bug 687972. More logging. 
Bug 705559. Part 1: Clean up nsCanvasRenderingContext2DAzure::DrawImage code a bit. r=jrmuizel 
Bug 705559. Part 2: Keep only one snapshot per DrawTargetD2D since all stored snapshots represent the 'last state'. Reuse that snapshot if the state hasn't changed since the last snapshot. Keep the last snapshot alive and make the snapshot's mDrawTarget weak instead. Change mDependingOnTargets/mDependentTargets to be hashsets instead of vectors. Remove SourceSurfaceD2DTarget::mIsCopy since the null-ness of mDrawTarget means the same thing. r=bas 
Bug 705559. Part 3: Use mDirtyTransform to avoid unnecessary SetTransform calls. r=bas 
Bug 705559. Part 4: Speed up AddDependencyOnSource by exiting early when we already have the dependency. r=bas 
Bug 687972. More logging... 
Bug 687972. Ignore closed streams when computing whether all streams for the resource are suspended. r=cpearce 
Bug 687972. Remove logging that we added to hunt down the bug. 
Bug 708109. Remove THEBES_INLINE_DECL_THREADSAFE_REFCOUNTING in favour of NS_ version. r=joe 
Bug 708155 - Fix dynamic modifications to styles on foreignObject. r=dholbert 
Bug 693551 - Old tooltip appears when the SVG object that the mouse is over is removed. r=dao 
Bug 702739. Don't dirty the transformed frame when we reflow it due to a transform change. r=mats 
Bug 702739. When a element has an active transform and the element's content (before being transformed) is no larger than the window, prerender its entire contents into layers when any of it is visible, so we don't have to rerender it and/or resize its layers as it moves into or out of view. r=mats 
Bug 697215. CanScrollWithBitBlit needs to return true for scrollframes inside replaced elements (i.e., iframes) that are honoring border-radius. r=mats 
Bug 672013. Drawing an SVG image to a canvas need not clear its origin-clean flag. r=dholbert,sr=bzbarsky 
Backed out changeset 026ec6345ae3 for bug 697215 
Back out fix for bug 697215 due to test failure 
Bug 702739. Don't dirty the transformed frame when we reflow it due to a transform change. r=mats 
Bug 702739. When a element has an active transform and the element's content (before being transformed) is no larger than the window, prerender its entire contents into layers when any of it is visible, so we don't have to rerender it and/or resize its layers as it moves into or out of view. r=mats 
Bug 672013. Drawing an SVG image to a canvas need not clear its origin-clean flag. r=dholbert,sr=bzbarsky 
Bug 705206 - applying filters to non-rendered shapes results in the item not being rendered. r=dholbert 
Bug 697215. CanScrollWithBitBlit needs to return true for scrollframes inside replaced elements (i.e., iframes) that are honoring border-radius. r=mats 
Backed out changeset 4a81c89bb466 for bug 697215 
Backingout patch for bug 697215 due to test failure 
Bug 697215. CanScrollWithBitBlit needs to return true for scrollframes inside replaced elements (i.e., iframes) that are honoring border-radius. r=mats 
Bug 591718. Part 1: rename some poorly-named methods, rework global-transform methods to avoid computing bounding-boxes more than once when there are are multiple transformed ancestors, make sure nsIFrame::GetTransformMatrix can stop at any desired ancestor. r=mats 
Bug 591718. Make nsLayoutUtils::GetAllInFlowRectsUnion support taking transforms into account when converting coordinates. r=mats 
Bug 591718. Make getClientRects/getBoundingClientRect take transforms into account, and not treat SVG <foreignObject> as establishing a new viewport. r=mats 
Bug 654388 - Restore Previous Session" button is always hidden if "Default Browser" dialog pops [r=gavin] 
Bug 713413 - Fix crash when dynamically adding foreignObject as a child of non-displayed element. r=dholbert 
Backed out changeset c245807aad3a for bug 714066 
Back out c245807aad3a for bug 714066 to fix Linux make check orange 
Bug 591718. Part 1: rename some poorly-named methods, rework global-transform methods to avoid computing bounding-boxes more than once when there are are multiple transformed ancestors, make sure nsIFrame::GetTransformMatrix can stop at any desired ancestor. r=mats 
Bug 591718. Make nsLayoutUtils::GetAllInFlowRectsUnion support taking transforms into account when converting coordinates. r=mats 
Bug 591718. Make getClientRects/getBoundingClientRect take transforms into account, and not treat SVG <foreignObject> as establishing a new viewport. r=mats 
Bug 591718. Fix mobile browser test to handle getBoundingClientRect including a transform. r=mfinkle 
Bug 607854 - implement SVGTests interface. r=jwatt 
Bug 652050 - mark tests as passing on Android after bug 607854 landed. 
Backout bug 620274 to fix crash i.e. bug 667324. 
Bug 711660 - maintenance service updater tests can't be run locally. r=bbondy. 
Bug 711692 - Some intermittent failures cleaned up for new maintenance service tests. r=bbondy. 
Bug 711692 - Append TEST_ID to app_console_log. r=bbondy. 
Bug 711692 - Fail if service is started and doesn't stop at test start. r=bbondy. 
Bug 619967 - Resolve percentage filter primitive attributes correctly. r=roc 
Bug 713532. Part 1: Suppress subpixel antialising in retained layers with an ancestor which has a non-integer-translation transform. r=tn 
Bug 713523. Part 2: Add SimplifyOutward for mVisibleAboveRegion and mDrawAboveRegion to avoid performance sinkholes when many layers are above a single ThebesLayer. r=tn 
Bug 713532. Mark passing test. 
Bug 525095 - Fix artifacts being left behind when text is resized. r=roc 
Bug 717870 - whitespace compression setting need to be recalculated when text is added. r=dholbert 
Bug 718266 - Simplify dasharray code. r=jwatt 
Bug 676178 - Scale stroke dashes to text size properly. r=jwatt 
Bug 665597. Add nsRect::SaturatingUnion(Rect)(Edges). r=mats 
Bug 665597. Don't check overflow rects include border-box if the overflow rects are saturated. r=mats 
RelEng patch - Bug 660038 - Remove channel switching support. r=nthomas 
Main patch - Bug 660038 - Remove channel switching support. r=bbondy 
bug 709589 - Some engine manager cleanup found by SeaMonkey reviews - use Services.jsm, r=gavin 
bug 709589 - Some engine manager cleanup found by SeaMonkey reviews - improve observer, r=gavin 
bug 709589 - Some engine manager cleanup found by SeaMonkey reviews - improve _cloneEngine, r=gavin 
bug 709589 - Some engine manager cleanup found by SeaMonkey reviews - improve onSelect, r=gavin 
bug 709589 - Some engine manager cleanup found by SeaMonkey reviews - nits, r=gavin 
Bug 715999 - Old tooltip appears when the SVG object that the mouse is over is removed. r=dao 
Bug 720016 - warning when compiling the maintenance service - swprintf takes a count parameter. r=bbondy 
Bug 647914 - Horizontal and vertical SVG paths are omitted from bbox calculations if they have siblings. r=jwatt 
Bug 649114 - Text-anchor middle is not computed correctly for element scaled to 0. r=jwatt 
Backout Bug 649114 - Reftest failures 
Bug 721294. Only call nsIPresShell::WillPaint for the root presshell. Pass aWilLSendDidPaint correctly to nsIPresShell::Paint. Remove aPaintDefaultBackground from nsIPresShell::Paint. r=mats 
Bug 721627. Don't return nsRefPtr/nsCOMPtr from nsDisplayImage methods. nsDisplayImage::GetImage is unused anyway. r=mats 
Bug 721294. Only call nsIPresShell::WillPaint for the root presshell. Pass aWilLSendDidPaint correctly to nsIPresShell::Paint. Remove aPaintDefaultBackground from nsIPresShell::Paint. r=mats 
Bug 649114 - Text-anchor middle is not computed correctly for element scaled to 0. r=jwatt 
Bug 722003 - Fix crash calling getClientRects on non-rendered foreignObject. r=roc 
Bug 721627. Don't return nsRefPtr/nsCOMPtr from nsDisplayImage methods. nsDisplayImage::GetImage is unused anyway. r=mats 
Bug 722882 - use or foreignObject with a percentage x or y attribute does not update properly when enclosed in an svg element which changes width or height. r=jwatt 
Bug 668574 (original patch by Javi Rueda) - Refuse to install on Windows XP SP 1 and below. r=bbondy 
Bug 616892 - Make more updates honour suspendRedraw. r=roc 
Bug 616892 - Follow up mark suspend-02.svg test random on windows for now (tracked by bug 724281) 
Bug 619469 - animation should be disabled for failing conditional-processing conditions. r=dholbert 
Bug 724281 - suspend-02.svg fails randomly. r=roc 
Bug 722923. Part 0: Add reftest for opacity and out-of-flow needing to invalidate the out-of-flow. r=matspal 
Bug 722923. Part 1: Strip opacity/transform update hints when we recursively invalidate over our children. r=mats 
Bug 724502. Ensure that UpdateTransformLayer and UpdateOpacityLayer change hints generate a new change list entry for every frame whose style asks for them. r=matspal 
Bug 334411. Add nglayout.debug.paint_flashing to all.js. r=bas 
Bug 725876 - Rename MOZ_UTILS_LDFLAGS to MOZ_GLUE_LDFLAGS and MOZ_UTILS_PROGRAM_LDFLAGS to MOZ_GLUE_PROGRAM_LDFLAGS. r=bbondy 
Bug 542938: add a pref to control whether oncopy/oncut/onpaste events are fired, r=smaug 
Bug 711653: In SVG lighting calculations, when input surface is 1px wide, use a normal vector that points straight out of the page. r=dholbert 
Bug 726894. Add a copy constructor to DebugOnly so it can be used in more situations. r=cjones 
Bug 726891. Move rate/channels/format up to nsAudioStream and add inline getters. r=kinetik 
Bug 725221. Don't fire notifications in nsGenericDOMDataNode::SetTextInternal if the text hasn't changed. r=jst 
Bug 726894. Add a copy constructor to DebugOnly so it can be used in more situations. r=cjones 
Bug 726891. Move rate/channels/format up to nsAudioStream and add inline getters. r=kinetik 
Bug 724189. Don't invalidate entire frame when the frame has shadows or effects and the post-transform overflow area changes. r=mats 
Bug 708116. Factor out logic for updating the current frame of a video element into a helper object. r=doublec 
Bug 726889. Rename nsMediaStream/nsMediaChannelStream/nsMediaFileStream to mozilla::MediaResource/ChannelMediaResource/FileMediaResource. Also rename nsByteRange to mozilla::MediaByteRange and nsChannelStatistics to mozilla::MediaChannelStatistics. Rename GetStream to GetResource and various other mentions of 'stream' to 'resource'. r=cpearce 
Bug 727661. We should only optimize ThebesLayers to ColorLayers or ImageLayers for brand-new layers (ThebesLayers with no currently valid data). Otherwise we risk ColorLayers being a deoptimization if there is valid content in the layer that doesn't happen to be visible but might become visible later, or if the layer contents are only temporarily a solid color and will soon need a buffer again. r=tn 
Bug 727694. Set up new mDecoderStateMachine with any preset initial volume. r=cpearce 
Bug 725918 - tests for fill and stroke on text 
Bug 715401. Instead of trying to create a fallback surface, just leave mTarget alone. r=bas 
Bug 727695. Add TimeDuration::FromMicroseconds. r=cjones 
Bug 696210 - Make DidAnimate methods non-virtual now that all overrides have been eliminated. r=jwatt 
Bug 728665 - SVGTests interface missing from foreignObject elements. r=jwatt 
bug 709589 - Some engine manager cleanup found by SeaMonkey reviews - engine.name, r=gavin 
bug 643172 - Some searchbar cleanup found by SeaMonkey reviews - whitespace and nits, r=gavin 
bug 643172 - Some searchbar cleanup found by SeaMonkey reviews - use classList, r=gavin 
Bug 729996 - trailing spaces in text not properly ignored. r=dholbert 
Bug 730658 - use element does not display properly when animated with set. r=dholbert 
Backout Bug 730658 - reftest failure possibly intermittent but certainly new 
Fix by Robert O'Callahan <robert@ocallahan.org> 
Bug 730658 - use element does not display properly when animated with set. r=dholbert 
Bug 311605 - default browser checking should be done from nsBrowserGlue, not in delayedStartup. r=gavin 
Bug 732836 - stop asserts when width or height attributes are removed from a use element. r=dholbert 
Bug 727661. We should only optimize ThebesLayers to ColorLayers or ImageLayers for brand-new layers (ThebesLayers with no currently valid data). Otherwise we risk ColorLayers being a deoptimization if there is valid content in the layer that doesn't happen to be visible but might become visible later, or if the layer contents are only temporarily a solid color and will soon need a buffer again. r=tn 
Fix by Robert O'Callahan <robert@ocallahan.org> 
Bug 736031 - getBBox returns incorrect results with empty containers. r=jwatt 
Bug 736791 - translate transforms are not serialised correctly. r=jwatt 
Bug 736791 - translate transforms are not serialised correctly. r=jwatt 
Bug 646331. Fix duration of big.wav. r=cpearce 
Bug 664764. Part 1: Change assertion to warning since it can happen due to resource exhaustion. r=mattwoodrow 
Bug 664764. Part 2: Make PushGroupWithCachedSurface always return a valid context even if getting the cached surface fails. r=mattwoodrow 
Bug 664764. Part 3: Don't record memory used by gfxWindowsSurface if we actually failed to allocate the surface. r=mattwoodrow 
Bug 700867. Don't allow rotation when we're drawing a BasicThebesLayer that needs to be drawn atomically. r=tnikkel 
Bug 735141. Clear imageContainer to indicate that we're not using that optimization. r=tnikkel 
Backed out changeset 0fe31dd7bbc5 
Backing out changeset 0fe31dd7bbc5 for bug 735141 due to test failures. 
Bug 723484. Fix alpha values for image layers with opacity. r=bas 
Bug 712836. Make MediaResources which have ended abnormally ineligible for cloning. r=cpearce 
Bug 735141. Clear imageContainer to indicate that we're not using that optimization. r=tnikkel 
Bug 723484. Fix alpha values for image layers with opacity. r=bas 
Bug 737784. Create mInnerView eagerly to ensure that its bounds will always be correctly set in Reflow. r=tnikkel 
Bug 734681 - Make UNTIL_SIZE decodes shutdown the decoder if decoding is already finished. r=joe. This should fix the intermittent reftest failures introduced by Bug 715308. 
Bug 491947 - Disable DDE shell integration. r=jmathies 

Bug 491947 - Disable DDE shell integration. r=jmathies Bug 739591 - Implement filter xlink:href support. r=roc 
Bug 739972 - Stop using GetChildAt in svg layout code. r=dholbert 
Bug 740627 - Fix assert if width/height of pattern is negative. r=dholbert 
Bug 740627 - Fix assert if width/height of pattern is negative. r=dholbert 
transforms. 
Bug 735898. Part 0: Fix comment. 
Bug 735898. Part 1: Cache bounds (union of all child item bounds) in nsDisplayWrapList. r=mattwoodrow 
Bug 735898. Part 2: When nsOverflowClipWrapper is asked to clip a display item that is entirely inside the clip rect, don't bother wrapping the item. r=mattwoodrow 
It turns out that calling HasBorder() is especially expensive for themed frames since we call into the theme engine to compute the border, so avoiding it is a nice win. 
Backing out changesets ef599d7f3f11, 70ef464f50e3 and 1a204c38918e (bug 735898) due to test failures. 
Bug 743444 - Lighting Filter clipped when kernelUnitLength specified. r=roc 
Bug 744607. Intersect a display item's layer-pixels draw-rect with the snapped clip rect. r=tnikkel 
Bug 735898. Part 1: Cache bounds (union of all child item bounds) in nsDisplayWrapList. r=mattwoodrow 
It turns out that calling HasBorder() is especially expensive for themed frames since we call into the theme engine to compute the border, so avoiding it is a nice win. 
Bug 735898. Mark test as passing on Android 
Bug 610713. Disable acceleration in popup widgets to work around Windows/driver bugs. r=bas 
Bug 735898. Part 4: Create Inner/Outer box-shadow items only if we actually have inset/outset shadows. r=mattwoodrow 
Bug 735898. Part 5: Simple tweaks to avoid wrapping empty lists and to reorder boolean tests. r=mattwoodrow 
Bug 736031 - getBBox returns incorrect results with empty containers. r=jwatt 
Bug 728983. Part 1: Add nsDisplayItem::GetMergedFrames. r=mattwoodrow 
Bug 728983. Part 2: When display items for multiple frames are merged, track the merged frames and mark them all as having an associated container layer. This ensures that invalidations are processed correctly. r=mattwoodrow 
Bug 735898. Part 5.9: Remove nsDisplaySVGEffects::mEffectsFrame since it's always the same as mFrame. r=mattwoodrow,a=blocking-fennec 
Bug 735898. Part 6: Avoid nsIFrame::GetOffsetTo calls by caching a frame/offset pair in nsDisplayListBuilder, using the cache from nsDisplayListBuilder::ToReferenceFrame, and having BuildDisplayListForChild efficiently update the cached frame from parent to child when possible. Also, use display items' precalculated ToReferenceFrame() instead of calling nsDisplayListBuilder::ToReferenceFrame where possible. r=mattwoodrow,a=blocking-fennec 
Bug 735898. Part 7: Remove expensive nsIFrame::HasBorder checks, just check style instead. r=dbaron,a=blocking-fennec 
Bug 745934. Update bounds of nsDisplayOpacity after we've mutated its list. r=mattwoodrow,a=blocking-fennec 
Bug 735898. Part 8: Speed up SortByZOrder. r=dbaron,a=blocking-fennec 
Bug 745934. Update bounds of nsDisplayOpacity after we've mutated its list. r=mattwoodrow,a=blocking-fennec 
Bug 746632 - If no fallback colour is specified we shouldn't draw anything when the URL fails to resolve. r=dbaron 
Bug 664918. Part 0: Refactor nsMediaCache's handling of principals into a helper method in nsContentUtils. r=bzbarsky 
Bug 664918. Part 1: Create TimeVarying<T> class to represent values that change over time. r=jesup 
Also introduces a SharedBuffer class, representing a blob of binary data with threadsafe refcounting. 
Bug 664918. Part 3: Create MediaStream and MediaGraphManager for internal management of real-time media processing. r=jesup 
Bug 664918. Part 4: Create nsDOMMediaStream, a DOM object wrapping an underlying MediaStream. r=smaug,jesup 
Bug 664918. Part 5: Create SourceMediaStream, a MediaStream with an API allowing data to be injected into it by some source. r=jesup 
Bug 664918. Part 6: ImageContainer::GetCurrentAsSurface shouldn't crash when mActiveImage is null. r=bas 
Bug 664918. Part 7: Let the "src" attribute of HTML media elements accept a MediaStream DOM object, to make the media element play back the contents of the given stream. r=cpearce,jesup 
whose src is a MediaStream. Seeking or pausing the resource will cause problems. The media element does not play back in sync with the MediaStream. 
Bug 664918. Part 9: Tentative support for MediaStreamListener::NotifyQueuedTrackChanges. r=jesup 
The test also tests that capturing MediaStream video into a canvas works. 
Bug 664918. Part 11: Refactor code around mDecoder->Shutdown() to make following fix easier. r=cpearce 
Bug 664918. Part 12: Finish SourceMediaStreams when the media decoder is destroyed, to avoid late low-audio/low-video notifications and issues when multiple decoders write to the same stream. r=cpearce,rjesup 
Bug 750163. MediaStreamGraphImpl::UpdateBufferSufficiencyState should skip tracks whose creation is pending --- there is no Track object for them yet. r=jesup 
Bug 653994. Avoid trying to paint plugin widgets in the case where a plugin fails to subclass our window. r=bsmedberg 
wrap a list, we continue to store whether they need to force a transparent surface in a boolean in the list. 
some expensive region manipulation. 
Bug 607417. Improve definition of the 'fixed layer' flag. r=tnikkel 
Bug 750769. Add logging code to dump events for diagnosis. r=cpearce 
backing out patches for bug 607417 due to build bustage 
Bug 607417. Improve definition of the 'fixed layer' flag. r=tnikkel 
Bug 751515 - Fix Crash with convertToSpecifiedUnits. r=dholbert 
code takes into account that only blocking decisions up to mBlockingDecisionsMadeUntilTime are valid. 
and the code that copies packets from the audio queue to the MediaStreams. 
Bug 750258. Fix bustage. 
Bug 752784. Don't mess with tracks we haven't initialized yet. r=cpearce 
Bug 750769. Dump currentTime/paused/ended/readyState on every event. r=cpearce 
Bug 750258. Small cleanup to make it more obvious why mCurrentTime is initialized to 1. r=jesup 
Bug 681192. Part 0.1: Add BaseRect::ClampPoint. r=bas 
Bug 681192. Part 0.2: Use FuzzyEqual to check whether we need to invalidate ThebesLayers when subpixel offsets have changed. r=mattwoodrow 
Bug 681192. Part 0.3: Add FrameLayerBuilder::GetThebesLayerResolutionForFrame. r=mattwoodrow 
Bug 681192. Part 6: Test that various scrolling operations inside scaled transforms don't trigger unnecessary repainting. r=matspal 
edge of the window rect. Using a zero-sized rect achieves this. 
scrolls by setting the "curpos" attribute will be optimized to try to hit a layer pixel boundary. 
Bug 681192. Part 9: Adjust assertion counts downward. r=mats 
Bug 681192. Part 10: Control rounding direction of scaledOffset to try to make the residual be close to mActiveScrolledRootPosition. r=tnikkel 
Bug 681192. Part 11: Don't snap scrollrange endpoints to device pixels anymore. r=matspal 
Bug 681192. Part 12: more fixes to remove unnecessary rounding to pixels. r=matspal 
Bug 681192. Part 13: Make nsDOMWindowUtils event coordinate calculations more accurate. r=matspal 
Bug 681192. Part 14: Fix test to avoid failure due to event coordinate rounding. r=matspal 
Bug 681192. Part 15: Fix test now that scrollbox scrollWidth/Heights isn't special. r=matspal 
Bug 681192. Part 16: Reduce assertion counts some more. r=matspal 
Bug 681192. Part 17: Disable test_transformed_scrolling_repaints_2.html on Mac. r=matspal 
Bug 750769. Clarify thread-safety guarantees around mPlayState and mNextState. r=cpearce 
Bug 750769. Clarify that mNextState can only be PLAY_STATE_PAUSED or PLAY_STATE_PLAYING. r=cpearce 
Bug 750769. Add more logging. r=cpearce 
not allow the scroll position to move in the wrong direction. 
Bug 754556. Use ScrollToCSSPixels in nsScrollBoxObject::ScrollTo/ScrollBy. r=matspal 
Bug 754196. If ScrollToShowRect has no need to scroll, don't call ScrollTo, so pending smooth scrolls won't be interrupted. r=matspal 
Bug 512525 - Implement SVG Fragment Identifier parsing and animation hyperlinking - Part 2 main implementation. r=jwatt 
Bug 528332 - Implement non-scaling-stroke vector-effect. Part 1 - style system changes r=dbaron 
Bug 528332 - Implement non-scaling-stroke vector-effect. Part 2 - SVG changes r=dholbert 
Bug 528332 - make tests random on Android 
Bug 756404 - Address post-landing review comments from bug 512525. r=jwatt 
Bug 754592 - Lazily allocate conditional processing data. r=jwatt 
Bug 756405 - non-scaling-stroke-02.svg fails on Android. r=jwatt 
Windows installer only - Bug 745426 - Maintenance service description should wrap to allow long localizations. r=bbondy 

Windows installer only - Bug 745426 - Maintenance service description should wrap to allow long localizations. r=bbondy Befixing Bas build bustage, bug 757329 
Bug 754556. Allow intermediate positions in smooth scrolling to go anywhere the final position can be. Also, round smooth-scrolling PositionAt coordinates to nearest appunits to avoid numerical errors giving us results outside [start, destination]! r=mats 
Bug 750769. Prevent mCurrentFrameTime from advancing during DecodeSeek. r=cpearce 
Bug 753852. Don't try to notify the graph to perform its next iteration if this stream has been removed from the graph. r=jesup 
Bug 607417. Improve definition of the 'fixed layer' flag. r=tnikkel 
Bug 757704 - getScreenCTM() crash. r=jwatt 
Bug 757718 - Crash with SVG requiredFeatures, adoptNode. r=jwatt 
Bug 757807. Don't store an nsMouseEvent in nsFrameSelection, it's unnecessary and leaky. r=smaug 
Bug 750258. Ensure that MediaStreamListener::NotifyBlockingChanged is always called for a new listener, and similar for NotifyFinished called on an already-finished stream. Rely on this to set readyState correctly for media elements consuming a stream. r=jesup,cpearce 
Bug 752781. Wait for a refresh driver run to complete before testing whether scrolling has happened. r=mats 
Bug 746452 - textPath does not handle startOffset with non-user-unit/non-percentage units correctly. r=jwatt 
Bug 756988 - Mark some animation feature strings as supported. r=jwatt 
Fix bustage for bug 755533 
Bug 752796. Ensure that stream-finished notifications aren't accidentally dropped. r=jesup 
Bug 758583. Must acquire SourceMediaStream lock before MediaStreamGraph lock. r=jesup 
Bug 757262. Try bailing out of plugin instantiation if we're in an inactive document. r=josh 
Bug 758179. Part 1: Flush layout before calling nsFrame::HandlePress/HandleRelease. r=mats 
Bug 758179. Part 2: Add flags parameter to GetContentOffsetsFromPoint(External). r=mats 
Bug 758179. Part 3: Support SKIP_HIDDEN flag. r=mats 
Bug 758179. Part 4: Pass SKIP_HIDDEN flag in HandlePress/HandleRelease. r=mats 
Bug 758179. Part 5: Test. r=mats 
Bug 759460 - Preprocess channel name into nsUpdateService.js instead of just using 'default'. r=bbondy 
Move channel-prefs.js back to original location - Bug 756325 - channel-prefs.js appears in new 'preferences' location on fresh installation but remains in 'pref' for updated existing installation. r=bbondy 
Bug 759124 - Implement useCurrentView. r=dholbert 
Bug 759908. Create MediaStreamListener::NotifyConsumptionChanged. r=jesup 
Bug 731868. Part 3: Remove JS workaround for memory leak. r=dietrich 
Bug 731868. Make reference from CanvasRenderingContext2DUserData to its 2D (non-Azure) context weak. r=jrmuizel 
Bug 731868. Part 2: Make CanvasRenderingContext2DUserData's reference to the context weak (Azure). r=jrmuizel 
Bug 760074. Don't try to instantiate a plugin in an inactive document. r=josh 
Backing out 65cd6893941e, b24941f7205b and bcec6006b1ac (bug 731868) for test failures 
Backout 65cd6893941e for real (bug 731868) 
Bug 758505, Part 2: Avoid unnecessary invalidations on repeated calls to set the same animated value (most other non-list types). r=dholbert 
Bug 758505, Part 3: Avoid unnecessary invalidations on repeated calls to set the same animated value (for SMIL animations of CSS, mapped attrs, and motion). r=dholbert 
Bug 761507 - Fix issues with adoptNode and conditional processing. r=dholbert 
Bug 762119 - Simplify ParseMappedAttrAnimValueCallback. r=dholbert 
Bug 761572. Allow click and dblclick events to be sent to an element even if it's made display:none during the mouseup event. r=smaug 
Bug 753329. Followup: put ThebesLayerInvalidRegionProperty in display-list-builder coordinates so it can be shared by frames with different coordinate systems. r=mattwoodrow 
Bug 762119 - Simplify ParseMappedAttrAnimValueCallback. r=dholbert 
Bug 731293. Remove nsFrameManager parameter from nsLayoutUtils::GetParentOrPlaceholderFor. r=mats 
Bug 731293. Add nsLayoutUtils::GetParentOrPlaceholderForCrossDoc. r=mats 
Bug 731293. Walk frame tree to find the right element/node for elementFromPoint and nodesFromRect. r=mats 
Bug 763133 - border-radius not clipping SVG contents. r=bzbarsky 
Bug 762411 - getScreenCTM scaling broken on inline outer svg elements. r=jwatt 
Bug 756367 - Reset animation of image requests when they become the current request instead of when they finish loading. r=bz 
Bug 764851 - Fix animations of the width/height of an outer SVG element. r=jwatt 
Bug 467498 - Second level of use is not live to changes. r=dholbert 
Backout most of Bug 467498 - crashtest failure on windows 
Bug 731293. Address review comments. r=mats 
Bug 766007. Create scrollframes for frameset documents. r=tnikkel 
Bug 703241. PresShell::DoScrollContentIntoView and PresShell::ScrollFrameRectIntoView should take transforms into account. r=matspal 
Bug 703241. Part 2: Stop the 'scroll top of line into view' behavior when ancestors in the line are transformed or positioned. Allow that behavior for any kind of line-participant ancestor. r=mats 
Bug 752796. Add a bit more logging. r=jesup 
Bug 731868. Make reference from CanvasRenderingContext2DUserData to its 2D (non-Azure) context weak. r=jrmuizel 
Bug 731868. Part 2: Make CanvasRenderingContext2DUserData's reference to the context weak (Azure). r=jrmuizel 
Bug 731868. Part 3: Remove JS workaround for memory leak. r=dietrich 
Bug 752796. More logging. r=jesup 
Bug 766007. Create scrollframes for frameset documents. r=tnikkel 
Bug 763838. Update mDestination to match chosen subpixel destination. r=tnikkel 
Bug 761034. Backout patch for bug 610713 since it didn't fix anything and caused regressions. r=bas 
Bug 539356. Part 30: Call correct HasShadowManager method. Fixing Win mochitest-2 bustage. r=the-wind 
Bug 770001. When comparing clips, adjust for any change in the ThebesLayer coordinate system. When clips are different, try to accumulate differences intelligently, taking into account that changes in clips outside the bounds of the clipped display item don't matter. r=mattwoodrow 
Bug 768775. For linear gradients where the gradient line is parallel to an axis and runs from one edge of a background tile to the other, we can repeat the background by just repeating the gradient instead of drawing individual tiles. r=jrmuizel 
Bug 768348. Avoid ExtCreatePen failures by avoiding rounding widths and dash lengths down to zero. r=jrmuizel 
Mark gradient tests fuzzy for bug 768775 
Backout bug 768775 for now 
Bug 770058. InvalidateFrame doesn't need flags, we can just avoid calling ScheduleRepaint if we find any ancestor frame with a descendant that needs invalidation. r=mattwoodrow 
Bug 770058. Part 2: When the document switches between active and inactive, invalidate all frames. r=mattwoodrow 
Windows installer only - Bug 756325. r=bbondy 
Bug 771822. Fire overflow/underflow events as will-paint observers, to avoid having them trigger flushing at unnecessary times. r=bz 
Bug 772679. RestrictToLayerPixels needs to accurately convert between appunits scroll offsets and ThebesLayer pixel coordinates. r=tnikkel 
Backout e42786561b60 (bug 772679) for reftest failures. 
Bug 774597. Avoid accessing MediaStreamGraphImpl members after the graph object may have been cleaned up by the main thread. r=jesup 
Bug 772726. Part 2: When BasicLayers is compositing directly to an Azure DrawTarget, Transform3D should handle the destination not having a CurrentSurface. r=mattwoodrow 
Bug 771135. Add MediaStreamListener::NotifyPull to give SourceMediaStream generators an easy way to implement pulling data from some source. r=jesup 
Reftest for bug 773595 - Have nsSVGPatternFrame::GetPatternMatrix use the correct attribute. r=jwatt. 
Bug 772690: Speed up nsDisplayList::SortByZOrder by removing (unnecessary) secondary sort by content order. r=dbaron 
Backout c1878d925ef5 (bug 776940) due to leaks on Mac 
Bug 768775. Improve the precision of the calculation of the number of stops that need to be added to handle 'repeat' and 'reflect', when we're filling a path. r=bas 
Bug 768775. For linear gradients where the gradient line is parallel to an axis and runs from one edge of a background tile to the other, we can repeat the background by just repeating the gradient instead of drawing individual tiles. r=jrmuizel 
Mark gradient tests fuzzy for bug 768775. r=bas 
Bug 771833. Windows in mActiveWindows are all inner-windows. r=anant 
Bug 777476 - text bounding boxes should ignore whitespace-only nodes when whitespace compression suppresses them. r=jwatt 
Tests for Bug 710974 - extraneous commas should be rejected by number list parser. r=dholbert 
Bug 773467 - Make SVG patterns ignore their patternContentUnits attribute when their viewBox attribute is set. r=jwatt 
Bug 646331. Specify correct duration for 320x240.ogv. r=cpearce 
Bug 778045. Add helpful comment to ImageContainer explaining its modes. r=bas 
layer pixels. 
Bug 772679. Testcase. 
Bug 772679. Mark test as passing on Mac. 
layer pixels. 
Bug 772679. Testcase. 
Bug 772679. Mark test as passing on Mac. 
Bug 772679. Handle frame with NS_HAS_CONTAINER_LAYER having no display items. r=tnikkel 
Bug 619964 - Implement FillPaint and StrokePaint filter sources. r=jwatt 
layer pixels. 
Bug 772679. Testcase. 
Bug 772679. Mark test as passing on Mac. 
Bug 772679. Handle frame with NS_HAS_CONTAINER_LAYER having no display items. r=tnikkel 
Bug 772679. Make test_offsets.js handle the viewport being transformed. r=tnikkel 
Bug 776836. When invalidating ThebesLayers due to an appunits-per-dev-pixel change, we can't trust the frame geometry. r=mattwoodrow 
Bug 780582. Ensure that mouse-up/touch-end events are processed by some frame, so that capture is released. r=smaug 
Bug 780880 - patternTransforms that involve rotation do not work properly. r=dholbert 
Bug 780345. Use a heuristic to reduce the scroll-port height by the height of fixed-position headers and footers when scrolling the viewport vertically by pages. r=tnikkel 
Get rid of the two-phase execution of messages. Everything can just happen in a single Run() method. 
There is actually no reason to do this. 
call RunDuringShutdown on the Destroy messages. 
Bug 779721. Part 4: Fix lock ordering inversion when running control messages during a forced shutdown. r=jesup 
Bug 779721. Part 5: Add a comment explaining more about how MediaStream lifetimes are managed. r=jesup 
Bug 779721. Part 6: Add a flag to track whether the main thread has called Destroy on a stream, and check that flag when sending a message to it. r=jesup 
of the gradient so it exactly fills the snapped tileRect. 
Bug 691651. When an element changes between having a transform and not having one, don't reframe if we don't need to. r=dbaron 
Bug 383026. Centralize code that converts DOM scroll offsets to/from layout scroll positions. r=dbaron 
Bug 772726. Part 3: Optimize DrawTargetD2D::GetClippedGeometry for the case where all clips are rectangles, to work around a D2D geometry-intersection bug. r=bas 
Backing out f89374c446c2 for build bustage (bug 691591) 
Bug 772726. Part 3: Optimize DrawTargetD2D::GetClippedGeometry for the case where all clips are rectangles, to work around a D2D geometry-intersection bug. r=bas 
Bug 383026. Centralize code that converts DOM scroll offsets to/from layout scroll positions. r=dbaron 
Bug 691651. When an element changes between having a transform and not having one, don't reframe if we don't need to. r=dbaron 
Bug 780345. Use a heuristic to reduce the scroll-port height by the height of fixed-position headers and footers when scrolling the viewport vertically by pages. r=tnikkel 
Bug 782387 - Blank SVG rendering, after clicking a link to a view fragment and then navigating back. r=dholbert 
Bug 757751 - attribute updates on non-rendered svg elements result in an abort. r=jwatt 
of the gradient so it exactly fills the snapped tileRect. 
Bug 779399. A horizontally-flipped gradient can dither differently. r=jrmuizel 
cycle. 
Bug 779715. Part 2: Create TrackUnionStream. r=jesup 
Bug 779715. Part 3: Add an API to get notifications of changes to the main-thread-visible state of a MediaStream. r=jesup 
For video, we pick the last track that has a video frame for the current time, and display that. 
Bug 779715. Part 5: Rename identifiers related to media element 'src' MediaStreams to be more specifically about 'src'. r=cpearce 
corresponds more closely to the media element state. 
feeding a mozCaptureStream stream, and feed the right amount of data. 
Backing out parts 6 and 7 of bug 779715 (5a87f1d1807d, 5a87f1d1807d) due to crashtest orange. 
corresponds more closely to the media element state. 
feeding a mozCaptureStream stream, and feed the right amount of data. 
all ports have been completely destroyed. 
Bug 785017 - Use NS_GetStaticAtom in svg content where appropriate. r=dholbert 
Bug 784756 - Remove an unnecessary loop from DecodeWorker::DecodeABitOf() that caused it to always take 5ms, even when decoding didn't take that long. r=joe 
Bug 785017 - Make SVG Fragment identifier processing more robust. r=dholbert 
Bug 783915 - Make SVG Fragment identifier processing more robust. r=dholbert 
Bug 786216 - Fix evenodd fill-rule. r=jwatt 
Also, might as well set mIsConsumed on every stream. 
Bug 784410. Don't target bubbling scroll commands at an element unless we have at least one device pixel to scroll to. r=mats 
Bug 786620. Fix --enable-profiling build bustage. r=mfinkle 
Bug 780847. Fix nsLayoutUtils::IsProperAncestorFrame(CrossDoc) to handle case where aAncestorFrame == aCommonAncestor == aFrame->GetParent(). r=mats 
Bug 780847. Add support for checking for event listeners with an nsIAtom* event name. r=smaug 
Bug 780847. Built-in support for mouse/touch events targeting nodes within a certain radius via heuristics. r=mats,smaug 
Back out 92f2cf2f42b2 (bug 754592) for causing regression 
Bug 787623. Call MarkContextClean immediately if we're not going to receive a DidTransactionCallback. r=joedrew 
Bug 785588. Perform asynchronous scroll operations before firing requestAnimationFrame callbacks. r=tnikkel 
Bug 787089. Rip out mUpdatePluginGeometryForFrame optimization. It's not known to be a significant win, and creates problems when prescontext ancestor chains are broken; the complexity probably isn't worthwhile. Also, soon (or now) we can rework plugin bounds computation to be use the display list built for rendering. r=matspal 
Bug 783995 - enable animation of view element attributes. r=dholbert 
Bug 616892 - Make more updates honour suspendRedraw. r=roc 
Bug 616892 - Follow up mark suspend-02.svg test random on windows for now (tracked by bug 724281) 
Bug 619469 - animation should be disabled for failing conditional-processing conditions. r=dholbert 
Bug 761034. Backout patch for bug 610713 since it didn't fix anything and caused regressions. r=bas 
Bug 791427 - speed up smil/transform tests on Android. r=dholbert 
Bug 784410. Fix mousewheel scrolling to avoid scrolling frames that can't be scrolled by at least one device pixel. r=mats 
Bug 788877. Don't create nsDisplayFixedPosition items when the root scroll frame is inactive. r=Cwiiis 
Bug 777194. Part 9: Don't do snapped image drawing if there's rotation in the CTM. r=tnikkel 
Bug 777194. Part 0: Add gfxPoint::WithinEpsilonOf. r=jrmuizel 
Bug 777194. Part 1: Use an epsilon tolerance value when comparing residual translations. r=tnikkel 
Bug 777194. Part 7: Add gfx3DMatrix::NudgeToIntegers. r=bas 
Bug 777194. Part 8: Nudge transform matrix in ChooseScaleAndSetTransform to avoid math error. r=tnikkel 
Bug 777194. Part 2: Remove RETENTION_THRESHOLD. FrameLayerBuilder limits the complexity of visible regions anyway. r=bas 
Bug 777194. Part 3: Add ToString() method to regions for easier logging/debugging. r=jrmuizel 
Bug 777194. Part 4: When a scrolled layer's visible region includes pixels that are outside the snapped clip rect, those pixels won't be valid after scrolling. r=mattwoodrow 
rerender everything. 
Bug 777194. Part 6: Testcase. r=jrmuizel 
Bug 777194. Increase fuzz for failing MacOS 10.8 text-layout-01.svg. 
Bug 777194. Part 10: Reenable test_transformed_scrolling_repaints_2 on all platforms, and test_transformed_scrolling_repaints on 64-bit Linux. 
Bug 792329. Set correct Azure content backend mask bit on Windows. r=nrc 
Bug 772726. Make nsCanvasRenderingContext2DAzure::DrawWindow use Azure content drawing if that's enabled. r=bas 
drawing, some of the edges in radial gradients don't match up perfectly. 
Bug 772726. Part 6: Add NudgeToIntegers operation to Azure Matrix, add MultiplyAndNudgeToIntegers to gfxContext, and call it from SVG when we render path geometry, to ensure that small internal rounding errors in transforms don't cause unnecessary differences in rasterization of paths. r=bas 
non-repeating gradient (say one drawn in a canvas) can cause reftest failures. 
Bug 772726. Part 8: Add Rect::NudgeToIntegers and share improved nudging code among all nudging APIs. r=bas 
Bug 772726. Part 9: Since Azure doesn't support EXTEND_NONE, when blitting a post-3D-transform temporary surface we need to make sure the output is clipped to the area of the surface. r=mattwoodrow 
Bug 772726. Part 10: Reduce scale to avoid floating-point accuracy errors that cause small artifacts with D2D Azure content drawing. r=jwatt 
Bug 772726. Part 12: Mark test failure with Azure content drawing, due to apparent D2D drawing bug (bug 789402). r=bas 
We make SVGTextObjectPaint store matrices that map device space to pattern space. 
Bug 772726. Part 14: Nudge pattern transform components to integers to avoid rounding errors. Also nudge rects to integers when we retransform them due to a CTM change. r=bas 
Bug 772726. Part 15: Change check for Azure content drawing to handle cases where Azure is preffed on but isn't being used. r=nrc 
Bug 468568. Part 0.5: _cairo_dwrite_scaled_font_create_win32_scaled_font should check font names to ensure that GDI gave us back the correct font. r=jfkthame 
Bug 468568. Part 0.6: Assert when ScheduleViewManagerFlush is called on a non-root. r=mattwoodrow 
Bug 468568. Part 0.7: Fix nsPagePrintTimer inheritance. r=smaug 
Bug 468568. Part 0.8: Remove invalid assertion about matching containers. r=smaug 
Bug 567848 - Split content methods from nsSVGUtils into SVGContentUtils. r=dholbert 
Bug 778682. Part 1: Add NotifyHasCurrentData callback on StreamListener. r=jesup 
Bug 778682. Part 2: Wait for NotifyHasCurrentData(true) callback on the input stream before entering HAVE_CURRENT_DATA for a media element. r=cpearce 
Bug 792665. Stop allowing HTMLMediaElement.src = mediaStream, and support HTMLMediaElement.mozSrcObject = mediaStream instead. r=cpearce,jesup 
Bug 791616. Part 1: Add nsIScrollableFrame::GetPerceivedScrollingDirections to consolidate logic for whether UI actions should be allowed to scroll in a given direction. r=mats 
Bug 791616. Part 2: Add API to ScrollIntoView methods to control whether to scroll in a direction when that direction is not a perceived scrollable direction. r=mats 
Bug 791616. Part 3: Don't scroll vertically to get the caret into view if that's not a perceived scrollable direction. r=mats 
Back out bug 791616 due to test failure. 
Bug 791616. Part 1: Add nsIScrollableFrame::GetPerceivedScrollingDirections to consolidate logic for whether UI actions should be allowed to scroll in a given direction. r=mats 
Bug 791616. Part 2: Add API to ScrollIntoView methods to control whether to scroll in a direction when that direction is not a perceived scrollable direction. r=mats 
Bug 791616. Part 3: Don't scroll vertically to get the caret into view if that's not a perceived scrollable direction. r=mats 
Bug 787947. We crash with dump-paint-list enabled when there are nested calls to nsLayoutUtils::PaintFrame. r=mattwoodrow 
Bug 793844. DocHasPrintCallbackCanvas should skip documents that don't have a root element. r=smaug 
by mImageSurface, either directly or indirectly. 
Bug 792903. Prevent num_stops from being set to zero. r=bas 
Cairo patch update for bug 792903. DONTBUILD 
Bug 770001. When comparing clips, adjust for any change in the ThebesLayer coordinate system. When clips are different, try to accumulate differences intelligently, taking into account that changes in clips outside the bounds of the clipped display item don't matter. r=mattwoodrow 
Bug 770058. InvalidateFrame doesn't need flags, we can just avoid calling ScheduleRepaint if we find any ancestor frame with a descendant that needs invalidation. r=mattwoodrow 
Bug 770058. Part 2: When the document switches between active and inactive, invalidate all frames. r=mattwoodrow 
Bug 539356 -  Fix selectAtPoint.html test. r=mattwoodrow 
Bug 539356 - Fix mActiveScrolledRootOffset to be offset to the reference frame. r=mattwoodrow 
entirely-clipped-out display items appearing in the display list for the page. 
Bug 770001. When comparing clips, adjust for any change in the ThebesLayer coordinate system. When clips are different, try to accumulate differences intelligently, taking into account that changes in clips outside the bounds of the clipped display item don't matter. r=mattwoodrow 
Bug 770058. InvalidateFrame doesn't need flags, we can just avoid calling ScheduleRepaint if we find any ancestor frame with a descendant that needs invalidation. r=mattwoodrow 
Bug 770058. Part 2: When the document switches between active and inactive, invalidate all frames. r=mattwoodrow 
Bug 770106. nsDisplayButtonBorderBackground should use the button's border-box for hit-testing, not its visual overflow area. r=mattwoodrow 
Bug 745788. Work around imagemap bustage by forcing the test image to repaint in order to find its imagemap. r=tbsaunders 
Bug 539356 -  Fix selectAtPoint.html test. r=mattwoodrow 
Bug 539356 - Fix mActiveScrolledRootOffset to be offset to the reference frame. r=mattwoodrow 
entirely-clipped-out display items appearing in the display list for the page. 
Bug 795262. Highlighter test should not depend on MozAfterPaint firing for changes to invisible elements. Also, poll for the value to change instead of assuming a constant 1000ms timeout. r=dao,cjones 
Bug 322206 - Firefox net / stub installer - certificate check plugin code. r=bbondy 
Bug 322206 - Firefox net / stub installer - certificate check plugin dll. r=bbondy 
Bug 791613 - Taskbar shouldn't be migrated when installing silently. r=bbondy 

Bug 791613 - Taskbar shouldn't be migrated when installing silently. r=bbondy Bug 322206 - Firefox net / stub installer - Inet background download code. r=bbondy 
Bug 322206 - Firefox net / stub installer - Inet background download dll. r=bbondy 
Bug 322206 - Firefox net / stub installer - artwork. r=bbondy 
Bug 322206 - Firefox net / stub installer - stub build system prep. r=bbondy 
Bug 322206 - Firefox net / stub installer - NSIS UI binary resource. r=bbondy 
Bug 322206 - Firefox net / stub installer - stub LTR and RTL base support and build changes for NSIS UI binary resource. r=bbondy 
Bug 322206 - Firefox net / stub installer - common code to support the stub installer. r=bbondy 
Bug 322206 - Firefox net / stub installer - majority of l10n strings. r=bbondy 
Bug 322206 - Firefox net / stub installer - configure changes to detect when the stub should be built from confvars.sh. r=khuey 
Bug 322206 - Firefox net / stub installer - main stub patch. r=bbondy 
Bug 322206 - Firefox net / stub installer - just download into a subdirectory of the user's temp dir. r=bbondy 
Bug 322206 - Firefox net / stub installer - fix branch support, set as default displayed as appropriate, and other fixes. r=bbondy 
Bug 322206 - Firefox net / stub installer -  inform user when unable to launch Firefox due to it already running. r=bbondy 
Followup fix for Bug 322206 - Firefox net / stub installer (r=me) on a CLOSED TREE 
Bug 729139 - Accept negative radius arcs in markup. r=jwatt 
Bug 795647 - The string Firefox is in the SELECT_FOLDER l10n text. r=bbondy 
Bug 796054 - Display of free space on disk is calculated incorrectly for the stub installer. r=bbondy 

Bug 796054 - Display of free space on disk is calculated incorrectly for the stub installer. r=bbondy Bug 794579. Remove view from existing parent before setting it as the root view. r=tnikkel 
Bug 787947. Avoid scaling by 0 when snapping gradient tiles. r=jrmuizel 
Bug 793690. Fix the obvious typos for infinite rects in SetScissorRect. r=bas 
Bug 794709. Don't bother trying to compute an intelligent dirty rect when building display lists for nsSimplePageSequence and nsPageContentFrame children; it's nontrivial due to the transforms they introduce, and it doesn't matter anyway. r=mattwoodrow 
Bug 787947. Avoid scaling by 0 when snapping gradient tiles. r=jrmuizel 
Bug 787947. Avoid scaling by 0 when snapping gradient tiles. r=jrmuizel 
Bug 787274. Move urlbar min-width from #urlbar to the text input itself to ensure gadgets like the identity box are allowed to add to the min-width. r=dao 
Bug 603880. Implement nsWindow::GetDefaultScale on Windows based on LOGPIXELSY, set by font DPI settings. r=jmathies 
Bug 794709. Don't bother trying to compute an intelligent dirty rect when building display lists for nsSimplePageSequence and nsPageContentFrame children; it's nontrivial due to the transforms they introduce, and it doesn't matter anyway. r=mattwoodrow 
Bug 797797. Reftest. 
Artwork for Bug 795654 - Add artwork and text positioning around artwork for nightly and aurora stub installer. r=bbondy 
Main Patch for Bug 795654 - Add artwork and text positioning around artwork for nightly and aurora stub installer. r=bbondy 
Bug 797157 - Trying to pave-over install with the stub installer with nightly already running - warning comes up that nightly is already running, but installer closes and leaves behind 'to_be_deleted' folder in C:\Program Files\Nightly. r=bbondy 
Bug 798477 - Add fallback page for the official stub installer. r=bbondy 
Bug 798544 - Prevent using the beta url override when official branding is not used. r=bbondy 
Bug 793484 - Optimise simple gradients. r=jwatt 
Bug 793065. Keep mRootPresContext alive in case something crazy happens. r=mattwoodrow 
Bug 798990. No need to call EnsureTarget just to paint nothing. Anyway it's not safe to call it during a paint. r=kft 
Bug 798607. Ensure GetContentsScaleFactor is 1.0 on all non-Mac platforms. r=smichaud 
Bug 798861 - Stub installer: Firefox is already dialog does not appear on front when it pops up, which makes the stub look like it's hung. r=bbondy 
Bug 799611 - Change stub installer fallback page for Nightly, Aurora, and Beta. r=bbondy 

Bug 799611 - Change stub installer fallback page for Nightly, Aurora, and Beta. r=bbondy Bug 799180 - Same stub installer can be launched multiple times. r=bbondy 
Artwork for Bug 798794 - Followup on bug 795654 - Artwork appears to be coming out pixelated or patched in stub installer. r=bbondy 
Changes to absolute image sizes for Bug 798794 - Followup on bug 795654 - Artwork appears to be coming out pixelated or patched in stub installer. r=bbondy 
Bug 798990. No need to call EnsureTarget just to paint nothing. Anyway it's not safe to call it during a paint. r=kft 
Bug 798990. Part 2: nsCanvasRenderingContext2DAzure::EnsureTarget must ensure that a full layer transaction occurs, because we may have transitioned from needing no display item or layer to needing them. r=mattwoodrow 
Bug 795657. Don't reframe for adding a transform when absolute descendants are present, when the frame is already positioned. r=bz 
Bug 798969. Handle symlinked srcdirs by avoiding use of Python's __file__. r=jesup 
Bug 800112 - If I pave-over install Nightly while Nightly is running twice or more in a row, then nightly will always order a restart on every launch or uninstall. r=bbondy 
between setting the size to 0,0 and 1,1. 
Bug 626245. Part 2: Fix test_convertpoint to poll until the plugin is in the right place. r=matspal 
Bug 626245. Part 3: Make aAncestor const in TransformFrameRectToAncestor. r=matspal 
Bug 626245. Part 3.5: Fix nsLayoutUtils::Transform functions to convert to correct appunits values for the destination frame. r=mats 
our tests, for one thing --- but hopefully it's OK. 
Bug 626245. Part 4.5: Forward WillPaintWindow/DidPaintWindow notifications to the presshell and do plugin geometry updates from there. r=matspal 
Bug 626245. Part 5: Move plugin widgets before compositing the window, not after. r=matspal 
Bug 786740. When destroying all the frames in a line list, keep the line list and frame list valid at each step in case someone tries to walk the frame tree during frame destruction. r=mats 
Bug 795657. Don't reframe for adding a transform when absolute descendants are present, when the frame is already positioned. r=bz 
Bug 799078. Part 1: Expose nsContentUtils::FindPresShellForDocument. r=matspal 
Bug 799078. Part 2: Get Mac plugin content scale factor from the device context instead of guessing. r=smichaud 
Comment only fix for Bug 800307 - Update certificates are checked even if app.update.url.override is set in Thunderbird >= 10.0.7es. r=Mossop DONTBUILD since it is a comment only change 

Comment only fix for Bug 800307 - Update certificates are checked even if app.update.url.override is set in Thunderbird >= 10.0.7es. r=Mossop DONTBUILD since it is a comment only change Bug 770001. When a display item has changed, don't bother invalidating areas that have been clipped out. r=mattwoodrow, roc 
Bug 798810 - Promotional content blurbs can overlap each other when downloading over dial-up/slow speeds. r=bbondy 
Bug 798255 - Firefox net / stub installer for localized builds. r=glandium, r=bsmedberg 

Bug 798255 - Firefox net / stub installer for localized builds. r=glandium, r=bsmedberg 
back out cd08e1a21a4c (Bug 798255) for orange on Win Opt / Win64 Opt builders Bug 801763. Don't try to update geometry for plugin widgets with no parent. r=mats 
Bug 776505. Assert that nsDeviceContext is created on the main thread only. r=mats 
Bug 703241. PresShell::DoScrollContentIntoView and PresShell::ScrollFrameRectIntoView should take transforms into account. r=matspal 
Bug 703241. Part 2: Stop the 'scroll top of line into view' behavior when ancestors in the line are transformed or positioned. Allow that behavior for any kind of line-participant ancestor. r=mats 
Bug 703241. Part 4: Don't let 'frame' be treated as its own container in PresShell::DoScrollContentIntoView. r=matspal 
Bug 703241. Part 3: nsLayoutUtils::GetTransformToAncestor should handle the case where aAncestor == aFrame. r=matspal 
Bug 792106. r=bbondy 
Bug 803181 - Change update background download interval from 10 minutes to 1 minute and update check interval from 24 hours to 12 hours. r=jaws 
Main patch for Bug 774618 - Partner builds don't download complete update if partial fails, or show workaround information if complete fails. r=bbondy 
Test changes for Bug 774618 - Partner builds don't download complete update if partial fails, or show workaround information if complete fails. r=bbondy 
Bug 791826 - Fix crash with SVG preserveAspectRatio, position:fixed. r=jwatt 
Bug 801317 - Support transforms in SVG fragment identifiers. r=dholbert 
Bug 798255 - Firefox net / stub installer for localized builds. r=glandium 

Bug 798255 - Firefox net / stub installer for localized builds. r=glandium Bug 717178. Part 1: Don't crash when passing a nil scaled-font to _name_tables_match. r=jfkthame 
Bug 802457. Ensure that positioned children of intrinsic-height viewports are reflowed with the correct container height. r=mats 
Bug 800859. Part 1: Refactor PaintType into two independent flags. r=mattwoodrow 
Bug 800859. Part 2: Remove nsIPresShell::DidPaint. r=mattwoodrow 
Bug 800859. Part 3: Dispatch MozAfterPaint after we've done the COMPOSITE step for the invalidations recorded in the event. r=mattwoodrow 
Bug 800859. Part 4 alternative: unconditionally dispatch MozAfterPaint to all subdocuments. r=mattwoodrow 
Backing out 20279718e3c7 (bug 717178 part 2) for test bustage on a CLOSED TREE 
Bug 644534 - Make SMIL animation work when content is transformed through XSLT. r=bzbarsky 
Bug 801488. Don't flush notifications when dragging a XUL splitter. r=bzbarsky 
Bug 801488. Part 2: Don't Redraw; DLBI will handle everything. r=mattwoodrow 
Bug 804323. Mark newly-transformed frames as abs-pos containers (or not). r=bzbarsky 
Bug 790854. Set mMainThreadDestroyed before the stream is destroyed. r=jesup 
Backout 15c4d6334107 (bug 790854) for test failures 
Bug 790854. Keep MediaStream alive until MediaStream::Destroy ends. r=jesup 
Bug 801488. Don't flush notifications when dragging a XUL splitter. r=bzbarsky 
Bug 801488. Part 2: Don't Redraw; DLBI will handle everything. r=mattwoodrow 
Bug 805254. Part 1: Remove mFormat from nsAudioStream. r=kinetik 
Part 8 mostly replaces this patch, but it's quite difficult to reorder the patches to avoid this one. 
Bug 805254. Part 3: Remove SampleType. r=kinetik 
We also give nsWaveReader its own separate format enum. 
Bug 805254. Part 5: Remove format parameter from PAudio constructor. r=kinetik 
This is largely obsoleted by part 8. Sorry. 
Bug 805254. Part 7: Move SampleFormat to mozilla::AudioSampleFormat in its own file. r=kinetik 
Moves AudioDataValue to AudioSampleFormat.h. The name isn't great, but it'll do. 
Bug 805254. Part 9: Get rid of some more #ifdefs in nsWaveDecoder. r=kinetik 
Bug 805254. Part 10: remove MOZ_CONVERT_AUDIO_SAMPLE. r=kinetik 
Bug 805254. Part 11: Move Vorbis-specific definitons into a new file VorbisUtils.h. r=kinetik 
to the float conversion path. 
Bug 805254. Part 13: Make nsAudioStream::Write take an AudioDataValue* parameter instead of void. r=kinetik 
Bug 804323. Mark newly-transformed frames as abs-pos containers (or not). r=bzbarsky 
Bug 805771. Don't call NotifyPull after a stream has finished. r=jesup 
Bug 805697. Remove StCaretHider since it's not needed anymore. r=mats 
Bug 805697. There is no point in checking for the existence of a caret in the presshell --- it will always have one, and it wouldn't matter if it didn't. r=mats 
Bug 805730. Convert HasListenerFor(nsAString) callers to HasListenerFor(nsIAtom*), which is more efficient. r=smaug 
Bug 805721. Recursively mark streams as consumed starting at the consumption point and working backwards through the graph. r=jesup 
Bug 805703. Part 1: MediaStreamGraph::CreateInputStream -> CreateSourceStream. r=jesup 
any prefs set. 
Bug 807355 - Only create marker effects if the content is markable. r=jwatt 
Bug 802734 - Add installer telemetry ping information. r=bbondy 
review looks better this way. 
Bug 807212. Call TypedArray methods instead of accessing slots directly. r=sfink 
Bug 807237. Add 'data' parameter to JS_StealArrayBufferContents. r=sfink 
Bug 807472. Pass WILL_SEND_DID_PAINT when calling PresShell::Paint with PAINT_COMPOSITE. r=mattwoodrow 
Bug 787831. Keep TrackIDs instead of Track pointers to guard against Tracks being deleted. r=jesup 
Bug 796452. Add mozpasspointerevents attribute for IFRAMEs in chrome windows. r=mats 
Obsoletes nsDisplayTransform::GetStoredList. 
Bug 805331. Only chrome display items that are leaves should be treated as especially opaque. r=mats 
Bug 792351. Make GetRootFrameOffset handle the case where aContainerFrame is itself a reference frame. r=mattwoodrow 
Bug 807919 - stop invalidating text bounds twice on updates. r=jwatt 
Move assertion up. r=jwatt. no bug. DONTBUILD. 
Fix comment. r=jwatt. no bug. DONTBUILD. 
Fix comment. r=jwatt. no bug. DONTBUILD. 
Bug 779971 - Make nsSVGTextPathProperty::DoUpdate trigger nsSVGTextFrame::NotifyGlyphMetricsChange() off an asynchronous change hint (to avoid calling nsLayoutUtils::FrameNeedsReflow synchronously under nsISVGChildFrame::ReflowSVG or during frame teardown, and avoid infinite loops caused by using an event queue event). r=jwatt. 
Bug 779971 - Make nsSVGTextPathProperty::DoUpdate trigger nsSVGTextFrame::NotifyGlyphMetricsChange() off an asynchronous change hint (to avoid calling nsLayoutUtils::FrameNeedsReflow synchronously under nsISVGChildFrame::ReflowSVG or during frame teardown, and avoid infinite loops caused by using an event queue event). r=jwatt. 
Bug 792765. Part 0.5: Fix WebIDL codegen to avoid emitting QueryInterface when there is no interface prototype object. r=bz 
Bug 792675. Part 0.6: Handle empty dictionary types in WebIDL bindings. r=bz 
Bug 792675. Part 1: Make the URL interface use WebIDL. r=bz 
Bug 792675. Part 2: Change assertion to warning since Web content can trigger it (trying to create URIs relative to a blob URI). r=sicking 
but we don't need separate subclasses for each kind of host object URI. 
Bug 792675. Part 5: Extend nsHostObjectProtocolHandler with support for 'mediastream' scheme. r=sicking 
Bug 792675. Part 6: Extend createObjectURL to support MediaStreams. r=sicking 
Bug 792675. Part 7: Add support for MediaStream URIs to media elements. r=cpearce 
Bug 792106. r=bbondy 
Bug 809766 - libsoundtouch does not build. r=khuey 
Bug 810509 - stub installer ping does not happen if user cancels while it is downloading. r=bbondy 
Bug 804606. On Mac, call ApplyPluginGeometryUpdates immediately when we've computed geometry, instead of waiting until the paint event. r=smichaud 
not cause a crash. 
Bug 811173. Part 2: Add other cases for nsDisplayItems that snap their bounds. r=mattwoodrow 
Bug 799902 - need pretty branding for stub installer (file naming). r=glandium 
Bug 810470. Part 1: Cache nsStyleBackground pointer in nsDisplayBackground. r=mattwoodrow 
Bug 810470. Part 2: Change nsDisplayBackground invalidation to store and compare the background positioning rect. r=mattwoodrow 
New invalidation logic takes care of this automatically. 
Bug 810470. Part 4: Make only background-attachment:fixed backgrounds that have propagated to the viewport use a dedicated layer, and refactor how we do that. r=mattwoodrow 
Bug 810470. Part 5: Remove more unused code. r=mattwoodrow 
Bug 810470. Part 6: Rename nsDisplayBackground to nsDisplayBackgroundImage. r=mattwoodrow 
Bug 810470. Part 7: Simplify TryOptimizeToImageLayer/IsSingleFixedPositionImage now that colors are not involved. r=mattwoodrow 
mDestRect, returning the rect as an out-parameter instead. 
Bug 792106. r=bbondy 
Bug 759993. Part 0: FrameLayerBuilder::GetThebesLayerScaleForFrame should not cross popup boundaries. r=mattwoodrow 
[mq]: tmp 
Bug 811301. Part 1: Save and restore state of root scroll frame when reframing the root element, and treat root scroll frame state like any other frame. r=mats 
Bug 811301. Part 2: Remove saved state IDs now that the root scroll frame state is captured normally. r=mats 
or reflows when restoring the scroll position. 
Bug 811908 - remove svg inline-in-xul-basic-01.xul reftest as it has failed since landing. r=dholbert 
Bug 811217 - EventNameType_SMIL is wrong. r=dholbert 
Bug 810470. Part 1: Cache nsStyleBackground pointer in nsDisplayBackground. r=mattwoodrow 
Bug 810470. Part 2: Change nsDisplayBackground invalidation to store and compare the background positioning rect. r=mattwoodrow 
New invalidation logic takes care of this automatically. 
Bug 810470. Part 4: Make only background-attachment:fixed backgrounds that have propagated to the viewport use a dedicated layer, and refactor how we do that. r=mattwoodrow 
Bug 810470. Part 5: Remove more unused code. r=mattwoodrow 
Bug 810470. Part 6: Rename nsDisplayBackground to nsDisplayBackgroundImage. r=mattwoodrow 
Bug 810470. Part 7: Simplify TryOptimizeToImageLayer/IsSingleFixedPositionImage now that colors are not involved. r=mattwoodrow 
mDestRect, returning the rect as an out-parameter instead. 
important and is already a known intermittent failure. 
Bug 805024 r=dholbert 
Bug 812161 r=jwatt 
Bug 812776. Reset InlineBackgroundData whenever there are no display lists extant. Frame trees can't change while there are display lists extant. r=mattwoodrow 
Bug 812817. Ignore TYPE_ZERO nsDisplayItemData records constructed for the root layer. r=mattwoodrow 
Bug 809478. Handle 90-degree rotations when snapping transformed gradients. r=jrmuizel 
Bug 813722. Create layers for opacity:0 elements with animated opacity. r=mattwoodrow 
Bug 812517. Part 1: Add nsIScrollableFrame::ScrollToCSSPixelsApproximate. r=mats 
Bug 812517. Part 2: Call ScrollToCSSPixelsApproximate when TabChild scrolls. r=mats 
Bug 812223 - Take 2 - negative download times in stub installer pings. r=bbondy 

Bug 812223 - Take 2 - negative download times in stub installer pings. r=bbondy Bug 815030. Invalidate cached background images in when a frame gets a visual style change. r=mattwoodrow 
Bug 815591. Don't build nsDisplayBackgroundColor if there is no background color and we're not going to do hit-testing. r=mattwoodrow 
Bug 801842. Treat windowless plugins in popups as always visible, since we don't compute proper geometry for them. r=tnikkel 
Bug 815593. Don't layerize images that exceed MaxTextureSize. r=mattwoodrow 
Bug 812897. Limit WS_EX_COMPOSITED hack to pre-Windows-8. r=jmathies 
Backout 7aceff7124d9 (bug 815591) for Mac test failures 
Bug 817439 r=dholbert 
Bug 818391 - Add std::abs(long long) for VC9 since it lacks this C++11 signature. r=mats,jlebar 
Bug 663776. Part 1: When determining whether the scale factors hav changed, we need to use GetBaseTransform for the old scale factors, because that's what stores the old transform that we computed scale factors from. r=mattwoodrow 
Bug 663776. Part 2: Move TransformRectToRect from nsCSSRendering to gfxUtils. r=mattwoodrow 
and nothing else, and SnapTransform, which snaps translation+scale of rectangles. 
Bug 816664. Don't call NotifyPull if we already have all the data buffered in the stream that we need. r=jesup 
Bug 816458. Instead of removing the MAY_BE_TRANSFORMED bit in certain frame classes, add an nsIFrame::SupportsCSSTransforms method and call it when necessary. r=mats 
Bug 818276. Update margins and scrollbar settings for a child document whenever the corresponding IFRAME state changes, even if we do not recreate the presentation. r=matspal 
Test only change / possible fix for Bug 759639 - Intermittent test_0202_app_launch_apply_update_dirlocked_svc.js | test failed (with xpcshell return code: 0), | pending-service == pending, | exception thrown from do_timeout callback: 2147500036. r=bbondy 
Bug 817723 - Only build the stub installer when the update channel equals nightly, aurora, beta, and release. r=khuey 
backout changeset ec6a21cbe516 - Bug 817723 
Bug 785348. Part 1: Track when we've called into plugin code. While we're in plugin code, never run the refresh driver. r=mats 
Bug 818643. Issue an NotifyRenderingChanged callback on nsDisplayItems when we invalidate anything to do with the display item. Make nsDisplayCanvasBackground override NotifyRenderingChanged to invalidate the cached background image. r=mattwoodrow 
Bug 805343. Identify DisplayItemDatas that are completely hidden by other opaque content in their ThebesLayer, and ignore them when we check to see whether there's an image we might need to invalidate. r=mattwoodrow 
Bug 805343. Part 2: Update FrameLayerBuilder::HasVisibleRetainedDataFor to account for occluded display items. r=mattwoodrow 
Bug 812890 - spot light filters do not process limiting cone angle properly. r=cam 
Bug 817723 - Only build the stub installer when building x86 and the update channel equals nightly, aurora, beta, and release. r=khuey 
Bug 663776. Part 0.5: Mark layers that could have their transforms changed via off-main-thread animations or empty transactions, and treat all ThebesLayerOGL descendants of such layers as potentially resampled so that their buffers are put into the correct state and size. r=mattwoodrow 
Bug 663776. Part 1: When determining whether the scale factors hav changed, we need to use GetBaseTransform for the old scale factors, because that's what stores the old transform that we computed scale factors from. r=mattwoodrow 
Bug 820629 - animateTransform should not animate non-transform-type attributes r=dholbert 
Backed out changeset 531eb76b7ab6 (bug 815010) due to major test bustage 
Backing out bug 815010 due to test failures 
Partial fix (all but test_0201_app_launch_apply_update_svc.js) for - Bug 762032 - Intermittent test_0201_app_launch_apply_update.js, test_0201_app_launch_apply_update_svc.js test_0203_app_launch_apply_update_svc.js | WindowsError: [Error 13] The process cannot access the file because it is being used by another process: '...helper.exe'. r=bbondy 
Bug 818333 - Make confvars.sh for desktop the same across branches where possible. r=glandium 
Bug 820629 - animateTransform should not animate non-transform-type attributes (follow-up to correct type) r=dholbert 
Bug 821343 - TestAUSHelper doesn't exist for b2g xpcshell_updater tests, r=ahal 
Bug 794426. Don't call StopAudioThread from the main thread when we start capturing audio to a MediaStream. Instead, let the state machine thread call StopAudioThread. r=cpearce 
Bug 820496. Put bounds in correct coordinate system when setting up the canvas background for a page. r=mattwoodrow 
backout changeset 3cfc257e29a5 - Bug 818333 
Update xpcshell skip-if reason - Bug 821344 - test_bug595059.js and test_0081_prompt_uiAlreadyOpen.js update tests fails in B2G due to custom nsIUpdatePrompt. r=ahalberstadt, DONTBUILD 
Bug 791675 - Scaled shapes fail to draw sometimes r=jwatt. 
Bug 821960 - Implement tearoffs for remaining SVG types. r=jwatt 
Bug 663776. Part 2: Move TransformRectToRect from nsCSSRendering to gfxUtils. r=mattwoodrow 
and nothing else, and SnapTransform, which snaps translation+scale of rectangles. 
Bug 808466. When invalidating a popup frame stop there because popup frames are display roots, don't look at the parent frame's needs paint bits as they are not relevant to the popup frame. r=tnikkel 
Bug 816359. Part 1: When constructing inline frames, we should never treat transforms as making the inline an abs-pos containing block, since transforms don't apply to inlines. r=bz 
Bug 816359. Part 2: Make nsStyleDisplay::HasTransform take a frame parameter and check that the frame supports transforms. r=mats" 
Bug 814718. Explicitly store the blocking state that we last delivered to MediaStreamListeners. r=jesup 
bug 717178. Part 2.5: Make cairo_win32_font_face_create_for_logfontw_hfont take ownership of the HFONT. r=jrmuizel 
Bug 717178. Part 3: gfxGDIFont should pass ownership of its mFont to cairo_font_face_t. r=jrmuizel 
Bug 814718. Explicitly store the blocking state that we last delivered to MediaStreamListeners. r=jesup 
Bug 825866. Part 1: Merge nsView into nsIView, making all references to nsView refer to nsIView instead. r=tnikkel 
Bug 825866. Part 1.5: Remove unnecessary static casts. r=tnikkel 
Bug 825866. Part 2: Remove nsIView::ExternalIsRoot, as it's not needed anymore. r=tnikkel 
Bug 825866. Part 3: Remove some unnecessary 'virtual's. r=tnikkel 
Bug 825866. Part 4: Remove nsIView's IID as it's not needed anymore. r=tnikkel 
Bug 825866. Part 5: Remove NS_IMETHOD declarations that aren't needed anymore. r=tnikkel 
Bug 825866. Part 6: Annotate nsIWidgetListener method implementations to indicate that they're virtual and must override. r=tnikkel 
Bug 825866. Part 7: Make a number of nsIView methods private. r=tnikkel 
This was autogenerated by basically replacing all occurrences of the word "nsIView" with nsView. 
Bug 825866. Part 9: Remove Set/GetViewFlags since they're unused. r=tnikkel 
Bug 822956. Part 2: Don't wrap getUserMedia's SourceMediaStream in a DOM object wrapper. Create an nsDOMUserMediaStream wrapper specifically to clean up the SourceMediaStream and the MediaInputPort. r=jesup 
Bug 822956. ProcessAudioChunk needs to take account of AudioChunk::mOffset. r=jesup 
Bug 826632. Part 1: Merge nsIViewManager into nsViewManager. r=tnikkel 
Bug 826632. Part 2: Use nsRefPtr<nsViewManager> instead of nsCOMPtr. r=tnikkel 
Bug 826632. Part 3: Create nsViewManagers directly instead of using XPCOM. r=tnikkel 
Bug 826632. Part 4: nsViewManager does not need to implement nsISupports anymore. r=tnikkel 
Also, just use GetRootView instead of GetRootViewImpl. 
Bug 826632. Part 6: Remove some unnecessary #includes from nsView.h and nsViewManager.h. r=tnikkel 
Bug 826632. Part 7: nsView::GetViewManagerInternal is no longer relevant, so remove it. r=tnikkel 
Bug 826635. Refresh-driver painting is always enabled now, so remove the alternative code path. r=mattwoodrow 
Bug 826632. Part 1: Merge nsIViewManager into nsViewManager. r=tnikkel 
Bug 826632. Part 2: Use nsRefPtr<nsViewManager> instead of nsCOMPtr. r=tnikkel 
Bug 826632. Part 3: Create nsViewManagers directly instead of using XPCOM. r=tnikkel 
Bug 826632. Part 4: nsViewManager does not need to implement nsISupports anymore. r=tnikkel 
Also, just use GetRootView instead of GetRootViewImpl. 
Bug 826632. Part 6: Remove some unnecessary #includes from nsView.h and nsViewManager.h. r=tnikkel 
Bug 826632. Part 7: nsView::GetViewManagerInternal is no longer relevant, so remove it. r=tnikkel 
Bug 826635. Refresh-driver painting is always enabled now, so remove the alternative code path. r=tnikkel 
Bug 504071. Allow image drawing to snap to pixel boundaries even if there's scaling, on all platforms. Not only is it faster, it avoids seaming. This is consistent with snapping behavior of other drawing operations. r=joe 
Bug 717178. Part 3 alternative: don't put Win32 cairo_font_face_ts into the font-face cache if they were created with an explicit HFONT. r=jrmuizel 
bug 824294. Check for null (destroyed) element just before we call PlaybackEnded on it. r=doublec 
Bug 825411 - clipPaths, masks, etc. with failing conditional processing attributes cause referencing elements not to be rendered r=cam 
Bug 828207: Wallpaper over not being able to find a layer manager on the main thread when initializing a remote render frame.  That's OK, we'll find one on the compositor thread. r=cjones 
Bug 827577. Be a lot more careful about saving and restoring frame constructor state for fixed-pos descendants of CSS-transformed elements. r=bzbarsky 
Bug 794246. Assume inactive menu items don't paint a background of their own. r=bas 
Bug 827537. Refactor AudioChunk to support having separate buffers for each channel. r=jesup 
Bug 828246 - Prevent stroke from drawing, on SVG text with a stroke-width of 0. r=dholbert 
Possible fix for Bug 814535 and Bug 774014 - Intermittent test_0201_app_launch_apply_update* and test_0203_app_launch_apply_update* | launch application timer expired. r=bbondy 
Followup possible fix for Bug 814535 and Bug 774014 - Intermittent test_0201_app_launch_apply_update* and test_0203_app_launch_apply_update* | launch application timer expired. r=bbondy, a=test-only 
Bug 828526 - Lighting filters should operate in the sRGB colour space. r=roc 
Bug 818177 - Try to make anim-filter-filterRes-01.svg fail less often. r=dholbert 
Bug 571381 - Require NSIS 2.46 Unicode. r=glandium 
Bug 828286 - SVG stylesheet not enabled for SVG loaded as data and then imported with importNode. r=dholbert 
Bug 830192. Integrate GetFixedContainingBlock into GetAbsoluteContainingBlock and ensure only elements which can be abs-pos containing blocks are turned into fixed-pos containing blocks when transformed. r=bzbarsky 
Backed out changeset e3ee71614172 (bug 830192) 
-- Allow any number of nodes to be connected to any given input/output port. 
Bug 593148 - Remove version.nsh after other apps no longer use it. r=bbondy 
Bug 830192. Integrate GetFixedContainingBlock into GetAbsoluteContainingBlock and ensure only elements which can be abs-pos containing blocks are turned into fixed-pos containing blocks when transformed. r=bzbarsky 
Backout 342c2b349402, bug 803192 
Bug 830192. Integrate GetFixedContainingBlock into GetAbsoluteContainingBlock and ensure only elements which can be abs-pos containing blocks are turned into fixed-pos containing blocks when transformed. r=bzbarsky 
Bug 369542 - crash tests 
Bug 378716 - crash test 
Bug 835030 - Remove svg.smil.enabled pref. r=dholbert 
Bug 738551 - transforms should only be animated with animateTransform. r=dholbert 
Bug 826817. Part 1: Send WillPaintWindow/DidPaintWindow from all widget implementations. r=tnikkel 
Bug 826817. Part 2: Remove will-send-did-paint and did-send-will-paint flags from nsIWidgetListener::PaintWindow. r=tnikkel 
Bug 826817. Part 3: Remove will-send-did-paint flag from nsIWidgetListener::WillPaintWindow. r=tnikkel 
Bug 826817. Part 4: Remove will-send-did-paint and did-send-will-paint flags from nsIPresShell APIs. r=tnikkel 
Bug 833542. Make scrollWidth/scrollHeight for overflow:visible match what they would be for overflow:hidden on the same element. r=mats 
Bug 832788. Part 1: Make double->float conversions explicit in CanvasRenderingContext2D.cpp. r=jrmuizel 
Bug 832788. Part 2: AudioEventTimeline::IsValid needs to accept double. r=ehsan 
Bug 832788. Part 3: AudioListener DopplerFactor/SpeedOfSound should take float per WebIDL. r=ehsan 
Bug 832788. Part 4: PrimitiveConversions should avoid implicit narrowing casts to avoid compiler warnings; make them explicit. r=bzbarsky 
Backing out 306003528e10, 335160d7855a, dfc9d5651175, 0559d630dd89, 03c3ae8323bd: bug 835195, bug 832154, bug 831561 ... in a CLOSED TREE 
Bug 835090 - Where possible app update xpcshell tests should run on xulrunner. r=bbondy 
Significantly increase timeout to see if it makes a difference for Bug 814535 and bug 774014 - Intermittent test_0203_app_launch_apply_update.js, test_0203_app_launch_apply_update_svc.js Intermittent test_0201_app_launch_apply_update.js, test_0201_app_launch_apply_update_svc.js | launch application timer expired. r=bbondy 
Bug 806754. Make MediaDecoders detect when a MediaStream has been destroyed because its DOM wrapper has been collected, and remove the no-longer-relevant MediaStream from the output list. r=cpearce 
audio to MediaStreams until the audio thread has actually stopped. 
Bug 832788. Part 5: Add suffixes for large integer literals. r=bz 
Bug 832788. Part 6: Enable FAIL_ON_WARNINGS in dom/bindings. r=bz 
Bug 835978 - crash in nsDisplayList::HitTest r=jwatt. 
Bug 836620 - Cleanup app binary copies used by app update xpcshell tests. r=bbondy 
Bug 828146. Ensure nsDisplayBackgroundImage::ComputeInvalidationRegion invalidates something for nsDisplayBackgroundImages which are themed. r=mattwoodrow 
Bug 830707. Part 1: Add code for upmixing and downmixing following Web Audio's spec. r=jesup 
Bug 830707. Part 1.5: Add MAX_AUDIO_SAMPLE_SIZE and tweak AddAudioSampleOffset. r=jesup 
Bug 830707. Part 2: Mix channels to output channel count when playing audio. r=jesup 
Bug 830707. Part 3: Don't constrain AudioSegment to a fixed number of channels. r=jesup 
Additional logging for Bug 835197 - Intermittent test_0201_app_launch_apply_update.js, test_0202_app_launch_apply_update_dirlocked.js, test_0203_app_launch_apply_update.js [Exception... 'Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIFile.copyTo]'. r=bbondy 
Bug 695811 - Checking for updates logs two warnings about deprecated XMLHttpRequest attributes. r=bbondy, r=dhylands 
Bug 837345 - Cleanup unused code that is no longer needed with NSIS 2.46. r=bbondy 
Bug 837450 -  Leak with getTransformToElement. r=jwatt 
Bug 762032 - Intermittent test_0201_app_launch_apply_update_svc.js | WindowsError: [Error 13] The process cannot access the file because it is being used by another process: '...\ExecutableDir.tmp\bin\uninstall\helper.exe'. r=bbondy 
Bug 767968 - Intermittent test_0201_app_launch_apply_update.js, test_0203_app_launch_apply_update.js | WindowsError: [Error 13] The process cannot access the file because it is being used by another process: '...\maintenanceservice_installer.exe'. r=bbondy 
Bug 804387. Part 1: Make AllocateInputPort addref the returned port. r=jesup 
DispatchToMainThreadAfterStreamStateUpdate take already_AddRefed. 
Bug 804387. Part 2: Fix misleading parameter name; these are NOT exactly microseconds. r=jesup 
Bug 804387. Part 3: When a global underrun happens, don't insert blocked time, just cut that time out of the entire MediaStreamGraph timeline instead. r=jesup 
Bug 804387. Part 4: Move MediaStreamGraphImpl to its own header file. r=jesup 
Bug 804387. Part 5: Add MediaStream::GraphTimeToStreamTimeOptimistic and MediaStream::StreamTimeToGraphTime. r=jesup 
Bug 804387. Part 6: ChangeExplicitBlockerCountImpl takes a GraphTime, not a StreamTime. r=jesup 
Bug 804387. Part 7: Use a static_cast instead of dynamic check when processing ProcessedMediaStream message. r=jesup 
Bug 804387. Part 7.2: Let BiquadFilterNode use the actual context sample rate. r=ehsan 
Bug 804387. Part 7.5: Make Web Audio tests context-rate-independent (disabling some decodeAudioData tests). r=ehsan 
WEBAUDIO_BLOCK_SIZE. 
resampling and caching as necessary. 
Bug 804387. Part 1: Make AllocateInputPort addref the returned port. r=jesup 
DispatchToMainThreadAfterStreamStateUpdate take already_AddRefed. 
Bug 804387. Part 2: Fix misleading parameter name; these are NOT exactly microseconds. r=jesup 
Bug 804387. Part 3: When a global underrun happens, don't insert blocked time, just cut that time out of the entire MediaStreamGraph timeline instead. r=jesup 
Bug 804387. Part 4: Move MediaStreamGraphImpl to its own header file. r=jesup 
Bug 804387. Part 5: Add MediaStream::GraphTimeToStreamTimeOptimistic and MediaStream::StreamTimeToGraphTime. r=jesup 
Bug 804387. Part 6: ChangeExplicitBlockerCountImpl takes a GraphTime, not a StreamTime. r=jesup 
Bug 804387. Part 7: Use a static_cast instead of dynamic check when processing ProcessedMediaStream message. r=jesup 
Bug 804387. Part 7.2: Let BiquadFilterNode use the actual context sample rate. r=ehsan 
Bug 804387. Part 7.5: Make Web Audio tests context-rate-independent (disabling some decodeAudioData tests). r=ehsan 
WEBAUDIO_BLOCK_SIZE. 
resampling and caching as necessary. 
Bug 753730 - Intermittent test_0110_general_svc.js failure in head_update.js | UPDATE TYPE complete. r=bbondy 
Bug 830278. Part 2: Move mDisallowSelectionPrint check into IsThereARangeSelection to make sure code doesn't re-enable selection printing. r=heycam 
Bug 838501 - Refactor SVGElementFactory so that it uses a hashtable rather than a set of if tests to match tags to creation functions. r=dholbert 
Back out Bug 678392 
Merge backout of Bug 678392 
Bug 8203709. Handle failure to create a snapshot surface in GetImageDataArray. r=mattwoodrow 
Bug 836990. Put fixed-pos items in the abs-pos list of the container whenever it doesn't have a fixed-pos list. It's simpler this way and handles all edge cases. r=bzbarsky 
Bug 839378. Don't modify the page DOM from videocontrols. r=enndeakin 
Bug 8203709. Handle failure to create a snapshot surface in GetImageDataArray. r=mattwoodrow 
Bug 815591. Don't build nsDisplayBackgroundColor if there is no background color and we're not going to do hit-testing. r=mattwoodrow 
Bug 815591. Don't build nsDisplayBackgroundColor if there is no background color and we're not going to do hit-testing. r=mattwoodrow 
Bug 840902. Part 1: Stop checking the results of various display list methods. r=mattwoodrow 
Bug 840902. Part 2: Remove nsresults from various display list methods. r=mattwoodrow 
Bug 840902. Part 1: Stop checking the results of various display list methods. r=mattwoodrow 
Bug 840902. Part 2: Remove nsresults from various display list methods. r=mattwoodrow 
Bug 837034. Part 1: Rename nsDOM(Local)MediaStream to DOM(Local)MediaStream and put them in the mozilla namespace. r=jesup 
Bug 837034. Part 2: Convert DOMMediaStream to use WebIDL. r=peterv,jesup 
Bug 840902. Part 1: Stop checking the results of various display list methods. r=mattwoodrow 
Bug 840902. Part 2: Remove nsresults from various display list methods. r=mattwoodrow 
Bug 842272: Don't destroy SVGElementFactory's hash table if it was never initialized. r=dholbert 
Bug 842089. MediaStream doesn't implement EventTarget yet. r=bz 
Bug 785606 - Support viewBox=none from SVG 1.2 Tiny r=jwatt 
In this patch, we treat all sites as unsafe. 
arbitrary script execution. 
Bug 845526. Limit complexity of invalid region in RemoveFrameFromLayerManager. r=mattwoodrow 
Bug 843214. Make SourceMediaStream::AddTrack/AppendToTrack/HaveEnoughBuffered/DispatchWhenNotEnoughBuffered/EndTrack smoothly handle cases where track does not exist. r=jesup 
Bug 843214. Make SourceMediaStream::AddTrack/AppendToTrack/HaveEnoughBuffered/DispatchWhenNotEnoughBuffered/EndTrack smoothly handle cases where track does not exist. r=jesup 
Bug 845985 - feComponentTransfer with type=discrete should work with a single tableValue. r=roc 
Bug 843072 - Crash with getExtentOfChar(0) if there is no text. r=dholbert 
Bug 845526 - Limit complexity of invalid region in RemoveFrameFromLayerManager. r=mattwoodrow 
In this patch, we treat all sites as unsafe. 
arbitrary script execution. 
Bug 845526. Limit complexity of invalid region in RemoveFrameFromLayerManager. r=mattwoodrow 
Bug 840695. Make aAntialiasMode default to AA_DEFAULT, because, well, it's the default. r=bas 
Bug 842909 - Fix GetNumberOfChars so that it always creates a TextNodeCorrespondenceProperty. r=dholbert 
Windows stub installer code only - Bug 811573 - 'Add more data points to the metrics ping for the stub installer'. Also fixes bug 797998 - 'In the download phase of the stub installer without an internet connection, the stub installer should eventually time out and report an error' and bug 836044 - 'Aurora stub installer doesn't seem to be working'. r=bbondy 
Bug 818177 - mark anim-filter-filterRes-01.svg random on Windows XP. r=dholbert 
Bug 847139 - Crash with caretPositionFromPoint. r=dholbert 
Bug 848465 - Remove obsolete, non-functional selection code from nsSVGGlyphFrame. r=dholbert 
Bug 848252 - Replace NS_FRAME_IS_SVG_TEXT checks with IsSVGText(). r=dholbert 
Bug 848794 - Can't re-run Firefox stub installer after cancelling Install. r=bbondy 
Bug 849688 - Crash with getStartPositionOfChar when argument is out of range. r=dholbert 
Windows stub installer only - plugin code - Bug 850110 - Download server IP address is sometimes reported as a single digit. r=bbondy 
Windows stub installer only - compiled plugin - Bug 850110 - Download server IP address is sometimes reported as a single digit. r=bbondy 
Bug 846901 - Skip nsDisplayWrapList construction if there's only one item to wrap and it already has the right frame. r=mattwoodrow 
Bug 846901 - Support prerendering elements with animated transforms that are offscreen but only by a small amount. r=mattwoodrow 
Bug 846901 - Skip nsDisplayWrapList construction if there's only one item to wrap and it already has the right frame. r=mattwoodrow 
Bug 846901 - Support prerendering elements with animated transforms that are offscreen but only by a small amount. r=mattwoodrow 
Bug 850587. Part 1: Refactor NotifyAutoplayDataReady to CheckAutoplayDataReady and allow autoplay to start on HAVE_CURRENT_DATA if the source is a stream. r=cpearce 
beyond its available data). 
Bug 843618. When reading back the results of clayer ompositing to draw them to a non-deefault rendering context, don't depend on the size of the rendering context's target surface --- it could be anything. r=jrmuizel 
Bug 852270 - use transform rather than -moz-transform in svg.css r=dbaron 
Bug 849606 r=jwatt 
Bug 847139 - Crash with caretPositionFromPoint. r=heycam 
Bug 842630 - Fix out of bounds in nsSVGTextFrame2::ResolvePositions. r=heycam 
Bug 850487. Fix --enable-profiling build breakage by not relying on imports inside #ifdefs. r=bnicholson 
Bug 852489. Part 0: Disable part of testSystemPages for intermittent failures. r=gbrown 
Bug 852489. Part 1: Don't create nsDisplayButtonForegrounds for buttons that aren't focused. r=mats 
Bug 852489. Part 3: Add logging to track addition of IPC edits and causes of layer mutation. Also avoid unnecessary mutate in ClearAnimations. r=mattwoodrow 
Bug 852489. Part 3.5: Ensure that Mutated is called for all layer attributes. r=mattwoodrow 
Bug 852489. Part 4: Don't call RepositionChild if the layer is already in the right position. r=mattwoodrow 
Bug 852489. Part 5: Don't temporarily reset clip rect when reusing an existing layer. r=mattwodrow 
Bug 852489. Part 6: Don't temporarily reset clip when recycling Thebes/Image/ColorLayers. r=mattwoodrow 
Bug 852489. Part 7: Remove Layer::IntersectClipRect because it's no longer used and it's prone to cause unnecessary Mutateds. r=mattwoodrow 
BuildContainerLayerFor. But this approach is needed for the B2G18 branch. 
bug 856409 - Fixed comparison warnings about comparision between uint32_t and int32_t. r=tbsaunde 
Bug 398825 - Implement selectSubString. r=heycam 
Bug 398825 - Implement selectSubString. r=heycam 
Bug 398825 - disable failing test temporarily. 
Bug 850587. Test. r=jsmith 
Bug 851445. When saving a frame scroll position, if we're in the process of trying to scroll to a saved scroll position, save the desired position instead of the actual current position. r=mats 
Backout bug 851445 for test failure 
Bug 398825 - Make the selectSubString method pref enabled and fix and re-enable the mochitests r=Ms2ger 
the audio for the stream including any skips due to underruns. 
Bug 854803 - Part 1: Account for more decoder state in RasterImage::IsDecodeFinished(). r=seth 
Bug 854803 - Part 2: Don't try to enqueue more decoding from DecodeDoneWorker. r=seth 
Bug 841192. Part 1: Make <frame> elements behave more like <iframe>s, in particular supporting padding and borders (but not border-radius). r=mats 
Bug 841192. Part 2: Move FrameLayerBuilder::Clip to DisplayItemClip. r=mattwoodrow 
Bug 841192. Part 3: Make DisplayItemClip members private and encapsulate them in a real API. r=mattwoodrow 
Bug 841192. Part 4: Create DisplayListClipState. r=mattwoodrow 
Bug 841192. Part 5: Add "current DisplayListClipState" to nsDisplayListBuilder. r=mattwoodrow 
Bug 841192. Part 6: Save and restore DisplayListClipState when we start building display lists for a frame. r=mattwoodrow 
Bug 841192. Part 7: Move child->MarkAbsoluteFramesForDisplayList call down. r=mattwoodrow 
Bug 841192. Part 8: On encountering out-of-flow frames during display list construction, save their clip rect as well as their dirty rect for later use when we traverse the placeholder. r=mattwoodrow 
Bug 841192. Part 9: Add extra APIs to DisplayItemClip to set the current state, intersect with another DisplayItemClip, test intersection with a rect, translate, and provide easy access to a DisplayItemClip object which doesn't clip anything. r=mattwoodrow 
Bug 841192. Part 10: Add extra APIs to DisplayListClipState to constrain the current clip, and an Auto class for safe saving and restoring. r=mattwoodrow 
Bug 841192. Part 11: Make nsDisplayOptionEventGrabber be a non-anonymous display item list wrapper. r=mattwoodrow 
Bug 841192. Part 12: Move RoundedRectIntersectsRect from nsDisplayList.cpp to nsLayoutUtils. r=mattwoodrow 
to reflect the fact that it doesn't cause any clipping. 
As far as I can tell, it isn't actually necessary. 
Bug 841192. Part 15: Move DisplayListClipState clipping methods to AutoSaveRestore and AutoClipMultiple helper classes for safer usage. r=mattwoodrow 
Bug 841192. Part 16: Take plugin's own clipping into account when computing the region for its window. Make SortByContentOrder handle cases where display items in the same list come from different documents. r=mattwoodrow 
Bug 851445. When saving a frame scroll position, if we're in the process of trying to scroll to a saved scroll position, save the desired position instead of the actual current position. r=mats 
Bug 854094. Assign the principal of the receiving page to remote MediaStreams. r=jesup 
Bug 858803. Fix coordinate system of subdocument frame bounds. r=mattwoodrow 
Bug 813569 - Long string (ONE_MOMENT) not fully displayed in localized stub installer. r=bbondy - Windows stub installer only which is only built with the nightly - DONTBUILD 
Bug 861188 - Fix empty transforms on svg elements. r=dholbert 
Bug 849996. Check the correct frame for transforms in PushAbsoluteContainingBlock --- it might not be the containing block itself. r=bzbarsky 
Bug 841363. Ensure padding-rect edges are included in scrollable area used to compute scrollWidth/scrollHeight for overflow:visible elements. r=matspal 
Bug 860579. Make FindContentInDocument use the frame tree as much as possible. r=mattwoodrow 
Bug 860253. Clear clip state on children of an nsDisplayTransform because they're in a different coordinate system, and we'll clip the nsDisplayTransform itself. r=mattwoodrow 
Bug 834835. Part 1: Add initial AudioStreamTrack/VideoStreamTrack/MediaStreamTrack interfaces and implementations. r=jesup 
of MediaStreamTrack objects. 
Bug 834835. Part 3: Implement DOMMediaStream::GetAudio/VideoTracks. r=jesup 
Bug 834835. Part 4: Test basic MediaStreamTrack functionality. r=jesup 
Bug 841363. Ensure padding-rect edges are included in scrollable area used to compute scrollWidth/scrollHeight for overflow:visible elements. r=matspal 
Bug 860253. Clear clip state on children of an nsDisplayTransform because they're in a different coordinate system, and we'll clip the nsDisplayTransform itself. r=mattwoodrow 
Bug 860579. Make FindContentInDocument use the frame tree as much as possible. r=mattwoodrow 
Bug 862817 - Fix animateMotion on foreignObject elements. r=dholbert 
Bug 856807. Add apparently-pointless call to SetClipRect(nullptr) to avoid Android regression. r=mattwoodrow 
Bug 860524. Remove hacky (and buggy) pseudo-destruction of DisplayItemClips created by GetCurrentClip; ensure that they're all destroyed properly when the arena goes away, by tracking them explicitly in nsDisplayListBuilder. r=mattwoodrow 
Bug 849996. Check the correct frame for transforms in PushAbsoluteContainingBlock --- it might not be the containing block itself. r=bzbarsky 
Bug 862180. Part 1: Remove null checks on the result of nsDisplayItem::GetUnderlyingFrame(). r=mattwoodrow 
Bug 862180. Part 2: Rename nsDisplayItem::GetUnderlyingFrame() to Frame(). r=mattwoodrow 
Reftest for Bug 861188 r=dholbert 
Bug 860524. Remove hacky (and buggy) pseudo-destruction of DisplayItemClips created by GetCurrentClip; ensure that they're all destroyed properly when the arena goes away, by tracking them explicitly in nsDisplayListBuilder. r=mattwoodrow 
without giving us all the data. 
Bug 786539. Part 2: AreAllStreamsForResourceSuspended should ignore streams that can't read the resource data we need. r=cpearce 
Bug 786539. Part 3: Reenable test on Windows. r=cpearce 
Bug 834835. Part 1: Add initial AudioStreamTrack/VideoStreamTrack/MediaStreamTrack interfaces and implementations. r=jesup 
of MediaStreamTrack objects. 
Bug 834835. Part 3: Implement DOMMediaStream::GetAudio/VideoTracks. r=jesup 
Bug 834835. Part 4: Test basic MediaStreamTrack functionality. r=jesup 
Bug 860897 - Add locale to stub installer fallback url. r=bbondy Windows stub installer only which is only built when building the nightly - DONTBUILD 
Bug 865958 - Text in clipPath does not update correctly when changed. r=heycam,jwatt 
Remove the 'Back' button from the stub installer options page - Bug 799172 - 'Back' after 'Options' just returns to the first dialog. r=bbondy, ui-r=shorlander - Windows stub installer only which is only built when building the nightly - DONTBUILD 
Remove 'Click to install' text from stub installer intro page - Bug 799147 - 'click to install' instruction not clear. r=bbondy, ui-r=shorlander - Windows stub installer which is only built when building the nightly so DONTBUILD 

Remove 'Click to install' text from stub installer intro page - Bug 799147 - 'click to install' instruction not clear. r=bbondy, ui-r=shorlander - Windows stub installer which is only built when building the nightly so DONTBUILD Bug 859604 - Install button text should be Upgrade when installing on top of an existing version. r=bbondy - Windows stub installer which is only built when building the nightly so DONTBUILD 

Bug 859604 - Install button text should be Upgrade when installing on top of an existing version. r=bbondy - Windows stub installer which is only built when building the nightly so DONTBUILD Bug 863224. DOMMediaStream should release its internal MediaStream and listener during Unlink to ensure that events running between Unlink and the destruction of the DOMMediaStream don't see the dying object. r=jesup 
Bug 866514. Part 1: Add DOMMediaStream::OnTracksAvailableCallback. r=jesup 
Bug 866514. Part 2: Delay delivering getUserMedia stream result until the DOM object has asynchronously acquired the desired tracks. r=jesup 
Bug 868406. Shut down MediaStreamGraph's thread. r=jesup 
Bug 863994 - Support transform attribute on <svg> elements. r=dholbert 
Bug 863994 - Enable reftest 
Bug 868904 - Fix infinite recursion with outer SVG transform animation r=dholbert 
Bug 863224. DOMMediaStream should release its internal MediaStream and listener during Unlink to ensure that events running between Unlink and the destruction of the DOMMediaStream don't see the dying object. r=jesup 
Bug 866514. Part 1: Add DOMMediaStream::OnTracksAvailableCallback. r=jesup 
Bug 866514. Part 2: Delay delivering getUserMedia stream result until the DOM object has asynchronously acquired the desired tracks. r=jesup 
Bug 866579. Don't bother adding an arena-allocated DisplayItemClip to mDisplayItemClipsToDestroy if its destructor isn't going to do anything interesting. r=mattwoodrow 
Bug 868406. Shut down MediaStreamGraph's thread. r=jesup 
Windows installer only - Bug 868746 - Installer should quote the 'uninstallstring' registry value in case a non OS builtin app uses the value. r=bbondy 
Bug 865546 - Propagate FLAG_CLAMP through RasterImage::DrawWithPreDownscaleIfNeeded. r=joedrew 
Bug 872574 - Some IsEventAttributeName overrides just reimplement exactly the same thing they are overriding. r=jwatt 
Bug 868082. Allow SetIsFixedPosition to be used on layers with transforms. In CompositorParent, use the animated transform value as the base transform in CompositorParent::TransformFixedLayers when it has been set by the animation sampler. r=cwiis 
Bug 876133. Ensure output audio volume is updated when 'volume' attribute is set on media element. r=cpearce 
Bug 876426. Part 1: Fire 'resize' event on video controls element when the element's size is changed. r=mattwoodrow 
Bug 876426. Part 2: Call adjustControlSize when the controls are resized for whatever reason. r=dolske 
Bug 876380. Update 'show clickToPlay button' state after each load. r=dolske 
Bug 876426. Part 1: Fire 'resizevideocontrols' event on video controls element when the element's size is changed. r=mattwoodrow 
Bug 876426. Part 2: Call adjustControlSize when the controls are resized for whatever reason. r=dolske 
Bug 876380. Update 'show clickToPlay button' state after each load. r=dolske 
Bug 877025. Don't set 'firstShow' on the controls for a video that is already playing. r=dolske 
Bug 874295. On non-Android platforms (and eventually for Android), use call GetDefaultScale instead of GetDevicePixelsPerMetaViewportPixel. r=mbrubeck 
Bug 872254. Clear line/row cursors when overflow areas of lines or table rows change. r=bz 
Bug 868405. Part 1: Add a few MOZ_OVERRIDES. r=jesup 
Bug 868405. Support 'enabled' attribute on MediaStreamTrack. r=jesup 
Fix build bustage for bug 868405, CLOSED TREE 
Bug 874295. On non-Android platforms (and eventually for Android), use call GetDefaultScale instead of GetDevicePixelsPerMetaViewportPixel. r=mbrubeck 
Bug 874295. Fix viewport tests. r=mbrubeck 
Bug 877135. Remove HTMLMediaElement::mozLoadFrom since it's nonstandard and no longer needed (setting 'src' to another element's 'currentSrc' works just as well). r=doublec 
Bug 786064. Part 1: Pass aFlags through VectorImage::Draw; FLAG_CLAMP is especially important to avoid taking a deathly-slow tiling path. r=joedrew 
Bug 869703 - Fix failure to retrieve uniform. r=jgilbert 
places. 
Fix bustage on a CLOSED TREE for bug 877461 
Bug 811557. r=bbondy 
Bug 879467 - Tune 7zip compression parameters. r=bbondy 
1. Move adjustPathsOnWindows to head_update.js.in - Bug 879612 - Move app update common xpcshell test code into head_update.js.in. r=bbondy 
2. Move gProcessObserver and gTimerCallback to head_update.js.in - Bug 879612 - Move app update common xpcshell test code into head_update.js.in. r=bbondy 
Bug 877461. Part 2: Initialize VideoFrame members to 0. r=doublec 
Bug 877461. Part 3: Retry libstagefright audio/video decoding if it fails due to a timeout. r=sotaro 
Bug 877461. Part 2: Initialize VideoFrame members to 0. r=doublec 
Bug 877461. Part 3: Retry libstagefright audio/video decoding if it fails due to a timeout. r=sotaro 
Bug 865537. Part 1: Add nsRange::SetEnableGravitationOnElementRemoval to suppress 'gravitation' behavior on node removal. r=smaug 
Bug 865537. Part 2: The Range used to track the source element pointer for a media element should not gravitate outside the media element. r=cpearce 
Fix build bustage for bug 877461 
Bug 883165 - Windows installer only. r=bbondy 
Bug 882027. Route all calls to GetNextFrameStatus for determining the readyState through MediaDecoder::UpdateReadyStateForData on the main thread. r=cpearce 
(excluding the time for the last frame). 
Backing out bug 882027 
Bug 876450 - non-scaling-stroke doesn't work with svg.text.css-frames.enabled. r=heycam 
Bug 882027. Make MediaDecoder::UpdateReadyStateForData always be responsible for calling GetNextFrameStatus when that value is passed to HTMLMediaElement::UpdateReadyStateForData, but keep calling GetNextFrameStatus on the state machine thread to suppress dispatching of redundant runnables when nothing has changed. r=cpearce 
Bug 875060. Make display:-moz-stack/-moz-inline-stack elements which are overflow:hidden clip all their descendants, including those for which it is not the containing block. r=mats 
Bug 876092. Copy the DisplayItemClip into OutOfFlowDisplayData instead of storing a pointer. r=mats 
Bug 882027. Make MediaDecoder::UpdateReadyStateForData always be responsible for calling GetNextFrameStatus when that value is passed to HTMLMediaElement::UpdateReadyStateForData, but keep calling GetNextFrameStatus on the state machine thread to suppress dispatching of redundant runnables when nothing has changed. r=cpearce 
Bug 876092. Part 1. Don't let effects of MarkFramesForDisplayList carry over between pages. r=mats 
Bug 876092. Copy the DisplayItemClip into OutOfFlowDisplayData instead of storing a pointer. r=mats 
Bug 875060. Make display:-moz-stack/-moz-inline-stack elements which are overflow:hidden clip all their descendants, including those for which it is not the containing block. r=mats 
Bug 880854. Part 1: Make nsIFrame::DumpFrameTree virtual and take no parameter, to be easier to call from buggy debuggers like gdb. r=mats 
Bug 880854. Part 2: Support reflows/frame reconstruction in print/print-preview documents by promoting them to frame reconstruction of the whole document. r=mats 
Bug 879717. Delay entering HAVE_CURRENT_DATA state until a video frame has been stored in the image container. r=cpearce 
Bug 883731. Part 1: Remove nsIDOMHTMLMediaElement:: and MediaDecoderOwner:: prefixes. r=cpearce 
Bug 883731. Part 2: Remove ResourceLoaded notifications since they don't make much sense with a media cache. r=cpearce 
Bug 883731. Part 3: Make all calls to ChangeReadyState go through UpdateReadyStateForDtaData. r=cpearce 
Main patch - Bug 882007 - Restart notification is not shown when staging is enabled. r=bbondy 
Tests - Bug 882007 - Restart notification is not shown when staging is enabled. r=bbondy 
1. main patch - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=bbondy 
2. browser patch - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=bbondy 
3. tests patch - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=bbondy 
Additional test patch - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=bbondy 
1. main patch - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=bbondy 
2. browser patch - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=bbondy 
3. tests patch - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=bbondy 
xpcshell test fixup - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=me for test fixup 
Additional test patch - Bug 843497 - Update check says 'up to date' for out of date versions on unsupported OS versions. r=bbondy 
Bug 601131 - Hang with feTurbulence with huge numOctaves. r=roc 
Bug 865901 - make nsSVGTextFrame2::mPositioningDirty and mPositioningUsesPercentages SVG frame state bits. r=cam 
Bug 886657. Don't play anything from an AudioBufferSourceNode until a buffer has been set and start() has been called. r=ehsan 
Bug 886618. Play nothing when one or more of the Float32Arrays of an AudioBuffer has been neutered. r=ehsan 
Bug 886647 - passed unused in TestAUSHelper.cpp. r=bbondy 
Bug 829085 - Fix hit testing when vector-effect=non-scaling-stroke is used. r=dholbert 
Bug 530985 - Make getBoundingClientRect give more sensible results for <svg> elements. r=roc 
Test only patch - Bug 626833 - Intermittent failure in test_0200_app_launch_apply_update.js. r=bbondy 
Bug 886657. Don't play anything from an AudioBufferSourceNode until a buffer has been set and start() has been called. r=ehsan 
Bug 886618. Remove dead AudioBuffer code. r=ehsan 
Bug 886618. Play nothing when one or more of the Float32Arrays of an AudioBuffer has been neutered. r=ehsan 
Bug 886618. Part 3: Handle null data in ConvolverNode. r=ehsan 
Bug 886618. Part 2: Simplify OOM handling when stealing array buffer data. r=ehsan 
Take 2 - fix a likely race condition that might fix Bug 626833 - Intermittent test_0200_app_launch_apply_update.js. r=bbondy 
Bug 853198 - Defend against bad system clocks. r=bbondy 
Bug 889329 - Implement deselectAll(). r=cam,sr=roc 
Bug 886618. Part 4: Test. r=ehsan 
Bug 890248. Avoid situations where adding a new input to an AudioNode can race with a message telling the AudioNode to release its mPlayingRef. r=ehsan 
Test fix for Bug 889860 - Intermittent test_0200_app_launch_apply_update.js | Test timed out | test failed (with xpcshell return code: 1). r=bbondy 
Bug 722923. Part 3: Rename UpdateViewsForFrame and document it properly. r=matspal 
Bug 722923. Part 4: Don't walk continuation chain in SyncViewsAndInvalidateDescendants since DoApplyRenderingChangeToTree already does that. r=matspal 
Bug 867632 - Replace _sendRequest() with _send() for PushService.unregister(). r=nsm 
Bug 888583 - Move SPDY protocol codes to nsHttp.h. r=mcmanus 
Bug 888583 - Expose protocol version in about:networking. r=mcmanus 
Bug 888583 - Move SPDY protocol codes to nsHttp.h. r=mcmanus 
Bug 888583 - Expose protocol version in about:networking. r=valentin.gosu 
Bug 891187 - Remove unused ABOUT_HOME_URL constants. r=mcomella 
Bug 865188 - Remove Storage support for profile special database. r=mak 
Bug 886545 - Provide method to check for updates to support bug 885641. r=bbondy 
Bug 868498. Don't reframe for changes between position:static and position:relative. r=heycam 
Simplify xpcshell ini files - Bug 894115 - xpcshell ini file confusion. r=bbondy 
Part 1. use custom XREExeF and UpdRootD - Bug 889183 - mozapps/update xpcshell tests cannot be run concurrently. r=bbondy 
Part 2. add run-sequentially to xpcshell ini files for tests that can't run in parallel yet - Bug 889183 - mozapps/update xpcshell tests cannot be run concurrently. r=mihneadb 
Test followup fix for Bug 889183 - mozapps/update xpcshell tests cannot be run concurrently. r=me 
Bug 870941. Make scrollframes put scrollbars etc above content in z-order if they're disappering scrollbars. r=mattwoodrow 
Windows only fix for Bug 882989 - Custom distribution settings for yahoo de and es distributions are not being set. r=bbondy 
Bug 894931. Add reftest. r=dbaron 
Bug 894717 - Fix 'plase upgrade' typo in autoconf files. r=khuey 
Wallpaper fix - Bug 895473 - [Mac and Linux] Custom distribution settings for yahoo de and es distributions are not being set. r=mconnor 
Bug 891238. Don't resume reading from a paused connection if we still have plenty of data cached. This could save power. r=cpearce 
Bug 886295. Backout fix for bug 880854 to fix regression. r=mats 
Fix bustage for bug 886295 
Bug 876542. Rework TransformFixedLayers so that it explicitly makes layer anchor points invariant under a change in transform of a specified ancestor layer. r=Cwiiis,kats 
Bug 889219. Part 1: Clean up nsPrintEngine string usage for document titles/URLs. r=mats 
Bug 889219. Part 2: Clean up string usage for page numbers/formats. r=mats 
Bug 889219. Part 3: Clean up string usage for printing date/time headers. r=mats 
Bug 889219. Part 4: Stop heap-allocating nsSharedPageData::mHeadFootFont. r=mats 
to do so here. 
Fix Mac bustage for bug 889219 on a CLOSED TREE 
Bug 890716. Fix race in Reverb::Reverb. r=padenot 
Bug 885009. Handle clip-all-descendants cases with rounded corners. r=mats 
Bug 837242. Part 1: Convert bool parameters to flags. r=mats 
Backing out 6ba07a3e0c80 (bug 892978) to fix test failures 
Bug 837242. Part 1: Convert bool parameters to flags. r=mats 
Bug 856361. Part 1: Fix documentation of MediaInputPort flags. r=jesup 
Bug 856361. Part 2: Block data from a non-same-origin media resource entering a MediaStream from a media element. r=cpearce 
Bug 856361. Part 3: Refactor AudioNodeStream to create ComputeFinalOuputChannelCount, AccumulateInputChunk and AdvanceOutputSegment, and make AudioNodeStreams be treated as always consumed by the MediaStreamGraph. r=ehsan 
Bug 856361. Part 4: Create AudioNodeExternalInputStream. r=ehsan 
Bug 856361. Part 6: Make MediaStreamAudioSourceNode keep its DOMMediaStream alive, and make the DOMMediaStream keep the MediaStreamAudioSourceNode alive. r=ehsan 
Bug 856361. Part 7: Address review comment. r=ehsan 
Bug 856361 and bug 855568 require a clobber on Windows due to bug 890744 
Bug 856361. Fix test bustage. r=me 
Bug 897910 - Trace data sent or received by Firefox. r=mcmanus 
Bug 890597 - Transport layer ping diagnostic tool. r=valentin.gosu 
Bug 890597 - Transport layer ping diagnostic tool. r=valentin.gosu 
Test only patch - Bug 899709 - gIsLessThanMacOSX_10_6 is no longer needed in head_update.js.in. r=bbondy 
Bug 880854. When attaching XBL bindings to elements in a static document, sync-load the bindings document so that delayed changes to the shadow DOM don't mess up, for example, printing. r=mrbkap 
Bug 878015. Make RoundUpToAudioBlock always advance to the next audio block. r=padenot 
Bug 898946. Avoid #including XPCOM headers within maintenanceservice. r=bbondy 
Most entries in removed-files.in are not needed - Bug 649607 - Update removed-files.in after requiring update to the version with bug 563318. r=bbondy 
Bug 856361. Part 1: Fix comments for MediaInputPort flags to reflect reality. r=jesup 
Bug 856361. Part 2: Block data from a non-same-origin media resource entering a MediaStream from a media element. r=cpearce 
Bug 856361. Part 3: Refactor AudioNodeStream to create ComputeFinalOuputChannelCount, AccumulateInputChunk and AdvanceOutputSegment, and make AudioNodeStreams be treated as always consumed by the MediaStreamGraph. r=ehsan 
Bug 856361. Part 4: Create AudioNodeExternalInputStream. r=ehsan 
Bug 856361. Part 7: Fix copying of track data from input streams to output streams in TrackUnionStream. r=padenot 
Bug 856361. Part 6: Make MediaStreamAudioSourceNode keep its DOMMediaStream alive, and make the DOMMediaStream keep the MediaStreamAudioSourceNode alive. r=ehsan 
Bug 899863. Ensure resources with a Content-Length (that's not the result of a range request) are treated as bounded. r=cpearce 
Bug 856361. Part 8: Fix copying of track data from input streams to output streams in AudioNodeExternalInputStream. r=padenot 
Bug 856361. Part 9: Make SpeechStreamListener handle null AudioChunks. r=smaug 
Bug 879717. Delay entering HAVE_CURRENT_DATA state until a video frame has been stored in the image container. r=cpearce 
Bug 902197. Don't allow multiple MediaStreams to share the same DOMMediaStream wrapper. r=ehsan 
Bug 898940. Show the controls bar for all non-dynamic controls. r=dolske 
Bug 898940. Test. r=jaws 
Bug 856361. Part 10: Address review comments. 
Bug 898915 - Fix Axis() is not valid abort. r=dholbert 
Bug 835048 - ownerElement should return null rather than throwing for invalid content. r=jwatt 
bug 835357 - Add telemetry to measure whether DNT is used or not.  r=jduell 
Bug 903396 - Move about:networking warning pref to modules/libpref/src/init/all.js. r=gavin 
Bug 903732 - Stop leaking gfxPattern objects when using CSS text frames. r=dholbert 
Bug 902320. Prevent untimely destruction of mElement during HTMLMediaElement::StreamListener callbacks. r=smaug 
Bug 904926. Remove unnecessary lock. r=cpearce 
Bug 900875. Part 1: Move DWM APIs to WinUtils. r=avih 
Bug 900785. Part 2: Make nsRefreshDriver use the WinUtils DWM APIs instead of loading the DLL itself. r=avih 
Bug 905151 - eChildToUserSpace transform wrong for inner svg elements. r=jwatt 
Bug 829229 - Please set the in-product update backoff to 48 hour. r=bbondy 

Bug 829229 - Please set the in-product update backoff to 48 hour. r=bbondy Bug 903404 - Move toolkit/content/aboutNetworking.net to toolkit/themes/shared. r=gavin 
Bug 906327 - about:networking crash when clicking between menu buttons. r=valentin.gosu 
Bug 906199. Ensure that nsDisplayTransforms being bubbled up by preserve-3d have the correct clip applied. r=mattwoodrow 
Bug 906199. Ensure that nsDisplayTransforms being bubbled up by preserve-3d have the correct clip applied. r=mattwoodrow 
Bug 907975 - Several telemetry histograms sent for checkForBackgroundUpdates and notify that should only be sent for notify. r=bbondy 
Possible fix for Bug 908020 - tests 160 and 161 _appInUse take too long (top 8 duration). r=bbondy 
Bug 303581 - Ensure image/svg+xml mime type is always handled internally. r=jst 
Bug 303581 - Ensure image/svg+xml mime type is always handled internally. r=jst 
Bug 906521. Part 1: Remove support for 'glyphchar' since it's no longer in the spec. r=jfkthame 
Bug 906521. Part 2: Change from using the 'glyphid' attribute to using id='glyphNNN'. r=jfkthame 
Bug 906521. Part 3: OTS should recognize version 0 of the SVG table. r=jfkthame 
Bug 906521. Part 4: gfxSVGGlyphs should also check the version because it also does table parsing. r=jfkthame 
Bug 906521. Part 5: Make OTS recognize the new table format. r=jfkthame 
too. 
Bug 906521. Part 7: Handle cases where an SVG glyph has no frame or a non-SVG frame without crashing in debug builds. r=jfkthame 
Bug 906521. Part 8: Fix text-svgglyphs reftests. r=jfkthame 
Bug 906521. Part 9: Add tests for invalid glyph id values. r=jfkthame 
Bug 905325 - about:networking tab auto-refresh, global refresh button. r=ttaubert 
Bug 907619. Ensure GtkSelectionData is freed. r=karlt 
Bug 907619. Part 2: Refcount clipboard-contents retrieval contexts to avoid dangling pointers. r=karlt,roc 
Bug 907619. Part 3: Retry on EINTR instead of treating it as a timeout. r=karlt 
Test only - additional logging for Bug 909489 - Intermittent test_0202_app_launch_apply_update_dirlocked.js | Test timed out | test failed (with xpcshell return code: 1). r=bbondy 
Test only - additional logging and some cleanup for Bug 909489 - Intermittent test_0202_app_launch_apply_update_dirlocked.js | Test timed out | test failed (with xpcshell return code: 1). r=bbondy 
Test only - disable test_0202_app_launch_apply_update_dirlocked.js on WinXP until I figure out what's going on with Bug 909489 - Intermittent test_0202_app_launch_apply_update_dirlocked.js | Test timed out | test failed (with xpcshell return code: 1). r=bbondy 
Bug 877135. Remove leftover test. r=doublec 
Bug 911889. Part 1: Fix mutationUpdate mutation count for first as well as subsequent mutations. r=benwa 
Bug 909603. Remove invalid assertion. r=tn 
Bug 911889. Updating reftest manifest; the tests that were passing due to 894773 being fixed are now failing again since we've backed off on that fix .... on a CLOSED TREE 
Bug 904926. Remove unnecessary lock. r=cpearce 
Bug 909157. Invalidate rendering observers when an image changes. r=mattwoodrow 
Bug 906601 - filter processing memory allocation should be fallible. r=jwatt 
Bug 910989. Remove nsTHashtable::Init, fallible allocation, and MT hashtables. r=ehsan,bsmedberg 
Bug 911310 - Only raise an nsChangeHint_UpdateOverflow for filters. r=dholbert 
Bug 705584 - Improve/increase use of nsCharSeparatedTokenizerTemplate in nsSMILParserUtils. r=dholbert 
Move symlinkUpdateFilesIntoBundleDirectory to head_update.js.in - Bug 879612 - Move app update common xpcshell test code into head_update.js.in. r=bbondy 
Make test_0202_app_launch_apply_update_dirlocked.js as similar as possible to test_0202_app_launch_apply_update_dirlocked_svc.js - Bug 909489 - Intermittent test_0202_app_launch_apply_update_dirlocked.js | Test timed out | test failed (with xpcshell return code: 1). r=bbondy 
Use update-staged notification and only copy files that are necessary - Fix for Bug 909489 - Intermittent test_0202_app_launch_apply_update_dirlocked.js | Test timed out | test failed (with xpcshell return code: 1). r=bbondy 
Bug 907048 - Skip colorlayer if other opacity layer just covers the colorlayer region 
Bug 907048 - Skip colorlayer if other opacity layer just covers the colorlayer region, r=roc 
Bug 912103 - Tests for about:networking - http, dns, sockets, and websockets. r=valentin.gosu 
Bug 906643. Part 1: Add nsRefreshDriver::Add/Remove/PostRefreshObserver so we can receive notifications when a refresh has occurred, without triggering one. r=dbaron 
Bug 906643. Part 4: Make each gfxFontEntry track its gfxFonts with SVG glyphs. r=jfkthame 
Bug 906643. Part 5: Add nsIPresShell::AddPostRefreshObserver/RemovePostRefreshObserver. r=mats 
Bug 906643. Part 5.2: Add gfxFont::GlyphChangeObserver. r=jfkthame 
Bug 906643. Part 5.6: Make nsTextFrames register themselves as observers when they have animated glyphs (but only the text frames that are the start of a run of continuations using a particulr textrun). r=jfkthame 
Bug 906643. Part 6: Add gfxFontEntry::NotifyGlyphsChanged, which calls new gfxFont::NotifyGlyphsChanged, which calls new gfxGlyphExtents::NotifyGlyphsChanged; these methods flush out existing glyph extents and notify all affected gfxUserFontGroups of the glyph changes. r=jfkthame 
-- Forward updates to the gfxFontEntry 
Bug 907048 - Skip colorlayer if other opacity layer just covers the colorlayer region, r=roc 
Bug 785140 - Correct SVG whitespace handling in various spots. r=smaug,dholbert 
Most entries in removed-files.in are no longer needed - Bug 649607 - Update removed-files.in after requiring update to the version with bug 563318. r=bbondy 
Bug 918185. When Range.getBoundingClientRect/getClientRects needs a textframe for a node, create one if the textframe was optimized away. r=bz 
Bug 905405. Wrap mLastNativeEventScheduled in a mutex to avoid racing on it. r=bsmedberg 
Address review comments for bug 905909. r=dholbert 
Fix build bustage for bug 905405 on a CLOSED TREE 
Backed out changeset bf8d5d78b27e 
Backing out f4ddfbf313fc (bug 905405) on a CLOSED TREE 
Bug 915090 - Ping test and local servers for reaching tests. r=mcmanus 
Bug 905405. Wrap mLastNativeEventScheduled in a mutex to avoid racing on it. r=bsmedberg 
Bug 913438. Remove mAnchor check since it doesn't help correct inconsistency between ImageLayer snapping and regular snapped image drawing, and can hurt performance. r=tnikkel 
Bug 914426. Don't try to dump DeprecatedTextureHost contents unless HTML tree dumping is enabled. Also, be lenient about null values and unknown formats. r=nrc 
Bug 920429. Fix busted boolean expression. r=mattwoodrow 
Bug 919900 - Correct bounding box calculations for empty text elements with svg.text.css-frames.enabled. r=heycam 
Bug 919900 - Mark reftest fuzzy on windows 7 
Bug 919900 - Mark reftest fuzzy on windows 7 
Turn on app update mochitest-chrome debug logging to try to figure out Bug 918029 - Intermittent TEST-UNEXPECTED-FAIL | test_0017_check_staging_basic.xul | Test timed out. Maximum time allowed is 90 seconds | Checking if TESTS[3] test was performed... callback function name = defaultCallback, pageid = finished |and more updater failures. r=bbondy 
Backed out changeset d3c5c7c61894 
Bug 879612 - Move app update common xpcshell test code into head_update.js.in. r=bbondy 
Turn on app update mochitest-chrome debug logging to try to figure out the cause of Bug 918029. r=bbondy 
Bug 919319 - Simplify number parsing. r=dholbert 
Increase the test timeout for Bug 918029. r=bbondy 
Use a dynamic port for app update xpcshell tests - Bug 894729. r=bbondy 
Bug 922601. Use StreamTimeToGraphTime to get the correct conversion to graph time. r=padenot 
Bug 898444. Wrap nsDisplayScrollLayer only around the scrolled content. r=tn 
Bug 916520. Rename nsClientRect(List) to mozilla::dom::DOMRect(List). r=khuey 
Followup - increase the test timeout for several more tests for Bug 918029. r=bbondy 
Bug 923194. Make GLContext::InitWithPrefix not fatally assert when the GL version is too low. r=bjacob 
Bug 923193. Make transform-origin on SVG elements use the SVG bbox as the reference rectangle. r=heycam 
Backed out changeset 0ef00ffc6c12 for bug 923193 due to test failures: 
Bug 922593 - Prevent signed integer overflows calculating gaussian blurs. r=roc 

Backed out changeset 24c2574041dd (bug 900954) Bug 919371 - Make sure marker frames get the right parent. r=cam 
Disable tests on Linux due to Bug 918029. r=bbondy 
Remove unneeded slow tests as part of Bug 918029. r=bbondy 
Bug 923193. Make transform-origin on SVG elements use the SVG bbox as the reference rectangle. r=heycam 
Bug 926706. When nsGfxScrollFrameInner::UpdateOverflow decides we need to update the scrollbars, don't reflow the scrollframe with NS_FRAME_IS_DIRTY since that reflows all descendants. Just reflow the frame itself and don't dirty anything else. r=tn 
bug 928489 - Bug 928489 - Disable update xml certificate checks on Windows. r=bbondy 

bug 928489 - Bug 928489 - Disable update xml certificate checks on Windows. r=bbondy Bug 903340. Make nsDisplayScrollInfoLayer::ShouldFlattenAway side-effect-free. r=tn 
Bug 929021. Skip calling GetFrameBoundsForTransform when we don't need it. r=heycam 
Bug 928607. Ensure that nsGfxScrollFrameInner::UpdatePosition clips the overflow area of its children. r=tn 
Bug 261037 - A fieldset overflow:auto reftest. 
Bug 261037 - A fieldset overflow:auto reftest. 
Bug 929021. Skip calling GetFrameBoundsForTransform when we don't need it. r=heycam 
Bug 261037. Support scrolled fieldsets. r=mats 
Bug 929021. Skip calling GetFrameBoundsForTransform when we don't need it. r=heycam 
App update test only changes and build changes for tests. Reorganize app update test structure and remove unneeded Makefiles and moz.build files for Bug 929149. r=bbondy, r=gps for build changes 
Bug 928607. Ensure that nsGfxScrollFrameInner::UpdatePosition clips the overflow area of its children. r=tn 
Bug 931216 - Convert deprecated octal literals in app update xpcshell tests. r=bbondy 
Bug 914321 - Disable test_0102_background_restartNotification_staging.xul on Linux due to  Intermittent timeout caused by copying all of the files in dist/bin 
Bug 931410 - Increase test default timeout for app update chrome tests. r=bbondy 
Bug 931267 - Convert deprecated octal literals in FileUtils.jsm. r=bbondy 
Bug 931586 - Use FileUtils.PERMS_DIRECTORY instead of 0755 in nsUpdateService.js. r=bbondy 
Bug 924679. Part 1: Band-aid robustness fix. r=mattwoodrow 
Bug 924679. Part 2: Create static gfxXlibSurface::GetColormapAndVisual so it can be used without a gfxXlibSurface. r=karlt 
Bug 924679. Part 3: Make gfxXlibNativeRenderer::DrawWithXlib callback take a cairo_surface_t instead of a gfxXlibSurface. r=karlt 
Bug 924679. Part 4: Add Factory::CreateSourceSurfaceForCairoSurface. r=mattwoodrow 
alone since it's really simple. 
Bug 924679. Part 6: Remove gfxXlibNativeRender::DrawOutput and convert tmpXlibSurface from gfxXlibSurface to cairo_surface_t. r=karlt 
Bug 924679. Part 7: Remove gfxAlphaRecovery::Analysis since no-one uses it. r=mattwoodrow 
per-property mutation counts and independent "content active" status. 
Bug 911889. Part 3: Create nsLayoutUtils::HasAnimations, and suppress opacity:0 optimizations whenever there's any opacity animation even if it's not using the compositor. r=dbaron 
Bug 911889. Part 4. Add API to detect whether an nsGlobalWindow is running a timeout handler. r=bz 
Bug 911889. Part 5. Add API to detect whether an nsRefreshDriver is in the middle of a refresh. r=dbaron 
Bug 911889. Part 6: A scripted change to element.style.opacity or element.style.transform in a setTimeout or requestAnimationFrame callback should trigger our "style property is animated" heuristic. r=dbaron 
Bug 911889. Part 7: A single change to CSS 'transform' should not be treated as animation. r=dbaron 
Bug 922981 - Split marDownload.js into individual tests. r=bbondy 
xpcshell test change only - Bug 932022 - xpcshell test downloadResumeForSameAppVersion.js always leaves behind downloadResumeForSameAppVersion_applyToDir ater it finishes. r=bbondy 
Bug 929011 - Simplify path and transform parsing. r=dholbert 
Bug 929011 - Simplify path and transform parsing. r=dholbert 
Bug 933072. Make all Range tests only create 1 or 2 iframes instead of one or two per subtest. r=khuey (CLOSED TREE) 
per-property mutation counts and independent "content active" status. 
Bug 911889. Part 3: Create nsLayoutUtils::HasAnimations, and suppress opacity:0 optimizations whenever there's any opacity animation even if it's not using the compositor. r=dbaron 
Bug 911889. Part 4. Add API to detect whether an nsGlobalWindow is running a timeout handler. r=bz 
Bug 911889. Part 5. Add API to detect whether an nsRefreshDriver is in the middle of a refresh. r=dbaron 
Bug 911889. Part 6: A scripted change to element.style.opacity or element.style.transform in a setTimeout or requestAnimationFrame callback should trigger our "style property is animated" heuristic. r=dbaron 
Bug 911889. Part 7: A single change to CSS 'transform' should not be treated as animation. r=dbaron 
per-property mutation counts and independent "content active" status. 
Bug 911889. Part 3: Create nsLayoutUtils::HasAnimations, and suppress opacity:0 optimizations whenever there's any opacity animation even if it's not using the compositor. r=dbaron 
Bug 911889. Part 4. Add API to detect whether an nsGlobalWindow is running a timeout handler. r=bz 
Bug 911889. Part 5. Add API to detect whether an nsRefreshDriver is in the middle of a refresh. r=dbaron 
Bug 911889. Part 6: A scripted change to element.style.opacity or element.style.transform in a setTimeout or requestAnimationFrame callback should trigger our "style property is animated" heuristic. r=dbaron 
Bug 911889. Part 7: A single change to CSS 'transform' should not be treated as animation. r=dbaron 
Fix annotations for tests that are fixed by the patches in bug 911889. 
Bug 931432. Rename nsGfxScrollFrameInner to mozilla::ScrollFrameHelper, and mInner fields to mHelper. r=mats 
Bug 745485. Optimize positioning offset changes whenever the computed size does not change. r=dholbert 
Bug 876321. Track restyling of top/left/right/bottom and treat such nodes as active scrolled roots. r=mattwoodrow 
such nodes. However, layerizing them should be relatively harmless. 
Backout changeset 47c7022e4e11 for bug 913444 
Backout changeset 3fb9ea77d858 for bug 876321 due to test failures (CLOSED TREE) 
Bug 933354. Avoid calling GetDeltaToPerspectiveOrigin for elements that don't have perspective. r=heycam 
Bug 931464. Part 1: GetFieldSetBlockFrame needs to drill down through a scrollframe if necessary. r=mats 
Bug 931464. Part 2: nsFieldSetFrame::Insert/Append/RemoveFrames should not be called. r=mats 
Bug 935902 - Fix access to filter standard attributes for gaussian blur and component transfer. r=jwatt 
Test for bug 935994 r=jwatt,bas 
Backout changesets 37f9a5424227, c1578a4fc86d and a417424f9213 (for bugs 933354, 929021 and 923193 respectively) while we figure out performance regressions 
Backout changesets 238b3c81f42c and rest of a417424f9213 (bug 928798 and rest of bug 923193 respectively) 
Bug 938569 - Path fails to render, with comma between move command and implied line command. r=dholbert 
Bug 937987. Don't use lowp for texture coordinates. Only use it for colors. r=bjacob 
Bug 938316. Work around fractional texture resampling issues by switching to NEAREST sampling when we're doing a pixel-aligned compositing operation. r=jrmuizel 
Bug 876321. Track restyling of top/left/right/bottom and treat such nodes as active scrolled roots. r=mattwoodrow 
Bug 938322. Force layout.css.devPixelsPerPx to 1.0 for reftests on all Android devices. r=gbrown 
such nodes. However, layerizing them should be relatively harmless. 
Bug 938322. Address review comment. r=gbrown 
Bug 939445 - general.appname.override has stopped working. r=smaug 
Also sneaks in a couple of other refactorings: 
a direct child of the viewport's layer. 
Bug 919144. part 3: The displayport out parameters to GetDisplayPort and GetCriticalDisplayPort are optional, so make them optional. r=mattwoodrow 
Bug 919144. Part 4: Create nsLayoutUtils::IsFixedPosFrameInDisplayPort. r=mats 
Bug 919144. Part 5: Add ThebesLayerData::mReferenceFrame. r=mattwoodrow 
which is good because the new code works on any subdocument that has a displayport. 
to match what nsDisplayList::IsFixedItem does. 
is now responsible for inflating the visible region of the fixed-pos layers. 
This is to avoid having to #include FrameLayerBuilder.h in nsLayoutUtils.h in the next patch. 
Bug 919144. Part 10: Fold nsDisplayFixedPosition into nsDisplayStickyPosition. r=mattwoodrow 
Bug 923686 - Refactor about:networking return values. r=hurley 
Bug 900925 - don't report error except when it isn't expected. r=mconnor 
Bug 941291 (Windows installer only) - Simplify creating funnelcake stub installers. r=bbondy 

Bug 941291 (Windows installer only) - Simplify creating funnelcake stub installers. r=bbondy Bug 921045 - include the new update cert and remove the no longer used Equifax cert. r=bbondy 
Bug 941397 - Progress message on Firefox Stub install for Japanese and other languages that don't break words with spaces. r=bbondy 
Bug 941291 - Followup patch - Simplify creating funnelcake stub installers. r=bbondy 

Bug 941291 - Followup patch - Simplify creating funnelcake stub installers. r=bbondy Bug 941291 - fix typo r=me 

Bug 941291 - fix typo r=me Bug 939942 - Reflow when bounds changes due to stroke creation/removal. r=jwatt 
Bug 942451 - preserveApectRatio changes on SVG images do not cause a repaint. r=jwatt 
Bug 937614 - simplify nsSMILParserUtils. r=dholbert 
Bug 930194 - Add prerequisite checks for MozillaMaintenance Service tests that fail the tests if the build system is not properly configured. r=bbondy 
Bug 938022. Part 1: Update mAudioEndTime from SendStreamData. r=cpearce 
Bug 938022. Part 2: Block captured MediaStream when the MediaDecoderStateMachine is not playing. r=cpearce 
Bug 931460. Part 1: When a <legend>'s frame is reparented to the <fieldset>, update StickyScrollContainers to match if necessary. r=mats 
Bug 931460. Part 2: Call ApplyRelativePositioning on fieldset legends so that sticky and relative positioning works on them. r=mats 
Bug 936988. nsCSSFrameConstructor::IsValidSibling should check for fieldset legends even if the legend also has a table-part display type. r=mats 
Bug 938022. Part 3: Add some MOZ_OVERRIDEs. r=cpearce 
Bug 938022. Part 4: Add MediaTimeToMicroseconds. r=cpearce 
Bug 938022. Part 5: Add aCurrentTime parameter to MediaStreamListener::NotifyOutput and fire notifications when the MediaStreamGraph is in a good state. r=padenot 
the clock if there is one. 
Bug 942672. When a gfxContext has a DrawTarget there's an extra device transform that we need to take account of here. r=mattwoodrow 
Bug 942672. Mark test as failing on Windows non-D2D, because it seems to have exposed a bad bug there. Also, add some padding to fix test failures on Mac. 
Bug 940381 - Try to make mochitest loading more robust. r=dholbert 
Bug 940381 (part 2) - Simplify test loading now that SMIL is always enabled. r=dholbert 
Bug 945091. Part 1: Flatten inspector/public and inspector/src into inspector. r=glandium 
Bug 945091. Part 2: Reference MathML tests from mathml/moz.build. r=glandium 
Bug 945091. Part 3: Flatten layout/xul/base/* into layout/xul. r=glandium 
Bug 945097. Build widget/gtk in unified mode. r=karl,ehsan 
Bug 938772. Don't give the anonymous poster <img> an empty 'src' attribute if we don't have a 'poster' attribute. r=cpearce 
Bug 945091. Part 1: Flatten inspector/public and inspector/src into inspector. r=glandium 
Bug 945091. Part 2: Reference MathML tests from mathml/moz.build. r=glandium 
Bug 945091. Part 3: Flatten layout/xul/base/* into layout/xul. r=glandium 
Bug 945097. Build widget/gtk in unified mode. r=karl,ehsan 
Bug 938772. Don't give the anonymous poster <img> an empty 'src' attribute if we don't have a 'poster' attribute. r=cpearce 
Bug 938772. Don't give the anonymous poster <img> an empty 'src' attribute if we don't have a 'poster' attribute. r=cpearce 
Bug 945634. The fixed-pos anchor point should be in the layer's coordinate system, whose 0,0 is the top-left of the fixed-pos frame. r=mattwoodrow 
Bug 950427. Don't descend into subdocuments at all in elementFromPoint. r=mats 
Bug 950427. Don't descend into subdocuments at all in elementFromPoint. r=mats 
Bug 940193 - rename nsSVGTextFrame2 to SVGTextFrame. r=dholbert 
Bug 939775 - Remove UpdateTextFragmentTrees and nsSVGMutationObserver. r=dholbert 
Bug 775730 - Ensure AttributeWillChange is always paired with AttributeDidChange. r=dholbert 
Bug 775730 - Address missed review comments. r=dholbert 
Bug 953064 - Add MOZ_STACK_CLASS and MOZ_GUARD_OBJECT_NOTIFIER to various classes. r=dholbert 
Bug 945203. Part 1: Add Layers API to annotate layers with hit-test regions. r=kats 
Bug 945203. Part 2: Fix bogus comment. r=mattwoodrow 
Bug 945203. Part 3: Implement nsRegion::Swap. r=jrmuizel 
Bug 945203. Part 4: Add nsDisplayEventRegions and build it when painting. r=mats 
Bug 945203. Part 5: Remove anonymous namespace. r=mattwoodrow 
Bug 945203. Part 6: Move ThebesLayerData to the top level so it can be referenced elsewhere .r=mattwoodrow 
Bug 945203. Part 7: Add ScaleRegionToOutsidePixels. r=mattwoodrow 
Bug 945203. Part 8: Add FrameLayerBuilder support for capturing nsDisplayEventRegions data into ThebesLayers. r=mattwoodrow 
Bug 955854 - Remove unused colour space mapping code and move the rest to nsSVGMaskFrame. r=dholbert 
Bug 955917 - Remove unused functions from nsSVGUtils. r=dholbert 
Bug 953438 - Change nsIFrame::HasTerminalNewline to HasSignificantTerminalNewline since it doesn't make sense to check for a newline that gets converted to regular whitespace. r=jfkthame 
Bug 955917 (Part 2) - Remove unused functions from nsSVGUtils. r=dholbert 
Bug 742500 - Disable expired telemetry probes. r=vladan 
Bug 742500 - Disable expired telemetry probes. r=vladan 
Bug 955917 (Part 2b) - Use nsSVGUtils::SetupContextPaint in SVGTextFrame. r=dholbert 
Bug 956311 - Remove nsSVGGeometryFrame. r=dholbert 
Bug 944291. Part 1: Add SplayTree::find. r=waldo 
Bug 944291. Part 2: Mark parent frames whose child frames' overflow have changed as always needing UpdateOverflow called. r=matspal 
Bug 943461. Part 1: A stream is fully finished when all its tracks have finished playing out. r=padenot 
Bug 943461. Part 2: Add assertion to catch cases where we NotifyOuput after NotifyFinished. r=padenot 
Bug 943461. Part 3: Like part 1, blocking calculations should note that a stream is only fully ended whenall of its tracks have finished playing out. r=padenot 
the input stream is always blocking) but the track has actually ended. 
Bug 943461. Part 5: Don't allow a stream to finish before it has produced output up to mStateComputedTime. r=padenot 
Bug 943461. Part 6: Fix test to handle automatic stop of MediaRecorder. r=rlin 
Bug 943461. Part 7: DecodedStreamData::mNextVideoTime is not relative to mStartTime. r=cpearce 
Bug 943461. Part 8: When a MediaDecoder is decoding to a stream, run PlaybackEnded when the stream finishes. r=padenot 
Bug 943461. Part 9: Handle absence of INCLUDE_TRAILING_BLOCKED_INTERVAL flag correctly. r=padenot 
Bug 943461. Part 10: Fix and simplify setting of mNextMainThreadFinished. r=padenot 
Bug 943461. Part 11: Don't tear down an OfflineAudioContext until its current time has actually reached its end, to ensure that all relevant stream state changes have been forwarded to the main thread. r=padenot 
Bug 947796. Must convert milliseconds to MediaTime correctly. r=padenot 
Bug 943461. Part 12: Remove spurious ScriptProcessorNode from test. r=karl 
ObtainInputBlock calls. 
Bug 943461. Part 15: Make MediaDecoder set its currentTime based on the decoded stream's time directly, if we are decoding to a stream. r=cpearce 
Bug 943461. Part 16: Fix test_streams_element_capture_reset to make its expected current times be independent of possibly-buggy v.currentTime. r=cpearce 
Bug 943461. Part 17: MediaDecoderStateMachine::StopPlayback should not set mPlayDuration based on real time, but on whatever we're using for GetClock. r=cpearce 
Bug 943461. Part 18: Ensure AudioBufferSourceNode's engine always produces an audio block when ProduceAudioBlock is called, and add an assertion to catch this kind of error directly. r=karl 
Bug 943461. Part 19: nsSpeechTask should explicitly finish its audio track before finishing the stream. r=eitan 
Bug 943461. Part 20: Don't revive an offline MediaStreamGraph that has finished. Instead, process any pending events using their RunInShutdown sequence. r=padenot 
Bug 955889. Restore caching in EnsureKeywordsHash. r=mano 
Bug 946065. Part 2: Move content/xslt to dom/xslt and flatten away 'public' and 'src'. r=ms2ger 
Bug 946065. Part 3: Move content/smil to dom/smil. r=Ms2ger 
Bug 938555 - Test for SVG Elements not being rendered after manipulating transform. r=jwatt 
Bug 812795 (Part 2) - Disable subpixel AA on SVG text when requested to. r=jwatt 
Bug 956715 - Allow missing "expires_in_version" in histogram definition. r=froydnj 
Bug 957156 - Expire telemetry histograms by default also in development channels. r=vladan 
Bug 913070 - Move TelemetryPing to a jsm. r=Yoric, r=glandium 
Part 2 of Bug 930194 - Add prerequisite checks for MozillaMaintenance Service tests that fail the tests if the build system is not properly configured. r=bbondy 
Part 1 - Bug 951662 - change background to staging for consistency. r=bbondy 
Part 2 - Bug 951662 - remove test code that is no longer needed and change background to staging for consistency. r=bbondy 
Part 3 - Bug 951662 - build config changes needed for creating a mock update directory for tests. r=bbondy 
Part 4 - Bug 951662 - don't finish updater logging unless error is not ERROR_SHARING_VIOLATION and make log text more consistent. r=bbondy 
Part 5 - Bug 951662 - when determining the update root dir look in SOFTWARE\Mozilla registry when APP_VENDOR is not defined. r=bbondy 
Part 6 - Bug 951662 - fix path to xpcshell.ini. r=bbondy 
Part 7 - Bug 951662 - add mock update directory for tests, remove code that is no longer needed, and test cleanup. r=bbondy 
Part 8 - Bug 951662 - fix file removal race condition and only launch the callback app from the updater when the MOZ_PROCESS_UPDATES env var is not defined. r=bbondy 
Part 9 - Bug 951662 - make tests handle the case where the update log has previous update text at the start of the log. r=bbondy 
Part 10 - Bug 951662 - add ability to debug parallel test failures and declare gRegisteredServiceCleanup. r=bbondy 
Part 11 - Bug 951662 - fix updates patch dir in use after staging, make the helper sleep timeout consistent across tests, and use STATE_APPLIED instead of STATE_APPLIED_SVC on Windows for non service tests. r=bbondy 
Bug 921148 - Remove XRE_UPDATE_ROOT_DIR dir provider along with MOZ_APP_NAME, MOZ_APP_PROFILE, MOZ_APP_VENDOR, and MOZ_APP_BASENAME from xpcshell. r=bbondy 
Bug 959004 - remove gVolumeMountLock declaration since it isn't used. r=bbondy 
Bug 917416. Force the background color of an <iframe> with a remote subdocument into its own layer. r=tnikkel 
Bug 948558. Disable flakey test_bug864040.html on b2g. r=gwagner 
Bug 812795. Disable subpixel AA in content subject to SVG effects such as filters. r=jwatt 
Bug 946065. Part 4: Move content/xbl to dom/ and flatten away 'src' directory. r=Ms2ger 
Bug 889235 - Make text-shadow work on SVG text. r=cam 
Bug 913070 - Move TelemetryPing to a jsm. r=Yoric, r=glandium 
Bug 959341 - Replace MOZ_B2G with MOZ_WIDGET_GONK for consistency. r=dhylands 
Bug 946065. Part 5: Move content/events to dom/ and flatten away 'src' directory. r=Ms2ger 
Bug 957562. Retrieve number control frame again in case it was destroyed. r=mats 
Bug 946065. Part 5.1: Enable test plugin for test_object_plugin_nav.html. r=smaug 
Bug 946065. Part 5.2: Set accessibility.focusmodel in test_object_plugin_nav.html so we can tab to links even on Mac. r=smaug 
Bug 157846. Part 0: Make tests more robust to padding changes and clipping of overflowing glyph edges. r=mats 
Bug 157846. Part 0.1: When reflowing a non-rootframe reflow root, preserve its used padding in case that differs from its CSS computed padding for some reason. r=mats 
Bug 157846. Part 0.2: Relax heuristic used to detect 'monospace' font for <input> sizing so that it at least includes 'monospace' font-family in Windows 7. r=mats 
Original patch by Charly Molter. Help from Robert O'Callahan and Jim Mathies. 
Bug 951268 - Test. 
Bug 960277. Part 1: Don't optimize away frame reconstruction for 'transform' add/remove if the element has complex abs-pos container structure. r=mats 
Bug 960277. Part 2: Move nsFieldSetFrame declaration to nsFieldSetFrame.h. r=mats 
Bug 960277. Part 3: nsFieldSetFrame's anonymous child should not inherit CSS 'position', but should still be an abs-pos containing block if the fieldset is. r=mats 
Bug 647813. XUL popups anchored to a <select> should not size themselves to the <select>. r=mats 
Bug 931013 - Try to fix intermittent failure of smil/crashtests/690994-1.svg. r=birtles 
Bug 826114 - Support Filter Effects specification feColorMatrix saturate type range. r=mstange 
Bug 962153 - Drop in telemetry submissions since 2014-01-15. r=vladan 
Bug 925747 - patch file extraction cleanup. r=bbondy 
Bug 960966 - Remove TelemetryPing.js from telemetry. r=Yoric, r=BenWa 
Bug 885096 - hasMutex should not be called from a lazy getter. r=bbondy 
Bug 963282 - Stub blurbs during download aren't always a minimum of 3 lines. r=bbondy 

Bug 963282 - Stub blurbs during download aren't always a minimum of 3 lines. r=bbondy Bug 961958 - on Vista and above use SetProcessDPIAware in the installers so fonts aren't blurry on HDPI devices. r=bbondy 
Bug 839794 - Use OS.File in Telemetry. r=Yoric 
Bug 963860 - fix macro redefinition when compiling TestAUSReadStrings.cpp. r=bbondy 
Bug 963848 - head_update.js is copied to unit_service_updater even when MOZ_MAINTENANCE_SERVICE is not defined. r=bbondy 
Bug 964550 - Make marStageSuccessComplete.js, marStageSuccessPartial.js, and marAppInUseStageSuccessComplete_unix.js xpcshell tests pass on Mac. r=bbondy 
reftest for bug 929451 
Bug 952389. Part 1: Block the AudioDestinationNode when it's the only node in the AudioContext. r=padenot 
Bug 952389. Part 2: When all streams in the MSG are blocked, allow the MSG to suspend indefinitely and pause AudioStream outputs while suspended. r=padenot 
Bug 952893 - Fix the rebase. 
Bug 952893. Part 1: Block the AudioDestinationNode when it's the only node in the AudioContext. r=padenot 
Bug 952893. Part 2: When all streams in the MSG are blocked, allow the MSG to suspend indefinitely and pause AudioStream outputs while suspended. r=padenot 
Bug 952893. Part 3: Tighten TimeVarying invariants so that GetAt always returns an end time when the value actually changes. r=padenot 
Bug 839794 - Use OS.File in Telemetry. r=Yoric 
Bug 952893. Part 1: Block the AudioDestinationNode when it's the only node in the AudioContext. r=padenot,karlt 
Bug 952893. Part 2: When all streams in the MSG are blocked, allow the MSG to suspend indefinitely and pause AudioStream outputs while suspended. r=padenot 
Bug 952893. Part 3: Tighten TimeVarying invariants so that GetAt always returns an end time when the value actually changes. r=padenot 
Bug 946502. Part 2: Remove unimplemented, unused function. r=mattwoodrow 
Bug 946502. Part 3: Extend FrameLayerBuilder to set fixed-pos metadata on layers created for background-attachment:fixed content. r=mattwoodrow 
Bug 946502. Part 4: Remove mStickyPosFrame. r=mattwoodrow 
Bug 634982. Reftest. r=jrmuizel 
Bug 941873. Blocked AudioNodeStreams should not run processing. r=karl 
Bug 962523 - Fix import statements in Telemetry. r=Yoric 
Bug 966231. Allow blocking in a nested event loop even if the thread is being shut down. r=bsmedberg 
Bug 966231. Add comment. 
Bug 946502. Part 5: A ViewportFrame with a displayport on the root element needs to be an animated geometry root. r=mattwoodrow 
Bug 964200 (Part 1) - Implement Filter Effects Module feDropShadow filter. r=hsivonen 
Bug 964200 (Part 2) - Add HTML parser support for SVG <feDropShadow>. r=wchen 
Bug 964200 (Part 3 main) - Implement Filter Effects Module feDropShadow filter. r=mstange 
Bug 964200 (Part 4 misc and tests) - Implement Filter Effects Module feDropShadow filter. r=hsivonen 
Bug 967203 - Telemetry doesn't save pending pings on shutdown. r=Yoric 
Bug 967587. Back out this hunk of bug 946502 part 3 until we can fix the regressions. r=mattwoodrow 
Bug 968118. Make nsCSSProps keyword tables be int16_t instead of int32_t for a small space win. r=heycam 
Bug 964200 (Part 3a moz2d) - Implement Filter Effects Module feDropShadow filter. r=mstange 
Bug 964200 (Part 3b activate) - Implement Filter Effects Module feDropShadow filter. r=mstange 
Bug 964200 (Part 3c fix reftest) - Implement Filter Effects Module feDropShadow filter. r=mstange 
Backout Bug 964200  part 3c 
Bug 964200 (Part 3b fix test) - Implement Filter Effects Module feDropShadow filter r=hsivonen 
Bug 964200 (Part 3b activate) - Implement Filter Effects Module feDropShadow filter r=mstange 
discovered or used by anyone. 
Bug 947588. Part 2: Add gfxTextRunFactory::TEXT_HIDE_CONTROL_CHARACTERS to guard usage of IsInvalidControlChar. r=jfkthame 
shows hexboxes for control characters. 
Bug 947588. Part 3.9: Remove CRs from plaintext.css. r=heycam 
Bug 947588. Part 4: Set -moz-text-discard:none in devtools, XUL, text inputs, plaintext documents, view-source documents. r=heycam 
Bug 947588. Part 5: Fix tests to pass even if regular HTML content is not displaying hexboxes for control characters. r=jfkthame 
Fix and enable reftest for Bug 964200 
Bug 971175 - Inline GetOffset in SVGFEOffsetElement. r=dholbert 
Bug 971285 - Fix intermittent failure in smil/anim-path-d-01.svg. r=dholbert 
Bug 966397. Don't try to add fixed-pos metadata for inactive layer subtrees. r=mattwoodrow 
Bug 966397. Part 2: Don't look at ancestors of mContainerReferenceFrame when searching for a fixed-pos ancestor we belong to, since we'll change coordinate spaces. The metadata will be attached to an ancestor layer in that case. r=mattwoodrow 
same display list coordinate system as the frame. 
Bug 972713. Part 2: Ignore active scrolled roots in inactive layer trees, because they don't help and could hurt. r=mattwoodrow 
Backing out patches for bug 972713 (changesets b5486b9ed88c and 7829e535cdd7) due to Windows 8 test failure. 
Bug 973579 - TelemetryFile should fail silently when not overwriting an existing file. r=Yoric 
Bug 970356 - neither getSubStringLength, nor selectSubString should throw if nchars is too large. r=cam 
Bug 500261 - svg images do not fire error events on any error. r=cam,sr=smaug 
Bug 974347 - Improve bounds handling of non-rendered elements. r=jwatt 
Bug 974746 - Fix rotated zero width or height pattern crash. r=jwatt 
Bug 969354. Track which ThebesLayers contain items which returned true from ShouldFixToViewport, and make sure each such item gets its own ThebesLayer. r=mattwoodrow 
Bug 973767. Put the compositor into test mode via an IPDL transaction. r=mattwoodrow 
Bug 976412. Part 1: Fix logic for determining when a display item can be placed in a layer. r=mattwoodrow 
Bug 975206 - Elements with non-existent clip-path URLs do not fire events. r=jwatt 
bug 965955 and bug 966140 - possible fix for intermittent failures of marStageSuccessPartial.js, marStageSuccessComplete.js, and marAppInUseStageSuccessComplete_unix.js. r=bbondy 
bug 896223 - Remove the version 1 manifest from the mar creation scripts. r=nthomas 
Bug 900251 - Add support for add-if-not instruction added by bug 759469 to the mar generation scripts. r=nthomas 
Bug 896224 - Remove support for the version 1 manifest from the updater. r=bbondy 
Main patch for Bug 759469 - Add new updater instruction to add a file if it doesn't exist in the destination. r=bbondy 
Updated test binaries for Bug 759469 - Add new updater instruction to add a file if it doesn't exist in the destination. r=bbondy 
Test cleanup and tests for Bug 759469 - Add new updater instruction to add a file if it doesn't exist in the destination. r=bbondy 
Followup for Bug 900251 - remove check for extra channel-prefs.js and update-settings.ini files in the mar generation scripts. r=nthomas 
Bug 979407 - Fix ASSERTION: viewport height must be nonnegative, with negative markerHeight or markerWidth attribute. r=dholbert 
Bug 955888. Part 1: Add ChaosMode.h base functionality. r=waldo 
this event queue. 
Bug 955888. Part 3: In chaos mode, give threads randomly chosen priorities, and pin some threads to CPU 0 so they compete for CPU. r=bsmedberg 
a poll. 
are still respected. 
Bug 955888. Part 6: In chaos mode, when reading from an HTTP connection, sometimes read less than the full amount of available data. r=jduell 
Bug 955888. Part 7: In chaos mode, start hashtable iteration at a random entry. r=jorendorff 
We also ensure that the mean timer duration is unchanged. 
Bug 975931. Part 1: Add nsDOMWindowUtils API to add an extra scroll offset in the AsyncPanZoomController when compositing. r=kats 
Bug 975931. Part 2: Update README with complete documentation of all attributes, and put the attribute name in the section heading. r=dbaron 
Bug 975931. Part 3: When the reftest-async-scroll attribute is present, allow reftest-displayport to be set on any element. r=tnikkel 
Bug 975931. Part 4: Support reftest-async-scroll attributes. r=dbaron 
Bug 975931. Part 5: Propagate scrolling behavior for non-app non-browser remote <iframe>s. r=khuey 
Bug 975931. Part 7: Enable APZC in reftests. r=dbaron 
Bug 975931. Part 8: When we reduce a layer's shadow-visible-region due to opaque covering content, restore it after compositing to ensure it's correct if the opaque content isn't there next time. r=mattwoodrow 
Bug 975931. Part 9: Add basic reftests for async scrolling. r=tnikkel 
Bug 975931. Part 2: Add more async scrolling tests. r=kats 
Bug 975931. Part 10: Refactor nsDOMWindowUtils to use a shared GetDocument method. r=matspal 
Bug 975931. Part 11: Make nsDOMWindowUtils::SetDisplayPortForElement take a priority parameter, and set that parameter to 1 in reftests to override automatic displayport selection. r=kats 
Bug 981495 - CppEclipse - Part 1: Backend should add a resource filter to ignore obj- directories. r=bgirard 
Bug 981495 - CppEclipse - Part 2: Filter out .orig and .rej files. r=bgirard DONTBUILD for NPOTB 
Bug 982448 - some fxmetro pref's still being left behind with values without --enable-metro in the mozconfig. r=bbondy 
Bug 982474. Exclude more files from the CppEclipse-backend generated project. r=BenWa 
Bug 917755. Part 1: Add nsLayoutUtils::TransformCSSPoints and nsLayoutUtils::GetFirstNonAnonymousFrame. r=matspal 
Bug 917755. Part 1.5: Make nsImageLoadingContent more robust in unified builds. r=matspal 
to DOMRect. 
Bug 917755. Part 3: Implement DOMRect per spec. r=jst 
Bug 917755. Part 4: Add DOMQuad implementation. r=jst 
Bug 917755. Part 5: Implement GeometryUtils GetBoxQuads. r=matspal 
Bug 917755. Part 5.5: Implement getBoxQuads DOM API. r=jst 
Bug 917755. Part 6: Add tests for getBoxQuads. r=matspal 
Bug 918189. Part 1: Implement GeometryUtils ConvertQuad/Rect/PointFromNode. r=mats 
Bug 918189. Part 1.5: Implement GeometryUtils.convertPointFromNode, convertRectFromNode, and convertQuadFromNode. r=jst 
Bug 918189. Part 2: Add tests for convertPoint/Rect/QuadFromNode. r=mats 
Bug 799215 - Stub installer's dual progress bars are confusing. Use a single progress bar for both. ui-r=philipp, r=bbondy 
Bug 899254 - When installing on top of an existing install the install page should use the term 'Upgrading' instead of 'Installing' for the stub installer. r=bbondy 
Bug 899363 - Implement stub installer data ping version 6. r=bbondy 

Bug 899363 - Implement stub installer data ping version 6. r=bbondy Bug 899352 - Increase the installation timeout for the stub installer. r=bbondy 

Bug 899352 - Increase the installation timeout for the stub installer. r=bbondy Bug 917755. Part 1: Add nsLayoutUtils::TransformCSSPoints and nsLayoutUtils::GetFirstNonAnonymousFrame. r=matspal 
Bug 917755. Part 1.5: Make nsImageLoadingContent more robust in unified builds. r=matspal 
to DOMRect. 
Bug 917755. Part 3: Implement DOMRect per spec. r=jst 
Bug 917755. Part 4: Add DOMQuad implementation. r=jst 
Bug 917755. Part 5: Implement GeometryUtils GetBoxQuads. r=matspal 
Bug 917755. Part 5.5: Implement getBoxQuads DOM API. r=jst 
Bug 917755. Part 6: Add tests for getBoxQuads. r=matspal 
Bug 918189. Part 1: Implement GeometryUtils ConvertQuad/Rect/PointFromNode. r=mats 
Bug 918189. Part 1.5: Implement GeometryUtils.convertPointFromNode, convertRectFromNode, and convertQuadFromNode. r=jst 
Bug 918189. Part 2: Add tests for convertPoint/Rect/QuadFromNode. r=mats 
Bug 917755. Part 1: Add nsLayoutUtils::TransformCSSPoints and nsLayoutUtils::GetFirstNonAnonymousFrame. r=matspal 
Bug 917755. Part 1.5: Make nsImageLoadingContent more robust in unified builds. r=matspal 
to DOMRect. 
Bug 917755. Part 3: Implement DOMRect per spec. r=jst 
Bug 917755. Part 4: Add DOMQuad implementation. r=jst 
Bug 917755. Part 5: Implement GeometryUtils GetBoxQuads. r=matspal 
Bug 917755. Part 5.5: Implement getBoxQuads DOM API. r=jst 
Bug 917755. Part 6: Add tests for getBoxQuads. r=matspal 
Bug 918189. Part 1: Implement GeometryUtils ConvertQuad/Rect/PointFromNode. r=mats 
Bug 918189. Part 1.5: Implement GeometryUtils.convertPointFromNode, convertRectFromNode, and convertQuadFromNode. r=jst 
Bug 918189. Part 2: Add tests for convertPoint/Rect/QuadFromNode. r=mats 
Bug 982659 - Fix intermittent orange in test_onerror.xhtml. r=dholbert 
Bug 986913 - Using setAttributeNS can cause serialisation to fail. r=smaug 
Bug 981470. Combine test_audioDocumentTitle and test_videoDocumentTitle and avoid testing WAV files, which aren't supposed to load properly in <iframe>s. r=cpearce 
Bug 493692. Fix and reenable test_preload_suspend. r=cpearce 
Bug 791480. Make reftests enter print mode before reftest-wait is removed, so canvas-print-callback tests can finish drawing before the test ends. r=dbaron 
Bug 791480. Reenable test on Windows 7. r=dbaron 
Bug 987347 - Stub installer should use MS Shell Dlg 2 pseudo font. r=bbondy 
Bug 726781 - No way to distinguish between Firefox release and Firefox ESR via the registry. r=bbondy 
Bug 988138 - Add new SupportedOS GUIDs to the 7-Zip self extracting archive. r=bbondy 

Bug 988138 - Add new SupportedOS GUIDs to the 7-Zip self extracting archive. r=bbondy NSIS installer file changes for Bug 962381 - Add support for NSIS 3.0a2. r=bbondy 

NSIS installer file changes for Bug 962381 - Add support for NSIS 3.0a2. r=bbondy Bug 989067 - Stub installer indeterminate progress bar (e.g. marquee) moves too fast on Win XP. r=bbondy 
Bug 792075 - Update links in Control Panel. r=bbondy 

Bug 792075 - Update links in Control Panel. r=bbondy Configure changes for Bug 962381 - Add support for NSIS 3.0a2. r=mshal 

Configure changes for Bug 962381 - Add support for NSIS 3.0a2. r=mshal Followup for Bug 792075 - Update links in Control Panel. r=me 

Followup for Bug 792075 - Update links in Control Panel. r=me Bug 640824 - Stub installer fails with false no access rights error if install path is quoted. r=bbondy 
Bug 633804 - Per-user install will overwrite registry key for other architectures. r=bbondy 
Bug 831593 - Updater/uninstaller helper.exe deletes Firefox AppCompatFlags registry entry during upgrade. r=bbondy 

Bug 831593 - Updater/uninstaller helper.exe deletes Firefox AppCompatFlags registry entry during upgrade. r=bbondy Windows installer only - Bug 990243 - Use a background color instead of a background image for the download / install phase of the stub installer. r=bbondy 
Bug 992413 - Add back  to stub ping. r=tabraldes 
Remove the huge foot-gun of removing all profiles from the uninstaller - Bug 432017 - Selecting remove personal data description text should clearly state that it removes *all* Firefox personal data. r=bbondy 
Bug 993468 - TypeError: callback is undefined in jsonSave(). r=rnewman 
Bug 983465. Disable collapsing-text frame construction optimization on a per-document basis. r=bz 
Bug 791480. Make reftests enter print mode before reftest-wait is removed, so canvas-print-callback tests can finish drawing before the test ends. r=dbaron 
Bug 791480. Reenable test on Windows 7. r=dbaron 
same display list coordinate system as the frame. 
Bug 972713. Part 2: Ignore active scrolled roots in inactive layer trees, because they don't help and could hurt. r=mattwoodrow 
Bug 985303. Part 1: Assert that nsViews are only associated with a specific, limited set of frame types. r=dbaron 
Bug 985303. Part 2: Add aSkipChildLists parameter to nsLayoutUtils::UnionChildOverflow. r=dbaron 
Bug 985303. Part 3: Save a block's 'bottom edge of content' in a frame property if it doesn't match the block's content height, and use it in UpdateOverflow to compute the correct overflow. r=dbaron 
Bug 995813 - Mask and pattern elements should map more attributes to styles. r=dholbert 
Bug 791480. Fix bad reftest.list merge. 
Windows installer only - Bug 996371 - 7-Zip self-extracting archive fonts are blurry on HiDPI. r=tabraldes 

Windows installer only - Bug 996371 - 7-Zip self-extracting archive fonts are blurry on HiDPI. r=tabraldes Bug 996960 - Add new RTL languages to locales.nsi - Uyghur ug and Urdu ur. r=ehsan 
Bug 974710 - Stop incorrectly reporting errors with values attribute on the animateMotion element. r=dholbert 
Bug 974710 - Stop incorrectly reporting errors with values attribute on the animateMotion element. r=dholbert 
Bug 989419 - Remove main-thread IO from background update of {profile}\blocklist.xml. r=irving 
Updated 7Zip moz modifications to sfx code - Bug 396050 - [7zip] Unnecessary Button provided by the 7-Zip SEA (self extracting archive). r=bbondy 
Updated 7Zip sfx - Bug 396050 - [7zip] Unnecessary Button provided by the 7-Zip SEA (self extracting archive). r=bbondy 
Updated 7Zip moz modifications to sfx code - Bug 995891 - Reduce stub installer install timeouts. r=tabraldes 
Updated 7Zip sfxthat include moz modifications  - Bug 995891 - Reduce stub installer install timeouts. r=me 
Bug 798903 - Stub installer should use Segoe UI and other newer UI fonts as appropriate when they are available. r=tabraldes 
Bug 974698 - Check that keyPoints and keyTimes numbers match for animateMotion. r=dholbert 
Bug 997725 - Simplify SMIL tests. r=dholbert 
Bug 880864 -  User dictionary (persdict.dat) read on main thread. r=Ehsan,r=mayhemer 
value returns the right thing. 
Bug 997762. Use --log-no-times option when building so Eclipse can parse the build output. r=BenWa 
Bug 998206. Add --shuffle option to runreftests.py and 'mach reftest'. r=dbaron 
Bug 993243. Add a +debugger parameter to 'mach debug' to specify the debugger to launch. r=gps 
Bug 998821. Only use XShm for drawing if XShm allocation actually succeeded. r=karlt 
completed. 
Bug 998284. When entering the buffering state from AdvanceFrame, be prepared to accept a second's delay before reevaluating whether to exit buffering. r=cpearce 
Bug 452254 - Register for audio/video .ogg and .pdf file handlers if nothing else has. r=jmathies 
Bug 909589 - Ensure FrameAnimator is created with the correct animation mode. r=seth 
Bug 1002086 - UpdateService uses the non-existent nsIAddonUpdateCheckListener interface. r=ehsan 
whitespace fix followup for Bug 1002086 - UpdateService uses the non-existent nsIAddonUpdateCheckListener interface. r=me 
Bug 785487 - Have AboutHomeUtils use the asynchronous search service initialization API and adjust browser_aboutHome.js accordingly. r=felipe, r=gavin 
Bug 988292: Avoid main-thread IO for {profile}\addons.json; r=felipc@gmail.com,r=irving 
Bug 785487 - Have AboutHomeUtils use the asynchronous search service initialization API and adjust browser_aboutHome.js accordingly. r=felipe, r=gavin 
Bug 995745 - Use LockPixels for WebGL readback directly into a DrawTarget instead of writing to an immutable snapshot. r=mattwoodrow 
Bug 1004168 - Add an INI file option to prevent requiring a reboot when there are files in use. r=jmathies 
Bug 1006248. Part 1: Add MOZ_EXPORT in various places. r=glandium 
Bug 1006248. Part 2: Add NO_VISIBILITY_FLAGS to media/omx-plugin. r=glandium 
Bug 1006248. Part 3: Add lots of system header wrappers for B2G/Android. r=glandium 
Bug 1006248. Part 4: Use better #include paths for libstagefright headers in a couple of places. r=glandium 
Bug 1001320. Address missed reivew comment. r=glandium 
Bug 1001204 - Remove hyperlink appearance for nsIAlertsService alerts when clickable. r=MattN 
Bug 880864 - User dictionary (persdict.dat) read on main thread. r=mayhemer 
Bug 1006615 - Update extensions.blocklist.itemURL and extensions.blocklist.url to new blocklist domain, r=Mossop,jason 
Bug 1001320. Part 5: Enable GCC visibility pragmas on Android. r=glandium 
Bug 988023 - Telemetry on how often we hit search service synchronous fallback. r=gavin 
Bug 988304 - Avoid main-thread IO for {profile}\blocklist.xml. r=irving 
Bug 1011425 - adding missing label for autorefresh checkbox, r=ttaubert 
Bug 1001320. Part 5: Use #pragma GCC visibility on B2G. r=glandium 
Bug 1001320. Part 5: Use #pragma GCC visibility on B2G. r=glandium 
Bug 953360 - <a ping> attribute should split on white space not only space r=jst 
back out bug 1006615 (blocklist domain change) as data collection systems aren't completely ready yet 
Bug 606415: Tests for bug 1009668. r=spohl 
Bug 1006576. Set DISABLE_SNAPPING flag on all printing gfxContexts. r=mattwoodrow 
called via RemoveEmptyInFlows. 
Bug 1016440 - Stop crashing when failing to allocate draw targets. r=jwatt 
Bug 1015664. Part 1: Remove NS_HIDDEN_() usage. r=bsmedberg 
Bug 1015664. Part 2: Remove some NS_HIDDEN usage. r=bsmedberg 
Bug 1015664. Part 3: Remove NS_HIDDEN_VISIBILITY from NS_IMETHOD_VISIBILITY. r=bsmedberg 
Bug 1015664. Part 4: Remove NS_HIDDEN in a few miscellaneous places. r=bsmedberg 
Bug 1005588. Fix getBoxQuads test to work when the feature prefs are disabled by default. r=matspal 
Bug 1010999 - Change update notification to Weekly instead of Daily on Aurora. r=gavin.sharp 
Bug 989230 - SVG gradient spreadMethod="reflect" doesn't work. r=gal 
Bug 1007723 - Telemetry (?) is causing a high memory consumption and lagging on browser startup. r=Yoric 
Bug 1024926 - Invalidate SVGPathData's cached measuring path when script changes the SVGPathList or its segments so that SVGPathElement::getTotalLength() returns up to date values. r=jwatt 
Bug 1032559 - Fix for mochitest-chrome slow download mar tests fail when the app.update.download.backgroundInterval pref is 0. r=spohl 
Bug 1024860 - getTotalLength on an empty path should not throw but return 0 instead. r=jwatt,bzbarsky 
Bug 556441 - Interpolation fails for stroke-width and stroke-dashoffset when animating between unitless values & values with units. r=dbaron 
test only followup to Bug 1032559 - Fix for mochitest-chrome slow download mar tests fail when the app.update.download.backgroundInterval pref is 0. r=me 
Bug 530985. Make getBoundingClientRect give more sensible results for <svg> elements. r=jwatt 
Bug 1027287 - Prevent non-local network connection to aus when enabling app update in add-ons mgr hotfix test. r=mossop 
Bug 1030217 - Slight decrease in Telemetry submission rate on nightly channel. r=Yoric 
Bug 1022612. Part 1: Always pass a frame to AutoBuildingDisplayList. r=mattwoodrow 
Bug 1022612. Part 2: Remove unused nsDisplayWrapList constructor. r=mattwoodrow 
Bug 1022612. Part 3: Rename "cached frame" to "current frame" in nsDisplayListBuilder and take advantage of the fact it's always set. r=mattwoodrow 
nsIFrame::BuildDisplayList. 
on the current page. 
Bug 1022612. Part 6: Set the initial mVisibleRect for each display item to the dirty rect when we create the item. r=mattwoodrow 
Bug 1022612. Part 7: Enable APZC for IPC reftests. r=billm 
first in FrameLayerBuilder. 
order is hard. But it doesn't matter if this property sticks around anyway. 
list. 
we won't mark the list as opaque. I think that should be OK. 
Bug 1022612. Part 12: Propagate NeedsTransparentSurface in ProcessDisplayItems. r=mattwoodrow 
Bug 1022612. Part 13: Set mDidComputeVisibility in ProcessDisplayItems. r=mattwoodrow 
This should be OK. 
accurate enough. 
This is unnecessary. FrameLayerBuilder sets the correct region. 
Bug 1022612. Part 18: When ComputeVisibility returns false, RecomputeVisibility should avoid painting the item. r=mattwoodrow 
cases on B2G. This test tests it on all platforms. 
Bug 1022612. Part 20: Do the business. r=mattwoodrow 
Bug 1022612. Part 21: Remove DidComputeVisibility checking. r=mattwoodrow 
Bug 1022612. Part 22: Add MOZ_COUNT_CTOR to nsDisplayWrapList. r=mattwoodrow 
It's obsolete and no-one calls it. 
Bug 1022612. Part 24: Simplify nsDisplayList::ComputeVisibilityForSublist now that FrameLayerBuilder does most of the work. r=mattwoodrow 
Bug 1022612. Part 25: We don't need to explicitly worry about displayports anymore when computing occlusion. r=mattwoodrow 
Bug 1022612. Part 26: nsDisplayList::mVisibleRect is no longer used. r=mattwoodrow 
be fixed up in a later patch. 
Bug 1022612. Part 28: Make nsLayoutUtils::GetScrollableFrameFor return null for non-scrolled-frames. r=mattwoodrow 
Bug 1022612. Part 29: Expose GetAnimatedGeometryRootForFrame. r=mattwoodrow 
Bug 1022612. Part 30: Expose IsConstructingScrollLayerForScrolledFrame and IsDisplayPortOpaque on nsDisplayScrollLayer. r=mattwoodrow 
ThebesLayers. 
regions on layers now. 
This hasn't been used for a while I guess. 
visibility for all items in that layer, including items nested in other items. 
readback. 
Bug 1022612. Part 36: Avoid redundant calls to ShouldPrerenderTransformedContent. r=mattwoodrow 
This is no longer needed thanks to the readback simplification. 
Bug 1022612. Part 38: Avoid test failure due to antialiased pixel leakage. r=mattwoodrow 
Bug 1022612. Part 39: Add a little bit of reftest fuzzing. r=mattwoodrow 
Bug 1022612. Part 40: Restrict visible rect of 3D-transformed layers before converting to nsIntRect. r=mattwoodrow 
Bug 1022612. Part 41: Use itemType instead of calling GetType() again. r=mattwoodrow 
Bug 1022612. Part 42: Add opaque regions of ThebesLayer content to the "exclude glass" region. r=mattwoodrow 
Bug 1022612. Part 43: Fix up SuppressComponentAlpha to allow component alpha in inactive layers over opaque parts of the chrome window. r=mattwoodrow 
Bug 1022612. Part 1: Always pass a frame to AutoBuildingDisplayList. r=mattwoodrow 
Bug 1022612. Part 2: Remove unused nsDisplayWrapList constructor. r=mattwoodrow 
Bug 1022612. Part 3: Rename "cached frame" to "current frame" in nsDisplayListBuilder and take advantage of the fact it's always set. r=mattwoodrow 
nsIFrame::BuildDisplayList. 
on the current page. 
Bug 1022612. Part 6: Set the initial mVisibleRect for each display item to the dirty rect when we create the item. r=mattwoodrow 
Bug 1022612. Part 7: Enable APZC for IPC reftests. r=billm 
first in FrameLayerBuilder. 
order is hard. But it doesn't matter if this property sticks around anyway. 
list. 
we won't mark the list as opaque. I think that should be OK. 
Bug 1022612. Part 12: Propagate NeedsTransparentSurface in ProcessDisplayItems. r=mattwoodrow 
Bug 1022612. Part 13: Set mDidComputeVisibility in ProcessDisplayItems. r=mattwoodrow 
This should be OK. 
Bug 1022612. Part 15: Add nsDisplayItem::GetVisibleRectForChildren(). r=mattwoodrow 
Bug 1022612. Part 15.5: Use GetVisibleRectForChildren instead of GetVisibleRect. r=mattwoodrow 
accurate enough. 
This is unnecessary. FrameLayerBuilder sets the correct region. 
Bug 1022612. Part 18: When ComputeVisibility returns false, RecomputeVisibility should avoid painting the item. r=mattwoodrow 
cases on B2G. This test tests it on all platforms. 
Bug 1022612. Part 20: Do the business. r=mattwoodrow 
Bug 1022612. Part 21: Remove DidComputeVisibility checking. r=mattwoodrow 
Bug 1022612. Part 22: Add MOZ_COUNT_CTOR to nsDisplayWrapList. r=mattwoodrow 
It's obsolete and no-one calls it. 
Bug 1022612. Part 24: Simplify nsDisplayList::ComputeVisibilityForSublist now that FrameLayerBuilder does most of the work. r=mattwoodrow 
Bug 1022612. Part 25: We don't need to explicitly worry about displayports anymore when computing occlusion. r=mattwoodrow 
Bug 1022612. Part 26: nsDisplayList::mVisibleRect is no longer used. r=mattwoodrow 
be fixed up in a later patch. 
Bug 1022612. Part 28: Make nsLayoutUtils::GetScrollableFrameFor return null for non-scrolled-frames. r=mattwoodrow 
Bug 1022612. Part 29: Expose GetAnimatedGeometryRootForFrame. r=mattwoodrow 
Bug 1022612. Part 30: Expose IsConstructingScrollLayerForScrolledFrame and IsDisplayPortOpaque on nsDisplayScrollLayer. r=mattwoodrow 
ThebesLayers. 
regions on layers now. 
This hasn't been used for a while I guess. 
visibility for all items in that layer, including items nested in other items. 
readback. 
Bug 1022612. Part 36: Avoid redundant calls to ShouldPrerenderTransformedContent. r=mattwoodrow 
This is no longer needed thanks to the readback simplification. 
Bug 1022612. Part 38: Avoid test failure due to antialiased pixel leakage. r=mattwoodrow 
Bug 1022612. Part 39: Add a little bit of reftest fuzzing. r=mattwoodrow 
Bug 1022612. Part 40: Restrict visible rect of 3D-transformed layers before converting to nsIntRect. r=mattwoodrow 
Bug 1022612. Part 41: Use itemType instead of calling GetType() again. r=mattwoodrow 
Bug 1022612. Part 42: Add opaque regions of ThebesLayer content to the "exclude glass" region. r=mattwoodrow 
Bug 1022612. Part 43: Fix up SuppressComponentAlpha to allow component alpha in inactive layers over opaque parts of the chrome window. r=mattwoodrow 
Bug 1022612. Part 44: Make nsSimplePageSequence only paint the pages that are actually in the dirty rect. r=mattwoodrow 
Bug 1022612. Part 45: Increase region complexity limit for mDrawAboveRegion/mVisibleAboveRegion to fix scroll-rounding.html test failure. r=mattwoodrow 
Bug 1022612. Part 1: Always pass a frame to AutoBuildingDisplayList. r=mattwoodrow 
Bug 1022612. Part 2: Remove unused nsDisplayWrapList constructor. r=mattwoodrow 
Bug 1022612. Part 3: Rename "cached frame" to "current frame" in nsDisplayListBuilder and take advantage of the fact it's always set. r=mattwoodrow 
nsIFrame::BuildDisplayList. 
on the current page. 
Bug 1022612. Part 6: Set the initial mVisibleRect for each display item to the dirty rect when we create the item. r=mattwoodrow 
Bug 1022612. Part 7: Enable APZC for IPC reftests. r=billm 
first in FrameLayerBuilder. 
order is hard. But it doesn't matter if this property sticks around anyway. 
list. 
we won't mark the list as opaque. I think that should be OK. 
Bug 1022612. Part 12: Propagate NeedsTransparentSurface in ProcessDisplayItems. r=mattwoodrow 
Bug 1022612. Part 13: Set mDidComputeVisibility in ProcessDisplayItems. r=mattwoodrow 
This should be OK. 
Bug 1022612. Part 15: Add nsDisplayItem::GetVisibleRectForChildren(). r=mattwoodrow 
Bug 1022612. Part 15.5: Use GetVisibleRectForChildren instead of GetVisibleRect. r=mattwoodrow 
accurate enough. 
This is unnecessary. FrameLayerBuilder sets the correct region. 
Bug 1022612. Part 18: When ComputeVisibility returns false, RecomputeVisibility should avoid painting the item. r=mattwoodrow 
cases on B2G. This test tests it on all platforms. 
Bug 1022612. Part 20: Do the business. r=mattwoodrow 
Bug 1022612. Part 21: Remove DidComputeVisibility checking. r=mattwoodrow 
Bug 1022612. Part 22: Add MOZ_COUNT_CTOR to nsDisplayWrapList. r=mattwoodrow 
It's obsolete and no-one calls it. 
Bug 1022612. Part 24: Simplify nsDisplayList::ComputeVisibilityForSublist now that FrameLayerBuilder does most of the work. r=mattwoodrow 
Bug 1022612. Part 25: We don't need to explicitly worry about displayports anymore when computing occlusion. r=mattwoodrow 
Bug 1022612. Part 26: nsDisplayList::mVisibleRect is no longer used. r=mattwoodrow 
be fixed up in a later patch. 
Bug 1022612. Part 28: Make nsLayoutUtils::GetScrollableFrameFor return null for non-scrolled-frames. r=mattwoodrow 
Bug 1022612. Part 29: Expose GetAnimatedGeometryRootForFrame. r=mattwoodrow 
Bug 1022612. Part 30: Expose IsConstructingScrollLayerForScrolledFrame and IsDisplayPortOpaque on nsDisplayScrollLayer. r=mattwoodrow 
ThebesLayers. 
regions on layers now. 
This hasn't been used for a while I guess. 
visibility for all items in that layer, including items nested in other items. 
readback. 
Bug 1022612. Part 36: Avoid redundant calls to ShouldPrerenderTransformedContent. r=mattwoodrow 
This is no longer needed thanks to the readback simplification. 
Bug 1022612. Part 38: Avoid test failure due to antialiased pixel leakage. r=mattwoodrow 
Bug 1022612. Part 39: Add a little bit of reftest fuzzing. r=mattwoodrow 
Bug 1022612. Part 40: Restrict visible rect of 3D-transformed layers before converting to nsIntRect. r=mattwoodrow 
Bug 1022612. Part 41: Use itemType instead of calling GetType() again. r=mattwoodrow 
Bug 1022612. Part 42: Add opaque regions of ThebesLayer content to the "exclude glass" region. r=mattwoodrow 
Bug 1022612. Part 43: Fix up SuppressComponentAlpha to allow component alpha in inactive layers over opaque parts of the chrome window. r=mattwoodrow 
Bug 1022612. Part 44: Make nsSimplePageSequence only paint the pages that are actually in the dirty rect. r=mattwoodrow 
Bug 1022612. Part 45: Increase region complexity limit for mDrawAboveRegion/mVisibleAboveRegion to fix scroll-rounding.html test failure. r=mattwoodrow 
Bug 1022612. Part 46: Work around pixman bug to make sure nsRegionRectIterator never returns an empty rect. r=mattwoodrow 
Bug 1041207. nsListBoxBodyFrame::Init shouldn't call nsLayoutUtils::GetScrollableFrameFor since it's not the scrolled frame yet. r=mattwoodrow 
Bug 1039454. Remove InitialOverflowProperty when it no longer applies. r=mats 
Bug 1013054. Don't propagate non-repaint change hints to the canvas frame. r=mattwoodrow 
Bug 863618. Make Range.getClientRects/getBoundingClientRect take account of CSS transforms. r=tn 
Bug 1003425. When opacity is delegated to an nsDisplayBoxShadowOuter via nsDisplayItem::ApplyOpacity, store the opacity in our geometry so we can invalidate if it changes. r=mattwoodrow 
Bug 1041200. Ensure nsDisplayZoom and friends compute mVisibleRect relative to their reference frame. r=mattwoodrow 
Bug 1013054. Don't propagate non-repaint change hints to the canvas frame. r=mattwoodrow 
Bug 1041530. Be more careful about contributing opaque areas to the window region. r=mattwoodrow 
Bug 1042327. Use a more narrow workaround for pixman bug. r=jrmuizel 
Bug 1037494 - Add author field to Histograms.json; r=vladan 
Bug 1041530. Be more careful about contributing opaque areas to the window region. r=mattwoodrow 
Bug 1013054. Don't propagate non-repaint change hints to the canvas frame. r=mattwoodrow 
Bug 1042104. Part 1: Cache prerender flag in nsDisplayTransform. r=tn 
Bug 1042104. Part 2: Set nsDisplayTransform's visible rect appropriately if we're prerendering it. r=tn 
Bug 1043163. Avoid negative widths and heights due to overflow. r=mats 
Bug 1050096. Clip scrollparts to the viewport for root scrollframes. r=tnikkel 
Bug 1048752. Part 1: Remove GetCaretReadOnly (unused). r=tn 
I'm quite sure DLBI means we don't need these anymore. 
a different selection to the Selection. 
Bug 1048752. Part 4: Make EViewCoordinates (unused). r=tn 
and reorder the public methods to put the state-changing "API" methods first. 
longer needed. The obsolete comment is fixed in a later patch. 
whenever we need it. 
whenever we need it. 
I got tired of slow build turnarounds every time I modified nsCaret.h. 
nsDisplayList.h too. 
Bug 1048752. Part 11: Remove nsLayoutUtils.h from nsDisplayList.h. r=tn 
nsCaret::DrawAtPosition disables blinking. 
Callers always pass null. 
code since for the latter version we don't have to get an nsCaret first. 
Bug 1048752. Part 15: Fix some comments. r=tn 
where bools need to be converted. I figured this patch was big enough already. 
The forward declaration of Selection in nsCaret.h will be used in later patches. 
We'll use this later. 
performance advantage to having this check. 
eventually we'll re-share common code. 
UpdateCaretRects is no longer needed. 
bogus. 
Bug 1048752. Part 23: Remove aIgnoreDrawnState from MustDrawCaret. r=tn 
Bug 1048752. Part 24: Rename and deCOM Set/GetCaretVisible. r=tn 
hidden due a popup showing. That doesn't make sense. 
the mIsBlinkOn flag. 
put into the helper GetFrameAndOffset. 
Bug 1048752. Part 28: Remove unused fields and rename mLast* to mOverride*. r=tn 
Bug 1048752. Part 29: mVisible is never true in nsCaret::Init. r=tn 
-- nsCaret::DrawAtPosition needs a ResetBlinking 
Also cleans up a couple of other ordering issues. 
means we don't actually need the mIsBlinking flag after all. 
Previous changes broke this. 
Previous changes broke this. Tests caught it. 
Bug 1048752. Part 35: Remove GetFrameSelection (unused). r=tn 
Bug 1048752. Part 36: Remove ancient horizontal rules. r=tn 
Bug 1048752. Part 37: GetGeometryForFrame should return a rect instead of an nsresult. r=tn 
quite rare. 
Bug 1048752. Part 39: Call SelectionLanguageChange even when bidi keyboard is not available, for consistency, and fix broken tests. r=jfkthame 
Bug 263049. Hack nsTypeAheadFind to search XMLPrettyPrinter's pretty-printed DOM when the root node has an XBL binding. r=mrbkap 
Bug 559505 - Deprecate localstore.rdf and replace it with xulstore. r=enn, sr=bsmedberg 
CLOSED TREE 
Bug 1006615 - Update extensions.blocklist.itemURL and extensions.blocklist.url to new blocklist domain, r=Mossop,jason 
Bug 899585 - Add custom data support in the Notification constructor r=baku 
Bug 1054161. Don't build display items for text with alpha=0. r=dbaron 
Bug 1048579. Always sniff for media loads. r=bzbarsky 
Bug 1056796 - Use documentURIObject to retrieve document uri. r=enndeakin 
Bug 1048579. Always sniff for media loads. r=bzbarsky 
Bug 1057955: Adjust TrackUnion TrackID mapping to be 1:1 whenever possible with source tracks r=jesup 
Bug 1058599 - Use string instead of nsIURI when calling xulstore. r=enn 
Bug 1057955: Adjust TrackUnion TrackID mapping to be 1:1 whenever possible with source tracks r=jesup,padenot 
Bug 1054632 - constructor init list in wrong order in CrashGenerationServer r=ted 
Bug 967844. Part 1: Move mBackgroundColor from Layer to FrameMetrics. r=kats 
Bug 967844. Part 2: Move mContentDescription from Layer to FrameMetrics. r=kats 
Bug 967844. Part 3: Setup FrameMetrics from FrameLayerBuilder based on animated geometry roots. r=mattwoodrow 
Bug 1057137 - Broken menu: NS_ERROR_ILLEGAL_VALUE: id, attribute, or value too long. r=enn 
Bug 967844. Part 1: Move mBackgroundColor from Layer to FrameMetrics. r=kats 
Bug 967844. Part 2: Move mContentDescription from Layer to FrameMetrics. r=kats 
Bug 967844. Part 3: Setup FrameMetrics from FrameLayerBuilder based on animated geometry roots. r=mattwoodrow 
Bug 1063754. Cache result of Factory::HasSSE2(). r=bas 
Bug 1064063 - switch elements ignore default if allowReorder is set. r=dholbert 
Bug 1061191 - Add alerting e-mails to some histogram definitions. r=vladan 
Bug 1050159. Apply correct dirty rect when AddCanvasBackgroundColorItem creates an nsDisplaySolidColor. r=mattwoodrow 
This isn't really part of this bug but it simplifies related code. 
Bug 1062100. Part 2: Assign clip rects to non-async-scrollable scrolled layers, and hide clipped layers if some non-moving layer covers their entire clip rect. r=mattwoodrow 
Bug 1061045. Remove dirtyRect save/restore from Enter/LeavePresShell since they're not needed anymore. r=tn 
Bug 1063052. NS_RUNTIMEABORT if a builtin stylesheet fails to load. r=heycam 
Bug 1045108 - Forcefully set the expiration version for outstanding probes. r=vladan 
Bug 1045108 - Forcibly set the expiration version for outstanding probes. r=vladan 
Bug 1066591. Backout c43865439dd9 (bug 1066211) to fix regression. 
Bug 1054415 - delete notification from the database when observing alertfinished. r=mhenretty 
Bug 1067748. When a solid-color display item covers everything else in its layer, make it a ColorLayer. r=tn 
Also, we don't know for sure an opaque video frame is going to appear. 
Bug 912645 - Add notification behavior dict support. r=baku, sr=sicking 
Bug 1068590 - gfxWindowsPlatform does not build on WinXP. r=bas 
Bug 1070209 - Fix typo in NotificationStorage.js. r=baku 
Bug 980567 - Fix wrong icon URL resolving. r=mhenretty 
Bug 1062100. Part 2: Assign clip rects to non-async-scrollable scrolled layers, and hide clipped layers if some non-moving layer covers their entire clip rect. r=mattwoodrow 
Bug 1062100. Part 3: When layers are flattened, let all the layers contribute opaqueness to the container layer, whatever their animated geometry roots are. r=tn 
Bug 1070988 - Windows installer should remove leftover chrome.manifest on pave over install to prevent startup crash with Firefox 32 and above with unpacked omni.ja. r=tabraldes 
Bug 1070428 - NSIS version check uses undefined REQ_NSIS_MAJOR_VER in output messages. r=ted 
Bug 1073924 - Hovering over links in SVG does not cause cursor to change. r=jwatt 
Mac v2 signing - Bug 1059467 - Move precomplete file from the root of the Mac bundle to Contents/Resources. r=bbondy, r=nthomas 
Mac v2 signing - Bug 1059567 - Packaging changes for the move of removed-files file from Contents/MacOS to Contents/Resources. r=bbondy, r=nthomas 
Mac v2 signing - Bug 1064523 - Create staging directory outside of the Mac bundle. r=bbondy 
Mac v2 signing - Bug 1058182 -  Fix app update xpcshell tests due to the Mac v2 bundle structure. r=bbondy 
Mac v2 signing - Bug 1068439 - Move the distribution directory from Content/MacOS to Contents/Resources on app update due to v2 signing requirements. r=spohl 
Mac v2 signing - Bug 1070661 - Error setting access/modification time on application bundle. r=spohl 
Mac v2 signing - Temporary workaround for Bug 1070148 - Copy maintenance service binary into its install directory when the installed binary is different. r=bbondy 
Mac v2 signing - Bug 1070149 - Add explicit file removals for channel-prefs.js, update-settings.ini, and precomplete files. r=spohl 

Mac v2 signing - Bug 1070149 - Add explicit file removals for channel-prefs.js, update-settings.ini, and precomplete files. r=spohl Mac v2 signing - Bug 1070863 - The preprocessed channel-prefs.js file needs to be the same for each build. r=ted 

Mac v2 signing - Bug 1070863 - The preprocessed channel-prefs.js file needs to be the same for each build. r=ted Mac v2 signing - Bug 1071134 - Fix command line help for updater. r=spohl 
Mac v2 signing - Bug 1071465 - old precomplete file is not removed on update. r=spohl 
Mac v2 signing - Bug 1072554 - Remove update directories when running xpcshell tests. r=spohl 
Mac v2 signing - Bug 1072716 - Update B2G removed-files.in for mac v2 signing. r=mwu 
Mac v2 signing - Bug 1072722 - With older clients the new maintenance service checks the updated directory's updater.exe when verifying the updater.exe for replace requests. r=spohl 
Mac v2 signing - Bug 1074000 - Update xpcshell-tests for new OSX v2 bundle structure to run on comm-central. r=jmaher 
Mac v2 signing - Bug 1074044 - Force add instead of patch the removed-files file. r=bhearsum 
Mac v2 signing - Bug 1075169 - Copy staged update when renaming fails and fix crash on staging failure. r=spohl, a=RyanVM over irc 
Mac v2 signing - Bug 1076370 - Fix Firefox.app l10n repacks for Mac v2 signing. r=jmaher 
Mac v2 signing - Bug 1075981 - Fix loading libnss3.dylib for weave. r=rnewman 
Bug 879717. Part 1. Delay entering HAVE_CURRENT_DATA state until a video frame has been stored in the image container. r=cpearce 
Bug 1077993 - make changes to clip-rule work. r=jwatt 
Bug 879717: Part 1-Delay entering HAVE_CURRENT_DATA state until a video frame has been stored in the image container. r=cpearce 
Bug 1080395 - Crash reporter is only partially localized on Mac OS X. r=ted 
Mac V2 signing - Bug 1077268 - Make app update tests use the GreBinD dir service key implemented in bug 1077099. r=spohl 
Bug 1078031 - get rid of renderMode. r=jwatt 
Bug 1067375 - Fix animateTransform in svg-as-image to invalidate properly. r=jwatt 
Bug 476526 - Add crashtest. 
Bug 1072528. Part 1: Remove plugin-related code. r=bsmedberg 
Bug 1072528. Part 2: Remove layers code. r=bas 
Bug 1067748. When a solid-color display item covers everything else in its layer, make it a ColorLayer. r=tn 
Bug 1073290. Don't render with displayports if we're not painting to the window. r=mattwoodrow 
Bug 1081185. Traverse rect edges when searching for w=0 crossings instead of taking diagonals. r=mattwoodrow 
so it's preferred to Graph()->GraphRate(). 
Bug 1052900. Restore -moz-win-exclude-glass handling to the way it worked before. r=tn 
Bug 1088498. Treat anchor offsets just less than 0.5 as 0.5 when rounding. r=seth 
Bug 1073252. Part 0: Add IsOpaque(SurfaceFormat). r=bas 
Bug 1073252. Part 1: Track opaqueness of gralloc TextureClient/Host. r=nical 
Bug 1073252. Part 2: Store opaque flag in LayerRenderState. r=nical 
Bug 1073252. Part 3: Use opaque flag from LayerRenderState in HWC. r=sotaro 
Bug 1073252. Part 4: Flip hasAlpha to isOpaque for consistency. r=mattwoodrow 
Bug 1073252. Part 5: Mark surfaces obtained from a buffer queue as opaque. r=sotaro 
Bug 1073252. Fix bustage in part 4, in a CLOSED TREE 
Bug 975757 - changes to transforms in patterns do not cause an update. r=jwatt 
Bug 1084672. Call NotifyDidPaint from the refresh driver to ensure it gets called regardless of whether OMTC is used or not. r=mattwoodrow 
Bug 1093399. Fire UpdateReadyStateForData every time we get new data. r=cpearce 
Bug 1083635. Part 1: Remove nsDisplayZoom::Paint since it's dead code. r=mattwoodrow 
Bug 1083635. Part 2: Inline nsDisplayList::PaintForFrame into PaintRoot. r=mattwoodrow 
Bug 1083635. Part 3: Flush displaylist dump before calling PaintRoot. r=mattwoodrow 
Bug 1083635. Part 4: Return LayerManager from nsDisplayList::PaintRoot, and dump its contents in nsLayoutUtils::PaintFrame. r=mattwoodrow 
Bug 1083635. Part 4.2: Create nsDOMWindowUtils::UpdateLayerTree and use it to flush layers in reftest content processes instead of doing a DRAW_WIDGET_LAYERS drawWindow. r=mattwoodrow 
Bug 1083635. Part 4.5: Avoid requesting PAINT_WIDGET_LAYERS if we're in a content process. r=mattwoodrow 
Bug 1083635. Part 5: ClientLayerManager::BeginTransactionWithTarget should assert if we're not going to take a snapshot. r=mattwoodrow 
Bug 1083635. Part 6: Rename viewport to scrollport in ScrollFrameHelper::ComputeFrameMetrics. r=mattwoodrow 
Bug 1080205. Part 1: Don't add clip rects to async-scrolled layers for root scrollframes, since the FrameMetrics to scroll those layers will be set on a ContainerLayer parent. r=tn 
Bug 1080205. Part 2: Add test. r=tn 
Bug 1085186. Don't readahead more than 30s of media data per resource on mobile/B2G. r=cpearce 
contains this, so let's just use that. 
Bug 1090936 - Make invalidation of rendering observers asynchronous. r=jwatt 
Bug 1083635. Part 7: Fix UpdateLayerTree to sync-decode images and flush pending notifications. r=mattwoodrow 
Bug 1093327 - Correct marker orientation of polygon and polylines. r=cam 
Bug 1096181. Recompute overflow areas of transformed elements when a parent element with perspective is scrolled. r=mattwoodrow 
Bug 1097437. Work around Quartz bug where corners of stroked rects don't get a solid color when they should. r=jrmuizel 
a larger opaque area for opaque background items. 
Windows installer only - Bug 1038560 - During uninstall use the precomplete file to determine files to uninstall instead of the uninstall.log. r=bbondy 

Windows installer only - Bug 1038560 - During uninstall use the precomplete file to determine files to uninstall instead of the uninstall.log. r=bbondy Windows installer only - Bug 1098677 - During install use the precomplete file to determine files to uninstall instead of the uninstall.log. r=bbondy 

Windows installer only - Bug 1098677 - During install use the precomplete file to determine files to uninstall instead of the uninstall.log. r=bbondy Windows installer only - Bug 1100604 - Replace LineFind with custom code in RemovePrecompleteEntries macro. r=bbondy 
Windows installer only - Bug 1098874 - Better handling when requiring a reboot. r=bbondy 

Windows installer only - Bug 1098874 - Better handling when requiring a reboot. r=bbondy Windows installer only - Bug 1100721 - During stub install use the precomplete file to determine files to uninstall instead of the uninstall.log. r=bbondy 

Windows installer only - Bug 1100721 - During stub install use the precomplete file to determine files to uninstall instead of the uninstall.log. r=bbondy Windows installer only - Bug 1098897 - Add Win 8.1 to install log. r=bbondy 

Windows installer only - Bug 1098897 - Add Win 8.1 to install log. r=bbondy Bug 771940 - '-bin' suffix no longer present on Linux and is no longer needed by app update tests. r=bbondy 
Windows installer only - Bug 1042558 - remove display of decimals from sizes. r=bbondy 
Bug 1061046. Part 1: Move GraphRate() to MediaStreamGraph so it's public. r=karlt 
Bug 1061046. Part 2: Remove MediaStreamGraphImpl::AudioSampleRate. r=karlt 
Bug 1061046. Part 3: Remove MediaEngineDefault's VIDEO_RATE and use the graph rate instead. r=karlt 
Bug 1061046. Part 4: Remove MediaEngineWebRTCVideo's USECS_PER_S video rate and use the graph rate instead. r=karlt 
Bug 1061046. Part 5: Remove MediaEngineTabVideoSource's USECS_PER_S video rate and use the graph rate instead. r=karlt 
Bug 1061046. Part 6: Remove MediaDecoderStateMachine's USECS_PER_S video rate and use the graph rate instead. r=karlt 
Bug 1061046. Part 7: Remove MediaPipeline's USECS_PER_S video rate and use the graph rate instead. r=karlt 
Bug 1061046. Part 8: Remove PeerConnectionMedia's USECS_PER_S video rate and use the GraphRate instead. r=karlt 
Bug 1061046. Part 9: Split SourceMediaStream::AddTrack into a method that adds an audio track and can resample, and a method that can add any track but always uses the graph rate. r=karlt 
Bug 1061046. Part 10: Remove TrackData::mOutputRate since it's always the graph rate. r=karlt 
Bug 1061046. Part 11: Remove callback rate parameters. r=karlt 
input audio block. 
Also removes some other unnecessary rate conversions. 
Bug 1061046. Part 14: Remove TimeToTicksRoundDown. r=karlt 
Bug 1061046. Part 15: Remove most usage of TimeToTicksRoundUp. r=karlt 
Bug 1061046. Part 16: Remove most usage of TicksToTimeRoundDown. r=karlt 
Bug 1061046. Part 17: Remove some unused TrackRate parameters. r=karlt 
Bug 1061046. Part 18: Simplify TrackUnionStream now that there are no rate mismatches. r=karlt 
Bug 1061046. Part 19: Eliminate TrackTicks in favour of StreamTime. r=karlt 
Bug 1061046. Part 20: Remove Track::mGraphRate since it's not needed. r=karlt 
Bug 1061046. Part 21: Remove rate parameter from StartNonRealtimeProcessing. r=karlt 
Bug 1061046. Part 22: test_mediaStreamAudioSourceNode no longer sees a 1-sample delay. r=karlt 
Bug 1099197 - Determine the bounds of unstroked polylines/polygons directly. r=jwatt 
Bug 1098266. Set correct visible rect on nsDisplayOpacity items that are shuffled around during preserve-3d display list wrapping. r=tn 
Bug 1098112 - Auto-updates broken on Linux when /tmp is mounted noexec. r=bbondy 
Bug 1109644. Track data-produced-so-far in the MediaEngineSources themselves, so if we push data into the MediaStream for any reason we can account for it. r=jesup 
Bug 1111222 - Use HasNonScalingStroke() more. r=dholbert 
Bug 1090535 - Add Windows Firewall whitelist entry. r=bbondy 

Bug 1090535 - Add Windows Firewall whitelist entry. r=bbondy Bug 1107508. Disable stylesheets in <use>-cloned subtrees for now. r=heycam 
Bug 1109644. Part 1: Create SourceMediaStream::GetEndOfAppendedData to reliably track how much data has been appended to a SourceMediaStream's track. r=jesup 
Bug 1109644. Part 2: Make MediaEngineWebRTCVideoSource use GetEndOfAppendedData instead of aLastEndTime. r=jesup 
Bug 1109644. Part 3: Make MediaEngineDefaultVideoSource use GetEndOfAppendedData instead of aLastEndTime. r=jesup 
Bug 1109644. Part 4: Make MediaEngineGonkVideoSource use GetEndOfAppendedData instead of aLastEndTime. r=jesup 
Bug 1109644. Part 5: Make MediaEngineTabVideoSource use GetEndOfAppendedData instead of aLastEndTime. r=jesup 
Bug 1109644. Part 6: Remove aLastEndTime parameter from NotifyPull. r=jesup 
Bug 1109644. Fix bustage on a CLOSED TREE 
Bug 1109860 - getBBox incorrect with bidirectional text character. r=heycam 
Bug 1111753. Don't restrict the dirty rect stored for display items for out-of-flow elements to their visual overflow areas. r=tn 
Bug 1119117. Don't clip nsDisplayOpacity items, since some of its descendants maybe should not be clipped with the nsDisplayOpacity clip. r=mattwoodrow 
Bug 1117514 - lines with zero length dashes are not rendered. r=jwatt 
Bug 1119117. Don't clip nsDisplayOpacity items, since some of its descendants maybe should not be clipped with the nsDisplayOpacity clip. r=mattwoodrow 
Bug 1099977. Part 1: Make gfxDwriteFont cache GetSpaceGlyph. r=jfkthame 
Bug 1099977. Part 1.5: Make gfxFT2FontBase::GetSpaceGlyph work for zero-sized fonts. r=jfkthame 
Bug 1099977. Part 2: Make gfxFont::Measure return an empty bounding-box when all glyphs are invisible. r=jfkthame 
Bug 1099977. Part 3: Skip creating nsDisplayText when all glyphs are invisible. r=jfkthame 
Verify Firewall service is running before adding Firewall exceptions - Bug 1120673 - Fx 35 installer crashes on XP x86 SP3 at the end (creating shortcuts) if the xp firewall service is stopped. r=bbondy, a=RyanVM to land directly on m-c 
Bug 1120071 - Replace custom drop shadow with feDropShadow. r=jaws 
Bug 1119698 - ensure image elements take pointer-events into account r=jwatt 
Bug 1123194 - make textPath work with a path that is display:none r=heycam 
Bug 1123779 - Remove some duplicated code. r=nbp 
Bug 1122761 - Avoid dividing by zero when calculating turbulence gradients. r=mstange 
Bug 1110337 -  Get bounds of image element using maths. r=jwatt 
Bug 1090934 - Get bounds of line element using maths. r=jwatt 
Bug 733764 - Make forceRedraw a no-op. r=jwatt 
Bug 1125201 - Make forceRedraw nothrow. r=bzbarsky 
Bug 1125562 - Mark some const attributes in webidl as such r=bzbarsky 
Bug 1125647 - make SVGAnimatedPreserveAspectRatio::ToDOMAnimatedPreserveAspectRatio just return the value. r=dholbert 
Bug 1125647 - mark some webidl attributes as [Pure]. r=bzbarsky 
Bug 1125647 - mark remaining SVGAnimatedXXX webidl attributes as [Constant]. r=dholbert, sr=bzbarsky 
bug 945192 - add x64 support to loaddlls.cpp and general cleanup. r=bbondy 
Bug 1128281 - Pass strokeOptions to getGeometryBounds. r=jwatt 
Bug 1129209 - Use a separate manifest for comctl32.dll. r=bbondy 
Bug 1129774. Remove unused nsBaseWidget::GetDeviceContext. r=jmathies 
Bug 1129774. Part 2: Remove nsBaseWidget::mContext. r=jmathies 
Bug 1129774. Part 3: Remove aContext parameter from BaseCreate and make it nonvirtual. r=jmathies 
Bug 1129774. Part 4: Remove aContext parameter from AttachViewToTopLevel. r=jmathies 
Bug 1129774. Part 5: Remove aContext parameter from nsIWidget::Create. r=jmathies 
Bug 1129774. Part 6: Remove aContext parameter from nsIWidget::CreateChild. r=jmathies 
Bug 1108887 - Backout part 3 and part 4 of bug 949435 (SVG iframe). r=birtles sr=bzbarsky 
Bug 1062253 - Exception calling callback: TypeError: this._backgroundUpdateCheckCodePing is not a function @ nsUpdateService.js:2380:8. r=spohl 
Bug 1131725 - Don't clear app.update.enabled and app.update.staging.enabled test user prefs in test_9999_cleanup.xul. r=spohl 
Bug 1108887 - Backout part 2 of bug 949435 (SVG iframe). r=bzbarsky 
Bug 1128005 - Re-enable unit_timermanager/consumerNotifications.js on Android. r=spohl 
Bug 1130888 - SVG text on path fill color does not render properly when preceded by RTL text. r=heycam 
Bug 1129854 - markers not oriented correctly for degenerate beziers. r=jwatt 
Bug 1134334 - Intermittent run-by-dir test_0900_deprecatedUpdateFormat_minor.xul | Checking currentPage.pageid equals checking in pageshow - got downloading, expected checking. r=spohl 
backout bug 1134334 - changeset 30d3e9381a50 
Bug 1044443 - release off main thread crash in nsXPCWrappedJS::Release() via nsUpdateProcessor::~nsUpdateProcessor(). r=bbondy 
Bug 1134131 r=jst 
Bug 1134334 - Intermittent run-by-dir test_0900_deprecatedUpdateFormat_minor.xul | Checking currentPage.pageid equals checking in pageshow - got downloading, expected checking. r=spohl 
Bug 1135319 - Fix several javascript warnings when for mochitest-chrome app update tests and cleanup style. r=spohl 
Bug 1135563 - Fix several javascript warnings for xpcshell app update tests and cleanup style. r=spohl 
Followup to Bug 1135563 - uiUnsupportedAlreadyNotified.js doesn't use httpd.js. r=me 
Bug 897031 - NS_ERROR_XPC_GS_RETURNED_FAILURE at nsBlocklistService.js:70 followed by ReferenceError: gApp is not defined, on green Windows debug mochitest runs. r=dtownsend 
Bug 1133521 - Enable BHR on Beta. r=vladan 
1. File renames for Bug 1136358 - Preprocessing and file includes make it difficult to debug app update tests. r=spohl 
2. Build changes for Bug 1136358 - Preprocessing and file includes make it difficult to debug app update tests. r=spohl, r=gps 
3. Main patch for Bug 1136358 - Preprocessing and file includes make it difficult to debug app update tests. r=spohl 
4. Use XPCOMUtils for Bug 1136358 - Preprocessing and file includes make it difficult to debug app update tests. r=spohl 
Bug 1137901 - Remove param from refreshUpdateStatus. r=spohl 
Bug 1137946 - Disable app update verbose mochitest-chrome logging. r=spohl 
Bug 1139697 - Fix add-ons manager warnings during app update tests. r=spohl 
Bug 1139765 - Non harmful app update xpcshell test error in the mock xmlhttprequest: undefined property 'QueryInterface'. r=spohl 
Bug 1139780 - Only app update xpcshell tests that need debugging should have debug output. r=spohl 
Bug 1140144 - Non harmful JavaScript Error: syntax error in xpcshell test remoteUpdateXML.js. r=spohl 
Bug 1140147 - Non harmful JavaScript error: resource://gre/modules/FileUtils.jsm, line 63: NS_ERROR_FAILURE in urlConstruction.js and downloadAndHashCheckMar.js xpcshell tests. r=spohl 
Bug 1135076 - Missing histograms in childPayloads. r=vladan 
Bug 1133521 - Enable BHR on Beta. r=vladan 
Bug 1137859 - stroke-dashoffset not respecting pathLength property. r=dholbert 
Bug 629682 - Add a better warning message for SVG-as-an-image external resources being blocked. r=dholbert 
Bug 1082249. Invalidate background-attachment:fixed table-part backgrounds when scrolled. r=mattwoodrow 
68s to 34s. 
Bug 1139709. Remove unused parameters from nsMathMLChar::GetMaxWidth. r=mats 
Bug 1139709. Address review comments. r=mats 
Bug 1131000. Implement nsMathMLSelectedFrame::ComputeSize to delegate size computation to the selected frame. r=mats 
Bug 1140080 - ensure we only create stop frames for gradients. r=dholbert 
Bug 1138065 - view elements as fragment identifiers should have normal target matching. r=dholbert 
Bug 1140672 - Remove app update file migration code for Windows. r=spohl 
Bug 1133521 - Enable BHR on Beta. r=vladan 
Bug 1134561 - Use of the namespace when checking the tag name if HTMLPictureElement and HTMLSourceElement. r=jst 
Also renames IsPositioned to IsAbsPosContainingBlock. 
Bug 1125767. CSS/SVG filters on an element should make it a containing block for fixed-pos and abs-pos descendants. r=mats 
Bug 1125767. Clarify aContextFrame parameter to nsStylePosition::IsFixedPosContainingBlock and nsStylePosition::HasTransform and make nsCSSFrameConstructor actually honor it. r=mats 
Bug 1141636 - call GetAnimatedLengthListValues with valid arguments. r=heycam 
Bug 1141636 - "Dubious loop test in nsSVGElement::GetAnimatedLengthListValues". r=cam f=longsonr 
Bug 69787. Implement MouseEvent.offsetX/Y. r=mats,smaug 
Bug 1141252. Don't mark the TablePainter display item as having background-attachment:fixed content if the background-attachment:fixed image will be painted by a dedicated nsDisplayTableCellBackground. r=mats 
Bug 1143972. Return 0,0 for offsetX/Y when the document has no presentation. r=mats 
Bug 1142716 - update/tests/TestAUSHelper.cpp CheckMsg leaks |inFP| and |mbuf|. r=bbondy 
Bug 1081450 - Copy maintenance service binary into its install directory on Windows 8 when the installed binary is different. r=bbondy 
Bug 1144934 - Add support for NSIS 3.0b1 in configure.in. r=gps 
Remove FHR from app update Bug 1121018 - FHR data migration: org.mozilla.update. r=spohl 
Bug 1137447 - New app update telemetry for patch type (complete or partial), extended error codes, and general cleanup. r=bbondy 
Bug 1148473 - Lower BHR threshold. r=vladan 
Bug 1149590 - Update/Upgrade for application dowloaded and installed, setting to ask/prompt for action ignored. r=spohl 
Bug 1149693 - Remove UpdaterHealthProvider.jsm from nsUpdateService.manifest. r=spohl 
Bug 1149363 - For xpcshell tests instead of throwing fail the test so it is easily understood what is going on. r=spohl 
Bug 1149516 - draw continuous stroke if stroke-dasharray = 0. r=jwatt 
AppConstants.jsm changes - Bug 1149334 - Remove preprocessing of nsUpdateService.js and use AppConstants.jsm. r=gavin.sharp 
changes for nsUpdateService.js - Bug 1149334 - Remove preprocessing of nsUpdateService.js and use AppConstants.jsm. r=spohl 
test for Bug 1149590 - Update/Upgrade for application dowloaded and installed, setting to ask/prompt for action ignored. r=spohl 
Bug 1138282 - Extend telemetry for large number of SERVICE_STILL_APPLYING_ON_FAILURE errors. r=bbondy 
Bug 1083653 - fix intermittent failure for marStageSuccessPartialSvc.js and marStageFailurePartialSvc.js. r=spohl 
Bug 1084258 - Language pack compatibility should be bound to Gecko branch, else undefined entity errors possible, r=glandium 
Bug 1047973 - pattern with patternUnits=objectBoundingBox and preserveAspectRatio=... meet stretches to the size of a shape. r=dholbert 
Bug 1151266 - When test registry key is missing, binaries are not signed, etc. don't run app update tests that require these conditions. r=spohl 
Bug 1138284 - Extend telemetry for large number of SERVICE_UPDATER_SIGN_ERROR errors. r=spohl 
Bug 920750 - Disable update xml certificate checks on Mac OS X. r=bbondy 

Bug 920750 - Disable update xml certificate checks on Mac OS X. r=bbondy 
Backed out 3 changesets (bug 1151266, bug 920750, bug 1138284) for Windows updater XPCshell test failures
Backed out changeset 816465912339 (bug 920750)Bug 1151266 - When test registry key is missing, binaries are not signed, etc. don't run app update tests that require these conditions. r=spohl 
Bug 920750 - Disable update xml certificate checks on Mac OS X. r=bbondy 

Bug 920750 - Disable update xml certificate checks on Mac OS X. r=bbondy Bug 1142982 - implement dominant-baseline=middle properly. r=heycam 
Bug 1149494 - Part 1. Add a listener directly to the unblocked input stream that reports the size of the first non-empty frame seen. r=pehrsons 
Bug 1151267 - app update telemetry for UPDATE_CANNOT_APPLY_* is reversed. r=spohl 
Bug 1152997 - Cleanup app update build to exclude android. r=glandium, r=mossop 
Bug 1154179 - Add FAIL_ON_WARNINGS to app update. r=glandium 
Bug 1154591 - getCanStageUpdates has incorrect checks for Windows and B2G. r=bbondy, r=spohl 
Bug 1154603 - useless defined(ANDROID) in nsUpdateDriver.cpp. r=spohl 
Followup to Bug 1152997 to fix SeaMonkey. r=bbondy 
Bug 958793 - Add 'use strict' to application update. r=spohl 
Bug 1155510 - app.update.service.errors and app.update.cancellations preferences are not correctly reset. r=spohl 
Revert behavior for gonk - Bug 1149276. r=spohl, a=RyanVM 
Backed out changeset fff4d44e1f41 
Relanding with correct bug id - Revert behavior for gonk - Bug 1154591. r=spohl, a=RyanVM 
Bug 1149276 - Use Assert instead of do_check_ functions in xpcshell tests. r=spohl 
backout of bug 1154603 due to breaking gonk in bug 1155704. r=backout, a=RyanVM, DONTBUILD 
Bug 1155896 - xpcshell log statements truncated due to equality checks for long strings. r=spohl 
Bug 1156446 - run marFileLockedStageFailureComplete_win.js sequentially to assist with diagnostics. r=spohl 
Bug 1155851 - Gonk incorrectly uses the app.update.service.enabled preference. r=marshall 
Bug 1157311 - Add telemetry alert_emails for UPDATE_* histograms. r=vdjeric 
Bug 1159118 - Minor code cleanup. r=spohl 
Bug 1158551 - calling valueAsString on a length with an invalid string should throw. r=dholbert 
Bug 1127481 - Run the updater from the install directory instead of copying it. r=spohl 
Bug 1157581 - Add releaseChannelCollection field to app update histograms. r=bsmedberg 
Bug 1159826 - ensure_copy_recursive() leaks directory streams. r=spohl 
Bug 923193 - Avoid calling GetDeltaToPerspectiveOrigin for elements that don't have perspective. r=heycam 
Bug 1160370 - Add tags to app update test manifests. r=spohl 
Bug 1096523 - Firefox Developer Edition bitmap looks awful with hiDPI (logo image). r=spohl 

Bug 1096523 - Firefox Developer Edition bitmap looks awful with hiDPI (logo image). r=spohl Bug 1161661 - Provide progress and state feedback via the stub installer taskbar icon. r=bbondy 

Bug 1161661 - Provide progress and state feedback via the stub installer taskbar icon. r=bbondy Bug 1162331 - refreshUpdateStatus incorrectly checks if the service should be used. r=spohl 

Back out 39fdaf04c690 (bug 1161661) for Windows nightly bustage building the stub installer Bug 1159793 - Report actual error code to telemetry instead of generic error 110. r=spohl 
Bug 821942 - Fix and enable marStageSuccessComplete.js, marAppInUseSuccessComplete.js, and marAppInUseStageSuccessComplete_unix.js xpcshell tests on B2G ICS Emulator opt. r=spohl 
Bug 821866 - Fix and enable marAppApplyUpdateSuccess.js and marAppApplyUpdateStageSuccess.js xpcshell tests on B2G ICS Emulator opt. r=spohl 
Bug 821942 - Add xpcshell reason codes to marVersionDowngrade.js and marWrongChannel.js. r=spohl 
Bug 1161661 - Provide progress and state feedback via the stub installer taskbar icon. r=bbondy 

Bug 1161661 - Provide progress and state feedback via the stub installer taskbar icon. r=bbondy Followup for Bug 1161661 - Provide progress and state feedback via the stub installer taskbar icon. r=spohl 

Followup for Bug 1161661 - Provide progress and state feedback via the stub installer taskbar icon. r=spohl Bug 1163875 - ensure opacity animation in patterns results in redraws r=jwatt 
Bug 1164560 - only run test_0017_check_staging_basic.xul on Windows due to timing out on other platforms while copying files. r=spohl 
Bug 1162796 - Firefox Developer Edition appname.bmp is too small. r=shorlander 
Bug 1165135 - distribution directory not removed on pave over install. r=spohl 
Bug 1165156 - Remove the removal of the java console extension that are seldom seen from the installer. r=spohl 
Bug 1165750 - metadata tag should be allowed in clipPath. r=jwatt 
Bug 1165061 - prevent test timeouts by not copying files when staging an update in mochitest-chrome tests. r=spohl 
Bug 1168009 - heap-use-after-free (ASAN build) in updater.cpp mstrtok. r=spohl 
Bug 1169729 - Add prefixes to the mkdtemp calls in runxpcshelltests.py so it is easy to determine the directories that cause 'INFO Failed to remove directory' messages. r=ted 
Bug 1168489 - Combine XPCSHELL_TESTS_MANIFESTS entries in moz.build. r=spohl 
Bug 1165061 - Fix Intermittent test_0102_background_restartNotification_staging.xul by not copying app files when staging for tests and enable the tests for Linux and Mac. r=spohl 
Bug 1168720 - Remove use of test env var MOZ_NO_REPLACE_FALLBACK and associated tests that are covered by other tests. r=spohl 
Bug 1171792 - An update is attempted from an update notification when it is not possible to update. r=spohl 
Bug 1150284. Disable offsetX/offsetY properties in FxOS/Fennec. r=smaug 
Bug 1143575. #include nsDebug.h in YCbCrImageDataSerializer.cpp for NS_WARN_IF. r=nical 
require some files to include both Theora headers and LayerTypes.h. 
Bug 1143575. Avoid use of COMPARE macro which can clash with Android headers. r=bent 
Bug 1143575. Add RefBase #include to stagefright stubs. r=cpearce 
Bug 1143575. Add some #includes to avoid unified-build issues on Windows. r=nical 
Bug 1143575. Add some #includes to avoid more unified-build issues on Windows. r=nical 
Bug 1143575. test_HaveMetadataUnbufferedSeek should not wait for canplay since preload='metadata' elements may not fire canplay. r=cpearce 
    at /home/roc/mozilla-inbound/gfx/layers/opengl/CompositorOGL.cpp:177 
what the ideal solution would be. 
Bug 1143575. Remove unused Image::IsSentToCompositor tracking. r=nical 
Bug 1143575. Remove unused CompositionNotifySink. r=nical 
Bug 1143575. Remove unused VideoFrameContainer::Reset. r=nical 
Bug 1143575. Rename mAsyncTransactionTrackeres to mAsyncTransactionTrackers. r=nical 
Bug 1143575. Remove unused ImageContainer::ResetPaintCount. r=nical 
Bug 1143575. Remove unused VideoFrameContainer::ClearCurrentFrame aResetSize parameter. r=nical 
Bug 1143575. Remove unused ReturnReleaseFence. r=nical 
Bug 1143575. LayerManagerComposite can't get END_NO_COMPOSITE. r=mattwoodrow 
Bug 1143575. Remove unused AttachAsyncCompositable overload. r=nical 
Bug 1143575. Remove unused CompositableClient::OnTransaction. r=nical 
This simplifies code slightly. 
Bug 1143575. Convert SetCurrentImage(nullptr) callers to call ClearAllImages instead. r=nical 
Bug 1143575. Fix indent. r=cpearce 
Bug 1143575. Remove Theora-only duplicate frame optimization. r=cpearce 
Bug 1143575. Rename AdvanceFrame to UpdateRenderedVideoFrames. r=cpearce 
time that's more consistent with the audio clock. 
Bug 1143575. ScheduleStateMachine when the playback rate changes, so we can update the rendered frame queue. r=cpearce 
Bug 1143575. Rename clock_time to clockTime. r=cpearce 
pulling any of them off the queue. 
Bug 1143575. Remove unused MediaQueue::Empty. r=cpearce 
picture rect. 
Bug 1143575. Rename ImageBridgeChild's AutoRemoteTextures to AutoRemoveTexturesFromImageBridge to avoid clashes with later work. r=nical 
Bug 1143575. Fix typo in ImageContainer comment. r=nical 
Bug 1143575. Replace ImageContainer Lock methods with simplified AutoLockImage. r=nical 
Bug 1143575. Extend IPDL OpUseTexture to support multiple timestamped images. r=nical 
separate non-virtual method just before we call BeginFrame. 
Bug 1143575. Implement ImageHost support for multiple timed images. r=nical 
Bug 1143575. Ensure we schedule another composite if ImageHost has pending images. r=nical 
state has changed. 
Bug 1143575. Remove ImageClientBridge::Updated. r=nical 
Bug 1143575. ImageClient::UpdateImage should not return false when there's no image, because recreating the ImageClient won't help. r=nical 
Bug 1143575. Fix some code formatting. r=nical 
Bug 1143575. Factor out AsyncTransactionWaiter from AsyncTransactionTracker so we'll be able to wait for multiple AsyncTransactionTrackers. r=nical,sotaro 
Bug 1143575. Make ImageClientSingle handle multiple textures. r=nical 
ImageContainerChild. 
Bug 1143575. Make LayerTreeInvalidation invalidate when an ImageLayerComposite's current frame has changed. r=mattwoodrow 
However, that code was already broken for BasicCompositor. 
has changed. 
Bug 1143575. Pass a list of timestamped images to ImageContainer::SetCurrentImages. r=nical 
Bug 1143575. Don't report negative frame delays. r=cpearce 
Bug 1143575. Implement ImageContainer::GetPaintDelay. r=nical 
nothing, so remove the parameter and remove all callers which pass true. 
should call. 
Bug 1143575. Implement ImageContainer::GetDroppedCount. r=nical 
Bug 1143575. Reimplement ImageContainer::GetPaintCount to be composition-aware. r=nical 
Bug 1143575. Let callers of ImageContainer::SetCurrentImages specify frame IDs. r=nical 
Bug 1143575. Let ImageContainer::SetCurrentImages accept multiple images. r=nical 
Bug 1143575. Introduce VideoFrameContainer::ClearCurrentFrame(size), and don't increment mFrameID when clearing frames. r=cpearce 
Bug 1143575. Introduce VideoFrameContainer::SetCurrentFrames. r=cpearce 
Bug 1143575. Add MediaQueue::GetFirstElements. r=cpearce 
Bug 1143575. Add frame IDs to VideoData. r=cpearce 
Bug 1143575. Refactor UpdateRenderedVideoFrames to support pushing multiple frames from the VideoQueue to the ImageContainer. r=cpearce 
Bug 1143575. Push all available frames to the compositor. r=cpearce 
Bug 1143575. Add a bias value to ImageHost to avoid unpredictable results when image times and compositor times are closely aligned. r=nical 
Bug 1143575. Fix build by ensuring ColorLayerComposite uses namespace gfx. r=nical 
Bug 1143575. Enable passing test. r=cpearce 
Bug 1143575. Add assertion for diagnostic purposes. r=nical 
CLOSED TREE 
Bug 1181303. Set composition time earlier so that computing invalid regions works properly. r=mattwoodrow 
Bug 1167786. Restrict bounds of drawn region to the nsShmImage bounds to avoid X errors. r=karlt 
Bug 1171518 - cleanup maintenance service logging. r=bbondy 
Bug 1114554 - Patch 9 - Fixed crash in b2g-desktop tests. r=nsm 
Bug 1172239. Expand height change hint to its components. r=heycam 
Bug 1172239. Make vertically-resizing scrollframes reflow their percent-height descendants if necessary, and remove nsChangeHint_NeedDirtyReflow for height changes. r=bz 
Bug 1172239. Add NS_FRAME_DESCENDANT_INTRINSIC_ISIZE_DEPENDS_ON_BSIZE. r=bz 
Bug 1172239. Use nsChangeHint_UpdateComputedBSize to only dirty intrinsic sizes when necessary. r=bz 
Bug 1172239. Ensure nested overflow:auto elements are tested. r=bz 
Bug 1151485 - Disable app update xml certificate checks on Linux now that there is mar signing on Linux. r=bbondy 
Bug 1183954 - Fix Notification.data structured cloning on workers. r=robertbindar,mccr8
Bug 1184842. Remove layout.frames.force_resizability pref. r=mats 
Bug 1184842. Remove frameset mVisibilityOverride since it's always false now. r=mats 
Bug 1184842. Change nsAttrAndChildArray::SetAndTakeAttr to nsAttrAndChildArray::SetAndSwapAttr. r=peterv 
Bug 1184842. Make SetAttrAndNotify use the real old value instead of aOldValue when possible. r=bz 
Bug 1184842. Add aOldValue parameter to nsNodeUtils::AttributeChanged. r=peterv 
Bug 1184842. Pass aOldValue to all mutation observers. r=peterv 
We will pass the preparsed value into AttributeWillChange. 
Bug 1184842. Pass preparsed attribute values to nsNodeUtils::AttributeWillChange. r=peterv 
Bug 1184842. Add aNewValue to nsIMutationObserver::AttributeWillChange. r=peterv 
Bug 1184842. Preparse class attribute values in Element::BeforeSetAttr. r=peterv 
Bug 1184842. Route aOldValue/aNewValue to AttributeData. r=heycam 
Bug 1184842. Restyling should consider only the classes that have changed. r=heycam 
Don't return early for an mWidth change either. 
Bug 1185061 - added dom.ipc.processCount to DEFAULT_ENVIROMENT_PREFS in TelemetryEnviroment.jsm r=vladan 
Bug 1185061 - Add dom.ipc.processCount to default variables in TelemetryEnvironment.jsm. r=vladan 
Bug 1177861 - remove remaining unused declarations and cleanup update staging. r=spohl 
Bug 1194619 - fix comment r=dholbert 
Bug 1179288. Make position:fixed induce a stacking context. r=heycam 
Bug 1059519. Relax assertion. r=mstange 
Bug 862173 - don't verify mar file hash when using mar signing to verify the mar file (lessens main thread I/O). r=spohl 
Bug 1196301 - Prefer install.rdf over manifest.json. r=Mossop 
Bug 1192811 - Enable TelemetryEnvironment collecting preferences without triggering subsession splits. r=gfritzsche 
Bug 1196219 - Remove RECORD_NOTIFY_ONLY and adjust logic related to it. r=gfritzsche 
Bug 1195962 - Replace #ifdef with AppConstants.jsm in UITour.jsm. r=Gijs 
Bug 1171382 - Add logic to not render empty keyed histograms. r=gfritzsche 
the stack. 
Bug 1199534. Only set TabChild canvas background for the background of root PresContexts. r=mats 
Bug 1200099. Ensure mSameOriginMedia is propagated to DecodedStream even if we don't get a watch notification. r=jwwang 
Bug 1200099. Add a test that captured cross-origin video streams render black. r=jwwang 
Bug 1200099. Relax test assumptions to accommodate streams not blocking. r=jwwang 
Bug 1200099. Stop using a distinct mPlaybackStream to play a media stream through an HTMLMediaElement. r=jwwang 
Bug 1191825 - Don't log errors if we can't find an aborted-session ping on disk. r=gfritzsche 
versa. 
Blocking on the source stream will be treated as silence/no video change. 
mPipeStream to block. 
There's no reason why WebAudio should block an incoming MediaStream. 
Bug 1201393. Remove irrelevant ProcessedMediaStream for nsSpeechTask. r=eitan 
Bug 1201393. Create an iterator for MediaStreamGraph to iterate over all its streams. r=karlt 
we have non-AudioNode streams being suspended. 
We don't need AudioNodes to block each other anymore. 
Bug 1202317. Bail out early if RequestRect is going to do redundant work. r=mstange 
Bug 1202317. Support PodEqual over fixed-length arrays. r=Waldo 
Bug 1202317. Optimize away identity ColorMatrix nodes. r=mstange 
Bug 1202317. Optimize feComposite type="arithmetic" with all-zero k values to transparent black. r=mstange 
Bug 1191293. Remove harmless assertion that is triggered by GTK3. r=masayuki 
Bug 1175492 - unpref transform-origin percentage handling for SVG elements r=jwatt 
Bug 1204841. Reenable offsetX/Y on mobile now that site issues have been fixed. r=smaug 
Bug 1189506. Give AudioContext non-owning pointers to all its AudioNodes. r=karl 
Bug 1189506. Put AudioContext::State inline. r=karl 
Bug 1189506. Pass AudioContext to AudioNodeStream::Create. r=karlt 
AudioContext suspend/resume. 
Bug 1189506. Make suspending/resuming streams more reusable. r=padenot 
They should just run in realtime since we're getting rid of blocking. 
Bug 1189506. Convert ChangeExplicitBlockerCount to MediaStream::Suspend/Resume. r=padenot 
Bug 1189506. Remove usage of FLAG_BLOCK_OUTPUT from MediaManager. r=jesup 
Bug 1189506. Remove aFlags parameter from AllocateInputPort. r=karlt 
Bug 1189506. Remove MediaInputPort::mFlags. r=karlt 
Bug 1189506. Simplify blocking code now that stream blocking decision are always independent of other streams. r=karlt 
Bug 1189506. Remove MediaStream::mBlockInThisPhase. r=karlt 
Bug 1189506. Remove mExplicitBlockerCount and related code since it's always zero now. r=karlt 
Bug 1189506. Simplify blocking calculations based on the observation that once a stream starts blocking in a given processing interval, it must stay blocked. r=karlt 
Bug 1189506. Non-SourceMediaStreams in processing can only block by being finished. r=karlt 
Bug 1189506. Fix multi-track MediaStream audio output. r=karlt 
Bug 1189506. Simplify PlayAudio based on the fact that track time units == stream time units. r=karlt 
Bug 1189506. Remove misleading comment. r=karlt 
Bug 1189506. Remove unused MediaStreamGraph::GetBufferedTicks. r=karlt 
Bug 1189506. Replace MediaStream::mBlocked with simpler MediaStream::mStartBlocking. r=karlt 
Bug 1189506. Remove no-longer-used TimeVarying.h. r=karlt 
Bug 1189506. Inline RecomputeBlocking. r=karlt 
Bug 1189506. Inline ComputeStreamBlockTime. r=karlt 
Bug 1189506. Remove unused NotifyConsumptionChanged. r=karlt 
Bug 1189506. Remove unused mFlushSourcesNow/mFlushSourcesOnNextIteration. r=karlt 
Bug 1189506. Factor out code from OneIteration into helper methods. r=karlt 
Bug 1189506. Move setting of mStateComputedTime to OneIteration so it's near setting mProcessedTime. r=karlt 
Bug 1189506. No need to pass aNextCurrentTime to UpdateCurrentTimeForStreams. r=karlt 
Bug 1189506. Inline StreamNotifyOutput/StreamNotifyFinished. r=karlt 
Bug 1189506. Rename StreamTimeToGraphTime/GraphTimeToStreamTime to ...WithBlocking. r=karlt 
Bug 1189506. Set mStartBlocking in UpdateCurrentTimeForStreams to indicate that blocking time has been processed. r=karlt 
Bug 1189506. Create StreamTimeToGraphTime/GraphTimeToStreamTime that don't take account of blocking, and call them from AudioNodeStream. r=karlt 
rendered then, not delayed until the end of blocking. 
Bug 1189506. Call StreamTimeToGraphTime in MediaStreamGraphImpl::UpdateCurrentTimeForStreams, since we know blocking has been taken account of already there. r=karlt 
Bug 1189506. Call GraphTimeToStreamTime in DecodedStreamGraphListener::NotifyOutput, since there's no blocking pending there. r=karlt 
Bug 1189506. Call GraphTimeToStreamTime in AudioNodeExternalInputStream. r=karlt 
Bug 1189506. Call GraphTimeToStreamTime in ExtractPendingInput since we know no blocking time has been determined yet. r=karlt 
Bug 1189506. Use mProcessedTime in some places instead of passing aFrom. r=karlt 
Bug 1189506. Use mStateComputedTime in some places instead of passing aTo. r=karlt 
Bug 1189506. Use mProcessedTime/mStateComputedTime in ProduceDataForStreamsBlockByBlock. karlt 
Bug 1189506. Use GraphTimeToStreamTime in PrepareUpdatesToMainThreadState. r=karlt 
Bug 1189506. Relax assertions a bit. karlt 
Bug 1189506. Make PlayVideo use GraphTimeToStreamTime/StreamTimeToGraphTime and remove StreamTimeToGraphTimeWithBlocking. r=karlt 
Bug 1189506. Make PlayAudio use GraphTimeToStreamTime. r=karlt 
start/stop times just fine. 
Bug 1188423 - removed all references to loadHistogram, READ_SAVED_PING_SUCCESS, addPingPendingFromFile along with their tests. r=gfritzsche 
Bug 1204061 - check return values from some methods r=dholbert 
Bug 790260 - Crashtest. 
Bug 1195152. Pass correct YUV type when converting shared YUV image to RGB. r=nical 
Bug 1195152. Add test. r=jya 
Bug 1213938. Fix test to avoid triggering before any video frames are available. r=jya 
Bug 1215484 - make SVG in an image context ignore author colours to match how we treat raster images, and in a non-image context respect them to match html. f=dao, r=roc 
Bug 978679. Convert GDK touch event coordinates properly. r=karlt 
that end in a hard line break. 
Bug 264412. Implement HTMLElement.innerText. r=smaug,mats 
Revert incorrectly committed changes ab657569f554 and a396f4262479 
Bug 1215699. Ensure that AudioGraphDriver uses the MediaStreamGraph's AudioChannel. r=padenot 
Bug 1209994. Take block-wrapper path only for blocks that are wrappers. r=bz 
Bug 1215699. Ensure that AudioGraphDriver uses the MediaStreamGraph's AudioChannel. r=padenot 
Bug 1214506. Ensure OggReader sets proper IDs for its tracks. r=jya 
that end in a hard line break. 
Bug 264412. Implement HTMLElement.innerText. r=smaug,mats 
Olli's testcase. 
Bug 803562 - force -moz-appearance: none on foreignObject elements. r=dbaron 
Bug 1209994. Fix a couple of issues that make the percentage-height-calculation.html test unreliable. r=bz 
Bug 1209994. Take block-wrapper path only for blocks that are wrappers. r=bz 
Bug 1166805 part 1 - refactor common tests for whether an animated list mirrors the base version of the list into methods. r=dholbert 
Bug 1166805 part 2 - Call SetCapacity before calling DOMSVGXXXList::MaybeInsertNullInAnimValListAt, to prevent fallible InsertElementAt calls from failing r=dholbert 
mFrameIDsNotYetComposited instead of O(N^2). 
Bug 1164039 - moved TelemetryTimestamps.jsm and tests to toolkit/componets/telemetry/. r=dexter 
Bug 1190801 - Moved loadSessionData and split saveSessionData from TelemetrySession to TelemetryStorage. r=gfritzsche 
Bug 1222812 - add a null check in case there is no old style. r=dholbert 
Bug 1213582. Skip display items in ProcessDisplayItems if we only need items for event regions, and this item isn't one and doesn't have descendants. r=mattwoodrow 
Bug 1213582. Don't flatten away opacity:0 containers. r=mattwoodrow 
Bug 1198663. Skip null Images in VideoSink::RenderVideoFrames instead of treating them as valid. r=jwwang 
Bug 1222092. Don't let sFocusedIMEWidget keep an nsIWidget alive during shutdown. r=masayuki 
Bug 1222042 - Dont try to show ping data in about:telemetry if Telemetry is disabled. r=dexter 
Bug 1226293. innerText for non-display:none elements with display:none ancestors should use textContent. r=bz 
the parent, destroying it; IPDL sends a message to destroy the child. 
Bug 1215265. Add some missing MOZ_COUNT_CTOR/DTORs. r=nical 
Bug 1223696. Don't destroy VideoFrameContainer when we reach MetadataLoaded without a video track. r=jwwang 
Bug 1226293. Followup: add SVG tests. r=bz 
Bug 1209341 - allow loading unsigned restartless add-ons at runtime. r=mossop 
Bug 1195353 - leave extension proxy files that point to invalid manifests r=mossop 
Bug 1223696. Don't destroy VideoFrameContainer when we reach MetadataLoaded without a video track. r=jwwang 
Bug 1198663. Tolerate null Image in Android NPAPI plugins. r=snorp 
Bug 1224976. Recover from singular-matrix cairo errors. r=mattwoodrow 
Bug 1221043. Revert to including trailing whitespace for accessibility APIs. r=marcoz,mats 
Bug 1145195 part 1 - Create a helper function for PrependLocalTransformsTo in SVGContentUtils r=dholbert 
bug 1228792 - remove use of array comprehensions r=mossop 
bug 1228792 - remove addons manager from eslint ignore r=mossop 
bug 1228792 - use standard version of catch r=mossop 
bug 1228792 - use function* for generators r=mossop 
bug 1228792 - remove leading 0, be explicit about octals r=mossop 
Bug 927228 - Allow ImageLayerization for images using 'contain' and 'cover'. r=mstange 
Bug 1230861 - remove add-ons manager from ESLint ignore file. r=mossop 
Bug 1145195 part 2 - SVGFragmentIdentifier::ProcessSVGViewSpec() shouldn't actually let #svgView() affect attribute values r=dholbert 
Bug 1231003 - clarify in variable names and comments that temporary add-ons can be files or dirs r=mossop 
Bug 1209344 - remove debug button from about:addons r=mossop 
Bug 1209344 - link to about:debugging from about:addons r=mossop 
