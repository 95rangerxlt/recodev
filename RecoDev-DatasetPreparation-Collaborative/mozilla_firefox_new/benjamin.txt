smedbergs.us

Bug 374813 - Replace rsync with scp and tar with zip, to work around Windows oddities, r=luser 
Bustage fix for luser. 
Bug 375415 - MAR generation broken when paths in the MAR contain spaces, r=cf 
[OS/2] Bug 373444: fix build break in debug builds, r=benjamin 
Bug 359716 Upgrade LDAP C-SDK to 6.0.x on trunk for Address Book. r=benjamin (build config),sr=mscott 
Bug 339898 - Unresolved text symbol PR_InternalNow when using the standalone glue, r=timeless 
Bug 374921 - link error in gfxSurfaceRefCountTest when libxul is enabled, r=roc 
Fix thebes tests when --enable-static, r=luser 
Bug 372151: remove non-cairo gfx toolkit options from configure.in (and set cairo-os2 as default for OS/2), r=benjamin 
Bug 371253 - "make install" doesn't work with flat chrome (by design), so add an error to that effect, r=luser 
Testing landing of bug 359716 again to see if we've fixed the bustages. It may stay if we have. r=benjamin (build config),sr=mscott 
Bug 376658 - Enable xinerama by default. Patch by Sylvain Pasche <sylvain.pasche@gmail.com>, r=me+roc 
Bug 375219 bustage fix. 
And fix bashism :-( 
Bustage fix for cygwin environment with non-cygwin python, from bug 361583 
Fix libxul bustage from bug 376658, patch by sylvain.pasche, r=me 
Bug 377410 - remove mfcembed, r=dougt 
From bug 372831 - don't build the test program when libxul is enabled, for linkage reasons 
Bug 377308 Change SeaMonkey's uses of preprocessor.pl to Preprocessor.py. r=benjamin,sr=Neil 
Bug 370025 - Update libbz2 to revision 1.0.4. r=benjamin, sr=darin. 
Bug 377409 - Create toplevel targets to create packages (tarballs) and installers, r=preed 
Bug 377099 - Remove 1.5 searchplugins on upgrade, r=thunder 

Bug 377099 - Remove 1.5 searchplugins on upgrade, r=thunder Bug 375710 - Firefox 2.0.0.3 wants to downgrade to 2.0.0.2, patch by Masatoshi Kimura (:emk), reworked by me a bit, r=rstrong 
Bug 375861 - nsAppshellService shouldn't default to a hiddenWindow url that might not existfirst-r=benjamin@smedbergs.us (Benjamin Smedberg)second-r=neil@httl.net (Neil Rashbrook) 
Bug 376636 - Building with gcc 4.3 and -pendatic fails due to extra semicolons, patch by Art Haas <ahaas@airmail.net>, rs=me 
Bug 376041 - Link browser components against the CRT statically (on Windows), to solve CRT embedding issues, r=luser 
Bug 375449 - NS_InvokeByIndex not exported from xpcom, only from xpcom_core, r=dbaron 
Followup from bug 375449, #define renaming doesn't work with assembly files. 
Bug 378627 - Allow firefox --enable-libxul to be packaged like a static build, r=luser 

Bug 378627 - Allow firefox --enable-libxul to be packaged like a static build, r=luser Followup from bug 375449. Fix the bustage for Solaris SPARC/x86.r=benjamin. 
Bug 368206 - Breakpad client for Mac OS X, patch by dcamp, r=luser+mento 
Bug 368206 - enable breakpad by default on mac-intel (it currently doesn't build on mac-ppc, but it will in the future), r=luser 
Fix allmakefiles from bug 378627 

Fix allmakefiles from bug 378627 Bug 381611 - Client pull script to checkout Tamarin/NSPR/NSS into the right dirs, and keep everything updated, r=luser 
Bug 378785 - Crash on launch for nightly builds in Growl code (take 2)r=benjamin@smedbergs.us (Benjamin Smedberg)p=comrade693+bmo@gmail.com (Shawn Wilsher) 
Bug 377088 - Add additional query string when the user explicitly checks for updates, to make server-side of automatic update checks possible, r=ssptizer+morgamic 
Bug 379818 Stop building xpcom-obsolete for suiterunner (and sroaming) r=benjamin,r/sr=Neil 
Bug 319934 - Prevent shutdown crashes by having XMLHttpRequest objects hold the layout module alive, r+sr=dbaron 
Bug 377347 - Disable the obsolete string API (from the Mozilla 1.4 SDK), r=darin sr=dbaron 
Bug 380795 Unify Palm Sync build component locations r=benjamin,sr=bienvenu 
Attempt to fix unit-test orange: the two tests differ only by the width of a scrollbar, so attempt to make the ref the same height as the test, r=dbaron 
Marking this reftest random until we can figure out the scrollbar issue. 
Add bug number for test Benjamin marked as random yesterday. 
Bug 380895: Clean up missing or unnecessary files in packages-static, r=benjamin 
Fix url-classifier+libxul warnings and test errors, r=luser (no bug) 
Fix the bustage for bug 381247 on Solaris. Use the POSIX macro S_ISDIR.r=benjamin. 
Bug 381501 - Small screen resolutions mess up reftests, and backout by randomizer from the other day, r=dbaron 
Bug 363263 - OS_TARGET set incorrectly in cross-compiled builds, patch by Mike Hommey, r=me 
Bug 337492 - Fix destructor race condition in proxy events, initial patch by Alex Fritze, with additional comments by me, r=me+dbaron 
Bug 381315 - nsINIParser crashes when linked against a static CRT (opera profile migrator), r=dougt 
Bustage followup from bug 381315 
Bug 372453 - XULRunner apps should quit if the hidden window is not useful and no other windows are openr=benjamin@smedbergs.us (Benjamin Smedberg)r=joshmoz@gmail.com (Josh Aas) 
Bug 381099 - Turn on breakpad by default for win+mac builds, r=luser 
Fix the path to launch the crashreporter on mac, which luser broke a couple days ago. Early checkin from bug 358082 
Bug 358082 - Improve Mac Crashreporter UI, patch by dcamp, r=luser+me 
Backout bug 377950 due to startup crashes. 
Bug 378585 Thunderbird/Composer/Sunbird shouldn't need to build in xpfe/components/bookmarks/public. r=mvl,benjamin,sr=mscott 
Bug 383603 - Disable the crash-reporter hook entirely if MOZ_CRASHREPORTER_DISABLE is set, r=luser 
Fix unit-test bustage. 
Fix GCC build error. b=363592 r=mkaply sr=benjamin 
Bug 345517 - Enable libxul by default (again)... this will probably cause perf problems for the argo-vm builds... that is acceptable, because we're moving to the fx-linux-tbox builds, where libxul is known to improve performance 
Bug 384179 - crash on startup with upgrade builds - remove old files that are no longer relevant with libxul, r=luser 

Bug 384179 - crash on startup with upgrade builds - remove old files that are no longer relevant with libxul, r=luser Bug 253926  Print to file doesn't cancel properlyPatch by leon.sha@sun.comdarin.moz: review+benjamin: superreview+ 
Bug 384269 - Mac perf regression from enabling libxul, r=luser 

Bug 384269 - Mac perf regression from enabling libxul, r=luser Bug 177150 - Some mozilla-config.h defines require additional cflags for embedders. Patch by <mook.moz+mozbz@gmail.com>. r=benjamin, sr=dbaron. 
Bug 377344 - Configure should check for PR_STATIC_ASSERT support when building with system NSPR. Patch by Mook <mook.moz+mozbz@gmail.com>, r=benjamin. 
Bug 376844 - Single quotes in URLs should be escaped. Patch by Wladimir Palant <trev.moz@adblockplus.org>. r=benjamin, sr=cbiesinger. 
Bug 338830, Multiple license blocks in safe browsing JS components, Patch by RÃ©gis Caspar, r=benjamin 
Bug 375921, configure should throw error when APNG not found, Patch by Andrew Smith, r=dbaron, r=benjamin 
Bug 384513 - make the visibility pragma checks aware of mach-o and not just ELF, and re-enable libxul by default, r=mento+shebs 
Bug 384925 - Allow PFS to return hashes for plugin XPIs, r=doron 
r=benjamin 
r=benjamin 
Bug 385189 - mac builds without libxul failing to compile due to macmorefiles, r=mento 
Bug 351955 - profileCreationExplanation_4.text in createProfileWizard.dtd needs a Linux/Gnome version. Patch by Marek A. Stepien <marcoos+bmo@marcoos.org>. r=benjamin. 
Bug 385692 - Wrap the ptrace header used by breakpad, patch by Stephen Moehle <smoehle@comcast.net>, r=me 
Bug 383167 - Need buildid in an external file, r=luser sr=jst 
Fix Windows fileversion fu from bug 383167 
Re-add milestone.pl to make configure.in MOZILLA_VERSION happy :-( 
Fix mac builddate-unifying logic from bug 383167 
Revert all of bug 383167 changes because they're not enough... going to try again later. 
Bug 383167 trying again, reviews by luser and biesi, sr=jst 
More from bug 383167 - package the platform.ini file 
Reverting bug 383167 again for linux test bustage :-( 
Bug 314846 - exthandler doesn't remove : colon from mac file names (Random filename after downloading).  Patch by Edward Lee <edilee@gmail.com>.  r=benjamin, sr=cbiesinger 
Fixing bug 383769. nsLocalFile::EnsureShortPath should check if GetShortPathNameW failed. r=benjamin@smedbergs.us 
r=benjamin 
From bug 383167, package up the xpcom/system XPTs correctly, r=luser 
Bug 384174 - Remove the last vestiges of talkback, r=robstrong 
Bug 383167 try #3 - need buildid in an external file, r=luser sr=jst with additional parts r=biesi 
Bug 384868, Wrong ifdef for rdf building, Patch by romaxa, r=benjamin 
Bug 384873 - Broken building without XUL but with RDF.  Patch by romaxa <romaxa@gmail.com>.  r=benjamin 
Trying to fix the mac orange, from bug 321024. a=robcee for immediate commit pending tony's review 
Bug 386445 - mac build stops with "multiple definitions of symbol nsINIParser::GetSrings", also changes to building mac dylibs with -single_module, r=luser,jag 
Bug 386281: "Type Manifest File:" spewed to console on launch. r=dougt, sr=benjamin 
Bug 386283: startup warning at nsChromeRegistry.cpp, line 1249. r=benjamin, sr=biesi 
Bug 386002, Move tryToClose calls on shutdown, r=benjamin 
Bug 388190: XPCOMUtils spews uuids when registering components. r=sayrer, sr=benjamin 
Bug 386002, Move tryToClose calls on shutdown, r=benjamin 
Bug 388189: console spewage: "(all right -- a generic module!)". r=dougt, sr=benjamin 
Bug 306907 - Build libsqlite as a standard name separate shared library.  Patch by Michael Wu <michael.wu@mozilla.com>, Robert Relyea <rrelyea@redhat.com>, Ryan VanderMeulen <ryanvm@gmail.com>, and Shawn Wilsher <me@shawnwilsher.com>.  r=benjamin 
Bug 93789, Support Xsmp, r=benjamin 
Bug 368854 - Use new compiler/linker flags added in VC8 to improve security, r=luser 
Bug 333907, XRE quits too abruptly when Windows is shut down, r=benjamin 
[OS/2] Bug 348533: fix build break due to missing glue, removing support for old VAC plugins in libxul builds, r=benjamin 
Bug 388542 - --disable-libxul broken in thebes (in some circumstances), r=vlad 
Bug 306907 - Build libsqlite as a standard name separate shared library.  Patch by Michael Wu <michael.wu@mozilla.com>, Robert Relyea <rrelyea@redhat.com>, Ryan VanderMeulen <ryanvm@gmail.com>, and Shawn Wilsher <me@shawnwilsher.com>.  r=benjamin 
Bug 387935, Always build JS as C++, r=benjamin 
Tbird build bustage from bug 388542 and/or bug 373535, always link up cairo libs into a static build. 
Bug 386002, Move tryToClose calls on shutdown - add nsCloseAllWindows.js to removed-files.in, r=benjamin 
Try to fix ff-xr bustage from bug 383167 
Bug 349309 toolkit's extensions.js/OpenURL is app specific (GetMoreThemes/Extensions). p=Philip Chee <philip.chee@gmail.com>,r=Neil (suite part),r=benjamin,cbiesinger 
r=benjamin 
From bug 372831 - don't build the test program when libxul is enabled, for linkage reasons 
Bug 368206 - Breakpad client for Mac OS X, patch by dcamp, r=luser+mento 
Fix the path to launch the crashreporter on mac, which luser broke a couple days ago. Early checkin from bug 358082 
Bug 358082 - Improve Mac Crashreporter UI, patch by dcamp, r=luser+me 
Bug 383603 - Disable the crash-reporter hook entirely if MOZ_CRASHREPORTER_DISABLE is set, r=luser 
Bug 374813 - Replace rsync with scp and tar with zip, to work around Windows oddities, r=luser 
Fix unit-test bustage. 
r=wtc sr=benjamin 
r=benjamin 
Bug 389401 - Build horked using VC71 and make -jN, r=cls 
Bug 348437 - Remove nsKillAll.js. r=benjamin,sr=Neil 
Bug 348437 - Remove nsKillAll.js. r=benjamin,sr=Neil 
Bug 352762 - Allow PFS to launch an executable file to run plugins, instead of installing an XPI. This fixes Windows Vista permissions errors in XPInstall, r=doron 
Bug 388833 - Give the Firefox binary the ability to kinda-sorta launch XR apps (mainly meant for webrunner experimentation right now), r=luser 
Fix bustage, bug 388833 
Another attempt (tested on GCC now) at bustage fix. 
Fix MSVC7 build bustage from bug 389401, a=gavin for checkin to closed tree 
Bug 390190 - XULRunner loads system sqlite3 (and can then crash), patch by redfive (mozilla@jgaunt.com), r=me a=mconnor for landing into close M7 tree 
Bug 389671 - CVS remove old suite-style multi-profile code which is not used anymore, r=luser (NPOB except for removing build-system references to files/options) 
From bug 389671 - fix camino bustage by not-building code I'm pretty sure they don't use, r=kairo+mento (NPOFirefoxBuild) 
Bug 390113 mozilla should not be compiled with -fast on Solaris r=benjamin 
Bug 389872 - Install NSS headers to dist/include, r=luser and a=blocks approved bug 389673 
Bug 389673 - Fix "make install" to copy from dist/ and use packager.mk, rather than recurse the build tree, r=luser 
Make this a double-colon rule to fix unclobberable tinderbox. 
Bug 390361 - fix FF+XR builds to copy the XR directory to the "private" location by default, r=luser 
Bug 389793 Firefox build failed on OpenSolaris without --disable-mochitest r=benjamin a=dsicore 
Bug 386025 - Expose cycle-collection symbols, r=graydon 
Bug 389718 - Hide xptcall shared stubs, x86 and a matching x86-64 change, r=dbaron a=bz 
Bug 387132 followup - build the reftest-fast tool correctly with libxul, r=vlad a=only functional change is NPOB 
Don't build reftest harness until libxul is available 
Try a more specific approach to avoid mac linkage errors with dual -Wl,-executable_path flags on the linker commandline 
Revert the reftest change until I can figure out the linkage issue. 
Bug 214164 - Reduce nsTHashtable codesize by making sOps a class static. This patch was originally from bug 201034 r=jkeiser :-) and was backed out because GCC 3.3- were stupid. Since we don't support those any more, relanding a=bz 
Backing out bug 214164 due to non-libxul bustage... WTF? :-( 
Bug 383553 - Crash on quit in nsTimerImpl::Release, r=dbaron sr=brendan 
Bug 391308 - Make the new-style SDK package, r=luser 
Bug 386810, Move quit-application-granted notification to nsAppStartup::Quit, r=benjamin 
Bug 391271 - Register the GRE during XULRunners "make install" phase, r=luser 
Fix copy-paste typo from bug 391308 
Bug 333907, Avoid hiding windows during ENDSESSION, r=benjamin, sr=roc 
Bug 391823 - mozilla-central: Firefox build fails copying libnssdbm3.dylib to dist/bin (r=benjamin) 
Fix the name of the Windows SDK, for real this time 
[OS/2] Bug 390077: fix linker breakage by exporting lcms symbols, r=benjamin 
Bug 384042 - Extension manager uses installLocation.stageFile method (not defined in the interface). Patch by Wladimir Palant <trev.moz@adblockplus.org>, r=benjamin/robert.bugzilla 
b=390048, fix bustage, patch by <bugzilla@mcsmurf.de> r=benjamin 
Bug 391325 - Cannot debug installed xulrunner, add a --enable-install-strip flag, patch by Sergey Yanovich <ynvich@gmail.com>, r+a=me 
Make clicking on Dock icon restore last minimized window. b=389423 r=joshmoz sr=benjamin 
Bug 350132 - Deadlock in JS/XPCOM proxy, r=brendan 
Bug 389392 - Mingw build error, mozlcms.lib: No such file or directory, r=dbaron, sr=benjamin, a=bzbarsky 
Bug 385757 Can't enable gnomeui. patch by Hideo Oshima<hidenosuke@hidenosuke.org> r=benjamin, a=bzbarsky 
Bug 389822 'make package' in topdir missed some files on Solaris SPARC r=benjamin a=bzbarsky 
Bug 285438 Drag and drop gestures can be hijacked to load priviliged xul - xpfe/toolkit trunk patch v2.0 p=jst/me r=neil.parkwaycc.co.uk sr=bzbarsky a=benjamin 
301119 allow error pages to load favicons xpfe: dveditz: second-review+ benjamin: first-review+ asa: approval1.8b4+ toolkit: benjamin: first-review+ benjamin: approval1.8b4+ patch by me, ported to toolkit by Henrik Skupin <hskupin@gmail.com> 
r=benjamin@smedbergs.us
Bug 391485 - memory leak in nsToolkitProfileService::Flush p=brian.lu@sun.com (Boying Lu) r=benjamin@smedbergs.us (Benjamin Smedberg) a=bzbarsky@mit.edu (Boris Zbarsky) 
Bug 392251 - Load extensions from appdir/distribution/bundles, r=mfinkle 
Followup to bug 392251 - try to fix Ts regression by checking for directory existence before trying to enumerate it, r=dcamp on IRC 
Backout bug 392251 due to Ts regression 
Bug 392722 - nsinstall doesn't work if paths have double slashes, patch by Fabien Tassin <fta+bugzilla@sofaraway.org>, r=me 
Bug 393652 - Trunk builds on Mac do not quit from menu after first window is closed. r=benjamin@smedbergs.us (Benjamin Smedberg) Toolkit Only, no approval. 
Bug 393524 - XPCOMUtilify nsTryToClose. r=benjamin 
Bug 392251 - Load extensions from appdir/distribution/bundles, try #2 to avoid Ts regression, r=thunder 
Oops, forgot to set the sentinel... this should help Ts. 
Backout bug 392251 again due to Ts regression. 
Trying to reland only the refactoring changes from bug 392251 without the actual distro bundles code, to see if that affects Ts (original r=dmills) 
Because of interactions between the XPCOM dirserviceprovider and the nsXREDirserviceProvider we were loading/registering components in appdir/components twice. Stop that. Followup from bug 392251 
Bug 394629 - eRestart check in nsAppStartup.cpp is bogus r=benjamin@smedbergs.us (Benjamin Smedberg) a=toolkit 
Re-enable the actual distribution/bundles loading code from bug 392251, now that the Ts regression is fixed. 
Bug 394329 - Ship the JS import library in the SDK, and stop linking it from browsercomps which doesn't use it, r=luser a=NPDB 

Bug 394329 - Ship the JS import library in the SDK, and stop linking it from browsercomps which doesn't use it, r=luser a=NPDB Backout bug 390244 due to tbox orange, per #developers 
Bug 395256 - Make nsJSID/IID/CID objects .equals method slightly faster, r=mrbkap sr=jst a=damons 
Bug 395444 - Fast-path QueryInterface in XPCWrappedNative::CallMethod, r=mrbkap sr=jst a=damons 
Bug 393935 - Crash [@nsProxyObject::LockedFind] due to threads racing, r=brendan 
Bug 390046: fix build break with Windows/mingw and OS/2 about undefined XRE_GetFileFromPath symbol, r=benjamin, a=bzbarsky 
Merge cvs-trunk-mirror to mozilla-central 
Bug 395678 - Fix const issues with strchr in C++ (when used in mozilla-central), r=mrbkap, a=brendan 
Bug 396936 - FLAGP_TO_THING bustage from C++, r+a=brendan 
Bug 392055 - NS_ENSURE_SUCCESS should print out the error code. r=benjamin, sr=bzbarsky, a=bzbarsky 
Bug 392977 - Freeze nsIHashable for 1.9, r=dbaron 
Bug 325257 - Rename nsIFormHistory to avoid changing interfaces on the 1.8 branch, r=bryner 
Bug 397773 - mozilla-central has pedantic errors because of extra commas, r=mrbkap+brendan a=brendan 
Bug 397296, Firefox builds need to use the current NSS CVS tag r=mconnor, blocking-firefox3=benjamin 
Fixing bug 398465. Eliminate dead code from nsPipeOutputStream. r=jwalden+bmo@mit.edu, sr=benjamin@smedbergs.us, a=sayrer@gmail.com 
Bug 398566 - Set MOZ_FIX_LINK_PATHS unconditionally, r=luser a=sayrer 
Bug 398730 - Remove default suffix rules from rules.mk and some fixes to help automated-rewriting efforts, r=luser a=sayrer 
Merge cvs-trunk-mirror -> mozilla-central 
Bug 400393 - Can't build mozilla-central on 64-bit OS because of pointer-to-int32 casts which are ok in C but not in C++, r=igor 
Bug 398152 - Remove activex support for OJI, r=mfinkle 
Bug 399647: pull new NSPR tag to pick up OS/2 change, r/a=benjamin 
Bug 400840 - can't build parallel build with -save-temps, r=luser a=damons 
Bug 402853 - Linker warnings for libxul/thebes, r=luser a=damons 
Bug 369505 - "Dangerous sprintf calls in NSInstallExecute::toString" [p=benjamin@smedbergs.us (Benjamin Smedberg) r=dveditz a1.9=schrep] 
Bug 400393 - "mozilla-central: jsatom.cpp has bad casts in 64-bit OS" [p=benjamin@smedbergs.us (Benjamin Smedberg) r=igor a1.9=schrep] 
Bug 405996 - "Fix gtkmozembed to use PRInt64 instead of nsInt64 to make elsa happy" [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=luser a1.9=damons] 
Bug 406001 - "Remove extraneous semicolons in nsXMLHttpRequest.cpp" [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) a1.9=damons] 
Bug 400839 - "Link sqlite as C, not C++" [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=vlad a1.9=damons] 
Bug 403115 - Option missing to save password for HTTP auth. r=benjamin, sr=cbiesinger, blocking1.9=mconnor 
Bug 378241, Changes from bug 107491 lead to tons of thread-safety asserts r=rrelyea, r=wtc, sr=benjamin, blocking1.9=benjamin 
Bug 409266 - Allow skipping particular checkouts in client.py, r=luser 
Bug 396052 - Firefox fails to start when run from a directory with non-native characters, r=luser sr=neil 
Bug 409433 - XPConnect should never allow GC off the main thread, r=mrbkap sr=jst a=luser 
Bug 410485 - Windows updater broken from bug 396052, r=luser 
Bug 410326 do_CreateInstanceFromCategory is no longer used. r/sr=benjamin,a1.9=dsicore 
Bug 410929 - Bad C++isms in js/src, r=crowder 
Bug 410610 - Can't open a local HTML file that has accents (special unicode characters) in its filename, r=luser+Neil 
Test-land bug 410927 to get performance numbers, r=dbaron 
Bug 386748 - Warning on Startup: NS_ENSURE_TRUE(compMgr) failed. r=benjamin, a1.9=schrep 
Bug 411531 - Assertion failure !rt->gcRunning because I accidentally turned off deffered-release of wrapped natives during GC, r+sr=peterv 
Bug 386740 - Windows file versions are incorrect, r=luser 
Bug 387454 - no versioninfo in xul.dll, r=luser a=schrep 
Bug 411327 - nsIXPCNativeCallContext should not inherit from nsISupports, r=mrbkap, a=schrep 
Bug 411327 - nsIXPCNativeCallContext should not inherit from nsISupports, r=mrbkap, a=schrep 
Fix unit tests from bug 311008 - the directory service keys will not be present when running under xpcshell, r=mossop 
Revert bug 410927 because it didn't really help perf and hurt codesize a little bit 
Merge from cvs-trunk-mirror to mozilla-central 
Bug 411505 - Automatic update broken in Swedish and Spanish Windows, r=luser 
Make sure 'val.p' is always initialized, even when the union holds a shorter type. b=409294 r+sr=benjamin a=mtschrep 
Bug 412320 - Try code-generation for QI impls, r=roc+luser 
Bug 411256 - "AIX linker error for trunk build xpcom module :ERROR: Undefined symbol: .PR_dtoa" (Remove standalone glue dependencies on NSPR) [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=dwitte a1.9=schrep] 
Bug 381049 - Pass swallowed crashes inside MSAA/IA2 methods to breakpad, patch=aaronlev, r=me, ted.mielczarek, sr=benjamin, a=dsicore 
Bug 388992 - Make schema-validation not depend on webservices, patch=aaronr, r=doronr, sspeiche@gmail.com, benjamin, a=beltzner 
Bug 412320 - generate QI for additional classes which, according to stats, show up in profiles as frequent callers of nsID::Equals, r=biesi,ted,sicking 
Bustage fix, bug 412320 
Bug 416529: Don't include .deps/.all.pp when not needed. r=benjamin, a=pavlov This to prevent unnecessarily generating the file due to the FORCE prereq. 
Bug 416712 Drop redundant nsISupportsArray include from libpref. r/sr=benjamin,a1.9=mtschrep 
Bug 416463 - remove badly-duplicated or unused files from xpcom/obsolete/component to fix errors with gcc4.2+ (hidden visibility), r=luser 
Bug 380454, r=benjamin, sr=sicking 
Bug 380454, r=benjamin, sr=sicking 
Bug 416531 - "Use chrome overrides to display Aero style icons on Vista" (Fix cached chrome channels) [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=Mano a=blocking-firefox3+] 
bug 380454, r=benjamin, sr=sicking 
Bug 416886 - Find module loaders which are part of the static component list early, and process components which end up in the leftovers list in forwards instead of reverse order. This means that JS component in extensions can correctly override JS components in the core app. r=dougt a=schrep 
Back out bug 412320 and various followups because the perf impact was minimal and the code is more complicated 
Bug 419079 - cast void* in js/src for C++ compatibility, r+a=crowder 
Merge cvs-trunk-mirror -> mozilla-central 
Bug 419624 - Build framework, basic usage, and testsuite for statically checking the codebase using gcc-dehydra, r=luser,dbaron,tglek 
Bug 417903. Don't crash if _SymGetLineFromAddr64 fails. r=benjamin,a=beltzner 
Bug 409384 - Firefox 3.0b2 fauks to compile with gcc 4.3, r=dwitte+dbaron a=damons 

Bug 409384 - Firefox 3.0b2 fauks to compile with gcc 4.3, r=dwitte+dbaron a=damons Merge cvs-trunk-mirror to mozilla-central. 
Merge cvs-trunk-mirror -> mozilla-central 
Bug 420217 - _InterlockedCompareExchange needs to be extern "C" when using a C++ compiler, r=brendan a1.9b4=beltzner 
merge cvs-trunk-mirror -> mozilla-central 

Fix -Wconversion warnings that prevent compiling netwerk/cookie/src/ (which makes warnings fatal) with gcc 4.3 on x86_64.  b=409384  r=bsmedberg  a=beltzner Bug 421523 - "With --disable-xpconnect-idispatch --disable-accessibility, link errors in libxul" (link oleaut32 explicitly) [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=luser/ted a1.9=damons] 
Merge cvs-trunk-mirror -> mozilla-central 
Bug 421947 - "More C++ casts required for Windows only, especially overloaded pow() and log10()" [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=crowder a1.9=damons] 
Merge cvs-trunk-mirror -> mozilla-central 
merge cvs-trunk-mirror -> mozilla-central 
Merge cvs-trunk-mirror -> mozilla-central 
Bug 422484: Add parens around macro if conditions.  Patch by David Mandelin <dmandelin@mozilla.com>  r=benjamin a1.9=dsicore 
Bug 422185 - "jsgc.obj : error LNK2001: unresolved external symbol "int __cdecl posix_memalign(void * *,unsigned int,unsigned int)" (?posix_memalign@@YAHPAPAXII@Z)" (posix_memalign needs to be extern "C" when compiling with a C++ compiler) [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=brendan a1.9=damons] 
Merge cvs-trunk-mirror -> mozilla-central 
Merge cvs-trunk-mirror -> mozilla-central to pick up the 421274 backout especially 
Fix merge bug that only shows up building spidermonkey standalone. 
Bug 385677 - Breakpad fixes for GCC 4.3 (correct #includes and visibility wrappers), r+a=luser 
Bug 420459 Move mailnews-specific profe code. r=benjamin,Neil,sr=dmose,a1.9=beltzner 
Bug 422463, fix pyxpcom build on some x86_64 systems r=mhammond sr=benjamin 
Merge cvs-trunk-mirror -> mozilla-central. There's a C++ bug in js/src/jsinterp.cpp that I am going to file upstream. 
Fix the jsinterp.cpp here, before it gets upstreamed. 
Bug 424156 - C++ compilation error in jsinterp.c, r=crowder a=beltzner 
Bug 425459 - Update static-checking.js against changes in dehydra process_class (now process_type, and more powerful), r=taras 
Bug 405553 - "make it so when updater.exe throws up the UAC prompt it is branded as "Firefox Updater" / "<brandShortName> Updater"" (Change module.ver) [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r+a1.9=beltzner] 
Bug 426771 - "Export cross tool variables in universal mozconfig" [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=luser/ted a1.9=beltzner] 
Bug 292549 - "crash [@ nsFrame::BoxReflow] at start of page rendering -Trunk" (Don't initialize the chrome registry if JAR isn't up) [p=benjamin@smedbergs.us (Benjamin Smedberg [bsmedberg]) r=Mossop a1.9=beltzner] 
Re-add a zero-length file used by passwordmgr unit tests... it was incorrectly not merged in revision 2443 
Bug 427831 - CHECK FAILED: file.txt == CVS/ -- no more CVS! r=waldo 
Bug 428326 - 'make check' fails when you've configured from a relative srcdir (e.g. ../src/configure), r=luser 
Bug 426771 - The previous checkin happened before full testing, and there was an important typo ;-) 
Bug 428326 - Configuring with a relative srcdir breaks unit tests in XPCOM, r=luser a=beltzner 
Bug 292789 (the chrome registry part), add a contentaccessible flag for packages and expose it on nsIXULChromeRegistry, r=dtownsend sr=jst a=beltzner 
Bug 391311 followup - if the chrome registry doesn't initialize correctly, don't crash on destruction, r=Mossop a=beltzner 
Fix camino build bustage. Short answer is "just don't do that", I think. 
Bug 426065 part 1 - use AC_CHECK_HEADERS to check for Windows headers that might not be present in various SDKs, r=ted a=beltzner 
Merge cvs-trunk-mirror to mozilla-central. 
Bug 426065 part 2: configure should confirm that Windows headers necessary for certain features are actually available. r=luser a=beltzner 
Merge cvs-trunk-mirror to mozilla-central 
Bug 425974 - issue a dire warning to those who are still using cygwin to build - and skip the broken AC_CHECK_HEADERS checks, so that they will continue to build for the time being, r=luser a=mconnor 
Fix typo. 
Merge cvs-trunk-mirror to mozilla-central. Automated merge, no manual conflict resolution necessary. 
Merge cvs-trunk-mirror to mozilla-central. No manual conflict resolution was necessary. 
Merge from cvs-trunk-mirror to mozilla-central. No conflict resolution necessary. 
Bug 431677 - outparam errors in netwerk/cookie, r=dmandelin 
Merge cvs-trunk-mirror to mozilla-central. One conflict resolution: updated NSPR tag from client.mk into client.py 
Bug 423104 - Add lt and nl dictionary licenses to about:license, r=gerv,harvey,smokey a=schrep This patch does not deal with the en-US dictionary license confusion. 
* client.mk: new NSS tag merge to client.py 
Bug 432278 - Fix a couple of the static-checking testcases: clean up the makefile-fu a little bit, and add a new class of test: one which should issue warnings, which equates to "should fail with -Werror and should pass without -Werror." r=dmandelin 
Back out revision bd9c9cbf9ec8 (build spidermonkey as C++) for perftesting and profit. 
Back out JS-as-C++, because it's a suspect in the Linux performance regression. 
Return to building spidermonkey as C++, because we believe we found the cause of the perf regression elsewhere (non-code). 
Fixing bug 433005. Make calls through XPConnect on threads other than the main thread suspend JS request to avoid blocking GC on the main thread while calling slow functions on non-main threads. Patch by benjamin@smedbergs.us and jst@mozilla.org, r=jst@mozilla.org, sr=brendan@mozilla.org, a=schrep@mozilla.com 
Merge cvs-trunk-mirror to mozilla-central up through FF3RC2build2 
Bug 417635 - import NSPR and NSS into hg, r=ted 
Import NSPR 4_7_1_RTM 
Import NSS_3_12_RC4 
Bug 437647 - Dispatch outparams and other analyses explicitly, so it's easier to add various analyses, r=dmandelin 
Bug 437219 - allow app-specific rules via application/app-config.mk and application/app-rules.mk, r=ted 
Bug 431743: Upstream jemalloc fixes, r=benjamin
Bug 432894: X related valgrind | jemalloc - startup errors, r=bclary,r=benjamin
Bug 422960: Add jemalloc_stats() and jemalloc.h, r=benjamin 
Bug 431221: Disable glib slice allocator, r=benjamin
Bug 431735: Use rb.h instead of tree.h, r=benjamin
Bug 431739: Limit dirty page purging, r=benjamin
Bug 432475: Remove _malloc_options abuse, r=benjamin
Bug 427109: Add memory reserve and xmalloc() API, r=benjamin
Bug 425454 - whitelist placement-new for stack classes. Also uses treehydra analysis so we don't have to require a constructor for stack classes any more. r=taras 
Bug 442714 - Mark NS_STACK_CLASS on nsAutoString, r=dbaron 
Fix whitespace (hard tabs) 
Bug 442762 - Annotate mozStorageStatementScoper with NS_STACK_CLASS, r=sdwilsh 
Bug 442735 - Annotate classes in dom/content which only appear on the stack, r+sr=jst 
Bug 442756 - Add stack annotations to editor classes, r=glazou sr=jst 
Bug 442968 - Format outparams warnings in a more standard GCC way, so that things like compilation-mode can linkify the locations, r=dmandelin 
Bug 442729 - Annotate stack-only classes in layout, r+sr=roc 
Bug 442757 - nsProxiedService is a stack class, r=bent 
Bug 442769 - Annotate nsMorkReader as a stack-only class, r=dietrich 
Bug 427109: Add memory reserve and xmalloc() API, r=benjamin
Backed out changeset e5014dc700ad - appears to cause unit test failures in test_419731.js (windows) or focus issues (mac) but that could just be test wonkiness, but this appeared right after this commit and was mostly green before. 
Bug 441608 - Make nsAssignment members const and get rid of the unnecessary empty constructor and copy-assignment operators, r=Enn 
Bug 445570 - Heap-allocated autostrings in DOM/content, r+sr=jst 
Bug 445570 - parser autostring allocated on the heap, r=mrbkap 
Bug 445853 - Add namespaces to various tests: these tests share a class name with other tests, which makes XPCOMGC rewriting very confused. r=biesi 
bug 445391 - re-enable OJI for Firefox 3.1, the configure changes is from jst, r=jst,crowder, sr=benjamin 
Make sure that nsString and nsString_external are the same size. b=430581 r=benjamin 
mozilla-central followup for bug 449075 - bases.type intead of bases to match the new schema 
From bug 449561, bug 445949, and others: let's just ditch nsDerivedSafe since the class of errors it's trying to protect against are uncommon in today's world. r=dbaron 
Bug 446132 - Allocate nsJSONWriter on the stack, r=sayrer sr=jst 
Bug 450196 - Don't use -Wconversion, a=dbaron 
Don't run the unit test for bug 224692 - it's creating a directory that the tinderbox then can't remove 
Merge bug 224692 unit-test disablement with subsequent commits. 
Bug 450137 - Add namespaces to multiple classes with the same name in xpcom/tests, to avoid automated tool confusion, r=dbaron 
Bug 445570 - heap autostring in PSM, r=kaie 
Bug 451079 - Setting an outparam to NULL is just too common to consider an actionable warning. Disable it, probably permanently, r=dmandelin 
*** 31309 ERROR TEST-UNEXPECTED-FAIL | /tests/dom/tests/mochitest/general/test_offsets.xul | svgrect bounding rect bottom - got 20, expected 0 
Merge backout of bug 379616 with subsequent changes 
*** TEST-UNEXPECTED-FAIL | ../../../../_tests/xpcshell-simple/test_browser_shell/unit/test_421977.js | #000000 == #000000000000 
Merge backout of bug 421977 due to unit-test failure. 
Backed out changeset fb099f5a4d32 due to windows test failure... the headers are misaligned pretty badly. 
Merge the backout of only the unit-tests for 404816. 
Merge bug 451079 
c:/builds/slave/trunk_win2k3_hw/build/widget/src/windows/nsWindow.cpp(7353) : error C2040: '==' : 'HWND (__stdcall *)(void)' differs in levels of indirection from 'HWND' 
Merge the following bugs from mrbkap: bug 448587, bug 451213, and bug 449712. 
Merge in bug 424991 from jorendorff 
Bug 445570 - Mark CSSToken::mIdent heap autostring as we-know-what-we're-doing, r=dbaron 
Bug 450194 - Add -Wno-invalid-offsetof to our warnings flags, because we break the rules on purpose. r=dbaron 
Followup to bug 450194 - use AC_LANG_CPLUSPLUS, stupid mistake pointed out by Peter Weilbacker 
Merge the followup to bug 450194 (use AC_LANG_CPLUSPLUS for the -Wno-invalid-offsetof configure test) 
p=me r=benjamin sr=neil 
Bug 451909 kill MOZ_XUL_APP now that all apps set it. docshell/toolkit cleanup r=benjamin, makefile cleanups r=ted 
Followup to bug 451079 to move/add testcase files. 
Bug 453341 - Allow stack checking to be suppressed per-function, r=dmandelin sr=jst 
Bug 453343 - Print more complete error messages that trace the base classes and members that cause a particular class to be stack-only, r=dmandelin 
Bug 453349 - stack-only checker skips conditional blocks, r=dmandelin 
Fix stupid static-checking-only typo 
Bug 453658 - /s /S /w /W in character classes perform very poorly. r=crowder (showed up as Dromaeo test "DOM MOdification (Prototype): update()" 
Bug 449281 - In <TestPipe.cpp>, "warning C4273: 'NS_NewPipe2' : inconsistent dll linkage", when without |--enable-libxul|; Av3; r=benjamin 
Bug 451477 - NS_INTERFACE_TABLE_INHERITED10 defined twice; r=benjamin 
Bug 443058 - Remove MOZ_DECL_CTOR_COUNTER; <mozilla-central> part; r=benjamin 
Bug 398946 - Remove JS_STATIC_DLL_CALLBACK and JS_DLL_CALLBACK from the tree; r=(benjamin + bent.mozilla) 
Bug 448613 - Initialize nsToolkit correctly when libxul is enabled in a debug version; Av3a; r=benjamin sr=roc 
Bug 440714 use -xldscope for Sun Studio on Solaris r=vladimir,benjamin sr=benjamin 
Bug 454192 - firefox-bin doesn't use jemalloc on linux/solaris, r=ted 
Remove the v1 string ABI compatibility hacks. Replace references of nsTAString_CharT with nsTSubstring_CharT which is the new base class. r=dbaron 
Bug 455527 -  In some cases Embedding startup crashes if gAppData == null. r=benjamin. 
Followup to bug 418671 - fix the unit test with a dumb s/canMoveContainerNode/canMoveNode/ per mak77 
bug 453388/bug 454624 - link using g++ instead of ld, so that static constructors/destructors will fire correctly r=crowder 
Backed out changeset e2614011f194 - Bug 453388 - the better solution is to allow static objects and link libjs.so with g++ so that _init and _fini run static constructors/destructors correctly backout r=crowder 
Backed out changeset fc4a8cc07c9f - bustage fix from the first patch for bug 453388 which is also being backed out 
Merge backouts of bug 453388 - using g++ to link libjs.so means we can have static classes 
Merge backout of the old patch for bug 453388 - we can statically allocate Oracle again, now that we're linking using the C++ linker magic, r=crowder 
Bug 453137 - 'TestPipes' |TestChainedPipes()| leaks its streams; Av2; r=benjamin 
Bug 453137 - 'TestPipes' |TestChainedPipes()| leaks its streams; Av2; r=benjamin
which broke "--enable-debug --enable-libxul" builds; r=benjamin 
Bug 178189 - |nsCOMPtr|: do we still care about VC++4.2? and if not, can we remove this comment; r=(scc + benjamin) 
Bug 451506 - "The return values of PR_Seek64 and PR_Available64 should be checked in  FileImpl::Seek or else file corruption will occur" [r=benjamin sr=neil a=dveditz] 
Bug 438331 - Remove WIN16 (support) code everywhere; (Av1) </xpcom/*>; r+sr=benjamin 
Bug 453164 - 'TestServMgr' : "mFreeCount : LEAKED 233 + mAdoptFreeCount : LEAKED 7"; r=benjamin 
Bug 453166 - 'TestCrashReporterAPI' : "mFreeCount: LEAKED 231 + mAdoptFreeCount: LEAKED 7"; r=benjamin 
Bug 456561 - Remove obsolete reference to <nsWidgetStateManager.js>; r+sr=benjamin 
Bug 457046 - Decide what to do with <TestPipes.cpp> |#if 0|'ed code; Av1; r=benjamin 
Bug 457046 - Decide what to do with <TestPipes.cpp> |#if 0|'ed code; Bv1; r=benjamin 
Bug 458755 - Automated documentation of string classes on MDC using static analysis, r=taras 
Bug 459158 - XPT files contain wasted space when written on a machine with 64-bit pointers; r=benjamin 
Bug 434501 - xpcom assembly should be built as position independant; r=benjamin 
Bug 457046 - Decide what to do with <TestPipes.cpp> |#if 0|'ed code; (Cv1) Remove obsolete |#if 0| code; r=benjamin 
use single quotes for the dehydra args, because other code double-quotes these and things get really confused... static-analysis only bustage fix 
Bug 460999 - Generate inheritance graphs for the base of the string hierarchy and upload them to MDC with image maps r=jorendorff 
Bug 461186 - nsTextControlFrame should not implement nsIPhonetic: there's only one caller, and that caller can use nsITextControlFrame directly. This is one less frame that implements an nsISupports-derived interface. r+sr=roc 
Bug 461212 - deCOM frame enumerator, r=mats.palmgren sr=roc 
Bug 461359 - Make nsTreeBodyFrame not implement nsITreeBoxObject... nsTreeBoxObject can just call the methods on nsTreeBodyFrame directly, and we avoid nsISupports oddities for bug 396185 r=Enn sr=roc 
r+sr=roc 
Bug 461576 - nsListBoxBodyFrame shouldn't need to implement nsIListBoxObject - r=enn sr=roc 
Stupid typo during review fix for bug 461212 
Windows-only build bustage from bug 461576 - use nsresult instead of NS_IMETHODIMP 
Backed out changeset affcc1c08bc0 (deCOM frame enumerator) due to regression from it or bug 461410. 
Backed out changeset eda9709dc586 (deCOM frame enumerator) due to regression from it or bug 461410. 
Backed out changeset d4c9a0776667 (deCOM nsILineEnumerator) due to regression from it or bug 461212 
Merge backout and typo fix of bug 461212 
Back out bugs 461410 and 461212 because I'm not sure which is causing the mochitest regression. 
Back out bugs 461410 and 461212 because I'm not sure which is causing the mochitest regression. 
Bug 461754 - Wrong error handling in nsMIMEInfoWin.cpp; r=benjamin 
Bug 460911 - Make the installer complain about missing files on stdout; r=benjamin 
Bug 461212 - deCOM frame traversal (relanding) r=mats.palmgren sr=roc 
Relanding bug 461410 - nsILineIterator is never used outside of layout - set nsresults to replicate the existing code more correctly, which fixes the mochitest failures, r+sr=roc with nits noted by Mats Palmgren 
Followup to 461395 - fix a bug in make 3.80 by avoiding $* in pattern rules with explicit targets, r=ted 
Bug 462440 - Creating directories is really racy, and has an rm -rf in the middle of the race, r=ted 
Adding the other part to js/src/config like we had to do earlier today to fix windows orange. 
Bug 462381 - Build layout directories in parallel r=ted sr=roc 
Bug 462730 - Parallel builds with -j20 don't build the submakefiles before recursing into them. Switch back to using $* in the rule because we found out the make 3.80 bug: it doesn't set $* in double-colon rules, but it does in single-colon rules. r=ted 
Bug 462730 - Parallel builds with -j20 don't build the submakefiles before recursing into them. Switch back to using $* in the rule because we found out the make 3.80 bug: it doesn't set $* in double-colon rules, but it does in single-colon rules. r=ted (copy rules.mk to the JS build system) 
Merge Bug 462730 copying to js/src with tip 
Bug 386978 - get rid FireToolkitEvent, r=aaronlev, sr=benjamin 
Bug 462740 - Building spidermonkey on Windows with -j3 fails: conflicts in PDB files. Related to bug 382297 and bug 286179, where we flip-flop back and forth about this. Document the way things should actually be! 
    1.1764 <benjamin@smedbergs.us> 2007-01-31 08:12
Bug 463420 - SIMPLE_PROGRAMS leads to bustage with generated.pdb r=ted 
Bug 442012 - Allocating more than 2GB of memory in mozilla is never a good idea. On 64-bit systems PRSize and size_t are 64-bit and so truncation from PRSize to PRUint32 could cause weird behavior errors. Prevent these huge allocations. r=wtc sr=dveditz 
Bug 463289 - nsNativeModuleLoader doesn't protect its internal data structures, and is accessed on multiple threads (symptom is RECURSION_LEVEL assertions in pldhash.c). This patch is the simple-but-slow path: proxy all non-main-thread requests to the main thread. This is probably sufficient because asking for modules is a relatively rare activity: the component manager caches the factory objects after a lookup, r=brendan 
Bug 466486 - Don't launch subshells to build subdirectories if there aren't any subdirectories to build r=ted 
Bug 466492 - test for the existence of jar.mn in make, rather than in a shell script: this allows us to avoid launching the subshell in the common case where a jar.mn is not present r=ted 
Change the stack-class analysis to a warning instead of an error, at least temporarily: the analysis was buggy when originally landed, and there are some heap-allocated autostrings outstanding through the tree. 
Merge bug 466492, bug 466486, bug 463289, bug 442012, and bug 463420 
Bug 467579: --with-static-checking is broken in spidermonkey. There is currently no useful static checking infrastructure for spidermonkey, so disable it for the time being, r=jimb 
Backed out changeset f71446b6fc7e: bug 466486- directories are getting skipped, causing things like xpcshell not to be built 
Merge backout of bug 466486 
I switched the stack checker to emit warnings instead of errors. Update the testcases expected results to match. 
When operator new is used on a class with no constructor it generates an AGGR_INIT_EXPR, not a CALL_EXPR... with testcase. NPODB, static-checking only. 
Bug 447946 -  Crash anywhere with optimize on x64 Windows build due to alignment.  r/sr=benjamin 
Bug 462438 - kill MOZ_PROFILESHARING and MOZ_IPCD; toolkit cleanup; r+sr=benjamin 
Bug 462438 - kill MOZ_PROFILESHARING and MOZ_IPCD; profile cleanup; r+sr=benjamin 
Bug 462438 - kill MOZ_PROFILESHARING and MOZ_IPCD; embedding cleanup, v2; r+sr=benjamin 
Bug 462438 - kill MOZ_PROFILESHARING and MOZ_IPCD; libpref cleanup, v3; r+sr=benjamin 
Bug 462438 - kill MOZ_PROFILESHARING and MOZ_IPCD; build system cleanup + removes, v2; r+sr=benjamin 
Bug 414551 - gCallbacksEnabled in prefapi.cpp is unused and should be killed; r+sr=benjamin 
Disable the outparams warning "written on NS_FAILED"... we should focus first on the "not written on NS_SUCCEEDED" warnings, which are generally more serious. No bug, NPODB, CLOSED TREE a=johnath 
Bug 460295 - nsRefPtrHashtable.h belongs to sdk and includes nsAutoPtr.h which does not; r=benjamin sr=dveditz 
Bug 464995 - avoid reads of size 1 in jemalloc; r=benjamin 
Bug 461542 - consolidate the (unix) start scripts for our applications; mozilla-central patch v3; r=benjamin 
Merge mozilla-central into tracemonkey, specifically to pick up bug 467579. 
Bug 469072 - Annotations in XPCOM, and a couple related code fixups, to make outparams spit out useful warnings, r=bent 
Bug 468717 - enable static analysis for js/src, r=jorendorff 
Bug 468824 - libosso.h and hildon-uri.h should be defined in system-headers list. r=benjamin. 
Bug 468824 - libosso.h and hildon-uri.h should be defined in system-headers list. r=benjamin. 
Bug 434989 - patch for FreeBSD 8-current (and after 7.0). r/sr=benjamin, patch by okazaki@kick.gr.jp 
Bug 465128 - .autoreg timestamp problems (component registration owns startup time); Ignore autoreg if timestamps are screwy; r=benjamin 
Backed out changeset 71c3a9d14712 - Bug 460926 - due to crash regression, bug 468845 
Merge backout of bug 460926 
Bug 466486 - Don't use a subshell to recurse over DIRS when DIRS is empty (try #2) r=ted 
Bug 462497 - nsComponentManagerImpl::HashContractID() reenters mMon; r=benjamin 
Bug 462497 - nsComponentManagerImpl::HashContractID() reenters mMon; r=benjamin
Bug 469862 - Save crash reports in pending if the server discards the report due to server-side throttling, r=ted 
Bug 469191 - jsstack.js: give better locations for errors, r=dmandelin 
Bug 469995 - js_DecompileValueGenerator uses cx->fp and should be made safe, r=crowder+jorendorff 
Bug 468937 - Add some basic tests for the red/green (cx->fp) analysis 
Bug 470000 - JS_GET_SCRIPT_ATOM needs to use cx->fp safely, r=brendan 
Bug 472348 - Some unused variables found by combing the warning database, rs=bz 
Bug 469862 followup - Tell the server that we support throttling (see bug 469863), r=ted 
Bug 472461 part 1 - jsgc.cpp fails to compile with !JS_TRACER, initial patch by Igor, r=jorendorff with nits fixed by bsmedberg 
Bug 472461 part 2 - jsgc crashes with !JS_TRACER, r=jorendorff for immediate bustage fix, and I'll get ex-post-facto review from Igor 
Bug 463289 - nsNativeModuleLoader doesn't protect its internal data structures, and is accessed on multiple threads (symptom is RECURSION_LEVEL assertions in pldhash.c). This patch is the simple-but-slow path: proxy all non-main-thread requests to the main thread. This is probably sufficient because asking for modules is a relatively rare activity: the component manager caches the factory objects after a lookup, r=brendan 
Bug 469645 - Remove /mozilla/pref-migrator, r+sr=benjamin 
This patch locally causes two REFTEST-UNEXPECTED-PASS for Bidi stuff. It's possible that I accidentally fixed a bug, but I'm not sure, so I'm going to wait for the tinderboxes to confirm my local results. 
Backed out changeset 4c4df6ed1b41 - Bug 396185 - Make nsIFrame not inherit from nsISupports due to mochitest failures... these appear to be crashes in nsGenericHTMLElement::GetEditorInternal. 
Bug 463642 - Safe mode should disable JIT, r+sr=jst 
nsITextControlFrame didn't have an IID the first time around, but this wasn't a compile error because nsITextControlFrame::kFrameIID inherited from nsIFormControlFrame::kFrameIID. I've added a static analysis pass to verify the correct behavior, since I can't figure out a way to make the compiler do it. 
Add a static analysis pass to verify that for any do_QueryFrame<Interface> there is an Interface::kFrameIID declared. NPODB, static-checking only. 
Bug 396185 followup - Fix layout-debugger 
Merge layout-debugger bustage fix 
Backed out changeset 8f347bf50a53 due to x86-64 build bustage, and the fact that the committed patch didn't match the reviewed patch in an important way (bug 469558) 
Merge backout of bug 469558. CLOSED TREE 
Minor static-checking fixup: give a useful location for the "frame inherits from nsIFrame and nsISupports" warning, NPODB 
Bug 463172 - add a --disable-jit option, r=ted 
Followup to bug 463172 (implement --disable-jit) - this block needs to be outside of the SKIP_COMPILER_CHECKS block so that it affects Windows 
Bug 384746 - Win64 build support for mozilla/toolkit. r=neil, sr=benjamin 
Bug 473587 - nsTString::ToInteger can overflow. Detect and prevent this condition, r+sr=dbaron 
Bug 470971 - Add ability to pass the GRE dir to xpcshell, r=ted 
Copy xpcshell instead of symlinking it, so that it knows where it is... Followup to bug 470971 
Backed out changeset 700bca4b693f due to reftest failure (bug 470971) 
Merge backout of bug 470971 
r=crowder r=jimb 
Backed out changeset 525e42406396, bug 269538 (jscpucfg-ectomy) due to Windows TUnit bustage. 
Merge backout of bug 269538 
r=crowder r=jimb 
Followup to bug 269538 - Use explicit casts instead of L/LL/int64, r=crowder 
+ has a higher precendence than <<, so this needs to be parenthesized more... followup to bug 269538 
Bug 475027 - only MSVC needs jscpucfg.h... everyone else should be using jsautocfg.h and the configure-generated defines. If you're doing something crazy like cross-compiling from FreeBSD to Windows using MSVC, this will make your life happier r=crowder 
Bug 475199 - PPC builds crash on startup. I moved the output of JS_STACK_GROWTH_DIRECTION inside a !CROSS_COMPILE block incorrectly in bug 269538. This just moves it back. 
Bug 474996 - JS_REQUIRES_STACK violation in TraceRecorder::hasIteratorMethod, r=jorendorff 
Bug 414540 - RDFXMLDataSource should reject cross-domain redirects. Original patch by Neil Deakin, fixed up with better testing, r+sr=bz 
Bug 290057 - Thunderbird should integrate with the Spotlight Search; Add Mac -file arg handling so Spotlight can open mail files from searches v7; r=(bienvenu + joshmoz) sr=benjamin 
Bug 470971 - Add ability to pass the GRE dir to xpcshell, r=ted - fixed patch: XRE_GetBinaryPath gets the file of the executable: we want to pass the parent directory to XPCOM. 
Bug 476643 - mozilla code uses some JS-internal APIs and needs to bail off trace before doing so. This shouldn't actually affect runtime now, because XPConnect doesn't use traceable natives. But in the 1.9.2 future we want to use traceable natives r=mrbkap r=jorendorff 
Backed out changeset 64d5b7cdeb69 - bug 476643 because of Windows bustage (js_LeaveTrace is not a friend API) 
Bug 477001 -  Configure error on solaris cmp: illegal option -- b. wtc: review+ kairo: review+ benjamin: approval1.9.1+ 
Bug 476800 - kill variadic macro warnings r=ted 
Bug 432800 - make elf-dynstr-gc silent on success; r=benjamin@smedbergs.us 
bug 478843 - /toolkit/xre/nsAppRunner.cpp:1424:6: error: #elif with no expression.  r=benjamin 
Bug 478443 - fix for pymake: provide an explicit value for RM so that we don't rely on the gmake implicit value. Fix some rules in js/src that don't make much sense r=ted 
Bug 476643 - JS_REQUIRES_STACK errors in nsXPCWrappedJSClass::CallMethod. Mozilla code uses some JS-internal APIs and needs to bail off trace before doing so. This shouldn't affect performance now becuase XPConnect methods are not traceable yet. r=mrbkap, sr=mrbkap. 
Followup to bug 478443 - The creation of these directories also depends on the existence of nsinstall. This was found in tryserver clobber builds. 
jsfile.cpp + reg.c + SpecialSystemDirectory.cpp : benjamin
Static analysis test cases for bug 479441 
Bug 474369 - get rid of nsVoidArray; embedding part; r+sr=benjamin 
Bug 474369 - get rid of nsVoidArray; toolkit part; r+sr=benjamin 
Bug 478086 - enumerating drives/disks on Win32 using nsIFile.directoryEntries returns a single string with embedded NULLs in it; r=benjamin 
Bug 480069 - Recursive submakes without shell loops, r=ted 
Bug 474369 - get rid of nsVoidArray; activex fixup; r+sr=benjamin 
Bug 481027 - Move dom/public/idl to dom/interfaces, r+sr=jst 
Reorder functions in nsFrame.h to wallpaper over a dehydra bug (probably GC timing somewhere in the static analysis stack). rs=bz (bug 481454 covers finding and fixing the dehydra bug) 
Bug 426639 - Fix the test harness to work on OS/2; xpcom/test/Makefile; r=benjamin 
Bug 472609 - Support Win64 (LLP64 model) for xpcom/ds. r=benjamin 
Bug 40967 - Avoid leaking MSYS paths in Makefiles: use c:/dir/path paths whenever possible, r=ted 
Bug 481732 - Check for crash minidumps in unit tests and dump them, if the MINIDUMP_STACKWALK path is set in the environment, r=ted 
Bug 481336 - Quickstub additional properties on nsIDOMHTMLAnchorElement and nsIDOMNSHTMLAnchorElement, r=bz 
Bug 481102 - Reorganize dom/public, dom/public/base, and dom/src/base to dom/base, r+sr=jst 
Bug 479382 - libmar doesn't build on windows ce (uses posix file io); r=benjamin 
Import pymake into Mozilla. This is not used by default (yet), but this snapshot should be good enough for doing relative-srcdir builds on Windows. r=ted 
Bug 483856 - Use core_abspath and $(CURDIR) instead of shells. Use Preprocessor.py instead of preprocessor.pl to avoid perl insanity with pymake, and generally just make me happy. r=ted 
Bug 475229 - xpcom/base/nsStackWalk support for Windows x64. r=benjamin 
Update pymake to tip of my repo, NPODB. 
Bug 485390 - utils.lockFile doesn't hold the file descriptor, which can cause parallel races in JarMaker, r=ted 
Bug 485264 - Not enough quotes in mozprog.m4 when suggestions contain spaces r=ted 
Bug 484708 - Un-annotated dependency of gtkmozembed2.cpp on gtkmozembedmarshal.h, r=ted 
Backed out changeset f66fabdbc090 (bug 485390) - the problem is not in utils.lockFile, and you shouldn't really need to hold the file descriptor 
Reverting unnecessary utils.lockFile change from bug 485390 
Followup to bug 474703 for pymake: use core_abspath to get Windows-style absolute paths correct, r=ted 
Bug 485410 - Quote jemalloc patchery a little more carefully, and make it fail if it doesn't work, r=ted 
Bug 485390, try #2 - when a .jar file doesn't exist yet, there's a race creating it, r=ted 
When building with pymake, use gmake for NSS because of the pain and suffering on Windows. 
Update pymake with --keep-going and other fixes 
Update pymake for better memory usage and faster execution. 
Update pymake 
Bug 486157 - Use CURDIR for Windows-style paths when building extension tests, r=ted 
Bug 486158 - Fix the quickstub dependencies: when multiple targets are listed for a single rule, GNU make doesn't run the rule once and combine the targets: instead, it builds each target separately. This only really matters in parallel builds where targets may be evaluated in parallel. r=ted 
Use an explicit $(SHELL) for shell scripts so that pymake is happy, no bug, r=ted 
Bug 485935 - Build the default langpack (usually en-US) as part of `make package`, r=ted 
Bug 486534 - config/nspr/Makefile.in should use core_abspath, r=ted 
UPLOAD_EXTRA_FILES doesn't need a prepending $(DIST), followup to bug 485935 
Bug 481350 - Fail when imacros.c.out is out of date, r=jorendorff/ted 
Bustage fix from last-minute rework of bug 481350 
Bug 326628 - user content can pop up pkcs11 dialogs, which is annoying and entirely unnecessary r+sr=jst,r=kaie 
Update nsDOMClassInfoID to match the classinfo change from bug 326628 
Merge bustage fix of bug 326628 (nsDOMClassInfoID) with tip 
Back out everything from bug 326628 because it's too red to fix on the fly. CLOSED TREE 
Bug 326628 Try #2 - User content can pop up PKCS11 dialogs, which is annoying and entirely unnecessary r+sr=jsr,r=kaie 
Removal of strings from bug 326628 
Fix the PYTHONPATH bits of bug 436062 in a not-hacky way by using a script which can set up the path and then forward to the real script we're trying to run, r=ted 
Bug 487960 and bug 487980 - remove references to nsIDOMPkcs11 completely: various pieces of our code don't like interfaces that are only forward-declared even if you never implement them r=jst 
Bug 486782 - Implement a MOZILLA_FS_LAYOUT makefile variable to distinguish between the bundle layout used by darwin-cocoa and the standard unix-like layout used by darwin-gtk2. Original patch by Jeremy Huddleston, updated and r=bsmedberg 
Bug 389087 - nsILocalFileUnix affected by 32bit stat/statvfs/truncate, therefore does not work with large files; r+sr=benjamin 
Bug 487367 - firefox build uses xulrunner-stub instead of $(XULRUNNER_STUB_NAME). r=benjamin 
Bug 486890 - Darwin/X11: undefined symbols in libsydneyaudio, fix toolkit==cocoa check. r=benjamin 
Bug 485863 - modules/libpr0n/decoders/icon fails to build nsString problems. r=benjamin 
Bug 488168 - XULRunner build bustage on FreeBSD (in javaxpcom). r=benjamin 
Bug 484442: Firefox crashes on on bringing up safe-mode with any/all of the Options Checked. r=mossop 
Bug 486064 - gfxtypes.h and gfxTypes.h conflict in flattened include directories on case-insensitive filesystems, r=joe 
Bug 369034 - TestTXMgr has error and leaks object; (Av1a) Add mgr->Clear(), use ScopedXPCOM() and run this test; r=benjamin 
Bug 482942 - Implement NS_LOCALFILE_DELETE_ON_CLOSE flag for nsILocalFile::OpenNSPRFileDesc; (Cv1) TestHarness.h: s/PRBool/PRUint32/; r=benjamin 
Bug 491550 - Fix TestDeadlockDetector on debug+libxul configurations r=bustage fix 
Bug 492040 - js_Execute must bail off trace, r=jorendorff a=josh for CLOSED TREE checkin 
Bug 492040 - js_Execute must bail off trace, r=jorendorff a=josh for CLOSED TREE checkin 
Bug 491855 - Enabling CoreText should be explicit instead of magically enabled based on the SDK version, r=ted 
Bug 485827. Use FS_LAYOUT instead of OS to make bundling decisions. r=benjamin 
Bug 490274 - Memory leak in toolkit/xre/nsWindowsRestart.cpp; r=benjamin 
Bug 490275 - Memory leak in xpcom/glue/standalone/nsGlueLinkingWin.cpp; r=benjamin 
Bug 492113 - statically assert that we're not on trace in js_SetPropertyHelper, r=igor 
Bug 489643 - set sane default options in UNPACK_TAR; r=benjamin 
Fix mis-spellings of "receive" to kick builds on a CLOSED TREE. 
Bug 488175 - flatten dist/include and provide mechanism to install certain headers in namespaced subdirectories (e.g. #include "mozilla/XPCOM.h") r=ted 
Fix trace-malloc build bustage from bug 488175... tracemalloc/nsTraceMalloc.h is no longer 
Follow-up to bug 488175 with correct capitalization of makefile variable. 
Bug 492948 - Windows XULRunner stub can't discover the GRE anymore, due to using NS_ConvertUTF8toUTF16 before having loaded XPCOM, r=blassey 
Bug 494172 - Static libs such as libxpcomglue_s are not shipped in the XUL SDK: revert the parts of bug 488175 which were too eager: we still use dist/sdk/lib and dist/sdk/bin, just not dist/sdk/include or dist/sdk/idl, r=ted 
Bug 489273 - debug+libxul build broken on Windows, r=ted 
Backed out changeset eea9639048b8, bug 326628 main patch, due to regression bug 494899 
Backed out changeset 1aaacee9b2d0, bug 326628 string removal due to regression bug 494899 
Backed out changeset c41b9f3a9d83 - bug 487980 due to backing out 326628, due to regression bug 494899 
Intermediate merge for backout of bug 326628 
Intermediate merge for backout of bug 326628 
Final merge to back out bug 326628 (and followup bug 487980) due to regression bug 494899. 
Bug 326628 try #2 - remove window.pkcs11 and fix the device manager not to use that API, r=kaie 
Followup to bug 496824 - reverse the order of the asserts so that we know accessing cx->fp is safe 
Bug 496969 - The stack analysis is broken when compiling with -O3 -fstrict-aliasing. 
Bug 489299 TestSynchronization.cpp failed to compile with Sun Studio r=benjamin, jones.chris.g 
Bug 329882 - "bc has no properties console.js" [r=benjamin] 
Bug 490587 - "Warning in mozilla/xpcom/glue/nsGenericFactory.cpp" [r=benjamin] 
Bug 497838 - "AIX Compilation error for 3.6a1pre source xpcom/io/nsWildCard.cpp", line 215.28: 1540-0274 (S) The name lookup for "_shexp_match" did not find a declaration" [r=benjamin] 
Bug 487694 - "unable to build ssltunnel and some xpcom/test files due to CxxFrameHandler linkage" (Patch for nsIFileEnumerator.exe) [r=benjamin] 
Bug 498010 - Threads should release their observers when they are shut down; r=benjamin 
Bug 494490 - make install on linux installs the system_wrappers{_js} in includedir; r=benjamin 
Bug 494412 â Make error message more clear when we can't load xpcom due to lack of memory; (XPCOM part); r=benjamin 
Add headers to system-headers which we're using in electrolysis (trivial change) 
Bug 491988 - Annotation fixes required for analyzing JS_REQUIRES_STACK for function pointers, r=jorendorff 
Bug 491988 - do JS_REQUIRES_STACK analysis on function pointers, r=jorendorff+dmandelin 
Bug 498398 - fast natives such as array_sort and many others must not be JS_REQUIRES_STACK, r=jorendorff 
Bug 499971 - js_GetCallVar and several others which are used as JSNatives must not be JS_REQURIES_STACK, r=jorendorff 
GetAtomFromBytecode is actually JS_REQUIRES_STACK, just marking it so. 
Bug 501176 - Move nsXULAppAPI.h to tier-xpcom, r+sr=bz 
Bug 500660 - Don't load XPT files from plugin directories any more r=josh sr=jst 
Bug 430112 - <nsAutoLock.cpp>: 2 "warning: unused variable status"; (Bv1) Split the init to 2 instructions; r=benjamin 
Bug 136936 - TestInterfaceInfo is out of date - nsIServiceManager; r=benjamin 
Bug 502503 â Components.result should be Components.results in nsXULAppInstall.js; r=benjamin 
Bug 499144 - system-nspr dependency outdated in configure.in. r=benjamin 
nsIPluginInstance.getMIMEType should be a [shared, const] parameter... it doesn't follow the normal XPCOM rules about allocating memory. r=josh sr=jst 
Bug 501657 - Put local python modules at the beginning of the python path, not the end, tested by Jory Pratt 
Bug 503376 - Remove unused CalcAutoMargin function which stopped being used in bug 478614, r=bernd 
Windows bustage fix for bug 503377 
Bug 503067 - New warnings from HTML5 parser: suggest parentheses around assignment used as truth value. r=benjamin 
Bug 479667 - Firefox should use SetProcessDEPPolicy (if available) to get DEP protection on Windows XPSP3 as well as Windows Vista if the global configuration has DEP off by default, r=jimm 
Bug 483202 - Load chrome from the GRE directory in xpcshell, r=ted 
Bug 463417 - Import nsinstall.c from CVS (unmodified)... not hooked up yet 
Bug 463417 - import the nsinstall.exe source from CVS buildtools repository: make it capable of copying files with very long names, build it by default on Windows hosts, and stop using the moztools version, r?timeless 
Bug 463417 - Port the nsinstall_win stuff over to the JS build engine as well 
Fix review nits from bug 463417 which I forgot to address earlier. 
Bug 456719 run-mozilla.sh doesn't work well with ksh93 r=benjamin 
Bug 505857 - Fix up locking in the category manager, r=timeless 
Bug 488596 - test_crashreporter.js crashes intermittently: delete the exception handler before freeing the data it references, landing as a bustage fix with presumed-r=ted 
Fix bustage from bug 494828 by linking against libxpcom_core.so for tracemalloc symbols. 
Fix bustage again from bug 494828 by linking against libxpcomglue_s like we were, but continue to link against libxpcom_core also. 
Backed out changeset 6722800f261e - bug 448375 because it broke at least x86-64... turns out we do actually use DBUS bits from within libxul.so, and the fix for that bug may be quite a bit more complicated. 
Merge backout of bug 448375 
Bug 504750 - Add splashscreen support to build system. r=benjamin ui-r=beltzner 
Bug 504953 - Clean up firefox branding in the build system. r=benjamin 
Bug 502696 js_CompareAndSwap on sparc should not use PRLock() r=jorendorff sr=benjamin 
Resolve the static-analysis bustage from bug 498938 by recognizing COND_EXPR. 
Remove all of embedding/qa: it's completely unused and broken beyond repair. Checked with bc and a few others to make sure jstests weren't still in use by somebody. 
Bug 483437 - PSM doesn't properly escape AVA Values in Cert Viewer Details tab, r=nelson+benjamin 
Fix static-analysis bustage by using treehydra instead of dehydra. My theory is that the dehydra type cache is becoming confused by GCC tree GC which is reusing tree pointers for different types. 
Bug 508677 - Remove PyXPCOM (extensions/python) from mozilla-central. The code now lives in a separate repository, http://hg.mozilla.org/pyxpcom. moa=toddw r=ted 
Bug 494412 â Make error message more clear when we can't load xpcom due to lack of memory. r=benjamin 
Bug 502766 â Use GreD instead of XCurProcD to find out xulrunner-stub. r=benjamin 
Bug 504864 - mmap io for JARs; r=benjamin 
Bug 504864 - mmap io for JARs; r=benjamin
Bug 504025 - [windows x64] casting pointer to long is illegal on win64; don't cast HINSTANCE to int, use LONG_PTR instead; r=benjamin sr=cbiesinger 
Bug 489502 - Replace NS_ASSERTION(0, ...) by NS_ERROR(...) in mozilla-central; r=benjamin 
Bug 509138 - errors reported when building WinCE tools. r=benjamin 
Followup to bug 398573 - remove REQUIRES from the tree since it is no longer used... automatically generated patch, rs=ted 
Additional followup to bug 398573 - remove REQUIRES from the tree even when they are in makefile conditional blocks 
Additional followup #3 to bug 398573 - remove more REQUIRES by fixing another bug in the script 
CLOSED TREE spelling fixes to kick new builds. 
Bug 513023 - Move about:rights content to toolkit. r=benjamin 
Bug 513032 - remove empty conditionals in our makefiles, r=ted 
r=benjamin 
Bug 510963 - NPN_GetValue(NPNVPluginElementNPObject) is broken, r=josh 
Bug 507288 - move greprefs/*js into res/greprefs.js and add that to toolkit.jar. r=benjamin 
Bug 513924 - "remove tons of options from configure" [r=ted.mielczarek r=benjamin] 
Bug 515949 - nsCOMPtr/nsCOMArray<nsScreenCocoa> is bad because nsScreenCocoa doesn't have an IID, r=josh 
Bug 503451 - remove GeckoActiveXObject/COMObject, and similar functions which aren't usable by content except that content can still detect which COM objects are present on the system r=mrbkap sr=jst 
b=513859; XPCOM building on HILDON platform with nolibxul fail; r=benjamin 
Bug 517278 - JS_REQUIRES_STACK errors (jsobj.cpp and jstracer.cpp), r=jorendorff 
Bug 500870 - NS_OVERRIDE indicates that a method must override a base-class method, r=taras 
Sync changes to static-checking.js from the NS_OVERRIDE and NS_MUST_OVERRIDE bugs. 
Bug 485409 - Handle a Windows-style path as $srcdir in configure, by modifying the default autoconf M4 macros so that they recognize Z:/ as an absolute path. r=ted 
Bug 471054 - Prune old crash reports in pending/, splitting code into crashreporter_win and crashreporter_unix files, r=ted 
Build bustage from bug 485409: extra quoting required for PERL now. 
Followup to bug 517078 - separate out the plugin tests so that each test is separate. This makes it easier to see what the test is doing, has fewer potential interactions between tests, and made it easier to debug Electrolysis. Reworked slightly and r=griffin 
Bug 517943 - Need a way to append the contents of an nsTArray to another without copying. r=benjamin, sr=dbaron. 
No bug, TraceRecorder::tprint requires the stack, r=jorendorff on IRC 
Bug 518401 - configuring with a relative path fails on Windows, r=ted 
Add sys/quota.h to the system headers the correct way (followup to bug 72892) 
Force rebuild of nsLocalFileUnix.cpp 
Fix the static analysis error: m.isVirtual is a tri-state undefined, true, or "pure", and I didn't take that into account when writing the original NS_OVERRIDE analysis. 
Copy changes from revision d26387e649bd to js/src. 
r=(benjamin, cbiesinger, smontagu, ted.mielczarek) 
Bug 523438 - make nsFrameLoader* available to content/layout, r=bz 
Update pymake to pick up the fix for bug 523691 and some other stuff, NPODB. 
Bug 522157 Make -D__FUNCTION__=__func__ global for Sun Studio on Solaris r=benjamin 
Bug 524083 libmozqcms, libmozcairo, libmozlibpixman is not in libxul's depends r=benjamin 
Update pymake for additional fixes, including making it work in MozillaBuild 1.4 without manually exporting SHELL, not printing warnings for -include files which don't exist, and parsing errors in browser/locales/Makefile. 
Bug 524139 - Eval .all.pp instead of including it. This means that in the normal case we avoid any make restarts and the associated I/O that goes with them, which could possibly be slowing Windows builds down considerably r=ted 
Bug 524256 - Crash stacks not unwound correctly past NS_InvokeByIndex_P on Windows: use a #pragma to inform MSVC that the function has a frame pointer and it should not emit a specialized FPO stack-walking program, r=ted 
Bug 524693 - If MAKE is set in the environment, trust it (in js/src/configure.in), r=ted 
Bug 522352 - make nsSubDocumentFrame not assume as much about docshells: move all that into the frameloader, r=bz (preparation and merge reduction for Electrolysis, where not all frameloaders have docshells) 
Make NS_IsMainThread faster on our major platforms.  (Bug 521750)  r=dbaron 
Add runtime NS_IsMainThread checks to protect the cycle collector's purple buffer, and make NS_IsMainThread faster on our major platforms.  (Bug 521750)  r=peterv 
Bug 519468: matchOS is read from default prefs at startup [r=benjamin] 
Corrupt prefs.js file not removed if backup file (invalidprefs.js) exists. b=495735 r=dietrich r=benjamin 
Bug 519357 - Only load known binary components from the app directory by reading a components.list file, r=vlad 
Build bustage fix, bug 519357. I hate compilers. 
Unify rules.mk 
Bug 527058 - nsHelperAppDlg.js shouldn't do delayed registration, r=sdwilsh 
Bug 525221 - Loop over DIRS better in NSPR, r=ted 
Bug 526586 - XULRunner crashes on startup on Windows r=bustage fix and at least agreement on the approach from dbaron 
Backed out changeset 3e1290bba902 - Bug 525221 which was committed accidentally. 
Revert bug 525221 which was pushed accidentally. 
Bug 525106 - Make WebGL compile with UNCODE defined or not-defined by using explicit W annotations on the relevant functions/structs, r=vlad 
r=benjamin. 
r=benjamin. 
Bug 418774 - Make -moz-image-region work in native Mac menus. r=mstange, r=josh 
Script to import chromium code from upstream. 
Import Chromium sources r15462 
Added tag chromium-import-r15462 for changeset 6fd4bb500d42 
Added tag chromium-import-latest for changeset 6fd4bb500d42 
Build the pieces of the chromium code we actually need. Many thanks to bent for doing this the first time: I redid the Makefile to be all in one directory and use vpath directives so that dependencies work correctly. 
Mozilla-specific changes to the Chromium code, imported verbatim from  http://hg.mozilla.org/users/bturner_mozilla.com/libchromiumipc/ 
ipc/glue imported verbatim from http://hg.mozilla.org/users/bturner_mozilla.com/libchromiumipc/ 
Bug 501176 - Move nsXULAppAPI.h to tier_xpcom, r+sr?bz 
Make --enable-libxul the default, since we require it with IPC 
Hook up the event loop changes and fix the build 
Merge changes from mozilla-central to electrolysis 
Build fixes: * enable RTTI by default when building with GCC to work around the tr1/functional error * link with -lrt * Tell chromium that it's always using wide wchar on Linux 
Plugins stuff: this code is equivalent to electrolysis-tmp revision 61cd9e89fd00, except that I had to merge forward a minor change to the plugin-loading code from Josh's cleanup. 
Hook up the tab child process 
Import IPDL from cjones' working repo, revision 282b4211d881. New IPDL work will take place in electrolysis. 
Land the remote-tab code from tmp-electrolysis. 
Require Windows XP SP2, and disable a compile-time check which doesn't make much sense in the chromium code. 
Windows fixup: write files in binary mode so we have consistent Unix-style line endings, and always use forward slashes instead of os.path.sep 
Use PRUint32 instead of uint32_t since we don't have uint32_t on Windows (yet). 
Commit new versions of generated headers. 
Windows fixup: Windows does actually have 2-byte wchar_t. Also there was a possible missing PR_BEGIN_EXTERN_C that we really did need. 
Need to link with psapi.lib for GetProcessMemoryInfo (and skip -lrt on non-Linux) 
Minor fixups... not sure why we needed unistd.h here, but Windows doesn't have it. 
Goodbye, NO_NSPR_10 weirdness. 
Windows build fixup. I haven't really tested whether tabs actually *work* in this scenario (widget sizing and parenting might be interesting), but it's at least enough to allow other people to start really working on code. 
Bug 463417 - import the nsinstall.exe source from CVS buildtools repository: make it capable of copying files with very long names, build it by default on Windows hosts, and stop using the moztools version, r?timeless 
Build system for .ipdl files. 
IPCMessageStart.h shouldn't be checked in... should fix Windows build bustage. 
Link against dbghelp.lib on Windows to satisfy requirements of chromium/src/base/debug_util_win.cc (SymInitialize etc). This means the build requires Windows XP at runtime (or the user has to install the debugging tools for Windows, but I'm pretty sure we're ok with dropping Windows 2000 support). 
Because XRE_API hides function pointer declarations when XPCOM_GLUE is defined, don't use default values for function parameters 
Use a different hack to make the Linux tinderboxes green until we can upgrade to GCC 4.3 
Disable IPC on mac PPC, probably permanently 
Merge mozilla-central into Electrolysis 
Merge mozilla-central up to this weekend's Electrolysis changes 
Make --disable-ipc work... mac-ppc now builds by default. 
Commit the Fennec tile testapp from Stuart for testing 
Disable using the static C++ runtime (on Windows-MSVC) because Chromium requires the full version and we're getting duplicate symbols. See bug 508861 which may be a necessary in order to get nightly builds running again (we actually need to ship the C++ runtime somewhere). 
Bug 509798 - Create a ContentProcess protocol which manages IFrameEmbedding. ContentProcessChild is a globally-accessible singleton in the content process. For the moment, ContentProcessParent is a global singleton in the parent process, but that will change once we have process-per-domain or something similar. 
Return NS_OK from non-void function 
More Returning NS_OK from non-void functions. 
Bug 510025 - make TestShell a subprotocol of ContentProcess so that it is useful for prototyping 
Remove #ifdef 0 functions in nsNPAPIPluginParent which definitely won't live there. Some (memory allocation/deallocation) are local, while others should just be instance methods on the NPP wrappers. 
Package test.xul so that it ends up at chrome://global/content/test-ipc.xul. This allows it to be tested with nightly builds, as well as giving it chrome permissions so that jdm can work on hooking up typeaheadfind. 
Merge mozilla-central into Electrolysis 
Implement browser streams (NPStream from the plugin host to the plugin). Unfortunately, there aren't any tests for this stuff at all. Various related APIs like NPN_GetURLNotify are not yet implemented and will require changes to the protocol structure (you have to be able to associate a browser stream with a notify request through NPStream->notifyData). 
Revert accidental commit of printf-debugging code in the test plugin. 
PPluginStream is badly named: there is going to be a PPluginStream, but it's not this! 
Followup to changeset d3e90292fd30, discriminated union types: bustage fix when passing an actor 
Implement NPN_GetURLNotify/NPN_PostURLNotify/NPP_URLNotify. Still without any tests! 
Fix Windows build bustage from the NPN_GetURLNotify patch. 
* NP_GetMIMEDescription 
Actually implement the geturl/posturl functions on the child-side plugin host. 
Bug 517207 - Implement NPN_GetValue, r?bent. I use separate messages for each getvalue property instead of an integer/enumeration and a variant because for each message, the type returned is static: this avoids a lot of dynamic checking for correct enumeration values and variant types. r=bent 
Merge mozilla-central into Electrolysis. 
Fix up dom/plugins code for bug 516661 - no more nspluginsdefs.h! 
Merge mozilla-central into electrolysis to pick up new plugin tests. 
__FUNCTION__ is not a preprocess macro: it is a symbol which ends up being a const char* for the current function. You can't concatenate it with other stuff. 
Implement Plugin->Browser streams. In a very basic form the first plugin instantiation passes the new plugin stream tests, but subsequent instantiations don't: I think there's some shutdown/startup issue (the plugin is being unloaded, perhaps?) 
Oops, I did not mean for mochitests to test IPC-plugins by default (yet). 
Fix streams to work. Be consistent about AStream* for pdata/ndata. Set up pdata before actually calling the constructor. Implement functions which were stubbed out without TODO comments. This passes the stream tests! 
More plugin crash fixes: failure from NPP_Write doesn't actually destroy the stream, it just tells the browser to destroy the stream. NPP_NewStream resulting from NPN_GetURLNotify didn't have the notifyData field set correctly. Other minor logging and cleanup. 
Merge mozilla-central to electrolysis to pick up bug 515436. 
Bug 523097 - Turn off MOZ_IPC for platforms where we currently don't build, and fix up ifdefs so that everything builds 
Package mozilla-runtime in the hopes that the Windows xpcshell tests might stop hanging. 
Merge mozilla-central to electrolysis. 
Merge mozilla-central to pick up additional backouts and pymake fix. 
Don't reference IPC stuff when IPC is disabled in dlldeps-xul.cpp (hopefully will fix WinMo build). 
Don't special-case WINCE for nsinstall... hopefully this will make the WinMo tree green. 
Whoops, unify build files from last commit. 
Bug 522351 - check for remote="true" on the element before trying to remote it, r=bz 
Bug 522352 - make nsSubDocumentFrame not assume as much about docshells: move all that into the frameloader, r=bz 
Add #ifdef MOZ_IPC around new frameloader changes so that Mac/WINCE build again. 
Linux build bustage from bug 522122. 
Merge mozilla-central into e10s. 
We can use <xul:browser> now. Exciting! 
Bug 525106 - Make WebGL compile with UNCODE defined or not-defined by using explicit W annotations on the relevant functions/structs, r?vlad 
imported patch fennelectrolysis-workihng 
Reorder includes so that Windows links correctly (mismatched typedefs of uint16) 
Bug 525454 - Crash in mochitest-ipcplugins where NPP_Invoke returns the last reference to an object. Also fixes an operator-precedence error. 
Bug 525605 - Windows unit tests orange loading plugins: on Windows, the directly-imported plugin functions are WINAPI, so we need to use careful typedefs to get the calling convention right. 
Linux build bustage from previous commit, bug 525605. 
Remove stale TODO, this will be properly covered by parent-side error handling events. 
Disable the NPN_SetException tests for the time being until the e10s bug is fixed. 
Update chromium code to newer versions (rev 23304) to avoid tr1/function which doesn't compile without RTTI on, and disable RTTI by default. 
Merge from mozilla-central. 
Bug 526868 - Drop the dependency on GLIBCXX_3.4.9 by hacking Chromium logging to use NSPR logging instead of ostream. Pending r+ from cjones, but I wanted to get this landed to see what it did to the Linux testerboxes. 
Followup to the previous patch: give arguments to CHECK also, to fix Maemo build bustage and be consistent. 
Fix the chromium logging stuff: make CHECK/LOG release-and-debug (DCHECK/DLOG are debug-only), and make it print warning/error/abort using NS_DebugBreak, which is especially important for release aborts. 
Followup to last patch: using the ternary operator doesn't shortcut creating the temporary object, and I can't figure out why it was a ternary anyway: make it an if. 
Merge mozilla-central into electrolysis. 
The test plugin over-retains its scriptable object: NPN_CreateObject returns a retained object, so there's no need to retain it again. This shouldn't fix the leak but it does expose the bug bent just fixed. 
Don't rely on the plugin methods to return a non-null actor when the say NPERR_NO_ERROR... crashing here is a no-no even if the plugin is stupid. 
Bug 527925 - Print preview broken in e10s (really, broken any time you try to define UNICODE in widget/src/windows), switch to using wide variants of the necessary functions, r?jrmuizelaar 
Bug 523769 - Don't call into plugin hooks (specifically NPObject.deallocate) while mid-GC, r=jst+mrbkap 
Merge mozilla-central into electrolysis. 
Followup to bug 525090 - log new processes to a file based on the environment, instead of unconditionally to stdout, r=cjones 
Don't use a static nsCString (causing leaks in the plugin process). Also, use NS_LogInit/NS_LogTerm for the child process so that leaks are reported at the right time. 
Don't crash if NP_Initialize failed remotely: PluginLibrary::NP_Initialize returns an nsresult, not a NPError; nsNPAPIPlugin::CreatePlugin fails but still sets the outparam; nsPluginHost doesn't properly rv-check nsNPAPIPlugin::CreatePlugin, which causes us to think the bad plugin is actually good. I hate stupid failure chains! 
Backed out changeset 97c456993dbd -- red herring, no need for this debugging spew. 
Do full shutdown, instead of _exit(0) shutdown in the plugin process when we're doing leak checking. 
Bug 523208 - ensure mochitest expects multiple processes, original patch by jgriffin, reworked for ted's review comments by bsmedberg, r=ted 
Merge mozilla-central into Electrolysis. 
Bug 528367 - generate ipdl_{lex,yacc}tab.py in the objdir, not the srcdir 
Bug 530894 - Clean up TODOs in the plugin stream remoting: if NPN_{Get,Post}URLNotify fail, clean up the actor properly. Also deal with null postdata, which currently causes significant problems for the in-process case (NPN_PostURLNotify succeeds, but NPP_URLNotify is never called). r=bent 
More TODOs in the the plugin stream code, use the NullableString mechanisms which were invented after this landed. 
TODO-removal: make NullableStringGet an inline function instead of a macro, and make NullableString an inline function in mozilla::plugins instead of in an anonymous namespace: no need to have a separate copy of it for each translation unit. 
XXX removal: don't destroy the stream on failure (a future ActorDestroy callback will take care of that), and other shutdown- and crash-related XXX removal which are handled by bug 529005 
Merge mozilla-central into Electrolysis 
Added tag last-mozilla-central for changeset 2bae3bbf866e 
Straight revert of content/* dom/interfaces/canvas/* dom/ipc/* toolkit/content/tests/fennec-tile-testapp/* netwerk/* security/manager/ssl* to their mozilla-central state. This named branch will be used as a temporary area to merge just the plugin portion of electrolysis into mozilla-central. 
Straight revert of layout/* to its mozilla-central state, and removal of testshell which depends on PContentProcess. 
Straight revert of xpcshell to its mozilla-central state. 
Straight revert of dom/interfaces to its mozilla-central state. 
Remove makefile and glue bits which support out of process tabs on the electrolysis-plugins-only branch. 
Additional Windows-only change to remove tab-specific electrolysis code. 
"Merge" electrolysis-plugins-only back into the electrolysis default branch, but revert all the changes it made so that blame for the tab-specific code is still correct. 
Bug 532605 - _write conflicts with symbols in the MSVC runtime. Remove all vestiges of PR_BEGIN_EXTERN_C from nsNPAPIPlugin.{h,cpp}, so that these functions are given C++ mangled names in the namespace we actually declared for them. 
Bug 532659 - PluginScriptableObjectParent gets double-deleted when the plugin crashes, and fix the IPDL bug where we `delete` the actor if construction fails, instead of calling Deallocate on it, r=bent 
When the plugin crashes, set NPP->pdata to NULL, and null-check NPP->pdata in the callbacks that matter. r=bent 
Bug 532671 - After a plugin crashes, the module entry points (most importantly NPP_New) should fail, r=bent 
Bustage fix 
"Merge" electrolysis default back onto the the electrolysis-plugins-only branch. 
Merge mozilla-central into electrolysis 
Merge additional changes from electrolysis and mozilla-central into the electrolysis-plugins-only tracking branch. 
Bug 532700 - nsNPAPIPluginInstance can outlive its nsNPAPIPlugin, sr=jst pending r=josh 
Bug 532751 - Stop cacheing the nsNPAPIPlugin when it crashes, so that refreshing the page immediately reloads the plugin, r=bent pending r?joshmoz 
!MOZ_IPC build bustage from bug 532751 
Add a .crash() method to the testplugin, and test that crashing throws exceptions in the parent. 
Partly fix test bustage from bug 532751: set mShutdown before notifying the nsNPAPIPlugin, so that it doesn't re-enter IPC methods. 
Defer the PluginCrashed notification so that we don't delete the PluginModuleParent while we're in the middle of a crash notification. 
Added tag last-mozilla-central for changeset 65c1582465ef 
Oh snap! nsPluginTag.mEntryPoint became a nsCOMPtr in a merge and ended up being double-released. Victory is mine! 
Comment out the crash test until we can fix the leaking nsPluginHost as well as tell the test harness that it's ok that the crashing plugin process didn't print leak information. 
Merge mozilla-central into electrolysis. One code change was required: in nsDocShell::CreateStaticClone I replaced EnsureDocShell with MaybeCreateDocShell. 
Added tag last-mozilla-central for changeset 27937722da69 
Merge mozilla-central into electrolysis. 
test_crashing.html had windows-style line endings. 
Merge mozilla-central into e10s, again. 
Added tag last-mozilla-central for changeset a732c6d3c078 
End the electrolysis-plugins-only branch: merge in the remaining changes from electrolysis head in preparation for pushing to mozilla-central. 
Remove last-mozilla-central tags which are only useful on the electrolysis branch. a=me for landing into the tree I closed! 
WinMo bustage: Electrolysis doesn't have WinMo tinderboxes and we had a silent code race with bug 515748. 
Undo a change specific to multi-process tabs which causes pymake to fail. 
E10s landing build bustage on Windows --disable-ipc (SeaMonkey)... we're all-unicode now. 
Followup to e10s landing (and back to bug 516509): on Mac, NP_GetMIMEDescription and NP_GetValue are optional entry points, because the metadata can be retrieved from the .plist file, r=josh 
Bug 534701 - Make linkage work even in static builds (where nsEmbedFunctions.cpp is not built) r=cjones, a=bz for a CLOSED TREE 
Revert the electrolysis-plugins-only branch so that the Electrolysis repository can return to its normal (plugins and tabs) state. 
Merge electrolysis-not-just-plugins to the Electrolysis default branch. 
Merge mozilla-central into electrolysis. 
Added tag last-mozilla-central for changeset 925595f3c086 
Re-do a change which is remote-tab specific and was removed in mozilla-central plugins-only. 
Merge mozilla-central into electrolysis. 
Electrolysis-plugin-only bookkeeping commit. 
Bug 534866 - Fix Java and WMP plugins on Windows by initialize NPPluginFuncs.size before calling NP_Initialize, regression from bug 516509 which landed with the e10s merge, a=blocker-regression r?pending from josh 
Merge mozilla-central into electrolysis 
Followup to review comment for bug 534866: don't set fCallbacks.size twice on MacOSX. 
Merge only plugin changes from e10s to mozilla-central. 
and subsequent errors and leaks 
Merge backout of revision 08e208698ef0, bug 533688 because of Tinderbox orange. 
e10s merge bits snuck in again :-( 
Mark the two tests random on Windows which are causing problems, bug 524732 (reverting http://hg.mozilla.org/mozilla-central/rev/9f7c1fa9b2de to random-if instead of fails-if) 
No-op merge mozilla-central tip back to Electrolysis, keeping tab-specific changes. 
Added tag last-mozilla-central for changeset dba2abb7db57 
Reland the changes from mozilla-central that I accidentally reverted in revision 5c9ee961025c 
Bug 532751 - Notify the nsNPAPIPlugin and the related nsNPAPIPluginInstances when a plugin crashes so that reloading will create a new plugin process, r=josh 
Bug 518924 - Implement NPN_AsyncCallback r=cjones 
Merge mozilla-central to electrolysis. 
No-op Electrolysis plugins only. 
Merge plugin changes from electrolysis to mozilla-central. 
Disable test_crashing.html because it may be causing hangs still and I have little confidence in it yet. 
Bug 532608 - osso-mem.h used but not added to system-headers, r=benjamin 
Fixing build bustage from bug 528004 and bug 532072: sync config/ and js/src/config, for checkin to CLOSED TREE 
Backed out changeset 94561cb0f0bd, bug 474500 because of static-analysis bustage. 
Merge backout of bug 474500 (API to flush the JIT code cache) because of build bustage. CLOSED TREE checkin. 
Back out all the pieces of bug 531585 (transitioned event for end of CSS transitions) because of timeouts in test_transitions_events.html 
Back out all the pieces of bug 531585 (transitioned event for end of CSS transitions) because of timeouts in test_transitions_events.html 
Re-enable test_crashing.html on the electrolysis branch to see how random/reproducible it is. 
Bug 534736, and perhaps some others: parent crash within mozilla::plugins::PPluginInstanceParent::DestroySubtree, r=cjones 
Bug 535298: Cancel the NotifyMaybeChannelError event if the AsyncChannel is destroyed, and allow AsyncChannel::Close() to be called after a channel error (e.g. child process crash). r=cjones 
Bug 535802 - disable the Windows JIT crash dialog when running mochitests, r=ted 
Followup to bug 535802, make it work on Linux too by passing around the program name from argv[0] 
Test for bug 535298, crashes which occur during NPP_New or NPP_Destroy 
Fix the test for bug 535298 - because plugin instantiation is asynchronous, we are crashing the plugin process after we meant to, which leads to a JS error and a hung test 
Better safety checks for Cocoa menu code, potential crash fix. b=532585 r=josh 
Bug 537936 - Temporarily disable test_events_coalesce.html and test_events_doc.html because of tinderbox orange 
Bug 536173 - Build fails when building platform.ini with an uncommitted merge: "ValueError: too many values to unpack", r=ted 
Remove the dom.ipc.tabs.enabled pref from mozilla-central because it's useless and confusing people. 
Bug 532246 - Plugins should not be able to obtain an NPObject* belonging to a different NPP, because that instance may go away before this one and the NPObject* may be invalidated and destroyed. Double-wrap in these cases. r=josh sr=jst 
Tests for bug 532246, r=jst 
Bug 538388 - Make find-leakers.pl work with the output of XPCOM_MEM_ALLOC_LOG as it dose with XPCOM_MEM_REFCNT_LOG, r=dbaron 
Bug 536303 - OOPP: disable oopp for Windows 2000. r=benjamin. 
Bug 536437 - work around a bug in the Mozilla plugin host where NPN_GetURLNotify can return an error and also call NPP_URLNotify, r=cjones 
Tests for bug 536437 
Followup to bug 536437 - fix the test so that we wait for the new tests to complete 
Our plugin host has a bug with malformed data URIs: mark this test todo. 
Disable the malformed-data-URI test, since the plugin host is broken and we're double-deleting the urlnotify context pointer in the testplugin. 
Bug 531859 - Remove stdout spew from dom/plugins by using NSPR logging, r=cjones 
Import ctypes.wintypes explicitly to avoid a python exception when child processes get hung. 
Bug 538642 part 1: Add a method to the testplugin to set the exception bit, the way some bad plugins/extensions do, r=ted (Windows-only for the moment) 
Test for bug 533035/bug 536842 - the FPU exception handler should work, r=ted 
Bug 538642 - Breakpad shouldn't treat FPU exceptions as crashes, and the FPU exception handler should chain correctly, r=ted 
Bug 539290 - Test harness should look for minidumps from child (plugin) processes but not turn the tree orange automatically, r=ted 
Bug 539048 - Hacky temporary UI for sending plugin-process crash reports, r=ted 
Followup to bug 516759 (multi-process crash reporting), make childCrashNotificationPipe a leaked char* instead of a leaked nsString, so that it doesn't show up in leakstats. r=ted (Filed bug 539451 as a followup.) 
Bug 521377 build-bustage followup: make template instantiations available inline, r=bent 
Bug 539280 - Add support for NPNVnetscapeWindow query on Linux, r=karlt 
Bug 521377 build-bustage followup: make template instantiations available inline, r=bent 
Followup to bug 530980 - Make the setCookie() method initialize its return value 
Bug 539755 - Implement NPN_GetValueForURL, NPN_SetValueForURL, and NPN_GetAuthenticationInfo, r=bent 
Bug 539726 - Increase the timeout for plugin positioning due to delays in XEmbed process compared with in-process (which only requires delaying out to the event loop), as suggested by karlt 
Bug 518924 - NPN_ScheduleTimer, and clean up asynccalls when the plugin instance is destroyed, r=cjones 
Bug 540776 - Initialize NPRuntime scriptable result variants the same way the Mozilla plugin host does, r=cjones 
Bug 540775 - Implement NPP_SetValue(NPNVprivateModeBool), r=cjones 
Remove the result-initialization from e9c045ce1618 which shouldn't be needed, bug 540776 fixed this the correct way. 
Bug 541155 - test_loadflags.html doesn't reset prefs properly (manifests as a failure in modules/plugin/test/test_cookies.html), r=dwitte 
Stupid logic error from bug 539755 
Bug 540858 part I: separate the refcount logging of NPObject (which works for both plugin and proxy NPObject) from ctor/dtor logging of ChildNPObject (proxy only), r=bent 
Bug 540868 part 2: keep all NPObjects (not just those with actors) in mObjectMap, and invalidate/deallocate them when we destroy the associated instance, r=bent 
Bug 540868 part 3: when deallocating NPObjects in leakcount builds, let the leak monitor know that we cleaned them up correctly, r=bent 
Bug 540967 - "missing output line for total leaks" because the parent process isn't waiting for the child process to clean up/write leak logs, r=cjones 
Bug 535564 part 2: only open the PID for short periods while we're writing to it, r=jgriffin 
Bug 540604 - silverlight doesn't work with OOPP because it doesn't set the stype outparam for NPP_NewStream, and relies on us initializing the value with NP_NORMAL, r=cjones 
But 535564 part 3 - don't inherit leak/bloat log handles from parent to child processes on Windows: the Java plugin spawns a process which can remain after our Firefox/plugin processes are properly cleaned up, preventing the log files from being closed, r=jgriffin over IRC 
Fix typo in error-handling case that we rarely hit, r=trivial 
Add a timeout for test_plugin_focus in order for events to be delievered to asynchronous event loops, r=jimm 
Fix bustage from bug 542337, this function doesn't exist. 
Bug 541707 - semi-random failures in test_crashing2.html, probably due to interminism in the crash/crashreport/reload sequence 
Bustage fixup from bad merge of bug 535564 
Rename Crash() to IntentionalCrash() so that automation can grep for it. Make it non-static, and add trailing instructions to it so that it isn't inlined nor tail-called away in crash reports. 
When calling a null function pointer, breakpad apparently skips a frame. In order for intentionalCrash() to appear in the minidump, try dereferencing a null pointer instead. 
Bug 531142 - Turn on multi-process plugins by default 
Work around bug 542337 by making the testplugin not call IPDL methods to paint. 
Bug 534644 - implement Qt ipc/chromium backend, first part. r=benjamin, r=jones.chris.g 
Bug 539063 - Implement a whitelist/blacklist for OOPP, r=josh 
Change the exit code of the crashreporter TerminateThread in the hopes that this will help diagnose bug 535585. 
Bug 534644 - e10s: implement Qt ipc/chromium backend, part 2. r=benjamin. 
Bug 542248 - ASSERTION: Shouldn't return null and NPERR_NO_ERROR (and then crash) navigation from one silverlight page to another, r=josh 
revert changeset f61e06c31086 (bug 542971) since it caused bug 543376. 
Bug 542263 - Deallocating a scriptable object shouldn't cause us to mark the actor as invalidated. If the object is resurrected by a racing call from the other side, simply create a new NPObject on this side to represent the actor (Crash at NPObjWrapper_NewResolve with Silverlight), r=bent 
Testcase for bug 542263 - crash at NPObjWrapper_NewResolve or various other places 
Bug 542263 - Deallocating a scriptable object shouldn't cause us to mark the actor as invalidated. If the object is resurrected by a racing call from the other side, simply create a new NPObject on this side to represent the actor (Crash at NPObjWrapper_NewResolve with Silverlight), r=bent 
Testcase for bug 542263 - crash at NPObjWrapper_NewResolve or various other places 
Work around bug 543776 by submitting empty PluginName/PluginVersion in crash reports. 
Bug 544016 - If two plugins are available for a MIME type, prefer the enabled one to the disabled/blocklisted one, r=josh 
Bug 516515 - Don't initialize XPCOM in plugin processes, r=cjones 
Bug 541646 - Crash when Flash is running and we enter private browsing mode, r=bent 
Bug 535120 - NPN_GetValue(NPNVToolkit) doesn't work with null npp, r=bent 
Bug 544361 - Silverlight 3 doesn't work since XPCOM was removed from plugin processes, it needs CoInitialize, r=cjones 
Bug 541446 - sort out details of where OOP minidumps should wind up. r=benjamin 
Bug 541594 - extend nsIINIParser to allow writing INI files.  p=dolske+benjamin, r=benjamin, r=dolske 
Leak fix for bug 539843. Make sure that .cleanup() is called in all the error conditions so that the pending-submit list is cleaned up. r=Mossop 
Followup to bug 543086 - PBBUILD isn't set until you include config.mk, use PBBUILD_BIN instead 
Followup to bug 541446 - nsIEnvironment.set will intentionally leak a string when you call it because that is required by the PR_SetEnv API. Make that string something which is not tracked by our leak detector 
Bug 543788 - Detect an empty updaterect and don't propagate anything to the child, r=bent 
Commit remaining piece of bug 543788, r=jimm 
Attempt to fix x86-64 build bustage by moving chromium_s after xpcom_core, r=ted 
Backed out changeset fe08cc555248 - bug 517097 - make enabling debug symbols more sane because it added -fno-inline to opt builds and a 50% perf regression 
Backed out changeset fe08cc555248 - bug 517097 - make enabling debug symbols more sane because it added -fno-inline to opt builds and a 50% perf regression 
Followup to bug 538918 - Don't leak gNeuteredWindows, r=jimm 
Bug 543788 - Inform Windows that the window which has an empty update area is actually valid by calling ::ValdateWindow explicitly, r=jimm 
Bug 545892 - mozilla-runtime.exe doesn't have a manifest when jemalloc is enabled: in this case the linker doesn't generate a manifest because there are no dependent assemblies, so we should only use the manifest specified in the source directory, r=ted 
Bug 542263 for real! Deallocate shouldn't invalidate plugin scriptable objects because they may be resurrected. This supposedly landed in mozilla-central revision 4c6d4be91aaa but that was an empty revision, probably due to some transplant error. r=bent 
Actually run test_GCrace.html from bug 542263 which was committed in revision e9d8b376d014. The missing Makefile change is due to a bad transplant which I didn't notice :-( r=bent 
Bug 543977 - NPClass.invoke should be optional when a class just wants to implement NPClass.invokedefault, r=jst 
Sync js/src/config with the main one, from bug 545892 
Backed out changeset 4d8d4fd97c4f - bug 543764, because of deadlocks. 
Backed out bug 543764 because of deadlocks. 
Bug 545080 and bug 537344 - When UNICODE is defined in modules/plugin/base/src, we follow codepaths that aren't right, and the fields of nsPluginInfo are double-converted to UTF8, which is bad, r=josh 
Followup to bug 545080, convert additional functions to the explicit "W" variants so that even when we're not building with -DUNICODE we always use unicode paths, r=Thunderbird bustage 
rs=ted.mielczarek r=benjamin. 
Bug 543802 - blacklist common Xt plugins on Linux (VLC and Acrobat) so they are in-process, until we implement OOPP for Xt plugins, r=karlt 
Bug 547316 - Plugin window subclass is not reset when CallNPP_Destroy fails, r=bent 
Bug 547894 - Allow null in NPN_GetStringIdentifier(s) to fix a topcrash with the divx plugin, r=bent 
Add `return` statement to fix build bustage from bug 503989 
1;2cBug 548217 - Make NP_SEEK streams work properly: they shouldn't crash if NPN_RequestRead is called after all the stream data is delivered, and they should call NPP_DestroyStream when NPN_DestroyStream is called, but not before. To this end, the classes nsPluginStreamInfo and nsPluginStreamListenerPeer have been unified: the nsNPAPIPluginStreamListener holds the stream listener peer alive so that additional range requests can be made on it. In addition the nsNPAPIPluginStreamListener holds *itself* alive for NP_SEEK streams, and only calls releases itself/calls CleanUpStream when the plugin explicitly calls NPN_DestroyStream or when the associated plugin instance is being destroyed. r=josh 
Bug 532208 - Make PBrowserStream destructor uni-directional by delivering all data asynchronously and doing two-phase (acknowledged) destruction, r=bent 
Bug 544074 - Crashes at mozilla::plugins::PluginModuleChild::UnregisterActorForNPObject - the hash of scriptable objects is mutating while we enumerate the actors being destroyed after a plugin instance is destroyed. Save the list of actors off into a separate non-mutating table, r=bent 
Bug 545712 - "A crash report was submitted" even when it wasn't. Check whether crashreportID is empty, which means there was no crash report. Also check whether CrashSubmit.submit returns false indicating that the crash report wasn't found in the expected location, r=dolske+gavin 
Backed out changeset e4a7ea0bb90f bug 532208 - asynchronous stream delivery because write events were being dispatched in odd re-entrant states and NPP_DestroyStream was being delivered before all the stream data was delivered. 
Merge backout of bug 532208 due to test failures, crashes, and overall badness. 
Backed out changeset 77dc38d8196e - bug 548217 because even though this patch is correct, it exposes a bug in the OOPP code which got backed out. 
Merge backout of bug 548217 
Bug 548217 - Make NP_SEEK streams work properly: they shouldn't crash if NPN_RequestRead is called after all the stream data is delivered, and they should call NPP_DestroyStream when NPN_DestroyStream is called, but not before. To this end, the classes nsPluginStreamInfo and nsPluginStreamListenerPeer have been unified: the nsNPAPIPluginStreamListener holds the stream listener peer alive so that additional range requests can be made on it. In addition the nsNPAPIPluginStreamListener holds *itself* alive for NP_SEEK streams, and only calls releases itself/calls CleanUpStream when the plugin explicitly calls NPN_DestroyStream or when the associated plugin instance is being destroyed. r=josh/jst 
Bug 532208:  Test for large streams 
Backed out changeset f829f942873d - bug 548217 because of topcrash bug 549112 
Merge backout of bug 548217 because of topcrash bug 549112 
Bug 528250 - Unify all the intermediate tiers (xpcom/necko/external/gecko/toolkit) into one tier_platform, r=ted sr=vlad 
r=benjamin. 
r=benjamin. 
r=benjamin. 
Bug 550145 NS_APPSTARTUP_CONTRACTID should exist in nsToolkitCompsCID.h and not nsXPFEComponentsCID.h (kill nsXPFEComponentsCID.h). r=benjamin 
Bug 546492 - Provide a resource description for mozilla-runtime.exe, r=ted with altered text suggested by dolske 
Bug 550305 - Reduce round-trips by making some NPRuntime/scriptable methods async instead of RPC, r=bent 
r=benjamin. 
r=benjamin. 
Bug 550602 - pymake broken with ctypes changes, override SHELL, r=ted 
1;2cBug 548217 - Make NP_SEEK streams work properly: they shouldn't crash if NPN_RequestRead is called after all the stream data is delivered, and they should call NPP_DestroyStream when NPN_DestroyStream is called, but not before. To this end, the classes nsPluginStreamInfo and nsPluginStreamListenerPeer have been unified: the nsNPAPIPluginStreamListener holds the stream listener peer alive so that additional range requests can be made on it. In addition the nsNPAPIPluginStreamListener holds *itself* alive for NP_SEEK streams, and only calls releases itself/calls CleanUpStream when the plugin explicitly calls NPN_DestroyStream or when the associated plugin instance is being destroyed. r=josh 
Followup to bug 548217 - Instead of using a bizarre dual-refcounting scheme, explicitly track when nsPluginStreamListenerPeer.mLocalCachedFile is shared and should be deleted, r=josh 
Test for bug 550944 - When a stream is alive when a plugin instance is destroyed, NPP_DestroyStream and NPP_URLNotify are never called 
Bug 550944 - If a stream is alive at instance destruction, make sure we fire NPP_DestroyStream and NPP_URLNotify correctly. Also make the new-stream functions (NPN_GetURL etc) fail while we are destroying a plugin instance, r=josh 
Bug 551387 - octoshape plugin crashes because it doesn't implement NPNFunctions.setwindow, r=bent 
Revert the RPC-style race resolution from bug 532208 in order to use the asynchronous delivery patches. 
Bug 551049 (was bug 532208) part 1 - Make PBrowserStream destructor uni-directional by delivering all data asynchronously and doing two-phase (acknowledged) destruction, r=bent 
Bug 551049 (was bug 532208) part 2 - Delay delivery of NPP_DestroyStream until stream data is delivered, and make sure that data delivery doesn't re-enter, r=bent 
Bug 551049 part 3: delay the delivery of NPP_URLNotify until the related stream is completely delivered and destroyed, and propagate errors from NPP_Write and NPN_DestroyStream back to NPP_URLNotify r=bent 
Merge and review fixup from async streams, bug 551049 
Followup to bug 551049 - make the closing reason match that used by the in-process host 
Bug 545342 - Remove the RPCChannel assertions about mismatched RPC stacks because mismatched stacks are normal when asynchronous messages are pending which cause secondary RPC messages, r=cjones 
Bug 524449 - Remove nsIPref from tree. r+sr=benjamin 
Bug 542700 - Async calls aren't cancelled when the instance is destroyed, and the list of pending calls isn't protected against simultaneous access, r=cjones 
r=benjamin. 
Bug 558397 - Some PDF files don't open when loaded full-page because the nsNPAPIPluginStreamListenerPeer.mURI isn't initialized in that case, r?josh 
Bug 558390 - Quake Live crashes because it implements NP_Initialize using cdecl, instead of the correct stdcall. Force the calling function to use a frame pointer so that the stack pointer gets reset correctly before we return, r=jrmuizelaar, landing in mozilla-central for bake time pending review from josh or jst 
Bug 558390 followup, non-Windows build bustage and removal of unnecessary call/hacks for functions which aren't stdcall, r=josh 
Bug 538929 - Avoid creating XRE_SYS_LOCAL_EXTENSION_PARENT_DIR and NS_APP_PREFS_OVERRIDE_DIR with wrong permissions [r=benjamin] 
Bug 555189 - Cleanup reftest and mochitest logs during 'make clean' [r=benjamin] 
Bug 555894 - Don't use static strings when setting environment variables [r=vladimir, sr=benjamin] 
Bug 555901 - Support for GNU/Hurd [r=benjamin] 
Bug 555910 - Increase stability and performance on mips by not using -Wa,-xgot [r=benjamin] 
Bug 532198 - Reimplement xptcinvoke for arm/linux in C [r=Jacob.Bramley, r=vladimir, sr=benjamin] 
Bug 528687 - Don't use TLS variables on mips, because of a binutils bug [r=benjamin] 
Bug 530534 - Add -ldl in libxul-embedding pkg-config libraries [r=benjamin] 
Bug 558789 - Allow to build against system libevent [r=benjamin, r=cjones] 
Bug 502301 - fix C++0x narrowing conversion inside {} compilation errors [r=benjamin] 
Bug 502301 - Fix binhex_decode array signedness which broke builds on architectures where char is unsigned [r=benjamin]
Test for bug 560213 - heap corruption accessing new properties of a crashed plugin 
Bug 560213 - Don't double-delete PluginIdentifierParent when the plugin has already crashes, r=bent 
Bug 558747 - Fix --with-system-bz2=/some/path configure flag [r=benjamin] 
Bug 560769 - Fix arm xptinvoke on debug builds [r=benjamin] 
Bug 561117 - "hang-pair: hang|mozilla::plugins::PPluginInstanceParent::CallNPP_SetWindow(mozilla::plugins::NPRemoteWindow const &) against hang|NtUserMessageCall | SendMessageWorker" [r=benjamin] 
Bug 560932 - increase the timeout for the plugin hang detector, we appear to be triggering it on slow machines which are functioning semi-normally, r=cjones a=rs for CLOSED TREE 
Bug 448375 - Only depend on dbus-glib when needed. Depend on dbus instead [r=benjamin] 
Bug 559425 - Don't assert if a plugin tries to call NPRuntime methods on a plugin in a document that has already navigated away, r=jst 
Backed out changeset 560eb81389cc - Bug 560932 - change the hang detector timeout for OOPP back to 10 seconds, because we believe we've found the real cause of the problem in bug 558629. 
Merge backout of bug 560932 - change the hang detector timeout for OOPP back to 10 seconds, because we believe we've found the real cause of the problem in bug 558629. 
Bug 561871, part A: IPDL changes to expose ProcessNativeEventsInRPCCall from the toplevel actor, r=cjones 
Bug 561871 part B: don't use Windows events to enter/exit a nested event loop within an RPC stack frame, because delivery of those events isn't always associated with the correct stack frame, and also because the events can be lost if they race with an incoming RPC reply message. Instead, keep a linked list (on the stack) of RPC frames globally and per-channel, to associate requests to enter a nested event loop with the correct frame, r=jimm 
Bug 368477 - Set $HOME with data from getpwuid if $HOME is not set. [r=benjamin] 
Bug 561971 - Cleanup ipdl generated code and compiled python on make clean [r=benjamin] 
Bug 561817 part A: Entered/ExitedCall callbacks for toplevel actors upon RPC in-calls. r=bsmedberg 
Bug 561817 part B - Install the nested event loop tracking mechanism for all RPC calls to plugins, not just specific handle-event calls, r=jimm 
Bug 561817 part C - restore the NestableTasksAllowed munging that was removed in patch B: I thought it was vestigial, but it's necessary, r=bent 
Bug 562318: Set dom.ipc.plugins.enabled to false if configured with --disable-ipc. r=benjamin 
Bug 563294 - Include memory.h instead of memory to avoid failure to build in gcc C++0x mode [r=benjamin] 
Bug 564607 - Plugins which implement NPClass.enumerate crash Firefox when run OOP: fix the precedence of C++ operations, r=bent 
Test for bug 564607 - Firefox crashes when an OOPP plugin implements NPClass.enumerate 
Bug 564861 - NPN_IntFromIdentifier always returns INT_MIN when running in OOPP mode because of a backwards conditional check. Also, int identifiers of -1 don't work correctly when the parent first creates the identifier, because we were misusing a sentinel value. r=bent 
Test for bug 564861 - Make sure that integer identifiers work correctly when running OOPP 
Bug 563936 - Make google_breakpad::ClientInfo::UnregisterWaits handle pseudo-errors from UnregisterWait correctly if there is I/O pending at the time, r=doshimun a=mossop 
Bug 540665 - Make nsIRunnable a function so JS can use it as such. r=benjamin 
Bug 388569 - Memory leaks when calling nsVariant::GetAsInterface. r=benjamin 
Bug 434190 - Avoid hppa frame size issue in xptcstubs assembly with tail call optimization by disabling optimization [r=benjamin] 
Bug 558986 - Fix for crashes in TSF with Flash/Silverlight on tablets (OLE/COM nested event loops). r=cjones, jimm, ehsan. 
Bug 564260 - Fix for plugin hangs in [@ hang | KiFastSystemCallRet | NtUserSetFocus]. r=masayuki. 
Bug 549388 - Don't use refcounting for nsProxyObjectManager: create it once, and destroy it at shutdown after all the clients have finished with it, r=timeless 
jscntxt.h(796): warning C4099: 'js::TraceMonitor' : type name first seen using 'class' now seen using 'struct', see jsprvtd.h(158), r=jorendorff 
Bug 569948 - Remove NS_InitEmbedding because it was obsoleted long ago by XRE_InitEmbedding and it's a footgun, r=mfinkle sr=dougt 
Bug 569948 part B - disable building the ActiveX control and IDispatch scripting bridge in all configurations, r=mfinkle 
Bug 567357 - Fire a DOMWindowCreated event which matches the observer-service notification in bug 549539 so that extensions/message-manager scripts can add DOM features before any content script runs, r=sicking 
Bug 569644 - Query the plugin host directly when searching for MIME types, rather than using Gecko-Content-Viewer category manager registration, r=bz 
Bug 569547 - fastcall useless on win64. r=benjamin 
Bug 570488 - Stop reading/writing xpti.dat and incrementally loading XPT files [1/2] r=Mossop 
Bug 570488 - Fix loading of XPTs nested in JARs [2/2] r=mwu 
Bug 449129 - abort a plugin process if a plugin attempts to spin an event loop while painting, r=jmathies 
Bug 449129 followup: actually decrement the PaintTracker properly 
Bug 569586  - XPCOM compilation failure on mingw-w64 due to pointer to int cast loosing precision. r=benjamin 
Bug 556400 - Implement asyncable VisitURI. r=sdwilsh sr=bz 
Bug 566738 - Add SetURITitle to IHistory. r=sdwilsh sr=bz 
b=571448 In the XCopyArea region code, don't modify src_x/y when they are later used in the unbounded fixup code r=jrmuizel 
Bug 574457 - Back out the functional changes from revision 0327e126ea24, bug 569644, because of 100ms (20%) Ts regression on Linux/Mac. This leaves the nsIContentUtils helper function, but restores the plugin host category entry munging. 

Bug 574457 - Back out the functional changes from revision 0327e126ea24, bug 569644, because of 100ms (20%) Ts regression on Linux/Mac. This leaves the nsIContentUtils helper function, but restores the plugin host category entry munging. Bug 556400 - Implement asyncable VisitURI. r=sdwilsh, sr=bz 
Bug 566738 - Add SetURITitle to IHistory r=sdwilsh, sr=bz 
Bug 575908 - Leak fix: remove all pending tasks from queue. r=sdwilsh 
Backout of bugs 575908, 566738, and 556400 
Electrolysis with tabs support. 
Merge mozilla-central to electrolysis. 
Re-enable test_crashing.html on the electrolysis branch to see how random/reproducible it is. 
Bug 534736, and perhaps some others: parent crash within mozilla::plugins::PPluginInstanceParent::DestroySubtree, r=cjones 
Bug 535298: Cancel the NotifyMaybeChannelError event if the AsyncChannel is destroyed, and allow AsyncChannel::Close() to be called after a channel error (e.g. child process crash). r=cjones 
Bug 535802 - disable the Windows JIT crash dialog when running mochitests, r=ted 
Followup to bug 535802, make it work on Linux too by passing around the program name from argv[0] 
Merge mozilla-central to electrolysis 
Re-add change accidentally removed during mozilla-central merge. 
Test for bug 535298, crashes which occur during NPP_New or NPP_Destroy 
Fix the test for bug 535298 - because plugin instantiation is asynchronous, we are crashing the plugin process after we meant to, which leads to a JS error and a hung test 
Merge mozilla-central to electrolysis. 
Merge mozilla-central into electrolysis. 
Merge mozilla-central to Electrolysis. 
Bug 536437 - work around a bug in the Mozilla plugin host where NPN_GetURLNotify can return an error and also call NPP_URLNotify, r=cjones 
Tests for bug 536437 
Merge mozilla-central to electrolysis. 
Followup to bug 536437 - fix the test so that we wait for the new tests to complete 
Our plugin host has a bug with malformed data URIs: mark this test todo. 
Merge mozilla-central to electrolysis. 
Merge mozilla-central into electrolysis. 
Bug 531859 - Remove stdout spew from dom/plugins by using NSPR logging, r=cjones 
Merge mozilla-central into electrolysis. 
Pick up mac bustage fix in electrolysis. 
Disable the malformed-data-URI test, since the plugin host is broken and we're double-deleting the urlnotify context pointer in the testplugin. 
Bug 539290 - Test harness should look for minidumps from child (plugin) processes but not turn the tree orange automatically, pending r?ted, pushing to suppress incorrect orange in the electrolysis tree. 
Bug 539048 - Hacky temporary UI for sending plugin-process crash reports, r=ted 
Followup to bug 516759 (multi-process crash reporting), make childCrashNotificationPipe a leaked char* instead of a leaked nsString, so that it doesn't show up in leakstats. r=ted (Filed bug 539451 as a followup.) 
Merge mozilla-central into electrolysis 
Enable out-of-process plugins by default in the electrolysis tree. 
Merge mozilla-central into electrolysis 
Bug 539280 - Add support for NPNVnetscapeWindow query on Linux, r?karlt 
Bug 521377 build-bustage followup: make template instantiations available inline, r=bent 
Merge mozilla-central into electrolysis before bug 530475 to avoid merge conflicts with bugs landed in both branches. 
Merge mozilla-central into electrolysis. 
Merge mozilla-central to electrolysis. 
Bug 539726 - Increase the timeout for plugin positioning due to delays in XEmbed process compared with in-process (which only requires delaying out to the event loop), as suggested by karlt 
Merge mozilla-central into electrolysis 
Merge mozilla-central into electrolysis. 
Bug 518924 - NPN_ScheduleTimer, and clean up asynccalls when the plugin instance is destroyed, r=cjones 
Bug 540776 - Initialize NPRuntime scriptable result variants the same way the Mozilla plugin host does, r=cjones 
Bug 540775 - Implement NPP_SetValue(NPNVprivateModeBool), r=cjones 
Merge mozilla-central into electrolysis. 
Remove the result-initialization from e9c045ce1618 which shouldn't be needed, bug 540776 fixed this the correct way. 
Push printfs to tinderbox because the e10s errors are... surprising, especially on mac! 
Merge mozilla-central to electrolysis. 
Bug 541155 - test_loadflags.html doesn't reset prefs properly (manifests as a failure in modules/plugin/test/test_cookies.html), r=dwitte 
Stupid logic error from bug 539755 
Backed out changeset df78efe07b18, debugging only printfs now that 541155 is diagnosed. 
Merge backout of the printfs to diagnose bug 541155 
Bug 540858 part I: separate the refcount logging of NPObject (which works for both plugin and proxy NPObject) from ctor/dtor logging of ChildNPObject (proxy only), r=bent 
Bug 540868 part 2: keep all NPObjects (not just those with actors) in mObjectMap, and invalidate/deallocate them when we destroy the associated instance, r=bent 
Bug 540868 part 3: when deallocating NPObjects in leakcount builds, let the leak monitor know that we cleaned them up correctly, r=bent 
Bug 540967 - "missing output line for total leaks" because the parent process isn't waiting for the child process to clean up/write leak logs, r=cjones 
Merge part of mozilla-central to electrolysis after the pushes from 21-Jan. 
Merge electrolysis tip with intermediate merge point. 
Merge mozilla-central with electrolysis. 
Re-enable the timer/asynccall tests now that the ChildNPObject leaks are fixed 
Printf-debugging to help figure out bug 535564 
Rename Crash() to IntentionalCrash() so that automation can grep for it. Make it non-static, and add trailing instructions to it so that it isn't inlined nor tail-called away in crash reports. 
Bug 535564 - automation.py: WindowsError: [Error 13] The process cannot access the file because it is being used by another process. Don't keep the PID log open all the time, but only open it when it is needed. r?griffin 
More testing from bug 535564 - Move the process-log removal after we kill ssltunnel: I have a hunch that the ssltunnel process is inheriting the file handle from python. 
Bug 540604 - silverlight doesn't work with OOPP because it doesn't set the stype outparam for NPP_NewStream, and relies on us initializing the value with NP_NORMAL, r=cjones 
Bug 535564 yet another attempt - Don't inherit the leak log handle from parent to child processes: Java spawns a process which holds this handle alive beyond our shutdown, causing our test harnesses to be unable to delete it, r?jgriffin 
Fix typo in error-handling case that we rarely hit, r=trivial 
Work around bug 542337 by making the testplugin not call IPDL methods to paint. 
Add a timeout for test_plugin_focus in order for events to be delievered to asynchronous event loops, r=jimm 
Fix bustage from bug 542337, this function doesn't exist. 
Bug 541707 - semi-random failures in test_crashing2.html, probably due to interminism in the crash/crashreport/reload sequence 
Merge mozilla-central into electrolysis. 
When calling a null function pointer, breakpad apparently skips a frame. In order for intentionalCrash() to appear in the minidump, try dereferencing a null pointer instead. 
Backed out changeset c7a2f3e14a58 - Testing from bug 535564 - We don't have a file handle open when we launch ssltunnel, so ssltunnel wasn't the cause. 
Backed out changeset e033fa1d3b0b - remove the workaround for bug 542337 because bent landed a real fix and we want testing 
Merge backouts 
Merge backouts related to bug 535564 and bug 542337 
Merge mozilla-central into electrolysis. 
Merge mozilla-central into electrolysis. 
Electrolysis bustage, fix up testshell from bug 543696, Remove unused nsIScriptSecurityManager::CheckConnect 
Bug 516515 - Don't initialize XPCOM in plugin processes, r=cjones 
Merge mozilla-central into electrolysis 
Bug 543788 - Infinite loop in CallUpdateWindow/WM_PAINT messages when switching tabs with a windowed plugin (Acrobat and sometimes Flash), r=jimm 
Merge mozilla-central into electrolysis. 
Merge bustage fixes from mozilla-central into electrolysis. 
Merge last of bustage fixup from the plugin UI to electrolysis. 
Followup to bug 538918 - Don't leak gNeuteredWindows, r=jimm 
Revert the incorrect portion of bug 543788 which was landed in electrolysis without final review. 
Bug 542907 - "e10s: Chrome registry should be unified between parent and child" [r=benjamin] 
Bug 570867 - e10s http: add cookies to request in child, not parent [r=dwitte] 
Bug 570488 - Remove xpti.dat caching which harms us in runtime and code complexity 
Bug 570488 part B - fix and test loading XPT files from JARs, needed for omnijar, r=mwu 
Bug 568691 part A - register static and binary components using data tables rather than programmatic nsIComponentRegistrar methods. This part contains the important needs-review bits of the change: part B contains the mechanical changes to each module in order to actually get a working build. Part C will contain changes necessary to register JS components from .manifest files 
Bug 568691 part B - mechanical changes to in-tree binary modules needed to get them building and registering correctly. After this patch, xpcshell appears to work. 
Fix Linux compile errors/warnings in xpcom/components 
Fix Linux-specific issues with static xpcom registration, bug 568691. 
Fix review comments from Mossop, bug 570488 comment 5. 
Bug 568691 - Fix up gtkmozembed for static XPCOM registration 
More Linux-specific fixup from bug 568691 
Added tag bsmedberg-static-xpcom-registration-base for changeset 0327e126ea24 
Another followup will actually fix our in-tree JS components and add build machinery for creating a proper components.manifest file. 
Mac-specific mechanical fixup for registration data, bug 568691. 
Merge platform-specific branches of bug 568691. 
Merge mozilla-central into the "branch" for but 568691. The omnijar XPT/component/chrome registration was removed during this merge, and will be re-added to the component manager shortly. 
* add MOZ_MEDIA/MOZ_OGG/MOZ_WAVE/MOZ_WEBM ifdefs to nsHTMLMediaElement.h and nsContentUtils.cpp 
Bug 568691 - register chrome/*.manifest in addition to components/*.manifest files, chrome appears to work in xpcshell again. 
Bug 568691 - build components.manifest instead of components.list, and switch the sample JS component to use standard EXTRA_COMPONENTS machinery. 
Bug 568691 - Fix XPCOMUtils.jsm to generate NSGetFactory, and fix nsSample.js to use XPCOMUtils 
Bug 573557 - Rename the category names for script globals to avoid spaces, r=jst 
Merge bug 573557 into static-xpcom-registration branch. 
Bug 568691 - Convert existing JS components to use NSGetFactory and add manifest files for them. In a followup we will link the .manifest files together at packaging time. This patch was developed on Linux: Windows and Mac may require additional changes. 
Bug 568691 - Add CID data back to classinfo because it's required for fastload to work correctly. 
Bug 568691 - Move cycle collection earlier: XPConnect is initialized during component manager initialization and tries to register a CC language helper. 
Bug 568691 - Add components that were lost during the merge of layout/build/nsLayoutModule.cpp 
Bug 573739 - Don't get the private browing service during layout module initialization: delay until profile-after-change. 
Bug 568691 - Mac-specific changes to binary components. 
Sync js/src/rules.mk from bug 568691 
Fix the TestRegistrationOrder test: we no longer support deferred registration. 
Fix non-debug bustage in nsNativeComponentLoader, this variable should not be debug-only. 
Fix syntax error in httpd.js 
Implement RereadChromeManifests for bug 568691. 
Fix incorrect quoting introduced in revision 90afd1e80d77 for bug 568691. 
Fix crash running leaktest --register because nNativeAppSupport hasn't been set yet. 
Fix --disable-crashreporter build in nsAppRunner.cpp 
Rename NSGetModule to NSModule in various build scripts for bug 568691. 
Fix test packaging and execution from bug 568691. 
Fix typo from bug 568691, revision 90afd1e80d77 
Package toolkitplaces.manifest, which I apparently forgot the first time. 
Bug 568691 - Register extension components/chrome again. This doesn't remove the EM restart yet, because there's some weirdness about reading default prefs from extensions that needs to be solved first. 
Remove hard tabs which I accidentally introduced into nsComponentManager.{h,cpp}. 
Address review from bug 568691 comments 31 and 34 
Bug 568691 fixups: alter mockObjects.js so that it registers its mock by contractID but doesn't replace the CID. Fix the generic classinfo not to assert when code asks for the class description (which is no longer implemented). 
Revert accidental change to XPCOMUtils.jsm introduced in revision 731d52e5b732 
Fix factory registration in test_unsafeBidiChars.xhtml to not override CIDs. 
Merge mozilla-central into the static-xpcom-registration branch. 
Fix review comments from bug 568691 comment 45. 
Added tag bsmedberg-static-xpcom-registration-base for changeset 2f83edbbeef0 
Revert many of the interface changes from bug 568691, so that binaries can be made which are compatible with Firefox 3.6 and Firefox 4. Note that this is not an ongoing process: it will not be possible to make single binary components which are compatible with both Firefox 4 and Firefox 4.1, but you will be able to ship two components and select one based on the platform version. 
Implement compatibility wrapper so that binary components can be compatible with both Firefox 3.6 and Firefox 4, as a result of registration changes from bug 568691. 
Don't check the persist value for DeleteCategoryEntry, because the original behavior didn't work right anyway, so everybody passes "true". 
Allow a manifest to register contracts and cids in any order, by deferring processing of contracts until the manifest is completely parsed. This is needed for extension author sanity, and also because jar.mn packaging doesn't place registration lines in order by default. 
Fix reftest so that components are registered in the root chrome.manifest when it is packaged as an extension instead of in-tree. 
Testing fixes for bug 568691 - change xpcshell do_load_module to do_load_manifest, and switch the relevant tests to use manifests and the new function. 
Bug 568691, followup to RegisterFactory implementation: make the nsFactoryEntry hold a CIDEntry with the proper CID, because code elsewhere expects that to be present (ContractIDToCID and the pending-CID checks). 
Bug 568691 followup - Clear the static module table at shutdown to fix leaks. 
Sync js/src/{config,rules}.mk 
Fix typo in BrowserFeeds.manifest 
Don't override the filepicker CID, just the contractID in this test: required because of the changes in bug 568691. 
Fix XULRunner build to use a manifest for nsXULAppInstall.js, followup to bug 568691. 
Stop trying (and failing) to build layout-debug as a standalone XULRunner app in XR builds: it has to be linked into libxul. 
Fix print-manifest-dirs.py when configuring with a relative source directory, r=ted 
Fix fuelApplication.manifest to register the correct category for the Application global. 
Bug 568691 - Normalize relative paths on Windows to use back slashes, and add a manifest processing directive for XPT files so that extension chrome.manifest can point to them and we don't have to troll around in extension components/ directories. 
Fix the reftest component to package itself and the httpserver correctly with a single chrome.manifest. 
Fix XULRunner simple example from bug 568691. 
Fix the nsBrowserGlue registration to be available even in non-Firefox, because there are places xpcshell tests which require it and don't forge the app ID. 
Free the component-location arrays at shutdown. 
Merge various pieces of bug 568691. 
Merge mozilla-central into the branch for bug 568691, including fixup of the new jetpack binary module. 
Typos in browser/components. 
Fix chrome registry test setup. 
Revert accidental change introduced in revision c66d8c0db184. 
Fix contracts which were not registered correctly: nsPlacesAutoComplete.js was completely missing, and the nsINIParserFactory contract was missing. Fixes test_pref_interval.js to register/unregister its mock objects correctly. 
Revert debugging change accidentally introduced in revision 2514f32f65bc. 
Add the new nsPlacesAutoComplete.manifest. 
Fix a bunch of test failures caused by typos or other issues from bug 568691. 
Bug 568691 - Add an ABI chrome registration modifier so that platform-specific directories can be implemented directly in chrome.manifest. 
Fixes for more test failures from bug 568691 - the RTL tests dynamically register chrome which must be un-done: to do this, I register a manifest for the life of the app, but truncate it after this test is complete. The toolkit tag-autocomplete tests were failing because of a missing close-brace. 
Add a testcrasher manifest for packaged xpcshell tests. 
Add a classID check in generateNSGetFactory, from bug 568691 comment 62. 
Implement the aReplace parameter to nsICategoryManager.addCategoryEntry which I inadvertently dropped, from bug 568691 comment 63. 
Rename XRE_AddComponentLocation to XRE_AddManifestLocation to better-convey what it actually does now (it still auto-registers XPT files when passed a directory, but we may get rid of that as well and just fold those into components.manifest), as noted in bug 568691 comment 58. 
Rename the "xpt" manifest directive to "interfaces", per bug 568691 comment 66. 
Fix and test logging of manifest parsing and registration. I discovered that the outer loop doesn't track line numbers correctly when there are multiple newlines in a row, which requires manual looping instead of using nsCRT::strtok. 
Don't register appinfo twice in test_bug497578, required by XPCOM registration changes in bug 568691. 
Add a newline to the end of satchel.manifest because, although I have no clue why and that scares me, the lines are being re-ordered during the mac install process and the unterminated line becomes a parse error. 
Support Windows line endings in manifest files again (regression introduced in revision 5229353383b0). With test! 
But 573290 - Intermittent (and not so intermittent with bug 568691!) failure in test_crashreporter_crash.js: the minidump callback is calling open(), which enters the dynamic loader and trashes memory, specifically the .extra file data. r=ted 
Require XPT files to be loaded explicitly: they are never auto-registered when found in a components/ directory. 
Link all the component manifests together at package time. 
Unify should ensure that when a .manifest file is being compared, if the last line doesn't end with a newline, it should add one so that lines don't get munged together incorrectly. rs=ted 
On Windows and Mac, nsIFile.copyTo will fail if the file already exists. Use the .createUnique logic to create a unique name, but then remove it for the copy. 
Disable the xpt-in-JAR test because that code is changing and running the test with a .manifest isn't worth it. 
Fix packaging of test-only XPT files for crashreporter and httpserver. 
Merge mozilla-central to the bug 568691 branch. 
Register/restory mock factory correctly in test_getTypeFromExtension_with_empty_Content_Type.js 
Package the installer browser.manifest the same way as the archive. 
Merge mozilla-central, including the Electrolysis changes, into the branch for bug 568691. 
Fix generic classinfo objects so that they are allocated statically, to avoid leak-detector annoyances, but not initialized statically, because compilers are stupid and won't const-data-initialize an object with a vtable, even if they could. 
* I will concurrently land a mobile-browser fix for component registration, but it may require some additional packaging changes. 
Registration changes for services/sync and services/crypto required from bug 568691, landing on a CLOSED TREE to fix mobile bustage. 
Followup to bug 568691 landing, QT-specific JS component on a CLOSED TREE. 
Bug 576206 - hangs in necko unit tests on Windows because the content process is crashing, bandaid patch r=Mossop for landing into a CLOSED TREE 
Temporarily disable the crashreporter tests on x86-Linux only, due to bug 573290 on a CLOSED TREE. 
Bug 556400 - Make adding visits asynchronous. r=sdwilsh r=mak sr=bz 
Bug 566738 - Make setting titles asynchronous. r=sdwilsh r=mak sr=bz 
Bug 568691 - Fix MOZ_OMNIJAR registration, r=mwu 
Bug 576492 - Load default preferences from extension defaults, r=Mossop 
Fix --disable-libxul from bug 568691. r=Mossop 
Bug 568691 followup: fix interfaces.manifest correctly in builds that package without a manifest, r=mfinkle 
Bug 576540 - nsContentUtils::Init is getting the image loader module, which is initializing the graphics module before they expect to be initialized. This breaks the chain by lazily initializing the image loader and image cache from contentutils, r=joe sr=bz 
Bug 577076 - Some chrome images are not loading properly (XUL scrollbars, profile manager icons, Fennec icons), r=bz 
Bug 563361 - Increase the maximum chunk size for delivering stream data to a plugin so that poorly-written Flash which assume stuff about streams don't break, r=bent 
Bug 576917 - GPSDGeolocationProvider.js should use generateNSGetFactory, not generateNSGetModule which doesn't exist, r=captain obvious 
Bug 574870 - Re-enable multi-process jetpack tests, and introduce a .destroy method which is needed for running tests correctly (jetpack processes must eventually exit, or debug builds will fail to shut down), r=bent 
Bug 568698 - Instead of fixing two globals in the jetpack process, allow jetpack to create sandboxes in which to load user code and implementation modules, r=bent 
Import a new rev of pymake which fixes, among other things, bug 576914 
Bug 577638 - Outdated comments in XPCOMUtils.jsm after bug 568691 
Bug 573268 - The XPTI rewrite caused an (intentional) leak at shutdown; free this data only in trace-malloc builds so that leakstats are still useful. r=dbaron 
Revert the accidental change to make-tree.pl from revision 116abfbc71e5 
Bug 577684 - Jetpack should push the JS context on to the XPConnect stack when running message receivers, r=mrbkap 
Bug 556400 - Add visits Asynchronously. r=mak r=sdwilsh sr=bz 
Bug 556400 - Set titles asynchronously. r=mak r=sdwilsh sr=bz 
Bug 579765 - Not using GTK filepicker any more, revert the nsFilePicker.manifest change from bug 576991 which I believe was incorrect. 
Bug 577400 - Firefox 4.0b1 topcrash [@ rlxf.dll@0xd8ad] - blocklist the known-bad version of rlxf.dll, r=vlad 
Bug 579487 - Better error reporting when NS_CreateServicesFromCategory can't find a contract (especially to help extension developers with profile-after-change issues), r=Mossop 
Bug 579497 - Add error console logging for missing/incorrect command-line handlers, r=Mossop a=beltzner for landing in a CLOSED TREE 
Fix packaging bustage from bug 557225 on a CLOSED TREE. 
The #ifdefs in the last patch were incorrect. This one actually works, even on a CLOSED TREE. (bug 557225) 
Bug 580227: Upgrade Test Pilot for the new component registration changes. r=dtownsend landing on a CLOSED TREE 

Bug 580227: Upgrade Test Pilot for the new component registration changes. r=dtownsend landing on a CLOSED TREE Backed out changeset 0c116ba35956 
Back out bug 578751 to help solve bug 580360 (all dynamic components fail to load). The patch was not properly reviewed to begin with :-( 
Remove pieces of bug 557225 which depend on the incorrect @loader_path changes in bug 578751. This will probably allow plugin-container to launch, because DYLD_LIBRARY_PATH has been munged for it. a=johnath for pushing to a CLOSED TREE 
Bug 580406 - [OOOP] plugin process should be properly named; r=benjamin approval2.0=beltzner 
Bug 580094 - Few SetInnerHTML micro optimizations , r=jst, a=benjamin 
Bug 578276 - websocket test suite is pretty flaky, r=smaug, a=benjamin 
Bug 555941 - Split HILO_ACCEL out of nsHtml5NamedCharacters. r=jonas, a=benjamin. 
Bug 569397 - Eagerly initialize the input controls with spellcheck="true"; r=roc ui-r=faaborg approval2.0=benjamin 
Bug 579077 - WARNING: NS_ENSURE_TRUE(mBoundFrame) failed: file ../../../../../content/html/content/src/nsTextEditorState.cpp, line 1326; r=jst approval2.0=benjamin 
Bug 572896 - Split nsHTMLInputElement::Reset() to prevent calling it to set the default value to the current value; r=Olli.Pettay approval2.0=benjamin 
Bug 572897 - Do not always call SetValueChanged(PR_TRUE) when SetValueInternal is called; r=Olli.Pettay approval2.0=benjamin 
Bug 581036 - nsTimerImpl.cpp compilation fails on mingw.; r=bzbarsky approval2.0=benjamin 
Bug 578425 - Mention Windows SDK Configuration Tool in build error. r=ted, approval2.0=benjamin 
Bug 489142 - Use fastpath in JPEG decoder when CMS mode is tagged-only. r=joedrew, approval2.0=benjamin 
Bug 544535 - Ignore push/replaceState's title argument. r=sicking, approval2.0=benjamin 
Bug 530657 - Simply code which gets an nsIDOMDocument and QIs to an nsIDocument. r=sicking, approval2.0=benjamin 
1709 ERROR TEST-UNEXPECTED-FAIL | /tests/layout/forms/test/test_bug564115.html | Test timed out. 
Bug 578773 - Jetpack processes should send messages about uncaught exceptions to the parent, r=bent 
Bug 578809 - Jetpack .callMessage should be RPC, not sync, so that handles created during the reply are available correctly, r=bent 
Bug 577426 - Disable JavaXPCOM by default in all configurations, because there is no active maintainer, sr=shaver 
Bug 581499 - CR and LF characters in a textarea field shouldn't trigger JIS x 4051 line breaking; r=roc approval2.0=benjamin 
Bug 582012 - register identifiers in the ID maps when they are created by the browser, so that a plugin never sees two identifiers for the same string/integer, r=bent 
Bug 582559 - winEmbed sample broken from XPCOM component registration changes, r=nodoby cares a=NPODB 
[Windows only] patch 2 - convert preprocess-locale.pl to python rev3 for Bug 570689 - Convert preprocess-locale.pl to a python script. r=ted.mielczarek, approval2.0=benjamin 
[Windows only] use absolute paths for Bug 575838 - Build scripts should be able to handle @BINPATH@/extensions/testpilot@labs.mozilla.com/* in package-manifest.in for the installer. r=ted.mielczarek, approval2.0=benjamin 
Uupdate Firefox package-manifest.in for Bug 575838 - Build scripts should be able to handle @BINPATH@/extensions/testpilot@labs.mozilla.com/* in package-manifest.in for the installer. r=ted.mielczarek, approval2.0=benjamin 
[Windows only] patch 3 - cleanup and a typo fix for Bug 570689 - Convert preprocess-locale.pl to a python script. r=ted.mielczarek, approval2.0=benjamin 
Bug 573258 - Support a.text as defined in HTML5; r=Olli.Pettay approval2.0=benjamin 
Bug 579830 - Change nsCOMPtr<Element> to nsRefPtr<Element>. Change one location that was QIing to Element. r=bz a2.0=benjamin 
Bug 583576 - Range requests on an embedded or fullpage stream causes the stream to be destroyed prematurely because we don't record the mPendingRequests on the nsPluginStreamListenerPeer, r=josh 
Bug 564001 - Should use the first image map in tree order r=bzbarsky a=benjamin 
Bug 581479 - Convert C++ style comment. r=benjamin, a=comment-only 
Bug 579178 part A - Code changes to add a "manifest" directive to read sub-manifests and read only the root chrome.manifest file, instead of enumerating components/*.manifest and chrome/*.manifest. Review comments by Mossop to be addressed in a followup commit. 
When we repackage a l10n build, we only have to replace chrome/localized.manifest. 
Bug 579178 part C - Allow xpcshell to register additional manifests from the command line, and use this to load httpd.manifest in the xpcshell test harness, r=jwalden 
Bug 579178 followup - Fix TestRegistrationOrder to load manifests instead of directories. 
Followup to bug 579178 part B (packaging) - only create the mochitest distribution bundle directory if it doesn't already exist 
Bug 579178 followup - fix the crashreporter tests to register a manifest instead of a directory 
Fix omnijar from bug 579178 - move the manifest ziploader code into xpcom/components, and don't load the same JAR a bunch of times. 
Merge mozilla-central into single-chrome-manifest. 
Bug 579178 part D - When unifying as sorted-matching, keep version A as the unified version, not the sorted version, r=ted 
Merge bug 579178 to mozilla-central. reviews by Mossop/khuey/jwalden/ted 
Bug 578478 - Make header.py process the following new attributes: deprecated, optional_argc, implicit_jscontext, r=jorendorff 
Bug 578478 part B - Create and use dependencies from the python IDL parser, r=khuey 
Bug 559711 - Disable NSS in the content process, r=honzab 
Revert bug 578478 because of issues in parallel builds (generating the yacc/lex tables), and because of a conflict with fatvals 
Merge backout of bug 578478 on a CLOSED TREE. 
But 578821 - Give jetpacks a way to mark a handle as unrooted, so that it can live as long as client code holds it alive without having to be explicitly deleted, and give the other side the ability to see handle deletion, r=bent/atul/cjones 
Bug 582955 - Require yasm for architectures where we have code for it, r=ted 
Bustage fix, bug 578821. 
Disable test_rooting on a CLOSED TREE, since with the GC changes the handle isn't being collected deterministically. 
Bug 568459 - read system locale from gconf, r=benjamin a+ 
Back out all of dgottwald's push from Wed Aug 11 05:04:25 2010 PDT because the tree is in a state of chaos and the push was obviously against tree rules. 
Bug 586350 - Updates to the 08/11 nightly don't work because it's removing the root chrome.manifest. Also clean up other now-unneeded files. r=robstrong a=dougt 
Bug 501566: It takes too long to highlight a selected link, r=froystig, r=mfinkle 
Bug 451670: Discard tab data when low on memory, r=mfinkle, r=stuart 
Bug 520910: Refactor Rect and add Point class, r=gavin 
Bug 520872:  Make zooming transition better [r=mark.finkle] 
Bug 529098: Inform embedded Flash objects where to render [r=mark.finkle] 
Bug 526904 -  Tabs loading in background are not pannable 
Bug 530835 -  Flash: Chrome UI shows up on background of flash videos [r=gavin.sharp] 
Bug 540937 -  [regression] Render plugin content in iframes [r=mfinkle] 
Bug 574117 - Page content never updates [r=mfinkle] 
Bug 586325 - Maemo5/6 build bustage. cast fix. r=benjamin. 
Bug 586740 - Microformats test leak fix. r=kaply 
Bug 583053 - Corruption issues when running rdio because windows double-pass rendering events don't win the RPC race, r=bent 
Linux followup to bug 583053 - fix the include ordering so that KeyPress is defined at the time we need it. 
Bustage fix of the bustage fix, bug 583053. 
Bug 587406 - Crashes inside window procedures on Windows 64 get eaten, r=ted/jeffm 
Add a comment mentioning bug 587406, per jeffm. 
Bug 552828 - update Form History to work with Electrolysis [r=dolske] 
Bug 552828 - update Form History to work with Electrolysis: use frame script unload event [r=dolske] 
Bug 552828 - update Form History to work with Electrolysis: don't use preference branches [r=dolske] 
Bug 587715 - Include Qt headers before anything else because of conflicts with X and mozalloc. r=bustage fix 
Bug 588075 - --disable-libxul is incompatible with omnijar, check this at configure time, r=khuey a=beta5+ 
Bug 583076 - fix a number of build warnings in accessible/, r=surkov, a=benjamin 
Bug 575731: Make test more stable in the face of various themes. r,a=sicking 
Bug 588383 - Compilation failure on mingw due to SEH exceptions r=benjamin a=benjamin 
Bug 552828 - update Form History to work with Electrolysis [r=dolske] 
Bug 552828 - update Form History to work with Electrolysis: use frame script unload event [r=dolske] 
Bug 552828 - update Form History to work with Electrolysis: don't use preference branches [r=dolske] 
Bug 588563 - Add a ctypes global within the jetpack process, r=dwitte 
Bug 585014 - Use Element in nsDOMCSSAttributeDeclaration; r=bzbarsky approval2.0=benjamin 
Bug 562313 - Statically link binary browser components into firefox.exe, r=ted 
Bug 592323 - Fastload not invalidated after making on OSX. r=benjamin a=blocking 
Bug 580063: Add a LatestSinceStartup() method to function timer logs. r=vlad a=benjamin 
Bug 581182 - running "firefox-bin -profile /tmp/newdir" no longer works.  r=benjamin, a=dtownsend 
Bug 596328 - "non-IPC builds burning with nsContentPermissionHelper" r=benjamin a=benjamin 
Revert bug 595337 because of persistent leaks running mochitests, and bug 556487 because of in-process test failures (crashes) and a reftest failure. 
Merge backout of bug 595337 and bug 556487. 
bug 596669 - Fennec Android crash in jsstr.cpp:ReplaceCallback, disable yarr for arm r=sayre a=blocking-fennec 
Bug 596433 - Method JIT inline assembly has illegal instruction [r=dvander, will get a r=Jacob.Bramley asap] 
Bug 596433 - Method JIT inline assembly has illegal instruction [r=dvander, will get r=Jacob.Bramley asap] 
Bug 593106 - attempt to work around a strange behavior where some string is null which should never be null, r=Mossop a=blocker 
Bug 556698 - test_twostreams intermittent failure, reorder the test so the script always loads before the iframes which might race with it. a=test-only 
Bug 5976246 - pymake bustage in js/src because we have things.cc depend on jsautokw.h, and that does interesting things to $< with pymake. r+a=bustage-fix 
Bug 598439 Shadow layer offset is incorrect when content scroll offset is non-zero r=cjones a=blocking-fennec-2b1 
Bug 600908 Always retain shadowable layers r=cjones a=2.0b2+ 
Bug 592052 - Missing NSGetModule export (binary backwards compatiblity) r=benjamin a=dtownsend 
Bug 388971 - Add unit test to check for R_386_PC32 relocations, patch by Ted fixed up by myself, r=theotheroneofus a=build only 
* Add headers to system-headers required for angle. 
ld: symbol(s) not found 
Merge backout of bug 592052 due to build bustage. 
Bug 603373 - Remove unused library argument of NS_TRY_SAFE_CALL_* macros r=joshmoz a=benjamin 
Bug 605116 - Properly declare functions without arguments in npfunctions.h r=joshmoz a=benjamin 
Benjamin Otte (2):
r=ted.mielczarek a2.0=benjamin. 
Bug 607538 - remove support of accessibility.disablecache preference, r=marcoz, a=benjamin 
Bug 595697 - nsIPluginInstance.h(30) : warning C4099: 'gfxASurface' : type name first seen using 'class' now seen using 'struct' r=benjamin a=approval2.0 
Bug 589807 - printf_stderr doesn't check if _dup call succeeded r,a=benjamin 
Bug 606155 - LayerManagerD3D9.cpp compilation failure on mingw r=bas.schouten a=benjamin 
Bug 606846 - nsPluginNativeWindowWin.cpp compilation broken on mingw r=jmathies a=benjamin 
Bug 600301 - Optimize ReplacePrep, r=benjamin, a=benjamin 
Bug 590436 nsCSSParser.cpp failed to compile with Sun Studio compiler r=roc a=benjamin 
Bug 577011 - [OS/2] make _declspec unconditionally default symbol export r=daveryeo@telus.net a=benjamin 
Bug 596451 part A - fix PluginInstanceChild to use bools, r=jimm/josh 
Bug 596451 part B - UseAsyncPainting really shouldn't need to dig very far or use an outparam, r=romaxa 
Merge mozilla-central into asynchronous plugins branch. 
Merge mozilla-central with the asynchronous plugins painting branch. 
Bug 596451 part C - simplify the behavior of the returning surface from Show, because it's only used to hand back ownership of IPDL shared memory. 
Review comment from bug 596451 part C - the XSync is required so that pending composition using this surface is complete before the surface is re-used by the plugin. 
Bug 606976 - Don't map the memory from a SharedDIB: CreateDIBSection creates another mapping, and we don't actually use the mapping for anything, r=jimm 
Bug 596451 part D - Hook up asynchronous plugin painting on Windows. This part allows opaque plugins to paint correctly. r=jmathies 
Non-Windows build bustage fix from bug 596451 part D - base::SharedMemoryHandle is not available to IPDL on non-Windows, so use typedefs. 
More build bustage from Bug 596451 part D. Explicitly initialize the const structures for GCC. 
Bug 596451 part E - Implement transparency using DIBs with builtin transparency. Flash at least does this correctly, and since nobody else really uses windowless transparency, this is going to be the Way It Is. r-pending=jimm/karlt 
Bug 596451 part I - Read back from the current Windows surface, instead of repainting the entire client area every time, r-pending=jmathies 
Bug 596451 part F - fix mouse/window positioning and remove the Silverlight quirk by changing the logical->device offset before painting, r=jimm 
Bug 596451 part G - Fix a condition where FixupWindow is called too early and doesn't know that we are a windowless plugin yet. Call FixupWindow from nsPluginInstanceOwner::CreateWidget, r=roc 
Bug 596451 part H - Make our quirk of silverlight transparent by default active in the plugin process, to match the logic in nsNPAPIPluginInstance. This makes the Microsoft Surface website paint correctly. r=jimm 
Bug 607002 - Classes forward-declared as structs in IPDL-generated code cause MSVC warnings. Forward-declare them as classes. r=cjones 
Build bustage from bug 596451 part I - always return a value from PluginInstanceChild::ReadbackDifferenceRect. 
Bug 596451 part J - Fix our test plugin to paint without using GDI functions which overwrite the opacity incorrectly, r=jmathies 
Bug 596451 part K - Make sure we set up the same plugin quirks for async plugin rendering that we do in AnswerNPP_SetWindow (fixes Flash/Silverlight context menus and mouse pointers), r=jmathies 
Fix testplugin painting issues from bug 596451 part J - when doing non-solid painting, paint to x/y, not 0/0. 
Merge mozilla-central to the branch for bug 596451. 
Followup to bug 596451 part E (cset 37188e297b07) - double-pass painting is still used for in-process plugins, so fix the test expectations accordingly. 
Bug 583109 - Add visibility notification for plugins by setting the NPWindow.clipRect to [0, 0, 0, 0] when the plugin is not visible, either in a background tab, or visibility: hidden. r=karlt Patch rebased against trunk by Benjamin Smedberg. 
Bug 606285 and Bug 583109 - Send the "visible" notification when painting with async layers, so that when a plugin goes from invisible to visible it starts sending asynchronous paints. Suspend sending surface updates for asynchronous plugins when they are invisible, and set the empty clipRect so that the plugin knows that drawing is suspended per the new API. Assume that plugins are visible again when a Paint or BuildLayer call is received. r-pending=karlt 
Test for bug 583109 - Add an .isVisible() method to the testplugin. test_visibility.html checks whether a visibility: hidden plugin suspends and resumes painting properly. test_xulbrowser_plugin_visibility.xul tests whether switching tabs properly suspends and resumes plugin painting. r-pending=karlt 
With async plugin painting, crashtest 522512 is no longer valid (and the condition which caused it is entirely gone). Remove it. 
Merge mozilla-central into the branch for asynchronous plugin painting on Windows. 
Fix nsObjectFrame.cpp back to unix-style line endings. DOS endings crept in during the last merge for reasons I don't understand. 
Merge mozilla-central into the branch for asynchonous plugin painting (bug 596451), especially to pick up and test whether the fix for 602200 also fixes bug 607958. 
Bug 607958 - Opacity rounding of 0.5 is different when using a layer and painting directly. Use a value of 0.8 which divides evenly into 255 to avoid rounding differences. Bug 602200 did not fix this rounding difference. r=roc 
Fix review comments from bug 583109 (changeset 6ff3fcbb7845), comment 46. 
Address review comments for the test in bug 583109 by polling for visibility changes in the plugins. 
Additional review fix for bug 583109 comment 49 (karlt). 
Fix test_xulbrowser_plugin_visibility to be more robust and use fewer magic timeouts, review note from bug 583109 comment 52. 
This changeset only implements asynchronous painting for out-of-process plugins. In-process painting will be implemented as a followup. Note that it is still possible to disable asynchronous layers on Windows by setting the preference mozilla.plugins.use_layers to false, but my intention is to remove this preference and sync-painting codepaths soon in a followup. 
Bug 610690 - Crash when printing many documents successively [@ nsCOMPtr_base::assign_from_qi | nsDocShell::SetTreeOwner ], r=mats, a=benjamin 
r=(dwitte, jduell) a2.0=benjamin. 
r=dao a2.0=benjamin 
r=(dwitte, jduell) a2.0=benjamin. 
bug 606917 part 2 - update character property tables for harfbuzz to unicode 6.0. r=smontagu approval2.0=benjamin 
Bug 611799 Prefill newly created buffers with old content r=cjones a=blocking-fennec 
Bug 611206 - Send the plugin information about mouse position changes when we scroll, even when we don't need to repaint the plugin, r=karlt 
Bug 611652 - NPN_Construct doesn't work on JS functions, only on plugin-provided objects. Fix this by using JS_New to set up the construction class and prototype correctly, r=jst 
Bug 611033 - Don't retain the plugin surface beyond the lifetime of the PluginInstanceParent: we only guarantee that the plugin X socket will kept alive until PluginModuleParent::ActorDestroy, r=karlt 
Bug 611593 - Topcrash @ PluginInstanceChild::AnswerNPP_Destroy because we were failing to clear mCurrentInvalidateTask in InvalidateRectDelayed. r=smaug a=blocking2.0 
Bustage fix from typo in merge fixup from bug 611652, revision fc492fc14c67 a=bustage 
Disable test_positioning.html from bug 611206 because even though it passes locally, something about the test setup is different on tinderbox: perhaps the outer mochitest window is moving, causing the coordinates to be incorrect. a=bustage 
Bug 578546 - Fix MSVC warning spam by adjusting ifdef to include MSVC. r=cjones a=benjamin 
Bug 578546 - Fix more MSVC warning spam by removing unneeded declarations. r=cjones a=benjamin 
Bug 602891 part A - refactor the code which notes intentional crashes for leak logging, so that it can be shared between testplugin and the jetpack. r=ted 
On crash, an event will be submitted to the parent with the name "core:process-error" with a context object. If crash reporting is enabled and a crash report is available, the context object will have a .dumpID property which can be used to submit the crash report. 
Bug 609066 - nsIJetpack.registerReceiver doesn't recognize functions wrapped in a proxy, throws NS_ERROR_ILLEGAL_VALUE. Don't use JS_ObjectIsFunction, instead use JS_TypeOfValue to determine whether we have a legal receiver. r?mrbkap 
Bug 610381 part A - Propagate errors thrown during synchronous dispatch of nsIRunnables, r=bz 
Bug 610381 part B - Report thread-usage errors to the error console directly from xpconnect, so that the error console shows them even when extension authors are using asynchronous dispatch. r=jst a=blocking2.0 
Android bustage from bug 602891 part A, revision dc021bc9929f. getpid() required <unistd.h> 
Remove browser_bug571289.js as a followup to bug 610381 and bug 608142. The test is meaningless because the condition is not allowed to happen. r=gal a=orange 
Bug 611595 - Prevent a crash when D3D9 texture creation fails because the screen is locked. In CairoImageD3D9::SetData, save the surface as a member. Try to create the texture immediately, but also try to create the texture again when painting if it failed the first time. r=bas a=blocker-topcrash 
iBug 592052 - Add missing NSGetModule export (binary backwards compatiblity) except on OS X; r=benjamin a=bsmedberg 
Bug 599475 - Fix crash reporting on MacOS 10.5 (Leopard) by making breakpad use it's internal implementation of MD5 instead of one randomly picked from libnss or libcrypto which isn't loading properly. r=ted a=blocking-beta8+ 
Bug 613061 - test_jetpack.js (and probably code in production) crashes at IPC::Channel::set_listener because the destruction of JetpackProcessParent races with the unwinding of the stack frame which calls JetpackParent::ActorDestroy. Add an extra trip around the event loop to avoid the race. r=cjones a=myself/orange 
Bug 597248 - Make sure Panorama's thumbnail cache is solid [r=ian, a=benjamin] 
r=m_kato a2.0=benjamin. 
r=ted.mielczarek a2.0=benjamin. 
Bug 612237 extra ";" after JS_DECL_USE_GUARD_OBJECT_NOTIFIER r=mrbkap a=benjamin 
Bug 610852 Check xRGB format for XShm Image r=karlt a=benjamin 
Bug 613734 - Tab-modal prompts shouldn't inherit text shadow (e.g. when using a lightweight theme). r=enn a=benjamin 
Bug 611647 - Use stringbuffer when creating responseText for XMLHttpRequest, r=bz, a=benjamin 
Bug 581335 - Hook up crash reporting for content process by attaching a property bag to the global observer-service notification for them. r=mfinkle 
Bug 614229 - nsHttpHandler getting the private-browsing service can cause recursive initialization of layout, and I suspect can cause incorrect behavior in Firefox because we may end up creating HTTP URIs before we're finished with XPCOM registration, r=honza+ehsan a=blocking bug 581335 which blocks Fennec b3 
Disable the new IPC tests on mac because they are hanging (introduced in bug 581335). I'll look into this a bit later, but content processes on mac are not important yet. a=orange 
bug 594078 - fix handling of regular vs italic during font fallback search. r=jdaggett a=benjamin 
Bug 613420 - nsFirstLetterFrame is a query frame target that does not declare |nsQueryFrame::FrameIID kFrameIID| r=roc a=benjamin 
Bug 597248 - Make sure Panorama's thumbnail cache is solid [r-ian, a=benjamin] 
Bug 613744 - Crash when switching layer managers during rendering: compare the cached ImageContainer layer manager with the new manager while building the new layer, and recreate it if a new manager is being used. r=roc a=blocker 
Bug 614610 - Annotate ProcessType for content and jetpack crashes, r=ted 
Bug 616127 - Prevent nsIFrame.h from being used from non-internal code. r+a=bz 
Bug 616056 - prevent double registration of binary components, which causes crashes due to dead KnownModule pointers, r=Mossop a=blocking 
r=mrbkap, a=benjamin 
Bug 579788 - Qualify access to dependent base in imported Chromium code. r=benjamin, a=benjamin 
Bug 598078 - DocShell warning: Could not fetch previous flags, URI will be treated like referrer. r=bz, a=warning 
Bug 589907 - Fix unused variable warning in docshell/ r=benjamin a=npob (debug warning) 
Bug 614015 - Add <browser>.messageManager property for both in-process and out-of-process tabs, r=gavin 
Bug 556194 - Use-after-free of PluginInstanceChild::mAsyncCallMutex - don't clear the pending async calls until after NPP_Destroy is called, because it is a synchronization point. r=cjones a=blocker 
Bug 614979 - Flash plugin crashes because we don't destroy the plugin window right after NPP_Destroy, which means that messages are being delivered and causing async messages to be queued after NPP_Destroy. Destroy the window earlier, r=jimm a=blocker 
r+a-2.0=benjamin.
Bug 568204 - Fennec on xulrunner does not build with --enable-debug. r=dbaron,benjamin a=approval2.0 
r=ted.mielczarek a2.0=benjamin. 
Bug 612599 Gray lines when using content.scrollTo r=cjones a=blocking-fennec 
Bug 614631 - Macros for SEH exception depending on compiler configuration r+a=benjamin 
Last Comment Bug 614625 - Landing bug 611930 broke crosscompilation to windows on case sensitive systems r=khuey a=benjamin 
Bug 622138 - Mark Depends on invalid unqualified lookup in templates for TypedMarker. r=igor, a=benjamin 
Tests for bug 624835. NS_RUNTIMEABORT doesn't trigger the crash reporter on Windows. 
Bug 624835 - Exception handler ignores ::DebugBreak exceptions when it really shouldn't, r=ted a=blocker 
Bug 605618 Part 1: Tag layers with scrollable information r=cjones sr=roc a=blocking-fennec 
Bug 605618 Part 2: Infrastructure for building shadow display list r=tn sr=roc 
Bug 605618 Part 3: Viewport API for frontend r=cjones 
Bug 605618 Part 4: Map for storing views r=cjones 
Bug 605618 Part 5: Support displayport for iframes r=tn sr=roc 
Bug 605618 Part 6: Use viewports to allow scrolling and build display lists r=cjones r=tn 
Bug 605618 Part 7: Include viewport and content size in API r=cjones sr=roc 
Bug 605618 Part 8: Content process map from view IDs to content elements r=cjones sr=roc 
Bug 605618 Part 9: Fix test-ipcbrowser and crash r=cjones a=blocking-fennec 
Bug 605618 Follow-up: Fix refcnt issue r=cjones a=blocking-fennec 
Bug 624809 - Flash crash while calling RPC methods from SetWindow because pending AsyncSetWindow calls are processed in an unexpected order, r=roc a=blocker 
Bug 626855 Crash: trying to scroll HTML page with frameset r=cjones a=blocking-fennec 
Bug 611984 - Compilation failure on mingw in modules/libjar after bug 598416 landing r=tglek a=benjamin 
Bug 624451 Toolkit update to Geometry.jsm r=Mossop a=blocking-fennec 
Rename firefox-*.mac64.dmg to firefox-*.mac.dmg. r=ted, a=benjamin, CLOSED TREE 
Bug 625425 - Don't re-share the plugin surfaces every time we flip front/back buffers on Windows. r=jimm,karlt, a=blocking 
r=ted.mielczarek a-2.0=benjamin. 
Bug 630883 Crash at [@ nsDOMWindowUtils::FindElementWithViewID] r=cjones a=blocking-fennec 
Bug 616400 - When a plugin returns a failure code from NPP_New, but creates JS objects in the process, anyone trying to script those objects after NPP_New fails will crash (Silverlight crash @NPObjWrapper_NewResolve). Call nsJSNPRuntime::OnPluginDestroy on a failed-init case just as we do in a normal cleanup case. r=josh a=blocker 
Bug 631002 - Crashes in our RPC code because something is crashing (not sure what yet) and the primitive __try/__catch crash catching in the plugin host screws up the IPC invariants. Disable the __try/__catch blocks because we shouldn't need them any longer and they are covering up core problems. r=josh a=myself 
Bug 630593 DocShell history gives NS_ERROR_OUT_OF_MEMORY for useGlobalHistory r=bz r=sdwilsh a2.0=mfinkle 
Bug 632417 Use mimetype hint for JSON in sync. r=philikon a=blocking-fennec 
Bug 630697 - Set WindowProc using the unicode functions in plugin hook procedures. r=jmathies, a=final. 
Bug 626768 - Add a runtime-abort for recursive layout module initialization, because it is somewhat likely that bugs of this sort could cause the later runtime abort where the cycle collector cannot get the JS runtime service r=bent a=blocker 
Bug 633986 Pref nice value, default to 1 on Android r=dougt a=blocking-fennec 
Bug 633820 - nsCrashOnException.cpp compilation fails to compile on mingw r=ehsan a=benjamin 
More diagnostics for bug 626768 - It seems likely that creating a new XPCJSRuntime is failing, but we don't know why or when. Abort in the most obvious failure location to help diagnose the problem. r=bent a=myself 
Bug 607900 [startup-notification] Restore DESKTOP_STARTUP_ID if a restart is required r=benjamin sr=glandium a=beltzner 
Tests for bug 634534 (destroy a stream while a part-request has been requested but OnStartRequest has not yet fired) 
Instead of tracking a single request in nsPluginStreamListenerPeer::mRequest, track all the currently pending requests with nsPluginStreamListenerPeer::mRequests, and make sure that they are all cancelled when the stream is destroyed. r=josh sr=bz a=blocker 
Revert bug 634534 because of test failures (test_visibility.html timing out, and neverending.sjs data leaking into other plugin tests?) 
Merge backout of bug 634534 due to test failures. a=backout 
Instead of tracking a single request in nsPluginStreamListenerPeer::mRequest, track all the currently pending requests with nsPluginStreamListenerPeer::mRequests, and make sure that they are all cancelled when the stream is destroyed. r=josh sr=bz a=blocker 
Tests for bug 634534 (destroy a stream while a part-request has been requested but OnStartRequest has not yet fired). Fixed test_pluginstream_seek_close.html so that the first iframe onload (for about:blank) is not used with the test. a=blocker-test 
Bug 635980. Change Nv3DVStreaming assert to warning. r=jmuizelaar, a=jmuizelaar 
Bug 618975 Pan overflow elements in parent process r=cjones r=tn sr=roc a=blocking-fennec 
Bug 634397 Setting displayport redraws entire displayport r=tn a=blocking-fennec 
Bug 618975 Pan overflow elements in parent process r=cjones r=tn sr=roc a=blocking-fennec 
Bug 618975 Followup: bitrot and remove mDisplayport from nsDisplayScrollLayer r=cjones r=tn a=blocking-fennec 
Bug 618975 Follow-up: Fix for non-IPC builds and remove warning r=blassey a=fix-comm-builds 
Bug 642205 Do not build layers for asynchronous scrolling if element shouldn't be scrollable r=tn a=blocking-fennec 
Bug 642205 Followup: Remove bogus assertion r=roc a=followup-for-blocking-fennec 
Bug 642205 Followup: workaround for Android compiler bug r=tnikkel a=blocking-fennec CLOSED TREE 
Bump the binary compatibility version post-branch. 
Bug 643836 Invalidation does not always trigger a displayport update r=tn 
Bug 643164 Fire MozScrollAreaChanged before "load", not after r=roc 
Bug 643083 Crash: JSAutoRequest::~JSAutoRequest r=smaug 
Bug 638171 - FireFox does not read Java Plugin Info.plist correctly.; r=jst,joshmoz 
Backed out changeset 868be4c08700 due to mochitest-other orange 
Automated Merge 
Bug 617539 - Fold in nsIDOMWindowUtils_MOZILLA_2_0_BRANCH, r=bz 
Bug 617539 - Remove branch interfaces, nsIHTMLEditor_MOZILLA_2_0_BRANCH, straight backout of revision e9d979b4b4a0, r=ehsan 
Remove nsIDOMNSDocument_MOZILLA_2_0_BRANCH, moving its private method to nsIDocument, r=sicking 
Bug 617539 - Integrate nsIFocusManager_MOZILLA_2_0_BRANCH back into the main interface, r=smaug 
Bug 617539 - Fold nsIContentPrefService_MOZILLA_2_0 back into the main interface, r=gavin 
Bug 617539 - Fold nsIDOMHistory_MOZILLA_2_0_BRANCH back into the main interface, r=smaug 
Bug 617539 - Fold in nsIDocShell_MOZILLA_2_0_BRANCH, r=bz 
Bug 617539 - Fold nsIContentViewer_MOZILLA_2_0_BRANCH, r=sicking 
Bug 617539 - Fold in nsIDOMHTMLSelectElement_Mozilla_2_0_Branch, r=smaug 
Bug 617539 - Merge nsIDOMWebGLRenderingContext_MOZILLA_2_0_BRANCH, r=jrmuizel 
Bug 617539 - Fold in nsIFrameLoader_MOZILLA_2_0_BRANCH, r=bz 
Bug 617539 - Merge nsIMenuBoxObject_MOZILLA_2_0_BRANCH, r=enn 
Bug 617539 - Integrate nsIAppStartup2 and nsIAppStartup_MOZILLA_2_0, r=Mossop 
Bug 617539 - remove nsIWidget_MOZILLA_2_0_BRANCH, r=jimm 
Bug 643083 Crash: JSAutoRequest::~JSAutoRequest r=smaug 
Bug 643083 Test fix: clean up puppet widget properly r=cjones sr=roc 
Bug 643187 Add support for generators to mochitests r=robcee 
Backed out changeset 4470503b2872 
Automated merge 
Bug 644585 - Firefox 4 cannot find plugins whose path is non-ASCII. Make nsPluginTag.mFullPath and various other "full path" members use wide strings, so that we don't have to guess (and get it wrong in a couple cases) whether it's native encoding (which is lossy on Windows) or UTF8. Also, remove support for reading older versions of the plugin registry file, since it's just a cache and doesn't contain data important to the user. r=josh 
Bug 642795 - Remove support for registering and finding "system XULRunner" via config files or the registry. r=glandium 
Bug 509877: Show awsomescreen on opening new tab, r=mfinkle 
Bug 512830: Remove search engine options: answers, creativecommons and ebay, r=mfinkle 
Bug 501566: It takes too long to highlight a selected link, r=froystig, r=mfinkle 
Bug 500322: 'Find' button in download manager does nothing, r=mfinkle 
Bug 510961: Remove scrollingOuterX hacks related to zooming, r=froystig, r=stuart 
Bug 451670: Discard tab data when low on memory, r=mfinkle, r=stuart 
Bug 514029: renderCanvas JS error 'cr is null', r=stuart 
Bug 497347: Can't zoom an element nested in an <iframe/>, r=bcombee, r=mfinkle 
Bug 511020: Don't call onLocationChange or onSecurityChange (since they didn't) when we switch tabs, r=gavin, r=mfinkle 
Bug 486014: GMail storage counter flickers with each update, r=mfinkle, r=stuart 
Bug 517518: panning left always brings in the titlebar, r=bcombee, r=mfinkle 
Bug 514623: strange behavior after clicking anchor links (doesn't scroll directly to anchor?), r=bcombee, r=mfinkle 
Bug 515213: Need to handle DOMWillOpenModalDialog, r=mfinkle 
Bug 518959: Only repaint dirty parts, r=stuart, r=mfinkle 
Bug 520228: When following an entered URL, the old page's title is shown until the new one's title is acquired. [r=21 r=mark.finkle] 
Bug 520913: Use CSS classes instead of manually resizing elements [r=mark.finkle] 
Bug 522529: Diagonal panning is jerky (and a few other issues) [r=mark.finkle] 
Bug 520910: Refactor Rect and add Point class, r=gavin 
Bug 522504: Panning speed is sometimes erratic [r=bcombee] 
Bug 523223: Regression: kinetic panning is stalled [r=mark.finkle] 
Bug 511224: after zoom, titlebar is partially off screen [r=vingtetun] 
Bug 523373: [Regression] _criticalRect is empty and throws in Rect.center() [r=froystig] 
Bug 522494: Tapping or double tapping pans a small amount [r=bcombee] 
Bug 520872:  Make zooming transition better [r=mark.finkle] 
Bug 524170: [Regression] Panning is not responsive [r=mark.finkle] 
Bug 522517: Panning sometimes causes link clicks [r=vingtetun] 
Bug 524543: Fast double taps sometimes cause clicks [r=vingtetun] 
Bug 524695: Unmatched beginBatchOperation: closing pages that are still loaded [r=mark.finkle] 
Bug 524526: Zooming sometimes zooms to incorrect positions [r=mark.finkle] 
Bug 525549: At top of a page, URL bar jumps when accessing sidebars [r=mark.finkle] 
Bug 521108: Improve pan axis locking [r=vingtetung] 
Bug 500280: clicking the preferences button takes a few seconds to switch screens [r=mark.finkle] 
bug 526839 - Smooth out panning while kinetic scrolling is happening r=vingtetun 
Bug 528323: Improve zooming perf and fix zoom for some sites [r=mark.finkle] 
Bug 529098: Inform embedded Flash objects where to render [r=mark.finkle] 
Bug 526904 -  Tabs loading in background are not pannable 
Bug 530887 Some web pages do not zoom to fit page on window resize [r=mfinkle] [r=vingtetun] 
Bug 531871 -  Clipping problem with some flash [r=mfinkle] 
Bug 527943 - Row highlights when user clicks on input field within that row [r=mark.finkle] 
Bug 530835 -  Flash: Chrome UI shows up on background of flash videos [r=gavin.sharp] 
Bug 532442 -  unable to zoom [r=mfinkle] 
Bug 523988 -  Dirty Tiles show up when trying to zoom during a page load [r=mfinkle] 
Bug 496644 -  when going back or forward, use the last pan x, y offsets [r=vingtetun] 
Bug 533502 -  Idle crawler is too aggressive [r=mfinkle] 
Bug 533989 -  center page when doing incremental zoom [r=mfinkle] 
Bug 531897 - plugins in iframes do not work. r=dougt 
Bug 501566 -  It takes way too long to highlight a selected link [r=mfinkle] 
Bug 535356 -  Checkerboard when switching tabs while kinetic panning [r=stuart] 
Bug 534652 - Remove White area surrounding content document on nightly builds. r=dougt 
Bug 538571 -  checkerboard appears after slow pan [r=stuart,vingtetun,froystig] 
Bug 538682 -  Skip frames during kinetic panning [r=mfinkle, froystig] 
Bug 538619 -  Fennec Crashes on N900 when Lycos Mail is browsed. [r=dougt,mfinkle] 
Bug 539493  -  Always pause rendering during drag [r=mfinkle] 
Bug 539062 -  Less checkerboarding [r=vingtetun,froystig] [and stuart's cool with it too] 
Bug 538669 -  Improve idle crawler [r=vingtetun,froystig] 
Bug 539787 -  [regression] center() throws sometimes when switching tabs [r=mfinkle] 
Bug 539985 -  lots of checkerboarding when panning while a page is loaded in background  [r=mfinkle] 
Bug 540937 -  [regression] Render plugin content in iframes [r=mfinkle] 
Bug 533821 - still row highlighting on button press in Get Add-ons [r=mark.finkle] 
Bug 542607 - No checkerboarding for pages with animation [r=mark.finkle r=vingtetun] 
Bug 574117 - Page content never updates [r=mfinkle] 
Bug 552809 - Intermittent NS_ERROR_FAILURE when calling asyncDrawXULElement  [r=mfinkle] 
Changes to component registration for mobile-browser from bug 568691. 
Commit the .manifest filed I forgot for bug 568691. 
Bug 568691 - component registration changes for mobile-browser, r=mfinkle 
Fix typo from bug 568691. 
Bug 587814 - Smoother panning using mozAnimationFrame [r=mfinkle] 
Bug 552827 - fennec - login manager - e10s [r=dolske] 
Bug 552827 - fennec - login manager - e10s: do not use pref branches [r=mfinkle] 
Bug 587814 - Smoother panning using mozAnimationFrame (pt 2) [r=mfinkle] 
Bug 587663 - Page only paints once during load [r=mfinkle] 
Bug 588135 - Fennec - Cannot submit forms [r=mfinkle] 
fixes 
don't use moz transforms because they are slow right now 
fix 
panning 
remove comments 
fix keyboard and mouse, and remove more tile cruft 
merge with trunk 
remove some comments about tile manager 
use viewport api 
bring back code for watching viewport size 
move viewport handling responsibilities to browser element (BrowserView could probably be nixed now) 
support for caching outside of visible region (currently buggy in platform) 
remove most of browserview and begin using browser element 
support for zoom (disabled) 
clean up and get zooming and viewport sort of working 
take out dumps 
Fixes 
merge with trunk 
use DisplayPort 
Add browser binding comments, make some methods internal, and rename zoomLevel to scale 
get rid of browserview 
fix input handler 
isDraggable fix 
remove hack for tilemanager 
pending pixel stuff 
merge 
fix clicking on things that aren't scrollboxes 
(half-baked) animated zoom 
merge 
add portentous comment to animated zooming that will probably not stop anyone, who are we kidding 
fix tap highlighting 
make formhelper work like it does in m-b trunk 
fix merge botch 
fix page zoom level 
allow animated zooming to continue seemlessly if animation is already in progress 
merge 
thumbnails 
fix calculation in determining size of cache viewport 
remove mozscrolledareachanged from content.js 
remove coalescer stuff 
pinch to zoom sort of works 
merge 
make pending pixels aware of screen size so that visible area is always filled 
merge 
[mq]: review 
merge 
Bug 597281 - Cannot pinch to zoom during loading [r=mbrubeck] 
Bug 597283 - Limit pan animation using MozBeforePaint [r=mfinkle] 
Bug 597159 - Double taps sometime cause single taps - part 1 remove single click timer [r=mbrubeck] 
Bug 597159 - Double taps sometime cause single taps - part 2 tap highlight [r=mbrubeck] 
Bug 595403 - Can't scroll up after orientation change or resize [r=mbrubeck] 
Bug 598911 - Blurry text on some pages when zoomed out in Fennec [r=mbrubeck] 
Bug 597286, part 1: fix Util.Timeout bugs [r=mfinkle] 
Bug 597286, part 2: DragData no longer needs owner [r=mfinkle] 
Bug 597286, part 3: Drag move and drag end no longer need to be passed parameters [r=mfinkle] 
Bug 597286, part 4: Use cancel pending where appropriate [r=mbrubeck] 
Bug 597286, part 5: Simplify click timeouts [r=mbrubeck] 
Bug 597286, part 6: MouseModule generates tap events instead of using clunky clickers [r=mbrubeck] 
Bug 597286, part 7: Separate panning from tapping and MouseModule no longer cares about whether something is content [r=mbrubeck] 
Bug 597286, part 8: Create new longtap event and use it to bring up context menus [r=mbrubeck] 
Bug 597286, part 9: Fix interaction between mousemodule and gesturemodule r=mfinkle 
Bug 597547 part 1: divorce mousemodule and gesturemodule from inputhandler r=mfinkle r=mbrubeck 
Bug 597547 part 2: Kill grab r=mfinkle 
Bug 597547 part 3: Divorce keyinput from InputHandler r=mfinkle 
Bug 597547 part 4:  Divorce scrollwhell from InputHandler r=mbrubeck 
Bug 597547 part 5: Kill InputHandler object! r=mbrubeck 
Bug 597547 part 6: rename InputHandler file 
Bug 597600 - Ignore old context menu and tap highlight events r=mfinkle 
Bug 597600 part 2 onMouseUp stops long tap timer r=mfinkle 
Bug 598391 - Listen for scroll events from content [r=mbrubeck] 
Bug 599053 text typed in awesome bare shows up on previously focused form field [r=mfinkle] 
Bug 599501 Browser fights me when I try to zoom r=mfinkle 
Bug 599512 Partial black thumbnails on viewports with width != 800 r=mfinkle 
Code review fixes for 599512 - Partial black thumbnails 
Bug 599501 Browser fights me when I try to zoom r=mfinkle 
Bug 599512 Partial black thumbnails on viewports with width != 800 r=mfinkle 
Bug 599794 - Disable plugins for b1 [r=mfinkle] 
Bug 602985 JS error: _dragger is null r=mbrubeck 
Bug 604099 Panning prevented - this._dragger is null r=mbrubeck 
Bug 605618 Basic mobile frontend patch r=mfinkle 
Bug 625444 Switching to about:home can result in a gray screen r=wesj 
Bug 605618 Scroll iframes asynchronously in frontend r=mfinkle 
Bug 625985 Panning gestures during kinetic panning are ignored r=mbrubeck 
Bug 626863 Sidebars don't snap when panning iframes r=mfinkle 
Bug 626873 Navigating sometimes does not reset scale r=mfinkle 
Bug 624451 Investigate changing displayport based on panning heuristics r=vingtetun r=mbrubeck 
Bug 624451 Followup: stop relying on contentWidth/contentHeight r=mbrubeck 
Bug 628827 Blinky double-tap zoom and pinch to zoom r=mbrubeck 
Bug 623485 - Use transforms to move scrollbars [r=vingtetun] 
Bug 630145 Regression: History not saved r=mfinkle 
Bug 629122 Crashed tab causes displayport to stop setting r=wesj 
Bug 630721 Remove junk at bottom of test r=mfinkle 
Bug 630593 Remove try/catch and test for saving history r=mfinkle 
Bug 633986 Mobile preferences for nice process r=mbrubeck 
Bug 634431 Flash at end of pan r=mbrubeck 
Bug 634788 we change the displayport way too often (OOM fix) r=mbrubeck 
Bug 63742 Snap displayport updates to device pixels [r=mbrubeck] 
Bug 618975 Mobile patch r=mfinkle a=blocking-fennec 
Bug 634397 Mobile workaround: redraw after pan is finished r=wesj a=blocking-fennec 
Bug 640282 Desktop Fennec should start in portrait mode by default r=mfinkle a=approval-2.0 
Bug 618975 Mobile patch r=mfinkle a=blocking-fennec 
Bug 617539 - Remove _MOZILLA_2_0 interfaces, mobile-browser fixup, r=mfinkle 
Bug 644585 - Firefox 4 cannot find plugins (on Windows) whose path contains non-ASCII characters. The path which we pass around within plugin-land (nsPluginTag.mFullPath and several similar variants) is UTF8, not a natively-encoded path. The IPC code needs to respect that. r=josh 
Bug 648156 - Remove gtkmozembed, r=bz 
Bug 642795 - Remove support for registering and finding "system XULRunner" via config files or the registry. r=glandium 
Bug 648593 - Remove JavaXPCOM and its build support code from the main tree, r=ted 
Bug 639179 Part 1: Fix waitingForPaint bug when kinetic panning is active r=mbrubeck 
Bug 639179 Part 2: Carefully track values sent to dragger r=mbrubeck 
Bug 639179 Part 3: Tapping during kinetic panning stops panning r=mbrubeck 
Bug 639179 Part 4: Panning speed determines initial kinetic speed r=mbrubeck 
Bug 639179 Part 5: Use exponential approximation for kinetic friction r=mbrubeck 
Bug 642246 Don't build ThebesLayers for elements with no displayports r=roc 
Bug 617539 - Remove nsIPluginHost_MOZILLA_2_0_BRANCH, nsIPluginInstanceOwner_MOZILLA_2_0_BRANCH, and nsIPluginInstance_MOZILLA_2_0_BRANCH; r=jst 
Bug 639179 Part 1: Fix waitingForPaint bug when kinetic panning is active r=mbrubeck 
Bug 639179 Part 2: Carefully track values sent to dragger r=mbrubeck 
Bug 639179 Part 3: Tapping during kinetic panning stops panning r=mbrubeck 
Bug 639179 Part 4: Panning speed determines initial kinetic speed r=mbrubeck 
Bug 639179 Part 5: Use exponential approximation for kinetic friction r=mbrubeck 
Bug 642246 Don't build ThebesLayers for elements with no displayports r=roc 
Bug 649666 Do not create container layers for scrollboxes with (0, 0) scrollRange r=roc 
Bug 649583 Panning regression on google reader in 2011-04-12 nightly r=roc 
r=benjamin. 
r=benjamin. 
Bug 650081 Fix ipc_channel_win.cpp WARNING about Connect called twice r=cjones 
Bug 651554 permaorange: browser_tapping.js | Fired a good double tap r=wesj 
 OSes r=benjamin 
Bug 650965 Permaorange, add logging for addons tests r=mbrubeck 
Bug 653586 Support mochitest-browser-chrome target for Fennec r=blassey 
Bug 650965 Permaorange, logging for Fennec's extension manager r=wesj 
Bug 650965 Permaorange, log waitForAndContinue and more sanity checks r=wesj 
Bug 649558 - Move modules/plugin/base to dom/plugins/base, r=josh 
Revise the XPCOM version number for Firefox/Mozilla 6. I'm going to just use the same version number as the platform to keep things sane. 
Bug 640048 Fix edge case for z-ordering for async scrollable elements r=roc 
Bug 640048 Fix edge case for z-ordering for async scrollable elements r=roc 
Bug 640048 Crash fix: build nsDisplayScrollLayer with a non-null frame r=roc 
Bug 643772 - dom/plugins can't compile on mingw due to implicit function pointer to void* casts r=benjamin 
Bug 633653 - revamp about:memory.  r=vlad,sdwilsh,dvander,gavin,ehsan,edwsmith;  sr=benjamin. 
Bug 654752 - Make runtests.py work out of the box with Fennec [r=ctalbert] 
Bug 654798 - Fennec browser chrome tests install to the wrong place [r=jmaher] 
Bug 654752 - Make runtests.py work out of the box with Fennec [r=ctalbert] 
Bug 654798 - Fennec browser chrome tests install to the wrong place [r=jmaher] 
Bug 521113 Don't allow kinetic scrolling to move sidebars r=mbrubeck 
Bug 651522 permaorange: Cleanup and add some temporary logging r=mfinkle 
Bug 656331 - XPCOM binary component loading never checks mVersion, r=bz 
Bug 644626 - Move plugin tests from modules/plugin/test to dom/plugin/test, r=ted 
Bug 655864 Password field is not masked immediately and shows artifacts, when typing past the end of the field r=roc 
Bug 655852 Typing past the boundaries of the textbox will start clearing the beginning characters, instead of scrolling r=mbrubeck 
Bug 656183: remove duplicate call to SetCanvasElement.  r=joe 
Bug 421865 - Handle zero dimensions correctly in canvas GetWidthHeight(). r=joe sr=roc 
Bug 649618: toDataURL on a zero canvas should return "data:," r=joe 
Bug 658314 - UserToDevice uses the transform matrix. r=roc 
Bump mozilla-central version numbers for the next release on a CLOSED TREE. 
Bug 405300 - ignore transformation in isPointInPath(). r=joe sr=roc 
Bug 658065 Fix some warnings in mochitest harness r=ctalbert 
Bug 658076 nsSubDocumentFrame uses content to get docshell r=bz 
Bug 657769 nsIDOMWindowUtils.FindElementWithViewId uncaught exception r=mbrubeck 
Bug 655098 - Root the jsid stored in NPObjectMemberPrivate.methodName, r=cdleary,mrbkap 
Bug 647192 IPC view rendering bug using positioned elements and overflow:scroll r=cjones 
Bug 656041 Some parts of page scroll at different rates in Fennec r=roc 
Test for bug 653083 - "temporary" string NPIdentifiers (those not requested explicitly with NPN_GetStringIdentifier) are being cached incorrectly across GCs 
Bug 653083 - Deal with NPRuntime identifier which may be non-interned being passed across the process boundary, and the current cache which isn't aware of that problem. r=bent,cdleary 
Back out bug 653083 because of crashtest crashes (bug698862.html) in PluginInstanceParent::GetNPP for a crashed plugin 
Test for bug 653083 - "temporary" string NPIdentifiers (those not requested explicitly with NPN_GetStringIdentifier) are being cached incorrectly across GCs 
Bug 653083 - Deal with NPRuntime identifier which may be non-interned being passed across the process boundary, and the current cache which isn't aware of that problem. r=bent,cdleary 
Bug 653083 part 2: Fix crash introduced in this patch by moving the plugin-alive null checks before the identifier tries to use the module, r=captain-obvious 
Bug 663829 Checkboxes are difficult to check on Gmail r=wesj 
Bug 666394 Remove redraw hack r=mfinkle 
Bug 587370 - Use MOZ_WIDGET_COCOA instead of OS_MACOSX; r=benjamin 
Bug 587370 - Part 2: Use MOZ_WIDGET_COCOA instead of OS_MACOSX; r=benjamin 
Bug 666938 - Add a console message when a binary component doesn't load because of a kVersion mismatch, r=Mossop 
Bug 670442: Reset mZero flag on the CanvasRenderingContext when new dimensions are set. r=joe 
Bug 668633 Elements with scrollable overflow are cut off when panning r=roc 
Bug 626792 Content view contentWidth/Height do not update immediately after scaling r=roc r=mbrubeck 
Bug 617539 - Combine nsIRadioGroupContainer_MOZILLA_2_0_BRANCH; r=bz 
Bug 670912 - nptest_windows.cpp fails to compile on mingw-w64 r=benjamin 
Bug 671454 Implement telemtry ui on mobile r=mfinkle 
Bug 673122 Rotating Fennec to landscape causes checkerboard to appear indefinitely r=mbrubeck 
Bug 673122 Rotating Fennec to landscape causes checkerboard to appear indefinitely r=mbrubeck 
Bug 666748 - Optionally support a pool of content processes instead of a single one. r=jdm The followup patch for 669640 must land together with this one. 
Merge the electrolysis branch to mozilla-central. 
Bug 675221 part C - Remove XPCOM proxy usage from necko, r=jduell 
Bug 675221 part D - Fix up URL classifier to stop using XPCOM proxies, r=dcamp 
Bug 675221 part E - fix up DOMStorage proxies (miscellaenous #includes from other places also included) r=mayhemer 
Bug 675221 part G - Define HAS_STDCALL for MSVC because it is necessary to specialize templates on function pointers, and we skip the compiler checks for MSVC, r=khuey 
Bug 679796 - Make js_DumpStackFrame traverse saved frame chains and use the topmost iterated frame, not cx->fp(), r=luke 
Bug 680126 Use ColorLayers for presshell painting and correct painting area r=roc 
Bug 680126 Reduce checkerboarding during load r=mbrubeck 
Bug 634759 Allow buffer rotation for mobile r=roc 
Bug 634759 Followup: Mark unexpected passes as expected r=me 
Bug 674615 Remove nsPermissionManager's GetSingleton r=dwitte 
Bug 682066 - Drop NS_DEFCALL. r=benjamin.
Bug 633627 Create shadow bitmap in device space r=joe 
Bug 669028 part.6 chrome should use mozilla::LookAndFeel rather than nsILookAndFeel r=benjamin 
Bug 669028 part.10 embedding should use mozilla::LookAndFeel rather than nsILookAndFeel r=benjamin 
Bug 680868 - pldhash.cpp fails to compile on mingw-w64 r=benjamin 
Bug 632072 - Do not create new functions for every kinetic pan [r=mfinkle] 
Bug 680413 - Allow using child process message manager in chrome process, r=benjamin 
Bug 694008 - xptcinvoke_gcc_x86_unix.cpp fails to compile on mingw r=benjamin 
Bug 661663 - Have to #define XP_WIN when building app with embedded SpiderMonkey JS engine r=benjamin 
Bug 694953 - Check the node type of an <svg:mpath> link before derefencing the link, not just the node name, r=dholbert 
Bug 429592 part A - allow AnnotateCrashReport to be called from off the main thread in the chrome process, r?ted 
Bug 429592 - Add a monitor thread for process hangs and crash by default if a chrome process doesn't end up back in the event loop for more than 30 seconds. By default this affects non-debug builds only. r=cjones/bent 
Bug 696599 Use PRBool for nspr_use_zone_allocator r=benjamin,karlt 
Bug 662358 - Implement mingw variant of nsXPTCStubBase::StubXX directly in assembly r=benjamin 
Bug 675702: Call nsICertVerificationListener on the main thread, rev. 1, r=bsmith, r=mayhemer 
Bug 429592 part A - allow AnnotateCrashReport to be called from off the main thread in the chrome process, r=ted 
Bug 429592 - Add a monitor thread for process hangs and crash by default if a chrome process doesn't end up back in the event loop for more than 30 seconds. By default this affects non-debug builds only. r=cjones/bent 
Disable the hang detector for bug 429592 while running the startup cache tests because they intentionally hang the browser to trigger the startup timeout. feedback=mwu on IRC 
Add MOZ_CRASHREPORTER ifdefs to the patch for bug 429592. r=captain bustage 
Bug 698264 - build fails because of undefined C++11 user-defined literals r=benjamin 
Bug 699134 - Protect against reentrancy in the LdrLoadDll hook, with less XPCOM stringery and more locking. a=bsmedberg ON A CLOSED TREE 
Bug 565953 - Intermittent failure in test_pluginstream_err.html because we're sometimes delivering NPP_StreamAsFile even after NPP_Write has failed, which is probably a violation of NPAPI expectations, although this behavior isn't actually specced out explicitly anywhere. r=josh 
Bug 429592 part A - allow AnnotateCrashReport to be called from off the main thread in the chrome process, r=ted 
Bug 429592 - Add a monitor thread for process hangs and crash by default if a chrome process doesn't end up back in the event loop for more than 30 seconds. By default this affects non-debug builds only. r=cjones/bent 
Disable the hang detector for bug 429592 while running the startup cache tests because they intentionally hang the browser to trigger the startup timeout. feedback=mwu on IRC 
Add MOZ_CRASHREPORTER ifdefs to the patch for bug 429592. r=captain bustage 
Bug 429592 part whatever - disable the hang monitor during all tests which also disable the DOM script timeout, since the hang monitor relies on the DOM script timeout to avoid firing on long content script, r=jmaher 
Bug 429592 - Hook up more correct hang monitoring with Cocoa widgets to avoid false positives and negatives, r?smichaud 
b=429592 disable hang monitor during GLib main loop poll f?bsmedberg r?roc 
Temporarily disable the hang monitor on Mac because it is probably triggering false positives, bug 705154, r=gavin 
Bug 705365 - shorten the plugin hang timeout so that it is shorter than the main process hang timeout, presumptive-r=jimm feedback=asa 
Bug 705748 - Disable the hang monitor by preference until existing found issues are resolved, r=consensus 
Bug 705154 - Hang monitor incorrectly killing the app on mac when the user is idle: unlike other platforms, the main loop on Mac doesn't call processNextEvent in a loop: instead it calls into [NSApplication run] and we check whether there are pending XPCOM events during processing. Suspend the hang monitor when we pause for incoming events by subclassing [NSApplication nextEventMatchingMask], r=smichaud 
Bug 577813 - Missing __attribute__ ((used)) on PrepareAndDispatch functions. r=benjamin. 
Bug 707469 - Don't use UNIX variant xptcinvoke implementation on mingw r=benjamin 
Bug 707469 - Don't use UNIX variant xptcinvoke implementation on mingw r=benjamin 
Bug 708935 - Make the DNS listener proxies release the nsIDNSListener on the main thread, to solve last-release issues and ASSERTION: ASSERTION: nsStandardURL not thread-safe from PendingPACQuery, r=mcmanus 
Bug 692817 - Potential math overflow in Base64.cpp, r=dbaron 
Bug 713517 - Add IPC support for alpha. r=benjamin 
Bug 715325 - shutdown indexedDB during xpcom-shutdown. r=benjamin. 
Bug 708962 - Start Telemetry service at application start to avoid deadlock from GetService spinning event loop. r=benjamin 
Bug 675221 part A: replace XPCOM proxies with runanble for code in XPCOM itself, r=bz 
Bug 675221 part B - remove the implementation of XPCOM proxies, sr=dougt 
Bug 675221 addendum to part A - reimplement the recursion check for the console service so that a poorly-written console listener doesn't cause an infinite repeition, r=bent 
Bug 675221 part H - fix test_bug489671 which is throwing exceptions from a console listener, which is supposed to fail to prevent infinite recursion or infinite repetition behavior. r=bz 
Bug 715576 - libalerts_s.dylib is incorrectly-named (_s indicates a static library) and links against the static-js library, which is bad. Make it link against either libxul (static-js) or the dynamic-js library correctly, and rename it. r=ted 
Bug 706724 - Fix for error: âftruncateâ was not declared in this scope. r=benjamin 
Bug 90268 mochitest - test that we only deliver an <object data=""> stream once, because on Windows in windowed mode (only!) this causes Flash to stop working. r=josh 
Bug 665597 - Include margin calculations in FinishAndStoreOverflow.  part=1/5 r=roc 
update its overflow areas. 
Bug 715885 - Don't allow extensions to hook nsIDragService. r=roc 
Bug 716638 - Annotate the size of a failed allocation due to OOM and submit it with the crash report, r=ted 
Bug 724615 - Fix TARGET_CPU usage on ARM. r=benjamin 
Bug 716594 - Switch nsBinaryInputStream::ReadBytes back to using the fallible allocator because it correctly checks for allocation errors and streams are untrusted input we should try to work with, r=dbaron 
Bug 723473: Fix crash with Flashblock, regression from bug 90268. r=josh 
Test for bug 725016 - extensions which add categories in their chrome.manifest expect that they contract they refer to will be available when the category observer notification is fired. 
Bug 725015 - Always deliver category-change notifications asynchronously. This is required because extensions need the JavaScript-global-property category to work, but we always register contracts at the "end" of a chrome.manifest so that they will always be after the CIDs, but that means that they are after the categories are registered. r=bz 
Bug 725655 - gcc 4.7 build failures (missing headers). r=benjamin 
Bug 727401 - import libpng overflow patch from http://codereview.chromium.org/9363013 r=joe, a=akeybl 
Test for bug 410904 and bug 724465 - Is the Referer header present and correct when plugins request streams? 
Bug 724465 - Only inlude the Referer header in GET requests from plugins, not POST requests, because IIS throws malformed request exceptions, r=josh 
Bug 406336 - Fix indexOf and enumerate documentation. r=benjamin 
Bug 729009 part 0 - remove dead code, r=josh 
Bug 729009 - Send the embedded document (SWF file) as the referer for plugin-initiated streams, r=josh 
Bug 734903 - Undefined reference to XRE_GetProcessType in nsMediaCacheRemover.cpp on mingw r=benjamin 
Bug 734975 - Package a .tar.bz2 file for the XULRunner package on Mac, instead of the .pkg.dmg which installs XULRunner to an obsolete system location. r=Mossop 
Bug 719154, remove the implementation of chained and filtered event queues now that they are no longer needed, r=jlebar 
Bug 737433 - Send the referer for embedded src="" streams for plugins (and make them part of the correct load group while we're at it!), r=josh 
Bug 740919 - Don't delay-load gkmedias.dll and make the XPCOM glue work by eagerly loading it in dependentlibs.list, r=khuey 
Bug 743056 - nsPrintfCString is consistently misused because people don't understand its length-truncation behavior. Make it behave the way people expect by expanding the string as necessary (and use nsTSubstring::AppendPrintf to unify the codepath), r=jlebar 
Bug 743560 - Include xpcshell and run-mozilla.sh in the SDK package but not the binary package, r=Mossop 
Benjamin Otte (2):
Bug 746541 - nsXPConnect::ReleaseXPConnectSingleton should be the one to remove the last reference to nsXPConnect. r=rbenjamin. 
Bug 736501 - Use -Werror=unused-result, r=ted/mayhemer/njn 
Bug 737164 prerequisite - move mozilla::fallible_t to its own header so that everyone can reference it reasonable, r=cjones 
Bug 737164 part A - make the nsTSubstring string API infallible by default. Note that this patch for reviewing sanity does not modify the subclass APIs, that will be a separate revision, r=jlebar 
Bug 737164 part B - use fallible or infallible strings appropriately in necko, r=jduell 
Bug 737164 part C - switch various in-tree callers which are using fallible strings to keep using them 
Bug 754582 - Fixed unused-result warnings in Windows-specific code r=benjamin 
Bug 755163 - Kill a test which is not useful anymore and liable failure with different compilers.  r=jwalden 
Bug 749459 - Load the EGL libraries correctly on Windows from the GRE path and the system location on other platforms (should be Android-only currently), r=bjacob 
Bug 755336 - convert integer types in nsAppStartup.cpp. r=benjamin. 
Bug 754244 - Prevent the XPIDL parser from tokenizing "long longValue" as "long long" "Value" by requiring that the next letter after a named identifier be a non-identifier letter, r?khuey 

Bug 740795 part A - file moves for pdf.js not being shipped as an extension, r=bsmedberg Bug 740795 part B - make nsinstall.py accept an "-X" flag to exclude files when copying directories recursively, r=ted 

Bug 740795 part B - make nsinstall.py accept an "-X" flag to exclude files when copying directories recursively, r=ted Bug 740795 part C - Don't ship pdf.js as an extension, build changes, r=ted 

Bug 740795 part C - Don't ship pdf.js as an extension, build changes, r=ted Bug 755323 - Uploading large files with DOM File or FileReader will abort the browser from string OOM part 1 (ignoring the data: URI case for now), r=bz 
Bug 734847 - Make nsTHashtable and its derivatives be infallible to OOM by default; code which is prepared to handle OOM conditions must use the explicit fallible_t() methods, r=jlebar 
Bug 734847 part 2 - treewide changes resulting from the default-infallibility of hashtables; either remove useless result checks, or use the fallible version of APIs, depending on context, r=jlebar 
Back out bug 740795 because of bustages (check-sync-dirs at least) 

Back out bug 740795 because of bustages (check-sync-dirs at least) Merge backout of bug 740795 

Merge backout of bug 740795 Bug 574132 - Implement harmony rest parameters. r=jorendorff 

Bug 740795 part A - file moves for pdf.js not being shipped as an extension, r=bsmedberg Bug 740795 part B - make nsinstall.py accept an "-X" flag to exclude files when copying directories recursively, r=ted 

Bug 740795 part B - make nsinstall.py accept an "-X" flag to exclude files when copying directories recursively, r=ted Bug 740795 part C - Don't ship pdf.js as an extension, build changes, r=ted 

Bug 740795 part C - Don't ship pdf.js as an extension, build changes, r=ted Bug 756131 - API for creating default profiles for webapps, r=benjamin 
Bug 574132 - Implement rest parameters for JavaScript. r=jorendorff. 
Bug 757676 - Implement JS default parameters. r=jorendorff 
Bug 759904 - Make sure to call endBody on GenexpGuard, r=jorendorff 
Bug 758428: complain when the compiler returns false without an error, r=jorendorff 
Bug 759902: reduce JSBool usage in js.cpp to a minimum, r=jorendorff 
Bug 759976: remove JSDEBUGGER* sections, r=jorendorff 
Bug 757676: implement default parameters in JaegerMonkey, r=bhackett 
Bug 759498: fix defaults when arguments are bound as functions, r=jorendorff 
Bug 749818: add Number.isNaN, r=jwalden 
Bug 761480: add Number.isFinite. r=jorendorff. 
Bug 761495: add Number.isInteger and Number.toInteger, r=jorendorff 
Bug 574130: JavaScript spread array initializers, r=jorendorff. 
Bug 760304: support defaults and rest parameters in Reflect.parse, r=dherman 
Bug 762285 - Add ForOfIterator, a C++ class for "for-of" iteration. r=benjamin. 
Bug 763313: skip destructuring when emitting PNK_SEQ nodes r=jorendorff 
Bug 729182 - Implement visual event tracer, part1 - the core, r=benjamin+ehsan 
Bug 627699 - Port GTK2 to GTK3, configure patch. r=benjamin 
Bug 763755 - Support the spread operator in Reflect.parse. r=dherman 
Bug 763348 - Set private data on constructor instead of post method. r=jorendorff 
Bug 747683 - Don't unload the plugin library right before exiting the plugin process, because some plugins are using atexit handlers, r=josh 
Bug 764706 - Unused variable in nsToolkitProfileService.cpp r=benjamin 
Bug 763954: give the rest argument integer properties, r=bhackett 
Bug 755724 Part C - Move ScopedAppData into the XPCOM glue, r=glandium 
Bug 755724 part A - add makefile variable DIST_SUBDIR to ship code to a subdirectory of dist/bin, r=ted 
Bug 765280 - Fake stack depth, so various opcodes that depend on absolute stack depth are not confused, r=jorendorff 
Bug 764508 - Remove header if it is no longer needed, r=jorendorff 
Bug 765055: bind rest argument when defaults are present, r=jorendorff 
Bug 767660: after mutating a list, update its tail, r=jorendorff 
Bug 762324: write to the current address of the bytecode, r=jorendorff 
Bug 769048 part A - import breakpad changes from http://breakpad.appspot.com/406002 which allow the crash generation client to be initialized with a handle instead of a pipe name, r=ted 
Bug 769048 part B - unbust our in-tree exception handler initializer which became ambiguous because NULL could have been a wstring* or a HANDLE, r=ehsan 
Bug 769048 part C - Build an injector DLL which can watch for crashes in Flash player processes. This involves building two copies of breakpad: one to live inside of libxul which uses mozalloc and the dynamic CRT, another to link into the injector which links the CRT statically and doesn't use mozalloc. Introduce a new define/makefile variable MOZ_CRASHREPORTER_INJECTOR rather than repeating "#if defined(XP_WIN) && !defined(HAVE_64BIT_OS) in many places. r=ehsan/khuey 
* There is no support for unloading (no need in this patch) 
Bug 769048 part E - Core crashreporter support for injecting a crashreporter DLL into an arbitrary process and callbacks for notifications when that process has crashed, r=ehsan 
Bug 769048 part F - Add the final bits to PluginModuleParent which watch for new Flash processes and inject a crashreporter into them, r=jimm 
Bug 769721 - Minimal patch to force OOPP mode on for Windows Vista+ users, because Flash is not tested with the IPP configuration and has known bugs, r=josh 
Bug 771281 - Remove js shell workers. r=jorendorff 
Bug 770805 - Close the IPC channel safely when we discover that a Flash process has crashed; don't call Close() directly, because PluginModuleParent assumes that a normal shutdown only occurs from PluginModuleParent::NP_Shutdown. Instead, follow a similar codepath to the hang timeout which calls AsyncChannel::SynchronouslyClose and then sets a specific error code, r=cjones 
Followup to bug 769048 part F - actually annotate the crash report with the notes we've carefully collected, r=captain-obvious 
Call RecordShutdownEndTimeStamp from XRE_main. r=benjamin. 
White list the shutdown time fd. r=benjamin. 
Bug 772012: create a CompileError class. r=njn 
Bug 769072: increase tokenizer lookahead to 3. r=njn 
Bug 769072: retroactively apply strict mode to defaults. r=njn 
* Make injected crashes available via TakeMinidumpForChild and give each crash a sequence number so that we can pick the earliest crash from the three possibilities; delete the other two to avoid polluting about:crashes 
Bug 772691 - Disallow XML in function defaults. r=njn 
(since not used by Firefox/B2G/Fennec) 
Bug 772963: remove empty parameter name. r=Neil 
Bug 773153: don't use operand context when looking for line end. r=njn 
* Make injected crashes available via TakeMinidumpForChild and give each crash a sequence number so that we can pick the earliest crash from the three possibilities; delete the other two to avoid polluting about:crashes 
Bug 722956 - Clear async io timer so it doesn't run after shutdown has started. r=philikon 
Bug 772012 - When the rest parameter aliases a function and defaults are present, don't try to set the rest parameter. r=jorendorff 
Bug 773115 - Remove unneeded needStrictChecks() call. r=njn 
Bug 773665 - Don't crash during shutdown because XPCOM is already mostly-dead and refuses to create a local file, r=ted 
Bug 722956: clear async io timer, so it doesn't run after shutdown has started. r=philkon 
Bug 774041 - silence warning about unused private field. r=benjamin. 
Bug 774511 - Remove unused exception message. r=terrence 
Bug 773934 - Make the social API not rely on Function.prototype.toSource. r=mhammond 
Bug 725702: support for of loops in Reflect.parse r=dherman 
Bug 761723 - Save script sources to implement Function.prototype.toString. r=jorendorff,njn,jimb,jst,Ms2ger 
Bug 761723 - Add memory reporting for script sources. r=njn 
Bug 761723 - Add a context option to only save source for compileAndGo and function body scripts. r=jornedorff 
Bug 761723 - Add a runtime hook to retrieve source that wasn't saved. r=luke 
Bug 761723 - Load chrome source code when it's needed for Function.prototype.toSource(). r=bz 
Bug 761723 - Add test for chrome toSource. r=bz 
No bug: class -> struct for compiler warning. r=dzbarsky 
Bug 776200 - Reduce compression level as temporary fix for SunSpider regression. r=pierron 
Bug 776283 - Decode sources properly before handing them to the JS engine. r=bz 
Bug 776389 - Find the source of scripts from the subscript loader correctly. r=bz 
Bug 776700 - completely disable compression until Sunspider is sorted out. r=dmandelin 
Bug 776388 - Create global threads. r=terrence 
Bug 776317 - Separate the body of a constructed function from its braces with newlines. r=luke 
Bug 776430 - Use the rightmost URI to account for possible multiple prefixing. r=bz 
Bug 776314 - Add a script flag indicating if the script is a generator expression. r=luke 
Bug 776314 - Stub out genexp toSource. r=luke 
Bug 776332 - Fix the rooting of Function's toSource/toString. r=terrence 
Bug 777083 - Don't leak when ownSource is true. r=luke 
Bug 777181 - Breaking out of a for-let-in loop needs SRC_HIDDEN. r=luke 
Bug 776985 - libs-xpcshell-tests should not attempt to install backup files that end in ~, r=ted 
Back out bug 776985 because of check-sync-dirs bustage 
Bug 776484: Only strip whitespace on expression bodies. r=jorendorff 
Bug 777776 - Properly barrier JSScript::scriptSource_. r=terrence 
Backout b69f5004fde8 (Bug 777776) for bustage 
Bug 777776 - Properly barrier JSScript::scriptSource_. r=terrence 
Backout 4cdd23569371 (Bug 777776) for more bustage 
Backout 46b27e913ac9 for windows failures 
Backout 22eea4925efc for windows failures 
Bug 778268 - Allow definitions with no uses to be removed. r=luke 
Bug 777776 - Properly barrier JSScript::scriptSource_. r=terrence 
Bug 778560 - Fix typo that prevented JS from ever using zlib. r=dmandelin 
Bug 777190 - Don't compress files with huge strings; reenable source compression. r=jorendorff 
Backout 56e0971c81ea for oth test bustage 
Bug 777834 - Add a a tokenizer flag for error state. r=jorendorff 
Bug 777834 - Don't call into the tokenizer if it's in an error state. r=jorendorff 
Bug 774243 - [Linux] Process name changes to RunProcess, r=benjamin 
Bug 779038 - Add an Evaluate variant which can read files. r=jimb 
Bug 779347 - Add AutoFile to automatically handle the closing of FILE *. r=jimb 
Bug 779017 - Give every JSScript a ScriptSource. r=jorendorff 
Bug 779372 - Add missing USE_ZLIB. r=jorendorff 
Bug 779400: Split ScriptSource::setSource into setSource and setSourceCopy. r=jorendorff 
Bug 767274: New expression decompiler. r=luke 
Bug 779694 - Handle zlib errors correctly. r=jorendorff 
Bug 779865 - Make CompileOptions public. r=jimb 
Bug 780051 - Remove JS_MAX and JS_MIN. r=luke 
Bug 778531 - Update Array.prototype.join/toLocaleString to follow ES5. r=jorendorff 
Bug 772733 - Implement String.startsWith/endsWith. r=luke 
Bug 772733 - Implement String.contains. r=sfink 
backout 6609595c84eb for leaking mutex 
Bug 779975 - Refcount ScriptSource. r=jorendorff 
Bug 779724 - Replace JSOPTION_ONLY_CNG_SOURCE with an enum on CompileOptions. r=jorendorff 
Bug 779724 - Use finer-grain source controls in the browser. r=jorendorff, sr=jst 
Bug 774706 - Ensure script to be serialized is not gray. r=mccr8 
Bug 780405 - Set the funbox kids in LeaveFunction, so generator expression boxes don't lose them. r=jorendorff 
Bug 781040 - Fault in methods and accessors with JSJitinfos on ResolveProperty. (r=bz,benjamin) 
Bug 781071 - Account for the enclosing scope being NULL. r=luke 
Bug 781289 - Remove unecessary check that let variable name matches are atoms. r=luke 
Bug 781445 - Remove a python 2.7 only function from tasks_unix.py; r=benjamin 
No bug - hot fix for android build bustage r=me 
Bug 781403 - Remove weird, old performance tests. r=dmandelin 
Bug 781009 - Make CompileOptions constructor explicit. r=jimb 
Bug 700583 - Null-check our way out of crashes on both mobile and desktop in pr_FindSymbolInLib caused by plugin code where the plugin fails to load correctly, r=josh 
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/browser_pluginplaypreview.js | Found an unexpected tab at the end of test run: chrome://mochitests/content/browser/browser/base/content/test/plugin_test.html 
CLOSED TREE 
Bug 785781 - Remove artifact of the old re engine. r=njn 
Bug 781035 - Use the C++ JS compile API in more places. r=jorendorff sr=jst 
Bug 781035 followup - fix indentation. r=me 
Bug 787760 - Use strong enum class for StrictMode. r=njn 
Bug 785305 - Teach Reflect.parse about the strange parse node structure of defaulted formals that alias functions. r=jorendorff 
Bug 787410 - Allow overriding the plugin hang report submission URL via prefs (also allow overriding in general using MOZ_CRASHREPORTER_URL like the standalone client does), r?ted 
Bug 787410 Part 2 - Actually change the submission server for hang reports to the temporary server 
No bug - Make NameResolver constructor explicit. r=sfink 
Bug 788957 (part 1) - Change FunctionBox so it has an ObjectBox rather than is an ObjectBox.  r=benjamin. 
Bug 788957 (part 2) - Split ContextFlags into AnyContextFlags and FunctionContextFlags.  r=benjamin. 
Bug 788957 (part 3) - Change SharedContext::inFunction() to SharedContext::isFunction.  r=benjamin. 
Bug 788957 (part 4) - Add GlobalSharedContext, a sub-class of SharedContext, and also make FunctionBox a sub-class of SharedContext.  r=benjamin. 
Bug 788957 (part 5) - Remove unused arguments from NoteLValue().  r=benjamin. 
Bug 781422 - Give parameters defaults whenever they're undefined. r=jorendorff 
Bug 788701 - Decrease the length of the text to match when there is a start position. r=jorendorff 
Bug 791009 - Misnamed variable in CrashSubmit.jsm causes an error when submitting a crash: "ReferenceError: extraData is not defined", r=ted 
Bug 789941 - Remove stdc++compat.cpp support on OS X. r=benjamin. 
No bug - tweak comment. r=me DONTBUILD 
Bug 791009 part B - fix spelling and logic errors; don't add additional_minidumps to the extra data twice, r=ted 
Bug 777061 - Don't count defaults in the length property of functions. r=jorendorff 
Bug 790424 (part 1) - Set strict mode on functions in default arguments more lazily.  code=benjamin,nnethercote.  r=nnethercote. 
Backed out changeset 3ca1f19e4c2a (bug 792968) for mochitest-oth failures 
Bug 782272 - Only clear the _lazySave timer if it's there. r=gps 
Bug 793513 - Only set properties on the rest array if it doesn't have unknown ones. r=jandem 
backout 5f9951a2e6df (bug 785918) for breaking on osx 
Bug 792541 - Block sprotector.dll on Windows 8 and up. Add support in the windows blocklist for flags and add a flag for "win8 and up only", r=ehsan 
Bug 794065 - Fix array literals with spread and holes at the end. r=jorendorff 
Bug 727370 - Fix typo that crept in while rebasing. r=benjamin 
Bug 792372 - Use a check to solve a race notifying the browser process about a Flash crash while the channel is being closed [@ mozilla::ipc::AsyncChannel::CloseWithError()], r=gfritzsche 
No bug - Readd executable bit. rs=terrence 
Bug 791465 - Fix processDirectives' ASI emulation. code=AndrÃ© Bargull r=benjamin 
Bug 779118 - Try to be more robust about waiting for compression to finish. r=luke 
Bug 800407 - Remove incorrect assertion that Function constructor defined functions cannot have inherited strict mode. r=benjamin code=Nikhil Marathe 
No bug - Add executable bit. rs=terrence 
Bug 800407 followup - Fix running in browser environment. r=me 
Bug 801961 - Make ion compile threads start lazily. r=luke 
Bug 803358 - Remove JSOPTION_RELIMIT. r=luke 
Bug 803707 - Don't assume pointers are 64 bits. r=benjamin. 
Bug 797817 - Update the battery indicator led when receiving battery status change. r=cjones 
Bug 804404 - Set source hook in XPC initialization. r=bz 
No bug: Make constructor explicit. rs=Waldo 
Bug 804664 - remove typedef nsAutoCString nsCAutoString. r=benjamin 
Bug 804558 - Make JSScript::loadSource GC-safe. r=terrence 
Bug 804857 - Allocate memory in the compression thread and have its clients check for error. r=njn 
Bug 804857 - Start with a small compression buffer. r=njn 
Bug 778948 - Move jsinterp to vm/Interpreter. r=luke 
backout bug 778948 eace14fccc47 for horrible sunspider regression r=me 
Bug 809292 - Deal with all source data allocation in one function. r=njn 
3. DOMRequestIpcHelper: Check aTopic in observe method 
Bug 806192 - Fail instead of segfaulting when not passed nsIContent. r=bz 
Bug 812688 - Remove dead code. r=bz 
Bug 791244 test fixup - allow for the pref to be unset by default, r=gfritzsche 
Bug 795104 - Don't abort compression, which isn't happening. r=jorendorff 
Bug 795104 - Load source if needed in JS_DecompileScript. r=jorendorff 
Bug 795104 - Sources with a custom charset can't be lazily loaded. r=bz 
4. zoom it out if the rect reach the device maximal zoom ratio 
Bug 817724 - Change some fields from JSBool to bool. r=luke 
Bug 817452 - Remove AutoRelease[Nullable]Ptr. r=njn 
No bug - Remove extra comma which gcc dislikes. r=me 
Bug 787134 - Fix apparent typo. r=me 
Bug 818559 - Don't ask to unload if we know we're going to download. r=smaug 
Bug 819601 - Don't redeclare formal. r=Yoric 
Bug 818559 - Don't ask to unload if we know we're going to download. r=smaug 
Bug 820067 - Check that mTiming is still around in case the beforeunload handler killed it. r=smaug,bz 
NameError: global name 'cline' is not defined 
Bug 819509 - Minimal tokenizer support for seek and tell. r=njn 
Bug 819509 - Make the tokenizer record if it sees an octal escape. r=njn 
Bug 819509 - Make some JSFunction setters idempotent. r=njn 
Bug 819509 - Reparse functions if we discover they are strict. r=njn 
Bug 819509 - Reimplement banning of XML in defaults. r=njn 
Bug 819509 - Make strictness a boolean. r=njn 
Bug 819509 - Remove old strict mode code and simplify. r=njn 
Bug 819509 - Reduce possible tokenizer lookahead. r=njn 
Bug 819509 - Rename almost everything dealing with strict mode to just |strict|. r=njn 
Bug 776985 - libs-xpcshell-tests should not attempt to install backup files that end in ~, r=ted 
Bug 818664 - Report plugin version in plugin crash reports, r=josh 
Bug 807757 part PSM - Remove nsIProfileChangeStatus and related veto notifications from PSM r=bsmith 
Bug 807757 main part - remove nsIProfileChangeStatus, nsIProfile and remnants of code to support them, r=glandium 
Backout bug 820902 for bustage. CLOSED TREE 
Bug 821469 - Don't start compression thread if not requested. r=billm 
Bug 821470 - Avoid calling TokenStream::strictMode() from the BytecodeEmitter. r=benjamin 
Bug 821103 - Don't spit out strict warnings on non-strict code. r=njn 
Bug 822283 - Make APIs that access strictMode() on the TokenStream private. r=njn 
Bug 823310 - Only report strict warnings when JSOPTION_STRICT is set. r=njn,jorendorff 
Bug 807757 part PSM - Remove nsIProfileChangeStatus and related veto notifications from PSM r=bsmith 
Bug 807757 main part - remove nsIProfileChangeStatus, nsIProfile and remnants of code to support them, r=glandium 
Bug 805746 - Send CustomScroll domevent to browser.js. r=cjones 
backout bug 810525 for failing jit-tests 
Bug 559432 - Don't fail the assert if the cached actor is null... that probably just means we're in the process of tearing down the instance, r=josh 
Bug 826126 - Just use an assert to check for aliasing; r=benjamin
Bug 825545 - Make the ScriptSource API work even if it is being compressed. r=jorendorff 
Bug 825545 followup - Remove extra comment. r=jorendorff 
Bug 825545 followup - Fix building threadless shell. r=me 
Bug 761135 - Remove XPCOMGlueShutdown. r=benjamin 
Bug 816900 - 1. Use |expandedPermNames[idx]| instead |msg.type + "-" + msg.access|. 2. Add |write, create| permissions in test_sim_contacts.js. r=gwagner 
Bug 828184 - Block qipcap.dll version 7.6.815.1 and earlier for a topcrash related to an interface change of nsIPrefBranch, r=ehsan 
Bug 830616 - A follow-up for bug 828395 to fix some buggy logic in handling the targets of system message. r=mrbkap,benjaminchen 
Bug 832148 - Remove AutoPtr. r=njn 
Bug 832141 - Rename js_ValueToSource to ValueToSource and make it internal. r=luke 
Bug 830389 - Assert js_ValueToSource recieves a value in the correct compartment. r=billm 
Bug 832151 - Make js_ErrorFormatString const. r=jorendorff 
Bug 321958 - Remove dead code nsIPluginTagInfo.getTagText, r=josh 
Bug 568953 - Fix for module object; r=benjamin 
Bug 833151 - Avoid unnecessary copy of CompileOptions.  r=benjamin. 
Bug 833863 - Don't install js/src/ds/SplayTree.h, put MFBT first in the js/src/Makefile.in VPATH, r=khuey 
Bug 827596 - assert at runtime if we try to assign to a nsAutoPtr which already contains the identical pointer, r=dbaron 
Bug 831846 - Enter a script global's compartment before running the expression decompiler on it. r=billm 
Add test for bug 831846. 
Bug 831428 - Console listeners should not require a threadsafe addref/release method if they are only used from the main thread, r=jlebar 
Bug 831248 test fixup for the webconsole tests: a warning about mutation events being deprecated was being delivered into the console listener, confusing the test, r=rcampbell 
Bug 831428 test fixup in test_bug429785 - don't remove the listener until it has received the console messages, r=bz 
Bug 831428 test fixup in browser_Deprecated.js - run the tests serially, remove the listener after its job is done, r=Yoric 
Bug 777474 - Use the expression decompiler for opcode text when possible. r=bhackket 
Bug 718969 - Perform an exorcism; remove the decompiler. r=luke 
Bug 777474 - Use the expression decompiler for opcode text when possible. r=bhackket 
Bug 718969 - Perform an exorcism; remove the decompiler. r=luke 
Bug 836985 - Remove ScriptSourceHolder::rt.  r=benjamin. 
Bug 836985 follow-up: Make ScriptSourceHolder constructor explicit.  r=benjamin. 
Bug 831921 - Make the plugin UI less broken-looking for all plugins except for crashed plugins, including visual tweaks by shorlander. r=jaws 
Bug 836524 followup - need to include inlines. CLOSED TREE 
Bug 836515 - Allow source compression to run while executing the script. r=jorendorff 
Bug 837715. Reduce compression rate for js source. r=benjamin
Bug 839731 - Kill try-safe stuff. r=benjamin 
Bug 841549 - Fix sizeOfIncludingThis() during compression. r=njn 
Bug 841407 - Replace usage of enablePrivilege in inspector tests. r=bholley 
Bug 837561 ReadInt16 and WriteInt16 should be paired r=benjamin 
Benjamin Gilbert (1):
Bug 791244 - Make the hangprocessor pref dependent on RELEASE_BUILD since deploying multidump hasn't happened yet, r=heycam 
Bug 842884 - Don't do array assignment optimizations when spread is involved. r=jorendorff 
Bug 623462 - Add an environment variable to save a full dump, not just a minidump, r=ted 
Bug 841477 - Enable FAIL_ON_WARNINGS on MSVC in dom/plugins. r=benjamin 
Bug 847088 - Fix gstreamer backend, which was broken by TimeRange changes. r=benjamin 
Bug 847088 followup - Reference type with correct namespace. 
Bug 844533 - Add a pref which controls whether we load plugins from the root appdir, default to off, r=glandium 
Bug 863263 part A - Modify some code in nsReadableUtils to support fallible and infallible variations of AppendUTF8toUTF16, r=jlebar 
Bug 836263 part B - Do custom OOM error reporting in nsPrefBranch::GetComplexValue in the hopes of better diagnosis of a topcrash correlated to a few addons but otherwise very mysterious, r=khuey/ted 
Bug 758874 - Test browser_sanitize-download-history.js contains typo in window name. r=mak77 
Bug 824920 - Fix zoom ratio and check the zoom offset to prevent over-scroll. r=drs 
Bug 842438 (part 1) - Remove @line support from SpiderMonkey.  r=benjamin. 
Bug 779233 - Put a script's filename on the ScriptSource. r=billm 
Bug 779233 - Count script filenames as part of script source memory. r=njn 
Bug 684887 part A - Make the XPCOM component manager non-reentrant, and make sure that nsFactoryEntry.mFactory is protected by it, r=cjones 
Bug 684887 part B - make a SafeMutex which should crash if you try to recursively lock it, instead of deadlocking. r=bent 
Bug 846984 - Prevent race conditions when USE_ZLIB is not defined. r=jorendorff 
Bug 850928 - Fix assorted JS compiler warnings. r=dholbert,dvander 
Bug 831768 - Delay async painting calls so that they never nest within RPC calls. The Adobe Flash implementation doesn't expect this reentry and sometimes deadlocks. The Apple Java stub doesn't expect this reentry and corrupts NPRuntime objects. r=gfritzsche 
Backout Bug 854117 because philor said so 
Bug 853363 - Add profiler labels for IPDL IPC. r=benjamin 
Bug 853998 - Add a common "SyncRunnable" class which dispatches events totally synchronously, avoiding event loop spinning or automatic promotion of this event to a nsThread, r=bsmedberg 
Bug 831768 part 2 - Also defer painting from RecvUpdateBackground just as we did with RecvAsyncSetWindow, r=gfritzsche 
Bug 830389 - Switch to the right compartment before reporting an error. r=billm 
Bug 846906 - Implement nsAppShellService::CreateWindowlessBrowser; r=bz; sr=benjamin 
Bug 846906 - Implement nsAppShellService::CreateWindowlessBrowser; r=bz; sr=benjamin 
Bug 846906 - Implement nsAppShellService::CreateWindowlessBrowser; r=bz; sr=benjamin 
Bug 844996 - DeallocShmem failures will abort in debug builds. r=cjones,benjamin 
Bug 858705 - Use newKind parameter. r=terrence 
Bug 858900 - Poison JSContext. r=luke 
Bug 858712 - Make AsmJSModule constructor explicit. r=luke 
Bug 860745 - Check result of ScriptSource::substring. r=luke 
Bug 837835 - Reserve VM space at startup and free it when a crash happens, in the hope that writing a minidump will then succeed. r=ted 
Bug 418615 - Neuter the code which tries to reframe existing plugin instances when navigator.plugins.refresh(true) is called. Instead, only scan for new plugins, unload unused plugins. The DOM code will continue to refresh the current page which calls navigator.plugins.refresh(true). r=jschoenick sr=bz 
Bug 862240 - Add null checking and reset the runnable member pointer when entering runnable method. r=drs 
Bug 853387 - Make all plugins run out of process on Mac x86 now that we no longer support fallback for in-process quickdraw graphics/carbon events. r=smichaud 
Bug 836869 - Make QueryPerformanceCounter bad leap detection heuristic smarter, r=tellrob, sr=benjamin 
No bug - Make constructor explicit. rs=Ms2ger 
Bug 872785 - Move GetBytecodeInteger to jsopcode.h; use it in the expression decompiler. r=bhackett 
Bug 872893 - Make EmitElemOp static. r=bhackett 
Bug 873309 followup - Killed another unused function. r=me CLOSED TREE 
No bug - Fix indentation. r=trivial DONTBUILD 
Bug 872813 - Remove decomposing opcodes. r=luke 
Bug 871942 - Don't synchronously stop plugins in DestroyContent. r=benjamin 
Bug 875135: IonMonkey: Don't reorder operands when constant is already in rhs, r=sstangl 
Bug 877058 - Remove compiler member of baseline's FrameInfo. r=jandem 
Bug 870007 - Avoid segfault in AsmJS when switch table is too high. r=luke 
Bug 876952 - JS shell's help() refers to isAsmJSModule instead of isAsmJSFunction. r=luke 
Bug 877599 - Remove precedence information from opcodes. r=jorendorff 
Bug 778948 - Move jsinterp.cpp/h to the vm/ dir. r=luke 
clobber for bug 778948 
Bug 879033 - Replace MOZ_DOUBLE_IS_NEGZERO by IsNegativeZero on Solaris. r=jimb 
Bug 874196 - Add an API to get the specifics of a permission given a host/type: this will allow the plugin click-to-activate UI to manage permissions by the matching host and determine whether the current permission is per-session or persistent. r=jdm sr=mounir 
Bug 874197 - Change nsIPermissionManager.TYPE_SESSION to also respect expiration times if they are specified. r=jdm sr=mounir 
Bug 878520: don't clone native asm.js functions; r=luke 
Bug 877908 - Precludes also directives after "use asm". r=luke 
Bug 878435 - In asmjs mode, compare in uint32 mode only if both operands are unsigned. r=luke 
Bug 878495 - In shell, print "[native code]" for native functions. r=luke 
Bug 878435 - In asmjs mode, compare in uint32 mode only if both operands are unsigned. r=luke 
Bug 877965 - In asm.js mode, use the last return statement instead of the last statement to find the return type of a function. r=luke 
Bug 877965 - Ignore empty statements in var declarations in asm.js mode. r=luke 
Bug 878495 - In shell, print "[native code]" for native functions. r=luke 
Bug 881270 - Remove the MIME type fallback tests in test_bug391728 because they are testing the incorrect behavior and only happen to work because the test plugin remained blocklisted from a prior test. r=johns 
Bug 880675 - Remove the writable nsIPluginTag.blocklisted property, which is a poorly-constructed cache of the blocklist data, r=jschoenick r=unfocused 
Bug 875454 - Rework handling of per-site plugin permissions in objectloadingcontent such that users can disable or enable plugins per-site no matter what their "global" permission is (currently only plugins marked click-to-activate globally honor per-site overrides). Also change the pageInfo UI such that "use default" is separate from the explicit click-to-play setting. r=jschoenick/jaws 
Bug 823978 - Rename JSOPTION_STRICT to JSOPTION_EXTRA_WARNINGS. r=Waldo 
Bug 823978 - Rename JSOPTION_STRICT to JSOPTION_EXTRA_WARNINGS. r=Waldo 
Bug 823978 - Rename JSOPTION_STRICT to JSOPTION_EXTRA_WARNINGS. r=Waldo 
Bug 878444: in Range Analysis, give an empty range for |Infinity % x|; r=bhackett 
Bug 882012: Provide Use to right hand side in CheckStoreArray; r=luke 
Bug 882514: Don't try to enable Ion on functions with no script; r=h4writer 
Bug 878501: Forbid variable declarations without var keyword in asm.js; r=luke 
Bug 882012: Provide Use to right hand side in CheckStoreArray; r=luke 
Bug 880565 (part 1) - Move isFunction() et al from jsobjinlines.h to jsobj.h and minimize the number of files that #include jsobjinlines.h.  r=benjamin. 
Bug 880565 (part 2) - Remove unnecessary #includes in jsobjinlines.h.  r=benjamin. 
Bug 881579 - Use the canonical #ifndef wrapper form in SpiderMonkey headers so that GCC and clang can avoid including them more than once per compilation unit.  r=benjamin. 
Bug 882339 - Cache the blocklist state on plugin tags to avoid querying the blocklist service constantly, r=johns 
Bug 882858 - Add a "showing" notification to PopupNotifications, r=jaws sr=gavin 
Back out revision d3da96f774b3 on a CLOSED TREE - Bug 882339 because of mochitest-browser failures in browser_CTP_drag_drop.js and browser-pluginnotification.js 
Back out 2d970c9c1fad - Bug 882858 Because of mochitest-browser failures in browser_CTP_drag_drop.js and perhaps browser_pluginnotification.js 
Bug 882339 - Cache the blocklist state on plugin tags to avoid querying the blocklist service constantly, r=johns 
Bug 882858 - Add a "showing" notification to PopupNotifications, r=jaws sr=gavin 
Bug 884694 - Fix the android preference to always enable plugins, r=margaret 
Bug 882339 part B - nsPluginTag::IsBlocklisted should use the cached blocklist state, since it gets called in some tight loops via plugintag.IsActive r=johns Once more with feeling! 
Bug 880735 part A - Add a .defaultFallbackType to plugins so that we can avoid re-implementing the ShouldPlay logic in the frontend code. r=johns 
Bug 880735 part B - add .getPluginTagForType and make .getBlocklistStateForType scriptable, r=johns 
Bug 880735 part C - Disabled plugins should be always disabled, site-specific permissions do not override them. I'm sorry for the churn from bug 875454. At least the logic is in one place and easy to fix! r=johns 
Bug 883420 - Add an API to set a new expireTime for an existing permission, r=ehsan sr=mounir 
Bug 880735 part E - Use the new permissionmanager.updateExpireTime method to make sure that plugin permissions are renewed properly, r=johns 
Bug 880735 part D - New doorhanger frontend code. Removes all logic which shows the plugin doorhanger automatically, including on scripting. Always show the doorhanger when there is a plugin present on the page, even if that plugin is currently enabled. Make the "always" choices clear to the user. r=jaws 
Bug 880735 part F - Remove extra functions, strings, and styles which are no longer needed, r=jaws 
* browser_plugins_added_dynamically.js: remove the "activate all" tests which are no longer relevant and fix the rest to match the new doorhanger structure. 
Bug 880735 part S - Basic styling so that this can land - add classes to the binding for styling hooks and fix space handling. Make the buttons fill the space, limit the doorhanger size, and add whitespace/separators for the multi-plugin UI, r=jaws 
Bug 880735 part D followup: flod pointed out that I changed these strings without changing the key, and since changing the key is hard I'm just going to revert them for now and do something better in a followup. 
Bug 880735 part S followup review comment - put the plugin doorhanger styles into shared/ 
Bug 886423 - Turn on the click-to-play UI by default in Firefox desktop. As a side effect, remove the plugin permission from about:permissions because we're using per-plugin permission not per-site and about:permissions doesn't know about that. (page info knows about it) r=keeler 
Bug 886403 - Spelling errors from bug 880735, r=spelling 
Bug 886866: Clean unused function and doc for Ion Perf integration; r=nmatsakis 
Bug 886246: Set infinite flags after bounds for MPhi nodes in range analysis; r=nbp 
Bug 886940 - single outdated plugin UI uses the wrong string, r=captainobvious 
Bug 884473: Integrate perf with Odinmonkey: functions profiling; r=sstangl 
Bug 884473: Integrate perf with OdinMonkey: basic blocks profiling; r=sstangl 
Bug 884473: puts a warning message when compiled with --enable-perf and no env variable is given; r=sstangl 
Bug 885804: IPDL unit test changes r=benjamin 
Bug 892291: Correctly compute ranges for Math.imul; r=nbp 
Bug 893364: in asm.js mode, correctly compute ranges for add and sub; 
Bug 893368: in asm.js, correctly compute range for truncated Math.abs calls; r=nbp 
Bug 889480 - When NP_Initialize fails, we should not try to call NP_Shutdown later, r=gfritzsche 
Bug 888908 - When the location bar is missing, don't auto-popup the plugin notification (ever). It will still pop up when clicking the in-page UI. And Australis will make this code moot anyway, r=jaws 
Bug 889788 - Plugin doorhanger breaks when plugins are dynamically removed from a page. This implements the short-term solution of hiding the plugin doorhanger when no more plugins are on the page (the better long-term solution will keep showing the UI and track all the plugins a page ever uses). This also implements a short-term solution when a user enables a plugin. Also bug 887088 - Short-term UI solution: when a user loads multiple tabs from a site and enables a plugin on one of them, the plugins are not enabled on other tabs but the "continue allowing" button does nothing. This patch makes the "Continue Allowing" button enable existing plugins of that type. r=jaws r=jschoenick 
Bug 894781 - Set implicit truncate for MAbs only for int32 in asm.js mode; r=luke 
Bug 889480 - When NP_Initialize fails, we should not try to call NP_Shutdown later, r=gfritzsche 
Bug 888908 - When the location bar is missing, don't auto-popup the plugin notification (ever). It will still pop up when clicking the in-page UI. And Australis will make this code moot anyway, r=jaws 
Bug 889788 - Plugin doorhanger breaks when plugins are dynamically removed from a page. This implements the short-term solution of hiding the plugin doorhanger when no more plugins are on the page (the better long-term solution will keep showing the UI and track all the plugins a page ever uses). This also implements a short-term solution when a user enables a plugin. Also bug 887088 - Short-term UI solution: when a user loads multiple tabs from a site and enables a plugin on one of them, the plugins are not enabled on other tabs but the "continue allowing" button does nothing. This patch makes the "Continue Allowing" button enable existing plugins of that type. r=jaws r=jschoenick 
Bug 888292 - De-emphasize the plugin icon in the address bar when it doesn't need to catch the user's attention. With this change, the only time the icon will be "alert blue" is when a plugin is click-to-activate and it's too small to show the overlay inline in the page. Icons provided by shorlander. ui-review=lco r=jaws 
Bug 888510 - In-content theming fixup for the new plugin click-to-activate. Remove the "lightweight" transparent click-to-play theming and make the normal styling plain grey. Switch from a CSS gradient to an image gradient because of performance issues. Highlight the "check for updates" button for outdated plugins. Icons by shorlander and lco, ui-review=lco r=jaws 
Followup to bug 888510 - windowless-layers reftest should be skip-if no testplugin, not fails-if 
Bug 895939 - Click-to-activate plugin notification is ugly, r=jaws 
Bug 900308 - Kill warnings for MForceUse::congruentTo; r=djvj 
Bug 900297: Folds MToDouble in its input if it is already a double; r=sstangl 
Bug 899858 - Cache pymake len() computation to speed up parsing. r=benjamin 
Bug 898274 (part 1) - Fix ordering of various #include statements.  r=benjamin. 
Bug 898274 (part 2) - Check ordering of #include statements in check_spidermonkey_style.py.  r=benjamin. 
Bug 901105 - Rename movqsd into movq; r=sstangl 
Bug 900771: Fold MToString into its input if it's already a string; r=sstangl 
Bug 907328 - Fix unused variable warnings in Runtime.cpp. r=luke 
Bug 896264 - Disable Math.hypot until spec settles down. r=jorendorff 
Bug 777060 - Allow parameters without defaults after default parameters. r=jorendorff 
Bug 906860: Ignore segfaults handled by AsmJSFaultHandler in gdb; r=jimb,gps 
Bug 908301 - Remove dedicated source compression thread, use JS worker threads instead, allow saving source when parsing off thread, r=benjamin. 
Bug 908001: Reuse default block for non cases in giant sparse switch tables in Odin; r=mjrosenb 
Bug 900125: Add Math.fround to the interpreter; r=sstangl 
Bug 900125: Tests for Math.fround; r=waldo 
Bug 911806 - Disable assignment operator and copy constructor of CompileError. r=billm 
Bug 902075 - Add telemetry for plugin click-to-activate doorhanger UI, r=vladan 
Bug 912294: Fix pre increment operator in InlineListIterator and InlineListReverseIterator; r=dvander 
Bug 888109: Float32 general optimizations for IonMonkey: framework and arithmetic operations; r=sstangl,nbp 
Bug 888109: Float32 general optimizations for IonMonkey: framework and arithmetic operations; r=sstangl,nbp 
Bug 888109: Float32 general optimizations for IonMonkey: framework and arithmetic operations; r=sstangl,nbp 
Bug 914981: Inline Sqrt even if the input is a Float32; r=mjrosenb 
Bug 900257: Inline Math.fround in IonMonkey; r=sstangl 
Bug 913253: assertFloat32 function + tests for IonMonkey; r=nbp 
Bug 915301: Prevent MPassArg from receiving a Float32 as an input; r=terrence 
Bug 800347 - Try clearing RPCChannel in the destructor so that the dequeue task is cancelled properly, r=dvander 
Bug 915301: Check Float32 coherency; r=sstangl 
Bug 915608: Convert Float32 to Double at the right place in alwaysBoxAt; r=efaust 
Bug 916662: Fix failed assertions and correctness errors on ARM; r=shu 
Bug 916712: Convert Float32 TableSwitch inputs to doubles; r=jandem 
Bug 877338: Add alias analysis and GVN for global variable loads / stores in asm.js; r=jandem 
Bug 877378: Add alias analysis and GVN for heap loads / stores in asm.js; r=jandem 
Bug 915934: Rename UInt32ToDouble into AsmJSUInt32ToDouble; r=h4writer 
Bug 901110: Use Float32 constants pool on x64; r=sstangl 
Bug 913282: Use a MDefinition's member function to check Float32 consistency; r=sstangl 
Bug 913282: Add mfbt Float32 asserts and constants; r=Waldo 
Bug 918869 - When the objdir is on a different drive from the source, write virtualenv paths as absolute paths (avoids "Error populating virtualenv"), r=gps 
Bug 831285 - Block beid35cardlayer.dll versions prior to version 4 which are known to cause crashes and hangs in Firefox, r=johnath 
Bug 918815: Inline zero Float32 constants on x86 and factor out maybeInlineFloat; r=sstangl 
Bug 919175 - Fix some unused variable warnings on optimized builds in jit/. r=jandem 
Bug 919712 - Add labels in IPC message wait. r=benjamin 
Bug 919118: Convert Float before conversion to Int32; r=sstangl 
Bug 915903: Convert Float32 before truncating them in StoreTypedArrayPolicy; r=sstangl 
Bug 919838: Specialize ToInt32 for Float32; r=sstangl 
Bug 919830 - Mark a variable only used in an assertion DebugOnly. r=mak 
Bug 920695 part A - move xpcshell code into libxul and make the xpcshell binary just a stub, r=bholley 
Bug 920695 part B - Remove references to JS_READLINE/EDITLINE since its in a different place now and won't work, r=bholley 
Bug 920731 - stop exporting JS symbols from libxul in Firefox builds. r=glandium sr=bz 
Bug 920731 part B - also stop export JS symbols for android and B2G, r=glandium 
Bug 921502 - Use a JS component to collect telemetry from the startup cache C++ test, instead of using raw JSAPI, r=nfroyd 
Bug 922190 - Remove bundled copy of simplejson. r=gps 
Bug 915648 followup - Remove debugging code from 9cc7634555c3. r=trivial 
Bug 923466 - Shut up opt build unused variable warnings. r=billm 
Bug 921046 - Implement a retry loop when locking the profile on startup, so that if a previous instance is shutting down, we will just start with a slight delay, r=Mossop r=froydnj 
Bug 753687 - nsCategoryCache implementation doesn't free old category entries if their contract mapping is removed using .unregisterFactory. Store the factory objects directly in the map, instead of keeping both a map and a separate list. r=froydnj 
Bug 831645 - Part1, Add Rtsp protocol and streaming protocol interface. r=jduell.mcbugs, sworkman 
Bug 831645 - part2, Rtsp media resource and decoder. r=roc, doublec, sworkman, khuey, gps 
Bug 926948 - Include jsobjinlines.h for JSObject::getType. r=bhackett 
Bug 925459 - Blocklist bitguard.dll for crashes. r=johnath 
Bug 918613 - Specialize some Maths function calls for Float32 in Ion. r=sstangl 
Bug 927174 - Add a "More Info..." link to the plugin click-to-activate panel which links to SUMO, r=jaws 
Bug 928333 followup - dumpHead() should only be defined in debug mode. r=me 
No Bug - Include jsobjinlines.h to avoid warning. r=me 
Bug 928738 - Safely pun double and float. r=jandem 
Bug 812683 - Fix various crashes in Windows graphics libraries by blocking the ASUS Gamer OSD software, which is discontinued and unsupported, r=jrmuizel 
Bug 927944 - Annotate crash reports with a list of DLLs that were blocked via the windows blocklist. Also fix the blocklist to recognize forward-slash as a path delimiter, r=ehsan 
Bug 927944 part B - move AutoCriticalSection to nsWindowsHelpers.h and use it instead of manual lock handling in nsWindowsDllBlocklist.cpp, r=ehsan 
Fixup for bug 927174 - use the preexisting app.support.baseURL pref instead of a custom one 
dougc for the ARM parts, bbouvier for the rest. 
dougc for the ARM parts, bbouvier for the rest 
dougc for the ARM parts, bbouvier for the rest 
dougc for the ARM parts, bbouvier for the rest. 
dougc for the ARM parts, bbouvier for the rest 
Bug 913282: IsFloat32Representable function in mfbt; r=Waldo 
dougc for the ARM parts, bbouvier for the rest 
Bug 913282: Tests 
Bug 918163: Tests 
Bug 928736 - Fix compiler warnings related to context options namespace importing. r=luke 
Bug 928736 - Remove forward declarations of classes subsequently defined with attributes, because clang doesn't like it when you do this, and add JS:: to the few places that now need it.  r=benjamin 
No bug - Fix some unused variable warnings. r=me 
No Bug - Fix equality in debug mode. r=me a=bustage CLOSED TREE 
No bug - Add inline header to avoid warning about missing function. r=me 
No bug - Assorted compiler warning fixes. r=me 
Bug 930990 - Make MTest a consistent Float32 operation. r=sstangl 
Bug 926605 part A - When a plugin is removed from a page, continue showing it in the plugin doorhanger, to deal with the cases where the site removes a plugin immediately after trying to use it, r=jaws 
Bug 926605 part B - automatically refresh the page if the users chooses to enable a plugin but its no longer on the page, r=jaws 
Bug 930477: Specialize Math.floor for Float32; r=jandem,jonco 
Bug 930993: In out of line truncate, restore registers in the correct order; r=jandem 
This patch was based on work from Tanvi Vyas and Benjamin Smedberg. 
Bug 915951 - test fixes for password manager mochitests - because mochitest runs all its tests in an iframe, it collects popup notifications from all tests and never dismisses them: remove them explicitly before each password manager test that needs to check popups. r=MattN 
Note: this patch still has one potential hole: if content creates a plugin and destroys it without forcing reflow, the XBL binding will not be instantiated. This doesn't appear to be a problem in practice, because every site that wants to use a plugin also has to trigger frame construction to get the plugin to instantiate (document.write of the embed element appears to do this automatically). 
Bug 745187 part B - If a plugin is already activated, don't refresh the page. 
Bug 932446 - in-content click-to-activate UI should look more clickable. Give the entire plugin a pointer cursor; reorder the vulnerable and activate sentences; underline the activate sentence so it looks like a clickable link; make the activate sentence red when :active so it also behaves more like a link, r=jaws ui-r=lco 
Bug 932786 - CTP doorhanger does not update to show the new plugin state after the user clicks allow or block; update pluginInfo.fallbackType with the new state in gPluginHandler._updatePluginPermission, r=keeler 
Bug 933935 - Strip parentheticals when making nice plugin names, r=dolske 
Bug 934503 - Activated hidden plugins should not show the hidden plugin notification icon, r=jaws 
Test for bug 934503, r=jaws 
Bug 934774 - Intermittent exception is killing mochitests (primarily browser_pluginnotification.js) because we're dispatching an event to a document which is already dead. Check it's aliveness before dispatching, r=johns 
Bug 934503 - Activated hidden plugins should not show the hidden plugin notification icon, r=jaws 
Bug 926431 - Make clone unsafe for fuzzing in the JS shell. r=luke 
Bug 892395 - Use RTP-Info as base timestamp instead of sender report(SR). r=sworkman 
Bug 936710 - Add an option to propagate flags to the nested shells. r=luke 
and export the relevant symbols. Based on a patch by Benjamin Chen. 
Bug 877116 - 1.addPacket(): Add timestamp for each AU in one RTP packet. 2.submitAccessUnit(): Post message for each AU. 3. Get the mConstantDuration from SDP or calculate it from RTP packets. r=sworkman 
Bug 935791 - Add an option to disable SSE3 and SSE4 on the JS shell. r=jandem 
Bug 932854 - when a site uses a hidden plugin, show a notification bar to aid discoverability. This patch, suitable for trunk and branch, uses existing strings which are not ideal. r=jaws 
Bug 883404 (UI portion) - Disable running plugins on the current page when the user chooses "Block", r=jaws 
Bug 932854 test fixup - reset the test plugin state only after the UI has finished checking plugin state, r=gfritzsche 
Bug 932854 followup - Clear the plugin infobar after test_bug391728.html so that it doesn't affect later tests. a=ryanvm for pushing on a CLOSED TREE 
Bug 939464 - Rewrite code to fix GCC unitialized variable compliants. r=billm 
Bug 939464 - Rewrite code to fix GCC unitialized variable compliants. r=billm 
No bug - Make zone iterator constructors explicit. r=billm 
Bug 932854 - when a site uses a hidden plugin, show a notification bar to aid discoverability. This patch, suitable for trunk and branch, uses existing strings which are not ideal. r=jaws 
Bug 932854 test fixup - reset the test plugin state only after the UI has finished checking plugin state, r=gfritzsche 
Bug 932854 temporary test workaround for test_keycodes.xul, r=jimm 
Bug 938431: Make MPostWriteBarriers a safe Float32 instruction; r=jonco 
Bug 932854 telemetry - add telemetry for showing the plugin infobar and its two buttons, r=jaws 
Bug 932854 - trunk-only patch to use new strings for the buttons, r=jaws 
Bug 672843 part A - Create the new macro NS_WARN_IF and deprecate NS_ENSURE_* in favor of the explicit warning/return style. Also localize each macro so that it's debug and non-debug versions are local in the file, because that makes it easier for new contributors to understand. r=froydnj sr=jst 
Bug 672843 part B - Remove NS_ENSURE_PROPER_AGGREGATION, r=froydnj 
Bug 672843 part C - convert most of XPCOM except for xpcom/tests, r=vdjeric 
Bug 672843 part D - make NS_ERROR_INVALID_POINTER an alias of NS_ERROR_INVALID_ARG, r=froydnj 
Bug 938390 - don't create a string to hold chars in ScriptSource::chars (r=benjamin) 
Bug 938615 - Simplify usage of ScriptSource::chars (r=benjamin) 
Bug 672843 part A - Create the new macro NS_WARN_IF and deprecate NS_ENSURE_* in favor of the explicit warning/return style. Also localize each macro so that it's debug and non-debug versions are local in the file, because that makes it easier for new contributors to understand. r=froydnj sr=jst 
Bug 672843 part B - Remove NS_ENSURE_PROPER_AGGREGATION, r=froydnj 
Bug 672843 part C - convert most of XPCOM except for xpcom/tests, r=vdjeric 
Bug 672843 part D - make NS_ERROR_INVALID_POINTER an alias of NS_ERROR_INVALID_ARG, r=froydnj 
Bug 672843 part D2 - Fix the xpconnect exception code and Components.results to prefer the name NS_ERROR_ILLEGAL_VALUE over the other synonyms. Fix a few tests that rely on exception names to use exception values instead. r=bholley 
Bug 941137 - Alter plugin defaults on the beta/release channel so that Java is still click-to-activate by default, but other plugins are not for the next few releases while we articulate a potential whitelist/transition strategy, r=gfritzsche 
Bug 939868: Merge int32 and float32 types into float32 only if the int32 can be converted; r=sstangl 
Bug 940846: MArrayPush shouldn't take a Float32 as an input; r=sstangl 
Bug 941381: Compile Float32 asin as asinf, not sinf (typo); r=luke 
Bug 941381: Make Float32 correctness tests for trigo assert 
Bug 941908 - Crash in nsIDocument::IsActive becuse of a null document. This would assert in debug builds, but use a wallpaper null-check in release builds also, r=johns 
Bug 938794 - Annotate OOM size as infallible string or data structures abort, r=froydnj 
backout dc9ebdf27e98 (bug 942657) for bustage 
Bug 946799 part A - annotate the location and size of the breakpad memory reservation, r=ted 
Bug 946799 part B - fix the blocklist annotation to use the correct size, r=dmajor 
Bug 946877 - Don't PGO nsDebugImpl.cpp, to see if that aids stackwalking around NS_OOM_ABORT, r=ted 
Bug 767343 - Use fallible allocation in nsSupportsString::SetData because people are putting arbitrarily-large data in it, perhaps session-restore data but I'm not sure, r=froydnj 
On a CLOSED TREE. 
Bug 946877 followup - move nsDebugImpl.cpp out of unified sources so that it relaly isn't part of PGO, r=ted 
- Benjamin Bouvier (bbouvier) for everything else 
Bug 904918: Odin Float32 support: tests; r=luke 
Bug 941137 followup - fix xpcshell test which expects the test plugin to be click-to-activate to actually set the state it desires. 
Bug 853973 - If a plugin is overlayed by other content on the page, then treat it as a hidden plugin: hide the overlay and present the infobar for click-to-play or crashed plugins, r=jaws 
Bug 932832 - click-to-play not discoverable for Google Hangouts video plugin because it is positioned at -40000,-40000. Check for positioning and treat this as a hidden plugin, r=jaws 
Bug 943519 - If we don't have a valid nsIFormProcessor, the HTML parser should continue and should not mark the entire document as broken, r=hsivonen 
Bug 936740: inline call to libc's ceil for Math.ceil(); r=jandem 
Bug 944398: Inline Math.fround even if its returned value hasn't ever been observed; r=bhackett 
Backed out changeset 84a3ca9be2eb (bug 940040) for linux bustage 
No bug - Put initializer list in the right order to quiet GCC warnings. r=me 
Bug 953284 - Remove JSOP_NOTEARG. r=jandem 
Bug 953284 followup - Update trap offsets. r=me 
Backed out changeset 2bf05c015b49 (bug 886208) for oth orange 
Bug 953195 - Print filename in unused warning. r=gps 
Bug 875562 - Fill in some details in the crashreporter docs, r=gps 
Bug 958381: Make comparisons with float32 aware of the need of a coercion; r=sstangl 
Bug 961883 (part 1) - Measure and report the SourceDataCache. r=benjamin. 
Bug 942550: Take care of all particular cases in ecmaPow instead of js_math_pow; r=jandem 
Bug 952306: Refactor Variable into Variable, ConstantImport and ConstantLiteral in Odin; r=luke 
Bug 952306: Allow global const literals as variable initializers; r=luke 
Bug 966695 - Fix signed/unsigned comparison warning. r=Waldo 
Bug 966926: Force ToString not to have Float32 inputs; r=h4writer 
Bug 966957: Specialize ToString for Float32; r=h4writer 
Bug 966957: Concat Float32 too; r=h4writer 
Bug 878488: Implement asm.js Math constants; r=luke 
Backed out changeset 5b3dd105258e for Windows build failures 
Backed out changeset d983a44ff5b8 (bug 966957) 
Bug 878488: Implement asm.js Math constants; r=luke 
Bug 964132 - [RTSP] Fix the cycle reference in RtpsMediaResource. r=sworkman 
Bug 964209 - [RTSP] Implement flags() function and set mExtractor to fix content process crash. r=sworkman 
Bug 966295: Implement variadic Math.min and Math.max in Odin; r=luke 
Bug 897870 - Add diagnostic OOM size to Pickle::Pickle crashes. r=dmajor 
Bug 967936 - Reorder condition to avoid (benign) race with compression thread. r=jorendorff 
No bug - Make ScriptSource constructor explicit. rs=jorendorff 
Bug 972657 - Move the "is this script too small to compress?" check to a better place. r=benjamin. 
Bug 936740: Inline Math.ceil for double inputs where an integer is returned; r=jandem 
Bug 974373: Shows a warning when logging in Odin parallel compilation mode; r=h4writer 
Bug 930477: Inline MPow with Float32 inputs even if it's not specialized; r=jandem 
Bug 930477: Follow-up - Don't allow the power type to be Float32 for MPow; r=h4writer 
Bug 973371 - Clarify a label for a checkbox in the Profile Manager. r=benjamin 
Bug 959119: Take into account the use's index when determining whether a mir node can consume a float32; r=sstangl 
Bug 970774 - Add display width/height for track encoder. r=rillian 
Bug 969203: Take out non strictly commutative Float32 functions; r=sstangl 
Bug 939843: Unify FloatingPoint's code for Double and Float; r=waldo 
Bug 939843: Tests for mfbt::Floats; r=waldo 
Bug 939843: Required changes in Spidermonkey; r=mjrosenb 
Bug 939843: Required changes in the rest of the tree; r=froydnj 
Bug 930477: Specialize Round for Float32; r=jandem,mjrosenb 
Bug 930477: Implemented roundf for all platforms; r=waldo 
Bug 881413 - Avoid a race condition in HTTP shutdown by explicitly cancelling nsHttpConnectionMgr::mTimer when we shut down the socket thread, r=mcmanus 
Bug 969289 - Treat the null image pointer as a muted frame. r=rillian 
Bug 969289 - Add new test_mediarecorder_record_gum_video_timeslice.html test case. r=jsmith 
Bug 977900: Add collide method back in Array.scatterPar; r=shu 
Bug 978714: Initialize codeIsProtected_ in Odin; r=luke 
Bug 778866 - Abort from the I/O thread on abnormal shutdown of a plugin-process, in case the main thread is wedged and the Firefox process has already been killed, r=cjones 
Bug 919052: OdinMonkey: Add support for short-circuiting ternaries in if expressions; r=luke 
Bug 970787 - Support yuv 4:4:4 4:2:2 video in VP8TrackEncoder by libyuv for color conversion. r=rillian 
Bug 980860: Fix fieldName comparison in TypeDescrSet::fieldNamed; r=nmatsakis 
Bug 981314: Relax block creation check for dead code in CheckIfCondition; r=luke 
Bug 981325: Consider Float32 not to be a simple primitive; r=h4writer 
Bug 981851 - Add a simple JS logging mechanism to telemetry for recording unusual event data, r=taras 
Bug 982765: Reuse CallArgs in HandleDynamicLinkFailure instead of creating new arguments; r=njn 
No bug - Fix some unused variable warnings in optimized builds. r=me 
Bug 980860: Rename test to match bug number. DONTBUILD 
Bug 979812 - Check the PlanarYCbCrImage data is valid. r=rillian 
Bug 983226 - Set up jsfilter with proper healthreport/telemetry payloads, r=felipe 
Bug 979474 - Pin the telemetry experiments manifest, r=cviecco 
Bug 984879 - Experiment manager shutdown, r=felipe 
Bug 985089 - Allow QA to set a pref to control experiment sampling values, r=felipe 
Bug 985682 - Experiment IDs aren't loaded correctly from the cache. Tests will be separate, r=gfritzsche 
Fix the test for bug 981842 to expect the new data on a CLOSED TREE. 
Bug 977708 - Annotate crash reports with the current experiment, r=felipe 
* ensures that all dirty writes actually get written 
Bug 988718 - Mark nsSecurityHeaderParser explicit. r=dkeeler 
Bug 988710 - Task.spawn can launch synchronously, which leads to a race setting and clearing this._mainTask. Move that into the .then() clause of _run. Also fix up some logging and FHR issues, r=gfritzsche 
Bug 989166: Reserve stack explicitly rather than implicitly; r=sstangl 
Bug 984816: RTSP play/pause deadlock issue. 1. Release the monitor when access mReader. 2. Reverse the order in RtspOmxReader::SetIdle(). r=cpearce 
Bug 986313: Use LifoAllocPolicy for VarTypeVector and prevent a memory leak when moving it in ModuleCompiler; r=luke 
Bug 878399: Preparatory cleanups; r=luke 
Bug 878399: Implement toSource / toString for asm.js modules; r=luke 
Bug 878399: Implement toSource / toString for asm.js modules lambda; r=luke 
Bug 878399: Implement toSource / toString for asm.js functions; r=luke 
Bug 986582 - Get rid of the separate toolkit.telemetry.enabledPreRelease flag. Comment-only, so DONTBUILD. r=rnewman 
Bug 986582 - Get rid of the toolkit.telemetry.enabledPreRelease pref and make the toolkit.telemetry.enabled pref do the right thing for beta users who are testing a final release build, r=rnewman 
Bug 985089 followup: fix mis-spelling of isNaN, r=gfritzsche 
Bug 991510: Make arrow functions not validate as asm.js modules; r=luke 
Bug 992208 - Add Telemetry Experiments to the package so that they are actually used. Also a basic test that the service exists and can be created. r=gfritzsche 
Bug 985876 - kill unused 'cond' variable in testValueTruthyKernel; r=nbp over irc 
Bug 993084 attempt - make CommonUtils and Metrics imports lazy, since they aren't going to be needed anywhere near startup or when experiments is disabled, r=gps 
Bug 944392: Remove reference to PRThread in Tracelogger.h to reenable tracelogging compilation, on a CLOSED TREE; r=h4writer over irc 
Bug 993303 - Correct the VorbisTrackEncoder::WriteLacing function. r=rillian 
Bug 995180: Eliminate unused FromMIRType function; r=luke 
Bug 994181: Tracelogger: convert integer to platform-specific pointer before writing it as a pointer; r=h4writer 
Bug 979867: Kill mixed sign comparison warning; r=lth 
Bug 988416: Test for the Intl property existence before using it; r=till 
Bug 993034: SIMD - Rename toType2 into toType and make it fallible; r=nmatsakis 
Bug 993034: SIMD - Clean up coding style and reorganize functions by number of arguments; r=nmatsakis 
Bug 993034: SIMD - Replace and simplify bogus pointer in Int32x4Select; r=nmatsakis 
Bug 993034: SIMD - Define shallow wrappers macro that call templated functions instead of macro functions; r=nmatsakis 
Bug 993034: SIMD - Factor out tests for object and vector in a single function; r=nmatsakis 
Bug 993034: SIMD - Factor out typed access to TypedObject memory; r=nmatsakis 
Bug 996881: Inherit 'use strict' directive when calling toSource/toString for asm.js modules; r=luke 
Bug 995027 logging - add traces to figure out whether uninit was called and where it got stuck, r=gfritzsche 
Bug 997188 - Handle the experiments.manifest.uri pref correctly so so that it don't ping out to telemetry-experiments.cdn.mozilla.net by default or enable experiment code in the tests. This should also fix bug 994686. r=irving/gfritzsche 

* bug 990067 - Skype* bug 990286 - VidyoWeb plugin 
Bug 994557 - part1:fix formatting, typo, 80 characters. r=rillian 
Bug 994557 - part2: 1. fix bug in finishCluster function. 2. Can flush metadata only. 3. Ensure the keyframe is placed at the beginning of cluster. r=rillian 
Bug 999443 - Trying to reuse the same nsISimpleEnumerator for multiple plugins means that only the first plugin in an extension is marked as being in an extension. Cache the list in an array instead. r=gfritzsche 
Bug 999443 test - The first plugin found in extensions was activated, but any subsequent plugins were not. r=gfritzsche 
Bug 988950: Remove unused Nursery variable; r=jandem 
Bug 990908 - Revert the change of bug 938512 and let the RTSP's code flow align to others. r=cpearce 
Bug 995027 better logging - set experiments.logging.dump to true during test runs so that logging goes to the console even during shutdown, r=gfritzsche 
Bug 999364 : Fix the cluster length for WebM. r=rillian 
Bug 999790: Make asm.js modules and functions constructible; r=luke 
Bug 996076: Preparatory clean-ups, factor out error code; r=nmatsakis 
Bug 996076: Add SIMD.int32x4.{equal,greaterThan,lessThan} to the interpreter; r=nmatsakis 
Bug 996076: Add SIMD.float32x4.{not,and,or,xor} to the interpreter; r=nmatsakis 
Bug 996076: Add SIMD.int32x4.{shiftLeft,shiftRight,shiftRightLogical} to the interpreter; r=nmatsakis 
Bug 1004665 - If the crash reporter is disabled, .annotateCrashReport will throw an exception. Catch it and continue, r=gfritzsche 
Bug 995027 - MockProvider._delayCallback can lose or mis-call callbacks in several ways. r=irving 
Bug 1004623 - UpdateCrashEventsDir() is called before XPCOM is started, which means crash events are not being recorded until/unless the user uses an out-of-process plugin. r=ted 
Bug 1000195 - Fix the auto-play path by calling MediaDecoder::NotifySuspendedStatusChanged. r=sworkman, r=ettseng 
Bug 1007389 - Implement plugin whitelist round 2, r=gfritzsche 
Bug 951043 - [MediaEncoder::GTest] Implement unit test of Vorbis encoding. r=rillian 
Bug 993598 - Don't move forward the mStartPos if the writer returns a failure value. r=roc 
Bug 951043 - [MediaEncoder::GTest] Implement unit test of Vorbis encoding. r=rillian 
Bug 1009603: Automatically stop register allocation tracelogging on error; r=h4writer 
Bug 1009603: Set filename for asm.js scripts with dynamic linking failures; r=h4writer 
Bug 1008818: Inherit 'use strict' context for asm.js functions; r=luke 
Bug 1008818: Factor AppendUseStrictSource out of AsmJS*ToString functions; r=luke 
Bug 1007710 - Add information about the currently-active experiment to the telemetry ping, r=gfritzsche+vladan 
Bug 1010286: Fix typos in MCallOptimize for inlining more ES6 functions; r=jonco 
Bug 1009951 - Request complete logs for test_CrashService_hang.html and the test before it to aid intermittent orange diagnosis, r=froydnj 
Bug 959356 try #2 - fix the spelling and type of the isWow64 measurement, r=rnewman 
Bug 1010747: Don't inline Ceil when input is a FP value and output is an Int32; r=jandem 
Bug 1010747: Cleanups and factor out float32 specialization for unary instructions returning int32; r=jandem 
Bug 1010747: Implement Ceil (floating-point) -> int32 in Ion; r=sunfish,mjrosenb 
Bug 1010747: Factor out floating-point conversion to int32 and bailout code; r=sunfish 
Bug 1014479: Update js-gdb pretty printers to python3; r=jorendorff 
Bug 1015656: Fix overflows on ARM's ceil inline implementation; r=mjrosenb 
Bug 1014973: Retry to specialize replaced instructions for float32 in ParallelSafetyAnalysis; r=shu 
Bug 1014083: Align local slot count with StackAlignment; r=sunfish 
Bug 1014083: drive-by cleanups; r=luke 
Bug 1014083: Take stack adjustment into account when computing stack offsets; r=luke 
Bug 951040 - Add gtest testcase for WebMWriter. r=rillian 
Bug 1013531: Fix build warning in GCRuntime ctor; r=jonco 
Bug 1016951: Fix asm.js/bug941877.js test so that it contains valid asm.js code; r=sunfish 
Bug 1014083: Align local slot count with StackAlignment; r=sunfish 
Bug 1014083: drive-by cleanups; r=luke 
Bug 1014083: Take stack adjustment into account when computing stack offsets; r=luke 
Bug 860736 - Align the local stack storage for ARM asm.js frames; r=mjrosenb 
Bug 860736: Rename AlignmentAtPrologue into AlignmentAtAsmJSPrologue; r=luke 
Bug 1006894: Make disableSPSProfiling() return undefined; r=djvj 
Bug 1007187: Make enableSPSProfilingWithSlowAssertions() return undefined; r=djvj 
Bug 860736: Use StackKeptAligned instead of forceAlign in CodeGeneratorShared ctor; r=mjrosenb 
Bug 1019003: Kill default visibility warning; r=Waldo 
Bug 1022396 - Remove Number.toInteger. r=jorendorff 
Bug 1014083: Revert taking initial adjustment offset into account when computing stack slot offsets; r=luke 
Bug 1024498: Kill NativeFrameSize and rename AsmJSAlignmentAtPrologue into AsmJSSizeOfRetAddr; r=luke 
Bug 1024498: More tests for asm.js => ion calls; r=luke 
Bug 1025011: Comment the difference between use* and use*AtStart during Lowering; (comments only: DONTBUILD) r=jandem 
Bug 1025587: Inherit strict context on asm.js dynamic linking failure; r=luke 
Bug 988486: Fix initialization order in GCRuntime.h; r=jonco 
Bug 768395 - Crash in CDevice::DriverInternalErrorCB because the d3d device is set to crash on error instead of merely returning error codes. Explicitly set the exception mode on device creation, and assert it every time we get it again. r=jrmuizel 
Bug 969372: part3: fix the testcase. r=roc 
Bug 969372: part2: 1. Let Session hold a reference to MediaRecorder. 2. MediaRecorder implement nsIDocumentActivity. r=roc 
Bug 969372: part1: Change the prototype of FreezableElementEnumerator in nsIDocument from nsIContent to nsISupports, and rename it to ActivityObservers. r=roc 
Bug 962878 - 1. Reduce the two successive PushBlobRunnable at the end of recording to one. 2. Refine the code flow in Session:Extract for the accuracy of the blob time. r=roc 
Bug 962878: testcase: Modify the testcase since we can not guarantee the last onDataAvailble always has data. r=roc 
Bug 1017806 - Record and report on optional branches of experiments, so that each experiment doesn't have to re-invent data collection. r=gfritzsche 
Bug 1017806 followup: include the branch data in the public API and therefore in FHR 
Bug 1021006 - [RTSP] Browser pops up a network warning message in the end of RTSP streaming. r=sworkman 
Bug 1030599: Make hasUnaliasedDouble and hasMultiAlias inline rather than static; r=mjrosenb 
Bug 1030605: Use size_t rather than plain int for loop initializers; r=mjrosenb 
Bug 1030642: Remove two build warnings (unused variable kind and tautological assertion) on ARM; r=mjrosenb 
Bug 1031326 - Fix experiment cache upgrade: the cache data is a raw JSObject, not a map. r=gfritzsche 
Bug 1034400: Make RNot recover in all cases and not assert on objects; r=nbp 
Bug 1015856 - Add gtest testcase for checking WebM aspect ratio. r=rillian 
Bug 1034972: Don't allow object shorthand in asm.js; r=luke 
Bug 991776: 1. Modify the testcase to ensure encoder will receive valid data. 2. Add logs for TrackEncoder. r=roc 
Bug 1023145: Use the original getPrototypeOf in self-hosted code; r=till 
Bug 1032814 - Gecko media plugins should not automatically enable plugin from system locations. Instead, there is a programmatic API for registering available plugins which will be used by addons or the addon manager. For development, there is also an environment variable. r=josh/jesup 
Bug 1032814 - Gecko media plugins should not automatically enable plugin from system locations. Instead, there is a programmatic API for registering available plugins which will be used by addons or the addon manager. For development, there is also an environment variable. r=josh/jesup 
Bug 991153: Fix gcc warning about unsigned / signed comparison in StupidAllocator; r=mjrosenb 
Bug 1020467: Nuke allowFloat32Optimizations(); r=sstangl 
Bug 1033522 - Only initialize the Windows Group ID for plugin processes: other process types don't need it. Refactor the saved GRE dir to use a path rather than a non-threadsafe nsIFile object, r=jimm 
Bug 986673: Disable JIT signal tricks on demand, rather than all signaling; r=jandem 
Bug 986673: OdinMonkey: emit bound checks on x64 if we can't use signal handlers; r=luke 
Bug 986673: Make Odinmonkey not depend on signal handlers; r=luke 
Bug 986673: Tests; r=luke 
Backed out changeset d78533837dfd (bug 986673) for failing jit-tests on a CLOSED TREE 
Bug 1016265 - Ensure the Session object is destroyed on main thread and add assertion and warning if dispatch runnable failed. r=roc 
Bug 1039579 - CrashReporterParent::NotifyCrashService must always be on the main thread, r=ted 
Bug 1039577 - CrashReporter::OOPInit should be multithread-safe, r=ted 
Bug 1039575 followup - always return from GMPChild 
Bug 1039572 - Fix the re-entry problem with GMPParent::ActorDestroy and the MaybeUnload callers who are asynchronous, r=jesup 
Bug 1039575 followup to fix --disable-crashreporter builds r=bustage 
Bug 986673: Tests; r=luke 
Bug 1040785: Factor out InvokeFromAsmJS functions; r=luke 
Bug 1040785: Move LInterruptCheck from the platform-specific LIR headers to the platform-independent one; r=jandem 
Bug 1040785: Remove unused inc32 and dec32; r=jandem 
Bug 1040823: Make --js-cache-per-process the default for testing; r=luke 
Bug 1040823: Simplify tests from bug 986673; r=tests-only 
Bug 1028580: remove multi-line comment warning; r=Ms2ger 
Bug 1043898: Remove MNot's operand() and use input() instead; r=nbp 
Bug 1043898: Remove num() methods and use input() instead, remove MComputeThis' overriding input(); r=nbp 
Bug 1042244: Make comparison operators always return int32_t; r=nmatsakis 
Bug 1042244: Remove return template parameter in SIMD operators; r=nmatsakis 
Bug 1042244: Simplify and generalize FuncShuffle; r=nmatsakis 
Bug 1042244: Instantiate operators template arguments in users; r=nmatsakis 
Bug 1042244: Make FuncWith return the same type as their inputs; r=nmatsakis 
Bug 1047301: Silence Clang warning about signed/unsigned comparison in SIMD.cpp; r=jandem 
Bug 1047332: Remove unused src2 variable in ARM's move emitter; r=mjrosenb 
Bug 1047332: Remove unused jrt variables in jsapi-tests; r=mjrosenb 
Bug 1040027: Cast index to uint32 when comparing it with count in IsArrayEscaped; r=efaust 
Bug 1043900 - Handle EOS properly. Send EOS to MediaCodec from input source and receive it from output. r=cpearce 
Bug 1016738: Fix initialization order in jscompartment; r=efaust over irc 
Bug 1023404: Implement SIMD types helpers; r=sunfish 
Bug 1019831: SIMD x86-x64: LIR definition; r=sunfish 
Bug 1019831: SIMD x86-x64: Allow stack slot allocator to emit quad slots; r=sunfish 
Bug 1019831: SIMD x86-x64: masm / asm instructions for int32x4 moves; r=sunfish 
Bug 1019831: SIMD x86-x64: Define ScratchSimdRegister and ReturnSimdRegister; r=sunfish 
Bug 1019831: Add a Simd128DataSize variable; r=sunfish 
Bug 1019831: SIMD x86-x64: MoveResolver and MoveEmitter for Int32x4; r=sunfish 
Bug 1019831: SIMD x86-x64: Align stack top on 16 bytes boundaries if SIMD instructions are present; r=sunfish 
Bug 1019831: SIMD x86-x64: Float32x4 regalloc and moves bits; r=sunfish 
Bug 1019831: SIMD x86-x64: Int32x4 unaligned moves; r=sunfish 
Bug 1019831: SIMD x86-x64: Float32x4 unaligned moves; r=sunfish 
Bug 1019831: Add an optional simdSet parameter to {Push,Pop}RegsInMask; r=sunfish 
Bug 1052380: Fix builds without Ion after bug 1019831 landed; r=nbp 
Bug 1021716: SIMD x86-x64: Implement MSimdExtractElement; r=sunfish 
Bug 1021716: Use movhlps for extracting lane Z of a float32x4 register; r=sunfish 
Bug 1025475: SIMD x86-x64: Implement SIMD constructors; r=sunfish 
Bug 1025475: SIMD: Introduce SimdConstant; r=sunfish 
Bug 1025475: SIMD x86-x64: Implement SIMD constants; r=sunfish 
Bug 1025475: SIMD: Fold SIMD created values into SimdConstants; r=sunfish 
Bug 1043337: SIMD x86-x64: Implement Add; r=sunfish 
Bug 1043337: SIMD x86-x64: Implement other arithmetic operations; r=sunfish 
Bug 1019831: Add ARM stubs for SIMD moves; r=sunfish 
Bug 1048923: Rename js::Create into js::CreateSimd; r=luke 
Bug 1025475: Fix build bustage; r=bustage 
Bug 1048923: Use helpers in GetLane; r=nmatsakis 
Bug 1048923: Create StoreResult helper and make use of it; r=nmatsakis 
Bug 1048923: Distinguish unary and binary SIMD functions; r=nmatsakis 
Bug 1048923: Remove unused MIRFlag macro in SIMD functions list; r=nmatsakis 
Bug 1052545 - Telemetry experiment branches are not saved correctly: we set the _dirty flag correctly, but then don't write the cache, r=gfritzsche 
Bug 1054014 - Build bustage in nsTextStore because the end of GetGUIDNameStrWithTable doesn't return a value, r=masayuki 
Bug 1053836 - Fix subclassing of prefix loggers by only overriding the log() method, not all the other methods. This fixes `this` resolution in the Experiment log override, r=gps 
Bug 1047022 - Remove manual addref for Session object. Let MediaRecorder hold reference to Session that makes a cycle reference, break it in DestrotedRunnable(). r=roc 
Bug 1054965 - initialize the crash reporter correctly in GMP children; reorder the init method so that mac doesn't early-return it away, r=smichaud 
Bug 1012924 diagnostics - increase the log length to 10, r=gfritzsche 
Bug 1033912 - Separate MediaTaskQueues for the video/audio decoding. r=cpearce, r=brsun 
Bug 1033912 - Fix nits and coding style. r=cpearce 
Bug 1050664 - 1. Fix IsDormantNeeded() function. 2. Invoke mSource->stop at the suspend code path that will rewind the sampletable implicitly. r=cpearce 
Bug 1052325: Odin: Rename CheckCall into CheckCoercedCall; r=luke 
Bug 1052325: AsmJS: make return coercion optional for standard math lib functions calls; r=luke 
Bug 1052514: Move AsmJSNumLit and use it in Globals; r=luke 
Bug 1052514: Use AsmJSNumLit in AsmJSModule.h; r=luke 
Backed out changeset d3f44966d998 (bug 1052514) for jit test failures on a CLOSED TREE 
Bug 1052514: Use AsmJSNumLit in AsmJSModule.h; r=luke 
Bug 1054397 - automated test for the racy while setting experiment branches, followup to bug 1052545 and bug 1038174, r=gfritzsche 
Bug 1059606: Take into account that coerced math builtin calls can be in deadCode; r=luke 
Bug 1033910 - Enable RTSP capability while using android::MediaCodec. r=cpearce 
Bug 992267: Introduce the IsSimdAvailable testing function; r=luke 
Bug 992267: Add SIMD globals support to Odin; r=luke 
Bug 992267: Introduce the IsSimdAvailable testing function; r=luke 
Bug 992267: Add SIMD globals support to Odin; r=luke 
Bug 1012924 - Experiments should cancel their XMLHttpRequest on shutdown, and should also set a reasonable timeout on them, r=gfritzsche 
Bug 1059710: OdinMonkey SIMD: add support for comparisons; r=luke 
Bug 1059733: OdinMonkey SIMD: add support for bitwise operations; r=luke 
Bug 1061229: Implement SIMD coercive calls; r=h4writer 
Bug 1061383: Unbreak non-ion builds following Odin SIMD landing; r=nbp 
Bug 1060789: OdinMonkey SIMD: Add support for splat; r=luke 
Bug 1061664: Make a few variables and functions debug-only in /js; r=till 
Bug 1061664: Ignore return value of read() in jsmath.cpp; r=till 
Bug 1000606: Enforce precision of Math.round in the interpreter and in the JIT; r=mjrosenb,waldo 
Bug 1053745 - Add GMP plugin data to FHR, r=gfritzsche 
Bug 791244 - undo the pref for the temporary hang server for nightly/aurora, now that Socorro has the data in its API, r=gfritzsche 
Bug 1064493: Use failName rather than failf when validating asm.js globals; r=luke 
Bug 1064493: Better wording for globals validation errors in asm.js; r=luke 
Bug 1051860: Optimize SimdValueX4 codegen for float32x4 with unpcklps; r=sunfish 
Bug 1051860: Optimize SimdValueX4 codegen for int32x4 when SSE4.1 is available; r=sunfish 
Bug 1034184: Remove double assignment of 'type'; r=h4writer 
Bug 1065883: Fail if we try to import variables in the global section without a stdlib parameter; r=luke 
Bug 1066193: Explicit this parameter in MDefinition::is<T> so as to prevent compilation issues with gcc; r=h4writer 
Bug 1066561: Fix MIPS build failures due to SimdValueX4 r=rankov 
Bug 1064895: Fix typo in X4TypeDescr initialization code; r=evilpie 
Bug 1066193: Explicit this parameter in IonExitFrameLayout::is<T> so as to prevent compilation issues with gcc; r=sfink 
Bug 1062217: Rename simdSplat into splatSimd and de-templatize it; r=luke 
Bug 1062217: Add operator<= for Type; r=luke 
Bug 1062217: Generalize SIMD operation and ctor validation; r=luke 
Bug 1066020: Add JSConstIntegerSpec to jsapi; r=till 
Bug 1066020: Remove fields in JSConstScalarSpec and invert fields order; r=till 
Bug 1066020: Use JSConstIntegerSpec for defining SIMD shuffle masks in the interpreter; r=till 
Bug 1062217: Try fixing winxp build; r=bustage 
Bug 1067373: Fold SimdValueX4 with same non constant operands into SimdSplatX4; r=sunfish 
Bug 1067502: Be less coercive for float32x4 ctor and splat inputs; r=luke 
Backed out changeset 2cb4a65fdd66 (bug 1067502) 
Bug 1063052 - in case a user ends up with unpacked chrome, on update use omni.ja again by removing chrome.manifest, r=rstrong r=glandium sr=dbaron 
Bug 1068331: Fix register allocation of SimdValueX4; r=sunfish 
Bug 1059321: Simplify SIMD constructor's initialization; r=nmatsakis 
Bug 1067502: Be less coercive for float32x4 ctor and splat inputs; r=luke 
Bug 1067502: Factor out call coercions; r=luke 
Bug 1043337: Add Min/Max to MSimdBinaryArith; r=sunfish 
Bug 1068096: Add Min/Max support in Odin; r=luke 
Bug 1054882: Remove unused JSProtoKey key in SharedTypedArrayObject.cpp; r=lth 
Bug 1050667 - fix the non-synchronous waiting state between MediaDecoderStataMachine and MediaOmxReader and OmxDecoder. r=sotaro 
Bug 1050667 - fix the non-synchronous waiting state between MediaDecoderStataMachine and MediaCodecReader. r=sotaro 
Bug 1053788: Factor out LMinMax from LMinMax{I,F}; r=sunfish 
Bug 1053788: Implement backends for generating min/max for float32; r=sunfish 
Bug 1053788: Add float32 tests for RMinMax; r=nbp 
Bug 1053788: Activate float32 specialization of min/max; r=nbp 
Bug 1053788: Add Float32 min max in asm.js; r=luke 
Bug 1025100: Factor out redundant LExtractElement classes; r=sunfish 
Bug 1025100: Implement MSimdInsertElement; r=sunfish 
Bug 1025100: Use INSERTPS for inserting float elements when SSE4.1 is available; r=sunfish 
Bug 1025100: SIMD: add support for with{X,Y,Z,W} in Odin; r=luke 
Bug 1069518 - XPTCall should refuse to implement interfaces with [notxpcom] methods, r=froydnj/bholley 
Bug 1064537: Fix build warning for multiline comment; r=h4writer 
Bug 1071444: Return stack offset before incrementing it for win64 args; r=luke 
Bug 1069956: SIMD x86-x64 backend: implement SimdConvertFrom; r=sunfish 
Bug 1069956: SIMD: Add support for int32x4.fromFloat32x4 and float32x4.fromInt32x4 in Odin; r=luke 
Bug 1069956: SIMD x86-x64 backend: implement SimdReinterpretCast; r=sunfish 
Bug 1069956: SIMD: Add support for int32x4.fromFloat32x4Bits and float32x4.fromInt32x4Bits in Odin; r=luke 
Bug 1072927: Factor out SIMD cast validation in Odin; r=luke 
Bug 1072927: Use macros for specifying which ops are valid for which SIMD type; r=luke 
Bug 1072927: Make SIMD MIR nodes cloneables; r=bhackett 
Bug 1068725: More debugging and assertions for MoveGroups; r=sunfish 
Bug 1068725: Use actual input's type for a move when reifying allocations with backtracking regalloc; r=sunfish 
Bug 1068725: Add Mandelbrot SIMD demo to the test suite; r=luke 
Bug 1068725: Make the MoveGroup type spew debug only; r=bustage 
Bug 1068725: Use actual input's type for a move when reifying allocations with backtracking regalloc; r=sunfish 
Bug 1068725: Add Mandelbrot SIMD demo to the test suite; r=luke 
Bug 1068725: Add the FBirds SIMD demo to the test suite; r=luke 
Bug 1073064: SIMD x86-x64 backend: Implement MSimdBinaryLogical; r=sunfish 
Bug 1073064: SIMD: Add int32x4.shift{left,right,rightLogical} to asm.js; r=luke 
Bug 1050667 - fix the non-synchronous waiting state between MediaDecoderStataMachine and MediaCodecReader. r=sotaro 
Bug 1050667 - fix the non-synchronous waiting state between MediaDecoderStataMachine and MediaOmxReader and OmxDecoder. r=sotaro 
Bug 1044256: SIMD: Add support for unary operators in Odin; r=luke 
Bug 1044256: SIMD: Add support for unary operators in Odin; r=luke 
Bug 1044256: Fix hash policy of SimdConstant; r=nbp 
Bug 1079068: Move mightBeMagicType in MIR.cpp; r=h4writer 
Bug 1053745 followup - update to correct property rename from review fixes, r=gfritzsche 
Bug 1053746 - Add telemtry for OpenH264 plugin, r=gfritzsche 
Bug 1053745 more follow up. Make all the predicates match. r=gfritzsche 
Bug 1080358: Add loadAsmJSHeapRegisterFromGlobalData to arch none; r=luke 
Bug 1080358: Add loadAsmJSHeapRegisterFromGlobalData to arch none; r=luke 
Bug 1081258 - Remove unnecesary (re)definition of NAN, r=mikeh 
Bug 1029552 - Release HW resource when the MediaElement UnbindFromTree. r=cpearce 
Bug 1079231: Use templated CallNonGenericMethod whenever possible; r=jorendorff 
Backed out changeset b8b6fa54fc1a (bug 1079231) for build failures on b2g; r=bustage 
Bug 1077031: Move dependent condition out of an if statement to work around a clang codegen bug; r=luke 
Bug 1041362 - Modify testcases because during the oncanplaythrough callback function, the element might not ended but the mediastream is ended. r=roc 
Bug 1079616 - Dispatch PushBlobRunnable in RequestData function, and remove CreateAndDispatchBlobEventRunnable. r=roc 
Bug 1083047: Add missing SymbolObject include in Symbol.cpp; r=fix-non-unified-builds-bustage 
Bug 1083238: Replace SIMD's shuffle/shuffleMix by swizzle/shuffle in the interpreter; r=till 
Bug 1083238: Remove SIMD shuffle masks; r=till 
Bug 1021716: SIMD x86x-64: Implement MSimdSwizzle; r=sunfish 
Bug 1021716: SIMD x86-x64: Implement MSimdShuffleMix; r=sunfish 
Bug 1021716: SIMD x86-x64: Implement generic binary shuffle; r=sunfish 
Bug 1021716: SIMD: Use Swizzle rather than Shuffle at construction whenever possible; r=sunfish 
Bug 1021716: SIMD: Use specific instructions for special cases; r=sunfish 
Bug 1059408: Odin SIMD: Add support for swizzle and shuffle; r=luke 
Bug 997973: Call typed array constructors with new in jit-tests; r=jandem 
Bug 997973: Call typed array and arraybuffer constructors with new in the tree; r=bz 
Bug 1062134 - Freeze decoding when back from Dormant state. r=jwwang 
Bug 1087873: Fix signed/unsigned comparisons in Shuffle/Swizzle; r=till 
Bug 997973: Warn if an ArrayBuffer or a TypedArray is constructed without new; r=Waldo 
Bug 1090083 - Enable test_mediarecorder_record_no_timeslice.html on B2G platform. r=jwwang 
Bug 1089769: Emitted at uses instructions should be added to the MIR graph in redefine; r=nbp 
Bug 1092110: Fix a signed/unsigned comparison in JitcodeMap; r=dougc 
Bug 1092110: Kill partialNunboxes_; r=bhackett 
Bug 1092110: Make a few functions and members debug only; r=dougc 
Bug 1094261: SIMD: Have lane accessors return Signed and signMask return Signed in asm.js; r=luke 
Bug 1094261: SIMD: Simplify testSIMD.js; r=luke 
No bug - fix typo r=me 
No bug - Remove extra words to make the sentence coherent. r=me 
Bug 1098114 - Remove ReferenceKeeperRunnable because we can release the MediaCodecReader on other thread. r=jwwang 
Bug 1078125 - fix RtspMediaCodecReader::ReadMetadata, start the network streaming before ReadMetadata and enable play-out delay. r=cpearce, r=ethan 
Bug 1088709: Add SIMD.{float,int}32x4.{load,store} to the interpreter; r=till 
Bug 1079361: Refactor AsmJSHeapAccess to include the view type of the heap access; r=luke 
Bug 1079361: SIMD: add support for {int,float}32x4.{load,store} to asm.js; r=luke 
Bug 1079361: Use AsmJSSimdType rather than Type in SIMD type checking in asm.js; r=luke 
Bug 1079361: Refactor AsmJSHeapAccess to include the view type of the heap access; r=luke 
Bug 1079361: SIMD: add support for {int,float}32x4.{load,store} to asm.js; r=luke 
Bug 1079361: Use AsmJSSimdType rather than Type in SIMD type checking in asm.js; r=luke 
Bug 1094855: SIMD: Add minNum/maxNum and update min/max in the interpreter; r=till 
Bug 1094855: Update SimdBinaryArith::Min/Max to properly handle comparisons involving -0/0 and NaNs; r=sunfish 
Bug 1094855: Move some tests in testSIMD.js; r=sunfish 
Bug 1094855: Add helpers for cmpps; r=sunfish 
Bug 1094855: Implement SIMD.float32x4.minNum/maxNum in the JITs; r=sunfish 
Bug 1094855: Add SIMD.float32x4.minNum/maxNum to asm.js; r=luke 
Bug 1102964 - Fix optimized build unused variable warnings in jit/. r=sunfish 
Bug 1102964 - Fix optimized build unused variables warnings in Debugger.cpp. r=jimb 
Bug 918140 - mis-interprets disk "hard quota" (blocks vs bytes confusion). r=benjamin 
Bug 1072368: Merge SIMD.js comparison tests in comparisons.js; r=till 
Bug 1102893: Remove some SIMD.js outdated functions; r=till 
Bug 1104851: Kill a signed vs unsigned comparison in ObjectMovedDuringMinorGC; r=bhackett 
Bug 1105806: Add guards for existence of TypedObject in tests; r=jonco over IRC 
Bug 1091992 - fix the flag skipToNextKeyFrame in DecodeVideo can't be raised if the video is slower than audio. r=cpearce, r=jwwang 
Bug 1102870: Add Float32x4 and Int32x4 to the list of Scalar::Types; r=sfink,luke 
Bug 1102870: Replace AsmJSHeapAccess::ViewType by Scalar::Type; r=luke 
Bug 1107367: Move ecma_6/TypedObject to ecma_7/TypedObject; r=nmatsakis 
Bug 1107367: Move ecma_7/TypedObject/simd to ecma_7/SIMD; r=nmatsakis 
Bug 1108807: Rename SIMD shifts; r=till 
Bug 1108807: Group SIMD.js shift tests; r=till 
Bug 1108870: Support ternary conditionals with SIMD operands in asm.js; r=luke 
Bug 1109096: Tweak error message in SIMD load/store arguments checking in Odin; r=luke 
Bug 1084177 - Maintain only one zlib compression context per helper thread. r=njn 
Bug 1073910: Fix ARM's roundf codegen for negative numbers; r=mjrosenb 
Bug 1108825: Implement SIMD.int32x4.mul in Odin; r=sunfish 
Backed out changeset dd24124194d5 (bug 1108825) for SM(e) failures 
Bug 1108825: Implement SIMD.int32x4.mul in Odin; r=sunfish 
Bug 1084177 - Maintain only one zlib compression context per helper thread. r=njn 
https://software.intel.com/en-us/blogs/2011/04/14/is-avx-enabled/ 
Bug 1108035 - Add a preference that allows us to disable Flash protected mode from within Firefox. We do this by hooking CreateFileW and replacing the Flash config file with our own. r=aklotz 
Bug 1110818 - Measure crash and breakpad rates for subprocesses (plugin/gmplugin/content), r=gfritzsche 
Bug 1095438 - Refine the dormant rules for the MediaElement, take bind/unbind-from-tree and document-hidden into account. r=jwwang 
Bug 1111564 - Backout 10692972a7b6 (bug 1084177) for increasing memory usage. r=me 
No bug - fix typo r=me 
Bug 1091992 - fix the flag skipToNextKeyFrame in DecodeVideo can't be raised if the video is slower than audio. r=cpearce, r=jwwang 
No bug - fix warning in optimized builds about unused variable r=me 
no bug (follow up to 2beb9004e634) - add using declaration CLOSED TREE 
Bug 1113367: SIMD (interpreter): make constructors arguments facultative; r=sunfish 
Bug 1115043: Ensure that range analysis takes size of element into account when removing bounds checks of AsmJS{Load/Store}Heap; r=luke 
It doesn't seem there will be other ternary SIMD operators at the moment. 
Bug 1110164: Extend MSimdSelect to also handle element-wise select; r=sunfish 
By the way, merge test files and generalizes them. 
Bug 1110164: Add bitselect to asm.js; r=luke 
Bug 1094678 - MediaCodecReader::CreateTaskQueues() runs at main thread. r=cpearce, r=brsun 
Bug 1115040 - Record experiment branch in crash reports, r=gfritzsche 
Bug 1115043: Off-by-one fix in check; r=luke 
Bug 869208 - Increase the buffer size we're using to deliver network streams to OOPP plugins, r=aklotz 
Bug 1119302 - Implement nsIContentPolicy.shouldProcess for plugin subresource loads, r=bz 
Bug 1119302 - Implement nsIContentPolicy.shouldProcess for plugin subresource loads, r=bz 
Bug 1119941 - Disable Flash protected-mode, r=johnath 
Bug 1113121 followup - fix assertion r=me 
Bug 1114910: -  1. fix crash at promise. 2. Re-write code relative to promise. r=cpearce 
No bug - fix typo r=me DONTBUILD 
No bug - fix typo r=me DONTBUILD 
Bug 1118632 - Fix the duration updated by mp3 incremental parser when we are playing a non-mp3 stream. r=cajbir 
Bug 1123643: Fix typo in float64x2 ctor and add test cases; r=till 
Bug 1117146: Forbid execution of no-asmjs variants when debugging; r=nbp 
Bug 1125891 - Enable the no-admin sandbox for Flash, r=bobowen 
Bug 1120247 - 1 MediaCodecReader::ResetDecode() needs to reject(cancel) any pending promises. 2. fix regression caused by bug 1114910. r=cpearce 
Bug 1126450 - When Flash has a blocklist entry, we should keep protected-mode on, no matter the value of the pref setting. r=aklotz 
Bug 1126116: Force double coercion of SetPropertyPolymorphic's float32 input values; r=nbp 
Bug 1126409: Add SIMD check in test + move SIMD tests into jit-tests/tests/SIMD; r=h4writer 
Bug 1091467 - MediaCodec: Wait fence and release output buffer on other thread. r=sotaro 
Bug 1126251: Force float32 coercion of Float AsmJSNumLit input; r=luke 
Bug 1126251: Force float32 coercion of Float AsmJSNumLit input; r=luke 
Bug 1123404: Disable temporarily bitselect-select.js SIMD test; r=Waldo 
Bug 1123404: Disable temporarily bitselect-select.js SIMD test; r=Waldo 
Bug 1124485: Clampped float32-to-int32 conversions should bailout on ARM; r=mjrosenb 
Bug 1129416: Make FuncConvertBits and SIMD ctors GC sane in the interpreter; r=jonco 
Bug 1113338: Move asm.js SIMD.load/store tests into their own file; r=luke 
Bug 1113338: Throw on out-of-bounds SIMD heap accesses in asm.js; r=luke 
Bug 1113338: Rename viewType into accessType everywhere; r=luke 
Bug 1113338: Generalize AsmJS{Load,Store}Heap to handle partial loads; r=luke 
Bug 1113338: Add SIMD partial loads/stores in asm.js; r=sunfish,luke 
Bug 1131136 part A - Watch Windows registry keys to reload plugins when they have changed, r=jimm 
Bug 1131136 part A followup to revision 9101eb40b8a6: Add proper Windows #ifdef r=bustage 
Back out bug 1131136 part A (revision 9101eb40b8a6 and 9733e78176b2) for assertion failures on a CLOSED TREE 
Bug 1122344: Fix rounding of big negative float32 values in Ion on x86; r=mjrosenb 
bug 1131136 part A - watch the registry and reload plugins when it changes, r=jimm 
Bug 1131136 part B - reload plugins when we load the plugins pane of the addon manager, r=Unfocused 
Bug 1129491: Add SIMD.{type}.check to the interpreter + tests; r=evilpie 
Bug 1129491: Add SIMD.{type}.check() to asm.js; r=luke 
Bug 1073095 - nsPermissionManager.cpp references a browser path by default in kDefaultsUrlPrefName. Make the permissions.manager.defaultsUrl pref overridable. r=benjamin 
Bug 1130845: Add a list of SIMD freed stack slots in LinearScan; r=sunfish 
Bug 1122401: Check that the remainder is null in unsigned soft divisions on ARM or bailout; r=dougc 
Bug 1122401: Add other checks for SoftUDivMod codegen; r=nbp 
Bug 1122401: Factor out zero special-case path for SoftUDivMod, UDiv, UMod in ARM codegen; r=nbp 
Bug 1130972: Fix rooting hazards in SIMD load/store interpreter methods; r=jonco 
Bug 1130618: Ensure float32 coercion of inputs to Float32 MConstant; r=luke 
Bug 1130618: Introduce ion.gvn.enable in SetJitCompilerOptions; r=nbp 
Bug 1129491: Remove coercion role of SIMD constructors; r=luke 
Bug 1123777: Let SIMD.float32x4.with{X,Y,Z,W} accept double scalar argument in asm.js; r=luke 
Bug 1123777: Have SIMD shifts + splat + with functions apply ToInt32 to their scalar arguments; r=till 
Bug 1133859: Allow shared array views as SIMD.load/store arguments; r=lth 
Bug 1134298: Fix assertion in MConstant::New to handle NaN; r=luke 
Bug 1133565: Factor SIMD templates within a compartment; r=jandem,jonco 
Bug 1133003 part A - send a global observer notification when Flash hangs, r=aklotz 
Bug 1133003 part B - count Flash hangs and show UI if there is more than one in a session. This feature can be disabled at runtime by setting browser.flash-protected-mode-flip.enable. r=jaws 
Bug 1133000 - Expose the protected-mode toggle in the Addons-manager UI options pane for Flash. r=Unfocused/MattN 

Bug 1133000 - Expose the protected-mode toggle in the Addons-manager UI options pane for Flash. r=Unfocused/MattN Bug 1133003 followup to correct typo in strings. r=stupidity 
Bug 1134638: 1. Add OperationName to MSimdBinaryBitwise; r=sunfish 
Bug 1134638: 2. Inline some float32x4 binary arithmetic and bitwise operations; r=nbp 
Bug 1134638: 3. Templatize inlineSimdBinary functions; r=nbp 
Bug 1134638: 4. Also test correctness of SIMD operations; r=nbp 
Bug 1134638: 5. Add OperationName to MSimdUnaryArith; r=sunfish 
Bug 1134638: 6. Inline SIMD unary arithmetic operations; r=nbp 
Bug 1134638: 7. Add spew for MSimd{Binary{Bitwise,Arith},Unary}; r=sunfish 
Bug 1134638: 8. Inline SIMD conversions in Ion; r=nbp 
Bug 1134638: 9. Drive-by cleanup: FloatingTypePolicy can just have SPECIALIZATION_DATA; r=nbp 
Bug 1134638: 10. Inline SIMD comparisons in Ion; r=nbp 
Bug 1134638: 11. Add type checks in move emitter and LIR generation; r=nbp 
Bug 1134638: 12. Inline with{X,Y,Z,W} in Ion; r=nbp 
Bug 1134638: 13. Inline splat in Ion; r=nbp 
Bug 1134638: 14. Inline SIMD getters (signMask, .x, .y, .z, .w) in Ion; r=nbp 
Bug 1134638: 15. Inline select/bitselect in Ion; r=nbp 
Bug 1134638: 16. Use more macros; r=nbp 
Bug 1135038: Inline SIMD.check as guard unbox; r=nbp 
Bug 1135039: Implement general SIMD swizzle and use it; r=sunfish 
Bug 1135042: Inline SIMD loads in Ion; r=bhackett 
Bug 1135042: Inline SIMD stores in Ion; r=bhackett 
Bug 1135042: Share more code between StoreTypedArray* classes; r=bhackett 
Bug 1124605 - Execute dragStateChanged(false) before the element is hidden. r=jaws 
Bug 1135042: Inline SIMD loads in Ion; r=bhackett 
Bug 1135042: Inline SIMD stores in Ion; r=bhackett 
Bug 1135042: Share more code between StoreTypedArray* classes; r=bhackett 
Bug 1132920: Use movddup for SIMD swizzle pattern (0, 1, 0, 1) on SSE3 enabled machines; r=sunfish 
Bug 1129376 - Fix crash by moving ConfigureMediaCodec from binder thread to out own thread. r=sotaro 
Disable bug 1133003 - We aren't going to make any automatic changes to the Flash protected-mode setting for now; we will keep working with Adobe on fixing or wallpapering the most common hang scenarios. a=lmandel 
Bug 1134615 - Refactor the blocklist matching code in _getPluginBlocklistState into _getPluginBlocklistEntry so that getPluginBlocklistURL and getPluginInfoURL return the correct block entry. r=Mossop 
Trivial, no bug: add missing semicolon to nsBlocklistService.js to avoid a strict warning. 
Bug 1140336: Remove init() method in VMFunction (and dubious assert); r=h4writer 
Bug 1141032: fix = instead of == in an assert in NativeRegexpMacroAssembler.cpp; r=h4writer 
Bug 1141032: Fix a string comparison when checking for env overriding JIT defaults; r=h4writer 
Bug 1132192 - Enable org.mozilla.searches.engines by default in FHR, r=gps 
Bug 1140709: Add a second bounds check for checking that the index is actually positive; r=bhackett 
Bug 1140317: Make sure chars created by DecompileValueGenerator won't ever leak; r=Waldo 
Bug 1135039: Throw on non-int32 or out-of-bounds lanes arguments to swizzle/shuffle; r=sunfish 
Bug 1135039: Apply swizzle type policy changes in Ion too; r=sunfish 
Bug 1140317: include more UniquePtr and more using mozilla::UniquePtr in a CLOSED TREE; r=bustage 
Bug 1140317: and even more using mozilla::UniquePtr in a CLOSED TREE; r=bustage 
Bug 1139473: File some metadata for the js/src/ subdirectory; r=jorendorff 
Bug 1135039: Throw on non-int32 or out-of-bounds lanes arguments to swizzle/shuffle; r=sunfish 
Bug 1135039: Apply swizzle type policy changes in Ion too; r=sunfish 
Bug 1138825 - Fix the crash at mAudioPromise: call decode audio data when the audio queue is empty and check the mAudioPromise is empty or not. r=sotaro 
Bug 1136968 - Add YCWebCameraSource.ax to DLL blocklist. r=benjamin 
Bug 1144127 - Remove support for distribution/bundles because of its malware/hijacking risk, r=Mossop 
Part of bug 1140558 - Switch TelemetryEnvironment to a model which keeps track of the current state constantly and makes the current environment available synchronously. r=vladan/Dexter 
Bug 1131563 - Set the flag skipToNextKeyFrame to false if there is no keyframe behind. r=kinetik 
Bug 1135039: Implement LVariadicInstruction; r=sunfish 
Bug 1135039: Generalize swizzle MIR node to SimdGeneralShuffle; r=sunfish 
Bug 1135039: Factor out LInstructionHelper/LVariadicInstruction code; r=sunfish 
Bug 1135039: Generalize SimdGeneralShuffle codegen; r=sunfish 
Bug 1135428: Fix test to run with --no-asmjs as well on a CLOSED TREE; r=bustage 
Bug 1135042: Optimize SIMD.loadX/loadXY/loadXYZ in Ion; r=bhackett 
Bug 1135042: Optimize SIMD.storeX/storeXY/storeXYZ in Ion; r=bhackett 
Bug 1143758: Make LexicalCheck movable and bailout when a lexical isn't initialized; r=shu 
Bug 1143758: Invalidate script when a lexical check has failed; r=shu 
Bug 1144692: Fix --disable-ion builds; r=h4writer 
Bug 1139781 - Implement VideoPlaybackQuality for MediaCodecReader. r=cpearce 
Bug 1147662: LexicalCheck should be a guard, so as not to be removed; r=shu 
Bug 1147405: Have math_ceil_handle use setNumber rather than setDouble; r=nbp 
Bug 1146311: Make some SIMD nodes cloneable and movable; r=sunfish 
Bug 1140558 - Part 1 - Switch TelemetryEnvironment to a model which keeps track of the current state constantly and makes the current environment available synchronously. r=vladan/Dexter 
Bug 1146295: Remove "flags" macro argument in SIMD.h; r=h4writer 
Bug 1146295: Factor out SIMD types initialization; r=h4writer 
Bug 1146295: Factor out SIMD type's methods with their definitions class helper; r=h4writer 
Bug 1146295: SIMD types' definition helpers have nothing to do in the ::js namespace; r=h4writer 
Bug 1146295: Inline the last part of CreateAndBindSimdType into CreateAndBindSimdClass; r=h4writer 
Bug 1146295: Factor out SimdTypeDescr::call; r=h4writer 
Bug 1146295: Remove unused FuncZero function; r=h4writer 
Bug 1146295: Rename SimdTypeDescr::TYPE_SCALAR into SimdTypeDescr::TypeXn; r=h4writer 
Bug 1146295: Make some arguments facultative in splat/with functions; r=h4writer 
Bug 1140558 - Part 1 - Switch TelemetryEnvironment to a model which keeps track of the current state constantly and makes the current environment available synchronously. r=vladan/Dexter 
Bug 1140558 - Part 1 - Switch TelemetryEnvironment to a model which keeps track of the current state constantly and makes the current environment available synchronously. r=vladan/Dexter 
Bug 1151333: Reserve enough stack space for SIMD shuffles; r=sunfish 
Bug 1146363: Inline SIMD.int32x4.bool; r=sunfish 
Bug 1084319: Actually patter-match SIMD.bool (rebasing mistake); r=nbp 
Bug 1148494: SimdUnbox shouldn't be removed; r=sunfish 
Bug 1140995 - part1: At end of stream, send the last video frame to decoded stream with deviation usec if the last video frame's duration is 0. r=jwwang 
Bug 1140995 - part 2: Don't send the audio/video data when the EOS flag is raised because the decoded data is invalid. r=cpearce 
Bug 1153690 - Release the Session and MediaRecorder objects correctly if there is no ExtractRunnable running. r=roc 
Bug 1157628: Reformat spidermonkey source directory, again; r=jandem 
Bug 1112627: Implement shift count saturation; r=Waldo 
Bug 1112627: Throw on lossy SIMD conversions; r=Waldo 
Bug 1112627: Remove redundant inline specifier in SIMD operators impl; r=Waldo 
Bug 1135040: Optimize SIMD shifts in Ion; r=nbp 
Bug 1142668: Fix int32x4 to float32x4 conversions in the JIT; r=sunfish 
Bug 1142668: Fix int32x4 to float32x4 conversion in asm.js; r=luke 
Bug 1157761: Fix a copy-pasto in vm/TypeInference.cpp; r=bhackett 
Bug 1140132 - Annotate the current telemetry environment in crash reports. r=ted/gfritzsche 
Bug 1121013 part A - unify the Windows and Linux codepaths which write the .extra file. Write out a whitelist of metadata into the crash event file. r=dmajor 
Bug 1121013 part B - test that part A is writing out event files and annotations are making it back into the crash manager, r=ted 
Mac bustage followup to bug 1121013 part A - cast XP_STOA params to size_t r=bustage 
Static-analysis bustage followup to bug 1121013 part A - use explicit constructors on PlatformWriter, r=bustage 
Bug 1157624: A few AsmJSValidate cleanups; r=luke 
Bug 1140132 - Update the Talos config to pick up new NSS exclusions, r=aklotz 
Bug 1140132 - Annotate the current telemetry environment in crash reports. r=ted/gfritzsche 
Bug 1121013 part A - unify the Windows and Linux codepaths which write the .extra file. Write out a whitelist of metadata into the crash event file. r=dmajor 
Bug 1121013 part B - test that part A is writing out event files and annotations are making it back into the crash manager, r=ted 

Backed out changeset 31297813dd26 (bug 1159327) for bustage on a CLOSED TREE. Bug 1157654 - 1. Do not call MediaRecorder.stop immediately after MediaRecorder.start, because we want to receive an onerror callback. 2. Make the NofityError async. r=roc 
Bug 1159737 Stop supporting binary XPCOM components except built into the application. r=froydnj sr=bz Some xpcshell tests of binary functionality need to register binary components. Expose a function "registerAppManifest" in the xpcshell environment to make this available to tests without exposing it to addons. r=bholley 
Bug 1159737 appears to cause bustage not rebuilding enough afterchanging nsXULAppAPI.h. Trying a clobber on a CLOSED TREE r=bustage 
bug 1161212 - Keep supporting binary XPCOM components from distribution bundles in B2G, because some partners use them to override builtin components. r=froydnj 
Bug 1144127 - Remove support for distribution/bundles except in B2G, r=Mossop 
Bug 1153690 - Release the Session and MediaRecorder objects correctly if there is no ExtractRunnable running. r=roc 
Bug 1140132 - Annotate the current telemetry environment in crash reports. r=ted/gfritzsche 
Bug 1121013 part A - unify the Windows and Linux codepaths which write the .extra file. Write out a whitelist of metadata into the crash event file. r=dmajor 
Bug 1121013 part B - test that part A is writing out event files and annotations are making it back into the crash manager, r=ted 
Bug 1104643 - Interpolate the audio clock by system clock if the qudio clock is not going forward. r=padenot 
Bug 1140995 - Part 1 - At end of stream, send the last video frame to decoded stream with deviation usec if the last video frame's duration is 0. r=jwwang 
Bug 1140995 - Part 2: Don't send the audio/video data when the EOS flag is raised because the decoded data is invalid. r=cpearce 
Bug 1149842 - Release the mutex for NS_OpenAnonymousTemporaryFile to prevent the deadlock. r=roc 
CLOSED TREE 
Bug 1167201 - Make absence of gconf developer packages a fatal error rather than disabling gconf automatically in the build system. This is necessary because if gconf is disabled, many tests don't work because they use gconf to detect linux. r=glandium 
Bug 1167204 - Typo in a codepath which isn't Windows/Mac/Linux with GConf, r=gfritzsche 
Bug 1102047 - Reset the value to AUDIO_DURATION_USECS or re-calculate if the remainingTime is negtive. Schedule the state machine at the first video sample pushed into the queue. r=jwwang 
Bug 1167025: Do not mix bool and int in bitwise-or in blendpsMask; r=sunfish 
Bug 1154194 - Call FillCodecInputData before dequeueOutputBuffer, remove the check of FillCodecInputData. r=sotaro 
Bug 1154194 - Fix regression by bug 1132832 and remove VideoResourceListener. r=sotaro 
Bug 1128448 - 1. Close the pref media.encoder.omx.enabled for newer android version. 2. Modify testcase and MR to eusure no timing issue. r=roc 
Bug 1163049, alternate patch - make .syncGUID a lazy getter to avoid initializing NSS during the startup sequence, r=rnewman 
Bug 1157624: Remove asm.js ternary optimizations and activate the FoldTest optimization pass for asm.js; r=luke 
Bug 1169691 - Make TelemetryStorage wait for pings that have been submitted for archiving but haven't finished submitting to disk, so that tests can reliably fetch submitted ping lists, r=gfritzsche 
Bug 1140131 - When XPConnect loads scripts (JS components or Cu.import), set the MIME type so that we don't load the exthandler service to guess it, r=bholley 
Bug 1165825 - 1. Release the buffer which contains INFO_FORMAT_CHANGED. 2. Re-trigger the decode task if we still hold a promise. r=sotaro 
Bug 1165963 - Fix regression by bug 1104643: Detect "over compensation" and reset the anchor. r=padenot 
Bug 1121013 part C - report a new crash ping type on main-process crashes, and record submission rate/failure information in telemetry. Plugin/content crashes are already recorded via SUBPROCESS_ABNORMAL_ABORT and SUBPROCESS_CRASHES_WITH_DUMP and this patch leaves that unchanged. r=gfritzsche 
Bug 1170343 - Use release-mode asserts when plugins making NPAPI calls on the wrong thread, r=mccr8 
Bug 1168861 - Make mach bootstrap install GConf2-devel on Fedora, r=glandium 
Bug 1172824: Close dumpFile in case of error in DumpHeap (CID 1302587); r=jonco 
Bug 1172824: Initialize a few more members in VerifyPreTracer (CID 1304706); r=terrence 
Bug 1172824: Initialize a few members in CompartmentCheckTracer (CID 1304705); r=terrence 
Bug 1172895: Raise the stack size limit for JS helper threads; r=bhackett 
Bug 1168778 - Fix crash when seeking: 1. Replace FlushableMediaTaskQueue by MediaTaskQueue. 2. Refact the seek/DecodeAudioDataTask/DecodeVideoFrameTask functions. r=sotaro 
Bug 1121001 - Record a uitour ping when a tag is set, r=gfritzsche 
Bug 1175147 - Don't do threadsafety asserts for NPN_MemAlloc and friends, r=jimm 
Bug 1151086 - Fix experiment filter functions to use the new telemetry environment, r=gfritzsche 
Bug 1173272 - |getProperty('version')| returns different value on B2G or Android platforms. r=sotaro 
Bug 1157624: A few free asm.js tests; r=luke 
Bug 1157624: Odin: split parsing/validation from codegen; r=luke 
Bug 1173722: Part 1 - Capitalize all the SIMD types names; r=nbp 
Bug 1155211: Part 3.0 - Implement SIMD[type].extractLane; p=flomerz;bbouvier; r=h4writer 
Bug 1155211: Part 3.1 - Update tests for extractLane; r=h4writer 
Bug 1155211: Part 3.2 - Remove lanes getters; r=nbp 
Bug 1155211: Part 3.3 - New tests; r=h4writer 
Bug 1155211: Rename bitselect into selectBits; r=nbp 
Bug 1155211: Remove selectBits on Float types; r=nbp 
Bug 1182647: Move setGCCallback to TestingFunctions.cpp; r=sfink 
Bug 1183051: Fix register allocations of Atomics callouts on arm vfp; r=h4writer 
no bug - fix typo and grammar in comment r=me DONTBUILD 
Bug 1184597: Remove redundant condition checking; r=efaust 
Bug 1178682 - Reject the decoded sample if timestamp is revert. r=sotaro 
Bug 1186226: Odin: determine comparisons' types by looking at both hand sides; r=jandem 
Bug 1184887: Add a setARMHwCapFlags testing function for the shell; r=h4writer 
Bug 1186343: Throw an InvalidStateError when we set the curve attribute of a WaveShaperNode with a Float32Array of length less than 2; r=padenot,smaug 
Bug 1183394 - Remove the assertion message when shutdown. r=jwwang 
Bug 1064535 - fix testcase: 1. Relax the number of ondataavailble checking. 2. Don't check the mimetype of empty blob. r=jwwang 
Bug 1186752 - Remove ScheduleStateMachine() in MediaDecoder.cpp since we have state mirror. r=jwwang 
Bug 1097498 - Wait fence for the graphic buffer. r=sotaro 
Bug 1048926 - fix and enable the testcase because the preload action is PRELOAD_NONE on mobile platform. r=jwwang 
Bug 1070110 - Ensure the testcase will receive at least 2 blob. r=jwwang 
Bug 1193043: Check for oom in ScalarReplacement.cpp; r=nbp 
Also fixes the test for bug 1193043. 
Bug 1188155: Enable MOZ_GONK_MEDIACODEC in moz.build. r=k17e 
Bug 1191756: Improve tests to not always exit with status 3 (OOM); r=jonco 
Bug 1186424: Encode all global value's information directly in the IR; r=luke 
Bug 1186424: Split ModuleCompiler into ModuleCompiler/ModuleValidator; r=luke 
Bug 1186424: Make ModuleCompiler standalone; r=luke 
Bug 1186424: Take ModuleCompiler out of CheckFunction(); r=luke 
Bug 1186424: Embed AsmFunction into ModuleGlobals::Func; r=luke 
Bug 1186424: Move compilation data into ModuleCompileResults and have MV finish module's compilation; r=luke 
Bug 1192733: fix the MediaFormatReader can not back from dormant state. r=jya 
Bug 1192733: add new testcase for dormant. r=jwwang 
Bug 874167 - Move Java to be out-of-process like other plugins, so that it's weird threading behavior doesn't cause Firefox instability. This will likely cause reoccurance of bug 555699 and that is an acceptable tradeoff at this point, r=jimm 
Bug 1090864 part A - remove nsNPAPIPlugin::RunPluginOOP and unused code paths, r=jimm 
Bug 1098064 part B - remove nsIPluginHost.isPluginOOP, r=jimm 
Bug 1098064 part C - remove SimpleTest and reftest testPluginIsOOP and related usage, r=jimm 
Bug 1071375: Re-enable some MediaRecorder tests. r=jwwang 
Bug 762774 - Increase the timeout and reduce the testcase loop times. r=jwwang 
Bug 1199662 - Crash ping environment block is broken when any string field contains a quotation mark. Unescape INI fields properly using the library that already exists for the purpose. r=ted 
Bug 1200361 - Back out parts of bug 1194780 so that Android can still run plugins in-process, but no other platforms will. r=jimm 
Bug 1186424: Remove AsmJS min heap length optimization; r=luke 
Bug 1186424: Refactor AsmJSValidate.cpp in preparation for parallelization; r=luke 
Bug 1197669 - Part1 - 1.Enable the testcase on B2G. 2. fix the mimetype check in testcase. r=jwwang 
Bug 1197669 - Part2 - 1. Ensure the EOS is sent to MediaCodec. 2. mEndOfStream should be protected by monitor. r=sotaro 
Bug 1197669 - Part3 - Ensure the start event comes before any blobs. r=jwwang 
commented usage in noteBasicBlockPosition. 
Bug 1186424: Remove perf blocks annotations in OdinMonkey; r=luke 
Bug 1186424: Remove usage of ExclusiveContext from the ModuleCompiler; r=luke 
Bug 1186424: Rename FunctionBuilder into FunctionValidator; r=luke 
Bug 1202193 - Remove PFS URL from prefs. r=benjamin 
Bug 1107011: Propagate recovered on bailout flags when converting float32 to doubles; r=nbp 
Bug 1107011: reduce number of iterations in jit-tests/ion/bug1107011-2.js; r=lth 
Bug 1203297: Fix makeFrameDescriptor warnings on x86 and x64, in non-unified builds; r=terrence 
Bug 1150602 - Telemetry probe for mixed content blocker prefs. r=tanvi,benjamin 
Bug 1204847: Reinterpret the asmFunc pointer as an AsmFunction in case of offthread compile error; r=luke 
Bug 1205328: undef min/max at the top of irregexp/RegExpAST.h if they're already defined; r=ehsan 
Bug 1181612: Split AsmJSValidate into AsmJS{Validate,Compile} and different headers; r=luke 
Bug 1204604: Check for int32 value, not int32 type, in SIMD.T.{replaceLane,shuffle,swizzle}; r=lth 
Bug 1205842: Don't add range asserts to recovered on bailouts instructions; r=nbp 
Bug 1206640: Fix an implicit constructor in PosixNSPR.cpp; r=nbp 
Bug 1205708: Check if validation failed before reporting helper thread failure in Odin; r=luke 
Bug 1207413: Check callers of TypeSets::unionSets for OOM; r=h4writer 
Bug 1207232: Let lockOwner be Atomic; r=terrence 
Bug 1207449: Conservatively mark MFilterTypeSet with phis as not float32-compatible; r=h4writer 
Bug 1206520: Create an option to throw on asm.js validation failures; r=luke 
Bug 1206520: Add about:config prefs to enable throwing on asm.js validation failures; r=bz 
Bug 1210653: Make bug-1188290.js dependent on the existence of TypedObject; r=terrence 
Bug 1111201: Check for OOM when calling an asm.js function with new; r=evilpie 
Bug 1211956: Check result of EmptyShape::getInitialShape; r=h4writer 

Backed out changeset 263526a3368d (bug 1207245) Bug 1205564 - Add documentation for crash data in Telemetry. r=benjamin 
Bug 1201460: Disallow asm.js compilation for class/methods; r=luke 
Bug 1181612: Hoist codeLabels_ and associated common functions into Assembler-shared; r=luke 
Bug 1181612: Rename AsmJSFunctionLabels to make them easier to understand; r=luke 
Bug 1174721 - Use AudioCompactor for GonkAudioDecoderManager. r=sotaro 
Bug 1216012 - Disable test_video_in_audio_element.html on emulator-kk. r=jwwang 
Bug 1181612: Remove FunctionCompiler's RetType; r=luke 
Bug 1181612: Make asm.js internal calls thread-local; r=luke 
Bug 1219300 - Add mutex to protect the |result| because the variable will be access by multiple threads at the same time. r=cpearce 
Bug 1223355: Common out constant pool generation code on x86/x64; r=sunfish 
Bug 1216099: Add a SIMD test case for asm.js; r=luke 
Bug 1225605: Rename SIMD descriptors toType -> Cast, setReturn -> ToValue, and remove one-argument toType; r=jolesen 
Bug 1225605: Remove non standard SIMD.Int{32x4,16x8,8x16}.bool; r=jolesen 
Bug 1225605: Make the dependency between SimdTypeDescr::Type and the SimdTypes/SimdLanes arrays clearer; r=jolesen 
Bug 1225605: Describe the SIMD type descriptors in terms of a concept; r=jolesen 
Bug 1225605: Store SIMD type descriptors on the global SIMD object rather than on the global; r=jolesen 
Bug 1225605: Simplify SimdTypeDescr::size()/alignment() and remove a macro; r=jolesen 
Bug 1181612: Make CompileInfo a const class; r=luke 
Bug 1181612: Merge macro assemblers; r=luke 
Bug 1181612: Add MIR generation and code generation to off-thread compilation; r=luke 
Bug 1227642: Make data a ScopedJSFreePtr in js::detail::CopyScript to ensure it doesn't leak; r=jonco 
Bug 1198576 - Remove MediaCodecReader. r=bwu 
Bug 1228369: Rename CodeOffsetLabel into CodeOffset; 
Bug 1228369: Rename CodeOffset::use/used into bind/bound; 
Bug 1228369: Backed out 2 changeset because of missing reviewer field in the commit message; r=me 
Bug 1228369: Rename CodeOffsetLabel into CodeOffset; r=luke 
Bug 1228369: Rename CodeOffset::use/used into bind/bound; r=luke 
Bug 1225327 - fix |mEncoder| null-dereference. r=jwwang 
Bug 1228340: Remove the js_ prefix in front of IonOptimizationsLevel; r=h4writer 
Bug 1228340: Rename JitOptions into DefaultJitOptions and get rid of the js_ prefix for the instance; r=h4writer 
Bug 1228340: Get rid of the js_ prefix for CodeSpec, CodeName, NumCodeSpecs; r=jorendorff 
Bug 1229258: Implement dummy asmMergeWith/retargetWithOffset functions in none backend; r=h4writer 
Bug 1229396: Propagate OOM when pushing elements to the uses array; r=jandem 
Bug 1229396: Templatize get{Float,Double,SimdData}; r=jandem 
Bug 1229396: Templatize Float/Double/SimdData in MacroAssembler-x86-shared.h; r=jandem 
Bug 1229396: Templatize constants merging in the shared x86 masm; r=jandem 
Bug 1230409: Implement dummy HeapOffset members for non-ion builds; r=luke 
Bug 1229855: Fix miscompilation of uint8_t enum class with gcc4.8.2; r=luke 
