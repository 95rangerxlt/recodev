jwatt.org

Fixing bug 372098. HTML links with target="" should use the base target. r=Olli.Pettay@gmail.com, sr=jonas@sicking.cc 
Possible fix for bug 354595. Deal with PL_DHashTableOperate() returning null as it does when out of memory. Fix found by raymond@lala.com, r+sr=jonas@sicking.cc 
Don't attempt to cycle collect documents, windows and elements that are currently being viewed. r=bz, sr=jst b=378987 
back out last patch since leaks went through the roof 
Relanding bug 378987. Don't try to collect windows, documents or elements of actively viewed pages. r=bz/jst sr=jst 
Backing out Jonas' last changes due to tinderbox orange, per Jonas' request. 
Relanding bug 378987. Don't try to collect windows, documents or elements of actively viewed pages. r=bz/jst sr=jst 
Bug 53901: Don't set is-in-doc flag on cloned XUL nodes. r/sr=jst 
Bug 53901: Make sure to also release controllers when unbinding xul elements from the DOM. r/sr=bz 
Bug 380872: Call BindToTree on anonymous children too when BindToTree is called on an element. r/sr=bz 
Bug 380872: Forgot to address bzs review comment to remove this assertion. r/sr=bz 
Bug 380872: Bind nodes in insertion points directly under <children>. r/sr=bz 
Bug 381078, hang with recursive template, testcase is part of bug 378893, r=smaug,sr=jonas 
Fix yet more regressions from the don't-flag-clone-xul-nodes-indocument landing. b=380872 r/sr=bz 
Implement backend changes for web-based protocol handlers a la WhatWG HTML5 draft (bug 380415).  r=cbiesinger@gmx.at, sr=jonas@sicking.cc 
Bug 382182 - script tag should support version 1.8, r=jonas,sr=brendan 
Bug 366417: Set up scriptloader in the nsDocument ctor to ensure that the blocker-count stays in sync with the notification depth. r/sr=bz 
Bug 174397. Support getClientRects and getBoundingClientRect on DOM elements. r=jonas,dbaron; sr=tor, plus help from Anne van Kesteren and Martijn Wargers 
Bug 373756. Don't execute XBL ctors on the last EndUpdate if there were queued ctors when we got the first BeginUpdate. Patch by bz. r/sr=me 
Bug 380538. Allow both ononline and onoffline to be specified in the body element. patch by Chris Double, r=Olli.Pettay,sr=jonas 
Bug 383511: Support multi-domain tests in mochitest. r=sayrer 
Bug 379959: Add checks to loadBindingDocument. r/sr=jst 
Bug 348156: Don't rely on UnbindFromTree to break cycles since that puts us in an inconsistent state. r/sr=jst 
Backing out previous checkin since leaks went up 
Fixing bug 380618. Remove support for window.ononline and window.onoffline in favor of using window.addEventListener() for these new events. r=chris.double@double.co.nz, sr=jonas@sicking.cc 
Fixing bug 380476. Never register timeouts on unloaded windows objects. r=mrbkap@gmail.com, sr=jonas@sickin.cc 
Fixing bug 377360. Fix atom table crash due to invalid UTF data in atoms. r=jonas@sicking.cc, sr=peterv@propagandism.org 
Bug 384409 - Create a common GetContextForContent method in nsContentUtils and use it in nsScriptElement and svg. r=tor,r+sr=jonas 
r+sr=jonas 
Add an API to access <input type="file"> data.  r=smontagu (for charset stuff), r+sr=jonas 
add a sendAsBinary() method to XMLHttpRequest (for sending data from an <input type=file> element, among other things).  b=371432, r+sr=jonas 
Bug 259332: Improve support for document.all such that we can deal with multiple elements with the same id and/or name. r/sr=jst 
fix build bustage 
fix build bustage 
Adding support for cut, copy, paste events. Patch by mfenniak-moz@mathieu.fenniak.net, r=Olli.Pettay@gmail.com, sr=jst@mozilla.org,jonas@sicking.cc 
Fixing bug 194404. Adding support for window.showModalDialog() for compatibility with IE. r+sr=jonas@sicking.cc 
Bug 389508: Implement Cross site XMLHttpRequest. r=jst sr=dveditz,biesi 
'extra ;'? Quit your whining gcc\! 
backout due to orange 
Bug 389508: Cross site XMLHttpRequest. r=jst/biesi sr/dveditz/biesi 
Bug 389508: Fix regressions and bugs in the new Cross Site XMLHttpRequest support. r/sr=jst a=roc 
Remove tests accessing remote server 
Fixing bug 389856. Fix dialog argument handling. r=mrbkap@gmail.com, sr=jonas@sicking.cc 
Bug 319768 - (XPathGenerator) - Implement XPath generator. Patch by Alex Vincent <ajvincent@gmail.com>.  r=peterv, sr=jonas NPOTB 
Part 1 of bug 347743. Patch by Johnny Stenback, r=brendan, sr=jonas, a=blocking1.9+ 
Part 1 of bug 347743, try 2. Patch by Johnny Stenback, r=brendan, sr=jonas, a=blocking1.9+ 
Fixing bug 389634. Remove dependency on XUL windows from modal content dialog opening code (window.showModalDialog()). r=bzbarksy@mit.edu, sr=jonas@sicking.cc 
Attempting to fix bug 354380. Add safe guard against prematurely deleted scriptable plugin objects. r=mrbkap@gmail.com, sr=jonas@sicking.cc 
Fixing bug 391182. Remove bogus assertion introduced by one of the fixes for bug 347743. r+sr=jonas@sicking.cc 
Fixing bug 393294. Stop leaking event data from popup blocked event objects. r=Olli.Pettay@gmail.com, sr=jonas@sicking.cc, a=jst@mozilla.org 
XTF doesn't properly handle readonly and readwrite. Bug 391905, r=olli sr=peterv a=jonas 
Bug 386537. Provide a reliable way for plugins to detect whether windowless mode is available. patch by karlt, r+sr=jst, a=jonas 
Bug 390219: Ignore OnStartRequest/OnStopRequest calls for other channels, i.e. ones already aborted. Also set owner on the right channel for multipart responses. r/sr/a=jst 
Bug 393329: Clean up destructors in xslt code. Patch by peterv. r/sr/a=sicking 
Fixing bug 394275. Fix problem with UTF16 to UTF8 character conversions when dealing with broken UTF16 characters. r+sr=jonas@sicking.cc 
Fixing bug 393900. Make windows opened with showModalDialog() obey window feature prefs. r+sr=jonas@sicking.cc, a=dsicore@mozilla.com 
Landing fix for bug 394418. Notify on text changes before firing mutation events. Patch by bzbarsky@mit.edu, r+sr=jonas@sicking.cc, a=jst@mozilla.org/dsicore@mozilla.com 
Fixing bug 394534. Make first attribute win in misplaced content. Patch by bzbarsky@mit.edu, r=mrbkap@gmail.com, sr=peterv@propagandism.org, a=jonas@sicking.cc/dsicore@mozilla.com 
Fixing bug 395651. Make our UTF-8 and UTF-16 comparison code etc more robust when dealing with invalid UTF-16 data. r+sr=jonas@sicking.cc, a=jst@mozilla.org/jonas@sicking.cc 
Fixing bug 391777. Make window.close() work on a modal content dialogs. r+sr+a=jonas@sicking.cc 
Bug 284225: Use right security context for xslt. r/sr=peterv 
add tests for bug 390219 and bug 326337. r/sr=peterv a=me 
Bug 348156: Remove unbinds from nsDocument::Destroy as they cause badness. Break cycles using cycle collector instead. r/sr/a=jst 
Bug 396108 - Crash [@ PresShell::ResizeReflow] with iframes, binding, while onbeforecopy removing stuff, patch by Mathieu Fenniak, r=Olli.Pettay, sr=jst, a=jonas 
Rename Content-Access-Control to Access-Control. bug=397877 r+sr+a1.9=jonas 
Bug 348156: Fix leaks by relying on cycle collector rather than calling UnbindFromTree on all nodes. r/sr=jst 
Backing out bug 348156 since it caused Tp perf regressions 
Bug 395689: Stop leaks of xslt patterns. Patch by peterv. r/sr/a=me 
Fixing bug 393928. Lazily initialize liveconnect, and only initialize it when we can't find a Java plugin that supports NPRuntime. When a Java plugin that supports NPRuntime is found, use NPRuntime to expose liveconnect functionality (i.e. window.java and window.Packages). r=cbiesinger@gmx.at, sr=bzbarsky@mit.edu, a=jonas@sicking.cc 
Fixing bug 399406. Make sure to initialize LiveConnect (if needed) when loading applets. r+sr+a=jonas@sicking.cc 
Bug 399107: Add API to force cycle collection. r/sr/a=jst 
Bug 345711: Call InstallImplementation when it's safe, rather tha directly from LoadBindings. r/sr=jst 
backing out due to test failure 
Fixing bug 400619. Make sure to push the JS context onto the JS context stack in NP_HasProperty() to make sure the JS calls in that function work even when called w/o any JS on the stack. r+sr=jonas@sickin.cc, a=drivers. 
Bug 345711: Don't call nsXBLBinding::InstallImplementation while in reflow as that can cause duplicated frames for plugins and other badness. r=bz/jst sr=jst 
bug 394390: Don't report bogus warnings to the error console when using cross-site xmlhttprequest. Patch by Surya Ismail <suryaismail@gmail.com>, r/sr=sicking 
Bug 400735: Hold strong reference while calling UnblockOnload. r=smaug sr=jst a=beltzner 
Bug 401463 and others. Make us call InstallImplementation in more places in order to behave more like we did when InstallImplementation was called during LoadBindings. r/sr=jst 
Fixing solaris bustage from bug 401687. r+sr=jonas@sicking.cc 
Landing fix for bug 402208. XPathResult holding attribute node causes cycle collector fault. Patch by peterv@propagandism.org, r+sr=jonas@sicking.cc, a=drivers. 
Bug 404402: Don't remove an XPCTraceableVariant from root set in dtor if it has already been done during unlinking. Patch by peterv. r/sr=sicking 
Bug 395845. Fix leak of static parser-node cache. Patch by mrbkap. r/sr=sicking 
bug 402763: cycle collect on memory-pressure notification, r/sr=stuart a=schrep 
Bug 394052: Don't leak when binding urls refer to the same document. Patch by Eli Friedman. r/sr=sicking 
Fixing bug 400204. Make window.innerWidth n' friends not throw when accessed on a non-displayed window. r+sr+a=jonas@sicking.cc 
bug 395822: Use correct String::Find overload r=jonas, a=release drivers 
Bug 403549: Avoid memory churn from nsContentUtils::CreateContextualFragment by giving nsIParser::ParseFragment a better signature. r/sr=stuart 
fix redness 
fix redness 
Backing out bug 400327 too see if that helps Ts 
Backing out bug 386202 to attempt to fix Ts regression 
back out bug 118312 as final attempt to fix Ts 
relanding bug 400327 since it doesn't look to be the source of the regression 
relanding bug 386202 since it doesn't look to be the source of the Ts regression 
relanding bug 118312 since it doesn't look to be the source of the Ts regression 
Don't crash when ParseFragment() is called with an empty |aTagStack|. b=403877 r+sr=mrbkap a=jonas 
bug 384612: Remove script from scrollbar XBL binding. r/sr=dbaron 
Bug 403835: Force a GC/CC between each pageload. r=alice sr=rob campbell 
Bug 403835: Make talos force cycle collection between each pageload. r=alice sr=rcampbell 
Bug 348156: Fix leaks by relying on cycle collector rather than calling UnbindFromTree on all nodes. r/sr=jst 
Fix build bustage 
Revert to earlier version of patch to try to fix orange 
Backing out due to mochitest failure 
Bug 348156: Fix leaks by relying on cycle collector rather than calling UnbindFromTree on all nodes. r/sr=jst 
Bug 397828: Make window.document and document.open no longer be allAccess 
backing out due to test failures 
Bug 397828: Make window.document and document.open no longer be allAccess 
Fixing bug 406692. Speed up nsNodeSH::PreCreate(). r+sr=peterv@propagandism.org, a=jonas@sickin.cc 
Fixing bug 406671. Speed up nsWindowSH::GetProperty(). r+sr=peterv@propagandism.org, a=jonas@sicking.cc 
Bug 406852: Fix docshell leak by properly killing the frameloaders in object-loading-content when the document is destroyed. r/sr=peterv 
Fixing bug 407812. Don't waste time calling QI in nsNodeSH::PreCreate() and nsElementSH::PostCreate(). r+sr=jonas@sicking.cc 
Fixing bug 407815. Speed up GetSecurityManager() in our XOW code. r+sr=jonas@sicking.cc 
Fixing bug 407819. Speed up GetScopeOfObject(). r+sr=jonas@sicking.cc 
Fixing bug 407819. Speed up GetScopeOfObject(). r+sr=jonas@sicking.cc 
Bug 368835  No focus events from xul tree table when a row is deleted, r=evan.yan, Olli.Pettay, sr=jonas, a=beltzner 
Bug 408006: Don't crash in when getting or setting fullscreen mode on a frame that's been killed. r/sr=jst 
Bug 366200: Fix problems with mRootContent being out of sync with mChildren by removing mRootContent. r/sr=bz 
Bug 403168, r=jonas, sr=jst, a=blocking1.9 
Bug 408135: Get rid of unnecessary array churning in nsCSSRuleProcessor::GetRuleCascade. r/sr=dbaron 
Bug 408123: Use nsTObserverArray rather than array copy to deal with listeners going away while firing event. r=smaug sr=jst 
Bug 403841: nsContentUtils::CreateContextualFragment needs to deal with being passed nodes other than elements. Patch by luser. r/sr=sicking 
Fixing bug 408792. Remove some expensive QI calls from frequently called code. r=jonas@sicking.cc, sr=bzbarsky@mit.edu 
b=397724 r=jonas - allow passthrough of browser args to allow collection of malloc/leak logs 
Landing fix for bug 380668. Fix problems with newlines around meta elements when serializing. Patch by jonas@sicking.cc, r+sr=jst@mozilla.org 
Fixing bug 411082. Fix top crash bug due to us calling into scriptable helper code w/o pushing a JS context on the stack. r+sr=jonas@sicking.cc 
Fixing bug 410853. Make NPN_Evaluate() pass in a sensible script file name argument when possible to get the appropriate wrapper automation when necessary. r=jonas@sicking.cc, sr=bzbarsky@mit.edu 
Fixing bug 412691. Remove unnecessary nsCOMPtr's from performance critical code paths. r+sr=jonas@sicking.cc 
Fixing bug 408257. Make JS executed from plugins reset the slow script timeout if not called from within JS. r+sr=jonas@sicking.cc 
Fixing bug 413569. Make XPCWrappedNative::CallMethod() initialize the nsAutoString buffer used for [out] string param handling only when needed. r+sr=jonas@sicking.cc 
Fixing bug 397791. Prevent document principals from ever changing, and make us not use XOWs for same origin document objects. r=jonas@sickin.cc, sr=bzbarsky@mit.edu 
Bug 399352: Get rid of known-but-harmless assertions for GetUsedMargin/Border/Padding. r/sr=dbaron 
Bug 413071: Fix bug in cross site XHR. r/sr=jst 
Bug 397878: Send Referer-Root header when doing cross-site access requests. Also update domain pattern matching to spec. Patch by <suryaismail@gmail.com>. r=bent sr=sicking b3a=beltzner 
Bug 415168: Turn off <a ping> in firefox r/sr=vlad b3a=beltzner 
Bug 414747: Make BroadcastListener use nsWeakRef rather than strong references, just in case. r/sr=jst b3a=mconnor 
Bug 414482. Don't leak by double-addreffing in CEnumFormatEtc::Clone. Also, fix nsDataObj refcnt logging so we don't appear to be leaking those. r=jmathies,sr=jonas 
Bug 308564 - No accessibility events when data in a tree row changes, r=evan.yan, olli.pettay, sr=jonas, a=mtschrep 
Bug 308564 - No accessibility events when data in a tree row changes, stage 2, r=smaug, sr=jonas, a=mtschrep 
Fixing bug 417266. Don't call IsEventName() with non-string jsvals. r+sr=jonas@sicking.cc 
Bug 416036, add back interface that fell out. r/sr=jst 
xslt doesn't build on Windows Mobile. r=jonas, a=beltzner 
Fixing bug 418755. Revert our decision to throw WRONG_DOCUMENT_ERR per the DOM spec as the web expects that not to happen. r+sr=jonas@sickin.cc 
Bug 416534: Clean up cross-site xmlhttprequest security checks. r/sr=peterv 
Bug 416534: Clean up cross-site xmlhttprequest security checks. With fixes to tests this time. r/sr=peterv 
Bug 383818: Cloned menu items don't display correctly. r/sr=jst 
Fixing bug 419848. Tighten rules about what JS files content can load. r+sr=jonas@sicking.cc 
Don't notify when setting text from within the constructor.  b=420429 r+sr=jonas a=blocking1.9 
Revert the change to RequiresBody.  In particular, an <input type="Hidden"> needs to not require it, for now...  Bug 418464, r+sr=mrbkap, a=jonas 
Bug 401155: Make sure plugins and XBL constructors not execute when creating a script wrapper if it's not safe to execute scripts. r=bz sr=jst. 
Back out due to failed mochitest 
Fixing bug 415324. Don't change principals on documents during document.load() now that document principals must remain unchanged. r=jonas@sicking.cc, sr=bzbarsky@mit.edu 
Bug 394485: Prevent loading blocklisted urls loaded from <object> tags. r=jonas, sr=biesi, blocking1.9=stuart 
Followup fix for bug 406251, make NPVariant.intValue be a signed int so negative ints can be passed through safely. r+sr=jonas@sicking.cc 
Fixing bug 416953. Do plugin destruction off of an event whenever possible (which is pretty much always). r+sr=jonas@sicking.cc 
Fixing bug 414291. Make window.open() ignore modal=yes for backwards compatibility. r+sr=bzbarsky@mit.edu and jonas@sicking.cc 
Bug 401155: Make it safe to create a wrapper for an object at any time by making sure wrapping doesn't write script. Also set up a service that tries to keep track of when it's safe to execute script. r=bz sr=jst 
Fixing bug 395110. Give type attribute higher priority when deciding what plugin to use. r=jonas@sicking.cc, sr=bzbarsky@mit.edu 
Bug 413161: Make nsIPrincipal::Origin ignore changes to document.domain. r/sr=dveditz 
Fixing bug 422926 (and also bugs 420886 and 423260). Don't do delayed stops of plugins unless we're deleting the frame, as some plugins apparently can't handle that. r+sr=jonas@sicking.cc 
Landing fix for bug 402983. Make security checks on file:// URIs symmetric. Patch by dveditz@cruzio.com, r=jonas@sicking.cc,bzbarsky@mit.edu. jst@mozilla.org 
Bug 421817, remove dragstart, drag and dragleave events for 1.9, they'll be back in a later release, r=jonas, sr=jst, a=beltzner 
Bug 424923: Remove support for cross-site XHR. r/sr=jst for code changes 
fix redness, forgot this part 
Bug 424989 Cannot use reconversion of IMEs from system menu at the focus being on textarea r+sr=roc, b1.9=jonas 
Bug 423355: Fix bug in blocker unnesting code. Also make sure to never fire mutation events when it's not safe to run script, even if the event isn't catchable by content. r/sr=bz 
Bug 423355: Don't dispatch mutation events for native anon content. Patch by smaug. r/sr=sicking 
Bug 408268  Closing the browser without dismissing the Customize Toolbar dialog leads to loss of all toolbar items. r=Neil Deakin sr=neil@parkwaycc.co.uk 
Bug 408268: Don't crash when closing a window while customize toolbar palette is open. r=Neil Deakin, sr=jst 
Bug 425078: Not showing authentication dialog box when request is made throught XMLHttpRequest in chrome window. r/sr=jst 
Allow XMLHttpRequest and document.load load files from subdirectories. r/sr=dveditz 
Bug 425551: Improve script blocker code and use it to prevent async DOM events from keeping link elements alive past CC. Patch by bent. r/sr=sicking 
Bug 425551: Improve script blocker code and use it to prevent async DOM events from keeping link elements alive past CC. Patch by bent. r/sr=sicking 
Backing out due to test failures 
bug 424161 - Tree invalidation screwed up badly, getting 6 failures on Mochitest for bug 368835. p=Alexander Surkov (surkov.alexander@gmail.com) r=me, r=Olli.Pettay sr=jonas a1.9=beltzner 
Bug 423355: Never fire mutation events on native-anon content. Also includes fix for nsIContent::IsInNativeAnonymousSubtree. Patch by Smaug. r/sr=sicking a=beltzner 
Bug 423355: Make sure that we never remove removable blockers more than once. Also make sure to never fire mutation events when it's not safe to run script. r/sr=bz/roc a=beltzner 
Bug 422121, crash sorting xml built templates, add some null checks, r=smaug,sr=jonas,a=beltzner 
Fixing bug 428847. Don't show an error page if an XML file references an XSLT stylesheet it doesn't have permission to load. r+sr=jonas@sicking.cc, a=beltzner 
Landing fix for bug 419716. Make us consistently deal how we're pass param tags to object tags when parsing XHTML. Patch by mrbkap@gmail.com and bent.mozilla@gmail.com, r+sr=jonas@sicking.cc, a=beltzner 
Bug 423269: Don't add scriptblockers around StartUpdate/EndUpdate batches as script is likely to execute at the last EndUpdate. Also for now, restore full functionality to scripts running while there are scriptblockers. r/sr=bz a=beltzner 
Followup patch to bug 425201. Make sure to throw if xhr.open is called with an illegal uri. Also restore the nsIScriptSecurityManager.CheckConnect API as soap still uses it 
Fix redness. Stupid second security manager 
Change reftest and crashtest in preparation for bug 379959 to not use data-urls for -moz-binding. r=dholbert. Test changes only. 
Bug 379959. Patch by Jonas Sicking <jonas@sicking.cc>. r+sr=bz, a=damons. 
Stop variable from being used uninitialized which messes with focus acceptance. Patch by peterv. b=430351 r=jonas sr=bz a=beltzner 
Backing out to try to fix orange 
Putting back since orange wasn't affected 
Bug 429781: Update XMLHttpRequest blocked header list to latest spec. Patch by Adam Barth. r/sr=sicking a=damon 
Backing out to try to fix orange 
Fixing bug 432591. Only register event handlers on inner windows. r+sr=jonas@sicking.cc, a=dsicore 
Fixing bug 441923. Stop our SDK sample plugins from crashing on destruction. r+sr=jonas@sicking.cc 
First part of the fix for bug 435334. Move the JVM auth tools from the OJI code into the plugin code. The code in question is in no way dependent on OJI and will be completely removed once the NPAPI has support for what this code offers. r=joshmoz@gmail.com, sr=jonas@sicking.cc 
Fixing bug 421833. Deal better with plugin frames going away while initializing a plugin. r+sr=jonas@sicking.cc 
Fixing bug 438830. Prevent instantiation of a plugin if it's already been instantiated. r+sr=jonas@sicking.cc 
Landing part of the fix for bug 435334. Remove Java specific code that does nobody any good in our samples. r=joshmoz@gmail.com, sr=jonas@sicking.cc 
Landing last part of the fix for bug 435334. Make our #ifdef OJI code really be just that, rather than tell us whether Java is available or not. r=joshmoz@gmail.com, sr=jonas@sicking.cc 
Landing fix for bug 132824. Implement NodeIterator object of Traversal API. Patch by craig.topper@gmail.com, r+sr=jonas@sicking.cc 
Landing tests for bug 132824. Patch by craig.topper@gmail.com, r+sr=jonas@sicking.cc 
p=sgautherie Av1 r/sr=jonas Cv1 r=dbaron 
Bug 28293: Implement defer attribute. r/sr=jst 
Followup cleanup for bug 439034, remove dead code and some silly code too. r+sr=jonas@sicking.cc 
Bug 447917: Implement the Implement ElementTraversal. Also implements a .children property that is a NodeList of all element children. This is a subset of the IE property with the same name. r=smaug sr=peterv 
Bugs 393629 and 436094. Fix document.all.length and make us honor the name attribute for the same set of elements as IE in the document.all implementation. r/sr=jst 
Bug 453308 - Building without MOZ_XUL failed. r=jonas. 
Bug 441473. Move nsSameOriginChecker into nsContentUtils. r+sr=jonas 
Bug 446584 - NodeIterator doesn't forward exception properly; r=(jonas + jst) sr=jst 
Reland old Access-Control implementation. b=389508 r/sr=jst 
Update Access-Control implementation to match changes in spec. b=389508 r/sr=jst 
Ensure that you can't use upload ProgressEvents to do server detection when using Access-Control. b=389508 r=smaug sr=jst 
Implement cookieless requests for Access-Control. b=389508 r=biesi sr=jst 
Fix tests since network code or mochitest server can't deal with DELETE and PUT. r/sr=me 
Merge Access-Control implementation (Bug 389508) 
Remove test that is no longer relevant after cross-site XHR landing. Also disable cross-site XSLT test for now 
Remove test that is no longer relevant after cross-site XHR landing. Also disable cross-site XSLT test for now 
Disable Cross-Site XHR tests on mac since the mochitest server freaks out. 
Fix shutdown leak in Access-Control implementation. 
Bug 440595.  Report the right line number in the onerror handler even if not reporting the whole error.  r=jonas, sr=jst 
Bug 458944 - In nsIMutationObserver.h, document how the user should attach observers; r+sr=jonas 
r/sr=bz b=459470 
Move Access-Control implemenation fully in to nsCrossSiteListenerProxy.cpp from and make some additional cleanup. No behavioral changes. r/sr=mrbkap b=459770 
Fix compile errors 
Fix XHR unit test 
backout due to test failure 
Ignore the keypress event if DOMEventToNativeKeyEvent() fails. b=456273 r=Olli.Pettay sr=jonas 
Bug 283861 - Want Text3.isElementContentWhitespace; r+sr=jonas 
Break out Access-Control code from nsXMLHttpRequest.cpp. r/sr=mrbkap b=459770 
Break out Access-Control code from nsXMLHttpRequest.cpp. r/sr=mrbkap b=459770. Relanding with some things removed to see if they caused leak. 
Backed out changeset eeeaee484609 due to test failure 
merge backout 
Bug 457825 - Support access control headers when downloading fonts.  r=jonas,dbaron, sr=jonas 
Fixing bug 425153. Fix script filenames such that our wrapper automation story is more consistent. r=jonas@sicking.cc, sr=bzbarsky@mit.edu, a=b2 blocker 
Fixing bug 380418. Prevent XMLHttpRequest from reading HTTPOnly cookies. r+sr=jonas@sicking.cc, a=b2 blocker 
Bug 462519.  Make NSPR logging of document construction/destruction work in opt builds again.  r+sr=jonas, a=beltzner 
Fixing bug 405239.  Cookie confirmation dialog focuses a newly opened background tab. r+sr+a=jonas@sicking.cc 
Bug 465573 - Add mochitests for ElementTraversal; r+sr=jonas 
Bug 321175, change nsTemplateRule::GetAction to return nsIContent, r+sr=jonas 
Bug 321180, better space-separated string parsing, r+sr=jonas 
Bug 418970 - DOMNodeInsertedIntoDocument mistyped as *InfoDocument; r+sr=jonas 
Bug 471122 - test_CrossSiteXHR.html : improve thrown exceptions from file_CrossSiteXHR_server.sjs; CrLf->Lf Eol; r+sr=jonas 
Bug 471122 - test_CrossSiteXHR.html : improve thrown exceptions from file_CrossSiteXHR_server.sjs; (Av2) Use setStatusLine(); r+sr=jonas 
Bug 467775, ensure GetMayProcessChildren is called for all recursive template checks, r=smaug,sr=jonas 
Bug 441359: Check script and css loads against the classifier.  r+sr=jonas 
Bug 460700 -  Use the right delay with XHR progress events, r+sr=jonas 
Bug 464848: XMLHttpRequest doesn't send the right content-type for non-document request bodies. r/sr=bz 
Fix mochitest orange 
Backed out changeset 03bc3379822a 
merge backout 
Bug 461555: Don't clear out the parser until all deferred scripts have executed to ensure that a document.write in a deferred script doesn't clear the page. r/sr=mrbkap 
Bug 441359: Check script and css loads against the classifier.  r+sr=jonas 
Bug 473345: check DOM worker loads against the classifier.  r=bent, sr=jonas 
Bug 464954: Update Access-Control implementation to latest draft and fix some bugs. r/sr=bz 
Backed out changeset 2063e342b8e1 due to failing docshell tests 
merge backout 
Bug 464954: Update Access-Control implementation to latest draft and fix some bugs. r/sr=bz 
Bug 464954: Update Access-Control implementation to latest draft and fix some bugs. r/sr=bz 
Bug 461555: Don't clear out the parser until all deferred scripts have executed to ensure that a document.write in a deferred script doesn't clear the page. r/sr=mrbkap 
Backed out changeset 41045faa0ef6 due to leaks 
Bug 461555: Don't clear out the parser until all deferred scripts have executed to ensure that a document.write in a deferred script doesn't clear the page. r/sr=mrbkap 
Backed out changeset e8023bc83264 due to orange 
Bug 461555: Don't clear out the parser until all deferred scripts have executed to ensure that a document.write in a deferred script doesn't clear the page. r/sr=mrbkap 
More bug 461555 fixes to fix orange by making sure to remove deferred-scripts' onloadblocker when the parser is terminated. r/sr=mrbkap 
Bug 474704 - drop channel on cross-site load failure to avoid leak. r=bz,jonas, sr=jonas 
Bug 476567: Clear Access-Control preflight cache when spec says to. Also rewrite cache test-runner to make it more sane. r/sr=jst 
Bug 468443 Remove PUT/DELETE support from httpd.js, revert XX in content tests, r=jonas 
Bug 479521: Don't follow unsafe same-site to cross-site redirects. Also fix a bug where reusing a XHR object that had been used cross site could result in the second request being more restrictive than it should be. r/sr=jst 
Backed out changeset 4130ff1e52f3 (bug 479521) due to test failures. 
Merge - Backed out changeset 4130ff1e52f3 (bug 479521) due to test failures 
Bug 479521: Don't follow unsafe same-site to cross-site redirects. Also fix a bug where reusing a XHR object that had been used cross site could result in the second request being more restrictive than it should be. r/sr=jst 
Bug 474038 - Don't reuse keep-alive connections for both anonymous and non-anonymous requests; r=(cbiesinger + jonas) sr=jonas 
Initialize nsSyncLoader members.  b=479709 r+sr=jonas 
bug 461031. Make the max tokens deflected in low frequency mode a pref. r/sr=jonas 
Use the same type as mAttrAndChildCount when defining ATTRCHILD_ARRAY_MAX_CHILD_COUNT. b=480655 r+sr=jonas 
Bug 473371 - Make FTP also honor LOAD_ANONYMOUS flag; r=jduell.mcbugs sr=jonas 
Bug 475636: Disallow refresh to javascript uris. r/sr=bz 
Bug 431098: Make pressing 'cancel' in the file picker clear the file upload control. r/sr=bz 
Bug 481558: Don't apply XBL that isn't located in the same domain as the bound document. r/sr=bz 
Fix error in test 
back out changes that weren't supposed to be checked in 
Fix orange 
Fix more orangeness by always allowing linking to chrome XBL 
Bug 478889: Make script-defer work in xhtml. r/sr=peterv 
Bug 483635 - Mochitest test_terminate.html runs fine but needs to check/report success; (Av1a) Add |ok(true, ...);|; r=bent.mozilla sr=jonas 
Bug 475066 attempt #2 -dragging a tab out of the browser window doesn't detach the tab (i.e. opens a window for that tab). r=enn, sr=jonas. 
[mq]: sinkstuff 
Bug 471122 - test_CrossSiteXHR.html : improve thrown exceptions from file_CrossSiteXHR_server.sjs; (Bv1) file_CrossSiteXHR_server.sjs: Add missing |var|; r=jonas 
Bug 483967 - Mochitest test_regExpStatics.html runs fine but needs to check/report success; (Av1) Add |ok(true, ...);|; r=jonas 
Bug 483607, sorting template integers does not work, r=laurent,sr=jonas 
Bug 483818: Remove the currently-running-script counter from the parser since it's hard to keep it correct when we're creating a new parser due to document.write etc. r/sr=mrbkap 
Bug 485808 - [FIX]Create iterator class to iterate using GetChildArray; (Bv1) Remove leftover 'i'; r+sr=jonas 
Bug 467865 - [@ js_RemoveRoot - ... - XPCThrower::ThrowExceptionObject] xpconnect is misusing nsCOMPtr. r=jonas+sr=jst 
Backed out changeset 888aff8f57d2. Bug 492037 
Merge backout 
Bug 481566: Add prefs to control making the content sink more responsive. r/sr=mrbkap 
Bug 481566: Restore behavior on mac and linux to our old probing strategy to fix Tp3. rs=jst 
Add prefs to disable CORS, as well as fix compliance issue in Access-Control-Request-Headers header. r/sr/a=jst 
Bug 492560: Prevent modal dialogs from making the slow-script dialog coming up. r/sr=mrbkap 
Bug 496308 -  Crash [@ nsDOMPopupBlockedEvent::GetRequestingWindow], r+sr=jonas 
Move files to better location 
Bug 487949 - Land HTML5 parser on trunk preffed off r=mrbkap, sr=jonas 
Bug 482578, r=bz, sr=jonas 
Bug 487949 - Land HTML5 parser on trunk preffed off r=mrbkap, sr=jonas 
Bug 487949 - Land HTML5 parser on trunk preffed off r=mrbkap, sr=jonas 
Bug 501073 - Remove debug addref loop that never should have been checked in r&sr=jonas 
Bug 501091 - Avoid overlap with platform defines in HTML5 element/attribute name object names. r=jonas, sr=mrbkap 
Bug 501083 - Release the Windows 1252 array at shutdown. r+sr=jonas 
Bug 501113 - HTML5 Crash EXCEPTION_INT_DIVIDE_BY_ZERO [@ _aulldiv - nsHtml5TreeBuilder::Flush]. r+sr=jonas 
Bug 502091 - Crash [@ nsContentSink::ProcessHeaderData] with meta in innerHTML. r+sr=jonas 
Bug 507023: When inserting fragments into the DOM, use ContentAppended notification when possible. r/sr=jst 
Fixing bug 503598. Adding support for drag n' drop funcitonality for local files. r=enndeakin@gmail.com, sr=mrbkap@gmail.com/jonas@sicking.cc 
Back out bug 431098 
Bug 509672 - Make HTML5 parser not fire mutation events when adding attributes to root or body elements. r=jonas 
Bug 509672 - Make HTML5 parser not fire mutation events when adding attributes to root or body elements. r=jonas 
Bug 505783 - Make HTML elements honor script-set xml:base. r=jonas. 
Resolving bug 491201. Added ability for XMLHttpRequest.send() to accept an nsIDOMFile. r+sr=jonas@sicking.cc, r=cbiesinger@gmail.com 
Bug 513147 - Remove the "properties" dialog (and associated "metaData" hooks) from web elements. r=vlad sr=jonas 
Fixing bug 491201. Adding ability for XMLHttpRequest.send() to accept a File object. r+sr=jonas@sicking.cc, r=cbiesinger@gmail.com 
bug 514351 - support HandheldFriendly meta tag r=jonas 
r=roc sr=(jonas, roc) 
Bug 518104 - Implement HTML5 changes to <script defer>. r=hsivonen, sr=mrbkap. (Tests fixed and code merged to tip by hsivonen.) 
Bug 523771: Support the 'multiple' attribute on <input type=file>. r=benjamn sr=jst 
Bug 516906: Remove XLink support from nsXMLElement. r/sr=jst 
Bug 526286 -  Detaching a tab by dragging it down into its content area stopped working, r=enndeakin, sr=jonas 
Bug 526286 -  Detaching a tab by dragging it down into its content area stopped working, r=enndeakin, sr=jonas 
Bug 293347: Disable document.write for XSLT result docs. r/sr=jst 
Bug 521668: Fire DOMLinkAdded asynchronously to avoid unexpected recursion. r=bent sr=jst 
Bug 521668: Don't parse more data from the network, even if pumping the event loop from a event handler rather than from a <script>. r=mrbkap 
Bug 527370: Rename some things in order to match the latest File API spec. Specifically FileRequest -> FileReader and .response -> .result. r=smaug sr=jst 
Bug 503481: Implement async attribute 
Bustage fix, bug 527623. Relying on speculative parsing in tests doesn't seem like a good idea. r=bustage-fix 
Bug 527623: Fix more intermittant problems by making the test code deal with necko re-ordering requests. r=jst 
Bug 527870: Fix theoretical bug in async loading code. r=jst 
Bug 507114: Don't put up a dialog if we're low on memory. Instead just attempt to report to the console-service. r=jst 
Bug 507114: Make the observer-service deal with do_QueryReferent causing observers to be added or removed. r=bsmedberg 
Bug 527370: More File API renames. Also adds tests for the FileReader.readyState property. r=jst 
Bug 527623: Add some temporary logging code in order to figure out the intermittent oranges in test_bug503481b.html. This code will be backed out once we have a log of a failing test. r=jst 
Bug 527370: Fix bug in test. r=bustage-fix 
Bug 529041: Deal with http channels not implementing nsIUploadChannel2. r=biesi 
Fix mobile build bustage. Some compilers still don't seem to like L-strings spread out over several lines. r=crowder 
Bug 526500: Fix bug in OOM handing for nsTSubstring::SetLength. Also change Capacity to return 0 rather than -1 for immutable strings to avoid similar surprises in the future. Finally Make SetCapacity return a boolean indicating success/failure to make it easier to check for oom handling. r=bsmedberg sr=dbaron 
Back out 2d4a6e2237f9. Logging no longer needed. 
Remove tests that are failing due to bug in speculative parser. r=mrbkap 
Bug 530220: Fix bug in binary data handling, and write more comprehensive tests. r=jst a=jst 
Bug 530269: Clear data when reusing a FileReader for multiple reads. r=bz a=jst 
Bustage fix 
Backed out changeset 3005c5da5a20 due to orange 
Backed out changeset 029128b70708 due to orange 
Backed out changeset 544bfe26c96d due to orange 
Bug 530220: Fix bug in handling of binary data, kill some dead variables, and improve tests. All for FileReader. r=jst a=jst 
Jonas Sicking - Bug 530269: Clear data when reusing a FileReader for multiple reads. r=bz a=jst 
Trivial fix for orange. Tests are good. Bug 530269 
Fix more bugs when reusing FileReaders for multiple reads. Also fix leaks. r=jst a=jst 
Bug 530901. Fix a warning and align an error code with the spec. r=jst a=jst 
Bug 395614 - implement nsSVGScriptElement::SetType. r=longsonr,jonas 
Bug 534361: Fix potential crash in plugin instantiation code. r=jst 
Bug 500885 - DOMActivate is fired twice for input[type=file] if user clicks on browse button, r=Olli.Pettay sr=jonas 
Bug 321177, use recursive algorithm to find member variable, r=jonas 
Skidmark for bug 524944 r=bsmedberg 
Backed out changeset 4c88c8839a46 due to redness 
Skidmark for bug 524944 r=bsmedberg 
Bustage fix for Thunderbird and SeaMonkey for skidmark for bug 524944 
Bug 530374 - Replace PR_MIN/PR_MAX with NS_MIN/NS_MAX in xslt, r=jonas 
Bug 530914: Blocklist version 8.8.8.8 of fgjk4wvb.dll. Suspected malware that is crashing us. r=johnath 
Bug 538014 - Handlers in txStylesheetCompileHandlers.cpp should be static, r=jonas 
Bug 541520, don't fire dragleave on successful drop, but do fire it when drop fails or is cancelled, r=jonas,smichaud 
Bug 543696: Remove unused nsIScriptSecurityManager::CheckConnect. r/sr=mrbkap 
Bug 547850: Make case folding code in HTML DOM only case fold ASCII characters. r=hsivonen 
Bug 422868 part 1: Fix UTF8 <-> UTF16 conversion code to deal with all encoding errors consistently. r=smontagu 
Bug 541245 part 2: Make UTF8<->UTF16 comparison code consistent in the face of badly encoded strings. r=smontagu 
Bug 541245 part 3: Add UTF8/UTF16 encoding/decoding/comparison tests. r=smontagu 
Bug 541245 part 4: Be consistent about prohibited characters such as 0xFFFE in UTF8<->UTF16 conversion code. r=smontagu 
Bug 548171: Make getFile function on SERVER_ROOT platform independent. r=waldo 
Bug 544642: Make frames report an error event if the frame src is pointed at a local file url. And don't make setAttribute thrown an exception in that scenario. r=smaug 
Bug 547165: Add tests for form submission and fix a few cases where we differ from IE/HTML5. Also add a generic getMyDirectory.sjs file for use in other tests as well. r=benjamn/waldo 
Bug 544698 part 1: Move value processing from submission code to elements. Decomtaminate. Kill a few dead functions. r=jst 
Bug 544698 part 2: Reorganize nsFormSubmission.cpp to make it more readable and to avoid having to forward declare functions. No actual code changes. r=jst 
Bug 544698 part 3: Make nsFormSubmission not refcounted. r=jst 
Bug 544698 part 4: Move the creation of the encoder to the nsFormSubmission ctor. Move the call to linkHandler->OnLinkClickSync to the nsHTMLFormElement. r=jst 
Bug 545059: Remove unneeded/non-working bidi.controlstextmode pref. r=smontagu 
Bug 546528 part 1: Break out code to convert body argument to an nsIInputStream out of nsXMLHttpRequest::Send to make the code more readable. r=benjamn 
Bug 546528 part 2: Create nsEncodingFormSubmission to allow nsFormSubmission subclasses to not have an encoder. r=benjamn 
Bug 546528 part 3: Implement FormData. r=benjamn 
Fix license in new files added for bug 546528 
Bug 544372: Reading unitialized memory in nsNodeIterator. Also fix a minor perf issue. r=peterv 
Bug 545404 - Remove parsing-dependent isindex tests from the DOM Level 2 HTML test suite. r=jonas. 
Bug 549098: Work around expected asserts by disabling tests in debug builds. r=dbaron 
Bug 546425, add mozSourceNode to access the source node of the drag, r=jonas,sr=roc 
Fix bug 490790. r=dveditz 
Bug 549743: Abort if cycle collected object is refcounted from threads other than the main thread. Such refcounting will randomly cause leaks and crashes anyway, so better crash up front to make sure developers notice. r=dbaron 
Bug 543870: Implement File.url. r=bz sr=jst 
Bug 534136 Part 1: Make atoms keep a pointer to an nsStringBuffer rather than storing the data inline. r=bsmedberg 
Bug 534136 Part 2: Use 16bit-char buffers inside atoms. r=bz sr=mrbkap 
Bug 534136 Part 3: Optimize atom-using code for the fact that atoms store 16bit strings. Also take advantage of new nsAtomString API. r=bz 
Bug 534136 Part 4: Inline accessors on nsIAtom. r=peterv sr=jst 
Bug 534136 Part 5: Clean up atomtable hash entries. r=jst 
Bug 534136 Part 6: Properly handle invalid UTF8 string being passed to NS_NewAtom/do_GetAtom. r=jst 
Bug 534136 Part 7: Add tests for atoms. r=jst 
Bug 534136 part 4bis: Fix review comments from peterv that should have been in initial patch. 
Bug 551129: Move tests in TestPermanentAtoms.cpp into the new shiny TestAtoms.cpp. Disable tests with known intentional assertions in debug builds. r=jst 
Bug 549591 - Atom staticness checks lack a negation in the HTML5 parser. r=jonas. 
r=jonas. 
follow up from bug 534136, fix build bustage for WinMo debug r=jonas 
Bug 549452: Clean up nsGlobalWindow::SetNewDocument. r=mrbkap sr=jst 
Bug 549539: Send a notification after a new window is created, but before any script inside it has run. r=mrbkap sr=bz 
Bug 549452 followup. Address review comment by renaming function. 
Bug 490665 - Implement HTML5-compliant isindex form submission. r=jonas. 
Bug 546647 - Make test_Microformats_hCard.html not depend on <area> parsing outside <map>. r=jonas. 
Bug 545644 - Regression: HTML 'nbsp' entity is not handled correctly in xHTML mode. r=Olli sr=Jonas 
Fixing bug 550905. Don't use uninitialized values. r=jonas@sicking.cc 
r=jonas. 
Fixing bug 534666. Limit the length of a string in a text fragment. r=jonas@sicking.cc, sr=mrbkap@gmail.com 
Bug 551344 part 2 - Address sicking's review comments in nsHtml5TreeOpExecutor.cpp. r=jonas. 
Bug 551344 part 3 - Address sicking's review comments in nsHtml5StreamParser.cpp. r=jonas. 
fixing bug 558944. Don't do atomic incr/decr in nsNodeInfoManager, which isn't thread-safe anyways. r=jonas@sicking.cc 
Bug 551344 part 1 - Address sicking's review comments in nsHtml5Parser.cpp. r=jonas. 
Bug 551344 part 3 supplement - Rename the getter for the length of list of active formatting elements in the HTML5 parser. r=jonas. 
Bug 551344 part 5 - Address more sicking's review comments in the Java parts of the HTML5 parser. r=jonas. 
Bug 518110: Kill HTMLBaseFontElement interface and HTMLHeadElement.profile. Also merge nsHTMLHeadElement and nsHTMLHtmlElement into nsHTMLSharedElement. r=jst 
Bug 515401: Make implementation of <base> HTML5 compliant, and clean it up. r=benjamn a=dholbert 
Bug 551344 part 4 - Address more review comments from sicking in the C++ parts of the HTML5 parser. r=jonas. 
Bug 551344 part 4.5 - Drop flush timer safely when the cycle collector unlink nsHtml5Parser before nsHtml5StreamParser. r=jonas. 
Bug 551344 part 6 - Address more review comments from sicking in the Java parts of the HTML5 parser. r=jonas. 
Bug 554635, change default tabindex on object elements to 0, so that child documents can be focused, r=jonas 
Bug 562791: Add NS_TIME_FUNCTION and friends to content code. r=jst 
Bug 562635 - Set the initial flush timer delay to equal the subsequent delay. r=jonas. 
Bug 429175: Make sure to only set aNotify to true when we should. r=peterv 
Bug 232691 - replace nsString() nsAutoString() and friends with EmptyC?String(). r=jonas 
Bug 529087: Fix crash involving XBL and cloned XUL elements. r=smaug 
Fix bustage caused by merge problem in patch for bug 529087. 
Bug 563491: Don't run code to set window status while we're inside a script blocker. r=mrbkap 
Bug 564591: Speed up BindToTree/UnbindFromTree by only doing accesskey related work if the accesskey attribute is set. r=smaug 
Bug 564591: Speed up BindToTree/UnbindFromTree by only doing XBL related work when needed. r=smaug 
Bug 564863: Speed up id/name handling by letting elements register/unregister themselves. r=smaug 
Bug 564591: Speed up BindToTree/UnbindFromTree by only doing XBL related work when needed. r=smaug 
Bug 570258: Some more atom usage cleanup. r=jst 
Bug 563514 - Avoid leaking or misplacing attributes on stray <html> and <body> tokens in the innerHTML case. r=jonas. 
Bug 571139 - text-decoration should be an atom even if SVG is disabled. r=jonas 
Fixing bug 572609. Use faster version of GetElementById() from our C++ code. r=jonas@sicking.cc 
Fixing bug 572614. Eliminate double hash lookups in document.getElementById(). r=jonas@sicking.cc 
Fixing bug 572615. Speed up nsXULDocuments ID hanling code. r=jonas@sicking.cc 
Bug 570898 - Defer isindex prompt reading until after startup. r=jonas. 
Implement the mark element. r=jonas+timeless (Bug 485377) 
Fixing bug 572609. Use faster version of GetElementById() from our C++ code. r=jonas@sicking.cc 
Bug 571389 - Make <basefont> and <bgsound> parse like <link>. r=jonas. 
Bug 563526 - Ignore U+0000 in element content when the tree builder is not in the "text" mode or the "in foreign" mode. r=jonas. 
Bug 521764 - Warn to console when speculation fails. r=jonas. 
Bug 573357 - Use the HTMLElement interface for more elements. r=jonas 
Bug 437296, allow tabbing to <input>, <select> and <button> regardless of keyboard access setting, r=jonas 
Bug 578150: Protect against the docshell loosing its document before we've had time to notify on it. r=mrbkap 
Bug 560256 - Ignore document.write() from external scripts when there is no proper insertion point. r=jonas. 
b=578215; crash with canvas getContext; r=jonas 
Fixing bug 580445. Fix loop condition and remove extra null check. r=jonas@sicking.cc 
Fix bug 576447. r=jst 
Bug 579079: Remove elements from name table as appropriate. Test by bz. r=jst 
Bug 555941 - Split HILO_ACCEL out of nsHtml5NamedCharacters. r=jonas, a=benjamin. 
Bug 576447: ^ means bitwise-xor, nothing else. r=dbaron 
Bug 570309 - Experimentally make -- > not terminate a comment in HTML. r=jonas. 
Bug 582228. Speed up getting style attributes. r=bzbarsky@mit.edu, a=dbaron@mozilla.com 
Bug 572688 - Add a DOM API called document.mozSetImageElement for overriding -moz-element ID target elements. r=jonas, r=roc 
Bug 550959: Require version 2.5 of python. r=ted a=sicking 
Bug 546857 Part 1: Fix nsDOMParser to make it useful from xpcshell tests. r=bz a=blocker 
Bug 546857 Part 2: Allow permissions to be set on files. r=dwitte a=blocker 
Bug 546857 Part 3: Make error pages not use xul buttons. r=dao a=blocker 
Bug 546857 Part 4: Make feed reader not use XUL elements directly in feed page. r=mano a=blocker 
Bug 546857 Part 5: Add a default permissions.sqlite to unit test profiles. r=ted a=blocker 
Bug 546857 Part 6: Disable XUL for pages, unless user specifically opts in for domain. r=jst a=blocker 
Back out bug 546857 Part 6 due to talos failures. a=backout 
Backout 2d6ead22831c (bug 588977) due to orange. a=backout 
Backout bugs 586754, 574189, 584611 due to orange. a=backout 
Fix missing comments from patch for bug 546857 
Bug 546857 Part 4b: Fix some errors in previous patch to not use XUL on error pages. r=dao a=blocker 
Fix missing comments from patch for bug 546857 
Bug 546857 Part 4b: Fix some errors in previous patch to not use XUL on error pages. r=dao a=blocker 
Bug 546857 Part 6: Disable XUL for pages, unless user specifically opts in for domain. r=jst a=blocker 
Bug 546857 Part 7: Allow system-principal-XHR loaded documents to use XUL. r=jst a=blocker 
Bug 590812: Fix XML pretty printing. r=mrbkap a=blocker 
Bug 590870: Don't crash when attempt to create XUL element through DOM is denied. r=jst a=blocker 
Bug 579764: Send out notification when the document-element for a document has been created and inserted into the DOM. r=jst a=blocker 
Bug 591969: Fix feed reader UI in aero. r=gavin a=blocker 

Bug 591969: Fix feed reader UI in aero. r=gavin a=blocker Bug 568188: Reduce refcounting by making the id-table hold weak referenes. r=smaug a=jst 
Bug 582176: Only send content-document-global-created (and its chrome counter part) when a new window was actually created. Not when we fast-backed to one. r=jst a=blocker 
Bug 590870: Allow mochitest domains that don't support XUL/XBL. r=ted a=test-only 
Test for bug 590870. r=jst a=test-only 
Test for bug 590812. r=jst a=test-only 
Bug 592827 - Implement DOMImplementation.createHTMLDocument; r=jonas approval2.0=jonas 
Bug 591198 - Don't make elements disappear if XBL bindings fail due to security restrictions. r=jst a2.0=blocking 
Bug 591330 - Make deep nesting prevention code in the HTML5 parser not crash when there are speculations involved. r=jonas, a=blocking2.0-betaN. 
Bug 596385: Update FormData to latest spec. r=jst a=blocker 
Bug 596385: Update syntax for getting an url for a File to latest spec. r=jst a=blocker 
Bug 591198: Display element using normal layout rules if XBL binding fails for security reasons. r=jst a=blocker 
Bug 391177: XSLT should reuse the existing inner window in order to help debuggers and the like. r=jst a=blocker CLOSED TREE 
Bug 587931: Implement document.currentScript and beforescriptexecute/afterscriptexecute events. r=mrbkap a=sicking 
Fixing bug 61098. Give users a way out of inifinite modal dialog loops. Original patch by Nochum Sossonko. r=jonas@sicking.cc a=beta7+ 
Bug 591981 - Make script-inserted inline scripts run right away, make script-inserted external scripts behave like async scripts and make document.write writing an inline script return at a predictable time. r=jonas, a=blocking2.0-beta7. 
Bug 531056 - Make the HTML5 parser unaware of <spacer>. r=jonas, a=jst. 
Bug 596385: Remove File.url since the spec now uses a different syntax. r=jst a=blocker 
Bug 587931: Don't fire error if a <script> is canceled. r=mrbkap a=jst 
Bug 569528 - Make <p> not close implicitly across a <button> on stack. rs=jonas, a=blocking2.0-final. 
Bug 590495 - Check for foreign elements in scope after processing a foreign end tag without forwarding to the secondary insertion mode. rs=jonas, a=blocking2.0-betaN. 
Bug 590498 - Change popping condition when forcibly breaking out of foreign content in HTML5 parser. rs=jonas, a=blocking2.0-betaN. 
Back out bug 591981 to see if it caused a performance regression. a=backout 
r=jonas a=(test only). 
Bug 592829: Don't crash if we fail to create an element during XML parsing. r=jst a=beta7blocker 
Back out bug 592829 due to crash. a=backout 
Back out bug 591981 since it causes bug 599583. a=backout 
Bug 591981 - Make script-inserted inline scripts run right away, make script-inserted external scripts behave like async scripts and make document.write writing an inline script return at a predictable time. r=jonas, a=blocking2.0-beta7. 
Bug 597301: Update CORS to latest spec. r=jst a=blocker 
Bug 597301: Add support for access-control-expose-headers. r=jst a=blocker 
Bug 592829: Make parsing code able to deal with element creation failing. r=jst/peterv a=blocker 
Bug 580091 - Make the HTML5 parser reconstruct formatting elements properly when text inside table gets foster-parented. rs=jonas, a=blocking2.0-betaN. 
Bug 595643 - Make space characters reconstruct active formatting elements when frameset-ok is OK. rs=jonas, a=blocking2.0-betaN. 
Bug 595797 - Add the attributes of an <html> start tag to the root element if the <html> tag is seen after a frameset. rs=jonas, a=blocking2.0-betaN. 
Bug 595844 - Check the namespace of the current element on the tree builder stack when deciding whether to support CDATA sections in text/html. rs=jonas, a=blocking2.0-betaN. 
Bug 599300: Make FileReader work correctly for empty files. r=smaug a=blocker 
Bug 600809: Make HTMLBaseElement.href work properly. r=smaug a=blocker 
Bug 566629: Make XSLT and XPath code use the correct casing for name() function for (X)HTML elements. r=hsivonen a=blocker 
Null-check to fix crash.  b=601543 r+a=jonas 
Bug 596180 - Limit the number of iterations in the adoption agency algorithm. rs=jonas, a=blocking2.0-betaN. 
Bug 575946: Implement File.slice. r=khuey sr=biesi a=beltzner 
Bug 575946: Implement File.slice. r=khuey sr=biesi a=beltzner 
Followup for bug 575946. Enable all the tests on windows by using a different way of testing that the full file was written. a=NPOTB 
Bug 597368 - Make nsScriptLoader use nsRefPtr/nsTArray for holding nsScriptLoadRequest. r=jonas, a=jst. 
Bug 601604 - Emit ]] or ] when ]]EOF or ]EOF appears in a CDATA section in text/html. rs=jonas, a=jst. 
Bug 596168 - Make non-space characters in the "in foreign content" insertion mode set frameset-ok to not OK. rs=jonas, a=jst. 
Bug 482921 part 0 - Make preparations for enabling transition reporting in the HTML5 tokenizer. rs=jonas, a=jst. 
Followup fix to test for bug 586763. a=orange 
Bug 570309 - Remove the dead code for the "comment end space" state. rs=jonas, a=blocking2.0-betaN. 
Bug 594339 - Create a FromParser enum. r=hsivonen, sr=bzbarsky, a=jonas. 
Bug 604660 - Make XSLT-inserted script execute in the insertion order. r=jonas, a=blocking2.0-beta7. 
Bug 569629 - Modify Double::NaN,POSITIVE_INFINITY,NEGATIVE_INFINITY to avoid static initializers. r=jonas,a=bsmedberg 
Bug 575647 - [e10s] Move FlushLayoutForTree to nsContentUtils r=jonas, a=approval2.0 
Bug 596169 - Make <summary> and <figcaption> behave per spec. Remove <datagrid>. rs=jonas, a=blocking2.0-betaN. 
Bug 602838 part 1 - Execute in insertion order script-inserted external scripts that have the async DOM attribute reporting false. r=jonas, a=blocking2.0-beta8. 
Bug 602838 part 2 - Make script-created scripts (incl. scripts that have lost their parser-insertedness) default to .async=true. r=jonas, a=blocking2.0-beta8. 
Bug 592656 part 1 - Use the current parser-inserted script as the insertion point key. r=jonas, a=blocking2.0-final. 
Bug 605466 - Implement new spec-based limits for formatting element proliferation in the HTML5 parsing algorithm. rs=jonas, a=blocking2.0-betaN. 
Bug 599588 - Make scripts created by createContextualFragment() executable. r=jonas, a=blocking2.0-final. 
Bug 599588 addendum - Revert change to nsIParser and introduce a new abstract class instead to avoid changing the interface during an interface freeze. r=jonas, a=blocking2.0-final. 
[Bug 605370] Add Pref to disable desktop notifications r=jonas a=approval2.0 
Bug 607573 - Make <input type=hidden> not set frameset-ok to "not ok". r=jonas, a=blocking2.0-betaN. 
Bug 543062 - When document.write() blocks, pre-parse the tail of the buffer for speculative loads. r=jonas, a=blocking2.0-beta8. 
Bug 606729 - Make sure a script with the src attribute is treated as an external script even if the value of the attribute is not a valid URL. r=jonas, a=blocking2.0-final. 
Fix build error when building with --enable-functiontimer. b=613589 r=mwu a=build bustage fix 
Bug 448611: Use proper escaping in form submission names and values. Also treat textareas with an empty name the way that IE handles them and don't submit them. r=smaug a=blocker 
Bug 609030: Update createBlobURL/revokeBlobURL to it's final name. r=jst a=blocker 
Bug 595397: Add a pref to enable XUL and XBL for file:. r=dveditz a=blocker 
Bug 608669: Make chrome-document-global-created be properly dispatched on newly opened windows. r=jst a=blocker 
Bug 610345 - Add MathML named characters that expand to two code points to the HTML5 parser. rs=jonas, a=blocking2.0-betaN. 
Bug 605019: Evict entries in the bfcache if they are holding open a database which is being upgraded. r=bent/smaug a=blocker 
Bug 605019: Evict entries in the bfcache if they are holding open a database which is being upgraded. r=bent/smaug a=blocker 
Bug 594730 - Make the content attribute in <meta> act as an encoding declaration only if http-equiv="Content-Type" is present. rs=jonas, a=blocking2.0-betaN. 
Bug 592366 - Do not execute scripts whose owner doc is not the doc of the inserter parser or not the owner doc at the time of starting the script load. r=jonas, a=blocking2.0-betaN. 
Bug 612529 part 1 - Pack the dispatch group and the flags of an element into one 32-bit bitfield. r=jonas, a=blocking2.0-betaN. 
Bug 612529 part 2 - Rework how scopingness and specialness is handled in stack nodes; refresh the set of scoping elements to spec. rs=jonas, a=blocking2.0-betaN. 
Bug 612529 part 3 - Make <annotation-xml> an HTML integration point depending on the encoding attribute. rs=jonas, a=blocking2.0-betaN. 
Bug 606925 - Get rid of the "in foreign content" insertion mode. Check the namespace of the current node instead. rs=jonas, a=blocking2.0-betaN. 
Bug 612527 - Implement spec tweaks to U+0000 handling in the HTML5 parser. rs=jonas, a=blocking2.0-betaN. 
Bug 612528 - Make <option> and <optgroup> imply </option> in the "in body" insertion mode only if the current node is "option". rs=jonas, a=blocking2.0-betaN. 
Bug 614241 - Make a late <body> start tag set frameset-ok to "not ok". rs=jonas, a=blocking2.0-betaN. 
Bug 602115: Fix XSLT error handling bugs. r=peterv a=blocker 
Bug 603667: Fix nsIDOMFileError constant values. r=jst a=blocker 
bustage fix a=red 
Bug 614583: Bail earlier when attempting to SetAttr when we don't have room for more attributes to avoid caching flags and attributes to get out of sync. r=jst a=blocker 
r=jonas a=(test only). 
Bug 607860 - remove navigator.mozNotification from Firefox desktop. r=jst/jonas a=betaN+ 
rs=jonas a=(test only). 
Bug 623447 - ASSERTION: AreDialogsBlocked() called without a top window, r=jst a=jonas 
Bug 610823: Change a few users that use nsTArrays as buffers to explicitly use fallible tarray. r=jdaggett a=blocker 
Bug 594478 - IndexedDB needs to be hooked up with "Forget about this site"; r=jonas,bent a=blocking-final+ 
Bug 490916 - Trim space characters from encoding names in the HTML5 parser. r=jonas, a=jst. 
Bug 466080 - test for Make more things honor the LOAD_ANONYMOUS flag, r=jonas, a=test-only-change 
r=Olli.Pettay a-2.0=jonas. 
Bug 618590 Part 1: Change Abort() so that it's possible to abort from outside of transaction callbacks. r=bent a=blocker 
Bug 618590 Part 2: Don't put a document in bfcache if there are running transactions in it. r=bent a=blocker 
Bug 618590 Part 3: When a page is destroyed, abort any running indexedDB transactions. r=bent a=blocker 
r=jonas a=(test only). 
Disallow content access to chrome functions without  __exposedProps__ (bug 628410, r=gal). 
Tests for bug 594999 (r=mrbkap). 
Fixing bug 604262. Fix crash in nsImageLoadingContent::OnStartDecode(). r=jonas@sicking.cc, a=blocker 
Fix orange from bug 630117. a=bustage 
Backed out changesets 808970eca6d5 and 84c8b33619e0 due to continued orange. a=bustage 
Bug 587928 - Disable support for <meta http-equiv="Link">; r,a=jst 
Bug 587928 - Disable support for <meta http-equiv="Link">; r,a=jst 
Bug 583889: Prevent scrolling from leaking information. r=dbaron a=blocker 
Bug 629982: Attempt to fix crashes due to too deep DOM trees by making GetBaseURI non-recursive. r=jst a=blocker 
Bug 633414: Update cursor properties to latest spec. r=bent a=jst 
Bug 634435: Add a property to expose the current pushState-state. r=jlebar a=beltzner 
Bug 635844 part 1: Back out bug 615501 since we'll no longer fire the "initial popstate" event, and thus don't need a way to differentiate it. r=jlebar a=beltzner 
Bug 635844 part 2: Update pushState to latest agreed behavior. r=jlebar a=beltzner/jst 
Bug 635844 part 3: Update extension manager and tests to new pushState behavior. r=mossop. Includes parts by mossop which are r=me. a=jst 
Bug 637214: Add scriptblockers around all callers of AddToIdTable/RemoveFromIdTable. r=bz a=blocker 
Bug 637214 the continuing saga.  Add removable script blockers in a few more places, create an auto helper for that.  r=bzbarsky, a=blocker 
Bug 637214.  Restore our nice asserts.  r=bzbarsky, a=blocker 
r=jonas (a=test-only). 
Bug 641706: Make SpecialPowers able to create a XHR object with full system powers. r=smaug 
Bug 585933 - Only implement HTMLUnknownElement on unknown elements; r=jonas,smaug 
Bug 644476 Part 1: Remove nsIXMLHttpRequest.openRequest now that it's equivalent to nsIXMLHttpRequest.open. r=smaug 
Bug 644476 Part 2: Move CORS code from nsXMLHttpRequest.cpp/h to nsCrossSiteListenerProxy.cpp/h. r=smaug 
Bug 644476: Rename classes/functions/variables to use "CORS" rather than "Access Control" or "Cross site" where appropriate. r=smaug 
Bug 461066: Test for loadend firing correctly in CORS tests. r=smaug 
Bug 643395 - Update the HTML parser Java code to the state in the htmlparser repo (NPOTB). rs=jonas. 
Bug 643410 - Reconstruct active formatting elements on text in an HTML integration point; handle U+0000 per spec in a MathML text integration point. r=jonas. 
Bug 642145 - Avoid firing document-element-inserted for non-element insertions to the document node. r=jonas. 
Bug 616742 - Implement console.debug() (was: Navigation broken on Citytv website); r=ddahl,jonas 
Bug 616742 - Implement console.debug() (was: Navigation broken on Citytv website); followup testfix. r=ddahl,jonas, a=orange 
Bug 640339: Make generate-id() generate safer ids. r=peterv 
Bug 645281: Don't assert if a CORS preflight response contains data. r=bz 
Bug 649672: Make File.slice arguments match Array.slice and prefix File.slice. r=khuey 
Bug 585877 - Remove support for document.width and document.height; r=jonas sr=jst
Bug 588990 - Part 1: Add a SpecialPowers.gc() API; r=ehsan 
Bug 588990: Remove lazy hashing of names to avoid walking full DOM. r=bz 
Add back file accidentally removed 
Bug 585956 - Implement console.trace() in web console; f=ddahl r=rcampbell,jonas 
Bug 651598: Make test_bug288392.html report better errors. r=smaug 
Bug 650493 tests. rs=smaug 
Bug 650493 Part 1: Simplify mutation events by firing all but DOMNodeRemoved off of script runners, and DOMNodeRemoved before starting any update batches or aquiring any state. r=smaug/peterv 
Bug 650493 Part 2: Simplify userdata by firing adoption handlers off of scriptrunners. r=smaug/peterv 
Bug 650493 Part 3: Back out patch from bug 645572 as we should now always end up with correct update counts. r=ehsan 
Bug 643786. Don't fire DOMNodeRemoved when removing the editor created <br>. r=ehsan 
Bug 655514 - Remove nsIDOMDocumentTraversal; f=ehsan r=jonas 
Fix orange from botched merge 
Back out another suspect just in case. CLOSED TREE. a=orange 
Add a test for bug 644069.  r=bzbarsky 
back out probably cause of orange. a=backout 
Bug 641333: Kill nsIDOM3Text and move its contents to nsIDOMText. r=ms2ger 
Bug 659530: Clean up and remove unused code that we no longer need with the safer mutation events implementation. r=smaug 
Bug 587463 - Drop support for HTMLDelElement and HTMLInsElement; r=jonas 
Bug 659315 - move content/base/test/*.xul to mochitest-chrome. r=jonas, a=test-only 
Bug 663749: Remove load-event-listening code from nsXMLHttpRequest. r=smaug 
Bug 659053 Part 1: Merge nsIDOM3Node into nsIDOMNode. Also removes Node.getFeature. r=peterv 
Bug 659053 Part 2: Implement a faster non-recursive Node.isEqualNode directly on nsINode. r=peterv 
Bug 659539 Part 1: Give nsINodeInfos a nodeType, nodeName and localName. r=bz 
Bug 659539 Part 2: Create nsINode::NodeType/NodeName/LocalName and make them non-virtual. r=bz 
Bug 659539 Part 3: Use nsINode::NodeName where possible. Remove the now unused mQualifiedNameCorrectedCase. r=bz,peterv 
Bug 659539 Part 4: Use nsINode::NodeType where possible. r=bz 
Bug 663752: Remove load-event-listening code from DOMParser. r=smaug 
Bug 659053 Part 1: Merge nsIDOM3Node into nsIDOMNode. Also removes Node.getFeature. r=peterv 
Bug 659053 Part 2: Implement a faster non-recursive Node.isEqualNode directly on nsINode. r=peterv. Fixes were r=bent 
Bug 659539 Part 1: Give nsINodeInfos a nodeType, nodeName and localName. r=bz 
Bug 659539 Part 2: Create nsINode::NodeType/NodeName/LocalName and make them non-virtual. r=bz 
Bug 659539 Part 3: Use nsINode::NodeName where possible. Remove the now unused mQualifiedNameCorrectedCase. r=bz,peterv 
Bug 659539 Part 4: Use nsINode::NodeType where possible. r=bz 
Bug 659539 Part 5: Speed up nsINodeInfo::GetDocument by caching the nodeinfo managers mDocument pointer. r=bz 
Bug 661980: Add ability to make interfaces scriptable but not scriptimplementable. r=bsmedberg 
Back out bug 661980 due to orange. CLOSED TREE 
Bug 663768 Part 1: Make syncloadservice not use load-event-handlers to determine when load is done. r=jst 
Bug 663768 Part 2: Remove syncload XPCOM service. r=jst 
Bug 665596: Get rid of loadlistenerproxy as it's no longer used. r=jst 
Bug 661980: Add ability to make interfaces scriptable but not scriptimplementable. r=bsmedberg 
Bug 664932: Make update unit tests not implement nsIXMLHttpRequestEventTarget in script. r=rstrong 
Bug 661984: Add [nostdcall] as an extended idl attribute. r=bsmedberg 
Bug 658714 Part 1: Merge nsPIDOMEventTarget into nsIDOMEventTarget. r=smaug,bent 
Bug 658714 Part 2: Merge nsIDOMNSEventTarget into nsIDOMEventTarget. r=smaug 
Bug 658714 Part 3: Move nsIDOMEventTarget implementation to nsINode. r=smaug 
Bug 658714 Part 4: Get function signatures correct to make things build on windows. r=smaug 
Bug 658714 Part 5: Search'n'replace nsPIDOMEventTarget to nsIDOMEventTarget. r=smaug 
Bug 658714 Part 6: Fixups after search'n'replace s/nsPIDOMEventTarget/nsIDOMEventTarget/. r=smaug 
Bug 658714 Part 7: DeCOMtaminate nsEventListenerManager. r=smaug 
Bug 658714 Part 8: Improve the nsEventListenerManager API. r=smaug 
Bug 658714 Part 9: Don't use EventGroups for system-group. r=smaug 
Bug 658714 Part 10: Remove nsIDOM3EventTarget/nsIDOMEventGroup. r=smaug 
Bug 663879: Kill AddEventListenerByIID/RemoveEventListenerByIID from extensions. r=smaug 
Backed out changeset 967b254211be. This was the wrong patch and probably won't compile. 
Bug 665609: Remove Add/RemoveEventListenerByIID from nsTextEditorState. r=jst 
Bug 427990 Gecko part - Make XLink href work on MathML element. r=jonas. 
Bug 664919: Rewrite Node.normalize such that it's non-recursive and more resilient to mutation even weirdness. r=bz 
Bug 665599: Remove AddRemoveEventListenerByIID from nsXBLWindowKeyHandler. r=jst 
Bug 665599: Remove Add/RemoveEventListenerByIID from nsXBLStreamListener. r=jst 
Bug 663461 Part 1: Remove Add/RemoveEventListenerByIID from editor. r=smaug 
Bug 665632: Remove Add/RemoveEventListenerByIID from satchel. r=dolske 
Bug 665609: Remove Add/RemoveEventListenerByIID API usage from nsXULPopupListener. r=smaug. Also r=ms2ger on killing NS_NewXULPopupListener. 
Bug 664058: Remove Add/RemoveEventListenerByIID from nsImageMap and nsSliderFrame. r=smaug 
Bug 664058: Remove Add/RemoveEventListenerByIID from nsSplitterFrame. r=smaug 
Bug 664058: Remove Add/RemoveEventListenerByIID from mathml code. r=smaug 
Bug 664058: Remove Add/RemoveEventListenerByIID from nsDocumentViewer. r=smaug 
Bug 663879: Kill AddEventListenerByIID/RemoveEventListenerByIID from extensions. r=smaug 
Bug 663461 Part 2: Remove Add/RemoveEventListenerByIID from embedding. r=smaug 
Bug 649150: Make sure that all blobs and files sent using FormData have a filename in the encoded submission. r=mounir 
Bug 664058: Remove Add/RemoveEventListenerByIID from nsListControlFrame. r=smaug 
Bug 664058: Remove Add/RemoveEventListenerByIID from nsComboboxControlFrame. r=smaug 
Bug 664058: Remove Add/RemoveEventListenerByIID from nsXULPopupManager. r=smaug 
Bug 664058: Remove AddEventListenerByIID/RemoveEventListenerByIID from nsFileControlFrame. r=smaug 
Bustage fix for bug 664058 
Bug 647603: a.replaceChild(b, b) does not remove and re-insert the affected node. r=bz 
Bug 664058: Remove Add/RemoveEventListenerByIID from nsXULTooltipListener. r=smaug 
Bug 664058: Remove Add/RemoveEventListenerByIID from nsMenuBarListener. r=smaug 
Bug 663728, use ids of nodes in xml datasources, r=jonas 
Bug 669433 Part 1: Clean up File implementations by creating a storage-agnostic base class, nsDOMFileBase. r=khuey 
Bug 669433 Part 2: Clean up File implementations. Move functions around such that they are grouped with their respective class. No other changes. r=khuey 
Bug 669433 Part 3: Make first argument to Blob.slice optional and defaulting to 0. r=khuey 
Bug 669437: Implement BlobBuilder.getFile. r=khuey 
Bug 664061: Remove isindex code from layout. r=dbaron 
Bug 672055 - Use nsCharSeparatedTokenizer to parse number-optional-number attributes. r=dholbert sr=jonas 
Bug 665586 Part 1: Kill AddEventListenerByIID/RemoveEventListenerByIID code from nsPluginInstanceOwner. r=josh 
Bug 665586 Part 2: Kill AddEventListenerByIID/RemoveEventListenerByIID code from nsPluginDOMContextMenuListener. r=josh 
Bug 661297 Part 1: Remove Add/RemoveEventListenerByIID API. r=smaug 
Bug 661297 Part 2: Remove supporting code no longer needed once all event listeners are registered using a event name. r=smaug 
Bug 667612: Make addEventListener not throw if passed a null listener. r=smaug 
Bug 678209 - Fix c++0x initializer list error found by clang. r=jonas
Bug 681870: Properly ensure that only one window opens indexedDB prompts. r=bent 
Bug 657389 - nsHtml5MetaScanner should use PR_INT32_MAX instead of -1 as a special marker value for indeces. r=jonas. 
Bug 684927 - unchecked null pointer in nsMenuBarListener::KeyUp; r=smaug 
Bug 687087 part 1: Always fire a "progress" event before onload if we've received data since the last progress event. Also ensure that event..loaded on progress events have the correct value for all response-types. r=smaug 
Bug 687087 part 2: Clean up how we handle text decoding so that we don't re-charset-decode unless really needed. r=smaug 
Bug 687087 part 3. Implement XHR.responseType="moz-chunked-text" and XHR.responseType="moz-chunked-arraybuffer". r=smaug on code changes, rs=smaug on tests. 
Bug 687400 - Adds a warning about isSameNode going to be removed. r=smaug 
Bug 687400 - Adds a warning about isSameNode going to be removed. r=smaug 
Bug 673820 - Rewriting StringToInteger function to match behavior of Rules for parsing Integers specified in spec. r=jonas f=mounir,Ms2ger,dbaron 
Backout revision 379147b5215f due to video controls not showing when viewing standalone videos (bug 689106). r=jonas 
Bug 689008: Part 1 - Skip reading already cached or local resource for blob response; r=jonas 
Bug 689008: Part 3 - Tests; r=jonas 
Bug 697689 - Fix XHR brokenness, the optimization violated a nsIStreamLisetner contract; r=jonas 
Bug 687400: Kill Node.isSameNode. r=smaug 
Bug 694135: Don't throw if there are unknown properties in the options objects to createObjectStore/createIndex. r=bent 
Bug 692674: Set the errorCode to "ABORT_ERR" for all pending requests when a transaction is aborted, even ones that failed for other reasons. r=bent 
Bug 692659: Fix sort order for PREV cursors on indexes. r=bent 
Bug 687220: Add test for event handlers on the xhr.upload object in workers. r=bent 
Bug 699134, block Roboform <= ver 7.6.1, r=jonas a=akeybl CLOSED TREE 
Bug 706659 part 1: Make complex keypaths ignore index rather than throwing in all situations if it can't get key for index. r=bent 
Bug 706659 part 2: Support empty keypaths on objectStores. r=bent 
Bug 692630: Support multi-entry indexes. r=bent 
Bug 706762: Ensure that object stores and indexes are removed from caches when they are deleted. r=bent 
Bug 706068: Make complex keys work on auto-increment object stores. Patch by khuey and sicking. r=sicking on parts by khuey and r=bent on parts by sicking. 
Backed out changeset 127374ca4f92 due to test failures. 
Back out patches due to test failures. rev 1b9ca56d4aab and a few more. 
Bug 706659 part 1: Make complex keypaths ignore index rather than throwing in all situations if it can't get key for index. r=bent 
Bug 706659 part 2: Support empty keypaths on objectStores. r=bent 
Bug 692630: Support multi-entry indexes. r=bent 
Bug 706762: Ensure that object stores and indexes are removed from caches when they are deleted. r=bent 
Bug 706068: Make complex keys work on auto-increment object stores. Patch by khuey and sicking. r=sicking on parts by khuey and r=bent on parts by sicking. 
Bug 706088 part 2: Add tests for all combinations of add/put/keypath/autoincrement/explicit keys etc. r=khuey 
Tests for Bug 706088. r=khuey. Also removes a now-obsolete test. r=bent. a=khuey 
Bug 701772: Manage autoIncrement for objectStores ourselves in order to simplify the code, make ai-keys unique per objectStore and not per database, and allow ai-objectStores to contain non-integer keys. r=bent 
Back out fb4d12d2a2da, bug 701772, due to leaks. 
Bug 701772: Manage autoIncrement for objectStores ourselves in order to simplify the code, make ai-keys unique per objectStore and not per database, and allow ai-objectStores to contain non-integer keys. r=bent 
Bug 692614: Support all spec'ed key-types, including Arrays. Patch by Jan Varga and me. r=janv/bent/me 
Bug 694138: Support an array of strings as keyPath on objectStores and indexes. r=janv/bent 
Bug 686514 - Make ctrl-plus and ctrl-minus scale image documents. r=gavin.sharp,jonas 
Bug 702466: Make sure we actually abort if we end up with unbalanced stacks. r=dbaron 
Bug 696586 - Part 1: Split nsDOMBlobBuilder.h from nsDOMBlobBuilder.cpp; r=jonas 
Bug 696586 - Part 2: Add moz-blob response type and ability to access to the blob in progress events. r=jonas 
Bug 696586 - Part 3: Tests; r=jonas 
Bug 694754 - Accessing DOM Document methods lookupPrefix, lookupNamespaceURI and isDefaultNamespace through XPCOM and quickstubs should create equal results. r=jonas 
Bug 722962 - Avoid a race condition; r=jonas 
Bug 707382, merge nsIDOMDataTransfer and nsIDOMNSDataTransfer, r=jonas 
Bug 727530 - XHR for data URIs should support content-type header field; r=jonas 
Bug 722626: Implement DOMRequest object. r=mrbkap 
Bug 674720 - WebContacts (or Contacts+). r=fabrice, jonas, bent, tantek 
Bug 733730. (Av1) file_bug594730-4.html: s/is_not()/isnot()/. r=jonas. 
Bug 735094: Implement new string values (rather than numeric constants) for IndexedDB. r=bent 
Bug 735357: Fix Contacts API to use new IndexedDB constants. r=gwagner 
Bug 736686 - Part 2: Implement Blob constructor in Worker. r=jonas, bent 
Bug 301705: Don't throw when XMLHttpRequest.status is gotten too early. r=bz 
Bug 652635 - Fallback missing @longdesc to aria-describedby pointing to <a href>, r=surkov, jonas 
Bug 612391 - Convert CSP violation reporting from XHR to nsIUploadChannel. r=jonas 
Bug 702369 - ensure that web app install caches them into app cache on B2G [r=jonas,vingtetun] 
Bug 743888 - Part 1: Remove SVGException and XPathException. r=jonas 
Bug 702369 - ensure that web app install caches them into app cache on B2G [r=jonas,vingtetun,felipe] 
Bug 755514: Cursor.update support for keypath arrays. r=khuey 
Attempt at fixing orange due to setting wrong permission in test. Bug 758357 
Back out part of the landing for bug 758357 due to risk of it introducing oranges 
Bug 755245 - Implement System Message Handler : Part 1, IDL [sr=jonas,r=mounir,khuey] 
Bug 749551 - Alarm API (Idl and dummy Dom). r=mounir sr=jonas 
Bug 749551 - Alarm API (Idl and dummy Dom). r=mounir sr=jonas 
Bug 774029 - Remove extra ;. r=jonas. 
Bug 774585: Make about: redirectors reset channel owner to null rather than set an explicit principal so that we'll go through the normal code paths in GetChannelPrincipal. r=bz 
Bug 774585: Remove unused argument in nsScriptSecurityManager. r=mrbkap 
Bug 769594: Make nsObjectLoadingContent use TestPermissionFromPrincipal. r=mounir 
Back out 44f8cae1dcf0, part of bug 769594, due to orange 
Bug 774585 - Add GetDocShellCodebasePrincipal to nsIScriptSecurityManager. r=mounir 
Bug 774585 - Make GetChannelPrincipal get the correct app principal. r=mounir 
Bug 774585: Fix session storage to take app principals into account. r=mounir 
Bug 774585: Fix xpc-sandbox creation code to create the correct principals. r=mrbkap 
Bug 774585: Fix browser code and tests to be aware of app principals. r=mounir 
Bug 774585: Rename getCodebasePrincipal to getSimpleCodebasePrincipal since the behavior has semantically changed. r=mounir 
Bug 769594: Make nsObjectLoadingContent use principals when calling into permission manager. r=josh 
Bug 730925 - XHR.getAllResponseHeaders should use CRLF, not LF per spec, r=jst, r=jonas, f=ms2ger 
Bug 769880: Make createIndex throw InvalidAccessError instead of NotSupportedError. r=khuey 
Bug 689328: Try to fix intermittent orange in test_xhr_progressevent.html by waiting until "close" requests finish before starting next request. r=khuey 
Bug 783426 - Async firing for FireSuccess/Error on DOMRequest; r=jonas r=khuey 
Bug 722962 - Avoid a race condition; r=jonas 
Bug 776416 - Remove exceptions to 5MB quota rule in localStorage. r=honzab 
Bug 781866 - Clear up and simplify some names in localStorage code. r=honzab 
Bug 779500 - WebFM, r=jlebar,glandium sr=jonas 
Bug 779500 - WebFM, r=jlebar,glandium sr=jonas 
Bug 773373 part 1: Remove some dead code. r=honzab 
Bug 773373 part 2: Use principals instead of URIs when calculating scopes. r=honzab 
Bug 784893 - Rename the event's .socket attribute to .target; remove "on" prefix from event names. r=jonas 
Bug 786009: Give about:feeds pages the rigth principal so that they work even when the user has disabled JS. r=bz 
Bug 786688 - Part 1: Add chrome only openForPrincipal() and deleteForPrincipal(). r=bent 
Bug 806587: Restore getCodebasePrincipal since extensions use it. r=mounir 
Bug 725993 - Remove usage of STORE_ON_DISK flag in XHR code, r=jonas 
Bug 804671 - Part 1: IDL for PROVIDE_LOCAL_INFO. r=allstars.chh. sr=jonas 
Bug 825195 - Update method signatures of TextDecoder and TextEncoder per the latest spec. r=jonas 
Bug 715809 - AppCache should accept manifests served with non-standard mime types, r=jonas 
Bug 826166 - Remove an ability to set higher JS versions via language attribute. r=jonas 
Bug 830665 - Use the latest JS version by default in XUL. r=jonas 
Bug 828307 - Part 1: IDL change. r=vyang. sr=jonas 
Bug 847820 - Part 1: IDL for exporting contact to SIM. r=allstars.chh. sr=jonas 
Bug 849103 - Enable IonMonkey on b2g. r=jonas sr=dvander 
Bug 881142 - Part 1: Remove call state busy (idl). r=hsinyi, sr=jonas 
Bug 892488 - Get rid of the offline application cache prompt, r=ehsan+jonas 
Bug 892488 - Get rid of the offline application cache prompt, r=ehsan+jonas 
DONTBUILD (NPOTB) 
Bug 902587 - Part 1: Refactor IO Interposer with filename support. r=aklotz 
Bug 902587 - Fix missing destructor in IOInterposer.cpp ifndef MOZ_ENABLE_PROFILER_SPS. r=aklotz 
Bug 888534: Add support for Create, Stat and Close operations to IOInterposer. r=jonasfj 
Bug 887699 - Part 1: IDL definition. r=jonas, r=hsinyi 
Bug 887699 - Part 1/4 IDL definition. r=jonas,hsinyi 
Bug 902587 - Part 2A: Refactor late-write-checks as client of IO Interposer r=BenWa 
Bug 927196 - Check more stuff in XHR. r=jonas 
Bug 902587 - Part 2A: Refactor late-write-checks as client of IO Interposer. r=BenWa 
Bug 936336 - Remove unused private member variable MacIOAutoObservation::mFd. r=jonasfj 
Bug 937201 - Fix Windows builds without MOZ_ENABLE_PROFILER_SPS. r=BenWa 
Bug 854753 - [B2G][Audio] Implement SpeakerManager API. r=amarchesini, sr=jonas 
Bug 892148 - Make DTLS fingerprint accessible from JS r=abr 
Bug 927196 - Check more stuff in XHR. r=jonas 
Bug 858005 - Part 1: IDL definition. r=jonas 
Bug 888534: Add missing operations to IOInterposer::Unregister; r=jonasfj 
Bug 910412 - WebIDL and DOM binding for filesystem API. r=baku, r=smaug, f=dhylands, f=jonas 
Bug 910412 - WebIDL and DOM binding for filesystem API. r=baku, r=smaug, f=dhylands, f=jonas 
Bug 951976 - Part 0: WebIDL definition. r=ehsan, r=jonas 
Bug 951976 - part 0, WebIDL definition. r=ehsan, sr=jonas 
Bug 1026556 - Stk Timer Management Proactive Command error conditions not supported, r=htsai, sr=jonas 

Backed out changeset b79cddbe7de8 (bug 1142669) for causing bug 1112947 to spike. Bug 1147977 - Add additional timeouts and retries to curl downloads in tc-vcs r=jonasfj 

Bug 1112947 - Replace a setTimeout with an EventListener to fix an intermittent failure in browser/extensions/pdfjs/test/browser_pdfjs_navigation.js. r=mossopThis patch also fixes three small typos in the code. Two of them are trivial spelling errors, while the third one concerns the removal of an EventListener in the function |setZoomToPageFit|. 
Bug 1159669 - Switch all production jobs to aws-provisioner-v1 r=jonasfj a=tomcat 
Bug 1170378: Create tasks timestamps in UTC. r=jonasfj a=jonasfj 
Bug 1133074 - Add routes.json for taskcluster indexing; r=jonasfj 
Bug 1132574 - Use per branch cache for b2g and mulet builders r=jonasfj 
Bug 1200688: Support --interactive command line option r=jonasfj
Bug 1211751:  Remove nsIChannelEventSink-forwarding from EventSource and FetchDriver. It's never needed. r=smaug 
Bug 1211000: Move CORS preflight logic from nsCORSListenerProxy to nsCORSPreflightListener. r=ehsan 
Bug 1214760 - prevent multiple tasks from using the same route in the gecko.v2 namespace; r=jonasfj 
Bug 1182571: Fix nsILoadInfo->GetContentPolicyType API to be less ambigious. Audit and fix all users of it. r=ckerschb 
Bug 1182571: Make nsXMLHttpRequest use AsyncOpen2. r=ehsan 
Bug 1215745: Safer implemetation of nsJarChannel::AsyncOpen2. r=ckerschb 
Bug 1182571: Fix nsILoadInfo->GetContentPolicyType API to be less ambigious. Audit and fix all users of it. r=ckerschb 
Bug 1182571: Make nsXMLHttpRequest use AsyncOpen2. r=ehsan 
Bug 1182571: Followup bustage fix from merge fail. CLOSED TREE 
Bug 1195167 part 1: Let necko handle all protocols. r=bkelly 
Bug 1195167 part 2: Remove redundant aCORSFlag argument and instead use mCORSFlagEverSet. r=bkelly 
Bug 1195167 part 3: Remove more scheme-specific handling from FetchDriver. r=bkelly 
Bug 1195167 part 4: Remove FetchDriver::BasicFetch since it is empty. r=bkelly 
Bug 1195167 part 5: Make FetchDriver use AsyncOpen2. r=bkelly 
Bug 1195167 part 6: Some code simplification since necko handles fetch recursion. r=bkelly 
Bug 1215746: Remove RequestMode::Cors_with_forced_preflight. r=bkelly 
Bug 1195167: Followup to fix test which I forgot to change 
Bug 1175685 - add OriginAttribute to LoadInfo. r=jonas, r=ckerschb, r=michal 
Bug 1213646: Allow URI_IS_UI_RESOURCE and safe about: URIs when SEC_ALLOW_CHROME is set. r=bz 
Bug 1222235: Remove monthly mercurial-update reminder. r=gps 
Bug 1222829: Remove URIChecker. r=mcmanus 
Bug 1223647: CSP erroneously inherited into dedicated workers. r=ckerschb 
Bug 1223647: CSP erroneously inherited into dedicated workers. r=ckerschb 
Bug 990270 - Enable navigator.sendBeacon by default on Firefox OS. r=fabrice 
Bug 1223647: CSP erroneously inherited into dedicated workers. r=ckerschb 
Bug 1223647 followup. Indicate that we're failing the correct WPT tests. Landing on a CLOSED TREE 
Bug 1224865: Don't set a document in FetchDriver for requests in workers. r=bkelly 
Bug 1226603 - Include scope for gecko-decision cache r=jonasfj 
Bug 1217456: Add a security flag for controlling redirects. Use this flag in fetch() implementation. r=bkelly,jduell 
Bug 1228558: update to taskcluster-vcs@2.3.18 since it works; r=jonasfj 
Bug 1222624: Make XSLT stylesheet parsing use nsIPrincipals and nsIURIs rather than strings. r=peterv 
Bug 1222624: Make xpath document() function use nsIPrincipals and nsIURIs rather than strings. r=peterv 
Fix test bustage due to platform line-endings. Bug 1222624 
More test bustage from bug 1222624 
Bug 1226909 part 1: Do security checks in a redirect handler rather than when opening the redirected channel. r=ckerschb 
Bug 1226909 part 2: Let CORS preflight logic grab information from nsILoadInfo rather than duplicate it. r=ckerschb 
Bug 1226909 part 3: Move logic of when to initiate CORS preflight into channels. Allow CORS preflight to happen when doing a same-origin to cross-origin redirect. r=ckerschb 
Bug 1226909 part 4: Make AsyncOpen2 set taining information on channels. Use this information in XHR and fetch(). r=bkelly 
Bug 1216687: Add nsILoadInfo flags for cookie policies. r=ckerschb 
Bug 1226909 part 1: Do security checks in a redirect handler rather than when opening the redirected channel. r=ckerschb 
Bug 1226909 part 2: Let CORS preflight logic grab information from nsILoadInfo rather than duplicate it. r=ckerschb 
Bug 1226909 part 3: Move logic of when to initiate CORS preflight into channels. Allow CORS preflight to happen when doing a same-origin to cross-origin redirect. r=ckerschb 
Bug 1226909 part 4: Make AsyncOpen2 set taining information on channels. Use this information in XHR and fetch(). r=bkelly 
Bug 1216687: Add nsILoadInfo flags for cookie policies. r=ckerschb 
Bug 1226909 followup to fix bustage. Make sure that the channel returned by NS_NewChannel doesn't have a loadinfo that indicates that the channel has already been opened 
