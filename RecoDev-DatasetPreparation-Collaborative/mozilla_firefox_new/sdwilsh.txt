shawnwilsher.com

Bug 282185 - Global notifications for completed downloads. r=mano, ui-r=mconnor 
Bug 362685 - Growl Integration for Mac OS X (nsIAlertsService).  r=cbarrett, r=mano 

Bug 362685 - Growl Integration for Mac OS X (nsIAlertsService).  r=cbarrett, r=mano Bug 362685 - Growl Integration for Mac OS X (nsIAlertsService).  r=cbarrett, r=mano 

Bug 362685 - Growl Integration for Mac OS X (nsIAlertsService).  r=cbarrett, r=mano Bug 378818 - Disable nsIAlertsService on Mac for alpha4.  Patch by Colin Barrett <cbarrett@mozilla.com>, r=dbaron 
Bug 374461 - [fr] Update of DOMi.  Patch by Cédric Corazza <cedric.corazza@wanadoo.fr. r=benoit.leseul 
Bug 378785 - Crash on launch for nightly builds in Growl code.  r=bsmedberg 

Bug 378785 - Crash on launch for nightly builds in Growl code.  r=bsmedberg Backout of Bug 378785. 

Backout of Bug 378785. 
Bug 378785 - Crash on launch for nightly builds in Growl code (take 2)r=benjamin@smedbergs.us (Benjamin Smedberg)p=comrade693+bmo@gmail.com (Shawn Wilsher) Bug 378527 - Localize nsIAlertsService.  r=cbarrett,r=mano.  Also Fixes Bug 380142 - Growl doesn't support click notification 
Bug 354539 - DOM Inspector Entities Need to be added. l10n patch.  Patch by Alexander L. Slovesnik <unghost@mozilla-russia.org>. 
Bug 381219.  nsIAlertsService on mac doesn' t check for if a listener has been allocated.  r=gavin.sharp 
Bug 381291 - Stephen Donner's name is misspelled in credits.xhtml.  r=gavin.sharp 
Bug 380250 - Convert Download Manager's RDF backend to mozStorage.  r=cbiesinger,r=mconnor 
Bustage fix for Bug 380250. 
More bustage fix for Bug 380250 (declaring rv) 
More bustage fix for Bug 380250 - third time is the charm (getter_Addrefs != getter_AddRefs) 
More bustage fix for Bug 380250 - passing pointer instead of just the variable 
Bug 380250 bustage fix for xpfe 
Trying to figure out why this test is failing silently.  r=sayrer 
Trying to figure out why this test is failing silently.  r=sayrer 
Trying to figure out why this test is failing silently.  r=sayrer 
Trying to figure out why this test is failing silently. 
Trying to figure out why this test is failing silently. Commenting out listener and observer. 
Bug 378527 - Localize nsIAlertsService.  r=mano 
Bug 381468 - Convert toolkit application/x-javascript to application/javascript.  r=gavin.sharp 
Bug 381690 - Need serial comma after downloading in the error dialog for failed updates.  Patch by Reed Loden <reed@mozilla.com>. r=gavin.sharp 
Bug 380613 - Need serial comma after canceled in the tooltip for the Clean Up button.  Patch by Reed Loden <reed@mozilla.com> r=gavin.sharp 
Bug 381508 - XUL editable menulist shouldn't use document.commandDispatcher.  r=sr=neil 
Bug 381468 - Convert toolkit application/x-javascript to application/javascript. r=gavin.sharp 
Bug 381538 - "clean up" button remains greyed out after download completes.  r=gavin.sharp 
Bug 381646 - Re-enable tests for download manager. r=sayrer 
Bug 381646 - Re-enable tests for download manager (windows orange patch).  r=sayrer 
Bug 381520 - nsIAlertsService doesn't fail on Mac if Growl isn't running.  r=mano 
Bug 381784 - nsDownload::SetState should assert if the new state is the same as the old state.  r=mano 
Bug 381925 - JS Warnings when selecting download location. r=enndeakin 
Bug 381535 - Jesse's downloads.rdf doesn't import to sqlite. r=mconnor 
Bug 381881 - Properties window during download is empty.  r=mconnor 
Bug 381633 - xpcshell test harness should use strict warnings in JavaScript.  r=rcampbell 
Bug 289540 - download manager takes only one listener.  r=mconnor 
Bug 381603 - Adapt to download manager changes.  r=mconnor 
Bug 381801 - Downloads Complete alert (slider) no longer shows.  r=mconnor 
Bug 381803 - two files are listed in DM, while downloading one file. r=mconnor 
Bug 382825 - Add a retryDownload method to the download manager backend. r=cbiesinger 
Bug 382081 - Small downloads don't show in download manager when already open.  r=mconnor 
Bug 382383 - nsDocShell::LoadURI discards LOAD_FLAGS_FIRST_LOAD. r=bzbarsky, sr=cbiesinger 
Bug 378696 - Remove dead search code. r=db48x, sr=neil 
Bug 383160 - Need to have localName in dom viewer.  Patch by Mook <mook.moz+mozbz@gmail.com>.  r=sdwilsh, sr=neil 
Bug 383813 - #include nsHelperAppRDF.h should be inside the ifdef for MOZ_RDF.  Patch by Ryan Jones <sciguyryan@gmail.com>. r+sr=cbiesinger 
Bug 383786 - nsIOService uses an Init method when it doesn't need to.  Patch by Ryan Jones <sciguyryan@gmail.com>. r=bzbarsky sr=cbiesinger 
Bug 383619 - Get xpcshell tests for mozStorage.  r=vladimir 
Disabling tests from Bug Bug 383619 because windows doesn't like them :( 
Bug 383619 - Get xpcshell tests for mozStorage (windows orange fix).  r=rcampbell 
Bug 380682 - nsIIdleService should allow observers to specify time in seconds instead of minutes.  r=roc, sr=neil 
Bug 383890 - crash creating new dom attribute with prefix [@inDOMView::GetChildNodesFor].  Patch by Mook <mook.moz+mozbz@gmail.com>.  r=sdwilsh, sr=neil 
Bug 383807 - Explain why we are not checking the result of new in nsExternalProtocolHander.cpp.  Patch by Ryan Jones <sciguyryan@gmail.com>.  r=cbiesinger, sr=dmose 
Bug 381549 - mozStorageStatement ignores return values from SQLite.  r=sspitzer 
Bug 383534 - mozStorageConnection ignores return values (and other cleanup).  r=sspitzer 
Bug 383543 - mozStorageService cleanup.  r=sspitzer 
Bug 382839 - getDownload should return any known download, not just those in progress.  r=gavin.sharp 
Bug 381927 - end times in download manager properties are wrong or missing.  r=mano 
Fix windows orange (stupid file path issues) 
Bug 384243 - undefined entity inserting new attribute (regression from bug 383160).  Patch by Mook <mook.moz+mozbz@gmail.com>. r=sdwilsh, sr=dmose 
Bug 383581 - [pl] Update of DOMi.  Patch by    Marek A. Stępień <marcoos+bmo@marcoos.org>. r=hubert.gajewski 
Bug 72494 - DOM Inspector needs save option.  r=timeless, sr=neil 
Bug 384245 - Fix unit tests in a non-hackish way.  r=mano 
Bug 384439 - [fr] Update for fr DOMi.  Patch by Cédric Corazza <cedric.corazza@wanadoo.fr>.  r=bugzilla.fr 
Bug 384219 - Download manager doesn't fail downloads properly.  Patch by Edward Lee <edilee@gmail.com>. r=sdwilsh 
Bug 384180 - [leak] nsDownload doesn't break mCancelable cycle on fail or cancel.  Patch By Edward Lee <edilee@gmail.com>. r=sdwilsh 
Bug 383966 - Remove contents.rdf from DOMi.  r=timeless, sr=neil 
switch cookies over to mozStorage. b=230933, r=sdwilsh, sr=mconnor.
Bug 384867 - nsDownloadManager.cpp #includes nsInt64.h.  Patch by Ryan Jones <sciguyryan@gmail.com>.  r=sdwilsh 
Bug 384892 - Investigate eliminating the LL_* macros from nsDownloadManager.cpp.  Patch by Ryan Jones <sciguyryan@gmail.com>. r=sdwilsh 
Bug 384161 - autoRemoveAndClose checks wrong pref type.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh 
Bug 384732 - Download manager should use a transaction when importing from downloads.rdf.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh 
Bug 384454 - Remove sqlite3_bind_parameter_indexes.  r=sspitzer 
Bug 363024 - Calling createInstance() on mozIStorageService crashes.  r=sspitzer 
Bug 341137 - Upgrade to latest version of sqlite.  r=vladimir 
Bug 384262 - Fix typo in --enable-bookmarks-places configure flag.  Patch by Dietrich Ayala <dietrich@mozilla.com>.  r=sspitzer 
Backout of Bug 341137 
Bug 341137 - Upgrade to latest version of sqlite (take 2).  r=vladimir 
Bug 341137 - Upgrade to latest version of sqlite (I forgot to cvs rm these files) 
Bug 385262 - NOTREACHED called before logging.  Patch by Ryan Jones <sciguyryan@gmail.com>.  r=sdwilsh 
Bug 384958 - DM needlessly checks return variable of GetDBConnection.  Patch by Ryan Jones <sciguyryan@gmail.com>.  r=sdwilsh 
Bug 385431 - mozStorageAsyncIO.cpp:559: warning: unused variable 'message'.  Patch by Ryan Jones <sciguyryan@gmail.com>.  r=sdwilsh 
Bug 385396 - Go back to vanilla sqlite files.  r=mconnor 
Bug 383224 - Remove XPInstall bits from the Download Manager. r=enndeakin, r=mano 
Bug 380222 - Rewrite fillDocument() after new pwmgr lands.  Patch by Justin Dolske <dolske@mozilla.com>.  r=mconnor 
removing redeclaration, r+sr+ui-r+a=sdwilsh 
Bug 247437 - SSE has issues with JPEG decoding.  Patch by Ryan VanderMeulen <ryanvm@gmail.com>.  r=pavlov 
Bug 384944 - Use nsICookieManager2::Add instead of nsICookieService::SetCookieString for cookie restoration.  Patch by Simon Bünzli <zeniko@gmail.com>.  r=dwitte 
Bug 366797 - Revise the Location Bar.  Patch by Dão Gottwald <dao@design-noir.de>. r=gavin.sharp, ui-r=beltzner 
Bug 209555 - <radio> must be children of <radiogroup>.  Patch by Alex Vincent <ajvincent@gmail.com>.  r=enndeakin 
Bug 314846 - exthandler doesn't remove : colon from mac file names (Random filename after downloading).  Patch by Edward Lee <edilee@gmail.com>.  r=benjamin, sr=cbiesinger 
Bug 384235 - The check-interactive target doesn't load head_*, tail_* files for a test.  Patch by Alex Vincent <ajvincent@gmail.com>.  r=rcampbell 
Backout of Bug 366797 due to leaks 
Bug 383224 - Remove XPInstall bits from the Download Manager.  r=mano 
Bug 385591 - Update db/sqlite3/README.MOZILLA for SQLite 3.3.17.  r=sspitzer 
Bug 237693 - Download Manager Should Understand when it breaks the KB,MB,GB barrier.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh 
Bug 385733 - Remove "rate change limit" check from DownloadProgressListener.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh 
Bug 289219 - nsDownloadProxy needs not QI mInner to get at webprogresslistener methods.  r=cbiesinger 
Bug 386109 - Integrate jQuery Test Suite (adding missing file).  Patch by John Resig <jresig@mozilla.com>.  r=rcampbell 
Bug 386366 - Add convenience method for getting the database schema version, patch by Shawn Wilsher <sdwilsh@mozilla.com>, r=sspitzer 
Bug 384734 - Open method should be able to pass in old downloads to the window.  Patch by Edward Lee <edilee@mozilla.com>.  r=sdwilsh 
Bug 386179 - Stop using private sqlite functions.  r=sspitzer 
Bug 386368 - Use getters and setters for database schema version.  r=sspitzer 

Bug 386368 - Use getters and setters for database schema version.  r=sspitzer Bug 385876 - DM should cache the query that nsDownload::UpdateDB uses.  Patch by Ryan Jones <sciguyryan@gmail.com>.  r=sdwilsh 
Bug 365166 - crash [@ strlen] calling mozIStorageStatement::getColumnName of a statement created with "PRAGMA user_version" or "PRAGMA schema_version".  Patch by Nickolay Ponomarev <asqueella@gmail.com>.  r=sdwilsh 
Bug 386371 - Use getters and setters for database schema version.  r=myk 
Bug 386394 - Add a BackupDB method to mozIStorageConnection.  r=mano 
Bug 385871 - DM needs to have schema checking.  r=mano 
Fix orange.  r=gavin.sharp 
Orange fix.  rs=gavin.sharp 
Bug 354537 - [nb-NO] DOM Inspector Entities Need to be added.  Patch by Håvard Mork <havard.mork@gmail.com>. r=sdwilsh 
Bug 378696 - Remove dead search code (step 2).  r=timeless, sr=neil 
Bug 378696 - Remove dead search code (step 2).  r=timeless, sr=neil 
Bug 378696 - Remove dead search code (step 2).  r=timeless, sr=neil 
Bug 386482 - Add a setter for richlistitem.searchLabel.  Patch by Simon Bünzli <zeniko@gmail.com>.  r=enndeakin 
Bug 380932 - Handle malware URIs with error page.  Patch by Dão Gottwald <dao@design-noir.de>.  r=cbiesinger 
Bug 384873 - Broken building without XUL but with RDF.  Patch by romaxa <romaxa@gmail.com>.  r=benjamin 
Pass the wrappedJSObject so that XPCNativeWrapper doesn't get confused by DOMI having its hands on implicit native wrappers. bug 387053, r=sdwilsh sr=jst 
Bug 374334 - Uncaught exception with cloneNode method and frameset element.  Patch by Alex Vincent <ajvincent@gmail.com>.  r=jst,sr=jst 
Bug 378079 - AutoComplete returns invalid rows when more than one AutoCompleteSearch is used.  Patch by Matt Crocker <matt@songbirdnest.com>.  r=gavin.sharp 
Bug 387054 - Opening DomI - File Inspect Current Document throws error in JS Console.  r=db48x, sr=neil 
Bug 333848 - add full-featured user-defined functions and progress handlers to storage.  Patch by Lev Serebryakov <blacklion@gmail.com>.  r=sdwilsh 
Bug 333848 - add full-featured user-defined functions and progress handlers to storage.  Patch by Lev Serebryakov <blacklion@gmail.com>.  r=cbiesinger, sr=cbiesinger 
Bug 378696 - Remove dead search code.  r=timeless, sr=neil 
Bug 384526 - Use sqlite3_prepare_v2 instead of sqlite3_prepare.  r=sspitzer 
Backout of Bug 384526 (causes orange) 
Bug 347791 - expose accessible role and state as strings in Inspector, patch=vasiliy.potapenko, r=me,sdwilsh, sr=neil 
Bug 387700 - [pl] Update for pl DOMi due to bug 347791. Patch by Marek A. Stępień <marcoos+bmo@marcoos.org>.  r=hubert.gajewski 
Bustage fix 
Bug 387698 - [fr] Update for fr DOMi due to bug 347791.  Patch by Cédric Corazza <cedric.corazza@wanadoo.fr>.  r=bugzilla.fr 
Bug 387695 - Clean Up button is disabled.  Patch by Simon Bünzli <zeniko@gmail.com>.  r=sdwilsh 
Bug 384526 - Use sqlite3_prepare_v2 instead of sqlite3_prepare.  r=sspitzer 
Bug 387907 - [ru] Update for Russian DOM Inspector localization.  Patch by Alexander L. Slovesnik <unghost@mozilla-russia.org>.  rs=sdwilsh 
Bug 387907 - [ru] Update for Russian DOM Inspector localization.  Patch by Alexander L. Slovesnik <unghost@mozilla-russia.org>.  rs=sdwilsh 
Bug 384744 - Download manager should enforce a singleton, not just fail on createInstance.  r=gavin.sharp 
Bug 388048 - mozIStorageStatement::getParameterIndexes is useless.  r=sspitzer 
Bug 382694 - Allow applications to specify notification names to growl other than the default.  r=cbarrett, r=mano 
Use getters and setters for database schema version. b=386369, p=sdwilsh, r=dwitte, sr=biesi. 
Bug 306907 - Build libsqlite as a standard name separate shared library.  Patch by Michael Wu <michael.wu@mozilla.com>, Robert Relyea <rrelyea@redhat.com>, Ryan VanderMeulen <ryanvm@gmail.com>, and Shawn Wilsher <me@shawnwilsher.com>.  r=benjamin 
Backout of Bug 306907 
Bug 306907 - Build libsqlite as a standard name separate shared library.  Patch by Michael Wu <michael.wu@mozilla.com>, Robert Relyea <rrelyea@redhat.com>, Ryan VanderMeulen <ryanvm@gmail.com>, and Shawn Wilsher <me@shawnwilsher.com>.  r=benjamin 
Bug 306907 build orange fix (forgot about installer files).  rs=bsmedberg 
Fixing orange again (wrong lib name).  rs=bsmedberg 
Bug 388059 - Add a getColumnIndex method to mozIStorageStatement.  r=sspitzer 
Bug 388506 - Use emdash for download status [time — progress (rate)].  Patch by Edward Lee <edilee@mozilla.com>.  r=sdwilsh 
Bug 385875 - Remove image url from being stored in the DM.  r=mano 
Bug 385875 - Remove image url from being stored in the DM.  r=mano 
Bug 388701 - nsExternalHelperAppService::GetProtocolHandlerInfo should get OS Specific implementation.  r=cbiesinger, sr=dmose 
Bustage fix 
Bug 389183 - Download Manager window remains empty.  r=mano 
r=sdwilsh/pike 
Check the proper pointer.  r+sr=biesi.  No bug 
Bug 386179, Stop using sqlite3ApiExit, r=sdwilsh 
Bug 385065 - protocol handling dialog.  toolkit: r=mano; uriloader: r=cbiesinger, sr=dmose general: ui-r=beltzner 
Bustage fix 
Mac bustage fix 
Linux bustage fix 
nsHandlerService.js not packaged.  rs=mconnor.  No bug 
Bug 385065 - protocol handling dialog.  r=cbiesinger (forgot to fix two nits) 
Bug 388909 - disabled MOZ_RDF build broken after landing 384374.  I accidentally reverted this change when I landed Bug 385065.  Previous r+sr=cbiesinger 
Bug 385065 - protocol handling dialog.  I accidentally reverted this change when I landed Bug 385065.  r=cviesinger, sr=dmose 
Bug 385065 - protocol handling dialog.  I accidentally reverted this change when I landed Bug 385065. This was fixed with Bug 389580 and Bug 389580 r+sr=cbiesinger 
Bustage fix 
Bug 389334 - Helper app no longer prefilled.  r=mano 
Bug 389870 - When previous action was to use a local helper app, the protocol never works again. r=cbiesinger, sr=dmose, a=schrep 
Bug 389891 - Protocol Handling dialog does not actually set nsIHandlerInfo::useHelperApp when using a prefilled helper app.  r=gavin.sharp, a=schrep 

Bug 389891 - Protocol Handling dialog does not actually set nsIHandlerInfo::useHelperApp when using a prefilled helper app.  r=gavin.sharp, a=schrep Bug 385065 - protocol handling dialog (fix clobber build error).  r=gavin.sharp, a=mconnor 
Bug 389969 - There is no protocol handling dialog.  r=cbiesinger, sr=dmose, a=schrep 

Bug 389969 - There is no protocol handling dialog.  r=cbiesinger, sr=dmose, a=schrep 
bug 389969: followup patch that makes the protocol handling dialog work on Mac as well;patch=sdwilsh, rs=sspitzer
Bug 319768 - (XPathGenerator) - Implement XPath generator. Patch by Alex Vincent <ajvincent@gmail.com>.  r=peterv, sr=jonas NPOTB 
Bug 389689 - Have the dialog for nsIContentDispatchChooser use the width property.  r=mano, ui-r=beltzner 
Bug 389899 - Icon does not show up for local handlers that were specified in the past.  r=mano 

Bug 389899 - Icon does not show up for local handlers that were specified in the past.  r=mano Bug 355789 - Use vista native uxtheme for menu rendering.  Patch by Rob Arnold <robarnold@mozilla.com>.  r=vladimir, a=[wanted-1.9] 
Bug 391380 - moz-icon: launches handler dialog.  r=bzbarsky, sr=dmose, a=bzbarsky 

Bug 391380 - moz-icon: launches handler dialog.  r=bzbarsky, sr=dmose, a=bzbarsky fix for bug: mozStorage doesn't handle unicode in LIKE, UPPER, or LOWER functions patch=Shawn Wilsher <sdwilsh@mozilla.com> r=sspitzer 
Bug 391156 - mozStorage doesn't handle unicode in LIKE, UPPER, or LOWER functions (string nit follow-up patch).  r=sspitzer 
fix for bug #391697:  add escapeStringForLIKE to mozIStorageStatement r=sdwilsh 
Bug 391709, Clean up nsDownloadManager::InitDB schema checking code, r=sdwilsh 
Bug 386818 - expose right accessible tree in DOMi, r=sdwilsh, ajvincent, evan.yan, sr=neil 
Bug 388517 - revised download manager UI for Firefox 3. Patch by Shawn Wilsher <me@shawnwilsher.com> and Asaf Romano <mano@mozilla.com>.  r=mano, a=[wanted-firefox3] 
Bug 391856 - button-images are outside the button and squeezed (new DM). r=mconnor/sdwilsh 
Bug 391866 - after remove, the next file isn't highlighted (new DM). r=sdwilsh 
Bug 391908 - Button orientation on downloads in the failed state is incorrect. r=sdwilsh 
Bug 391857 - can't open file with doubleclick (new DM). r=sdwilsh 
Bug 391918 - Section headers in new DM should look more like mockup.  Patch by Michael Ventnor <ventnor.bugzilla@yahoo.com.au>.  r=sdwilsh, r=mano 
Bug 391875 - Searching for a word that is contained in the file you are downloading looks strange.  r=mano 
Bug 389569 - "Less than a minute" in Download Manager is silly.  Patch by Edward Lee <edilee@mozilla.com>.  r=sdwilsh, r=mano, ui-r=beltzner 
Bug 391907 - No download progress info on Windows task bar button. r=sdwilsh 
Bug 391640 - Unable to use the "Open" link in download manager.  r=cbiesinger, sr=dmose, a=bzbarsky 
Bug 382513, rework sessionstore download retying code (don't remove unsuccesfully retried downloads from the downloads list), patch by Simon Bünzli <zeniko@gmail.com>, r=me, r=sdwilsh 
Bug 391872 - wrong message when download is paused (new DM).  r=mano 
Bug 391869 - pause -> cancel -> retry doesn't resume/retry download.  r=cbiesinger 
Bug 391872 - wrong message when download is paused (new DM).  r=mano 
Bug 380250 - Convert Download Manager's RDF backend to mozStorage.  r=cbiesinger,r=mconnor 
Bug 382825 - Add a retryDownload method to the download manager backend. r=cbiesinger 
fix for bug #392099: unable to search for downloads with % (SQLite MATCH_ALL) or _ (SQLite MATCH_ONE) in the name r=sdwilsh 
Bug 391279 - Allow createInstance to work for web handlers.  r=cbiesinger, sr=dmose 
Bug 391930 - [pl] [DOMi] Localization for accessibleTree.dtd.  Patch by Marek A. Stępień <marcoos+bmo@marcoos.org>.  rs=sdwilsh 
Bug 391861 - Indicate what the text area in the DM is for (searching).  Patch by Michael Ventnor <ventnor.bugzilla@yahoo.com.au>.  r=mano 
Bug 372441 - Implement registerProtocolHandler for arbitrary protocols.  r=mano, ur-r=beltzner 
Bug 390890 - PHD: Have the UI use all the possible handlers instead of just the preferred one.  r=mano, a=blocking-firefox3 

Bug 390890 - PHD: Have the UI use all the possible handlers instead of just the preferred one.  r=mano, a=blocking-firefox3 Bug 391939 - New Download manager does not close when a download is completed even when configured to do so.  r=mano 
Bug 392255 - You shouldn't be able to open a completed download by double right clicking on it + button fixes. r=sdwilsh 
Bug 392264 - [windows] Download Manager shouldn't have margins.  Patch by Michael Ventnor <ventnor.bugzilla@yahoo.com.au>.  r=mano 
Bug 390748 - When downloading multiple files, Download Manager doesn't show files it has queued.  r=mano, a=blocking-firefox3 
Bug 392541 - Queued items don't have a context menu.  Patch by Edward Lee <edilee@mozilla.com>.  r=sdwilsh 
Bug 392362 - Make a pref to control the number of days for which we display download history.  Patch by Edward Lee <edilee@mozilla.com>.  r=sdwilsh 
Bug 391870 - Have the download manager store the referring uri when appropriate (and use it in the front end).  r=mano, r=cbiesinger, sr=cbiesinger 
Bug 355554 - File downloads should honor Vista's parent control setting.  Patch by Jim Mathies <jmathies@mozilla.com>.  r=gavin.sharp, r=sdwilsh, a=blocking-firefox3 
Bug 308073 - Change default downloading folder in Windows Vista from Desktop to Downloads.  Patch by Jim Mathies <jmathies@mozilla.com>.  r=robarnold, r=robert.bugzilla, sr=dougt, a=mconnor 
Bug 391800 - left panel view should be able to pass a more than one subject to the right panel view, rs=sdwilsh 
Bug 103487: use default anti-virus scanner to scan downloaded files on Windows, patch by Rob Arnold <robarnold@mozilla.com>, r=sdwilsh, r=jmathies, r=me 
Bug catch accessibility events in DOMi, r=sdwilsh, ajvincent, evan.yan, sr=neil, a=dsicore 
Bug 393556 - "Failed downloads not removed from active downloads array" [p=reed r=sdwilsh] 
Bug 392793 - invalid (negative) progress percentage displayed in the window title for certain downloads p=Ryan Jones <sciguyryan@gmail.com> r=sdwilsh 
Bug 391870 - Have the download manager store the referring uri when appropriate (and use it in the front end).  r=mano 
Bug 398982 - Download Manager is not friendly to embedders or extensions.  r=mano 
fix for bug #393952:  crash when I try to VACUUM (StorageUnicodeFunctions::likeFunction() should handle null aArgv[0] and aArgv[1]) r=sdwilsh 
Bug 383673 - mozStorageValueArray only asserts on out of bounds (and other cleanup).  r=sspitzer 
Bug 389575 - Add WARNINGS_AS_ERRORS compile time flag.  r=bsmedberg NPOTFB. 
Bustage fix 
unit test for bug #393952:  crash when I try to VACUUM (StorageUnicodeFunctions::likeFunction() should handle null aArgv[0] and aArgv[1]) r=sdwilsh 
Bug 394158 Disable toolbargrippies on inspector panels so we don't have to hide them in CSS and also fix the toolbar alignment on toolkit apps r=sdwilsh 
Bug 342592 - Make --enable-extensions=inspector work for XULRunner.  Patch by Alex Vincent <ajvincent@gmail.com>.  r=sdwilsh, sr=neil 
Bug 394228 - Downloading files can randomly fail.  r=mano 
Bug 393082 - Warn on unsafe usage of LIKE.  r=sspitzer 
Bug 394241 - Add a closeDatabase() method to mozStorage.  r=sspitzer 
Bug 384810 - DM should restore the database state gracefully after a crash.  r=mano 
Clarification comments for parameters, no bug. r=sdwilsh 
Bug 394457 - Make backspace key remove files from download manager p=Edward Lee (Mardak) <edilee@gmail.com> r=sdwilsh 
Bug 392841 - With a download in progress, selection after deletion of a Completed item should go down. p=Edward Lee (Mardak) <edilee@gmail.com> r=sdwilsh 
Bug 394615: 0 byte downloads don't appear in the download manager, patch by Edward Lee <edilee@gmail.com>, r=sdwilsh 
Bug 394798 - Info bubble for just-completed downloads says 'Wednesday, December 31, 1969 6:00 PM'. Patch by Edward Lee <edilee@gmail.com>, r=sdwilsh 
Bug 227749 - "Add "Copy Source Location" to download manager context menu" [p=jhenry@ccs.neu.edu (Jon Henry) r=sdwilsh ui-r=beltzner] 
Bug 391411 - "Update sv-SE files for DOM Inspector" [p=hasse@jasajudeju.se (Hasse) r=slicedlime@gmail.com (Mikael Hedberg) rs=sdwilsh] 
Bug 377243 - [SoC] Implement Download Resume.  Patch by Brahmana <om.brahmana@gmail.com> and Shawn Wilsher <me@shawnwilsher.com>.  r=sdwilsh, r=mconnor, a=[wanted-firefox3] 
Fix crash if a paused download is stopped (bug 395188); patch by Mardak, r=sdwilsh, a=dsicore 
Upgrade SQLite from version 3.4.1 to version 3.4.2; patch by sdwilsh, r=sspitzer, a=bsmedberg 
Backing out SQLite upgrade from 3.4.1 to version 3.4.2; patch by sdwilsh, r=sspitzer, a=bsmedberg 
Bug 395308 - Temporary filenames used during download should gain an extra extension.  r=biesi, sr=biesi, a=dsicore 
Bug 395207 - Download Resume doesn't actually work.  r=mconnor, a=mconnor 
Bug 395708: handle invalid IDs passed to nsIDownloadManagerUI::show (makes clicking on the "download complete" notification work when the download manager isn't open), r=sdwilsh 
Bug 301972 - "Save to Disk" option needs to be more clear.  Patch by Kurt (supernova_00) <supernova_00@yahoo.com>.  r=sdwilsh, ui-r=beltzner, a=mconnor 
Bug 385734 - Don't clear download status on pause, clean up DownloadProgressListener.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh, a=mconnor 
Bug 395539 - FTP TransportStatus's progressMax reports the full file size for REST retrieval (resuming partial download).  Patch by Edward Lee <edilee@gmail.com>.  r=cbiesinger, sr=cbiesinger, a=bzbarsky 
Bug 395134 - When resuming a download, strange things happen in the UI.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh, a=mconnor 
Bug 396488 - Clean up nsDownloadManager - spaces and stars.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh, a=mconnor 
Bug 393301 - Add UI for downloads in scanning state. r=gavin.sharp, a=mconnor 
Bug 396450 - Move logic out of nsDownloadManager.h.  Patch by Edward Lee <edilee@gmail.com>. r=sdwilsh, a=mconnor 
Bug 396451 - Index with i++ for DownloadManager sql queries.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh, a=mconnor 
Bug 396453 - Convert DownloadManager flag variables into flag functions.  Patch by Edward Lee <edilee@gmail.com>.  r=sdwilsh, a=mconnor 
Bug 396456 - "Refactor PauseResume into Pause, Cancel, Resume, RealResume" [p=edilee@gmail.com (Edward Lee [Mardak]) r=sdwilsh a1.9=mconnor] 
Bug 393932 - "Add extra DB schema sanity checking in debug builds" [p=mwu r=sdwilsh a1.9=mconnor] 
Bug 394789 - Add a finalize() method to mozStorageStatement.  r=neil, r=sspitzer, a=bzbarsky 
Bug 394546 - "Paused retried downloads keep updating status" [p=edilee@gmail.com (Edward Lee [Mardak]) r=sdwilsh a1.9=mconnor] 
Bug 395526 - Change assertions to real errors in mozStorageStatement.cpp.  r=sspitzer, a=bzbarsky 
Bug 394346 - Allow for named notifications with nsIAlertsService.  r=mano, a=mconnor 
Seamonkey bustage fix.  r=ajschult 
Bug 392055 - NS_ENSURE_SUCCESS should print out the error code. r=benjamin, sr=bzbarsky, a=bzbarsky 
bustage fix 
Bug 396457 - Store mTempFile as tempPath in moz_downloads table. r=sdwilsh, a=mconnor 
Bug 230870 - Cross-Session resumable downloads (resume after quitting firefox). r=sdwilsh, a=mconnor 
Bug 392055: NS_ENSURE_SUCCESS should print out the error code. Original patch by Shawn Wilsher (sdwilsh) <comrade693+bmo@gmail.com>, updated by me to handle the standalone xpcom glue case and to use printf safely. r=bsmedberg, sr=bzbarsky, a=dsicore. 
Bug 395330 - Active downloads don't appear in download manager. r=sdwilsh, blocking-ff3=mconnor 
Bug 381517 - Download manager fails when it should probably just ignore the failure. r=sdwilsh, a=mconnor 
Bug 398197 - Canceled queued downloads come from Wed, Dec 31, 1969 6:00 PM. r=sdwilsh, a=mconnor 
Bug 392152: notify front-end when clearing DM history, so that it can clear the active list, r=sdwilsh 
Bug 395537 - Nothing happens if you resume a download that you deleted. r=sdwilsh, blocking-ff3=mconnor 
Bug 392152: notify front-end when clearing DM history, so that it can clear the active list, r=sdwilsh 
Bug 394548 - Store download progress in database when changing states. r=sdwilsh, a=mconnor 
Bug 382388 - nsDownload::OnStateChange doesn't check aStatus for failure. r=sdwilsh, a=mconnor 
Bug 394263 - Status of paused download is missing in Download Manager when refreshing the list. r=sdwilsh, r=mano, blocking-ff3=mconnor 
Bug 393821 - Quick downloads (cached, local, data:, failed) don't appear until you reopen Download Manager. r=sdwilsh, a=mconnor 
Bug 397967 - Refactor nsDM::CompleteDownload|ExecuteDesiredAction to nsD::Finalize|ExecuteDesiredAction|MoveTempToTarget. r=sdwilsh, a=mconnor 
Bug 398216 - Downloads report the wrong size when finished. r=sdwilsh, a=mconnor 
Bug 398218 - Download DB tracks -1 as the max size when resuming. r=sdwilsh, a=mconnor 
Bug 396477 - DM renames many files with double extension, e.g. filename.exe.exe. r=sdwilsh, a=mconnor 
Bug 397220 - Dom node <label>s have 'for' attributes instead of 'control' attributes, r=sdwilsh, sr=neil, a1.9=dsicore 
Bug 384810 - DM should restore the database state gracefully after a crash. r=sdwilsh, a=mconnor 
Bug 394039 - Calling removeDownload() works but doesn't update download window. r=sdwilsh, b-ff3=mconnor 
Bug 347792 - expose accessible relations in DOM inspector, r=sdwilsh, ajvincent, evan.yan, sr=neil, a=dsicore 
Bug 391407 - Move File Handling dialog into localizable location.  r=gavin.sharp, a=blocking1.9 
Bug 399050 - "directories created with wrong permissions" [p=chpe r=sdwilsh a1.9=mconnor] 
Bug 369428 - nsExternalAppHandler::SetUpTempFile uses a poor source of randomness, resulting in predictable filenames.  r=kaie, sr=rrelyea, a=blocking1.9 
Bug 369428 - nsExternalAppHandler::SetUpTempFile uses a poor source of randomness, resulting in predictable filenames.  r=biesi, sr=biesi, a=blocking1.9 
Full backout of Bug 369428 
Bug 369428 - nsExternalAppHandler::SetUpTempFile uses a poor source of randomness, resulting in predictable filenames. r=kaie, sr=rrelyea, a=blocking1.9 
Bug 369428 - nsExternalAppHandler::SetUpTempFile uses a poor source of randomness, resulting in predictable filenames. r=biesi, sr=biesi, a=blocking1.9 
Bug 391407 - Move File Handling dialog into localizable location.  r=gavin.sharp, a=blocking1.9 
re-add de to inspector build, rs=sdwilsh 
Bug 398527 - "Downloads should have icons on Linux" [p=ventnor.bugzilla@yahoo.com.au (Michael Ventnor) r=sdwilsh a1.9=mconnor] 
Regression fix from Bug 398527.  No bug.  r=mconnor, a=mconnor 
Bug 397380 - Clear the temp file path upon successful completion of the download. r=sdwilsh, a=mconnor 
Bug 394881 - [Mac] Prefpanes should specify heights.  r=mconnor 
Bug 395144 - Figure out what to do when we are supposed to open an application with download resume. r=sdwilsh, b-ff3=beltzner, aM9=beltzner 
Bug 399815 - Store autoResume in moz_downloads table to indicate if a download should auto-resume. r=sdwilsh, a1.9=mconnor aM9=mconnor 
Bug 399816 - Pause downloads when quitting firefox instead of canceling. r=sdwilsh, a1.9=mconnor, aM9=mconnor 
Bug 399817 - Resume downloads marked as auto-resume when starting download manager. r=sdwilsh, a1.9=mconnor, aM9=mconnor 
Bug 399632 - Resume (not restart) a download after firefox crashes. r=sdwilsh, b-ff3=mconnor, a1.9=mconnor, aM9=mconnor 
New tests for bug 395144 that actually work [p=sdwilsh r=Mardak a=tests] 
New tests for bug 399815 that actually work [p=sdwilsh r=Mardak a=tests] 
Bug 396635 - "Launch Application" dialog clips buttons on bottom.  r=mfinkle, r=gavin, a=vlad 
Bug 400530 - Refactor beltzner to getReferrerOrSource(). r=sdwilsh, a1.9=mconnor, aM9=mconnor 
Bug 391863 - "clean up" functionality missing from download manager. r=sdwilsh, b-ff3=beltzner, a1.9=mconnor, aM9=mconnor 
Bug 399781 - Remove headings in Download Manager UI. r=sdwilsh, b-ff3=beltzner, a1.9=mconnor, aM9=mconnor 
Bug 401215 - "Background banding for the download manager" [p=ventnor.bugzilla@yahoo.com.au (Michael Ventnor) r=sdwilsh aM9=beltzner] 
Bug 401430: download manager 'add to recent docs' functionality (Windows) isn't working, r=sdwilsh 
Bug 401430: download manager 'add to recent docs' functionality (Windows) isn't working, r=sdwilsh 
Bug 402434 - Libjar unittests failing (due to DST?).  This just adds some logging to the test so we can try to figure it out... 
Bug 402434 - Libjar unittests failing (due to DST?).  Backout of extra logging... 
Bug 402493 - Incorrect license boilerplate for download manager schema migration test code. rs=sdwilsh 
Bug 366797 - Revise the Location Bar.  Patch by Dão Gottwald <dao@design-noir.de>. r=gavin.sharp, ui-r=beltzner 
Backout of Bug 366797 due to leaks 
Bug 355789 - Use vista native uxtheme for menu rendering.  Patch by Rob Arnold <robarnold@mozilla.com>.  r=vladimir, a=[wanted-1.9] 
Bug 400616 - Alias Ci.nsIDownloadManager to nsIDM, clean spaces, fix headings. r=sdwilsh, a1.9=mconnor 
Bug 223895 - Completed downloads should include size and TLD instead of "Done". r=sdwilsh, r=dwitte, b-ff3=beltzner, a1.9=beltzner 
Bug 400617 - Include eTLD + 1 for failed, canceled, blocked downloads. r=sdwilsh, a1.9=schrep 
Bug 400493 - Track download finish time in Download UI. r=sdwilsh, a1.9=mconnor 
Bug 395092 - Don't send dl-start event for download resume, (Add dl-pause and dl-resume events?).  r=Mardak, a=blocking-firefox3 
Bug 400543 - Add TRANSITION_DOWNLOAD.  r=mano, a=schrep 
Bug 398699 - "DOM Inspector Find Nodes dialog does not have access keys" [p=ehsan.akhgari@gmail.com (Ehsan Akhgari) r=sdwilsh sr=Neil a1.9=schrep] 
Bug 398700 - "DOM Inspector Insert Node dialog does not have access keys" [p=ehsan.akhgari@gmail.com (Ehsan Akhgari) r=sdwilsh sr=Neil a1.9=schrep] 
Bug 398603 - "Missing access keys in DOM Inspector main window" [p=ehsan.akhgari@gmail.com (Ehsan Akhgari) r=sdwilsh sr=Neil a1.9=schrep] 
Bug 403068 - "Need a wrapper function for SQLite function sqlite3_column_decltype" [p=jzhang@aptana.com (john Zhang) r=sdwilsh a1.9=damons] 
Bug 321172 - "Template Query Processor for mozStorage" [p=laurent@xulfr.org (Laurent Jouanneau) r=smaug r=Enn r=sdwilsh sr=roc a1.9=schrep] 
Bug 330139 - "Change 'Remove' in download manager to 'Remove From List'" [p=supernova_00@yahoo.com (Kurt [supernova_00]) r=sdwilsh ui-r=madhava a1.9=schrep] 
leash up the cookiemonster (cookie eviction should be in lastaccessed order, bug 403372). r=sdwilsh, sr=shaver. also includes unnecessary code removal fix by Marco Bonardo (mak77@supereva.it), bug 403767. 
Bug 263381 - Correct typo in db/sqlite3/src/Makefile.in [p=martynas@openbsd.org (Martynas Venckus) r=sdwilsh a1.9=schrep] 
Bug 404647 - "CTRL+F shortcut should focus the search box in the download manager" [p=cdolivei.bugzilla@gmail.com (cesar) r=sdwilsh a1.9=schrep] 
b=404851.r=sdwilsh.a=beltzner. change communicator to global skin 
Bug 401174 -  Allow how exthandler adds downloads to history to be overridden.  r=biesi, sr=bz, a=mconnor 
Bug 390491 - Add advanced search button that brings up places UI (back-end only landing).  r=Mano, a=beltzner 
Fix SeaMonkey tinderbox test bustage b=401174 r=sdwilsh 
bug 331259: make the helper apps dialog create the urn:mimetypes:root resource if it doesn't already exist so checking the 'do this automatically for files like this from now on' checkbox saves that pref to the helper apps datasource and thus has an effect on future downloads of same file type; r=sdwilsh,myk 
Bug 373623 - "Unicode … should be used instead of three separate dots: ..." (DOM Inspector changes) [p=hendrik.maryns@uni-tuebingen.de (Hendrik Maryns) rs=sdwilsh a1.9=mconnor] 
Bug 403728 - Better display non-eTLDable download URIs (file: data: jar:). r=sdwilsh, b-ff3=mconnor 
Bug 393303 - "Create a blocked string for dirty downloads (virus scan failed)" [p=comrade693+bmo@gmail.com (Shawn Wilsher [sdwilsh]) r=gavin a=blocking-firefox3+] 
Back out sdwilsh's patch for bug 393303 as a last ditch effort to fix the perf regression. 
Bug 393303 - "Create a blocked string for dirty downloads (virus scan failed)." [p=comrade693+bmo@gmail.com (Shawn Wilsher [sdwilsh]) r=gavin a=blocking-firefox3+] 
Bug 405241 - "Don't register nsDownloadHistory if it's not needed" [p=comrade693+bmo@gmail.com (Shawn Wilsher [sdwilsh]) r=biesi sr=bzbarsky a1.9=damons] 
move permission manager persistent storage from hostperm.1 to permissions.sqlite, use nsIURI::GetAsciiHost() for consistent host normalization, and expand type/permission limits. bugs 400092 and 400097 (patch in 400097), sr=shaver, pending r=sdwilsh, blocking-1.9+. 
Bug 405884 - List date/time of download for each download shown. r=sdwilsh, b-ff3=mconnor 
Bug 407771 - Remove retry button for blocked/dirty downloads. r=sdwilsh, a1.9=schrep 
Bug 407784 - "Copy Source Location" -> "Copy Download Link". r=sdwilsh, a1.9=schrep 
Bug 406923 - Just started downloads don't know about their referrers until reopened. r=sdwilsh, a1.9=dsicore 
Bug 406230 - Vertically align download icons in the center. r=sdwilsh, a1.9=beltzner 
Bug 407655 - Reorganize download context menus. r=sdwilsh, a1.9=beltzner 
Bug 403728 - Better display non-eTLDable download URIs. Follow-up patch (add comments). r=sdwilsh 
Bug 403674 - Implement "Go to Source Location" for the context-menu items. r=sdwilsh, b-ff3=mconnor, p=om.brahmana@gmail.com (Brahmana) 
Bug 392097 - only showing 7 days of download history, until I search, then I see more items. r=sdwilsh, b-ff3=beltzner 
Bug 408500 - Refactor displayHost logic into getDisplayHost. r=sdwilsh, r=dwitte, a1.9=mconnor 
Bug 398704 - "DOM Inspector Pseudo Classes dialog does not have access keys" [p=ehsan.akhgari@gmail.com (Ehsan Akhgari) r=sdwilsh sr=Neil a1.9=schrep] 
Bug 398706 - "DOM Inspector DOM tree viewer context menu does not have access keys" [p=ehsan.akhgari@gmail.com (Ehsan Akhgari) r=sdwilsh sr=Neil a1.9=schrep] 
Bug 405888 - Remove the "Information" button at the right of every download row. r=sdwilsh, a1.9=mconnor 
Bug 385066 - "Remove preloading from mozStorage" [p=comrade693+bmo@gmail.com (Shawn Wilsher [sdwilsh]) r=gavin a=blocking1.9+] 
Bug 405893 - Search should match TLDs as well as download file names. r=sdwilsh, b-ff3=mconnor 
Bug 408351 - Double click download should do default action (first item in menu). r=sdwilsh, a1.9=schrep 
Bug 408350 - Enter/return on downloads should do the same as double click. r=sdwilsh, a1.9=mconnor 
Bug 405886 - Remove the "Open File" button at the right of every download row. r=sdwilsh, b-ff3=mconnor 
Bug 408565 - Menu items "Open Containing Folder" / "Show in Finder" shouldn't be grayed out for in-progress/paused downloads. r=sdwilsh, a1.9=beltzner 
Bug 393353  show context information of accessibility events in accessibilityEvents view, r=sdwilsh, sr=neil, a=mtschrep 
Bug 400544 - nsINavHistoryService::addVisit should take a uri for the referrer, not a place id.  r=mano, a=beltzner. 
Bug 400544 - nsINavHistoryService::addVisit should take a uri for the referrer, not a place id.  r=mano, a=beltzner. 
Bug 408696 - Don't show leading 0 for download dates. r=sdwilsh, a1.9=beltzner 
Bug 409311 - I see beach ball instead of download manager. r=sdwilsh, a1.9=beltzner 
Bug 409105 - Just finished download shows start time instead of completed time. r=sdwilsh, a1.9=beltzner 
Bug 409317 - Download date/time should show the full date and time as a tooltip. r=sdwilsh, a1.9=beltzner 
Bug 401190 - nsNavHistory should implement nsIDownloadHistory.  r=dietrich, a=mconnor 
Bug 408745 - Download Manager clobbers the UI thread and is slow to respond when updating its list. r=sdwilsh, a1.9=mconnor 
Bug 409386 - "mozStorageArgvValueArray::GetString returns wrong length" [p=ondrej@allpeers.com (Ondrej Brablc) r=sdwilsh a1.9=schrep] 
Bug 409326 - Complement eTLD+1 status with a full host tooltip. r=sdwilsh, a1.9=beltzner 
Bug 401582 - Download Manager stuck scanning for viruses.  r=Mardak, a=beltzner 
Bug 409836 - download link is not styled :visited when clicked.  r=Mano, a=beltzner 
Bug 393922 - "Remove nsIDownloadProgressListener::onStatusChange and nsIDownloadProgressListener::onLocationChange" [p=graememcc_firefox@graeme-online.co.uk (graememcc) r=sdwilsh a1.9=beltzner] 
Bug 410100 - Cannot open file from download manager after searching. r=sdwilsh, a1.9=mconnor 
Bug 409867 - FindLastVisit returns "true" when it ought not to.  r=sspitzer, a=mconnor 
Bug 410131 - DM isn't buffering writes when saving a file.  r=biesi, sr=bz 
Bug 392293 - The disabled state of the mini-buttons in DM is not handled correctly.  r=Mardak, r=Mano 
Bug 410804 - nsWebBrowserPersist::MakeOutputStreamFromFile doesn't follow XPCOM rules.  r=biesi, sr=biesi, a=schrep 
Bug 408914 - "Disable sqlite async IO" [p=vladimir@pobox.com (Vladimir Vukicevic [vlad]) r=sdwilsh a1.9=beltzner] 
Fix tests for bug 410894 and reenable them. r=sdwilsh 
Revert unnecessary changes from bug 410894. r=sdwilsh, a=brendan 
Bug 408914 - Disable sqlite async IO.  r=vlad 
Bug 411172 - del key does not remove files from the download manager anymore.  Patch by  Elmar Ludwig <elmar.ludwig@uos.de>.  r=sdwilsh 
Bug 411172 - del key does not remove files from the download manager anymore.  This is just a test. 
Disable failing test (the test is wrong, not the code) 
Bug 411172 tests 
Test for Bug 394039 
Bug 406087 - upgrade to the latest sqlite (currently 3.5.4 
Bug 408486 - "Update accesskeys in Russian DOMi" [p=unghost@mozilla-russia.org (Alexander L. Slovesnik) rs=sdwilsh a1.9=schrep] 
Bug 412844 - "DownloadManagerUI.visible is always false" [p=victor.gubin@teamdev.com (Victor Gubin) r=sdwilsh a1.9=schrep] 
Bug 410289 - Do not allow the pausing of downloads that cannot actually be resumed.  r=Mardak 
Bug 411780: update SQLite to 3.5.4.1 to get stability fixes and OS/2 updates, p=sdwilsh, a=mtschrep 
Bug 394516 - Figure out a remaining-time rounding scheme for minutes -> hours/days. r=sdwilsh, b-ff3=beltzner 
Bug 394516 - Figure out a remaining-time rounding scheme for minutes -> hours/days. r=sdwilsh, r=l10n@mozilla.com (Pike), b-ff3=beltzner 
Bug 411976 - Update the comment in mozIStorageService.idl to reflect recent SQLite changes.  This is a comment change only - NPOTDB. 
Bug 414105 - PluralForm messages show up in Error Console when downloading. r=sdwilsh, a1.9=schrep 
Bug 411947 - Download Manager UI not accessed with the nsIDownloadManagerUI everwhere.  r=mconnor, a=mconnor 
Bug 405720 - Strange message with download manager for file with unknown filesize. r=sdwilsh, a1.9=schrep, b-ff3=mconnor 
Bug 409314 - Default download manager size should be golden (485x300). r=sdwilsh, a1.9=schrep 
Bug 408605 - Preference to control cross-session download behaviour.  Patch by graememcc <graememcc_firefox@graeme-online.co.uk>.  r=sdwilsh, a=schrep 
Bug 414153 - browser-chrome tests do not run http server.  r=sayrer 
Bug 413985 - Space key for pause/resume doesn't work (never did).  Patch by Simon Bünzli <zeniko@gmail.com>.  r=sdwilsh, a=beltzner 
Bug 414157 - Fix javascript strict warning undeclared variable status in DownloadUtils.jsm. r=sdwilsh, a1.9=beltzner 
Bug 413493 - "Incorrect naming of label and accesskey" [p=valastiak@mozilla.sk (Vlado Valastiak [wladow]) r=sdwilsh a1.9=beltzner] 
Bustage fix. Bug 405720 - Strange message with download manager for file with unknown filesize. rs=sdwilsh 
Bug 405107 - File->Save Page As... download often reports 0 bytes as saved. r=sdwilsh, b-ff3=beltzner 
Bug 411521 - EventUtils.synthesize* doesn't allow you to specify a window.  r=Enn 
Test for Bug 413985 
Test for Bug 412844 
Bug 414161 - Quit & cancelation confirmation should not be displayed if downloads are resumable.  r=Mardak, a=damons 
Bug 395448 - Replace UI icons in the download manager.  r=Mano, r=Ventron 
Bug 333262,In <inspector.xml>, strict warning 'reference to undefined property event.originalTarget.nodeType', r=sdwilsh, sr=neil, a=dsicore 
bug 413589: enable fts3 (full text index) sqlite module; r=sdwilsh, a=damons 
Bug 414214 - Download Manager window doesn't stay open when browser.download.manager.closeWhenDone is true.  r=Mano 
Bug 408153 - Use IAttachmentExecute when it is available.  Patch by Masatoshi Kimura <VYV03354@nifty.ne.jp> and Jim Mathies <jmathies@mozilla.com>.  r=sdwilsh, r=robarnold, a=damons 
Disable test for now - bug 414214 
Backout of Bug 408153 
Bug 404500 - "add localized description for DOMi" (for sk) [p=valastiak@mozilla.sk (Vlado Valastiak [wladow]) r=sdwilsh sr=Neil a1.9=damons] 
Bug 412204 - anti virus scanning is slow and unnecessary.  r=jimm 
Bug 408153 - Use IAttachmentExecute antivirus API when it is available (take 2).  r=sdwilsh, r=robarnold, a=beltzner, a=mconnor 
Backout of Bug 408153 
Bug 414214 - Download Manager window doesn't stay open when browser.download.manager.closeWhenDone is true.  r=Mano, a=mconnor 
Backout of test change since it's orange now (passes locally though :( ) 
Disable this test again since windows and linux do not like it 
Bug 399606 - Places counts auto-refreshes as page visits.  Patch by Dietrich Ayala <dietrich@mozilla.com>, Seth Spitzer <moco@sspitzer.org>, and Shawn Wilsher <me@shawnwilsher.com>.  r=dietrich, a=beltzner.  Note, this is mostly tests with a three line code change.  If this goes orange, please don't panic 
Apparently this test just didn't pass locally, since the tinderboxen seem to like it.  s/todo_is/is/ 
Bug 413605 - allow to use JS for the selected accessible in the accessibleTree view, r=sdwilsh, sr=neil, a=mconnor 
Bug 327331 - nsNavHistory::Init allows improper initialization.  r=dietrich.  This is a comment only change patch to better document the methods used in nsNavHistory::Init for this patchers sanity.  No code was changed in the making of this patch. 
Bug 94514 - POST result page should not appear in global history or history autocomplete results.  r=bz, sr=bz 
disable randomly failing tests. rs=sdwilsh, b=413985 
Bug 414486 - Lazily load stringbundle and lazily load strings for DownloadUtils. r=sdwilsh, a1.9=schrep 
Bug 391916 - Download Manager should use the same gradient background color as the Add-ons Manager. r=sdwilsh, a1.9=schrep 
Bug 405720 - Strange message with download manager for file with unknown filesize. r=sdwilsh, b-ff3=mconnor, a1.9=schrep 
Bug 408153 - "Use IAttachmentExecute antivirus API when it is available" [p=VYV03354@nifty.ne.jp (Masatoshi Kimura [emk]) / jmathies@mozilla.com (Jim Mathies) r=sdwilsh r=jmathies a=blocking-firefox3+] 
Bug 402452 - Some download manager preferences should be assumed, not required.  r=Mardak, r=mfinkle, a=schrep 
Bug 416173 - BackupDB is completely useless.  r=vlad, a=damons 
Bug 416205 - Update nsDownloadManager::Init from changes to mozIStorageService::OpenDatabase.  r=Mardak, a=schrep 
Bug 386768 - Use mozIStorageConnection's BackupDB instead of the current (buggy) one.  r=dietrich 
Bug 327331 - nsNavHistory::Init allows improper initialization.  r=bsmedberg 
Bug 416303 - Show default list, clear search, focus list when hitting escape from the search box. r=sdwilsh, a1.9=beltzner 
Bug 406857 - Don't clear referrer when restarting downloads. r=sdwilsh, a1.9=beltzner 
Bug 409179 - Inconsistent autoresume state causes download manager instantiation to fail (can lead to crash).  r=Mardak 
Bug 405497 - Calling RunInBatchedMode within a RunBatched implementation hangs.  r=Mano 
Bug 406857 - Don't clear referrer when restarting downloads. r=sdwilsh, a1.9=beltzner 
Bug 406857 - Don't clear referrer when restarting downloads. r=sdwilsh, a1.9=beltzner 
Bug 418804 - "Update storage query processor for XUL templates from changes to mozIStorageService::OpenDatabase" [p=laurent@xulfr.org (Laurent Jouanneau) r=sdwilsh sr=roc a1.9=damons] 
Bug 409815, Watchdog timer for download scanner r=sdwilsh 
Bug 412565, Exception handlers for virus scanning r=sdwilsh 
Bug 418960, Download scanner threads should be lower priority r=sdwilsh 
Bug 418897: Update nsUrlClassifierDBServiceWorker::OpenDB() from changes to mozIStorageService::OpenDatabase.  r=tony, r=sdwilsh, blocking-firefox3=beltzner 
Bug 416446 - Make PluralForm more useful for extensions and delay importing strings for perf. r=sdwilsh, r=smontagu, a1.9=damons 
bug 416208: update content pref service to reflect changes to mozIStorageService::openDatabase and improve robustness against database file and schema corruption; r=sdwilsh, a=dsicore 
Bug 419403 - Pimp My Download Manager Search! (multi word, match any text). r=sdwilsh, a1.9=beltzner 
Disable bug 419403 test on windows. r=sdwilsh 
Bug 271812 - DOM Inspector not published to addons.mozilla.org.  r=mconnor, sr=mconnor.  NPOTDB 
Bug 416207 - Update cookie/permission services from changes to mozIStorageService::OpenDatabase. r=sdwilsh, sr=mconnor, a=beltzner 
Bug 420047 - "Cannot inspect anything" [p=sdwilsh@forerunnerdesigns.com (Shawn Wilsher [sdwilsh]) r=luser/ted a1.9b4=beltzner] 
Bug 326228 - "No error message when download manager tried to store file in folder with insufficent access rights" [p=steveisok1@yahoo.com (Steve) ui-r=madhava r=sdwilsh a1.9=beltzner a=blocking-firefox3+] 
Bug 395974 - "our storage unit tests cause "WARNING: Unsafe use of LIKE detected!" warnings" (Bind the value to avoid WARNING) [p=ondrej@allpeers.com (Ondrej Brablc) r=sdwilsh] 
Bug 412360 - Download Manager remains empty, downloads don't start, with this 3.0b2 downloads.sqlite. r=sdwilsh, r=biesi, sr=biesi, b-ff3=beltzner 
Bug 420595 - ""you have chosen to open" dialog uses wrong icon" (Change the accept button icon to a save one when the only choice is "save") [p=frnchfrgg-mozbugs@altern.org (RIVAUD Julien [_FrnchFrgg_]) r=sdwilsh a1.9=damons] 
Bug 413093 - With "Remember what I've download" disabled/unchecked (browser.download.manager.retention set to 0), the Download Manager window remains open until clicked/focused. p=sdwilsh, r=Mardak, b-ff3=beltzner 
Bug 399498 - "use XDG downloads dir as default downloads dir" (use XDG download dir, with a fallback to the current default if the XDG user dirs are disabled) [p=chpe@gnome.org (Christian Persch) r=sdwilsh r=bsmedberg a1.9=damons] 
Backing out bug 420595 due to causing bug 422585. r=sdwilsh. 
Bug 399264 - stop hard coding folder roots in place: urls.  r=dietrich 
Bug 422687 encfs makes Firefox crash at start [@ libsqlite3.so@0x30fad][@ sqlite3_exec] r=sdwilsh a=beltzner 
Bug 403412 - Download Manager window title fails to clear/update upon download completion. r=sdwilsh, a1.9=beltzner 
Bug 414850 - "Clear List" in download manager should only remove visible downloads. r=sdwilsh, a1.9=beltzner 
Bug 420482 - Big discrepancy in ETA between Downloads Manager & Downloads status bar panel. r=sdwilsh, b-ff3=beltzner 
Bug 415947: upgrade SQLite to 3.5.7, r=sdwilsh, a1.9=beltzner 
bug 423964 uninitialized variable, r=sdwilsh, a=beltzner 
Bug 335418 - Pause downloads when computer is about to go to sleep. r=sdwilsh, a1.9=beltzner 
Bug 420505 - mozStorageService isn't as threadsafe as it claims to be. p=sdwilsh, r=brendan, r=bsmedberg, b1.9=sayrer 
Bug 423625 - ""Evaluate JavaScript" window is transparent" [p=trev.moz@adblockplus.org (Wladimir Palant) r=sdwilsh sr=Neil] 
Bug 412374 - "Parental Controls can be easily bypassed by going back to the download source" [p=jmathies@mozilla.com (Jim Mathies) r=sdwilsh sr=bsmedberg a=blocking-firefox3+] 
Bug 411214 - "New MIME type set with "Do this automatically ..." fails to locate helper app" [p=jmathies@mozilla.com (Jim Mathies) r=sdwilsh a1.9=beltzner] 
More bustage fix for bug 416683. r=sdwilsh 
Make the download manager tests remove their temporary files, and rename the prefix they use to work around the Mac unit test machine having filled up all of dmuitest.file through dmuitest-9999.file in its temp dir.  rs=sdwilsh  a=tests+orange 
Bug 423273 - Fix storage API to not break old behavior.  r=shaver, sr=shaver, a=shaver 
Land testcase for bug 397935. r=sdwilsh 
Bug 394247 - nsITransfer::Init fails (crash [@nsDownloadProxy::OnStateChange]). r=sdwilsh, b-ff3=beltzner 
Bug 412374 - "Download Mgr bypasses Vista Parental Controls' file-blocking flag" [p=jmathies@mozilla.com (Jim Mathies) r=sdwilsh sr=bsmedberg a=blocking-firefox3+] 
Bug 425924 - "CVS remove mozilla/toolkit/components/downloads/src/old.cpp" [p=ryanvm@gmail.com (Ryan VanderMeulen) r=sdwilsh] 
Bug 424608 - "NS_GetInnermostURI result requires a null check in download scanner" [p=jmathies@mozilla.com (Jim Mathies) r=sdwilsh a=blocking-firefox3+] 
nsIMutableArray test for appending null.  r=bsmedberg, sr=bsmedberg (from bug 397935) NPOTDB 
Bug 397935 - Download Manager ("Downloads") window doesn't stay open when clicking on download-complete alert notification with auto-close pref ("close when done").  r=Mardak, sr=mconnor 
Bug 424547 - "Fix strings so they are more descriptive from bug 416683" [p=jmathies@mozilla.com (Jim Mathies) r=sdwilsh ui-r+a1.9=beltzner] 
Bug 426007 - "Remove alternating row colors in the download manager" [p=dao@mozilla.com (Dão Gottwald) r=sdwilsh ui-r=mconnor a=blocking-firefox3+] 
Bug 425753 - Send notification when download manager finishes building the list. r=sdwilsh, a1.9=beltzner 
Bug 228842 - Allow multiple selections in Download Manager. r=sdwilsh, a1.9=beltzner 
Bug 426983 - Make the download option Clear List always available. r=sdwilsh, a1.9=beltzner 
Bug 415947: Upgrade to SQLite 3.5.4.2 to pick up OS/2 code changes, r=sdwilsh, a1.9=beltzner 
Bug 429144 - If downloaded file is removed, but saved dir still exists, then "Open Containing Folder" menu item should be disabled. r=sdwilsh, a1.9=beltzner 
Bug 429336 - Upgrade to sqlite 3.5.8.  r=shaver, a=beltzner 
Bug 429336 - Upgrade to sqlite 3.5.8.  a=beltzner 
Bustage fix 
Bug 429614 - add select all keyboard shortcut and context menu item to download manager. p=beltzner, r=sdwilsh, r=Mardak, ui-r=mconnor, a1.9=mconnor 
Bug 251337 - Download manager history should have "aging" option, just like the browser history. r=sdwilsh, r=mano, a1.9=damons 
Bug 251337 - Download manager history should have "aging" option, just like the browser history. r=sdwilsh, r=mano, r=bsmedberg, a1.9=damons 
Bug 427179: Set second line in download manager results to GrayText, patch by Ehsan Akhgari <ehsan.akhgari@gmail.com>, r=sdwilsh, ui-r=beltzner, a=beltzner 
Bug 430486 - Clear List button doesn't disable when it should. r=sdwilsh, r=mconnor, ui-r=mconnor, a1.9=mconnor. Fixes Bug 430597 - New clearListButton does not accomodate larger fonts 
Bug 431346 - File -> Import -> Browsing History crash Firefox [@ nsCOMPtr.h:931]. r=sdwilsh, b-ff3=beltzner, a1.9=shaver. Fixes Bug 431597 - Firefox crash after deleting History Item via Places Library [@ nsNavHistoryResult.h:429] 
Bug 430566: Saving web page/some downloads fail with "blocked by your Security Zone Policy", patch by Jim Mathies <jmathies@mozilla.com>, r=robarnold, r=sdwilsh, a=beltzner 
Bug 421006 DOMi isn't available on trunk r=sdwilsh moa=timeless 
Bug 431159 test_history_expiration.js fails on builds without places enabled. r=sdwilsh, test only change 
Bug 431124 xpcshell test test_bug_395092.js fails on Thunderbird. r=sdwilsh, test-only change 
Bug 431729: make it clearer that in Clear Private Data, 'Browsing History' deletes 'Download History' too, patch by Shawn Wilsher <sdwilsh@forerunnerdesigns.com>, r=me, a=vlad 
Bug 391928 - Feedback required when hovering over DM UI elements. r=sdwilsh, a1.9=beltzner 
Bug 431188 - Clear list active / inactive state not working properly. r=sdwilsh, a1.9=beltzner 
Bug 431358 - "DOM Inspector doesn't work in Sunbird 0.6a1 Trunk builds" (use correct trunk version) [p=ssitter@gmail.com (Stefan Sitter) r=sdwilsh] 
a=bsmedberg 
Bug 421482 - Firefox 3 uses fsync excessively.  r=shaver, a=schrep 
r=sdwilsh 
r=Mardak 
r=shaver 
r=vlad 
rs=bsmedberg 
Backed out changeset 5ccc3423220f 
Merge with mozilla-central after backout of bug 434247. 
Backed out changeset a26c86b184f7 due to Linux orange.  It is not clear why this worked locally, and failed on tinderbox. 
Merge with mozilla-central for backout of changeset a26c86b184f7. 
Bug 419691 - Get multiword search testcase working on windows. r=sdwilsh 
r=sdwilsh 
r=vlad 
sr=shaver 
r=Mardak 
r=dietrich 
r=sdwilsh 
r=Mossop 
r=Mossop 
r=gavin 
Backed out changeset 998cc827bfb1 due to leaks found with the added tests. 
bug 399031 - Convert xpfe prefpane to toolkit version (DOMi), p=aqualon@aquachan.de r=sdwilsh sr=Neil 
version 3.5.9. 
r=mconnor 
Windows bustage fix. 
r=bsmedberg 
r=gavin 
r=gavin 
r=mconnor 
r=gavin 
Bug 442762 - Annotate mozStorageStatementScoper with NS_STACK_CLASS, r=sdwilsh 
r=mconnor 
This changeset is only being backed out because it depends on the sqlite upgrade. 
merge to mozilla-central 
Backed out changeset 1d72dd9072ab for Bug 442949 (Ts regression) 
merge to mozilla-central 
Backed out changeset e741c9c886f7 for bug 442949 (Ts regression) 
merge to mozilla-central 
r=gavin 
r=gavin 
Backed out changeset 12412df591a0 (bug 443220) 
merge to mozilla-central 
r=sdwilsh
r=vlad 
r=vlad 
sr=shaver 
sr=shaver 
r=vlad 
and re-enable it. 
Disabled this test until bug 443763 is fixed. 
r=vlad 
r=dietrich 
r=ted 
Bug 431130 xpcshell test test_nsIDownloadHistory.js fails on Thunderbird. r=sdwilsh 
to mozilla-central 
r=gavin, r=sdwilsh 
Backed out changeset e05e892261a8 (bug 444005) because it caused bug 445838. 
merge to mozilla-central tip after backout (for bug 445838). 
r=sdwilsh 
r=sdwilsh 
Bug 448583 - remove isNil function from DownloadUtils.jsm. r=sdwilsh 
r=dietrich 
Avoid returning false without setting an exception. bug 429521, r=sdwilsh 
Address spelling mistake from review comment for bug 443068. 
r=dietrich 
r=myk 
This is only the changes to the distributed SQLite files. 
Bug 405892 – Finish polish of the download manager search field. r=sdwilsh 
Bug 424813, Jquery test suite update, patch by harthur, r=sdwilsh 
Bug 424813, Jquery test suite update, patch by harthur, r=sdwilsh 
Make mozIStorageConnection threadsafe - bug 448476 r=robarnold 
Bug 420595 - Change the acceptButton icon to a "save" one when there is no choice. r=sdwilsh
Bug 444395: Add Gmail Mailto protocol handler to Firefox 3.0.x. r=mconnor 
Bug 444395 test fix 
Bug 288040 – convert signons3.txt to mozstorage. r=dolske, r=sdwilsh 
http://hg.mozilla.org/dom-inspector/ 
Bug 450665: test_bug-365166.js creates file in /tmp instead of in build directory. r=sdwilsh 
r=dietrich 
r=dietrich 
r=dietrich 
r=sdwilsh 
r=dwitte 
r=dietrich 
r=gavin 
rs=me; there's really no change here. 
r=bent 
This changeset creates a threadsafe uri object for the null principal to use. 
r=dietrich 
Bug 451479 – storage-mozStorage should use COUNT in countLogins. r=dolske, r=sdwilsh 
Bug 421551: Update Growl framework to 1.1.4. rs=sdwilsh 
r=bsmedberg 
r=vlad 
r=Neil 
r=bholley 
r=bholley 
r=Neil 
Original patch r=sdwilsh, sr=biesi
r=Mak77 
Bug 409424 - "Growl integration leaks". r=sdwilsh, josh. sr=jst. 
Bug 418343: sort form history autocomplete results alphabetically, r=sdwilsh 
r=bent 
r=dietrich 
Bug 436553 - Automate litmus test for closing the download manager; r=sdwilsh 
rs=me 
r=mrbkap 
Bustage fix - double semi-colon. 
r=ted 
Bug 455202 - executeAsync without listener/callback results in segfault when error encountered; fix part; r=sdwilsh 
Bug 455202 - executeAsync without listener/callback results in segfault when error encountered; test part; r=sdwilsh 
r=Mano 
This changeset contains the changes to SQLite itself. 
Backed out changeset b3783fc5a9c9 (bug 455836) - TREE IS CLOSED! 
r=dietrich 
Bug 449640 patch by Shawn Wilsher <sdwilsh@shawnwilsher.com>
r=sdwilsh, r=dietrich, r=Mardak 
r=Mak77 
Test breakage fix from bug 449640 
Backed out changeset dabae13daacb 
Backed out changeset f3c9af143cc1 (places fsync work) 
backout merge 
Backed out changeset c99b7659dc0a (places fsync work) 
backout merge 
Backed out changeset eb14737f8488 (places fsync work) 
backout merge 
backout merge 
Bug 452899 - Don't explicitly create the statement wrapper - storage does it for us; r=(dolske + sdwilsh) 
Bug 452899 - Don't explicitly create the statement wrapper - storage does it for us; r=(dolske + sdwilsh)
Bug 456471 - mozIStorageError IDL file needs ERROR undefined for WinCE / WinMobile. patch by wolfe, r=sdwilsh 
Bug 456489 - WinCE Compiler keyword interface used in mozStorageRow.cpp. patch by wolfe, r=sdwilsh 
r=dietrich 
r=bent 
r=Mano 
This changeset contains the changes to SQLite. 
r=bsmedberg 
ui-r=beltzner 
r=dietrich 
Bug 449640 patch by Shawn Wilsher <sdwilsh@shawnwilsher.com>
r=sdwilsh, r=dietrich, r=Mardak 
r=Mak77 
r=sdwilsh 
Backout of last four changesets (places fsync work) 
r=bsmedberg 
a Tp regression, which means we need to back this out :( 
merge for backout of 417037 
to back this out :( 
Backed out for Tp regression (bug 457288) 
merge for backout of bug 456910 
Bug 457396 - in test_history_expiration add the visit in the past to circumvent possible VM timing bugs (for mak77@bonardo.net, r=sdwilsh) 
r=dietrich 
Bug 449640 patch by Shawn Wilsher <sdwilsh@shawnwilsher.com>
r=sdwilsh, r=dietrich, r=Mardak 
r=Mak77 
r=sdwilsh 
Adding some dump statements to figure out what is gong on with tinderbox. 
A bit more debugging output for the test... 
Remove the places.sqlite file for download manager tests because of expiration tests. 
More test file cleanup so failed runs don't cause perpetual failures... 
Removing debugging code from earlier today in the download manager test. 
Backout of places fsync work. 
rs=me 
r=dcamp 
Bug 426991 -  Form submission extremely slow on large forms (with form Form history turned on). r=sdwilsh, r=gavin 
Bug 445158 - Consider providing a pref that allows users to avoid check for "Launching Applications and Unsafe Files" Internet option; r=(sdwilsh + tellrob) 
Bug 414326 - Use DownloadUtils for software update downloads. r=sdwilsh, r=robstrong 
sr=sicking 
Bug 459329 Download Manager should honour --disable-vista-sdk-requirements r=sdwilsh 
Bug 459571 Places autocomplete results contain incorrect search string r=sdwilsh,mardak 
Bug 457110 - Support in-memory DB for the downloads manager back-end, r=sdwilsh 
Bug 459988 - Download manager does not send the dl-cancel notification, r=sdwilsh 
r=Mano 
This changeset is the actual upgrade to SQLite. 
r=dietrich 
r=dietrich 
Bug 449640 patch by Shawn Wilsher <sdwilsh@shawnwilsher.com>
r=sdwilsh, r=dietrich, r=Mardak 
r=Mak77 
r=sdwilsh 
r=dietrich 
r=dietrich 
r=sdwilsh 
r=dietrich 
r=dietrich 
r=dietrich 
r=dietrich 
r=dietrich 
r=dietrich 
r=dietrich 
r=sdwilsh 
Backout places fsync changes 
Bug 456520 -  Implementation of Multi-Touch Gestures on Mac OS X, p=tdyas@zecador.org+edilee@gmail.com, r=sdwilsh@forerunnerdesigns.com, ui-r=beltzner@mozilla.com 
r=bent 
r=bent 
r=bsmedberg 
r=dietrich 
Bug 449640 patch by Shawn Wilsher <sdwilsh@shawnwilsher.com>
r=sdwilsh, r=dietrich, r=Mardak 
r=Mak77 
r=sdwilsh 
r=dietrich 
r=dietrich 
r=sdwilsh 
r=dietrich 
r=dietrich 
r=dietrich 
r=dietrich 
r=dietrich 
r=dietrich 
r=dietrich 
r=sdwilsh 
move sqlite-version.h rules below rules.mk so 'make -C db/sqlite3/src' does the right thing. rs=sdwilsh 
r=dietrich 
Backed out changeset 25a7e822742a to fix windows bustage 
backout merge 
Bug 460635 - There should be one async execution thread per mozStorageConnection connection; v1.2; r=(bugmail + sdwilsh) 
Bug 460635 - There should be one async execution thread per mozStorageConnection connection; v1.2; r=(bugmail + sdwilsh) 
Bug 426544 - Disable browser.download.manager.alertOnEXEOpen and set internet zone bit on all downloaded files; v3; r=sdwilsh 
r=asuth 

Bug 462077 - Lazily create Extensions object (FUEL)r=gavin 
Bug 462213 -  make migrateV8 tolerant to downgrade-upgrade paths, r=sdwilsh 
Bug 462204 - Don't try to cancel a not existant timer in nsPlacesDBFlush, r=sdwilsh 
Bug 462205 - add statementCallback interface to nsPlacesDBFlush, r=sdwilsh 
Bug 462206 - finalize statements in nsPlacesDBFlush, r=sdwilsh 
r=dietrich 
r=asuth 
r=asuth 
bug 462379 followup (for sdwilsh@forerunnerdesigns.com) 
More bug 462379 followup (both == 2) rs=sdwilsh 
Bug 448652 - Very Long URL seems to be blocked by "Security Zone Policy"; "v2.3"; r=sdwilsh 
r=bsmedberg 
performance numbers. 
merge for backout of bug 462050 
Bug 462379 - (NS_ERROR_FAILURE) [nsINavBookmarksService.insertBookmark] when trying to star a bookmark (r=sdwilsh, for marco, sdwilsh) 
Bug 461376 - Allow customization of multi-touch actions by preference. r=sdwilsh 
Backed out changeset 2c00478d356a (bug 458563) for orange 
merge for backout of changeset 2c00478d356a (bug 458563) for orange 
Backed out changeset 157abfbcb96e (bug 461422) tree is closed 
backout of changeset b0dc837c20fa and 73350927f5f1 due to test failures 
Bug 248970 - Private Browsing mode (global toggle for saving/caching everything) [downloadmgr part]; r=sdwilsh 
merge back to tip for private browsing 
r=dietrich 
r=dietrich 
r=dietrich 
Comment out test failure.  Filed bug 462986 for it. 
Tests will be landing in a follow-up patch. 
Bug 462992 - Assertion running toolkit/components/downloads/test/test_download_manager.js in debug builds.  r=sdwilsh, test-only change 
r=mconnor 
Bug 463227 - in the All Tabs panel, TAB key should move focus to the preview. r=sdwilsh 
not part of the default build (test only change) 
rs+=sdwilsh, sanit sr+=NeilAway 
Bug 462621 Make --disable-vista--sdk-requirements actually produce a working build (regression from bug 459329) r=sdwilsh (NPOTDB) 
Bug 463885 - Entering the Private Browsing mode may not always empty the download manager list; r=sdwilsh, a=blocking1.9.1+ 
Bug 463471 - temp tables are not correctly synced to disk when the user clear private data on shutdown, r=dietrich, sdwilsh a=beltzner 
Bug 463154 - Form history should record creation/usage timestamps. r=mconnor, r=sdwilsh 
Bug 463471 - temp tables are not correctly synced to disk when the user clear private data on shutdown (r=sdwilsh, r=dietrich) 
Bug 460086: Library context menu for history items should include "Delete all data to <domain>". Tests and correctness fixes. r+a1.9.1b2=mconnor 
r=sdwilsh, a1.9.1b2=beltzner 
Bug 464202 - nsGlobalWindow leak running browser-chrome Mochitests. r=mrbkap a=beltzner 
Bug 457743 -  Automatic wrapper creates cycles, and thus leaks.  r=dcamp, r=asuth, a=beltzner for 1.9.1b2 
Bug 353851 - "accumulation of outer chrome windows in mOpener chains (window.opener)". Fix assertion, r=bz, a=sdwilsh (sheriff). 
Disable a test causing a test failure as a result of bug 465843. 
original patch r=mrbkap, a=beltzner 
r=sdwilsh 
r=ted, a1.9.1=beltzner [js bits rs=sdwilsh] 
r=ted, a1.9.1=beltzner [js bits rs=sdwilsh]
Bug 465756 - Ignore browser.helperApps.deleteTempFileOnExit not being set in private browsing; r=bz,sdwilsh sr=bz a=blocking1.9.1+ 
Bug 463882 - nsDownloadManager::Init is not safe for multiple calls; r=sdwilsh a191=beltzner 
Add crashtest for bug 400349.  sdwilsh gave me permission to check in crashtests in today's CLOSED TREE. 
This changeset contains the changes to the SQLite files. 
r=asuth 
Bug 452899 - Don't explicitly create the statement wrapper - storage does it for us; (retry, after bug 457743 was fixed); r=(dolske + sdwilsh) 
Bug 452899 - Don't explicitly create the statement wrapper - storage does it for us; (retry, after bug 457743 was fixed); r=(dolske + sdwilsh)
Bug 463021 - Private browsing tests use timeouts; r=sdwilsh 
Bug 418643 trivial follow-up: Remove unneded 'typedef' token, in 'typedef struct folderChildrenInfo { ...', to fix compiler warning. r=sdwilsh 
r=bsmedberg, r=bz, sr=bz 
r=gavin 
r=asuth 
r=asuth 
fix for windows bustage 
Backed out changeset b6f762fde736 (bug 466582) for unit test orange. 
merge to tip for backout 
Backed out changeset 3744204c1576 (bug 432938) due to orange 
merge to tip for backout 
Bug 467971 -  random failures on test_multiple_visits_around_sync.js, r=sdwilsh 
Bug 465510 - random failures on test_database_sync_after_addVisit.js, r=sdwilsh 
Bug 467856 - Expose SQLITE_IOERR, r=sdwilsh 
sr=bz 
followup to Bug 431558 - implement preventive maintenance for places.sqlite, remove observer on test finish, r=sdwilsh 
bug 468341 - Some toolkit places tests fail on SeaMonkey unit test boxes - make tests mor tolerant to default prefs, non-override DOM error messages, non-existing browser-specific services and protcol defintions, r=sdwilsh a=tests-only 
bug 468744 - finalize sqlite statements before closing db to avoid sqlite warnings; r=sdwilsh 
r=gavin 
r=MaK77 
Backed out changeset 00563815af18 (bug 463887) because it caused orange. 
merge to tip for backout 
Bug 463988 - Gloda: mozStorageConnection holds lock while calling outside its module leading to PR_ASSERT(lock->owner != me) on shutting down while indexing is active. v1 add flag that indicates async thread is shutting down, don't call nsIThread::Shutdown with a lock held. r=sdwilsh. 
Bug 445525 - set SQLITE_CONFIG_MEMSTATUS to 0. v1.1 turn off SQLITE_CONFIG_MEMSTATUS at init-time. r=sdwilsh 
Bug 469062 - test_multiple_visits_around_sync.js leaks now, r=sdwilsh 
Bug 453529 - Retain embed visits and places into the temp table in memory, r=sdwilsh 
Bug 458849 - transition download visits saved when "Keep my history..." is unchecked, r=sdwilsh 
Bug 469972 - leaking the places database connection in strange situations; r=dietrich 
Bug 470455 - test_database_sync_embed_visits.js leaks, r=sdwilsh 
Bug 464486 - lots of bookmark corruption reported via user support (r=marco, sdwilsh) 
Bug 470429 - nsPlacesDBFlush::onItemAdded should not sync if the item is a container, r=sdwilsh 
Bug 471547 - move PlacesDBUtils getters to avoid possible leaks, r=sdwilsh 
Bug 468400 - xpcshell-simple/test_places/unit/test_adaptive.js | *** TIMEOUT ***: The test timed out while polling database, r=sdwilsh 
r=asuth 
This contains the changes to SQLite files. 
r=Mardak 
Bug 467463 - Login Manager should store a GUID for logins. r=gavin, r=sdwilsh. 
r=asuth 
This contains the changes to SQLite files. 
Bug 470586 Can crash removing all pages from a host when the sidebar is grouped r=sdwilsh 
Bug 470586 - Crash calling removePagesFromHost when sidebar is showing pages grouped by day and site, r=sdwilsh 
Bug 424814: Update prototype test suite to 1.6.0.2, patch by harthur, r=sdwilsh 
Bug 431473. Kill unused mozIStorageDataSet. r=sdwilsh 
r=sdwilsh 
r=bent 
Bug 474191 - mochitest-browser-chrome target does unnecessary "correction" of test-paths; r=sdwilsh 
Bug 472064 - Satchel needs better upgrade/downgrade logic. r=sdwilsh, r=gavin 
Bug 474538 - nsIBrowserHistory::removePagesFromHost documentation is crazy, r=sdwilsh 
sr=mconnor 
r=MaK77 
r=gavin 
r=gavin 
Bug 474831 - Add a browser chrome test to check Places Library does not leak when opened and closed, r=sdwilsh 
Bug 463907 - mozStorageConnection::ExecuteAsync does not check that provided statements have not been finalized; r=sdwilsh 
Bug 473269 - Stop using swap, and start using forget; r=sdwilsh 
Bug 473268 - We should use forget instead of swap in mozStorageService.cpp; r=sdwilsh 
r=MaK77 
delete corrupt cookies.sqlite on startup so the user doesn't have to. b=470578, r=sdwilsh, sr=mconnor 
browser-chrome test for Bug 433231 - Places Library leaks the nsGlobalWindow when closed with a history entry selected, r=sdwilsh 
Bug 477295 - Clean up unnecessary assignments of NS_ConvertUTF*. r=sdwilsh 
Bug 436382 - Resume all resumable downloads before retrying, even for failed/canceled downloads. r=sdwilsh 
Bug 326228 - No error message when download manager tried to store file in folder with insufficent access rights. r=sdwilsh, ui=madhava 
Bug 477793 - Make sure preventive maintenance cannot act on roots, r=sdwilsh a=blocking191 
typo fix in a comment: s/glock/block/ CLOSED TREE a=sdwilsh|sheriff 
r=mak 
Bug 477927 - 6 TUnit test_browser_places/unit/* leak 1,012 bytes now, r=sdwilsh 
ui-r=beltzner 
Bug 472924 - Remove RDF import from the download manager. r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
debug builds. 
merge for backout 
Bug 468543: sort autocomplete items case insensitively, r=sdwilsh 
Bug 465783: Fennec default download location inaccessible to users. r=sdwilsh sr=bsmedberg 
Bug 479739 - Make location bar autocomplete even faster. r=sdwilsh 
r=asuth 
Bug 479082 - AutoComplete should not show unvisited not-bookmarked-elsewhere children of livemark containers, r=sdwilsh 
Bug 476636 - nsFaviconService::ExpireAllFavicons cannot work, r=sdwilsh 
Bug 479543 - mozStorageConnection::Close should use NS_ERROR instead of NS_WARNING to complain about unfinalized statements; r=sdwilsh 
r=mak 
change cookie eviction so that purges only take place when the limit on max cookies is reached, and the oldest cookie is greater than a set age. b=444600, r=sdwilsh,
Bug 482068 - Finalize places statements in tests, because failure to do so => assertions that make debug builds and the people who run tests in them angry.  r=sdwilsh 
Bug 481257.  Make the insertion triggers not do an O(N) scan of the whole table.  r=sdwilsh 
r=sdwilsh 
Bug 482276 - mDBVisitsForFrecency query doesn't use indices for sorting (we can be 7x faster!), r=sdwilsh 
r=mak 
Bug 463256 - SSL sites sometimes don't load after re-entering regular browsing mode (from Private Browsing); r=mconnor,sdwilsh 
Bug 464800 - Download manager title window is not cleared when switching to Private Browsing; r=sdwilsh 
r=bz 
r=asuth 
sr=bz 
Bug 444600 -  (cookiemonster2) Cookies go missing after a few days. r=sdwilsh, sr=mconnor 
Bug 444600 - (cookiemonster2) Cookies go missing after a few days. r=sdwilsh, sr=mconnor 
Bug 483959 - [SeaMonkey] Browser-Chrome browser_bug471962.js times out on SeaMonkey; Bypass the download manager using a mock transfer implementation; r=sdwilsh 
Bug 464800 - Download manager title window is not cleared when switching to Private Browsing; r=sdwilsh 
r=dietrich 
r=asuth 
r=asuth 
r=bent 
r=asuth 
rs=dietrich 
rs=dietrich 
rs=dietrich 
r=bent 
r=bent 
r=asuth 
Bug 452899 - Don't explicitly create the statement wrapper - storage does it for us; r=(dolske + sdwilsh) 
bug 484397 - SeaMonkey fails browser_nsIDownloadManagerUI.js due to missing Cc/Ci/Cr, r=sdwilsh 
Bug 483693 - import from legacy storage should use a transaction for better performance. r=sdwilsh 
r=bent 
r=asuth 
Bug 485223 -  Stop checking mDBConnection is non-null in mozStorageStatement, r=sdwilsh 
Bug 483980: Allow history/bookmark observer components to register with a startup category, r=sdwilsh 
Backed out changeset 2d1f7c7c7a2b (bug 483980) 
Backout merge for changeset 2d1f7c7c7a2b (bug 483980) on a CLOSED TREE. 
Bug 442099 - When resetting the defaults, we should use clearUserPref; r=sdwilsh 
[Bug 455509] Implement system integration via dbus (open_mime) in Fennec. r=sdwilsh,blassey sr=bz 
Bug 463256 - SSL sites sometimes don't load after re-entering regular browsing mode (from Private Browsing); r=mconnor,sdwilsh 
Bug 463256 - SSL sites sometimes don't load after re-entering regular browsing mode (from Private Browsing); r=mconnor,sdwilsh 
r=asuth 
r=asuth 
r=sdwilsh 
Bug 482353 - 1 sort operation required by mDBGetChildren, r=sdwilsh 
Bug 487594 - 1 sort operation required by mDBGetTags, stop warning for now, r=sdwilsh 
r=asuth 
r=dietrich 
r=dietrich 
r=asuth 
r=asuth 
This changeset contains the changes to SQLite code. 
Backed out changeset 7b4e5f6006a3 (bug 487664) 
Merge for backout of bug 487664 
Backed out changeset 629e0c724413 (bug 487664) 
Merge for backout of bug 487664 
Merging mozilla-central to tracemonkey.  Should fix the red on talos tinderbox. 
Bug 484579 - nsIMIMEService.getTypeFromExtension may fail unexpectedly on Windows when "Content Type" is empty in the registry; r=(robert.bugzilla + sdwilsh) sr=bzbarsky 
Bug 484579 - nsIMIMEService.getTypeFromExtension may fail unexpectedly on Windows when "Content Type" is empty in the registry; Test case; r=sdwilsh 
Bug 488571 - Get rid of explicit form history caching. r=sdwilsh, r=gavin 
Bug 243136 - saved form data should expire after a time period defined by user. r=sdwilsh, r=gavin 
Bug 487781 - 5 sort operations required by FindVisits selectStatement, r=sdwilsh 
Bug 487787 - 1 sort operation required by mDBKeywordQuery , stop warning for now. rs=sdwilsh 
Bug 487789 - 1 sort operation required by mDBAdaptiveQuery, stop warning for now. rs=sdwilsh 
Bug 485442 - crash bug calling nsINavHistoryQuery.uri, r=mak,sdwilsh 
r=asuth 
Bug 243136 - saved form data should expire after a time period defined by user. r=sdwilsh, r=gavin 
Bug 487040 - Crash [@ nsNavHistoryResult::OnItemAdded ] in mochitest-browser-chrome, r=dietrich,sdwilsh,smaug a=blocking191 
Bug 403014 - Windows "Don't Index" bit set on download files. (r=sdwilsh,dougt) 
r=asuth 
r=ted 
r=tony 
Make temporary debug-only logging code not crash. r=sdwilsh 
Bug 489078 - (TUnit) xpcshell-tests test_getTypeFromExtension_with_empty_Content_Type.js leaks; r=sdwilsh 
Bug 484579 - nsIMIMEService.getTypeFromExtension may fail unexpectedly on Windows when "Content Type" is empty in the registry; fix for test; r=sdwilsh sr=bzbarsky 
sr=dbaron 
Bug 490384 - Only evict unused cache entries when under memory pressure.  r=vlad a=sdwilsh for push into CLOSED TREE
Actually address review comments for bug 482310.  a=sdwilsh for CLOSED TREE 
bug 483781 - make tests that require the toolkit dlmgr UI not fail with new SeaMonkey dlmgr UI work, r=sdwilsh 
r=asuth 
r=asuth 
r=asuth 
r=asuth 
r=asuth 
r=asuth 
r=asuth 
r=asuth 
r=asuth 
Bug 491954 - Views should select exact columns, r=sdwilsh 
Bug 392193 - first run migration / import from ie, opera and safari browser can be slow, migration should use "run in batch", r=sdwilsh 
Bug 491954 - Views should select exact columns, r=sdwilsh a=blocking191 
Bug 489872 - [@ nsNavHistory::IsVisited] doesn't check null aURI. r=sdwilsh
r=bsmedberg 
r=asuth 
r=enn 
r=dietrich 
Bug 448344 - Download manager says "1 minute remaining" when it's really between 1 and 2 minutes. r=sdwilsh, ui=limi
r=asuth 
followup for Bug 392193 - first run migration / import from ie, opera and safari browser can be slow, migration should use "run in batch". Fix Opera migrator regression. r=sdwilsh 
Followup to Bug 484019 - Fix corrupt or wrong roots titles in the database and in the Library. Wrong binding. r=sdwilsh 
Bug 488966 - Add a last_visit_date column with an index to moz_places, r=sdwilsh 
Backed out changeset d88e6b8fab83 (bug 486974) due to reftest parsing issues. 
Trying to make the CLOSED TREE go away. 
Bug 493374 - Avoid marking database as corrupt if initializing additional db objects fails, and avoid creating more than one corrupt file every 24 hours, r=sdwilsh 
Bug 488597 Fix Random Test Failure (test_punycodeURIs.js). r=sdwilsh 
Backed out changeset 4480c18255f2 (bug 493560) 
merge for backout 
Backed out changeset dd3d70e5849e (bug 493560) 
merge for backout 

Bug 493602 - UMR when clicking history menur=mak 
Bug 493933 - When sorting bookmarks BY NONE we should take in count partitioning, r=sdwilsh a191=beltzner 
Bug 493934 - Autocomplete queries are wrongly cutting away some result, r=sdwilsh a191=beltzner 
sr=bz 
sr=bz 
Bug 494370 - Better query for mDBGetItemProperties, r=sdwilsh a=beltzner 
Bug 481406: Include console messages in the log. r=sdwilsh 
bug 495629 - also fix test_backspace_key_removes.xul (Mac-only) to work with SeaMonkey, r=sdwilsh 
bug 495604 - Make ifndef MOZ_SUITE in dlmgr Makefile.in actually work, r=sdwilsh 
Bug 470241 - [Firefox] test_bug248970_cache.js leaks; (Av1a) trivial cleanup; r=sdwilsh 

Bug 495889 - UMR in nsNavHistoryExpire::OnQuit()Bug 458199 - Polish the download manager on Mac OS X, r=sdwilsh 
r=bsmedberg 
imported patch storage.remove-statement-state-checks 
r=bent 
r=sdwilsh
r=asuth 
This change contains the changes to SQLite's code. 
Backed out changeset d891a7418d95 (bug 483980) 
merge for back out of changeset d891a7418d95 (bug 483980) 
Backed out changeset f3fcd36fcbd1 (bug 119061) for linux orange. 
merge for back out of changeset f3fcd36fcbd1 (bug 119061) for linux orange. 
Bug 497563 - Crashes [@ BindStatementURI] (r=sdwilsh)
Bug 494713 - Logic error in nsNavHistory::CalculateFrecencyInternal due to lack of braces around if statement, r=sdwilsh 
Bug 481231 - Add an ID to the rows element of editBookmarkPanelGrid in editBookmarkOverlay.xul, r=sdwilsh 
Bug 496542 - Duplicate entries in History sidebar and Library (r=sdwilsh) 
Bug 497884: Intermittent failure in test_classifier.html and test_classifier_worker.html. r=sdwilsh 
r=asuth 
sr=vlad 
sr=bz 
Backed out changeset d546bd2c46a4 (bug 490085) because it's broken (and thunderbird's test caught it) 
merge for back out of changeset d546bd2c46a4 (bug 490085) 
merge again! 
Backed out changeset 0997bcc75daf (bug 488148).  Silly me - this patch is wrong! 
merge for back out of changeset 0997bcc75daf (bug 488148).  Silly me - this patch is wrong! 
Bug 490742 - Transactions Manager should batch child transactions, r=sdwilsh 
Bug 482346 - mDBFindURIBookmarks can't use indices to sort, r=sdwilsh r=dietrich 
r=asuth 
sr=vlad 
Test for bug 488148.  r=asuth 

Bug 498722 - nsIFaviconService.getFaviconLinkForIcon error on null argumentr=mak 
Bug 490867 - Variant fixes: coerce null to empty string, GetIsNull should check correct type, variant base type should be void, r=sdwilsh
r=asuth 
Bug 500978 - Download Manager treats search terms as regular expressions. r=sdwilsh 
Bug 500976 - PlacesController.prototype._shouldShowMenuItem should not depend on bug 232598. r=sdwilsh 
Bug 497823. Fix compilation errors in Stroage on AIX. r=sdwilsh 
Bug 499268 -  storage code for Symbian emulator. r=sdwilsh 
Bug 500331 - better query for RESULTS_AS_TAG_CONTENTS, r=sdwilsh 
r=sdwilsh 
Bug 487782. Add hildon-mime.h to system headers list. r=sdwilsh 
Bug 502764 - Disable DNS prefetching for microsummary requests. r=sdwilsh 
r=sdwilsh
Bug 481437 - browser_library_open_leak.js is throwing, fixes also some throw in placesTxn.js test, r=dietrich, sdwilsh 
Bug 503195 - Using Places nodes' PropertyBags leaks, r=sdwilsh 
Bug 503195 - Using Places nodes' PropertyBags leaks, r=sdwilsh 
Bug 503363 - include filename+linenumber for exceptions thrown during mochitest. r=sdwilsh 
r=ted 
r=Mardak 
Bug 499990 - Locale-aware collation, r=sdwilsh, sr=vladimir 
Bug 503966, dragging tab to bookmarks sidebar opens new window, fix this by passing the dataTransfer to the view, r=sdwilsh 
Bug 444600 - (cookiemonster2) Cookies go missing after a few days. Implement an age+number based purge algorithm. r=sdwilsh, sr=mconnor 
r=sdwilsh
r=ted 
r=cjones 
r=asuth 
r=asuth 
Backout of bug 494828 and bug 505550 due to orange. 
Bug 498938 -  Add Levenshtein Edit Distance function to Sqlite so we can use it in queries. r=sdwilsh sr=vlad 
r=asuth 
r=asuth 
Bug 502860 - some of the seventh month's history entries missing in grouped by date history, r=sdwilsh
Bug 479089 - Need to test that removing a page from autocomplete actually removes a page, r=sdwilsh 
Disable these two randomly crashing tests until bug 506042 is fixed and we can get stacks from the crashes. 
r=dietrich 
r=sdwilsh 
Merge to mozilla-central 
Merge to mozilla-central 
Addressing review comment for bug 455555. 
Merging mozilla-central to places 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
r=dietrich 
Reverting accidental changes to build/automationutils.py from changeset 06433d3dafd9. 
Backed out changeset 06433d3dafd9 (bug 504422) because the patch is wrong. 
Merge for back out of changeset 06433d3dafd9 (bug 504422) because the patch is wrong. 
r=ted 
Merge places to mozilla-central. 
r=cjones 
r=asuth 
r=asuth 
r=dietrich 
r=dietrich 
r=gavin 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
Merge places to mozilla-central. 
This fix was wrong. 
Merge for back out of changeset 246b44df7dd3 (bug 504384). 
r=asuth 
r=asuth 
Bug 504384 - Excessive Flickering with the Asynchronous Location Bar. r=sdwilsh
Merge places to mozilla-central. 
Merge places head to mozilla-central head. 
sr=vlad 
Merging places and mozilla-central. 
Merging places and mozilla-central. 
Backed out changeset 8506b25206cf (bug 504311) because the test added uses enablePrivilege which hangs tinderbox asking for privileges. 
Merge for back out of changeset 8506b25206cf (bug 504311) because the test added uses enablePrivilege which hangs tinderbox asking for privileges.  Trying to fix a CLOSED TREE. 
xpcshell unit test fix from async location bar landing on a CLOSED TREE.  no bug.  r=dietrich 
Bug 487857 Add some extra checks to test_bug_401582.js to try and determine the cause of its frequent timeouts which seem to have got worse over the last day or two. Test-only change. r=sdwilsh CLOSED TREE 
followup for Bug 507219 - Crash in nsNavHistoryResult::OnVisit, stop assertions, r=sdwilsh 
Bug 507058 - nsNavBookmarks::GetBookmarkIdsForURITArray binds to a bogus index, r=sdwilsh 
r=asuth 
This contains the changes to SQLite code for the upgrade. 
bug 459114 - helper function to provide a clean profile directory for xpcshell tests. r=sdwilsh 
Backed out changeset 9ddc25fb2246 - bug 459114 - helper function to provide a clean profile directory for xpcshell tests. r=sdwilsh - for test failures 
Backed out changeset 9ddc25fb2246 - bug 459114 - helper function to provide a clean profile directory for xpcshell tests. r=sdwilsh - for test failures 
r=bz 

Bug 508344 - Remove unused location bar preferencesr=mak 
bug 459114 - helper function to provide a clean profile directory for xpcshell tests. r=sdwilsh 
Bug 433456 - mozIStorageFunction should be a [function]; r=sdwilsh 
r=bsmedberg 
Bug 498695 - Refactoring: in contentAreaUtils.js, clean up the getTargetFile function, aligning it to the SeaMonkey version; r=(mconnor + sdwilsh) 
Bug 505734 - mozStorageStatementParams.cpp compilation fails on MinGW. r=sdwilsh 

Bug 485976 - Move writing sessionstore.js off the main threadr=dietrich 
r=dietrich 
Bug 507481 - [WinCE] Check for Windows version in download manager shouldn't be done for Windows CE. r=sdwilsh 
Bug 509161 - [WinCE] Remove support for XRE_UPDATE_ROOT_DIR on WinCE. r=sdwilsh 
Bug 504804 - Virus scanning prefs cleanup and smarter integration with win policy settings. r=tellrob, r=sdwilsh. 
r=dietrich 
Bug 486342 - Write a browser-chrome test suite for the various "Save As" functions in Toolkit's "contentAreaUtils.js"; r=sdwilsh 
Bug 486342 - Write a browser-chrome test suite for the various "Save As" functions in Toolkit's "contentAreaUtils.js"; r=sdwilsh
b=506470, Mac alerts service should not initialize Growl on app startup; r=sdwilsh 
Bug 416066 -  Tests for bug 399606 are commented out and unreliable, so fix them, r=sdwilsh 
Bug 511965 - Delay Places syncs after results updates, r=sdwilsh 
Bug 486342 - Write a browser-chrome test suite for the various "Save As" functions in Toolkit's "contentAreaUtils.js"; r=sdwilsh 
Bug 509668 - mochitest-browser-chrome: browser_248970_a.js fails intermittently, r=dietrich 
always can get it. 
Bug 511965 - Delay Places syncs after results updates, r=sdwilsh 
Bug 509048 -  hitting enter after a paste into the location bar does nothing (r=gavin) 
r=sdwilsh 
sr=bsmedberg 
sr=bsmedberg 
and reading on the background thread. 
r=mak for places changes 
Test bustage fix from bug 513710. 
Bug 514407 - Make cache file writes asynchronous. r=sdwilsh 
Bug 506175, make some more tests use waitForFocus, r=sdwilsh 
r=dietrich 
sr=jst 
Bug 511207 - last page not removed from history upon close of browser, r=sdwilsh 
Bug 512854 - VACUUM places.sqlite database on daily idle once a month, r=sdwilsh 
Bug 518440 - Deprecate mozIStorageStatementWrapper & mozIStorageStatement.step() in IDL. r=sdwilsh 
Bug 518608 - Download Manager Storage usage changes: Don't create statement wrapper & don't use step(). r=sdwilsh 
Bug 518442 - Places tests should use executeStep() instead of step(). r=sdwilsh 
Bug 518418 - storage-mozStorage should use executeStep() instead of step(). r=dolske+sdwilsh 
Backed out changeset 50be346999f6 (bug 515494).  This fix is not what we want. 
Merge for back out of changeset 50be346999f6 (bug 515494).  This fix is not what we want. 
reference to the pref branch! 
have enough matches and the match behavior is MATCH_BOUNDARY_ANYWHERE. 
fix tests for Bug 512854 - VACUUM places.sqlite database on daily idle once a month, r=sdwilsh 
Bug 514823.  r=Mardak, r=sdwilsh 
Test only change to make tests clean up better by using the free profile directory given to us.  No bug. r="duh, why didn't we do this sooner" 
that newer versions of SQLite fix.  rs=mconnor 
r=bsmedberg 
Backed out changeset 467f14a11325 (bug 517604) 
merge for backout 
r=bsmedberg 
This changeset contains the changes to mozilla code for the upgrade. 
This changeset contains the changes to SQLite code. 
r=asuth 
Bug 514415 - Expose NetUtil's reference to nsIIOService. r=sdwilsh, sr=bzbarsky 
test for lazy getters scope, bug 508850, r=sdwilsh 
Bug 518666 - Add Firefox win7 jump list support. r=sdwilsh, r=dao. 
Bug 516940 - Reduce and cleanup Places expiration work at shutdown, r=sdwilsh 
Bug 519326 - Variant.h(152) : warning C4244: '=' : conversion from 'PRInt64' to 'PRInt32', possible loss of data. r=sdwilsh 
Bug 521225 - Stop syncing for random failing Places tests, and make sheriffs happier, r=sdwilsh 
Bug 478718 - Move last Places sync to xpcom-shutdown, r=sdwilsh 
Followup to bug 478718 - Be sure to make TEMPORARY category entries removals (needed before next nightly). r=sdwilsh 
Bug 522511 - Update bundled Growl to 1.2 (for nsIAlertsService on OS X) r=sdwilsh 
Bug 481775 - Crash in [@ nsCookieService::RemoveCookieFromList(nsListIter&)]. r=sdwilsh 
sr=vlad 
r=vlad 
b=522416; hang fix followup; r=bz 
Bug 522416 - Tests for blocking input stream in NetUtil.asyncFetch. 
Bug 522601.  Make inDeepTreeWalker closer to spec behavior and implement various unimplemented methods.  r=sicking,sdwilsh 
Disable some tests on Mac to allow for full keyboard access setting, a=sdwilsh, CLOSED TREE 
Backout of bug 519270 - Upgrade to SQLite 3.6.18 due to some instability. 
Add xpcshell test to make sure things stay in sync when switching PB mode. b=481775, r=sdwilsh 
This fixes one common crash bug in SQLite 3.6.16 tracked by bug 523405. 
Bug 524787 - crash [@mozStorageResultSet::GetNextRow(mozIStorageRow**) ]. r=sdwilsh 
Bug 525710 - getPagesWithAnnotation, getItemsWithAnnotation, getPageAnnotationNames, getItemAnnotationNames, getFaviconData, getQueries, getFolders and getTagsForURI length out params should be optional. r=sdwilsh 
sr=bz 
This changeset only contains changes to Mozilla code. 
This changeset contains the changes to SQLite code. 
Bug 527058 - nsHelperAppDlg.js shouldn't do delayed registration, r=sdwilsh 
sr=vlad 
r=mak 
Bustage fix for windows. 
Backout of bug 496019 and bug 526601 due to window build bustage. 
bug 522855 - Part1: Refactor DoSetAndLoadFaviconForPage, r=mak. Further modified by me, r=sdwilsh. 
bug 522855 - Part3: Refactor async callbacks, r=mak. Further modified by me, r=sdwilsh. 
bug 522855 - Part3: Make expiration lookups async, r=mak. Further modified by me, r=sdwilsh. 
Bug 528425 - exthandler doesnt compile when using widget=cairo-qt. r=sdwilsh 
Bug 528076 - Unsafe LIKE warning wrongly references mozIStorageConnection::escapeStringForLIKE. r=sdwilsh 
r=asuth 
Check to make sure that sqlite has been compiled with SQLITE_SECURE_DELETE (Bug 445164); r=asuth 
r=sdwilsh 
a=dbaron 
a=dbaron 
a=dbaron 
Backed out changeset a93d705bb969 (bug 525356). 
Merge for back out of changeset a93d705bb969 (bug 525356). 
Backed out changeset e9f64cd044f3 (bug 526601) 
Merge for back out of changeset e9f64cd044f3 (bug 526601) 
Backed out changeset f91a016416d1 (bug 496019) 
Merge for back out of changeset f91a016416d1 (bug 496019) 
Bug 532094 - crash [@ nsNavHistory::AutoCompleteFeedback(int, nsIAutoCompleteController*)], r=sdwilsh 
a=beltzner 
Bug 527311 - Addressbar suggests adaptive results even if they have no visits and we want "history" behavior, r=sdwilsh 
Bug 529544 - Shut down the HTML5 parser thread from an observer (random crash [@ mozilla::storage::Connection::Close()]). r=sdwilsh. 
Rename sqlite3 library to mozsqlite3, fixes compile problems and crashes on Mac OS X. b=513747 r=sdwilsh 
Rename sqlite3 library to mozsqlite3, fixes compile problems and crashes on Mac OS X. b=513747 r=sdwilsh 
Bug 444600 - (cookiemonster2) Cookies go missing after a few days. r=sdwilsh, sr=mconnor 
Bug 532563 - XPCOMUtils has anonymous functions (r=sdwilsh) 
sr=vlad 
sr=vlad 
sr=vlad 
Rename sqlite3 library to mozsqlite3, fixes compile problems and crashes on Mac OS X. b=513747 r=sdwilsh 
Bug 321624 - cookie per-host limit doesn't include all cookies from a domain. r=sdwilsh 
Bug 536435 - Remove bookmarks service dangerous usage of UNION ALL, r=sdwilsh 
Bug 536230 - Crash or Hang @ [nsCookieService::RemoveCookieFromList(nsListIter const&)]. r=sdwilsh 
sr=vlad 
sr=vlad 
r=asuth 
r=sdwilsh
Attempt to fix bug 510219 which is currently very orange.  r=orange 
Disabled test_browserGlue_smartBookmarks.js due to bug 510219. 
rs=mconnor for SQLite library upgrade 
rs=mconnor for SQLite library upgrade 
Part4: lazy statements creation (and minor cleanup) in nsFaviconService, r=sdwilsh 
Bug 538462 - Attempt to fix frequent Mac-debug-only leaks of two DOMWINDOWs opened in test_unkownContentType_dialog_layout.xul. r=sdwilsh 
Bug 178506 - save original last-modified date on file downloads. r=sdwilsh 
Bug 523936 - Random Test Failure in test_browserGlue_distribution.js, r=sdwilsh 
Bug 510219 - More debug for orange in test_browserGlue_smartBookmarks.js and disable test_browserGlue_prefs.js, r=sdwilsh 
r=sdwilsh, sr=bz 
cookieservice . r=sdwilsh, sr=bz 
Bug 520165 - Part11: Fix download manager tests dependancies, r=sdwilsh 
Bug 541739 - Flaws in download cancellation checks when switching the private browsing mode; r=sdwilsh 
Bug 402520 - Notify Mac OS X when a download finishes so it can make the downloads stack bounce when appropriate. r=sdwilsh, r=josh 
Bug 178506: Preserve original last-modified date on downloads r=sdwilsh 
sr=bsmedberg 
r=sicking 
r=bz 
sr=bz 
r=jwatt 
r=bz 
sr=bz 
sr=bz 
r=jwatt 
r=bz 
sr=bz 
r=bz 
sr=bz 
sr=dbaron 
sr=dbaron 
sr=sicking 
r=mak 
sr=bz 
r=sdwilsh
r=bz 
r=bz 
r=bz 
r=bz 
r=jwatt 
r=bz 
Bug 461199 (Part 26) - Update content tests to work with the new async isVisited API 
r?dbaron 
r=bz 
r=bz 
r=sicking 
r=bz 
Backed out changeset 550a4379468f 
Merge for backout of changeset 550a4379468f. 
Backed out changeset 5607b8b76949 
Merge for backout of changeset 5607b8b76949 
Backed out changeset 42bf809ee413 
Merge for backout of changeset 42bf809ee413 
Backed out changeset 018b79b00cac 
Merge for backout of changeset 018b79b00cac 
Backed out changeset b0c9f8e50057 
Merge for backout of changeset b0c9f8e50057 
Backed out changeset 2bd2f67e8f5e 
Merge for backout of changeset 2bd2f67e8f5e 
Backed out changeset 1c37899b532e 
Merge for backout of changeset 1c37899b532e 
Backed out changeset fa7f3d18510d 
Merge for backout of changeset fa7f3d18510d 
Backed out changeset 26f7974bf6ef 
Merge for backout of changeset 26f7974bf6ef 
Backed out changeset b387c724bda4 
Merge for backout of changeset b387c724bda4 
Backed out changeset 4b65b0915480 
Merge for backout of changeset 4b65b0915480 
Backed out changeset 2eaaa58d2915 
Merge for backout of changeset 2eaaa58d2915 
Backed out changeset d03d64716ccd 
Merge for backout of changeset d03d64716ccd 
Backed out changeset 113cf8eec589 
Merge for backout of changeset 113cf8eec589 
Backed out changeset 1dac46a1218e 
Merge for backout of changeset 1dac46a1218e 
Backed out changeset af29773ebf66 
Merge for backout of changeset af29773ebf66 
Backed out changeset a3e287904065 
Merge for backout of changeset a3e287904065 
Backed out changeset bca0b6ed92e4 
Merge for backout of changeset bca0b6ed92e4 
Backed out changeset 8b82e1e25671 
Merge for backout of changeset 8b82e1e25671 
Backed out changeset 3a3d576e3ac7 
Merge for backout of changeset 3a3d576e3ac7 
Backed out changeset cf4d10139ec0 
Merge for backout of changeset cf4d10139ec0 
Backed out changeset 9d0cca783522 
Merge for backout of changeset 9d0cca783522 
Backed out changeset f947b766de6f 
Merge for backout of changeset f947b766de6f 
Backed out changeset 6a2bef8d7020 
Merge for backout of changeset 6a2bef8d7020 
Backed out changeset 06b691e8cbcd 
Merge for backout of changeset 06b691e8cbcd 
Backed out changeset 93eff7903e34 
Merge for backout of changeset 93eff7903e34 
Backed out changeset 3d8baa8213cf 
Merge for backout of changeset 3d8baa8213cf 
Backed out changeset aeb2d5550890 
Merge for backout of changeset aeb2d5550890 
Backed out changeset 1622d8dab8c3 
Merge for backout of changeset 1622d8dab8c3 
not converting string types. b=544496, r=sdwilsh 
Bug 546445 - Asynchronous getPref triggers debug assertion when shutting down sqlite. r=sdwilsh 
Backed out changeset bb9e847a02c8 (bug 193911) due to performance regressions. 
Merge for back out of changeset bb9e847a02c8 (bug 193911) due to performance regressions. 
r=sicking 
sr=bz 
r=jwatt 
r=bz 
sr=bz 
sr=bz 
r=jwatt 
r=bz 
sr=bz 
r=bz 
sr=bz 
sr=dbaron 
sr=dbaron 
sr=sicking 
r=mak 
sr=bz 
r=sdwilsh
r=bz 
r=bz 
r=bz 
r=bz 
r=jwatt 
r=bz 
Bug 461199 (Part 26) - Update content tests to work with the new async isVisited API 
r?dbaron 
r=bz 
r=bz 
r=sicking 
r=bz 
Bug 461199 followup: Fix build warning "ISO C++ does not support the 'z' printf length modifier". rs=sdwilsh 
Trivial followup for bug 461199: fix new compiler warning about unsigned-vs-signed comparison. (carrying forward rs=sdwilsh from previous related followup) 
r=bz 
r=dietrich 
Mark test as passing since it is (and should be) with the fix from bug 549797. 
Bug 504804 - Skip policy checks when virus scanning is disabled. r=sdwilsh. 
r=bz 
Forgot to update the test names in reftest.list files (bug 550661). 
sr=vlad 
r=mak 
r=dwitte 
Bug 510202 - simplify C++ code now that bug 461199 has landed. r=sdwilsh,sr=bzbarsky 
r=asuth 
sr=rob_strong 
r=dwitte 
Bug 474060 - Show download progress in app icon in Windows 7 taskbar, part 2. Test by Felipe Gomes <felipc@gmail.com>. r=sdwilsh 
r=ted 
This is just the changes to SQLite code. 
Bug 546942 -  Move places import-export-service to toolkit. r=sdwilsh 
Bug 507414 - Add a createAsyncStatement API on mozIStorageConnection. r=sdwilsh, sr=vlad. 
Bug 550425: Bump up the timeout for expensive deadlock tests and print more info on failures. r=bsmedberg,sdwilsh 
Bug 553489 - Part1: new callback interface and better idl docs. r=sdwilsh sr=vlad 
Bug 553489 - Part2: AsyncFaviconStepper. r=sdwilsh r=dietrich 
Bug 553489 - Part3: GetEffectivePageStep. r=sdwilsh 
Bug 553489 - Part4: FetchDatabaseIconStep. r=sdwilsh 
Bug 553489 - Part5: EnsureDatabaseEntryStep. r=sdwilsh 
Bug 553489 - Part6: FetchNetworkIconStep. r=sdwilsh 
Bug 553489 - Part7: SetFaviconDataStep. r=sdwilsh 
Bug 553489 - Part8: AssociateIconWithPageStep. r=sdwilsh 
Bug 553489 - Part9: NotifyStep. r=sdwilsh 
Bug 553489 - Part10: reimplement setAndLoadFaviconForPage. r=sdwilsh sr=vlad 
Bug 553489 - Part11: Test for cases where an icon should not be set. r=sdwilsh 
Bug 554903 - Remove microsummaries.xpt reference from package-manifest and fix a left-over, r=sdwilsh 
Bug 555124 - Intermittent "ASSERTION: AsyncStatementSpinner not thread-safe: '_mOwningThread.GetThread() == PR_GetCurrentThread()', file .../mozilla/storage/test/test_true_async.cpp, line 162". null out references on the main thread to avoid destruction on the async thread. r=sdwilsh. 
Bug 544240 - Idle service does not work on Qt on mobile platforms r=sdwilsh 
Bug 555719 - (SQLite3.6.23.1) Upgrade to SQLite 3.6.23.1. rs=sdwilsh, some other dude who gave him an rs for such upgrades in general. 
Fix comments on Get[ASCII|UTF]Origin.  No bug.  r=bz 
Fix existing tests to deal with getComputedStyle lying about :link vs. :visited.  (Bug 147777)  r=sdwilsh 
Fix initialization comment in nsRuleProcessorData.  (Bug 147777)  r=sdwilsh 
Bug 553124 - After bug 147777 lands, private browsing doesn't need to disable coloring of visited links any more; r=sdwilsh,bzbarsky 
Bug 523936 - temporarily disable test_browserGlue_distribution.js (r=sdwilsh) 
Bug 474060 - Show download progress in app icon in Windows 7 taskbar. Tests by Felipe Gomes. r=sdwilsh r=mconnor r=sid, sr=vlad, ui-r=faaborg 
Bug 559682 - Ensure we create a valid transaction in batches before trying to commit it. r=sdwilsh 
bug 544240 - Idle service does not work on Qt on mobile platforms r=sdwilsh 
Bug 560261 - _DOMElement assertion on livemarks update. r=sdwilsh 
Bug 542736 - random orange in xpcshell/tests/test_places/expiration/test_pref_interval.js r=sdwilsh 
Bug 529821 - Places should shutdown earlier (at profile-before-change). r=sdwilsh r=ehsan 
Bug 559678 - followup, make the warning less scarying. rs=sdwilsh 
Bug 544356 - Users are often unaware that they have left the Download Mgr window open when exiting. r=sdwilsh 
Bug 553995 - Don't depend on network connectivity in test_bug_406857.js [r=sdwilsh] 
Bug 555659 - places/tests/cpp/mock_Link.h doesn't initialize mRegistered and mContent, r=sdwilsh, a=1 
Bug 560311 - "incomplete history observer impl in browser_bug503832.js" [r=sdwilsh] 
Bug 559217 - Browser freezes due a lock contentions across Places statements. r=sdwilsh 
Bug 560095 - Use mozilla::services::GetObserverService(). r=biesi,dveditz,gavin,josh,jst,mrbkap,roc,sdwilsh,shaver,sicking,smontagu,surkov 
Bug 554007: New add-ons manager UI (browser parts). r=sdwilsh 
Bug 554007: New add-ons manager UI (preferences). r=sdwilsh, r=dtownsend 
Bug 552754: Fix browser_pluginnotification.js. r=sdwilsh 
Bug 563098 - Use shared services and async statements in PlacesDBFlush. r=sdwilsh 
Bug 560393, part 1: (places directory) Fix warning: "format '%d' expects type 'int', but argument [N] has type 'size_t'". r=sdwilsh 
Bug 560383, part 2: (storage directory) Use "!!" for converting int to bool, to avoid MSVC compile warning. r=sdwilsh 
Bug 562866 - StatementParams::NewResolve mishandles JSVAL_IS_STRING(aId). r=sdwilsh. 
Bug 554007: New add-ons manager UI (browser parts). r=sdwilsh 
Bug 554007: New add-ons manager UI (preferences). r=sdwilsh, r=dtownsend 
Bug 552754: Fix browser_pluginnotification.js. r=sdwilsh 
Test for bug 562866.  r=jorendorff r=asuth 
Bug 561472 - Add a new DownloadPaths JavaScript module. r=sdwilsh 
b=566442; add memory reporters for sqlite; r=sdwilsh 
Bug 541739 - Flaws in download cancellation checks when switching the private browsing mode; r=sdwilsh 
Bug 541356 - session lost after restart. Part 1: Fix AddCookieToList(). r=sdwilsh 
Bug 541356 - session lost after restart. Part 2: Don't batch in AddInternal(). r=sdwilsh 
Bug 565475 - Allow 3rd party cookies for session only. r=sdwilsh 
Bug 567254 - Crash in Connection::getFilename for memory-based databases; r=sdwilsh 
Bug 541739 - Flaws in download cancellation checks when switching the private browsing mode; r=sdwilsh 
Bug 524811 - "add glowing Firefox icon in the taskbar when downloads are completed" [r=sdwilsh ui-r=beltzner] 
Bug 570529: mozIStorageStatement.execute() should reset itself even if an error occurs. r=sdwilsh 
Bug 570630  - Change default to allow third party session cookies. r=sdwilsh 
bug 570788 - Incorporate improvements from SeaMonkey places review into Firefox code - round 1, r=sdwilsh 
sr=vlad 
r=bz 
r=sicking 
Style links with :link and :visited since on slow builds, history may already have notified that they are visited.  (Bug 572576)  r=dbaron 
Bug 572800 - Ensure previous autocomplete query has been canceled before starting a new one. r=sdwilsh 
Bug 469951 - using %lld PR_scanf format directly on a PRTime is not portable. r=sdwilsh 
Bug 573061  - Add persistent cookie tests. Part 1: tweak listeners and add db close listener. r=sdwilsh 
Bug 573061  - Add persistent cookie tests. Part 2: revise and add tests. r=sdwilsh 
sr=vlad 
sr=vlad 
Merging mozilla-central 
Add helpers to get a database connection. 
Tweak schema slightly to make sure to take advantage of ROWID alias performance wins. 
Create object store support. 
Properly retrieve data for an object store in openObjectStore 
Proper storage usage. 
Initial object store put implementation. 
Try harder to make put work better. 
Try harder to make get work on an object store. 
Cache put statements to avoid the cost of recreating them all the time. 
Implement remove on an object store with cached statements. 
Fix put to work better.  Now with tests. 
Make the test more awesome with generator send support. 
Handle all inline key cases for put and add tests that removing works. 
Add two additional test cases for removing puted items, and a small fix to make sure all cases of put are actually inserted. 
Fix transaction issue and assert that we have a connection in DoDatabaseWork methods that need it. 
Also makes sure we reset other statements that we use. 
Also refactors some common test code. 
Support the setting and getting of version information. 
Add tables for index support. 
Add Savepoint helper for operations where we need a nested transaction. 
Add sqlite3_unlock_notify to the def file so windows builds again. 
Add index creation support with a test. 
Add remove index support. 
Add cached statements for getting on an index. 
Add queries for getObject. 
Remove unneeded method 
Building blocks to support index updating. 
Update indexes should indicate that it's not done yet... 
Gather the data to populate indexes on index creation. 
Actually populate data on index creation. 
Better working index creation code. 
Write better 
Fix the code so bent's test will no pass. 
Fix linux compilation issues. 
Fix packaging on windows. 
Fix build issues again. 
s/indexedDB/mozIndexedDB/ 
Merge mozilla-central (a5 tag) and indexedDB 
s/mozIndexedDB/moz_indexedDB/ per discussions with devrel 
Finish making the conversion from mozIndexedDB to moz_indexedDB 
Remove unneeded change for IDB code. 
Fix a TODO comment about updating indexes when update is called on a cursor. 
Fix my stupid mistake. 
Fix build issues (hackier than I'd like it to be) 
Tests for index updating when calling update on a cursor on an object store.  Also fixes some minor bugs preventing the tests from working correctly. 
Use the fixes from bug 571599 instead of what we had. 
r=asuth 
Bug 553413 - 'Implement Asynchronous parts of the Indexed Database API.' p=sdwilsh+bent, r=jst. 
Backed out changeset 88142593698a (bug 571992) because it already landed apparently... 
Merge for back out of changeset 88142593698a (bug 571992) 
Bug 416330 - Suboptimal SQLite page size r=sdwilsh 
Bug 513162 - Fix for intermittent failure in test_titlebar.xul, due to left over focus listener. r=sdwilsh. 
Bug 513162 - Add tests for client coordinates of subframes. r=sdwilsh. 
Disable hanging jetpack XPCShell tests. r=sdwilsh 
Bug 556400 - Implement asyncable VisitURI. r=sdwilsh sr=bz 
Bug 566738 - Add SetURITitle to IHistory. r=sdwilsh sr=bz 
Fix for bug 571159 (Leak nsGlobalWindow with unknown-content-type dialog). r=sdwilsh. 
r=bent 
r=bent 
r=bent 
r=bent 
r=bent 
r=bent 
Bug 416330 - Suboptimal SQLite page size r=sdwilsh 
Bug 575399 - 'IndexedDB: Remove XPConnect slow paths from some IndexedDB methods'. r=sdwilsh 
Bug 416330 - fix oranges.  CLOSED TREE. a=zpao r=sdwilsh 
Backout of bug 416330 so we can freeze for the beta on a CLOSED TREE. 
Bug 556400 - Implement asyncable VisitURI. r=sdwilsh, sr=bz 
Bug 566738 - Add SetURITitle to IHistory r=sdwilsh, sr=bz 
Bug 575908 - Leak fix: remove all pending tasks from queue. r=sdwilsh 
Bug 537156 - [e10s] Implement cookies. r=jduell,sdwilsh; sr=bz 
Bug 541356 - session lost after restart. Part 2: Don't batch in AddInternal(). r=sdwilsh 
Bug 565475 - Allow 3rd party cookies for session only. r=sdwilsh 
Bug 551181 - Tell the chrome process when we visit a page. r=cjones/sdwilsh 
Bug 516728 - Remote link-visited information r=sdwilsh sr=bz 
Bug 416330 - Suboptimal SQLite page size r=sdwilsh 
* bug 568691, register XPCOM components statically using manifests. r=mossop, with some test and build stuff r=vlad,sdwilsh
Bug 556400 - Make adding visits asynchronous. r=sdwilsh r=mak sr=bz 
Bug 566738 - Make setting titles asynchronous. r=sdwilsh r=mak sr=bz 
Bug 556400 - Add visits Asynchronously. r=mak r=sdwilsh sr=bz 
Bug 556400 - Set titles asynchronously. r=mak r=sdwilsh sr=bz 
Bug 579334 - Async visits are ignoring a disabled history. r=sdwilsh 
Bug 499828 - kill LAZY_ADD and use async storage instead. r=sdwilsh 
a=vlad 
Bug 581018 - random failure in docshell test_bug293235.xul - wait both visit and pageShow. r=sdwilsh 
This change contains the changes to the SQLite library. 
a=blocking2.0 
Bug 580228 - Relax timed history expiration. r=sdwilsh 
a=blocking2.0 
Bug 516728 - Remote link-visited information. r=sdwilsh, sr=bz 
Bug 551181 - [e10s] Tell the chrome process when we visit a page. r=sdwilsh, r=cjones, sr=bz 
a=sdwilsh 
Bug 516728 - Remote link-visited information. r=sdwilsh, sr=bz 
Bug 551181 - [e10s] Tell the chrome process when we visit a page. r=sdwilsh, r=cjones, sr=bz 
a=blocking2.0 
Bug 572223  - too much cookies.sqlite io. Part 1: add baseDomain column. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 2: async read. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 3: sync read per domain. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 4: tests. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 5: async RemoveAll. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 6: fresh connection for sync reads. r=sdwilsh 
Fix for bug 571159 (Leak nsGlobalWindow with unknown-content-type dialog). r=sdwilsh.  a2.0=blocking. 
Bug 583885 - Fix FUEL browser_Bookmarks.js to not make bad assumption about annotations. r=sdwilsh 
Bug 499233 - multiple master password prompts triggered by filling form logins in multiple tabs. r=zpao, a=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 2: async read. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 3: sync read per domain. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 4: tests. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 5: async RemoveAll. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 6: fresh connection for sync reads. r=sdwilsh 
Bug 572223  - too much cookies.sqlite io. Part 7: fix creationid logic. r=sdwilsh 
Bug 581175: Make NetUtil's asyncFetch suppress SSL error messages by default, and pass relevant nsIRequest object to its callback, r+a=sdwilsh 
Bug 581660 - places-teardown should be double enqueued. r=sdwilsh 
Bug 581648 - Useless warning in GetReversedHostName. r=sdwilsh 
a=potential corruption on a CLOSED TREE 
Bug 576406 - 'IndexedDB: Calling AddOrModify inserts duplicates into the database'. r=sdwilsh 
Bug 577704 - 'IndexedDB: OpenObjectCursor broken for autoIncremented indexes'. r=sdwilsh 
Bug 547190 - AsInt64 (and other AsXXX cpp helpers) ignores GetInt64 failures. r=sdwilsh 
Bug 581657 - Async favicons fails on null data. r=sdwilsh 
Bug 581660 - places-teardown should be double enqueued. r=sdwilsh 
a=blocking2.0 
a=blocking2.0 
a=gavin 
a=bsmedberg 
Back out changeset 0b3af3fef0fd (bug 580790) due to burnage on a CLOSED TREE 
Merge for back out of changeset 0b3af3fef0fd (bug 580790) due to burnage on a CLOSED TREE 
Backed out changeset 1302220623fd because it needs to land with 0b3af3fef0fd, which I just backed out on a CLOSED TREE. 
Merge for back out of changeset 1302220623fd on a CLOSED TREE. 
Backed out changeset e6e0200b6e03 (bug 568969) because it appears to have caused orange on a CLOSED TREE. 
Merge for back out of changeset e6e0200b6e03 (bug 568969) because it appears to have caused orange on a CLOSED TREE. 
b=583838; add ANGLE/D3D WebGL support - part 3 - add support for finding ANGLE libs in an addon; r=sdwilsh 
Bug 582315 - Fix DownloadTaskbarProgress checks which will fix intermittent orange, r+a=sdwilsh 
Bug 572030 - Use a memory cache for keywords associations. r=dietrich a=sdwilsh 
Bug 552023 - Kill Places partitioned temp tables. r=sdwilsh a=blocking 
Bug 582201 - exceptions show twice in WebConsole, r=sdwilsh 
Bug 574036 - HUD Console should allow copying text, r=sdwilsh 
Bug 584731 - new History.cpp should check aReason for HandleCompletion. r=sdwilsh a=blocking 
a=blocking2.0 
a=blocking2.0 
bug 574454 
a=sheriff 
Bug 556644 - 3. Let the browser reset bookmarks from the omnijar, r=sdwilsh sr=vlad a=blocking2.0 
Bug 584731 - new History.cpp should check aReason for HandleCompletion. r=sdwilsh a=blocking 
Bug 585966 - Async-sync contentions when adding new pages ("19 constraint failed" error). r=sdwilsh a=blocking 
Bug 572030 - Use a memory cache for keywords associations. r=dietrich a=sdwilsh 
Bug 573492 - Use WAL journaling for places.sqlite. r=sdwilsh a=blocking 
Bug 546253 - moz_openpages_temp table needs to describe pages that may not be in moz_places. r=sdwilsh a=blocking 
a=shaver (via irc) 
Bug 513008 - Eliminate synchronous reads from cache, r=jduell,sdwilsh, sr=shaver, a=betaN+ 
Bug 251431: about:config doesn't show new prefs while filter is applied. r=neil, a=sdwilsh 
Bug 513008 - Eliminate synchronous reads from cache. r=jduell,sdwilsh sr=shaver a2.0=blocking 
Bug 589933 - Fix racy test_bug94514.html. r+a=sdwilsh 
Bug 588503 - Don't compare PRBool to nsnull in cookies; r=sdwilsh approval2.0=jst 
a=blocking2.0 
a=blocking2.0 
a=broken pymake 
Bug 585969 - getBookmarkedURIFor should not try to add new pages. r+a=sdwilsh 
Bug 587573 - Log image requests to the WebConsole r=sdwilsh a=blocking2.0 
Bug 587573 - Log image requests to the WebConsole: DocShell fix r=bzbarsky a=blocking2.0 
Bug 591026: use less generic IDs for popupnotification elements, r=sdwilsh, a=blocking 
a=blocking2.0 
a=gavin 
a=blocking2.0 
Bug 591008 - browser_HUDServiceTestsAll.js | image is logged - Didn't expect -1, but got it r=sdwilsh a=sdwilsh 
Bug 562797: Add-ons Manager needs to integrate with browser session history. r=Unfocused, r=sdwilsh, a=blocking-beta5 
Bug 580892 - Checking 'clear history when minefield closes' is not clearing cache on shutdown. r=sdwilsh a=blocking 
Bug 568634 - Update networking log entries with subsequent http transactions, r=sdwilsh, a=blocking2.0, beta5 
Bug 588540 - NetworkPanel: Display submitted form data formated, r=sdwilsh, a=sdwilsh 
Bug 587574 - Display cached content in the NetworkPanel, r=sdwilsh, a=blocking2.0 (beta5) 
Bug 568634 - Update networking log entries with subsequent http transactions, r=sdwilsh, a=blocking2.0, beta5 
Bug 588540 - NetworkPanel: Display submitted form data formated, r=sdwilsh, a=sdwilsh 
Bug 587574 - Display cached content in the NetworkPanel, r=sdwilsh, a=blocking2.0 (beta5) 
Bug 575357 - nsNavHistory::VacuumDatabase should check if vacuum succeeded. r=sdwilsh, a=final+ 
r=sdwilsh (a=test only). 
Bug 575789 - JSTerm: helper functions, r=sdwilsh, a=blocking2.0 
Bug 589089 - NetworkPanel: Show hint if response content-type can't be displayed, r=sdwilsh, a=blocking2.0 
Bug 589606: Fix up the raw encoder to have the same build config options as the other media types. r=cpearce a=sdwilsh 
Bug 591373: Stop forcing link time code generation in js in non-PGO builds. r=ted a=sdwilsh 
Bug 592264 - WebConsole: Error in RL_onDataAvailable NS_BINDING_ABORTED r=sdwilsh a=sdwilsh 
Bug 588118 - Web Console error messages display the wrong line number r=sdwilsh a=bloking2.0 
Bug 575789: Implements helper $, 2519, clear, keys, values, inspect and pprint. r=sdwilsh a=beta6+ 
Bug 592410 - WebConsole: Reloading page while requests are not done causes exception r=sdwilsh a=gavin.sharp 
Bug 591776 - Add user agent to about:support r=sdwilsh a=blocking2.0beta6+ 
Bug 514817: Update aboutRights content. r=sdwilsh, a=blocking-b6 
Bug 590611 - Raise cookies per basedomain limit to 150. r=sdwilsh, a=betaN+ 
r=(Callek + sdwilsh) a=(test only). 
Bug 585237 - Limit the number of lines displayed in the Web Console. r=sdwilsh a=blocking2.0+ 
Bug 589162 - CSS filtering on the console does not work r=sdwilsh a=betaN 
Bug 589089 - NetworkPanel: Show hint if response content-type can't be displayed r=sdwilsh a=beta6+ 
Bug 583476 - WebConsole fails to activate when window.console is already defined r=sdwilsh a=betaN 
Bug 595350 - Fix leaks when closing windows or tabs with the Web Console still open. r=sdwilsh a=blocking-betaN+ 
Bug 597502 - Web Console network inspector saves all network requests, causing Firefox to become unusably slow, r=sdwilsh, a=blocking2.0 
Bug 589089 - NetworkPanel: Show hint if response content-type can't be displayed, r=sdwilsh, a=blocking2.0 
Bug 595925 - Use OpenUnsharedDatabase in cookies. r=sdwilsh, a=final+ 
Bug 591447 - Cookie rowids may collide if PR_Now() winds backward. Part 1: fix mDefaultDBState. r=sdwilsh, a=beta8+ 
Bug 591447 - Cookie rowids may collide if PR_Now() winds backward. Part 2: add triple index. r=sdwilsh, a=beta8+ 
Bug 591447 - Cookie rowids may collide if PR_Now() winds backward. Part 3: test improvements. r=sdwilsh, a=beta8+ 
Bug 599799 - Cookies are doubled when swithing between FF3.6 and FF4beta. r=sdwilsh, a=beta8+ 
Bug 598196 - Use journal_mode = WAL in cookies. r=sdwilsh, a=betaN+ 
Bug 602085 - idle-daily has become idle-session and is waiting for an idle time of more than 3 days. r=sdwilsh a=blocking 
Bug 583816 - Tab should move to the page when there's nothing to complete in the Web Console r=sdwilsh a=dietrich 
Bug 594477 - Console clickable items pick up events that they shouldn't r=sdwilsh a=final+ 
Bug 589162 - CSS filtering on the console does not work r=sdwilsh a=betaN+ 
Bug 597215 - Don't do setGrowthIncrement on Android, r=sdwilsh a=blocking-fennec 
Bug 589089 - NetworkPanel: Show hint if response content-type can't be displayed, r=sdwilsh, a=blockingb7 
Bug 589089 - NetworkPanel: Show hint if response content-type can't be displayed, r=sdwilsh, a=blocking2.0 
bug 580128 - Revert bogus change to which scope we use in nsXPCWrappedJSClass::CallMethod. r=jst Many thanks to Margaret and sdwilsh who helped track this one down. 
Bug 598229 (part 2) - Increase performance of Win7 JumpList favorites queries. r=sdwilsh,jimm sr=rstrong a=blocking 
Bug 570619 - Move crypto off the main thread [r=mconnor,sdwilsh]
Backing out Bug 598316. a=afrosdwilsh 
Bug 579540: Add a longer timeout to browser_bug553455.js. r=sdwilsh, a=tests 
Bug 582485 - Remove history dropdown arrow behind back button r=gavin a=sdwilsh 
Bug 604565 - Attempt to make tests hang less on OS X. r=mconnor a=afrosdwilsh
Bug 541373 (part 1) - Provide a global VACUUM component. r=sdwilsh sr=vlad a=blocking 
Bug 541373 (part 2) - Provide a global VACUUM component. Use idle-daily category. r=sdwilsh a=blocking 
Bug 595925 - Use OpenUnsharedDatabase in cookies. r=sdwilsh, a=final+ 
Bug 591447 - Cookie rowids may collide if PR_Now() winds backward. Part 1: fix mDefaultDBState. r=sdwilsh, a=betaN+ 
Bug 591447 - Cookie rowids may collide if PR_Now() winds backward. Part 2: add triple index. r=sdwilsh, a=betaN+ 
Bug 591447 - Cookie rowids may collide if PR_Now() winds backward. Part 3: test improvements. r=sdwilsh, a=betaN+ 
Bug 591447 - Cookie rowids may collide if PR_Now() winds backward. Part 4: delete expired cookies on migrate. r=sdwilsh, a=betaN+ 
Bug 591447 - Cookie rowids may collide if PR_Now() winds backward. Part 5: Replace expired cookies eagerly, and make expired cookies visible in API results. r=sdwilsh, a=betaN+ 
Bug 599799 - Cookies are doubled when switching between FF3.6 and FF4beta. Part 1: remove NULL baseDomains. r=sdwilsh, a=betaN+ 
Bug 599799 - Cookies are doubled when switching between FF3.6 and FF4beta. Part 2: migration tests. r=sdwilsh, a=betaN+ 
Bug 599799 - Cookies are doubled when switching between FF3.6 and FF4beta. Part 3: make test_eviction.js tolerant to slow execution. r=sdwilsh, a=betaN+ 
Bug 598196 - Use journal_mode = WAL in cookies. r=sdwilsh, a=betaN+ 
Bug 594497 - Up and down keyboard presses should only trigger history when the cursor is at the start or end in the Web Console, r=sdwilsh, a=blocking2.0 
Bug 605835 - Stack exhaustion in cookie observers on startup with 10-20 nightly. r=sdwilsh, a=beta8+ 
Bug 605908 - test_parent.js leaks objects. Part 1: nsPermissionManager leak. r=jdm, a=sdwilsh 
Bug 605908 - test_parent.js leaks objects. Part 2: enumerator leaks. r=jdm, a=sdwilsh 
Bug 570975 - Don't convert UTF-8 strings to UTF-16 in MatchAutoCompleteFunction r=sdwilsh, a2.0=blocking 
Bug 536544 - slow window.localStorage.setItem performance, r=sdwilsh, sr=jst, a=blocking2.0:final+ 
bug 608422 - cookies.sqlite-wal takes too much space for Fennec r=sdwilsh a=blocking-fennec 
bug 608422 - cookies.sqlite-wal takes too much space for Fennec r=sdwilsh a=blocking-fennec 
Bug 608545 - Set cookie: unexpected "deleted" observer notification when cookie already exists. r=sdwilsh, a=b7+ 
Bug 590843 - Fix bugs in purge logic. r=sdwilsh, a=final+ 
Bug 590843 - Fix integer literal overflow. r=sdwilsh, a=final+ 
Bug 547031 - Improve async error handling in cookies. Part 1: Refactor to allow multiple DBStates. r=sdwilsh, a=betaN+ 
Bug 547031 - Improve async error handling in cookies. Part 2: Clean up TryInitDB(). r=sdwilsh, a=betaN+ 
Bug 547031 - Improve async error handling in cookies. Part 3: Get the sync database connection early so it can't fail. r=sdwilsh, a=betaN+ 
Bug 547031 - Improve async error handling in cookies. Part 4: Fix SELECT bug in EnsureReadComplete(). r=sdwilsh, a=betaN+ 
Bug 547031 - Improve async error handling in cookies. Part 5: Fix observers to deal with reentrancy. r=sdwilsh, a=betaN+ 
Bug 547031 - Improve async error handling in cookies. Part 6: Implement async error handling. r=sdwilsh, a=betaN+ 
Bug 547031 - Improve async error handling in cookies. Part 7: Tweak license boilerplates. r=sdwilsh, a=betaN+ 
Add more test debugging for bug 608206. a=afrosdwilsh 
Add MORE test debugging for bug 608206. a=afrosdwilsh 
Bug 592442: WebConsole completion throws if more brackets are closed than opened. r=sdwilsh f=ddahl a=b:final 
Backing out Bug 597460. a=afrosdwilsh 
r+a=sdwilsh 
Bug 584927 - Use an async query to get page annotations in the history engine [r=mconnor,sdwilsh] 
Bug 584927 - Use async queries to set page annotations in the history engine [r=mconnor,sdwilsh] 
Bug 610974 - Ensure places is enabled for places related tests; r=sdwilsh, a=test-only change 
Bug 581628.  We can end up in situations where mConnection is null due to our use of async proxies that eat error codes.  r=sdwilsh, a=bzbarsky 
Bug 611313 - Initialize with an empty datasource for template tests so that sync and async loading attempts don't conflict; r=afrosdwilsh a=orange-fix 
Bug 600183 - Web Console: currentContext is always used in network logging code; f=ddahl r=sdwilsh a=blocking2.0 
Bug 612072 - Crash [@ nsCookieService::EnsureReadDomain(nsCString const&) ]. r=sdwilsh, a=betaN+ 
Bug 587615 - lastTimestamp reset problems in WebConsole; f=pwalton r=sdwilsh approval2.0=beltzner 
Bug 610773 - In the Firefox menu items in the right and left panes need to be vertically aligned. r=dao, ui-r=faaborg, a=sdwilsh 
Bug 593815 - Remove all files left behind when a download is canceled. [r=sdwilsh, sr=bz, a=blocker] 
Bug 593815 - Tests for download files with the same name. [r=sdwilsh, a=blocker] 
Bug 601667 - Web Console toolbar styling, part 1; f=mihai.sucan,ddahl r=l10n,sdwilsh,dao,kdangoor, a=blocking2.0 
Bug 601667 - Web Console toolbar styling, part 2; f=mihai.sucan,ddahl r=l10n,sdwilsh,dao,kdangoor, a=blocking2.0 
Bug 601667 - Web Console toolbar styling, part 3; f=mihai.sucan,ddahl r=l10n,sdwilsh,dao,kdangoor, a=blocking2.0 
Bug 601667 - Web Console toolbar styling, part 4; f=mihai.sucan,ddahl r=l10n,sdwilsh,dao,kdangoor, a=blocking2.0 
Bug 617910 - Broken instanceof checks in head_cookies.js. r=sdwilsh 
r=sdwilsh a=blocking 
Bug 616019 - Maemo - 10mb places.sqlite database due to aggressive file growth. r=sdwilsh a=blocking-fennec 
Bug 618515 - Add moar tests for nsPrompter. r=chiasdwilsh, a=tests 
Bug 617071 - SQLiteMutex.h breaks debug builds with system sqlite. r+a=sdwilsh 
Bug 617071 - SQLiteMutex.h breaks debug builds with system sqlite. r+a=sdwilsh. 
Bug 616001 follow-up: Async statements are compiled asynchronously and fail on first execution, not creation. r=sdwilsh 
r=sdwilsh
r=sdwilsh
r=asuth 
Bug 556631 (part 1) - Refactor frecency calculation code. r=sdwilsh a=blocking 
Bug 556631 (part 2) - Make frecency updates async. r=sdwilsh a=blocking 
Bug 556631 (part 3) - Cleanup AsyncStatementCallback inheritance. r=sdwilsh a=blocking 
r=mak 
r=mak 
r=orange 
This changeset contains the changes to SQLite code. 
This changeset contains the changes needed to mozilla code. 
This changeset contains the actual code changes to SQLite code and is not an empty changeset like 70d77529b523. 
Merging places and mozilla-central. 
r=sdwilsh a=blocking 
r+a=sdwilsh 
r+a=sdwilsh 
r=sdwilsh a=blocking 
r=mak a=sdwilsh 
r=sdwilsh a=blocking 
r=sdwilsh a=blocking 
r=sdwilsh a=blocking 
r=sdwilsh a=blocking 
r=sdwilsh a=blocking 
r=sdwilsh
r=sdwilsh a=blocking 
Initial patch from sdwilsh is r=mak, further changes from mak are r=sdwilsh. switch-to-tab changes are r=unfocused
r=sdwilsh ui-r=limi a=blocking 
r=sdwilsh a=blocking 
r=dietrich,sdwilsh a=blocking 
r=sdwilsh a=blocking 
r=sdwilsh a=sdwilsh 
r=sdwilsh a=blocking 
r=sdwilsh a=blocking 
r=sdwilsh a=blocking 
r=sdwilsh a=sdwilsh 
r=sdwilsh a=blocking 
a=sdwilsh-over-irc 
r=sdwilsh a=sdwilsh 
Bug 618889 - Web Console doesn't animate away when you click the close button; f=mihai.sucan r=sdwilsh approval2.0=gavin.sharp 
Bug 619672 - Perma-Orange on Thunderbird Linux | TEST-UNEXPECTED-FAIL | test_redirectsMode.js followed by head_queries.js | 5 == 3; r+a=sdwilsh 
Bug 619623 - reorder the parts of the error messages so tbpl can spot the filename, r=sdwilsh, a=test 
Bug 620365 - Remove unused GetAgeInDays; r=mak a=sdwilsh 
Bug 580965 - Remove vertical lines between tab bar controls. ui-r=shorlander, r=dao, a=sdwilsh 
Bug 620367 - Fix unused variable warning in InsertVisitedURI::AddVisit; r+a=sdwilsh 
Bug 620360 - Fix unused variable warning in StatementCache::FinalizeCachedStatements; r+a=sdwilsh 
Bug 620375 - Wrongly ordered members in History::History() constructor; r+a=sdwilsh 
r=mak a=sdwilsh 
Fix bug 616264. r=ehsan,sdwilsh, a=beta9+ 
Bug 605621 - Web Console output box should be reskinned - part 1; f=mihai.sucan r=sdwilsh a=blocking2.0 
Bug 611789 - Web Console cleanup: Remove the window registry; f=rcampbell r=sdwilsh a=blocking2.0 
Bug 619902 - Landing 617111 broke crosscompiling to Windows on case-sensitive OSes r+a=sdwilsh 
Bug 620875 - Intermittent browser_webconsole_bug_595934_message_categories.js | Test timed out followed by failures to give up and stop running; r=sdwilsh a=sdwilsh 
Bug 618344 - Web Console pprint() command should display something useful for functions; f=rcampbell r=sdwilsh a=gavin.sharp 
Bug 609440, part 3 - remove fallible public APIs, update mozilla (r=bent,jst,mrbkap,waldo,sdwilsh) 
Bug 580790 - Connection::initialize can access preferences off of the main thread. r=sdwilsh, sr=bsmedberg, a=betaN+ 
Bug 619568 - 'Intermittent test_index_object_cursors.html | indexedDB error, code 4'. r=sdwilsh, a=blocking. 
Bug 594263: Bump up timeout to try to make orange go away. r=sdwilsh a=t 
Bug 623418 - Bookmark sync: use a SQL query to fetch child GUIDs. r=mconnor,sdwilsh 
Bug 617272 - AIX compilation error for Firefox-3.6.12 source storage/src/variantToSQLiteT_impl.h", line 56.12: 1540-0274 (S) The name lookup for "sqlit e3_T_null" did not find a declaration; r,a=sdwilsh 
Bug 618078 - Exception in asynchronous callback not visible in web or error console; f=rcampbell r=sdwilsh a=blocking2.0 
Bug 605621 - Web Console output box should be reskinned; f=mihai.sucan r=sdwilsh,dao a=blocking2.0 
Bug 605621 - Web Console output box should be reskinned; f=mihai.sucan r=sdwilsh,dao, a=blocking2.0 
r=sdwilsh a=blocking 
r=sdwilsh a=blocker 
Bug 624051 - AsyncStatement destructor should finalize statements on the asynchronous thread when available to avoid blocking the main thread. r=sdwilsh, a=blocking2.0 
Remove an extra semicolon which disturbs pedantic compilers; rs=sdwilsh a=landing on a CLOSED TREE DONTBUILD 
Remove an extra semicolon which disturbs pedantic compilers; rs=sdwilsh a=landing on a CLOSED TREE DONTBUILD 
Bug 627474 - Part 1: Link places against libmozjs in non-libxul builds; r=sdwilsh 
Bug 586130 - Warning C4099 fixes (storage). r=sdwilsh a=bsmedberg 
Bug 623950: Send startup time measurements along with the metadata requests. r=Unfocused, a=sdwilsh 
Bug 618315 - Upgrade to SQLite 3.7.4 [rs=mconnor, a=sdwilsh]
Bug 618315 - Upgrade to SQLite 3.7.4 [r=sdwilsh, a=sdwilsh]
Bug 627306. dispatchEvent should return true when there's no document (and thus nothing that might call preventDefault). r=smaug a=sdwilsh 
r=sdwilsh a=blocker 
Bug 629416 - Disable the correct test on Windows 7; a=sdwilsh-the-perma-sheriff 
Follow up to bug 606966, catch NS_ERROR_FAILURE instead of NS_ERROR_MALFORMED_URI. rs=sdwilsh a=test-only bustage fix for mailnews add-ons DONTBUILD 
Bug 628618 part 1 - Support ElfLocations without a corresponding ElfSection. r=tglek,a=sdwilsh 
Bug 628618 part 2 - PT_DYNAMIC segment only contains SHT_DYNAMIC section. r=tglek,a=sdwilsh 
Bug 628618 part 3 - An ElfSection is relocatable if it has the SHF_ALLOC flag set independently of other flags. r=tglek,a=sdwilsh 
Bug 628618 part 4 - Initially set an address for the fake phdr ElfSection. r=tglek,a=sdwilsh 
Bug 628618 part 5 - Don't set DT_REL*COUNT if it wasn't already set. r=tglek,a=sdwilsh 
Bug 628618 part 6 - Delay refreshing of ElfSection addresses and offsets. r=tglek,a=sdwilsh 
Bug 628618 part 7 - Use a whitelist of ELF sections that can be moved. r=tglek,a=sdwilsh 
Bug 628627 part 1 - Raise hard errors in some more cases in elfhack. r=tglek,a=sdwilsh 
Bug 628627 part 2 - Add messages inviting to file bugs and use --disable-elf-hack in case of elfhack failures. r=khuey,a=sdwilsh 
Bug 628232 part 1 - Use the init symbol from elfhack injected code as an entry point instead of hardcoding 0. r=tglek,a=sdwilsh 
Bug 628232 part 2 - Allow to build elfhack injected code as thumb. r=tglek,a=sdwilsh 
Bug 628593 - Remove -fno-exceptions from CXXFLAGS when building elfhack. r=khuey,a=sdwilsh 
Bug 628595 - Avoid compiler warning about C++ style comments in C code in elfhack. r=jag,a-sdwilsh 
Bug 628988 part 1 - Modify elfhack test so that the executable actively calls something from the library. r=tglek,a=sdwilsh 
Bug 628988 part 2 - Adapt symbol tables content to elfhack changes. r=tglek,a=sdwilsh 
Bug 628233 part 1 - Make the Android linker stop assuming there is only one read-only PT_LOAD entry. r=mwu,a=sdwilsh 
Bug 628233 part 2 - Enable elfhack on Android. r=khuey,a=sdwilsh 
Bug 627299 - Fix assembler arguments passed in CFLAGS. r=khuey,r=wtc,a=sdwilsh 
Bug 628606 - elfhack causes bustage since ARM target may not return arm. r=glandium,a=sdwilsh 
Bug 628303 - Pass HOST_LDFLAGS to the build system. r=khuey,a=sdwilsh 
Bug 593597 - Design and implement updated CSS styling for Linux [r=ian, a=sdwilsh] 
Bug 625712.  Make useGlobalHistory work again on docshells.  r=sdwilsh 
Bug 629577 - non-libxul builds broken by changes to History, unresolved symbol nsContentUtils::sXPConnect; r=mak a=sdwilsh 
Bug 616288 - crash [@ nsAutoCompleteController::StartSearch ] when typing things too rapidly inside the location bar; r=sdwilsh a=gavin 
Bug 627288 - Tabs restored from last session show stale cache data; r=ian a=sdwilsh 
Bug 624931 - Use -moz-transform for Panorama zoom. r=iangilman a=sdwilsh 
Back out a=afrosdwilsh 
Bug 629418: If the add-ons manager is opened as a background tab (e.g. by session restore) then the back and forward buttons are hidden. r=Unfocused, a=sdwilsh 
Bug 629697 - Cache the XPConnect services for accesses from Places; r=bsmedberg a=sdwilsh 
Bug 629195 - Restore previous session does bad things if you have an 'undo close group' and an app tab [r=ian, a=sdwilsh] 
Bug 630102 - The unpinned tab doesn't display in the correct place in Panorama view [r=ian, a=sdwilsh] 
Bug 608405 - GroupItem.add should auto remove from previous group [r=ian, a=sdwilsh] 
Bug 618816 - Character by character selection using the mouse in the tab group name field [r=ian, a=sdwilsh] 
Bug 624847 - 'Undo Close Tab' closes current group when only one blank tab is left [r=ian, a=sdwilsh] 
Bug 630157 - double clicking anywhere in a group with any mouse button creates new tabs [r=ian, a=sdwilsh] 
Bug 631452 - 'LazyIdleThread can race with newly dispatched events when shutting down'. r=sdwilsh, a=blocking. 
r=sdwilsh a=blocker 
Bug 462064 - Download manager shows decimal digit for bytes when file below 100 bytes. r=edilee,sdwilsh a=mossop 
Bug 631598 - Use the system UI font for Panorama. r=dao ui-r=faaborg a=sdwilsh 
Bug 589488 mark DEBUG only variables as ifdef DEBUG in storage; r,a=sdwilsh 
Bug 629189 - Rect.contains should be inclusive [r=ian, a=sdwilsh] 
[Bug 631868] Tab drift in TabItem_setBounds code [r=ian, a=sdwilsh] 
Bug 628805 - Add tests for invalid referrerURI and invalid sessionId to test_async_history_api.js [r=sdwilsh, a=blocking-final] 
Bug 628805 - Add test for unstored sessionId to test_async_history_api.js and fix the way session ids are stored with places visits [r=sdwilsh, a=blocking-final] 
Bug 630593 DocShell history gives NS_ERROR_OUT_OF_MEMORY for useGlobalHistory r=bz r=sdwilsh a2.0=mfinkle 
Bug 594223 - Don't call searchFunction unnecessarily in MatchAutoCompleteFunction::OnFunctionCall. r,a=sdwilsh 
Bug 596412 - Make close buttons easier to see on tabs w/ dark colored thumbnails. r=ian a=sdwilsh 
Bug 628179 - Make top document navigation and tab switching close the Find bar. r=dao ui-r=limi a=sdwilsh 
Bug 633846 - Places tests hit the network from www.mozilla.org bookmark properties, r=sdwilsh, a=test 
r=sdwilsh a=blocker 
Bug 634077 - tabviewshown/hidden events are dispatched before Storage.saveVisibilityData() was called [r=ian, a=sdwilsh] 
Bug 628902: Don't include nonstandard add-on types in AMO metadata ping. r=Unfocused, a=sdwilsh 
r=sdwilsh a=blocking 
Bug 628865 - Add tests for dropping referrer, sessionId persisting, and failed insertion with duplicate guid. r=sdwilsh a=blocking-and-tests 
Bug 621818 - [OS/2] implement GenerateRandomBytes(); r=sdwilsh a=beltzner 
Bug 604699 - Store thumbnails in the browser's image cache rather than in sessionstore [r=ian,sdwilsh, a=blocking2.0:final+]
Bug 632817 - Cannot filter search for NET events in the Web console; f=pwalton,mihai.sucan r=sdwilsh approval2.0=beltzner 
f=pwalton,mihai.sucan r=sdwilsh approval2.0=beltzner - Backed out
Bug 632817 - Cannot filter search for NET events in the Web console; f=pwalton,mihai.sucan r=sdwilsh approval2.0=beltzner - merge a=#developers 
Bug 632817 - Cannot filter search for NET events in the Web console; f=pwalton,mihai.sucan r=sdwilsh approval2.0=beltzner 
r=sdwilsh a=tests-only 
r=sdwilsh a=tests-only 
r=sdwilsh a=bsmedberg 
Bug 611795 - Repeated messages in the Web Console should be collapsed into one; f=mihai.sucan r=sdwilsh,dao a=beltzner 
Bug 637032 - Repeated Console messages in the Web Console not showing number; r=sdwilsh, a=beltzner 
r=sdwilsh a=blocker 
r=sdwilsh a=tests-only 
r=sdwilsh a=tests-only 
r=sdwilsh a=tests-only 
Bug 634666 - DEFER_OPEN option for file streams. r=bz,sdwilsh sr=bz a=blocking-fennec 
Bug 595785.  Make sure the right channel is always passed to download progress listeners' onStateChange methods.  r=sdwilsh,bzbarsky 
Bug 644637.  Make sure mRequest lives long enough that we don't hand dead objects around.  r=sdwilsh 
Bug 474718 - don't call the defaultDownloadsDirectory getter on prefpane initialization, since it might unnecessarily create the downloads folder. r=sdwilsh 
ui-r=ux 
Bug 570975 - Clarify comment in MatchAutoCompleteFunction. rs=sdwilsh 
Bug 643674 - firefox 4 crash [@ nsCookieService::HandleCorruptDB(DBState*) ]  and t [@ nsCookieService::HandleCorruptDB ]; r=sdwilsh 
Bug 613457 - use *ById JSAPIs in storage (r=sdwilsh) 
Bug 618311 - Inspect Network Request window persists on close of Web Console - PB data leak; f=rcampbell r=sdwilsh 
Bug 619598 - Up and Down does not retrieve command history in the same way as other consoles; f=rcampbell r=sdwilsh 
Bug 632347 - Expanding a property in the Object Inspector whose type is Generator causes lockup; f=rcampbell r=sdwilsh 

Bug 645086 - Stop using [deprecated] Storage methods (nsPrivateBrowsingService.js)r=sdwilsh 
Bug 647557 - Uninitialized variable transitionType in History::UpdatePlaces; r=sdwilsh 
r=sdwilsh 
Bug 649211 - PlacesDBUtils console output is broken. r=sdwilsh 
Bug 638067 - 'IndexedDB: Inserting data with multiple indexes on an autoIncrement object store throws an error'. r=sdwilsh. 
r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
Bug 644680 - Tests for FileUtils.jsm. r=sdwilsh 
Bug 644680 - FileUtils.openSafeFileOutputStream() should init stream with DEFER_OPEN. r=sdwilsh sr=rstrong 
Bug 650410 - Test for bug 383369 uses a timeout because it doesn't know how to use the download manager API!; r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
Bug 472530 - when statement creation fails, dump lastErrorText to stdout in debug builds r=sdwilsh 
r=sdwilsh 
Bug 451833 - Highlight the domain name in the address bar. r=roc,sdwilsh ui-r=faaborg 
Bug 633653 - revamp about:memory.  r=vlad,sdwilsh,dvander,gavin,ehsan,edwsmith;  sr=benjamin. 
Bug 468313 - Add permissions to safe-browsing so warnings don't keep showing up on attack sites. r=sdwilsh ui-r=limi 
Bug 558651 - "Check Spelling" should only be shown in context menu when input element is in 'text' or 'search' state. r=sdwilsh 
Bug 113580 - switch uses of getAttribute to hasAttribute whenever possible; r=sdwilsh 
Bug 632275 - Web Console: Error message when click on an object to create an inspect window; f=rcampbell r=dcamp,sdwilsh 
Bug 620832 - Web console attempts to remove its observers multiple times; f=ddahl,rcampbell r=sdwilsh,rcampbell 
Bug 620832 - Web console attempts to remove its observers multiple times; f=ddahl,rcampbell r=sdwilsh,rcampbell 
Bug 632275 - Web Console: Error message when click on an object to create an inspect window; f=rcampbell r=dcamp,sdwilsh 
Bug 642176 - Integrate Workspace extension into the browser; f=rcampbell r=ddahl,sdwilsh 
Bug 636725 - Unit tests for Workspaces; r=rcampbell,sdwilsh 
Bug 646070 - Respect chrome developer tools preference in workspace; f=rcampbell r=sdwilsh 
Bug 646524 - Workspace: cache the sandboxes; f=rcampbell r=ddahl,sdwilsh 
Bug 593460 - Tests must properly close the Inspector; f=rcampbell r=sdwilsh 
Bug 654732 - Remove WinCE code from storage/* & db/sqlite3/src/Makefile.in; r=sdwilsh 
r=sdwilsh 
Bug 653630 - Allow non-leaf reporters in about:memory.  r=sdwilsh. 
Bug 653630 - Change SQLite memory reporters to avoid double-counting some memory usage.  r=sdwilsh. 
Bug 633282 - Apply moz-win-exclude-glass to downloadView in downloads.xul. r=sdwilsh. 
bug 650509 - Other apps can read Firefox profile files, change sqlite files to be user readable only r=sdwilsh 
bug 650509 - Other apps can read Firefox profile files, test for sqlite permissions changes r=sdwilsh 
Bug 399998 - Use Escape to close permission manager and cookie manager dialogs, r=sdwilsh, ui-r=faaborg 
Bug 584316 - Fix DownloadManager usage of deprecated Storage binding APIs. r=sdwilsh 
r=sdwilsh sr=gavin 
r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
Bug 573176 - Implement Site-Specific Privacy Preferences, r=sdwilsh+gavin 
tests for Bug 573176 - Implement Site-Specific Privacy Preferences, r=sdwilsh 
Bug 650573 - Panorama hangs when restoring a session; f=raymond, r=sdwilsh 
Bug 577721 - allow repositioning of the web console: above, below and out into a panel/window; r=rcampbell,sdwilsh 
Bug 657131 - Create a new Execute menu for Scratchpad; r=mihai.sucan,sdwilsh 
Bug 653108 - Scratchpad is tied to the tab it was first run in; r=mihai.sucan,sdwilsh 
Bug 658344 - Create some useful introductory text for the Scratchpad; r=mihai.sucan,sdwilsh 
Bug 657327 - about:memory: merge the "mapped" and "heap used" trees, and make the resulting tree flatter.  r=sdwilsh,Jesse, sr=roc. 
Bug 656545 - Make about:memory tool-tips more discoverable.  r=sdwilsh. 
Bug 649867 - Remove the heap-used/storage/lookaside-used memory reporter.  r=sdwilsh. 
Bug 655776 - Web Developer > Get More Tools menu item; r=sdwilsh 
r=sdwilsh 
Bug 566489 - Enable inline autocomplete again, but make it smarter for URLs r=sdwilsh sr=gavin a=sheriff 
Bug 647886 - Pulling down Back/Forward menu requires an unnecessary delay. r=sdwilsh 
Bug 657961 - Use async API to get favicons for site permissions page. r=sdwilsh 
Bug 659693 - Make domain highlighting work with IPv6 literals. r=sdwilsh 
Fix DOS line endings rs=sdwilsh
Backout Bug 566489, r=sdwilsh 
Backout Bug 566489, r=sdwilsh 
Bug 649088 - Use default favicon consistent with rest of browser; f=raymond, r=sdwilsh 
Bug 598833 part 8.  Create an explicit API to request link state updates.  r=smaug,sdwilsh
Bug 598833 part 9.  Store an Element pointer in Link.  r=smaug,sdwilsh 
Bug 598833 part 12.  Add dom::Element::UpdateState and use it in various places where elements update their own state.  r=smaug,sdwilsh,mounir 
Bug 660743 storage should use mozilla::Preferences r=roc+sdwilsh 
iQ.animate: only animate properties that are changing; f=raymond, r=sdwilsh 
Bug 656773 - Separate the process and the path in nsIMemoryReporter so that about:memory works in private browsing mode.  r=sdwilsh, sr=roc. 
r=sdwilsh 
r=sdwilsh 
Bug 598794 - Intermittent failure in uriloader\exthandler\tests\unit\test_punycodeURIs.js | test failed (with xpcshell return code: 0), see following log: Component returned failure code: 0x80520012 (NS_ERROR_FILE_NOT_FOUND) [nsIFileInputStream.init]; r=sdwilsh 
Bug 665580 - Hide http:// and single trailing slashes in the location bar. ui-r=faaborg r=sdwilsh 
Bug 665328 - Remove the unused Storage string, r=sdwilsh 
Bug 665549 - Fix unused variable warning for 'shutdownObserved' in mozStorageService.cpp; r=sdwilsh 
Bug 668906 - Do not call openUnsharedDatabase with a null file (r=sdwilsh) 
Bug 663612 - clicking a group should zoom into the group's active tab; r=sdwilsh, ui-r=limi 
Bug 653261 - Add a function to format the date and time displayed in the Download Manager. r=sdwilsh sr=mconnor 
Bug 591289 - Save chosen download file name and other metadata in Places history [r=sdwilsh, ui-r=limi] 
Bug 595888 - Show file size when attempting to download a file. r=sdwilsh, r=dolske, ui-r=faaborg 
Bug 659234 - Remove unused variable |rv| from test_file_perms.cpp; r=sdwilsh 
rs=sdwilsh 
r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
r=sdwilsh 
Bug 660532 Remove useless uses of PromiseFlatCString r=sdwilsh 
Bug 663075 - FileUtils.jsm should have an easy way to create an nsILocalFile with a path; r=sdwilsh sr=rstrong 
Bug 674957 - mochitests-5: test_alerts.htmltimed out after 330 seconds. r=sdwilsh 
r=sdwilsh 
r=asuth, sdwilsh 
Bug 678977 - Teach sqlite to use jemalloc directly when applicable.  code=nnethercote,khuey.  r=khuey,sdwilsh,jlebar. 
Bug 658368 - Expand console object with time and timeEnd methods that add a simple timer implementation; r=msucan,sdwilsh sr=gavin 
r=sdwilsh 
r=sdwilsh 
Bug 691662 - Remove unnecessary condition which doesn't work with Growl 1.3. r=sdwilsh 
Bug 655658 - NetUtil.readInputStreamToString should have aCharset argument as optional. r=sdwilsh, sr=bz 
Bug 465299 - Validity check for mozStorageStatementWrapper::Initialize r=sdwilsh 
Bug 701607. Download annotations are not stored for files without a custom name. r=sdwilsh 
Bug 557047 - Replace mailnews specific ifdef (MOZ_MAIL_NEWS) in cookie code with tests for a protocol flag. r=sdwilsh,sr=bzbarsky 
Bug 465299 - Validity check for mozStorageStatementWrapper::Initialize. r=sdwilsh 
Bug 702815 - Maintain a list of open SQLite connections.  code=nnethercote,bent.  r=sdwilsh. 
Bug 703143 - Use a memory multi-reporter for SQLite's per-connection reporting. r=sdwilsh. 
Bug 699051. Report slow prepared SQL statements to Telemetry. r=sdwilsh. 
Bug 703143 - Use a memory multi-reporter for SQLite's per-connection reporting (attempt 2).  r=sdwilsh. 
Bug 567585 - TB3 fails to raise an error when it tries to save an attachment to write-protected directory. r=Paolo Amadini,r=sdwilsh 
r=sdwilsh 
r=sdwilsh f=glandium 
r=sdwilsh 
