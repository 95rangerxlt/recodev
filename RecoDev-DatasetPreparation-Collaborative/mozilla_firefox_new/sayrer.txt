mozilla.com

Bug 374944  Places toolkit tests should move into /toolkit (r=sayrer) 
fix test bustage. 
Add dump calls to attempt to determine the cause of orange on tinderbox 
remove remote css 
p=Wladimir Palant <trev@gtchat.de>r=sayrer/mano 
fix build bustage on gcc 4.1.2. no bug. r=bsmedberg 
fix build bustage on gcc 4.1.2. no bug. r=bsmedberg 
Backout previous change, as it caused bustage elsewhere. 
Backout previous change, as it caused bustage elsewhere. 
Backout previous change, as it caused bustage elsewhere. 
bug 375444. silence overflow warning in nsJSEnvironment.cpp using gcc 4.1.2. r+sr=jst 
bug 375588. FeedWriter should pull image from accessor, not property bag. r=mano 

bug 375588. FeedWriter should pull image from accessor, not property bag. r=mano bug 373340. atom:logo in feed reading view. r=mano 
Bug 375779. nsIWritablePropertyBag2 needs a UUID change. r+sr=bzbarsky 
test for bug 371798 (r=sayrer) 
Disable a test for bug 351633 because of tinderbox linux orange. 
updating test for bug 371798 (r=sayrer) 
bug 372831 - provide API to submit extra data with minidump.  r=bsmedberg, r=sayrer for the unit test 
Mochikit test for bug 371724, r=sayrer 
Bug 377435 - Text inside harness.xul isn't selectable and doesn't show a scrollbar, r=sayrer 
Bug 368994. Move mochitests near the code they test, round 6. r=bzbarsky 
Bug 368994. move mochitests near the code they test. round 7. r=bzbarsky 
Bug 311681 xhtml tests pass now that we have an incremental XML content sink. 
Add todo_is and todo_isnot functions.  b=377721  r=sayrer 
Increase timeout for mochitests. 
Bug 369672. Feed preview doesn't show dates when the timezone is specified as UTC rather than GMT. Patch by Michael Ventnor <ventnor.bugzilla@yahoo.com.au>. r=sayrer 
Bug 377794. disable slow script dialog in mochitest prefs. r=rcampbell 
One exception fixed by mrbkap's patch for Bug 308145. 
Bug 373546. URIs in <guid isPermaLink='false'> are recognized as valid links of feed items in the feed reading view. r=mano 
Bug 375434. cleanup constructor in nsPresContext.cpp. r+sr=roc 
Bug 373253. Initial addition of test framework and tests for pwmgr. Patch by Justin Dolske <dolske@mozilla.com>. r=sayrer, sr=mconnor 
backout patch from bug 373253 because changes to nsIPasswordManagerInternal, yes Internal, break multiple projects. 
Increase server startup timeout. 
Bug 375733: Add basic tests for PNG imgIEncoder, patch by Justin Dolske <dolske@mozilla.com>, r=sayrer, sr=pavlov 
css tweaks for harness pages. no bug 
bug 378383. nsReflowStatus not always initialized in nsBlockFrame::ReflowInlineFrame. r+sr=bzbarsky 
bug 373253. Initial addition of test framework and tests for pwmgr. Patch by Justin Dolske <dolske@mozilla.com>. r=sayrer, sr=mconnor 
bug 373253. fix Windows test bustage. 
bug 373253. comment out test for bug 221634, because we can't get the event order right on all platforms. 
bug 378336. nsCanvasRenderingContext2D::GetInputStream uses wrong allocator. r+sr=roc 
bug 378339. nsFrameIterator doesn't initialize mOffEdge. r=uriber, sr=roc 
bug 378487. allocator mismatch in SpanningCellSorter. r+sr=bzbarsky 
Add Prototype.js library unit tests. Hopefully the first of many AJAX test suites. Patch by John Resig <jresig@mozilla.com>. r=sayrer 
bug 375543. alter Makefiles to prevent Windows bustage. 
bug 375543. One last resource in the Makefile to fix bustage. 
bug 321024. Crash in nsCryptoHash during shutdown of nsUrlClassifierDBService. Patch by Tony Chang <tony@ponderer.org>. r=darin 
bug 376684. change the output from -createprofile. Patch by Ray Kiddy <ray@ganymede.org>. r=bsmedberg 
Bug 371127, add a test for domstorage in chrome, r=sayrer 
test for bug 278262 - JAR URIs should resolve relative URIs in the base sectionp=Ryan Jones <sciguyryan@gmail.com>r=sayrer 
Bug 372886 - test_bug351601.html does not throw, but does not test eitherp=Ray Kiddy <ray@ganymede.org>r=sayrer 
Bug 372939 - mochitest gets hung up on .swp files, if they are presentp=Ray Kiddy <ray@ganymede.org>r=sayrer 
backout patch for bug 378463 due to bustage 
Bug 379040. capture stderr from mochitest for diagnostics on win2k3. r=rhelmer 
back out change for bug 379040, fails to pass Windows shell-escaping gauntlet. 
Bug 379040. Test a new way of redirecting output. r=rcampbell 
temporarily turn on assertion stacks for debugging 
bug 379651. mac exception handler reads utf8 path into utf16 string. r=ted.mielczarek 
Bug 378787. Digest Authentication Request Splitting. r=biesi, sr=brendan 
backout patch for bug 375760 due to bustage. 
backout patch for bug 375760 due to bustage. 
backing out patch for bug 368206 due to bustage 
follow-up to bug 379986 (r=sayrer) 
Changes needed to support testing event simulation for bug 371260, r=sayrer 
leave profile dir until the next run. r=rcampbell on irc 
Change DOS line endings to unix so they don't appear in my diff when I save unrelated changes to this file. r=sayrer. No bug. 
JS code-sharing module system. Patch by Alex Fritze <alex@croczilla.com> and Robert Sayre <sayrer@gmail.com>. r=shaver/brendan, sr=brendan 
change back to warn for mochitest 
remove debugging statements 
try increasing test timeout 
Commenting out some failing authentication tests to check whetehr places-bookmarks build on the windows machines of MozillaTest, a=sayrer. 
force a rebuild to fix bustage 
Bug 381240 backing out tests to figure out why failing on linux only (r=sayrer) 
Bug 381240 - disabling to allow further testing (r=sayrer) 
disabling post-test cleanup temporarily, r=sayrer 
Re-enabling digest auth. tests, a=sayrer. 
Bug 381239. Null out members of PrefHandler to break reference cycles. r=dietrich 
Bug 381366. Get rid of gBrowserGlue. r=gavin 

Bug 381366. Get rid of gBrowserGlue. r=gavin Bug 238324. Tweak generateFactory to call new, and add unit tests for module loading. Patch by Alex Vincent <ajvincent@gmail.com>. r=sayrer, sr=bsmedberg 
Trying to figure out why this test is failing silently.  r=sayrer 
Trying to figure out why this test is failing silently.  r=sayrer 
Trying to figure out why this test is failing silently.  r=sayrer 
try some more tests 
comment out dm tests until we can make them pass in opt builds 
bug 381369 - improve Components.utils.import-related commentsr=sayrer 
Bug 368745 - Use nsIFaviconService in Feed Preview. r=sspitzer,sayrer. 
Bug 381646 - Re-enable tests for download manager. r=sayrer 
Bug 381646 - Re-enable tests for download manager (windows orange patch).  r=sayrer 
partial fix for bug #379729:  browser will freeze when reloading live bookmarks.r=sayrer 
Bug 380931. Post-landing cleanup from Bug 374723 (rewrite password manager in JS). Patch by Justin Dolse <dolske@mozilla.com>. r=mconnor/sayrer. 
Bug 380931. Bustage fix. Post-landing cleanup from Bug 374723 (rewrite password manager in JS). Patch by Justin Dolse <dolske@mozilla.com>. r=mconnor/sayrer. 
Tests for bug 380961. base64-obscured passwords not handled by login manager. Patch by Justin Dolske <dolske@mozilla.com>. r=mconnor 
fix for bug #381894:  Some Live Bookmarks only show in the places organizer.also, there was a crash lurking in the export code when we didn't have a feed uri.r=sayrer 
Bug 382256, add missing constant, r=sayrer 
fix for bug #376905:  Places bookmarks build flag doesn't influence livemark service being copiedr=sayrerpatch=gijskruitbosch+bugs@gmail.com 
Bug 381262, Remembered username and password are garbled if they have non-ASCII characters. Patch by  Justin Dolske <doslke@mozilla.com>. r=mconnor/sayrer 
Bug 382073 - Bookmarks Service batch update API is a footgun. r=sayrer/mrbkap, a=mconnor. 
fix typo in comment.  rs=sayrer 
Bug 381499 - Components.utils.import reports NS_ERROR_FAILURE when the file not existsswitch to NS_ERROR_FILE_NOT_FOUND and update testsr=sayrer, sr=brendan 
Change the URI argument to Components.utils.import to be a resource: URI.  Bug380970, patch by Alex Vincent <ajvincent@gmail.com>, r=sayrer, sr=bsmedberg 
Followup to fix build bustage for bug 380970, patch by Alex Vincent<ajvincent@gmail.com>, r=sayrer, sr=bsmedberg 
Bug 383511: Support multi-domain tests in mochitest. r=sayrer 
Bug 384503 - Bookmarks service crashes destroying a PRLock. r=sayrer. 
Bug 350525 - New session restore API needs accompanying unit tests, patch by Dietrich Ayala <dietrich@mozilla.com> and Adam Guthrie <ispiked@gmail.com>, r=sayrer 
bug 384502: adds ability to start MochiTest's runtests.pl on a certain test or in a specific directoryr=sayrer 
Bug 379766 - mochitest result page could include bug links for bug tests. Patch by Ray Kiddy <ray@ganymede.org>, r=sayrer. 
Fixing bug 383917. The new Components.utils.import code shouldn't spam the console. r=sayrer@gmail.com, sr=brendan@mozilla.com 
bug 384507. nsContentSink.h contains static non-member functions and globals. r+sr=jst 
r=sayrer 
r=sayrer 
Bug 384168. C.u.import doesn't prevent recursion in the presence of circular dependencies. r=brendan, sr=bsmedberg 
Test a hypothesis about the shutdown leak that's biting 300079's patch (a=sayrer). 
back out patch for bug 300079 due to leak regressions, as the new textframe code needs to land 
Bug 381651. Tweak XPCOMUtils. Patch by Nickolay_Ponomarev <asqueella@gmail.com>. r=sayrer, sr=bsmedberg 
r=sayrer 
r=sayrer 
r=sayrer 
r=sayrer 
Add a mochitest for bug 379025, r=sayrer 
Bug 385839. Password manager leaks on shutdown. r=gavin 
Bug 385839. Password manager leaks on shutdown. Fix sloppy variable declaration. 
Bug 385087. Switch contentprefs to XPCOMUtils. backout for leak regression. 
Bug 385982. WebContentConverterRegistrar in cycle with nsJSID. r=gavin 
Bug 385611 - XPCOMUtils.jsm isn't packaged. r=sayrer 
Bug 386009. Fix a leak in nsEditor and delete some code we don't need anymore. r+sr=dbaron 
bug 386101. backout to see if it fixes linux bloat orange. 
backout fix for bug 386009 to see if it causes orange. 
Reland bug 386101. Not the cause of tinderbox orange. 
Bug 377611 - Feed autodiscovery shouldn't treat rel as case-sensitive, patch by Ehsan Akhgari <ehsan.akhgari@gmail.com> because I was too slow, r=mano+sayrer 
Bug 386009. Fix a leak in nsEditor and delete some code we don't need anymore. r+sr=dbaron 
Bug 180380. nsXPCComponents object and its wrapper leaked at shutdown. Patch by David Baron, David Bradley, and Robert Sayre. r=jst/bzbarsky, sr=dbaron 
Bug 381227. Replace module in feed xpcom with XPCOMUtils.jsm's generateNSGetModule. r=mano. 
Bug 385224. comment out the new site-specific pref code to determine perf impact. r=gavin 
Backing out test. Bug 385224. comment out the new site-specific pref code to determine perf impact. r=gavin 
bug 383585, improve tooling for dummy localizations, r=sayrer 
Bug 375469: new test framework to run tests in the browser window scope, r=sayrer 
Bug 386878. nsSVGSVGElement needs to init its members. r+sr=tor 
r=sayrer 
r=sayrer, bug 380970 
r=sayrer, src=brendan. 
Remove extra whitespace at end of one line in test templates.  rs=sayrer over IRC 
Bug 388190: XPCOMUtils spews uuids when registering components. r=sayrer, sr=benjamin 
Bug 332174. Disable SOAP support. r=peterv, sr=brendan 
Show diagnostics for todo tests.  b=388690  r=sayrer 
Bug 388920. EXTENSIONS_ALL broken since webservices was removed. r=ted.mielczarek 
Don't ship link to the head from <body>. <link> and <style> will still prefer the head in the absense of an explicit body, but will stay still if there is one. bug 387691, r=sicking/sayrer sr=jst 
Bug 388695 - getBookmarkIdsForURI should sort by relevance. r=dietrich, sayrer. 
bug 372831 - provide API to submit extra data with minidump.  r=bsmedberg, r=sayrer for the unit test 
bug 379651. mac exception handler reads utf8 path into utf16 string. r=ted.mielczarek 
backout patch for bug 378463 due to bustage 
Bug 390958. XPCWrappedNativeScope leaks a WrappedNative2WrapperMap. r=brendan/mrbkap, sr=brendan, a=jst 
Add a mochitest for bug 390001. r=sayrer sr=bzbarsky 
Bug 375543. Add better diagnostics to failures. Patch by John Resig. r=sayrer 
backout changes that landed near the beginning of the unit test orange, as a test. 
reland changes that didn't cause orange. 
bustage fix 
Bug 389083, domstorage tests not outputing results, r=sayrer 
reenable tests for Bug 388112, after botched relanding. 
Add --setenv option for setting environment variables for browser only when running mochitests.  b=391965  r=sayrer 
fix for bug #392003:  first run migration / import from IE is slow, history import should use "run in batch" r=sayrer 
Bug 391992. nsMathMLOperator statics leak. r=bzbarsky, sr=rbs, a=dbaron 
fix for bug #392192: first run migration / import from safari browser is slow, history import should use "run in batch" r=sayrer 
Bug 385178. Memory leak when viewing feeds. r=gavin 
bug 391137: when building a path to the httpd.js and server.js MochiTest scripts on Windows, add a directory separator between the  root dir and appended dirs so two dirs don't run together, creating an invalid path r=gavin, r=sayrer 
Bug 342485 - Replace calls to CheckLoadURI() with calls to CheckLoadURIWithPrincipal(). r=gavin, sayrer (for tests). 
Bug 393300. DOMStorage leaks mozStorage classes on shutdown. r+sr+a=jst 
Bug 386536 - Add category manager helpers to XPCOMUtils. Patch by Nickolay Ponomarev <asqueella@gmail.com>, r=sayrer/mark.finkle a=jst 
Bug 383888 - mochikit panel for failed test description does not extend, r=sayrer 
Bug 388275. Malformed feed breaks UI. r=gavin 

Bug 388275. Malformed feed breaks UI. r=gavin bug 379327 - have mochitest print test filename in FAIL lines.  r=sayrer 
392980 make it possible to QI FaviconLoadListener to nsIRequestObserver r=2xgavin,2xsayrer,mano 
Bug 394979. search logging shows up in Ts. ifdef it. r=gavin 
Bug 395128. Reduce source size of nsBrowserGlue.js. r=gavin 
Bug 394542. we leak the blink timer and its timer in a cycle. Patch by David Baron. r/sr=roc, a=dsicore/mconnor 
Bug 393324. cairo leak in nsNativeThemeGTK::DrawWidgetBackground. r/sr=stuart, a=mconnor 
Bug 391890. leaks from pixman_rect_alloc within _cairo_gstate_clip drawing borders. Patch by Vladimir Vukicevic. r/sr=stuart, a=mconnor 
Bug 395559 - Fix two typos in httpd.js which prevented the registerFile API from working correctly, and add a dumpn so that errors in handlers can be detected more easily by reading console dumps.  r=sayrer, NPOTB, test-only, etc. 
Bug 395849. XPCVariant::VariantDataToJS leaks strings with sizes. r/sr=jst 
Bug 395618. UseUserPrefFile should check that user.js exists. r/sr/a=bsmedberg 
Bug 395557 - XPCOMUtilify FeedWriter. r=sayrer, a=mconnor 
Bug 395621. SessionStore tries to read sessionstore.js when it doesn't exist. r=dietrich, a=mconnor 
Bug 395249. switch nsSessionStartup to XPCOMUtils. r=dietrich, a=mconnor 
bug 396119 - Fix minor errors in XPCOMUtils.jsm.  Patch by Manish Singh <manish@flock.com>, r1=gavin, r2=sayrer 
Bug 396452. Enforce SpiderMonkey request model with assertions. r=mrbkap, sr/a=brendan 
Bug 396651. Fix JS Request assert in nsXPCComponents_Utils::LookupMethod. r/sr/a=brendan 
Fix detection of whether we're in HTML.  Bug 386526, r=sayrer 
#384186 r=sayrer, moa=bsmedberg, a=mconnor Initial Microformats API checkin 
#384186 r=sayrer, moa=bsmedberg, a=mconnor Initial Microformats API checkin 
Bug 396648. nsPermissionManager tries to open two files that usually don't exist. r/sr=biesi, a=bzbarsky 
Bug 396982. Location bar autocomplete leaks. Patch by Nickolay Ponomarev <asqueella@gmail.com>. r=sspitzer/sayrer, a=mconnor 
Bug 397386. Large leak on grono.net front page. r/sr=peterv, a=dsicore 
Bug 397804. pages loading feeds as content can trigger a leak. r=jst, sr=sicking, a=sicking 

Bug 397804. pages loading feeds as content can trigger a leak. r=jst, sr=sicking, a=sicking Bug 397221  nsNavHistoryQuery leaks opening bookmark/places organizer (for asqueella@gmail.com, r=sayrer, a=mconnor) 
Bug 397819.  Microsummaries uses e4x Namespace objects when it shouldn't. r=myk, a=mconnor 

Bug 397819.  Microsummaries uses e4x Namespace objects when it shouldn't. r=myk, a=mconnor Bug 396828. 'Assertion failure: (cx)->requestDepth || (cx)->thread == (cx)->runtime->gcThread' within ns4xPluginInstance::Stop. r=jst, sr=brendan, a=jst 
Fixing solaris build bustage when building with tests enabled. r=sayrer, sr=biesi, a=jst 
Fix the way mochitest finds the body.  Bug 398347, r=sayrer 
Bug 398300. Places utils.js instantiates livemark service on startup, but could avoid it. r=mano, a=beltzner 

Bug 398300. Places utils.js instantiates livemark service on startup, but could avoid it. r=mano, a=beltzner Bug 398398. Unable to Reload Live Bookmarks. r=dietrich, a=mconnor 
Bug 397148. 'Assertion failure: (cx)->requestDepth || (cx)->thread == (cx)->runtime->gcThread' within nsXULTemplateBuilder::InitHTMLTemplateRoot. r=enn, sr=sicking, a=sicking. 
Bug 397804. Use the short CC macro in nsParser. r/sr/a=sicking. 

Bug 397804. Use the short CC macro in nsParser. r/sr/a=sicking. Bug 398360. speed up onSecurityChange. r=gavin, a=beltzner 

Bug 398360. speed up onSecurityChange. r=gavin, a=beltzner Bug 398114. JS_Assert: (cx)->requestDepth || (cx)->thread == (cx)->runtime->gcThread from nsJSSh::Init. r=mrbkap, sr=shaver 
temporarily disable session store tests while session store is disabled 
Turn session restore back on. Tests show a performance problem. See bug 398807. 
Bustage fix for bug 398668 
Fix for bug 398270 ([mlk] Loading a feed leaks). r=sayrer. 
Bug 398824. Smooth out status notifications. r=biesi, sr/a=mconnor 
Bug 397601. DOM storage leaks on performance graph server pages. r=enndeakin, sr=jst, a=sicking 
Landing basic framework for dtrace support (bug 388564). Patch by john.rice@sun.com and padraig.obriain@sun.com. r+a=ted.mielczarek@gmail.com, sr=sayrer@gmail.com 
move location change listening from ContentPrefSink to nsBrowserStatusHandler to possibly improve performance; r=sayrer, a=mconnor 
Bug 397135: tree._ensureColumnOrder dies if no columns are defined; r=gavin, a=sayrer 
Bug 399492 Allow Mochitests (runtest.pl) to start/run with apps other than Firefox. r/a=sayrer 
Bug 227986 - "EmbedPrompter should use GtkComboBox on gtk+ 2.4" [p=chpe r=bryner r=timeless sr=blizzard a1.9=sayrer] 
bug 398599. Fix prbool violations. r=bsmedberg a=sayrer 
Bug 398414 - "in file listings front-end code, build the gRows array lazily" [p=dao r+sr=bzbarsky a1.9=sayrer] 
Bug 398895 - "about:bloat should only be built if trace-refcnt logging is built" [p=xfsunoles@gmail.com (Jonathan Steele) r+sr=bzbarsky a1.9=sayrer] 
Bug 386826 - "First run of XULRunner fails on Windows Vista, showing the Usage dialog instead" [p=roland.boon@tomtom.com (Roland Boon) r=bsmedberg a1.9=sayrer] 
Bug 396358 - "Removed Old XP_MAC in nsProfileDirServiceProvider.cpp" [p=xfsunoles@gmail.com (Jonathan Steele) r=bsmedberg a1.9=sayrer] 
Bug 392790 - "In certificate selection dialogs, also show e-mail addresses from the subjectAltName extension" [p=mozbugzilla@velox.ch (Kaspar Brand) r=kaie sr=rrelyea a1.9=sayrer] 
Bug 397147 Move/Remove remaining sidebar code in xpfe/components/sidebar to suite r=kairo,sr=Neil,a=sayrer 
Bug 397403 NS_NewAuthPrompter needs to check if the password manager prompt factory can handle password prompts. r/sr=biesi,a=sayrer 
Bug 397147 Move/Remove remaining sidebar code in xpfe/components/sidebar to suite r=KaiRo,sr=Neil,a=sayrer 
Fixing bug 398465. Eliminate dead code from nsPipeOutputStream. r=jwalden+bmo@mit.edu, sr=benjamin@smedbergs.us, a=sayrer@gmail.com 
Bug 398069 - Don't cancel resume-from-0 transfers for HTTP 200 responses. r=biesi, sr= biesi, a=sayrer 
Bug 398566 - Set MOZ_FIX_LINK_PATHS unconditionally, r=luser a=sayrer 
Bug 396959 - "Eliminate nsHttpHandler caching of nsICacheSession pointers" [p=mike.tsao+moz@gmail.com (Mike Tsao) r+sr=biesi a1.9=sayrer] 
Bug 398730 - Remove default suffix rules from rules.mk and some fixes to help automated-rewriting efforts, r=luser a=sayrer 
Bug 398965 - "tab bar smooth-scrolling performance problems" (dispatch UpdatedScrollButtonsDisabledState only if there are updates) [p=dao r=gavin a1.9=sayrer] 
Bug 398965 - "tab bar smooth-scrolling performance problems" (binary search) [p=dao r=gavin a1.9=sayrer] 
Fix bug 387258 by hacking in a force-override for the "txt" extension-to-type mapping.  r+sr=biesi, a=sayrer 
Bug 315305 - "Improve nsILocalFile error reporting on Mac" [p=smfr r=ccarlen sr=dougt a1.9=sayrer] 
Bug 377677, minor tree widget cleanup, mostly adding lots of tree tests, r=mano, a=sayrer 
Bug 398435. Fix prbool bugs in xpcom. r=bsmedberg a=sayrer 
bug 398624. Prbool fixes. r=bienvenu, a=sayrer 
Bug 399043, Workaround for Add-Certificate-Exception for (mail) ports blocked by Necko r=rrelyea, a=sayrer 
Bug 398549, Rename the "Extra" tab in Cert Manager r=rrelyea, a=sayrer 
Bug 399022, Leak-prone code in nsCertTree r=bzbarsky, a=sayrer 
Bug 399045, PSM should remember valid intermediate CA certificates r=rrelyea, a=sayrer 
Bug 345665, nsKeygenHandler calls nsITokenDialogs ::ChooseToken with NULL context Patch contributed by Christian Persch r=kengert, sr=dveditz, a=sayrer 
Bug 345665 - "nsKeygenHandler calls nsITokenDialogs ::ChooseToken with NULL context" [p=chpe r=kaie sr=dveditz a1.9=sayrer] 
relanding: Bug 399045, PSM should remember valid intermediate CA certificates r=rrelyea, a=sayrer 
relanding Bug 399022, Leak-prone code in nsCertTree r=bzbarsky, a=sayrer 
relanding Bug 398549, Rename the "Extra" tab in Cert Manager r=rrelyea, a=sayrer 
relanding Bug 399043, Workaround for Add-Certificate-Exception for (mail) ports blocked by Necko r=rrelyea, a=sayrer 
Landing fix for bug 388564. Adding Dtrace probes to the JS engine. Patch by padraig.obriain@sun.com and brendan@sun.com, and some intergration work done by jst@mozilla.org. r=brendan@mozilla.org, igor@mir2.org, sayrer@gmail.com, and r+a=ted.mielczarek@gmail.com. 
Bug 398435 - "PRBool misuse bugs in xpcom/" [p=taras r=bsmedberg a1.9=sayrer] 
Bug 398624 - "PRBool misuse bugs in extensions/pref/" [p=taras r=bienvenu a1.9=sayrer] 
Bug 377677, second attempt at tree cleanup and tests, r=mano, a=sayrer 
Bug 399673. reloading a live bookmark results in refcount leaks of nsNavHistoryResultNode. r=mano, a=mconnor 

Bug 399673. reloading a live bookmark results in refcount leaks of nsNavHistoryResultNode. r=mano, a=mconnor Bug 330128. Calling cancel() on a timer doesn't drop ref to the callback. r=brendan, sr=bzbarsky, a=beltzner 
Bug 401137. Silence ASSERTION: RefreshURIList timer callbacks should only be RefreshTimer objects. Docshell expects to be able to getCallback during a Timer fire. r=bzbarsky, sr=brendan, a=mconnor 
336824 - numerous small issues with feed handling/options r=brettw for browser bits r=sayrer for processor exception handling 
Bug 352600. Need a max-width/height on the feed icon. ui-r=beltzner, r=mconnor 
Fix bug 398880, getElementsByClassName('') leaks an nsVoidArray.  r=sayrer, sr=jst, a=blocking1.9+. 
Fix leak bug 391978.  r=biesi, sr=dmose, a=sayrer 
Bug 382849 - "Wrong gzip comment process in HTTP Compress converter" [p=solar@netease.com (Solar) r=bzbarsky sr=biesi a1.9=sayrer] 
Bug 397873 Popup windows have menu bar when they used not to r=gavin a=sayrer 
Bug 400195, cert exception file has unix line endings on Windows r=nelson, a/blocking=sayrer 
Bug 398177 - "ISO 8601 dates helper" [p=erwan@flock.com (Erwan Loisant) r=sayrer sr=mscott a1.9=damons] 
Fix for bug 401345 (Calling registerProtocolHandler leaks like a sieve). r=sayrer. 
bug 404222: remove unnecessary calls to getBrowserIndexForDocument to improve performance; r=sayrer, a=schrep 
Bug 398579 - "Allow using chrome:// URLs in Components.utils.import()" [p=ajvincent@gmail.com (Alex Vincent) r=sayrer sr=bsmedberg a1.9=damons] 
Bug 398579 - "Allow using chrome:// URLs in Components.utils.import()" [p=ajvincent@gmail.com (Alex Vincent) r=sayrer sr=bsmedberg a1.9=damons] 
Bug 397725 - Add test harness for assertions/crashes/leaks.  This adds a central manifest to which includes of decentralized manifests can be added, but the tests aren't yet run automatically (let alone with leaks/asserts as fatal) -- more work to do yet.  r=sayrer, a=dsicore 
Bug 407794, Nightlies should not override the module-specific build settings, patch by Robert Sayre <sayrer@gmail.com>, r=tmielczarek, a=schrep 
backout bug 407815 due to test failures 
backing out bug 407794 
Bug 407794. Nightlies should not override module-specific build settings. r=ted.mielczarek. 
Bug 342484 - replace livemark service's call to CheckLoadURIStr with a call to CheckLoadURIWithPrincipal, r=sayrer, sr=bz, a=mconnor 
disable one test from bug 407937 
Bug 407561 - Livemark service cancels loadgroups with an undefined property instead of an error, r=sayrer, a=mconnor 
temporarily change sqlite optimization to test perf / codesize impact 
Bug 398017. nsGenericElement unlink improvements. r/sr=sicking, a=dsicore 
Bug 409302. js_DoubleToECMA(u)Int32 has an unused cx param. r/a=brendan 
Bug 409324. js_DoubleToECMA(u)Int32 should return jsdouble, not a useless always-true JSBool. r/a=brendan 
Bug 387522. Native JSON support. r=crowder/jst, sr=brendan 
Bug 387522. Native JSON support. r=crowder/jst, sr=brendan 
outputstream test from Bug 387522 is failing on windows. Filed bug 410005 to follow up. 
Bug 408328 - Replace FeedWriter.js's CheckLoadURIStr with CheckLoadURIStrWithPrincipal, r=sayrer, sr=bz, a=sayrer 
Bug 368464 - RSS preview sniffs RSS 0.90 on trunk, r=sayrer, a=beltzner 
Bug 355473 - Make FeedProtocolHandler.newChannel create a new real URI instead of modifying the caller's URI, and hack around bug 408599 by refusing in newURI to create feed URIs that will cause newChannel to create a channel with a spectacularly bad URI, r=sayrer, sr=bz, a=blocker 
Bug 411036. uninitialized parameter used in gtk2drawing.c. r=ventnor, sr=roc, a=schrep 
Clobbering to test Linux settings on Mac. Will back out shortly. 
Back to -O2. 
Bug 411052. nsJSONListener initialization warning. r/sr=jst, a=schrep 
Bug 353962. Use OSAtomic on Darwin for JS thinlocks. r/a=brendan 
Change to ISO C90 comment style to fix warning in sayrer's last patch. 
Bug 412025: package JSON xpt (Firefox & Thunderbird), r=sayrer/mscott, a=schrep 
Bug 412210. SpiderMonkey faster at -O2 with msvc. r/a=brendan 
Bug 405942 - repeated Mochitest test timeouts can cause tests to take hours. r=sayrer 
412492, r=sayrer, a=schrep - Update hCard testcases so they don't access the web 
Bug 411365. Start and stop Shark from JS. r=crowder, sr=jst 
Bug 411579 - "Optimize read file buffer sizes for faster startup times" [p=jmathies@mozilla.com (Jim Mathies) r=sayrer sr=bsmedberg a=blocking1.9+] 
bustage fix for bug 411579. 
398676, r=sayrer, a=schrep - add support for tel/modem/fax protocols in the hCard microformat 
Bug 411369. Crash while trying to print. r=ted.mielczarek 
Bug 411369. Crash while trying to print. r=ted.mielczarek 
Bug 411365. JS Shark renames per brendan. r/a=brendan 
Bug 412874. Need Shark functions in JS component global scope. r/sr=brendan 
Bug 413428 - Some tweaks to make the Mochitest harness cross-browser, where and when reasonable.  r+a=sayrer 
Bug 411365. Shark functions. r/sr=brendan 
Bug 407201. Not dropping references for one shot timers on Fire. r/sr=bzbarsky 
Bug 383939. All RDF datasources must implement cycle collection to avoid leaking. r/sr=bsmedberg 
Backing out Bug 383939. All RDF datasources must implement cycle collection to avoid leaking. 
Bug 413788 ? global frecency regressed Ts by 10ms on bl-bldlnx03 (r=sspitzer, a=sayrer) 
Bug 413789 - Remove "#" href from "Toggle passed tests" and "Toggle failed tests".  This unbreaks tests which strictly rely on exact URL matches against the test window, in the case where you run the test, click a Toggle link, and then reload the page (which has a # tacked onto the URL before this patch).  r+a=sayrer 
Bug 414153 - browser-chrome tests do not run http server.  r=sayrer 
Bug 400091. nsFaviconService leak with rapid page loads. r/sr=biesi 
Bug 413253. build with -fno-strict-aliasing on GCC platforms. r=ted.mielczarek 
Bug 411579 - "Optimize read file buffer sizes for faster startup times" [p=jmathies@mozilla.com (Jim Mathies) r=sayrer sr=bsmedberg a=blocking1.9+] 
Bug 303645. Add support for media feeds and objects (enclosures). Patch by Will Guaraldi <will.guaraldi@pculture.org>. r=sayrer/gavin, ui-r=beltzner, a=beltzner 
Bug 400064 - "Adapt Web Feed preview page for Podcasts and Video Podcasts" [p=will.guaraldi@pculture.org (Will Guaraldi) ui-r=beltzner r=myk r=sayrer a1.9=beltzner] 
bug 400061: add Podcast and Video Podcast entries to the applications prefpane; r=myk,sayrer; a=beltzner 
bug 400061: add Podcast and Video Podcast entries to the applications prefpane; Patch by Will Guaraldi; r=myk,sayrer; a=beltzner 
Bug 400064 - "Adapt Web Feed preview page for Podcasts and Video Podcasts" (Missed file in previous patch) [p=will.guaraldi@pculture.org (Will Guaraldi) ui-r=beltzner r=myk r=sayrer a1.9b3=beltzner] 
Zeroing the full PrefValue unions to avoid UMR when copying. b=413170 r=sayrer sr=roc approval1.9b3=beltzner 
Bug 401649 - JS CGI support in httpd.js -- create responses conditioned on header values and HTTP method types!  r=sayrer 
Bug 416074: TestRunner attempts to log after closing the log, r+a=sayrer 
Bug 410890. nsJSON speedups. r=crowder, sr=jst, a=schrep 
Bug 416917 - Python runtests doesn't work for me, "Cannot initialize the application correctly".  This might or might not fix the problem, but it should be harmless otherwise, and it works fine on OS X.  r=sayrer 
Bug 416570: runtests should not pull in bookmarks chrome, r=sayrer 
412660 - a=sayrer, a=schrep - Handle the adr microformat better when attempting to create a display string 
415805 - r=sayrer, a=schrep - if a geo has its own text, don't use the text of an hCard or hCal that contains it 
416197 - r=sayrer, a=schrep - value excerpting only applies to child nodes 
Bug 417052. Adjust JS_GC heuristic. Patch by Igor Bukanov <igor@mir2.org>. r/a=brendan 
Bug 418287 - nsIFeedEntry.published does not recognize <pubDate>, r=sayrer, a=mtschrep 
Bug 381956 - "xpcshell doesn't exit after closing browser window when running Mochitest" [p=sylvain.pasche@gmail.com (Sylvain Pasche) r+a1.9=sayrer] 
Bug 416998: Fix the order of member variable initializers for a few constructors. Places this time. r=sayrer, a=schrep 
416134 - r=sayrer, a=schrep - properly handle nested microformats 
Bug 418772. PGO scripts and input. r=ted.mielczarek. 
418881 - r=sayrer, a=beltzner - better handling of mf properties that can be HTML or text and a couple comment fixes 
Bug 417404: Fix nsCOMPtr version of NS_ProxyRelease().  r/sr=bsmedberg, b1.9=sayrer 
Bug 350873: nsStreamLoader code accessed on secondary thread [ASSERTION: nsStreamLoader not thread-safe].  r=kengert, sr=dveditz, b1.9=sayrer 
Bug 372876, Read from SSL socket leaks memory r=rrelyea, blocking1.9=sayrer 
Bug 419339 - Add an argument to runtests.py to specify the maximum allowable number of RLk-style bytes to be leaked, defaulting to any leaks allowable for now.  Tinderboxen will need to pick up the extra argument and provide sane values until we can eradicate all leaks, at which point we can change the default to 0 to always check.  r=sayrer 
backout bug 418652. support MOZ_PSM build flag in toolkit/library. 
Bug 415799: Interface and implementation for HMAC support.  p=honzab@allpeers.com (Jan Bambas), r=kaie, r=rrelyea, sr=dveditz, blocking1.9=sayrer 
419433 - r=sayrer, a=beltzner - add back my own ISO date parsing - see bug for more detals 
Bug 419905. turn off pgo in places, mozstorage, sqlite. r=ted.mielczarek, a=beltzner 
419433 - r=sayrer, a=beltzner - add back my own ISO date parsing - see bug for more details 
Unbitrot JS_OPMETER (363529, r=shaver, a=beltzner/sayrer). 
Fix bug under some valid types of optimization where we cross margin and padding.  b=420069  r+sr=roc  a1.9b4=damons  a-sheriff=sayrer 
Add better reftest coverage for intrinsic width computation of horizontal padding, border, and margin on inlines.  b=420069  sheriff-a=sayrer 
Bug 420154 - Print finer-grained leak info in runtests.py than just pass/fail and a table, and don't fall over when --leak-threshold is used in a build without refcount logging (just print a warning).  r=sayrer 
Fix ComputeThis perf regression (420426, r=mrbkap, a=sayrer). 
Make $objdir/_tests/testing/mochitest/runtests.py runnable from any directory, not just $objdir/_tests/testing/mochitest/.  r=sayrer, NPOTB and all that anyway 
Bug 360529, r=sayrer, sr=jst, a=beltzner. 
Bug 420955: make Error Console show chrome errors by default in testing profile, r=sayrer. Also port change from bug 420630 to runtests.pl.in 
Bug 383939. RDF datasources must implement cycle collection. r/sr=bsmedberg 
Bug 421202 nsHTTPIndex should be cycle collected r=sayrer a=dsicore 
Bug 421984. Build with -fstrict-aliasing on GCC platforms. r/a=shaver 
Bug 381357. Live bookmarks for feeds served as text/html don't load. r=gavin 
Bug 420906. support for custom options for jsinterp.c when compiling the browser. Patch by Ted Mielczarek. r=bsmedberg 
Bug 422872, fix test in test_contentAreaUtils.js for both suite and toolkit. r=sayrer 
Try workaround for bug 420187, r=ted & sayrer, a=blocking1.9+ 
Bug 409803. gcc (4.1 only) zealously avoids inlining at -Os. Patch by Dan Witte. r=ted.mielczarek 
Bug 423235 - Make leak detection always run but only be fatal if the threshold is exceeded, for better leak visibility when --leak-threshold isn't specified; also removes the need for me to maintain a --leak-threshold=0 local change without committing it.  r=sayrer, a=testonlychange 
Make nsJSONWriter::Write not crash when given buffer greater than 1024 characters.  b=423152  r=sayrer  a=beltzner 
Bug 423377. Change max-persistent-connections-per-server. r=bzbarsky, sr=brendan 
bug 423674 - update to breakpad revision 250. rs=sayrer 
bug 419483 - r=sayrer, a=schrep - switch from using getBoxObjectFor to getBoundingClientRect 
bug 420144 - r=sayrer, a=schrep - only bubble up mf properties if the parent microformat wouldn't want it anyway 
Bug 420882 - r=sayrer, a=schrep - do some validation of geo lat/long 
Bug 420505 - mozStorageService isn't as threadsafe as it claims to be. p=sdwilsh, r=brendan, r=bsmedberg, b1.9=sayrer 
Bug 424035. Crash [@ JS_IsArrayObject] when trying to decode a bogus JSON string. r=shaver 
Bug 423787 - "XUL test template has typo in comment" [p=manish@flock.com (Manish Singh) r=sayrer] 
initial checkin of the DOM-TS Level 2 HTML testcases converted into mochitests, the work is based on what rsayrer has done for the other dom test suites The main difference is that there is exeption.js, todos are marked in the testcases themself. bug 421674 a=testonly 
activate the DOM Level 2 HTML tests bug 421674 r=sayrer 
Bug 423060. Feed preview page broken when a default web reader is selected. r=gavin. 
Bug 411579 - "Optimize read file buffer sizes for faster startup times" [p=jmathies@mozilla.com (Jim Mathies) r=sayrer sr=bsmedberg a1.9=beltzner] 
Bug 426223 - "RSS preview only shows the first Media RSS object" (Removes restriction of one media:content per item) [p=will.guaraldi@pculture.org (Will Guaraldi) r=sayrer a1.9=beltzner] 
bug 426867 - ssl proxy for mochitest. r=sayrer/kaie (test only code) 
429151, r=sayrer, a=beltzner, don't do internal version checking when adding microformats 
427456, r=sayrer, a=beltzner, make sure we get the correct document for enumerating frames 
Bug 386526. Fix packed copy of MochiKit DOM node creation. npotb, a=dsicore 
427456 - r=sayrer, a=beltzner - rename recurseFrames to recurseExternalFrame in uF api 
Bug 431900 - Add a commandline flag to make assertions fatal, for easy use in tinderbox scripts and the like, especially if we eventually set up a run of all the tests that don't trigger assertions and then run them with this argument specified.  r=sayrer, a=testonlychange 
Bug 431464: TestRunner should try to ensure focus, r=sayrer 
Bug 432611: given-name and family-name should be plural properties, patch by Michael Kaply <mozilla@kaply.com>, r=sayrer, a=schrep 
Bug 432887 - "Add tests for XPCOM Proxies (and enable other C++ unit tests)". r=sayrer, a=Tests Only. 
Bug 435376 - Start making leaks fatal when running tests in setups where we don't leak.  r=sayrer 
Fix encoder to iterate over array indices from 0 to length, instead of over enumerable property ids (437724, r=sayrer). 
Bug 428009 - Update the HTTP server to require a *correct* host be specified with it, not just *a* host via an absolute URI as Request-URI or a specified Host header.  This also gives request handlers proper details about the location to which the request was targeted.  r=biesi on the raw socket usage in the test code, r=ted on the build changes, r=sayrer on the server changes 
Bug 403132 – DTrace function probes are double-counting invocations. Patch by Andrew Sutherland and Robert Sayre. r=ted.mielczarek. 
Merge commit for bug 403132 
[Bug 441619] Fixing ICC compilation issue: in goto *expr the type of expr should be void*. r=sayrer 
bug 417943 - remove runtests.pl. r=sayrer 
make runtests.py --log-file handle relative pathnames. r=sayrer (no bug) 
Bug 444023, Add JS functions to stop/start callgrind, r=sayrer 
Bug 443090 - Unify unittest failures (runtests leaks part) p=ted.mielczarek, r=sayrer 
Bug 444845, js hooks to control vtune, r=sayrer 
Bug 446132 - Allocate nsJSONWriter on the stack, r=sayrer sr=jst 
r=jwalden, r=cbiesinger, r=sayrer, r=ted.mielczarek, r=kaie 
Bug 449666 – TM: Assertion failure: JSSTRING_IS_FLAT during trace recording. r=brendan 
Bug 449972 – TM: give xpcshell a JIT switch 
Bug 449978 – TM: trace some more builtins for string-validate-input 
Bug 451580, fix string split assertions and return values. Tests fail with JIT on for other reasons, it seems. r=shaver 
Turn on the JIT for tracemonkey mochitests. 
Turn off the JIT during mochitest for now. 
Bug 451669. Bustage fix for linux canvas build. Patch by Mike Kaplinskiy. r/sr=jst. 
Bug 450633 - "script stack space quota is exhausted" exception in JSON.jsm when calling SessionStore API for sessions with a large amount of data. r=sayrer, sr=brendan 
Add test of (attempted) trace recording with an active call object 
Merge 
Add some tests for loops that should exit trace. 
Add tests for continue statement. 
Add tests covering division. 
Add test for more bitwise ops 
Add tests containing switch statements 
Bug 394416.  Feed sniffing should apply to fewer MIME types.  r=sayrer 
Bug 451329 - Match IE7 and HTML5 by removing sniffing for title='rss' in feed autodiscovery, r=sayrer 
Tests for Bug 413915 - isValidFeed modifies its first parameter, r=sayrer 
Bug 413915 - isValidFeed modifies its first paramter, r=sayrer 
Bug 443610 - Add body and PUT handling to httpd.js; "PUT" part; r=sayrer 
Bug 443610 - Add body and PUT handling to httpd.js; "DELETE" part; r=sayrer 
Properly initialized mSaveDepth in JSAutoSuspendRequest, r=sayrer. 
Bug 454217, httpd.js doesn't handle large body properly, r=sayrer, +change XHR POST test to use request.body 
Fixed a verbosity mode memory leak in LirNameMap::addName (bug 453895, r=sayrer). 
Add some basic correctness tests for benchmarks 
Add controlflow-recursive to correctness checks 
Add date tests to correctness checks 
Bug 455762 - Remove the extraneous |class| attribute in |<script class="testbody" type="text/javascript">| of test.template.txt and xhtml.template.txt; Av1; r=sayrer 
Bug 455278: make chrome mochitest redirect work in non-firefox apps, r=sayrer 
Bug 454781 -  Mochitest doesn't align the names of the testfiles and test results, r+sayrer  (+fix for --chrome) 
Bug #430540 - r=sayrer - Microformats - handle microformats in a floated div 
Turn on JIT for unit tests. 
Add check to make sure bug 452008 remains fixed. 
Hg: user: Robert Sayre <sayrer@gmail.com> 
Bug 398185 - Add byte range request support to JS httpd - r+=sayrer 
Backout Bug 398185 - Add byte range request support to JS httpd - r+=sayrer 
Bug 408838 - DOM binding for native JSON. r+sr=shaver 
Bug 408838. Native JSON. r/sr=shaver 
Merge. 
Bug 459065. JSON space patrol. r=gal 
Bug 458959. this.JSON is enumerable. r+sr=mrbkap 
Merge. 
Fix typo in filename. 
Bug 459160 - json.cpp misuses rooting api. r=mrbkap 
Bug 459259 - Consolidate code for retrieving top of the JSON parser's object stack. r=brendan 
Merge. 
Bug 459300. JSON should use internal JS functions where it makes sense. r=brendan 
Merge. 
Bug 459293. Sites not loading - redeclaration const JSON error on console. r=brendan 
Bug 460333. Implement toJSON for primitive wrapper classes. r=crowder 
Merge. 
Merge from mozilla-central. 
Merge from tracemonkey. 
relanding Bug 454781, Mochitest doesn't align the names of the testfiles and test results, r=sayrer 
Bug 462778. Fix JSON top crash. r=brendan 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central into tracemonkey. 
Merge mozilla-central to tracemonkey. 
Add debug logging to track tinderbox problem... 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
b=464010, remove bogus #ifdef JS_TRACER in jsregexp.cpp that got rid of regexp.test on non-JS_TRACER builds; r=sayrer 
Bug 462774: drop JSON.jsm. r=gavin, r=sayrer, sr=brendan, a1.9.1b2=beltzner 
b=464010, remove bogus #ifdef JS_TRACER in jsregexp.cpp that got rid of regexp.test on non-JS_TRACER builds; r=sayrer 
Bug 463715 - Be less wasteful when emitting escapes. r=sayrer 
Disable speculative parsing to check regression. bug 464495. 
Turn spec parsing back on. 
Merge m-c to tracemonkey. 
Bug 462774: Drop JSON.jsm. r=gavin, r=sayrer, sr=brendan, a1.9.1b2=beltzner 
Bug 463339. Have js/src use symlinks when installing in dist. r=bsmedberg,a=sayrer 
Bug 465901 - DVG confused by |let|. r=brendan a=sayrer 
Bug 465705 - There must always be at least one source note. r=brendan a=sayrer
Make mochitests not build and search the results table when run inside the harness.  (Bug 466104)  r=sayrer  a=tests 
Bug 449657 - JS_SealObject fails on Array objects (r=mrbkap, a=sayrer). 
Make mochitests not build and search the results table when run inside the harness.  (Bug 466104)  r=sayrer 
Backout JOEDREW! patches for bug 468160 and bug 414259. Looks like they make mochitest leak. 
Backout JOEDREW! patches for bug 89419 and bug 393936. Looks like they make mochitest leak. 
backout bug 460548, checked in on persistent orange. 
Merge 
backout bug 428988, checked in on persistent orange. 
Merge 
backout bug 468836, checked in on persistent orange. 
Merge 
Bug 459405 - Math property flags regressed by bug 376957.  r=brendan, a=sayrer 
Merge m-c to tracemonkey. 
Merge m-c to tracemonkey 
Merge tracemonkey to m-c 
Bug 456093, add drag simulation methods for testing, r=sayrer 
Merge tm to m-c. 
Bug 462851 - Protect against enumerating the call object's prototype. r=brendan a=sayrer 
Bug 469940 - Automatic semicolon insertion wrongly done after var with multi-line initializer (r=mrbkap, a=sayrer). 
Bug 469927 - TM: much slower than interpreter with short loop with |let| (r=mrbkap, a=sayrer). 
Backed out changeset f682453c06d0. Failing scriptaculous unit tests, doesn't build on windows or mac ppc. 
Bug 423231. bustage fix. 
Merge m-c to tracemonkey. 
Merge m-c to tracemonkey. 
Ho ho ho, it's a lump of hg coal. Merge. 
Bug 470814 - TestRunner needs a feature guard before using document.hasFocus and document.activeElement.  Since they were only being used in the belt-and-suspenders voodoo magic force-focus code, just disable the focus forcing when in browsers where we can't detect focus.  r=sayrer, r=ajschult 
Merge. 
Mergre mozilla-central to tracemonkey. 
Merge m-c to tracemonkey. 
Merge. 
Merge m-c to tracemonkey. 
bug 465030 - Support terminating long-running scripts without using extra threads or signals. r=gal,sayrer 
bug 465030 - Support terminating long-running scripts without using extra threads or signals. r=gal,sayrer 
Merge. 
Merge tracemonkey into mozilla-central. 
bug 472706 - add better profiling input for spidermonkey in PGO builds. r=ted 
Bug 466781 -  TM: inconsistent (0 in d) where d is a String. r=brendan 
Merge m-c to tracemonkey. 
Merge m-c to tracemonkey. 
Merge tm to m-c. 
wallpaper for bug 473721 
Merge. 
Bug 469042 - Implement SimpleTest.executeSoon for non-Mozilla browsers.  r=sayrer 
Merge m-c to tm. 
Merge mc to tm. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Backout all patches since last mozilla-central merge (Thu Jan 22 19:14:02 2009 -500 by sayrer). 
Backout c0b2c82a524e. 
Merge m-c to tm. 
Merge m-c to tm. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tm to m-c 
Merge mc to tm 
Didn't mean to disable mandelbrot 
Fix bustage from Bug 476873 
Merge tm to m-c 
Merge. 
b=477735; fix XPCOMUtils.generateQI to handle null/undef members in array; r=sayrer 
Merge mc to tm 
Bug 459161 -  Process first argument to JSON stringify and parse methods as specified by ES3.1. r=shaver 
Merge tm to m-c. 
Merge tm to mc 
Change definition of JS_STATIC_ASSERT macro to avoid declaring a function, which causes mysterious trouble on Windows CE.  Sort of reviewed by blassey, approved-ish by sayrer. 
Merge m-c to tracemonkey. 
Bug 465371 -  Native JSON stringification aborts on functions and xml but returns JS_TRUE. r=shaver 
Merge tracemonkey to m-c. 
Merge. 
Merge tracemonkey to m-c. 
Merge tm to m-c. 
Bug 464159 - Quickstubs leaks IIDs. r=jorendorff 
Merge. 
Backout out patch for Bug 463256. 
Remove test for backed out patch. 
Bug 459161 -  Process first argument to JSON stringify and parse methods as specified by ES3.1, part 2. r=jorendorff 
Check where we're calling JSON functions for a few runs. Temporary debug stuff. 
Merge. 
Take out printfs. no relation to orange 
Bug 476374 - JSON.parse does not support reviver argument as defined in spec. r=jorendorff 
Merge tm to m-c. 
Merge m-c to tm 
Merge tracemonkey to mozilla-central. 
Fix test bustage from bug 482349. r=jorendorff 
Merge m-c to tm. 
Merge tracemonkey to mozilla-central. 
Backout patch for  Bug 465158 due to Ts regression. 
Merge. 
Merge tracemonkey to mozilla-central. 
Do things in a different order. Bug 482861. r=jwalden 
Merge tracemonkey to mozilla-central. 
Bug 482899 - Don't call the reviver function when the JSON parse fails. r=jwalden 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Backout patch for Bug 480132. Debug only nit fix busts static analysis compile. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
revert to changeset b59984b88601 
Merge tracemonkey to mozilla-central. 
Merge. 
Back out Bug 483723 - 'Trace string.indexOf'. It conflicts badly with mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge. 
Merge tracemonkey to mozilla-central. 
Merge m-c to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central 
Bug 481514 - PurgeScopeChain should not deep-bail quite so eagerly (r=jorendorff, a=sayrer). 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 396226 - Provide an API to asynchronously generate HTTP responses in httpd.js, and implement a state-storage system which can store object references to provide greater contextual information in handlers.  NB: this push enables httpd.js debug output just in case something goes wrong, to be disabled as soon as it's clear nothing has -- expect the first Windows builds to finish next century sometime.  r=sayrer 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Bug 454781 -  Mochitest doesn't align the names of the testfiles and test results, r=sayrer 
Merge tracemonkey to mozilla-central. 
Bug 489089 - JSON.parse is way slower than it needs to be  (r=igor/sayrer). 
Merge tracemonkey to mozilla-central. 
Merge 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central 
Switch HTML mochitest template from using MochiKit.js to packed.js.  (Bug 490955)  r=sayrer 
Switch HTML mochitests from using MochiKit.js to packed.js.  (Bug 490955)  r=sayrer 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey 
Merge. 
Bug 442059 -  [native JSON] allow to blacklist keys by name when encoding to JSON. r=brendan 
Merge tracemonkey to mozilla-central. 
Fix up whitespace. CLOSED TREE 
Merge tracemonkey to mozilla-central. 
Add the editor to cycle collection.  (Bug 423233)  r+sr=peterv 
Merge mozilla-central to tracemonkey. 
Merge mozilla central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge. 
Merge tracemonkey to mozilla-central. 
Bug 492705 Rename jsdtracef.c to jsdtracef.cpp r=sayrer 
merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 493315 - Random cleanup in jsdbgapi.cpp. r=sayrer 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge m-c to tracemonkey. 
Backout last cset. Bug 487607 is not ready yet. 
Merge mozilla-central to tracemonkey. 
Bug 493586. JSON.parse replacer function doesn't elide object values correctly. r=brendan 
Merge. 
Merge. 
Merge. 
Merge tracemonkey to mozilla-central. 
Merge. 
Merge. 
b=494095; use -O3 for Mac builds; r=sayrer 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Build optimized JS shell with -O3 when using gcc (494994, r=sayrer). 
Merge tracemonkey to mozilla-central. 
Bug 484027 - Add a method providing minimally controlled arbitrary write access to the connection within a response, allowing arbitrary information (even data which is not a syntactically valid HTTP response) to be sent in responses.  r=sayrer 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge m-c to tracemonkey. 
Merge. 
Merge 
Merge tracemonkey to mozilla-central. 
Back out bug 496134, destructuring assignment upvar fixes due to reported fuzzer problems 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
merge tracemonkey to mozilla-central 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey 
Merge. 
Merge tracemonkey to mozilla-central. 
Backed out changeset 31f30d06b803 
Backed out changeset b2256abf53c0 
Backout jsvector patch. Doesn't build the full browser. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Optimize stringify edge case. r=sayrer/jorendorff. 
Bug 503524 - JSON.stringify does not condition number-typed space parameter per spec (r=sayrer). 
Fix -0 modulo -x disagreement on Windows (bug 503595, r=sayrer). 
Merge mozilla-central to tracemonkey. 
Refactored deduceTypeStability/closeLoop for a general cleanup needed for recursion (bug 497948, r=gal+sayrer). 
Merge tracemonkey to mozilla-central. 
Fix dtrace build bustage. 
Backed out changeset 6ca843fc1e67 
Merge backout 
Backed out changeset b6a8110a858f 
merge backout 
Merge tracemonkey to mozilla-central. 
Backed out changeset 7fc9bac4d871 
Backed out changeset f4bcdda71b8f 
Backout merge 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central for backouts. 
Bug 503160 -  integer constants are not automatically demoted. Patch by Andreas Gal and Robert Sayre. r=dvander/gal 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Backed out changeset 8f6d8ce284ff 
Merge backout. 
Backed out changeset 8f6d8ce284ff 
merge. 
Backed out changeset 047b9102dddb 
Merge backout. 
Backed out changeset 53b153375585 
Backed out changeset 8f7b8cae113d 
Merge backout. 
Backed out changeset d07b03553f36 
Merge backout. 
Backed out changeset b3d459d23452 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 506563 - Use native trim() in FeedProcessor.js. r=sayrer 
Merge mozilla-central to tracemonkey. 
Backed out changeset e09130fcb013 
Merge tracemonkey to mozilla-central. 
Bug 500304. Turn on chrome jit. r=brendan 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 507526 -  use getc_unlocked in the scanner rather than getc. r=jorendorff 
Bandaid for bug 508128. r=waldo 
causes timeouts, somehow. backed out changeset 1391e8b39c73 
Commit backout. 
Backed out changeset 70b3b23c948a 
Merge backout. 
Cleanup of deduceTypeStability and closeLoop, take two (bug 497948, r=gal+sayrer). 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Add html5 parser tests: tree construction, tokenizer, and comparison beteween Gecko and JS parsers.  bug 373864; r=sayrer 
Fix reorderToMatchExpected by maintaining the inAttrList state correctly. Extend the test file syntax with comment and todo features. b=462701 r=sayrer 
Merge mozilla-central to tracemonkey. 
Merge. 
Improved joinEdgesToEntry functionality and cleanliness (bug 509093, r=sayrer,gal). 
Try to fix bustage by revving XDR number. 
Backed out changeset 5817b38a8686 
Merge. 
Consolidated inner global typemap completion logic and fixed a bug when extending nested exits (bug 510518, r=gal,sayrer). 
Merge mozilla-central to tracemonkey. 
Fix jsapi-tests assert in debug builds. tests need to happen inside a request. 
Merge. 
Bug 511309 - Followup patch to force flush on the CodeAllocs, r=sayrer. 
Merge tracemonkey to mozilla-central. 
r=sayrer
Bug 513707, add a method to wait for load and focus events before starting some tests, r=sayrer 
r=sayrer for XPCOMUtils change
Temporarily ifdef jsapi-tests on wince, so the rest of the tests can run. r=ted 
r=sayrer 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge 
Inline GetUnitString fast path (513373, r=sayrer). 
Fast path for is/is not space character classification (513379, r=sayrer). 
Shortcut strncmp in string to number conversion path (513434, r=sayrer). 
Inline js_DoubleToInteger (513436, r=sayrer). 
Bug 469718 - browser javascript reftests, r=sayrer, r=ted.mielczarek. 
Bug 512591 - trace-tests needs a |valgrind| flag, r=sayrer. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge 
Backed out changeset f5ea964eb493. (Brendan Eich — High-level CSE for shape guards (518448, r=jorendorff). 
Merge backout 
Bug 519498 - Follow XPCOM rules about reading values after a failure. r=sayrer 
Bug 469718 - browser javascript reftests, r=ted.mielczarek, r=sayrer, r=dbaron. 
Backed out changeset f5ea964eb493sdf 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
revert accidentally committed test harness modification. 
Merge. 
Merge. 
Merge mozilla-central to tracemonkey. 
Temporarily disable recursion to track down tgfx regression (bug 520321, r=sayrer). 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge 
Bug 432118 - "My Yahoo" should be "My Yahoo!" in the list of feed handlers. r=sayrer 
Merge tracemonkey to mozilla-central. 
Merge 
WINCE bustage fix 
Bug 510360 - early return in json.cpp might skip necessary postamble (r=sayrer) 
Bug 523257 -  remove some ComputeThis code duplication. r=mrbkap 
Add inline requested in bug 523257. 
Merge m-c to tracemonkey. 
Merge. 
Bug 523416 - fix the blx_lr_broken implementation, r=sayrer. 
bug 521549 - disable js1_5/Regress/regress-351116.js for debug 32bit linux browser, r=sayrer 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
bustage fix 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge 
Bug 526422 - AIX Compilation error for 3.7a1pre source "js/src/jsgc.cpp, line 2850.17: The name lookup for "FinalizeGCThing" did not find a declaration, r=sayrer 
Check whether the patch in  Bug 527261 fixes a mochitest crash. 
Merge 
Merge mozilla-central to tracemonkey. 
Check whether the patch in  Bug 527261 fixes a mochitest crash. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Disabling the joined method optimization from bug 524826 again (529837, talked about it with dbaron and sayrer). 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge 
Add a missing credit to trigger a re-compile. 
Merge m-c to tm 
Merge. 
Add a call to reportCompare so this test passes. 
Backed out changeset c696751593d6.  Tolerate race condition or broken resolve hook (530507, r=jorendorff). 
Merge backout. 
Backed out changeset c03ebf340688. Bye-bye middle-deletes and their O(n^2) worst case complexity; hello dictionary-mode scopes (473228, r=jorendorff). 
Backout bug 473228 and its follow-up, temporarily, to attempt a clean merge of other stuff. 
Merge tracemonkey to mozilla-central. 
Bug 532259 - Protect against a null script. r=jst a=sayrer 
Relanding: Bye-bye middle-deletes and their O(n^2) worst case complexity; hello dictionary-mode scopes (473228, r=jorendorff). Backed out changeset ee7bfc1923ad 
Merge 
Relanding Tolerate race condition or broken resolve hook (530507, r=jorendorff). Backed out changeset fb34a7163a43 
Reland bug 473228 and bug 530507 
Bug 532041: Test that duplicate argument checks use JSFunction::u.i.names correctly. r=sayrer 
Merge tracemonkey to mozilla-central. 
Backed out Andreas Gal — Try to fix autoconf madness for bug 530896. changeset 289c9c3c9195 
Merge. 
Backed out changeset eae07941000e. Andreas Gal — Efficient Implementation of JSDOUBLE_IS_INT using SSE2 (original patch by Moh Haghighat/Intel, bug 530896, r=dvander). 
Merge. 
Merge. 
Backed out changeset 787d5fbc1f80 
Merge. 
Backed out changeset 8a44551a28c1 
Merge. 
Merge mozilla-central rev a732c6d3c078 to tracemonkey. This is just prior to the e10s plugins landing. 
Merge m-c to tm. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bustage fix for non-JIT builds. Following up bug 474500. 
Merge mozilla-central to tracemonkey. 
Merge. 
Bug 536113 - TM: make trace-tests.py --valgrind less noisy.  r=sayrer. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bustage fix for non-JIT builds. Following up bug 474500. 
merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Fix newline and merge. CLOSED TREE. 
Mark regress-404755.js as random. see bug 544603. 
Backout the marking of the test in bug 544603. Igor has a different patch that will deal with it. 
r=sayrer. 
Merge mozilla-central to tracemonkey. 
Merge. 
Try to fix js1_8_5/extensions/ jsreftest directory. see bug 544757. 
Add test for bug 470795. 
bug 528404 - disable e4x/XML/regress-324688.js due to random time outs, r=sayrer. 
Merge mozilla-central to tracemonkey. 
Changed --enable-jit to --enable-tracejit (bug 545245, r=sayrer). 
Patch for bug 547086 is causing a crash in the js tests. Backed out changeset 10a40c748aed 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 549788 - Increase the buffer size used for JSON streams. r=sayrer 
Bug 544097 - Change mochitests to use mochi.test instead of localhost for mobile test refactoring p=jmaher, r=sayrer,dwitte 
Bug 544097 Change mochitests to use mochi.test instead of localhost for mobile refactoring p=jmaher r=ted,dwitte,sayrer 
Bug 544097 changing mochitests to use mochi.test instead of localhost for windows mobile refactoring p=jmaher, r=ted,dwitte, sayrer, waldo, ctalbert 
Bug 544097 changing mochitests to use mochi.test instead of localhost for windows mobile refactoring p=jmaher, r=ted,dwitte, sayrer, waldo, ctalbert 
Bug 513854 - httpd.js should write its response data asynchronously.  r=sayrer 
Disable partial flat closures pending scope chain reconstruction on trace (554572, r=jorendorff; CLOSED TREE push ok'ed by sayrer). 
Merge tracemonkey to mozilla-central. 
Merge 
Bug 555669 CTypes.cpp failed to compile on Solaris r=sayrer 
Make mochitests not build and search the results table when run inside the harness.  (Bug 466104)  r=sayrer 
Merge mozilla-central to tracemonkey. 
Bustage fix: Change canvas quickstub tvr usage to the new name. 
Bustage fix: change ctypes to use finite() and the correct name for tvrs. 
Merge. 
Fix up a little merge fail so that infallible malloc macros don't get run on js/src files. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Fix merge bustage. 
Merge. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge. 
Merge. 
JSON stringify and parse have the wrong length. bug 554082. r=waldo 
Bug 554079: JSON.parse should reject control characters. r=waldo 
Bug 554152: Fix handling of space parameter match final spec. r=waldo 
Bug 554851: MSVC warning C4345 is lame. r=lw 
Bug 554798: msvc warning in json.cpp. r=waldo 
Bug 554850: silence JSBool -> bool conversion warnings in msvc. r=waldo 
Disable reftest 508908-1.xul. See bug 556124. 
Merge mozilla-central to tracemonkey. 
Bug 538324 - Move ctypes into js/src. Part 1: Move ctypes into js/src/ctypes. r=sayrer 
Bug 538324 - Move ctypes into js/src. Part 6: Add ctypes to JSAPI. r=sayrer 
Fix up the tests from bug 555246 to run when there's no evalcx function available. 
Fix thinko in test. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
FF 3.5.2 native JSON.stringify replacer applied only to array items, not object properties. bug 509184. r=waldo 
Merge mozilla-central to tracemonkey. 
Bug 505228. JSON.stringify generates non standard output if space is defined. r=sayrer 
Merge 
worker-error.js passes now. 
Inline the object allocation path (558003, r=sayrer). 
Merge mozilla-central to tracemonkey. 
Fix merge bustage. 
Merge mozilla-central to tracemonkey. 
Backed out changeset c9faf5a2bc75 
Merge 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Bug 559562. Fix Windows a11y test using obsolete getter syntax. 
Bug 559562. Fix Windows a11y test using obsolete getter syntax. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Merge 
Backed out changeset 1af19eedbde2 -- Fix sharpSlots vs. with grudge-match (561011, r=mrbkap). 
Merge 
Bug 558971 - Parser arena allocation overhead is too high. r=sayrer/shaver 
Disable jsreftest js1_5_8/extensions/worker-fib.js which randomly hangs in the browser. r=sayrer. 
Fix busted test from Bug 558830 - Trace script getters. 
Someone should teach me to write JavaScript. Really fix busted test from Bug 558830 - Trace script getters. 
Merge mozilla-central to tracemonkey. 
Bug 560650 - TM: json code should use JS_Enumerate. r=gal 
Merge tracemonkey to mozilla-central. a=1hr 
Update json.cpp comment. a=1hr 
Merge tracemonkey to mozilla-central. a=1hr 
Bug 486256 - Mochitest test_Scriptaculous.html (all but 2) results fail to be actually logged. r=sayrer 
Bug 561619 - JS CTypes has a build dependency bug. r=sayrer 
Merge. 
Bug 559839 - "Failures in ajax test suites aren't counted" [r=sayrer] 
Bug 559839 - "Failures in ajax test suites aren't counted" [r=sayrer]
Bug 561619 - JS CTypes has a build dependency bug. r=sayrer 
Merge mozilla-central to tracemonkey 
Merge mozilla-central to tracemonkey 
Bug 562144: Make DTrace hooks pretty. (r=sayrer) 
Merge mozilla-central to tracemonkey. 
Update dense array cloning with new factoring of getDenseArrayCapacity 
Merge. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
Bug 553070 - Allow XPCOMUtils to do category registration for specific apps. r=sayrer 
fix debug build bustage from Bug 559408. 
fix windows debug build bustage from Bug 559408. 
Backed out changeset 4eca3e990ec0 
Backed out changeset e0d454817dfd 
Merge. 
Backed out changeset 919950c7f0f0 
Merge. 
Backed out changeset 60c4693a80ef 
Merge. 
Disable most of test_wrappers.html until we fix 564954. 
Disable generator-using test until bug 565199 is fixed. 
Ahem. Disable generator-using test until bug 565199 is fixed. 
Bug 565521 - Add a test. r=sayrer 
Merge mozilla-central to tracemonkey 
Merge mozilla-central to tracemonkey. 
Get rid of some js_AllocStack usage. 
Disable msvc warning C4800 
Merge 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey. 
Bug 563938 - Refactor DST offset computation to pave the way for caching the DST offset when possible.  No functionality change.  r=sayrer 
Bug 563938 - Refactor units-of-time used in computing DST offsets.  r=sayrer 
Bug 563938 - Cache DST offsets to improve SunSpider score.  r=sayrer 
Backed out changeset 52be13ea0488. Bug 556277 - Compute this eagerly in more cases. r=brendan. Suspected of performance regression on SunSpider unpack-code. 80ms -> 135ms. 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge. 
Bug 520189 - Fix copy and test for the HTML editor; f=bzbarsky,dbaron r=sayrer,peterv,bzbarsky sr=roc 
Bug 521349 - crash reporter should submit to a URL including some client info for stat mining from access logs. r=vlad 
Merge 
Bug 512447 - JSON.stringify does not correct handle replacer functions. r=sayrer 
Merge. 
Bug 576033  - Accept-Encoding syntax causes upstream cache inefficiency.  r=jduell 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Fix rooting API differences. will get review after the fact, taking care of bustage now. 
Merge. 
Merge mozilla-central to tracemonkey. 
Do a trivial rooting change instead of the more involved one I tried after the merge. 
Merge mozilla-central to tracemonkey. 
try to fix moz_free macro substitution bustage on Windows by reordering includes 
Squash warning, rebuild with Windows clobbered. 
Backed out changeset 562f69adb6b8 
Merge backout. 
Move includes in JetpackActorCommon.cpp only. 
Fix bustage from jetpack including jstl on Windows. 
Merge mozilla-central to tracemonkey. 
Fix ObjectWrapperChild bustage 
merge 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
add logging data for websocket test failure. 
tweak error formatting in flaky test 
Merge mozilla-central to tracemonkey. 
add yet more debugging info to the websocket test. 
Push more logging. 
Merge mozilla-central to tracemonkey. 
Merge. 
Comment out part of the flakiness in the websocket test. 
add some logging to reftest 
Mark a few bidi tests random. see bug 578286. 
merge tracemonkey to mozilla-central. 
Merge 
Fix bustage from bug 578392 (r=sayrer on the bustage fix). 
Bug 538531 - valgrind: UMR in sec_asn1e_write_contents() because PSM passes uninitialized SECItem to NSS r=sayrer,honzab.moz 
Bug 494328 - Media file display names should use decodeURIComponent instead of decodeURI. r=sayrer 
Backed out changeset e393b9673207. ( Bug 573803 - add SSL WebSocket support to mochitest. r=ted ) 
Merge backout. 
Bug 578588 - Test suite may not work correctly on Win64 because navigator.platform is Win64. r=sayrer, a=Test Only 
Change a comment to match the surrounding code. 
(b=583450, 583375) Fix ShaderLang.h bustage. Commas at the end of enum lists. 
Bug 564621 - Add some documentation for JSONParserState enum values, so that future changes here don't have to lack docs or be the odd man out.  r=sayrer 
Bug 578273 - ES5: Properly detect cycles in JSON.stringify (throw TypeError, check for cycles rather than imprecisely rely on recursion limits).  r=sayrer 
Bug 579524 - DEBUG_CC broken by fatval. r=sayrer 
Merge mozilla-central to tracemonkey. 
Merge. 
Bug 573841  - Assertion of non-null-terminated string on returning a ctypes array.readString(). r=mrbkap, a=sayrer 
Merge mozilla-central to tracemonkey. 
Merge 
Add some debugging data to a failing test. 
Bug 582521 - Fix xpconnect 'char' conversions in DEBUG builds. r=bz, a=sayrer 
Fix GCC warning.  No bug, r=sayrer via IRC. 
Backed out changeset d8bbb2ef3038. (Igor Bukanov – bug 579957 - parent as a field in JSObject. r=lw) 
Merge backout. 
Change a comment to match the surrounding code. 
Merge mozilla-central to tracemonkey. 
Fix ShaderLang.h bustage. Commas at the end of enum lists. 
Bug 583493 - nsTransactionItem log spew is making working with tinderbox impossible. 
Backed out changeset af011e92ad0b. (Dave Herman – bug 583281, r=jimb: njs should get symlinked into objdir). This doesn't build on windows. 
Merge backout. 
Back out changeset c877176cbbed in order to get Windows compiling. (Bug 582479 - TM: Assertion failure: (&cx->regs->sp[1 - (iargc + 2)].toObject())->isFunction().) 
Backout changeset 80382d88b92c. (Bug 577648 - arguments.callee.caller does not work in FF 4 under certain circumstances). The patch is righteous, but MSVC's behavior with a mere 3GB of addressable memory is not. Will reland soon. 
Remove tests associated with backouts. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Reland bug 577648 tests. 
Merge. 
Reland: Bug 577648 - arguments.callee.caller does not work in FF 4 under certain circumstances. 
Merge 
Reland Bug 582479 - TM: Assertion failure: (&cx->regs->sp[1 - (iargc + 2)].toObject())->isFunction(). 
Merge relanding of bug 577648 and bug 582479. 
Merge tracemonkey to mozilla-central. 
bug 437904 and by sayrer in bug 525092.  Also includes fixes
security.ssl.enable_false_start to disable it.  r=sayrer.
approval2.0+ by sayrer. 
Bug 583908 - Enable TLS false start in Mozilla. r/a=sayrer. (CLOSED TREE) 
Merge tracemonkey to mozilla-central. (CLOSED TREE) 
Backed out changeset c6131ed87e9c. Jason Orendorff — Bug 583262 - Remove security checks on f.prototype.constructor property at last. r=mrbkap. Causing nightly topcrash. 
Merge backout. 
Backed out changeset c6131ed87e9c. Jason Orendorff — Bug 583262 - Remove security checks on f.prototype.constructor property at last. r=mrbkap. Causing nightly topcrash. 
Bug 568863 follow-up: add reset() to the JavaScript API. r=waldo a2.0=sayrer 
Bug 584252 - disallow non-standard extensions to float syntax (r=jorendorff) (CLOSED TREE) 
with NSS 3.12.7 or older.  r=kaie.  approval2.0+ by sayrer. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Backed out changeset 504bc84513b0. Andreas Gal – Ensure that JSOPTION_UNROOTED_GLOBAL is set when we cycle collect (stop-gap measure for bug 584495, r=brendan). default tip 
Merge tracemonkey to mozilla-central. 
Merge. 
Backed out changeset 96ef97b766e6. (Bug 458271 - Property cache causes resolve hooks not to be called. r=brendan.) 
Merge backout. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
r=khuey,kaie,sayrer,ted.  approval2.0+ by bsmedberg. 
Bug 507012: function call/return callback for profiling, r=dmandelin, a=sayrer 
Merge mozilla-central to tracemonkey. 
Merge merge. 
Merge mozilla-central to tracemonkey. 
Bug 584912: Fix use after free in jsd_DestroyThreadState. r=timeless, a=sayrer 
Bug 584929: Add v8-v5 to trace-tests and check for correctness. r=sayrer 
Disable the test for bug 458898. See bug 562955. 
Fix bustage on Mac PPC. 
Try to fix Maemo 4 build. 
Try to fix Maemo 4 again 
Try to fix Maemo 4 again again. 
Try to fix Maemo 4 again again again. 
Try to fix Maemo 4 again again again. 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Backed out changeset 1406935fced4. Brian Hackett – Put JSStackFrame.scopeChain/blockChain behind an interface, bug 586533. r=lw. 
Unleak regexp arena. Bug 586898 - JM: memory leak due to YARR. r=sayrer 
Merge tracemonkey to mozilla-central. 
Merge. 
[Bug 587183] TM merge broke android in Nitro. r=sayrer. 
Backed out changeset 7b475a00cd7c. Reftest bustage. 
Merge backout. 
Remove test for bug 558403.  (Bug 581734)  r=sayrer  a2.0=tests 
Try to fix intermittent refcount assertions in the presence of more than one thread. Bug 587277 - TM: ExecutablePool release race. r=sayrer 
Bug 587597 - Fix ARM/Mobile bustage by building Yarr. Contains Jacob Bramley's load8 fix. r=sayrer a=blocking-fennec 
Paper over some missing refactoring on mozilla-central. 
Try to fix intermittent refcount assertions in the presence of more than one thread. Bug 587277 - TM: ExecutablePool release race. r=sayrer 
Bug 584909 - Use AutoIdVector/GetPropertyNames rather than AutoIdArray/JS_Enumerate to avoid unnecessary work and use cleaner APIs.  r=sayrer 
Bug 584909 - Properly handle JSON.stringify(_1, _2, numberGreaterThanOne).  Also output a space between ':' and property value when serializing object properties, if the gap specified is non-empty.  r=sayrer 
Bug 584811 - Date.prototype.toJSON isn't to spec.  r=sayrer 
[Bug 587183] TM merge broke android in Nitro. r=sayrer. 
Bug 587597 - Fix ARM/Mobile bustage by building Yarr. Contains Jacob Bramley's load8 fix. r=sayrer a=blocking-fennec 
Merge 
Merge 
Merge mozilla-central to tracemonkey. 
Merge from mozilla-central 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=very many blockers 
bug 589313, remove obsolete l10n tests, those are hosted elsewhere, details in the bug. r/a=sayrer, NPOTB 
Merge mozilla-central to tracemonkey 
Bug 587257 - Make Array.prototype.join faster. r=lw 
Backed out changeset b404ad209cb9. (Bug 587257 - Make Array.prototype.join faster. r=lw) 
Merge backout. 
Bug 578216 - Make eval(json-like string) fast.  r=sayrer. 
delete obvious comment. 
Bug 578216 - Make eval(json-like string) fast. r=sayrer 
bug 492688 - use -fomit-frame-pointer on mac. r=sayrer 
Bug 589727 - Typed Float32 Arrays broken on mozilla-central trunk (adding a test only, the bug itself was fixed in bug 586387).  r=sayrer. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central. 
merge mozilla-central to tracemonkey. 
merge 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 588251 - fun.caller should throw if that value corresponds to a strict mode function.  r=sayrer 
Bug 564621, bug 582077 - JSON.parse shouldn't allow {"a" : "b",} or [1,].  But, because Firefox's bookmarks "JSON" generation has historically generated invalid JSON (it no longer does, see bug 505656), preserve a "legacy" mode of parsing that can be used to load bookmarks.json files (at least until we no longer support migration from Firefox <4 profiles :-) ).  r=sayrer 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. CLOSED TREE 
Bug 591575 - JM: Fix Android build bustage due to "thumb conditional instruction not in IT block", r=sayrer 
Backed out changeset e2e1ea2a39ce. (Igor Bukanov – bug 588016 - Avoid reporting OOM when background has not finished. r=anygregor) 
Merge backout. 
Merge. 
Merge mozilla-central to tracemonkey. 
merge mozilla-central to tracemonkey. 
Merge. 
Merge mozilla-central to tracemonkey. 
Bug 590083 - temporarily disable ARM method jit 
jaegermonkey. what. a=arewefastyet 
jaegermonkey. what. a=arewefastyet 
[Bug 595544] Fix some JSFunctionSpec definitions in nsJSEnvironment.cpp. r=dbaron a=bustage 
Fix bustage with various profiler integration options from JSNative signature change in JägerMonkey landing.  (Bug 595544)  r=sayrer  a=bustage 
Merge tracemonkey to mozilla-central. a=blockers 
Try to fix Ts regression from patch for bug 592556... (r/a=sayrer). 
Increment JSXDR_BYTECODE_VERSION 
Cherry pick some fixes from TM. a=blockers. 
Merge mozilla-central to tracemonkey. 
Increment JSXDR_BYTECODE_VERSION 
Merge tracemonkey to mozilla-central. a=blockers 
Merge 
Merge tracemonkey to mozilla-central. a=blockers 
Merge. a=blockers 
Bug 593116 - Use -fomit-frame-pointer when compiling jsinterp.c. r=ted, a2.0=sayrer 
Merge mozilla-central to tracemonkey. 
Merge 
Back out changeset d7d3c0af2877. Brendan Eich – Fix slot leak that leads to allocSlot assert botch (597945, r=jorendorff). 
Merge backout. 
Merge tracemonkey to mozilla-central. a=blockers 
Merge. a=blockers 
r=sayrer a=blocking2.0:beta7 
Fix test_canvas.html mochitest. Using preventExtensions on a huge typed array is a bad idea right now. Bug 598969. r=brendan 
Merge tracemonkey to mozilla-central. a=blockers. 
Bug 596580: fix versioning on mozJSSubScriptLoader. (r=sayrer,brendan) 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers. 
Merge a=blockers 
Optimize XML namespace handling. Bug 599166. r=brendan. a=sayrer 
bug 591836: split JS out of libxul to work around VS2005 PGO compiler crash. r=khuey a=sayrer 
Remove useless comment. 
Merge mozilla-central to tracemonkey. 
Fix exception handling inside trace and method JIT integration (bug 597871, r=jorendorff, a=sayrer). 
Merge mozilla-central to tracemonkey. a=whatever 
Bug 599446 - Weaken bug-finding assert in CallJSNativeConstructor (r=brendan,a=sayrer) 
Bug 599801 - TM: Clean up Compartment (de)construction. r=sayrer 
Bug 599254 - Avoid an unnecessary switch in the JSON parser.  r=sayrer. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central a=blockers 
Merge tracemonkey to mozilla-central. a=typo 
Merge. a=typo. 
Bug 597056. Firefox browser-chrome tests are ending up in Fennec. ifdef them away for mobile builds. r=mfinkle. a=sayrer 
Bug 598366 - remote logging with mochitest needs a little love for android and large files. r=ctalbert, a=sayrer 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers 
Merge. a=blockers 
Bug 600639, part 3: Add a --write-failure-output option to trace-test to additionally log output from failed tests. r=dmandelin a=sayrer 
Bug 600304: Add a PrintJSStack() friend of DumpJSStack() that returns a newly-allocated string instead of printing to stdout. r=jorendorff a=sayrer 
Merge mozilla-central to tracemonkey. 
Bug 601968.  Trace call(null).  r=gal, a=sayrer 
Merge mozilla-central to tracemonkey. 
Bug 602003: add jsd API to query valid script begin and end PCs, r=sayrer,jjb 
Bug 602003: add jsd API to query valid script begin and end PCs, r=sayrer,jjb 
Merge mozilla-central to tracemonkey. 
Backed out changeset a63b6fa0229c per request from sayrer due to a trace malloc alloc regression. 
Backed out changeset ad0c80eacba7 per request from sayrer due to a trace malloc alloc regression. 
Backed out changeset 08970767d83d per request from sayrer due to a trace malloc alloc regression. 
Merge tracemonkey to mozilla-central. 
Merge a=blockers 
Merge tracemonkey to mozilla-central. a=blockers 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. 
Merge tracemonkey to mozilla-central a=blockers. 
Merge tracemonkey to mozilla-central a=blockers. 
Merge m-c to tm 
Merge m-c to tm 
Bug 595243 - Expose debugMode to JSD. r=gal 
Merge. 
Bug 595243 - Expose debugMode to JSD. Relanding test bustage fixed up. r=gal. 
Follow-up fix for bug 595243. Don't try to place non-main thread scripts in debug mode, and don't attempt to set debug mode from a non-main thread. r=gal 
Merge mozilla-central to tm. 
Merge tm to mozilla-central. a=blockers 
Merge tm to mozilla-central. a=blockers 
Bug 609141 - Compartments mismatch in jsdScript::GetFunctionSource. r=sayrer 
Bug 608763 - JSD breakpoint does not work. r=gal 
Bug 597811: Make mozJSComponentLoader use JSVERSION_LATEST. (r=sayrer) 
Bug 608763 - JSD breakpoint does not work. r=gal 
Merge. 
Bug 609141 - Compartments mismatch in jsdScript::GetFunctionSource. r=sayrer 
Merge. 
Merge 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Bug 612642 - JS base64 code needs to be updated for removal of JS_GetStringBytesZ. Wallpaper patch for merging. 
Merge. 
Merge tracemonkey to mozilla-centra. a=blockers. 
Fix merge botch. a=bustage 
Bug 612989 - Try to convert numbers being parsed to int32 in JSON.parse.  r=sayrer,jwalden 
merge mozilla-central to tracemonkey 
Merge tracemonkey to mozilla-central. a=blockers. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers 
Merge tracemonkey to mozilla-central. a=blockers 
Merge mozilla-central to tracemonkey. 
Merge 
Bug 591172: make typeof comparisons faster in JM, r=dvander, a=sayrer 
Merge mozilla-central to tracemonkey. 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers 
Merge. a=blockers 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 617215. JS_NewString leaks. r=bz, a=blocking b8 
Backout changeset 501c5ca70faa. a=bustage 
Merge tracemonkey to mozilla-central. a=blockers 
Merge tracemonkey to mozilla-central. a=blockers 
Bug 617097 part 2.  Make the localeToUnicode callback take |const char*|.  r=brendan a=sayrer 
but use NullPrincipal for untrusted content. 
Merge tracemonkey to mozilla-central. a=blockers 
Backed out changeset d56f9c2057ed 
Backed out changeset 0bc05578d3d6 
Merge backout. 
Backed out changeset d099c5659761 
Merge backout. 
Backed out changeset 54e2039322ef 
Merge backout. 
Backed out changeset 39ccae4efa0f 
Merge backout. 
Backed out changeset d58e45442c87 
Merge backout. 
Backed out changeset 2215b740bca4 
Merge backout. 
Backed out changeset 2025b4eeca14 
Merge backout. 
Backed out changeset feb6682a10af 
Merge backout. 
Backed out changeset 2e94f0b8d03c 
Merge backout. 
Backed out changeset 013bde94ad94 
Merge backout. last good changset is a6c636740fb9 Brendan Eich – Fix joined method leak via arguments.callee.caller (586482, r=igor). 
Merge 
Bug 620961 - FoldXMLConstants should initialize str. r=brendan, a=sayrer 
Make Shark work with 64-bit MacOSX builds and rename to start/stopProfiling() (bug 625962, r=sayrer). 
Bug 452706 - Avoid the confusion of indistinguishable failure reasons. r=sayrer a=tests 
Bug 624101 - Make our canvases be moz-opaque [r=ian, a=sayrer] 
Bug 630284: Restore |RegExp.compile|, don't break the web. (r=brendan, a=sayrer) 
Bug 629968 - Patch SunSpider performance regression. r=brendan, a=sayrer.
Bug 631139 - Put Shape::numSearches and Shape::table in a union.  r=brendan, a=sayrer. 
Bug 631305 - Deleted watchpoints don't always come back when assigned. r=brendan, a=sayrer. 
Bug 633020 - ArgSetter can return false without reporting an error on trace. r=dmandelin, a=sayrer. 
Merge tracemonkey to mozilla-central. a=blockers. CLOSED TREE 
Merge tracemonkey to mozilla-central. a=blockers 
Merge mozilla-central to tracemonkey. 
Merge tracemonkey to mozilla-central. a=blockers. 
Bug 640652 - When unsetting an attribute on a XUL element, don't let the script blocker to be removed when the document nested update count is 0, since that can trigger XBL bindings, which may run scripts to do things which would lead into crashes; r=sicking a=sayrer 
Bug 637367 - Add null checks to nsPluginInstanceOwner::DoCocoaEventDrawRect(). r=bsmedberg a=sayrer 
Bug 642395 - change to handling of bad certificates. r=rrelyea, bsmith. a=sayrer 
Bug 641325: Turn PGO back on for JS. rs=ted a=sayrer 
Bug 581309 - Remove unused properties from XPCOMUtils; r=sayrer 
Bug 581307.  Add a simple way to lazily import modules.  r=sayrer 
Bug 678656 - fix some warnings in js/src/jsemit.cpp. r=dmandelin. 
Bug 660526 Remove useless use of PromiseFlatCString r=sayrer 
Bug 483992. (Av1) dom-level*-*/DOMTestCase.js: Remove sayrer's override of SimpleTest._logResult(). r=rcampbell. 
Bug 436801 - Support XHTML in feed titles. r=sayrer,adw 
