fiverocks.com

Bug 330352: very non-greedy regexp causes crash in jsregexp.c, r=mrbkap 
Bug 330569: provide configuration option for enabling new relimit option in JS, r=mrbkap, sr=jst 
Bug 355736: no quotas arround name matching keywords in keywordless context. r=brendan,mrbkap 
Bug 368152: Fixing warnings and one build error from jsregexp "debugger" patch, r=mrbkap 
Fix bug 351219 and related (r=mrbkap). 
Bug 375793 - Constant folder treats NaN coerced to boolean as true.  r=mrbkap 
Continue processing the character set even though we found our max. bug 375715, r=crowder 
Deal with the /i option before calculating the start (and localMax) for ranges. bug 375711, r=crowder 
Ignore let declarations when process variable declarations to ensure proper hoisting behavior. bug 350387, r=brendan 
Allow <style> to appear anywhere in the document, don't force it to be in the <head>. bug 308145, r+sr=jst 
Unify double sprinting to handle non-finite and negative zero cases (375882, r=mrbkap). 
Fix js_LineNumberToPC based on MikeM@RetekSolutions.com's input (313922, r=mrbkap). 
Fix parser to allow eval(i)++ to compile (352453, r=mrbkap). 
Allow case yield: in JS1.7 (352441, r=mrbkap). 
Fix special case of new (f()()) and the like (352013 part deux, r=mrbkap). 
Fix decompilation of for(a[b,c] in d) and the like (355786, r=mrbkap). 
Protect against someone calling XPCSafeJSObjectWrapper.prototype(). bug 375164, r+sr=brendan 
Fixing bug 376987. Add missing code to event listener registration helper code. r=mrbkap@gmail.com, sr=bzbarsky@mit.edu 
Add an API to set aside and restore cx->fp. bug 377090, r=brendan 
Bug 375642: another regexp that makes JS allocate > 1GB and hand, r=mrbkap 
JavaScript Test - add -Q command line option to jsDriver.pl to disable interrupt signal handler, bug 376701, r=mrbkap 
Add an assertion. bug 377090, r=brendan 
One exception fixed by mrbkap's patch for Bug 308145. 
Allow getting the lineNumber of XPConnect expceptions.  Bug 291377, r=sicking,sr=jst.  r=mrbkap, sr=jst for the test. 
Bug 378738 - \d pattern matches characters other than the decimal digits 0-9.  r=mrbkap 
Bug 375715: assertion on bogus character ranges in regexps, r=mrbkap 
Improve the <!DOCTYPE> parsing. b=363883 r=mrbkap sr=jst 
Update our child counts if notifying on our children caused more updates. bug 376761, r=bzbarsky sr=sicking 
Skip over exception cookies, since we require JSOP_POP to pop them. bug 380016, r=brendan 
Fix getter/setter decompilation to depend on generating op, not prefix string (381101, r=mrbkap). 
Support generator expressions for JS1.8 (380237, r=mrbkap). 
nsIParserNode::GetSource should be a const function. bug 374041, r+sr=jst 
Restrict for([k,v] in o) special case to JS1.7 (366941, r=mrbkap). 
Bug 367629: better obj_toSource for native functions and a few other cases, r=mrbkap 
Bug 381211: fixing off-by-one caused by patch from bug 367629, r=mrbkap 
Correctly parse regular expressions with the 'm' and 'y' flags. bug 378486, r=brendan 
If the scanner returned TOK_ERROR, it already reported an error. bug 380371, r=brendan 
Handle Function.prototype.toString not returning what we expect it to return (a function expression). bug 380933, r=crowder 
Count both the getter and setter for a given property. bug 381303, r=crowder 
Don't call DidBuildModel twice if Terminate is called twice since consumers aren't expecting it. bug 378982, r+sr=bzbarsky 
Bug 379482: Crash [@ js_IsIdentifier] decompiling float setter, r=mrbkap 
Don't assume that the parser is still enabled after we've returned to the event loop. bug 380590, r+sr=sicking 
Protect the number from GC, even if it was originally a number. bug 375976, r=crowder 
Mark the overwritten scope property in the space between where we remove it and re-add it in its changed form. bug 381374, r=igor 
More generator expression decompilation love (381372, r=mrbkap). 
Fix JOF_XMLNAME, etc., interrogation to mask the mode bits and compare (381504, r=mrbkap). 
Bug 375715: "Assertion failure: (c2 <= cs->length) && (c1 <= c2)" with /[\Wb-G]/, patch by mrbkap, r=crowder 
Bug 381402: Compilation error with HAS_SCRIPT_OBJECT, r=mrbkap 
Bug 381402: Compilation error with HAS_XDR_FREEZE_THAW and old Script object, r=mrbkap 
Use the currently executing function as the nominal parent for our function so that we pull the correct prototype for our function. bug 370127, r+sr=jst 
Back this out for now to sort out what happens when we're called from C++, not from Javascript. 
Bug 381301: chomp closing ')' in obj_toSource more correctly, r=mrbkap 
Fix delete parser to fold constants in its operand to discern genexp error case (382355, r=mrbkap). 
Add a space here for consistency. bug 381108, r=brendan 
Implement ES4/JS2 expression closures (381113, r=mrbkap). 
Bug 381205: object uneval gets confused by special "getter functions", r=mrbkap 
Fix let-induced anti-bracing logic to cope with group assignment expression statements (356247, r=mrbkap). 
Bug 382073 - Bookmarks Service batch update API is a footgun. r=sayrer/mrbkap, a=mconnor. 
Bug 366355: perlconnect removal continues, r=mrbkap, patch by Patrick Welche <pw-fb@newn.cam.ac.uk> 
Fix fun_resolve to avoid resolving hidden properties (locals/params; 382532, r=mrbkap). 
Whitespace police 
Remove indirect eval. bug 382509, r=brendan 
Create XPCNativeWrapper function wrappers with the right parent. bug 370127, r=bzbarsky sr=brendan 
Fixing bustage, bug 382509 
Backing out to fix orange 
Handle error returns from ftell. bug 373934, r=brendan 
Remove indirect eval. bug 382509, r=brendan 
Fix overflow potential. bug 373931, r=crowder rs=brendan 
Be less strict about how you can call eval. In particular, allow callers to call it through other names, as long as the this object is a global object. bug 383381, r=brendan 
Remove vestigial initialization 
Bug 369032 - "Assertion failure: kid2->parent == xml || !kid2->parent" with E4X after appendChild; avoid incorrectly reparenting XML by deeply copying instead of mutating.  r=mrbkap 
Fix CheckSideEffects over-aggressiveness (383674, r=mrbkap). 
Bug 383721: escape tabs on platforms with unusual isprint() routines, r=mrbkap 
Bug 375801: Using (void 0) instead of "undefined" in toSource and uneval(), r=mrbkap 
Fixing bug 383424. Make the context pusher use the owner document. r=mrbkap@gmail.com, sr=bzbarsky@mit.edu 
Make Object.prototype.toSource deal with even more __proto__ hacking. bug 383965, r=crowder 
Switch over to using XPCSafeJSObjectWrapper instead of trying to write it ourselves. bug 374071, r=crowder sr=darin 
Allow C.u.Sandbox to take a principal or an nsIScriptObjectPrincipal. bug 353732, r+sr=jst 
Backing out to fix orange. 
Use a better filename when eval is used across scopes. bug 369211, r=brendan 
Restrict who can claim to implement nsISecurityCheckedComponent. bug 352882, r=jst sr=bzbarsky 
Don't return NS_OK in failure cases. Instead, return a well-known value that nsGlobalWindow can convert. bug 382196, r+sr=jst 
Fix recent regression in CheckSideEffects for paren-expr case (384680, r=mrbkap). 
Emit JSOP_GROUP when optimizing away delete (382981, r=mrbkap). 
bug 379056:  quieting the assertions here for all but myself and mrbkap, r=mrbkap 
Protect js_GetStringBytes from callers that happen during the last GC. Patch from brendan, bug 336907, r=daumling sr=shaver 
Bug 384901: leak in jsfile.c, patch by Robin Ehrlich, rehrlich@ubiqinc.com, r=mrbkap 
Clean up property attributes (384846, r=mrbkap). 
Backing this patch out again to fix sessionstore. See bug 300079 and 385085 
Implement an nsIScriptSecurityManager for the xpcshell. bug 239969, r+sr=jst 
Function atom if non-null must be string-keyed (385134, r=mrbkap). 
Fix violation of function prototyping due to cloned function object implementation (300079, r=mrbkap; expecting r=igor after the fact, want to get this in for widespread testing tomorrow). 
Use the latest version of JS, so the shell always has the newest features. bug 385159, r=brendan 
Implement a full nsIScriptSecurityManager in xpcshell. bug 239969, r+sr=jst 
Switch over to using XPCSafeJSObjectWrapper instead of trying to write it ourselves. bug 374071, r=crowder sr=darin 
Remove useless variable. bug 385368, patch from Gabriel Sjoberg <gabrielsjoberg@gmail.com>, r=mrbkap 
Actually populate the string cache so we don't leak all deflated strings. bug 385378, r=brendan 
Allow noscript in the head so that it doesn't push <style> into the body, causing the style's text to prematurely open a body. bug 379025, r=sicking sr=jst 
Fix typo introduced by bug 374071 original changes r=crowder sr=darin. 
Don't depend on undefined behavior (sign extension on right shift). bug 385259, r=mats.palmgren sr=jst 
Add a mochitest for bug 379025, r=sayrer 
Rename the mochitest file so that we don't try to run it as a test. 
Re-land fix for cloned function object prototyping (300079, r=igor/mrbkap). 
Bug 384898: Cleanup nsScanner. r=mrbkap, sr=jst 
Skip initial holes when computing the start value of reduce(Right). bug 386030, r=brendan 
Fixing bug 380474. Use the inner object when looking up methods and adding event listeners. r=mrbkap@mozilla.org, sr=brendan@mozilla.org 
Ensure that accesses to implicit XPCNativeWrappers are actually legal. bug 384750, r+sr=jst 
Backing out these changes to fix tinderbox orange. 
Don't be confused by misleading tag names. bug 386794, r+sr=sicking 
Ensure that accesses to implicit XPCNativeWrappers are actually legal. bug 384750, r+sr=jst 
Ensure that accesses to implicit XPCNativeWrappers are actually legal. bug 384750, r+sr=jst 
Fixing bug 380476. Never register timeouts on unloaded windows objects. r=mrbkap@gmail.com, sr=jonas@sickin.cc 
Pass the wrappedJSObject so that XPCNativeWrapper doesn't get confused by DOMI having its hands on implicit native wrappers. bug 387053, r=sdwilsh sr=jst 
Allow chrome files to touch implicit XPCNativeWrappers. bug 387084, r+sr=jst 
Backing out these changes, they were subsumed by bug 387084 and weren't really right anyway. bug 387053 
Bug 385729: objects and regexps are stored in separated tables in JSScript. r=brendan,mrbkap 
Don't create exceptions using the global object as the parent, since that's bogus, use the scope chain instead. bug 386695, r+sr=jst 
Associate XPCWrappedNativeScopes with XPCContexts, like the DOM does with windows and contexts, so that we can push a context that's allowed to actually call XPCWrappedJS functions. bug 352791, r=jst sr=brendan 
Attempt to re-enable async reflow and painting in editor. bug 174823, r+sr=roc 
Fixing bug 363897. Don't give error location information to script that don't have access to the location. r=mrbkap@gmail.com, sr=brendan@mozilla.org 
Backing out this change to see if it fixes the test failures. 
Back out this change to hopefully fix the rest of the regressions test failures (from bug 386695). 
Attempt to fix leaks. 
Fixing tinderbox orange. r=mrbkap@gmail.com 
Equals/Subsumes.  Bug 387212, r=mrbkap, sr=jst 
to{Source,{,Locale}String} are not generic (387501, r=mrbkap). 
Avoid asserting for user-controlled thing (through __proto__ setting). bug 387182, r+sr=jst 
Ensure that we have a valid scope chain at all times so C++ callers can create objects in the right scope. bug 387591, r=brendan 
Create exceptions with the right parent. bug 387390, r=jst sr=brendan 
Clear dormantNext when we're done using it. bug 387725, r=igor 
Always return XPCSafeJSObjectWrappers from Components.utils.Sandbox and evalInSandbox. This makes this interface much, much easier to use safely, as the wrapper takes care of several common problems that occur when touching regular JS objects directly. bug 386635, r=jst sr=brendan 
Don't trust the filename of cloned functions. bug 387390, r=jst sr=brendan 
Don't move <link> to the head, to match <style>. bug 387691, r+sr=sicking 
This isn't ready for checkin, yet. <link> ends up in the body too much. 
Don't treat PRBool as an int. bug 388093, r+sr=jst 
Bad millisecond resolution for (new Date).getTime() / Date.now() on Windows. bug 363258, patch from Rob Arnold <robarnold@mozilla.com>, r=brendan 
Fixing build bustage. 
Squelch compile warnings in layout by not using 'static' in a header file. bug 388356, r=enndeakin sr=jst 
Fix printf format-specifier and args mismatch to prevent potential DEBUG-only crashes. bug 388358, r+sr=roc 
Move where we convert things into strings into a more centralized place. bug 372075, r=bzbarsky sr=jst 
Bug 388438: Incorrect interpretation of LFCR after opening tag. r=mrbkap, sr=jst. 
add winmm.lib to JavaScript Shell build configuration on Windows, bug 363258, not part of the build. r=mrbkap 
Don't ship link to the head from <body>. <link> and <style> will still prefer the head in the absense of an explicit body, but will stay still if there is one. bug 387691, r=sicking/sayrer sr=jst 
Don't double-wrap objects when getting them out of an XPCVariant. bug 384632, r=peterv sr=jst 
Propagate getters, setters and attributes when forwarding addproperty to the inner window. bug 369259, r=jst sr=brendan 
Relanding mrbkap's patch for bug 369259 since backing it out didn't fix our perf test woes 
Implement cross-origin wrappers to gate accesses between sites that are cross origin. This will prevent sites from monkeying with each other by doing bad things to allAccess properties, and pave the way for more security work. bug 367911, r=jst rs=brendan 
Fix assertion and incorrect '!' that could cause us to create cross-origin wrappers in the wrong scope. bug 389796, r+sr=jst 
Deal with XPCCallContexts that aren't able to initialize themselves. This also fixes bugs related to finalizing objects on dead contexts. bug 390083, r+sr=jst 
Don't call FindInJSObjectScope on an object that's being finalized because its parent might have been finalized already. bug 389985, r+sr=jst 
Protect vp from garbage collection, since GC could nest under several of the calls here. bug 390222, r+sr=jst 
Let "window.eval" work again by always wrapping eval when it comes out of a cross origin wrapper. bug 389878, r+sr=jst 
Make enumeration over XOWs work. bug 390001, r=jst/brendan sr=jst 
Fixing bug 389856. Fix dialog argument handling. r=mrbkap@gmail.com, sr=jonas@sicking.cc 
The outerObject hook needs to wrap the outer object in an XOW, to match every other place. bug 390116, r+sr=jst 
Detect cyclic __proto__ values ourselves because the JS engine gets confused by the wrappers. bug 390626, r=brendan sr=jst 
Remove an unused variable. no bug, r=sparky sr=lumpy 
Bug 390042 - mingw build error - error: no matching function for call to nsAutoString::nsAutoString(jschar*), r=mrbkap, sr=jst, a=jst 
Bug 390958. XPCWrappedNativeScope leaks a WrappedNative2WrapperMap. r=brendan/mrbkap, sr=brendan, a=jst 
Fix broken printf to fix a compile warning. bug 390855, r+sr+a=bsmedberg 
Make XPCSafeJSObjectWrapper easier to use by not throwing for primitive values passed to the constructor. Use it in more places in PAC. bug 388450, r=crowder sr=brendan a=bzbarsky 
Allow UniversalXPConnect scripts to touch XPCNativeWrappers. bug 390788, r+sr=bzbarsky a=jst 
De-confuse GetWrappedNativeOfJSObject about wrappers around the outer object. bug 391055, r+sr=jst 
Add a mochitest for bug 390001. r=sayrer sr=bzbarsky 
Add a mochitest for __parent__ wrapping. 
Try harder to find a scope chain so that we can report exceptions when there is no code running currently. bug 390160, r=brendan sr=jst a=brendan 
Fixing bug 390275. Make setTimeout() always register the timeout on the right inner window, and add a new JS_GetGlobalForObject() JS API to eliminate some code duplication. r=mrbkap@gmail.com/brendan@mozilla.org, sr=bzbarsky@mit.edu 
Attempting to fix bug 354380. Add safe guard against prematurely deleted scriptable plugin objects. r=mrbkap@gmail.com, sr=jonas@sicking.cc 
Date.UTC returns incorrect value if date is less than or equal to 0. bug 363578, patch from jag, r=mrbkap a=brendan 
Clamp the caret's position so that we always draw within the nearest scrollframe. Not doing this allows the scrollframe to clip the caret, causing it to not show up at all. bug 335560, r+sr=roc 
Redragging over empty text field doesn't show drag caret, except for the last text field. bug 390228, r+sr=roc a=dbaron 
Fix compile warning. No bug, r+a=brendan 
Don't wrap everything that comes out of a wrapped function, if that function is same-origin. bug 390946, r+sr+a=jst 
Don't assume that all XOWs are equal. bug 391497, r+sr=jst 
Make XPCSafeJSObjectWrapper usage in PAC actually work correctly for the common case. bug 391515, r=jst sr+a=brendan 
Allow 'this' to not be a wrapped object. bug 390560, r+sr+a=jst 
Get the right property attributes and actually look up the prototype chain. bug 390948, r+sr+a=jst 
Get the right class -- off of obj2, not obj and ensure that we propagate failure from outerObject. bug 375344, r=brendan a=sicking 
One-char fix to recent regression (392944, r=mrbkap). 
Be consistent as to when we forward to the inner window. bug 393669, r+sr=jst 
Bug 394975: properly initializing JSContext for evalx. r=mrbkap. No 1.9 aproval as the file is outside browser's build tree. 
Bug 375651 - "Assertion failure: nbytes != 0" with regexp quantifiers, r=mrbkap, a=brendan 
Bug 395256 - Make nsJSID/IID/CID objects .equals method slightly faster, r=mrbkap sr=jst a=damons 
Bug 395444 - Fast-path QueryInterface in XPCWrappedNative::CallMethod, r=mrbkap sr=jst a=damons 
Fixing bug 394534. Make first attribute win in misplaced content. Patch by bzbarsky@mit.edu, r=mrbkap@gmail.com, sr=peterv@propagandism.org, a=jonas@sicking.cc/dsicore@mozilla.com 
Fix dumb signed comparison bug (395828, r=mrbkap). 
Fix old bug involving eval of a local function named by an existing local var (395907, r=mrbkap). 
Treat the pseudo frame even more like a real frame. bug 390597, r+a=brendan 
Set the script's filename correctly and don't treat the lack of a filename as a failure. bug 391470, r+sr=bzbarsky 
Create a JSClass hook to allow object classes to easily support custom iteration without having to override __iterator__ in a resolve hook. bug 393306, r+a=brendan 
Bug 396326: patch from Seno Aiko to use thr proper bytecode flags. r=mrbkap 
Actually use an escape for the nul character. bug 375639, r+a=brendan 
Give scx a global object so that we can always calculate a "this" object. bug 394967, r+a=brendan 
Bug 396452. Enforce SpiderMonkey request model with assertions. r=mrbkap, sr/a=brendan 
Bug 395678 - Fix const issues with strchr in C++ (when used in mozilla-central), r=mrbkap, a=brendan 
Fix old bug where we wouldn't close ts after a compilation error. bug 397136, r+a=brendan 
Restore the right caret in all cases. bug 395888, r+sr+a=roc 
Fix Convert to work for JSTYPE_VOID and make sure it reports an error. bug 394436, r=jst sr=brendan 
Only allow XOW wrapped prototypes to go to null, not other objects. bug 394815, r+sr+a=brendan 
Fix obsolete test and add a new test to fix orange. 
Do lazy evaluation of XBL fields.  Bug 372769, r=mrbkap, sr=sicking 
Relanding bug 372769 with some cycle collection changes to fix leaks. r=mrbkap, sr=sicking, with r=sicking on the leak fixes. 
evalcx uses JS_BeginRequest/JS_EndRequest. bug 398045, r=mrbkap, not a part of the build. 
Implement an iterator hook for cross origin wrappers to avoid wrongly walking up the prototype chain during enumeration. bug 390947, r+a=brendan sr=jst 
Restore the caret on drag exit. bug 397283, r+sr+a=roc 
Propagate exceptions from the evalcx context to the outer context so they can be caught. bug 353737, r+a=brendan 
Bug 99922 - don't strip space after signature delimiter in PGP-signed mail, patch by Hendrik Maryns <hendrik.maryns@uni-tuebingen.de> and noedler@web.de, r=mrbkap, sr=bienvenu, a=bz's theory of NPOTFx code paths 
Bug 397773 - mozilla-central has pedantic errors because of extra commas, r=mrbkap+brendan a=brendan 
Bug 398114. JS_Assert: (cx)->requestDepth || (cx)->thread == (cx)->runtime->gcThread from nsJSSh::Init. r=mrbkap, sr=shaver 
Don't call setters if there is no setter to call. bug 398040, r=brendan sr=jst a=blocking1.9+ 
Bug 399094 - "Wrappers don't deal with non-native objects". Patch by Blake Kaplan <mrbkap@gmail.com>, r+sr+a=jst. 
Restore dynamic indirect eval code. bug 383682, r=brendan/igor a=brendan 
Deal with sites setting our proto's __proto__ to null. bug 398933, r+sr+a=jst 
Include $ and _ in identifier chars (still to do: Unicode alnums and escapes); based on patch from Frankie Robertson <frankierobertson5@googlemail.com> (399625, r=mrbkap). 
Bug 399090: proper check for duplicated parameter names in xdr decoder. r=brendan,mrbkap a=brendan aM9=beltzner 
Bug 393627 - "JS XPCOM component exception handled by native code shows up in error console" (don't report nsresult exceptions thrown from JS) [p=mrbkap r+sr=jst aM9=beltzner] 
Fix conditional expressions (401405, r=mrbkap). 
Fix post-increment/decrement automatic semicolon insertion bug (401466, r=mrbkap). 
Bug 395845. Fix leak of static parser-node cache. Patch by mrbkap. r/sr=sicking 
Fixing bug 398446. Make sure any JS exceptions thrown while plugins invoke JS are reported before we return control to the plugin. r+sr=mrbkap@gmail.com, a=dsicore@mozilla.com 
Bug 401298 - "Including jsapi.h generates many warnings with certain compiler configurations (e.g. gcc 3.4 -Wstrict-prototypes)" [p=wes@page.ca (Wesley W. Garland) r=mrbkap a1.9=brendan] 
Log parser token refcounting, and fix a number of token leaks in view-source that were also leaking strings.  Bug 402633, r+sr=mrbkap 
Bug 336408 - Allow the caret to be positioned at the end of trimmed whitespace, as if the whitespace wasn't trimmed [p=roc r=smontagu sr=mrbkap a=blocking1.9+] 
Bug 403048. Be more careful about looking for the line containing the caret. r+sr=mrbkap 
Bug 401662 - plaintext serializer includes content of <style> elements, r+sr=mrbkap, a=dsicore 
Bug 161453 - remove XP_MAC deadcode in typelib/xpidl, r=timeless, sr=mrbkap, a=dsicore 
Propagate end position in all cases parsing a parenthesized expression (402386, r=mrbkap/a=schrep). 
Don't crash when ParseFragment() is called with an empty |aTagStack|. b=403877 r+sr=mrbkap a=jonas 
Landing fix for bug 393267. Fixing problem with setting __proto__ on objects with XOW's on its prototype chain. Patch by mrbkap@gmail.com, r=jst@mozilla.org, sr=brendan@mozilla.org 
Actually throw if the thrown thing was not an nsresult. bug 401735, r+sr+a=jst 
Propagate exceptions when they occur to avoid assertions. bug 393813, r+sr=jst a=schrep 
Don't deal with misplaced content when we're in the head. bug 401169, r=sicking sr=jst a=blocking-1.9 
Don't use a prototype to do any work, just do it ourselves. bug 399298, r=jst sr=brendan a=blocking-1.9 
Always free doctype decl tokens. bug 395846, r=jst sr=sicking a=schrep 
Make XOW's toString consistent over all cases. bug 398109, r=jst sr=bzbarsky a=beltzner 
Fix bug 390565.  r+sr=mrbkap 
Bug 382917 - "Display script filename and line number in Stop Script dialog" [p=manish@flock.com (Manish Singh) r+sr=mrbkap a1.9=jst] 
Set XOWs' prototypes to null to avoid confusion. bug 405726, r+sr=jst a=beltzner 
Complete the checkin for bug 399298. r+sr=jst 
Preserve more important attributes. bug 393269, r+sr=jst a=beltzner 
Backing this out to fix mochitest failures. 
Fix assertion.  Bug 406903, r+sr=mrbkap, a=dsicore 
Bug 368516: UTF-8 encoded scripts that contain a BOM result in an "illegal character" error, r=mrbkap, r=brendan, a=schrep 
Bug 375876 - "Assertion failure: (c2 <= cs->length) && (c1 <= c2)" with /[\[-h]/i, r=mrbkap, a=blocking1.9 
Work around weird behavior from JS_NewObject when we pass it a parent. bug 407289, r=jst sr=brendan 
Make |foo instanceof XOW| work as expected. bug 396849, r+sr=jst 
Fix mochitest fallout from bug 396849 
Sync XPCSafeJSObjectWrapper with similar fixes that we took for XPCNativeWrapper. bug 399299, r+sr=jst 
missing last character when using readline() on files. bug 407844, r=crowder a=brendan 
Make peek-on-same-line actually work correctly. bug 401246, r=brendan (NPOTB) 
Use two flags for filenames: "system" and "want native wrappers". bug 408859, r=jst sr+a=brendan 
Give the JS engine some knowledge of wrappers so that they can compare equal and be noticed when they take part in __proto__ cycles. bug 397855, r=brendan sr=dveditz 
Don't fix typename bindings without JS2 opt-in (409252, r=mrbkap). 
Fix this test to deal with the new error that's being thrown. 
Give the JS engine some knowledge of wrappers so that they can compare equal and be noticed when they take part in __proto__ cycles; this was supposed to land before. bug 397855, r=brendan sr=dveditz 
Do not treat backspace as whitespace to match IE and Opera. bug 404252, r+sr=jst 
Don't resolve things on SJOW's prototype and make toString on it work again. bug 409298, r+sr=jst a=beltzner 
XPCNativeWrappers can confuse the short-circuiting code. bug 409291, r+sr=jst a=beltzner 
Add mochitests for bug 409298 and bug 403005 r=bzbarsky 
Always free the curren token at the end of HandleToken. bug 408939, r=bzbarsky sr=jst 
Do not propagate our toString function onto the wrapped objects. bug 390949, r+sr=jst 
Don't lose exceptions when weird objects are passed to us. bug 407019, r+sr=sicking a=beltzner 
Allow chrome to use SJOWs. bug 409889, r+sr=jst 
Make enumeration over SJOWs walk the prototype chain. Also make SJOWs unwrap same-origin XOWs. bug 410090, r+sr=jst 
Add a way to find all of the XOWs for an object and use it to deal with hard cases where we have to clear the scope of XOWs in order to reflect changes to the underlying object. Also deal with objects moving between scopes by ensuring that we're always able to find their XOWs. bug 399587, r+sr=jst 
Preserve interesting attributes on same-origin XOWs. bug 393267, r+sr=jst a=beltzner 
Fix silly think-o from bug 410090, r=lumpy 
Bug 409433 - XPConnect should never allow GC off the main thread, r=mrbkap sr=jst a=luser 
XML/XMLList need toSource love (410192, r=mrbkap). 
Backing out mrbkap's fix for bug 399587, in the hope of fixing bug 410323 and perhaps bug 410291. 
Fixing bug 410851. Expose a faster way of getting the subject principal, and use that from performance critical code. r+sr=mrbkap@gmail.com 
Use the currently active scope to find the prototype. bug 408639, r=jst sr=brendan 
Don't call arbitrary hooks from a function called from GC. bug 410323, r=brendan 
Always throw an exception, even if we cannot reach a principal. bug 409514, r+sr+a=jst 
Track ES4 proposal by restricting let declaration to be direct child of block (408957, r=mrbkap). 
Do not allow scripted getters or setters on XPCNativeWrappers. bug 387390, r=jst sr=brendan 
Add a way to find all of the XOWs for an object and use it to deal with hard cases where we have to clear the scope of XOWs in order to reflect changes to the underlying object. Also deal with objects moving between scopes by ensuring that we're always able to find their XOWs. bug 399587, r+sr=jst r=brendan for some last-minute changes added in this version. 
Fix bug 392338.  r=mrbkap, sr=jst, a=schrep 
Require explicit body block in 'for (let x ...) let y...' (410981, r=mrbkap). 
Support let in switch-case statement lists, scoped by switch body (411279, r=mrbkap). 
Bug 292940 partial OOM audit for nsStringArray and nsCStringArray r=darin, r=bsmedberg, sr=mrbkap, a=mtschrep thanks to ryanvm@gmail.com for unbitrotting 
Bug 411327 - nsIXPCNativeCallContext should not inherit from nsISupports, r=mrbkap, a=schrep 
Bug 411327 - nsIXPCNativeCallContext should not inherit from nsISupports, r=mrbkap, a=schrep 
Bug 352791 - "Permission denied to get property XULElement.ownerDocument". Patch by Blake Kaplan <mrbkap@gmail.com>. r=jst,bzbarsky. sr=brendan. a=blocking1.9. 
Don't call js_PopStatement if there was a parse error. bug 410852, r=brendan 
Bug 413241: fixing bogus assertion in Statements() from jsparse.c. r=brendan,mrbkap a=brendan 
Use already running code's context when executing JS code from C++. bug 412598, r+sr=jst 
Landing fix for bug 411093. Make sure functions get the right filename. Patch by mrbkap@gmail.com, r=brendan@mozilla.org 
Landing fix for bug 412462. Do the right thing when converting objects wrapped in XOWs. Patch by mrbkap@gmail.com, r=jst@mozilla.org, sr=brendan@mozilla.org 
Fix think-o causing valgrind errors during evalcx(). bug 414219, r=shaver NPOTB 
Must lock newborn block object (shared) scope before calling js_GetMutableScope (413850, r=mrbkap). 
Don't allocate links on the heap. bug 410223, r+sr=brendan a=schrep 
Create a more valid pseudo-frame for liveconnect to avoid null ptr dereferences. bug 409720, r=brendan sr=jst a=brendan 
There might be a pushed context but no running code. bug 413200, r+sr=jst a=blocking-1.9+ 
Fixing bug 413559. Make XPConnect use faster accessors for JS class/parent/private/proto. r=mrbkap@gmail.com, sr=brendan@mozilla.org 
Backing out to see if this is the cause for apparent random crashes. 
Fixing bug 413767. Make caps use faster JS class/parent/private/proto accessors. r=mrbkap@gmail.com, sr=brendan@mozilla.org 
Bug 404386 - nsScanner construction is 5% of setting innerHTML. r=mrbkap,smontagu. sr=jst. a=blocking1.9. 
Preserve interesting attributes on same-origin XOWs. bug 393269, r+sr=jst a=beltzner 
Make document really not be a XOW. bug 414706, r+sr+a=jst 
SJOW's equality hook returns true too much. bug 413902, r+sr=jst a=damons 
Be more careful about what filename we propagate to compiled setTimeout functions. bug 411092, r+sr=jst 
Outerize this when we're computing it. bug 394012, r=brendan 
Fix for orange: deal with weird scripts that don't have principals. 
Don't wrap chrome objects in SJOWs if we don't have to. bug 414296, r=jst sr=bzbarsky 
Make this code deal with setTimeout from a component. bug 414743, r=jst/waldo sr=jst 
Final js1.8 feature: sugar for object destructuring (404734, r=mrbkap). 
Get the right principal for cloned functions. bug 415030, r=brendan 
Bug 413074 Bad param "value" to nsXPConnect::JSToVariant() r=mrbkap sr=jst a=mtschrep 
Landing updated fix for bug 410223. Don't allocate links on the heap. Patch by mrbkap@gmail.com and jst@mozilla.org, r+sr=brendan@mozilla.org/mrbkap@mozilla.org 
Bug 416615 - Optimize JS_MAX(upcase(localMax), downcase(localMax)), r=mrbkap, blocking1.9=brendan, idea from BijuMailList@gmail.com 
Landing fix for bug 414764. Fixing problem with tokens being freed too many times. Patch by mrbkap@gmail.com, sr=jst@mozilla.org 
Landing fix for bug 414749. Make nsJSUtils::GetCallingLocation deal better with null principals. Patch by mrbkap@gmail.com, r+sr=jst@mozilla.org 
Optimize wrapper creation via JS_NewObjectWithGivenProto, and avoid cycle-check overhead in JS_Set{Prototype,Parent} (408871, r=mrbkap). 
Landing for bug 417387, followup fixes for bug 416931. Patch by mrbkap@gmail.com, r+sr=jst@mozilla.org. 
Optimize ComputeGlobalThis (395993, r=mrbkap). 
Don't lock non-native objects (417819, r=mrbkap). 
Lazy ComputeGlobalThis required now in fast native implementations (417893, r=mrbkap). 
Use JS_PropertyStub for in-language bindings, for best property cache hit rates (416931, r=mrbkap). 
Fix js_CheckAccess to handle use in non-native objects' ops, fixing test-suite regressions from native-arrays landing. r=mrbkap, a=brendan. 
Avoid calling js_ComputeThis when we don't have to from js_Invoke. bug 417947, r+a=brendan 
Relaxd ES4-like yield parsing for JS1.8 (384991, r=mrbkap). 
Landing fix for bug 410010. Make exceptions thrown during even handling always get reported once the event handler has run. Patch by mrbkap@gmail.com, r+sr=jst@mozilla.org 
Bug 418616 - fix use of uninitialized data in js_CheckAccess, patch by Blake Kaplan <mrbkap@gmail.com>, r+=shaver, a+=brendan 
bug=418614 r=mrbkap a1.9=brendan fixing JSOP_EXPORTALL regression spotted by mrbkap 
Landing fix for bug 418377. Don't run code on invalid contextx. Patch by mrbkap@gmail.com, r+sr=jst@mozilla.org 
Bug 418069 - js1_5/Regress/regress-379245.js FAIL - browser - bad this, patch by mrbkap, r=brendan, sr=jst, a1.9=brendan 
Bug 419018 - Fix silly crash in slowarray_enumerate, patch by mrbkap, r=shaver, a1.9=mconnor 
Outerize |this| always. bug 418069, r/sr=jst/brendan a=beltzner 
Remove unused variable. bug 418069, r+a=brendan 
Fix ComputeThis perf regression (420426, r=mrbkap, a=sayrer). 
Stick exn back into the context so that js_ReportErrorAgain callees can access the exception. bug 420409, patch from taras, r=mrbkap a=mconnor 
Unregress perf in wake of 418069 (420426, r=mrbkap, a=mconnor). 
Fix dependencies in the JS shell. bug 388955, patch adapted from one by jorendorff, r=brendan a=NPOTB 
Checking in mrbkap's fix for 420513, r=me, a=beltzner. 
mrbkap's fix for 420612, r=me, a=beltzner. 
mrbkap's patch for 418293 with a few nits picked, r=me, a=beltzner. 
mrbkap's fantabulous fix for 418565, r=me, a=beltzner. 
Clean up and fix computed this under js_Execute (420610, r=mrbkap+crowder, a=vlad). 
Fixing bug 413200. Make sure script termination functions run when XPConnect is done executing script on a context and there's no other script running on that context. r+sr=mrbkap@gmail.com 
Bug 351580 - "Possible null pointer dereferences in |nsCrypto::GenerateCRMFRequest|" (Fixed !NULL checks + GC rooting) [p=honzab@allpeers.com (Honza Bambas [mayhemer]) r=mrbkap a=blocking1.9+] 
Fix over-including dependencies, and relocate ID_TO_VALUE to avoid over-including (r=mrbkap, bustage fix). 
More un-nesting #include fallout (r=mrbkap, bustage fix). 
Always wrap content nodes in chrome with some sort of wrapper. bug 344494, r+sr=jst 
Fix bracing mistake from bug 344494. 
Revert the change to RequiresBody.  In particular, an <input type="Hidden"> needs to not require it, for now...  Bug 418464, r+sr=mrbkap, a=jonas 
Make Object.prototype.toString show the underlying object. bug 420480, r+a=brendan 
Propagate getters and setters onto the inner object. bug 420585, r+sr=jst 
Fix mochitest depending on the old toString behavior. 
Remove a now-unnecessary eval hack. bug 420642, r+sr=jst a=beltzner 
Allow things to happen to SJOWs if there's no code running. bug 420647, r+sr=jst 
Fix array_concat to be more generic. bug 420966, r=brendan a=beltzner 
Protect |accum| from being collected in js_ConcatStrings. bug 393874, r=igor a=beltzner 
Fixing bug 396443. Make SVG documents act like all our other documents wrt enumeration hooks. r+sr=mrbkap@gmail.com 
Remove unused variable. bug 420966 
Don't assume that chrome:// implies system principals. bug 419848, r=brendan sr=jst 
Fix compile warnings. No bug, debug only, r+rs=jst 
Bug 352044 - Issues with Unicode escape sequences in JavaScript source code; Unicode escapes not part of identifiers were being treated as their equivalent CVs, and non-identifier Unicode escapes within identifiers were being treated as their CVs (simultaneously starting a new token).  acid3++  r=mrbkap, a=damons 
Bug 422286: fix accounting of array length when slicing dense arrays. r=mrbkap, a=mconnor. 
Bug 3004 Remove debug robot from build r=mrbkap sr=jag a=dsicore So Long, and Thanks for All the Fish 
Bug 422885: uninitialized memory-read in XPCWrapper::AddProperty, r/sr=mrbkap, a=:luser 
Bug 311366 - "should make custom elements able to contain blocks (<section>)" [p=mrbkap@gmail.com (Blake Kaplan) r=sicking sr=jst a1.9=beltzner] 
Ensure that CanPropagate and CreateContextStackFor are consistent. bug 423373, r+sr=sicking a=beltzner 
Fixing bug 420603. Don't run scripts while wrapping DOM objects. r=mrbkap@gmail.com, sr=peterv@propagandism.org 
Fixing bug 418776. Don't resolve standard classes on non-global objects. r+sr=mrbkap@gmail.com 
Finally kill off CheckSameOriginPrincipal, fix remaining callers to do the checks they really want to be doing.  Fix screw-up in nsPrincipal::Equals if one principal has a cert and the other does not.  Bug 418996, r=mrbkap,dveditz, sr=jst 
Fixing bug 422205. Make XOW/SJOW wrappers do security checks on enumeration and interation. r+sr=mrbkap@gmail.com 
Fix JSOP_SETCALL to cope with delete f() and the like (423300, r=mrbkap, a=beltzner). 
(NPOTB, r=mrbkap, a=lumpy) Remove ancient caps test cruft in preparation for incoming mochitests.  Also so that the tests listed in securetest.list will not mock me from beyond the NSCP grave. 
Bug 422025 - [p=jst@mozilla.org (Johnny Stenback [jst]) r+sr=mrbkap a1.9b5=schrep] 
Bug 424954 - "Crash [@ js_GetWrappedObject]" [p=mrbkap@gmail.com (Blake Kaplan) r=brendan a1.9b5=beltzner] 
Fixing bug 424449. Clear scope on XOWs when scope is cleared on the object wrapped by the XOW. r+sr=mrbkap@gmail.com 
Bug 425360 - "Assertion failure: !cx->throwing at jsinterp.c:6201" (Eagerly report exceptions from EvaluateScript) [p=mrbkap@gmail.com (Blake Kaplan) r+sr=jst a1.9=beltzner] 
Bug 362582 - "Incorrect toString for regular expression with null character or line break" [p=crowder@fiverocks.com (Brian Crowder) r=mrbkap a1.9=damons] 
Make __count__ shared as well as permanent (426711, r=mrbkap, a=beltzner). 
Reduce the length of the "XPConnect is being called on a scope without a 'Components' property!" assertion message (bug 426954).  r=mrbkap, debug-only. 
Bug 416843 - assertion failure after deleting eval 16 times, patch by mrbkap, r=brendan, a1.9=beltzner 
Fix regression in patch for bug 346902 (387951, r=mrbkap, a=dsicore). 
Bug 425139: XPCSafeJSObjectWrapper provides incorrect type information, patch by shaver@mozilla.org, r=mrbkap, a=beltzner 
Bug 420987. The caret size should be specified in CSS pixels and it should be rounded like borders --- rounding down to the nearest device pixel, but not down to zero. r+sr=mrbkap,a=schrep 
Bug 428336, assertion failure after deleting eval 16 times, patch by mrbkap, r=brendan, a=mtschrep 
Landing fix for bug 419716. Make us consistently deal how we're pass param tags to object tags when parsing XHTML. Patch by mrbkap@gmail.com and bent.mozilla@gmail.com, r+sr=jonas@sicking.cc, a=beltzner 
Bug 335359. Make the caret thicker when it's at a Kanji character. r+sr=mrbkap,a=damon 
Bug 428021: Can't define both a getter and a setter for a property of the global object, patch by Brian Crowder <crowder@fiverocks.com>, r=shaver, r=mrbkap, a=shaver 
Bug 430717: fix lookup of incorrect ID when delegating to prototype for hole in dense array. r=mrbkap, a=mconnor. 
Bug 428672, patch by mrbkap@gmail.com, r+sr=jst, a=beltzner 
Bug 430552 - "Browsing on the given site and closing the tab results in no active tab and keyboard shortcuts don't work until you refocus any element". r=jst, sr=mrbkap, a=beltzner. 
Bug 318906 : issue with event-handler attached to an outer window, patch by mrbkap, r/sr=jst, a=mtschrep 
Bug 429864: assertion at startup with venkman, patch by mrbkap, r=brendan, a=beltzner 
Bug 432275: Regression - Java applets crashing browser [@ obj_eval], patch by mrbkap, r=crowder, a=beltzner 
Bug 410606 - "AIX linker error for trunk build xpconnect module : ERROR: Undefined symbol: .JSAutoTempValueRooter::operator delete(void*,unsigned long)" [p=shailen.n.jain@gmail.com (Shailen) r+sr=mrbkap a1.9=beltzner] 
Fix 433279, r=mrbkap+shaver, a=schrep. 
Bug 433328: properly handle null inner window, patch by Blake Kaplan <mrbkap@gmail.com>, r+sr=jst, a=shaver 
Make XPCNativeWrapper deal with non-browser embeddings. bug 422113, r+sr=jst 
Make PrincipalHolder threadsafe since it can be destroyed from off-thread (thanks to XPCSafeJSContexts) and no additional work is required to make it threadsafe. bug 337611, r+sr=jst 
Make CallTree compile with a C++ compiler. bug 441533, r=shaver 
Do not attempt to lock a non-native object. bug 436741, r=brendan 
Make the shell's -z option work again. bug 441361, r=crowder 
Fixing bug 440572. Make child frames whose names conflict with properties defined in IDL be accessable through XOWs again. r+sr=mrbkap@gmail.com 
Fixing bug 440572. Make child frames whose names conflict with properties defined in IDL be accessable through XOWs again. r+sr=mrbkap@gmail.com 
Turn off these noisy and now mostly useless printfs for me. No bug, NPOTB 
r+sr=mrbkap 
Don't cause a GC before the script is on the JS call stack. bug 440558, r=brendan 
Attempt to give more documents scope objects. bug 440275, r+sr=jst 
Don't do things to the object before we're sure it's the right type of object. bug 443569, r=brendan 
Don't use 'i' if the id was not an index. bug 443843, r=shaver 
[Bug 430617] Optimized shell uses the same options as the the non-debug browser build. r=mrbkap, not-part-of-browser-build 
Follow the invariant that we flow through label exit2. bug 442358, r=igor 
Deal with a dead docshell during document.open. bug 435128, r+sr=jst 
Allow <link> to be opened, even as the direct child of a <table>. bug 436722, r+sr=sicking 
Make cocoa's nsSound implementation implement all needed interfaces. bug 444113, r=josh sr=roc 
Protect the scanner from OOM when appending new data. bug 430574, r=mrbkap sr=jst 
Ensure that we call WillBuildModel. bug 420008, r+sr=bzbarsky 
Tab removal. No bug, NPOTB. 
Test that the object has the right class, even when called from native code. bug 444233, r=shaver 
Bug 445570 - parser autostring allocated on the heap, r=mrbkap 
Calculate the time zone offset correctly. bug 445879, r=mrbkap 
Reload 'entry' after JS_NewObject, since a nested GC could cause our hashtable to reallocate its store. bug 445229, r+sr=jst 
Attempt to make XPC_XOW_ClassNeedsXOW faster. bug 444779, r=jorendorff/jst sr=jst 
Backed out changeset 084567d3ebe6. It actually made us not comply with ECMAScript 3. 
Merging backout 
Bug 446494 - Number.toLocalString() doesn't handle Infinity or exponential notation correctly, r=mrbkap 
accept patches from this upstream source more easily. r=mrbkap, r=igor 
Bug 447844: fix build with JS_HAS_SCRIPT_OBJECT, r=mrbkap 
Propagate compilation errors to our caller to make syntax errors easier to debug. bug 408412, r=shaver sr=brendan 
Avoid returning false without setting an exception. bug 429521, r=sdwilsh 
Don't optimize variable names in with statements. bug 448595, r=brendan 
Backed out changeset 90020c4ad446 to fix tinderbox orange while I figure out why a test was failing. 
Merge backout 
Fix compiler warning: GCC is confused by the break-after-return to think that we can exit the switch without returning. No bug, r+sr=jst 
Cleanup error reporting in dis and dissrc. bug 445743, r=brendan 
Don't pass around information we don't use. bug 448595, r=brendan 
let declarations at top level and function level should not shadow var. bug 346749, r=brendan 
Implement ES3.1's Object.getPrototypeOf. bug 444787, r=brendan 
Propagate compilation errors to our caller to make syntax errors easier to debug. bug 408412, r=shaver sr=brendan 
Fix missed review comment from bug 408412 
Try to fix the orange by overriding platform-specific errors 
Bug 449152 - js_CheckAccess should init out params on failure, r=brendan 
Make split global objects have the right flags. bug 449656, r=crowder NPOTB 
Create implicit XPCNativeWrappers in fewer situations. bug 441087, r=jst sr=bzbarsky 
bug 450871 - Null check the right variable. r=igor 
bug 449712 - Handle trailing carriage returns at the end of parser text tokens. r+sr=mrbkap 
bug 449712 - Deal with a carriage return at our 4096 character boundary. r+sr=bzbarsky 
bug 451213 - Fix one bug and many warnings in the SeaMonkey migrator. r=gavin 

bug 451213 - Fix one bug and many warnings in the SeaMonkey migrator. r=gavin bug 448587 - Allow getting the 'prototype' property through SJOWs. r=jst sr=bzbarsky 
Merge the following bugs from mrbkap: bug 448587, bug 451213, and bug 449712. 

Merge the following bugs from mrbkap: bug 448587, bug 451213, and bug 449712. Bug 450651 Use host outoption for host binaries r=mrbkap 
Bug 437152 - Fix error output for realz. r=mrbkap. 
Bug 407216 - DOM quick stubs - faster paths for top N DOM methods (r+sr=jst, security r=mrbkap, build r=bsmedberg)
bug 418051 - Don't allow shorthand object initializer through destructuring assignment. r=brendan 
Add missing #undef, clean up trailing whitespace. 
Fix some comments and tighten up assertions about block scope (mrbkap please look). 
bug 450641 - Add missing JS_free call. 
Avoid the malloc altogether if we're going to use a unit string. 
Don't just undepend the string, canonicalize it as well. 
bug 450529 - pass pc to String.prototype.match so we can avoid unnecessary object creation when tracing. r=brendan 
Merge 
bug 450765 - Fix aliasing in LIR.h 
b=451242, add fast-paths for dense array to uint/int/double buffer conversion; r=bent/mrbkap 
fix js_IsLoopExit to better handle for-in exits, r=mrbkap 
Fixed js_String_p_split passing in an undersized array. 
Bug 451743 - On x86 processors, only use SSE2 if the processor supports it, otherwise default back to x87 FPU (r=gal, sr=mrbkap) 
Bug 451483 - Array.splice() should return an empty array. r=brendan 
Fix TM assert on wikipedia (451806, r=mrbkap). 
Bug 452346 - Fix latent bug in rv_alloc. r=crowder 
Bug 452295 - Deal with embeddings that don't use principals. r=brendan 
bug 418051 - Don't allow shorthand object initializer through destructuring assignment. r=brendan 
Fix upvar decompilation for eval-from-fun case (451884, r=mrbkap). 
Bug 451732 - Always do LAST_FRAME_CHECKS, even if the compile failed (since that sets a pending exception). r=mrbkap 
Bug 442806 followup: add missing return to avoid spurious exceptions. r+sr=jst 
No bug. Fix whitespace nits. r+sr=jst 
Bug 407216 - DOM quick stubs - faster paths for top N DOM methods (r+sr=jst, security r=mrbkap, build r=bsmedberg)
bug 452786 - optimizing JS date access. r=mrbkap 
bug 446386 - removal of the compiler pseud-frames. r=brendan,mrbkap 
bug 449494 - uniform handling of bytecodes with variable stack uses. r=mrbkap,brendan 
Annotate gotos that are emitted for break statements with SRC_BREAK (452122, r=mrbkap). 
Bug 451782 - Trace Math.ceil. r=brendan 
Bug 451785 - Trace == and != involving booleans. r=gal 
Merge mozilla-central -> tracemonkey 
Re-merge to pick up changeset 6464982e3c7f 
Merge again 
Bug 452573 - The interpreter's JSOP_VOID doesn't push anything, so we shouldn't expect it to. r=brendan 
Bug 452333 - Don't push tagged jsvals on the stack. r=brendan 
Bug 452338 - Abort on the weird case where we find a global name on the prototype of the scope chain. r=brendan 
Bug 452875 - Ensure we intern the id for JSOP_IN. r=brendan 
Bug 452329 - Fix a bad assumption. r=brendan 
Add builtins for toLowerCase, toUpperCase and replace(str,str) (452885, r=mrbkap). 
Abort (deeply) if we re-enter js_Interpret in the middle of a trace. r=brendan 
Fix gmail crash by not tracing switches. r=brendan 
Don't flush anything if we're not even enabled. r=gal 
Fix warning pulled over from m-c (mrbkap will track down). 
Fix bool FASTCALL vs. Nanojit calling convention bug, also some non-bool whoppers caught in the process (453361, r=mrbkap). 
Revert accidental hunk from the merge changeset cf844bddfe57 that's causing unittest orange. r=shaver 
Merge 
Bug 453383 - Confusing comment, bogus indentation in jsobj.cpp (r=mrbkap) 
Remove outdated comment. r=gal 
Handle an interpreted constructor returning an object. r=brendan 
Bug 453696: js/src/Makefile.in lists host_jsoplengen twice in HOST_SIMPLE_PROGRAMS r=mrbkap
Bug 453720 - "Caps should assert when scripts do not contain principals". r+sr=mrbkap. 
Bug 453747 - Avoid overuse of the fun_getProperty class getter to optimize getting and setting random properties on functions. r=mrbkap 
Fixing first part of bug 453571. Use more [optional] idl arguments, and less nsAXPCNativeCallContext. r+sr=mrbkap@gmail.com 
Bug 450449 - " Implement 'importScripts' for worker threads". r=jst+mrbkap, sr=jst. 
Bug 330237 - editline.c:1038: warning: implicit declaration of function getpid. r=mrbkap 
Bug 450449 - " Implement 'importScripts' for worker threads". r=jst+mrbkap, sr=jst. 
Bug 453345 - Only look at pn_extra if we're actually a list. r=brendan 
Fix bug 454266 - js_FillPropertyCache uses the wrong scope's shape sometimes (r=mrbkap). 
bug 454502: prbool issues in html parser. r+sr=mrbkap 
Bug 453747 - Avoid overuse of the fun_getProperty class getter to optimize getting and setting random properties on functions. r=mrbkap 
Bug 453747 - Replace any holes on the stack with undefined. r=gal 
Fix bug 454266 - js_FillPropertyCache uses the wrong scope's shape sometimes (r=mrbkap). 
Trace Math.max. r=brendan 
Bug 454039 - TM: don't abort TraceRecorder::record_JSOP_SETPROP on cache miss (r=mrbkap). 
Bug 454039 - TM: don't abort TraceRecorder::record_JSOP_SETPROP on cache miss (r=mrbkap). 
Merge tracemonkey -> mozilla-central 
Re-merge tracemonkey -> mozilla-central 
Fix bustage -- these macros are only defined if the tracer was enabled. 
TraceRecorder::record_SetPropMiss mis-layered on top of record_SetPropHit (454689, r=mrbkap). 
r=mrbkap 
Bug 450692 - Don't unconditionally add inner and outer object hooks to XPConnect objects. 
Bug 454343 - Assertion failure: obj == pobj, at src/js/src/jsinterp.cpp:160 (r+sr=mrbkap) 
Work around incorrect but annoying strict-aliasing warning. r=brendan 
TraceRecorder::record_SetPropMiss mis-layered on top of record_SetPropHit (454689, r=mrbkap). 
Expose push pop in jsarray and add builtins (453734, r=mrbkap). 
Use Object as prototype if the prototype of the constructor is primitive (452960, r=mrbkap). 
Bug 455464 - TM: "Assertion failure: !TRACE_RECORDER(cx) ^ (jumpTable == recordingJumpTable)" with gc getter (r=mrbkap). 
Properly handle side exits in scripted constructors (originally mrbkap, r=brendan, 453462). 
Add support for fast native that return jsval and wire up push/pop (453734, r=mrbkap). 
Bug 453024 - Mochitest Assertion failure: vp + 2 + argc <= (jsval *) cx->stackPool.current->avail, at jsinterp.cpp:1066 (r=igor/mrbkap). 
Bug 453024 - Mochitest Assertion failure: vp + 2 + argc <= (jsval *) cx->stackPool.current->avail, at jsinterp.cpp:1066 (r=igor/mrbkap). 
Bug 455146 - TM: Going to NEW Facebook profile page causes crash. [ @FlushNativeStackFrame] (r=danderson,mrbkap). 
Bug 456875 - TM: js_SynthesizeFrame must js_GetCallObject if JSFUN_HEAVYWEIGHT (r=mrbkap). 
Bug 455775 - The eval frame might not be the top frame, but we still must find it. r=brendan 
Bug 455765 - Set global flags on global objects' first use so the JS engine doesn't get confused. r+sr=jst 
Bug 456027 - Innerize earlier so we don't rely on the JS engine providing getters that might not be there. r=brendan sr=jst 
Bug 455993 - Silence warnings in nsDOMClassInfo.cpp. r+sr=jst 
Bug 455043 - Remove HTML3 quirks mode. r+sr=jst 
Bug 453858 followup - quiet console warnings in nsDOMClassInfo.cpp. r+sr=bzbarsky 
Bug 364315 - Speculatively look for URLs in the document while the parser waits for a script to download and execute. This should show a decent speedup, especially on mobile. Currently, this only finds other <script>s to preload, but hopefully we'll extend it to images and stylesheets as well. r+sr=jst 
Re-enable JIT enabling for unit tests in tracemonkey (r=mrbkap). 
Catch negative indexes at recording time. At runtime the builtins already check for us. Also guard for shape and setters/getters for non-dense integer index setelem case (57580, r=mrbkap). 
Add a resume point (JSOP_RESUME) immediately following JSOP_CALL (457789, r=mrbkap). 
Bug 457806 - "<source> child of <audio> causes HTML parser to enter infinite loop" [r+sr=mrbkap] 
Bug 364315 - Implement speculative parsing. r+sr=jst 
Bug 364315 - Fix threadsafety assertions and crashes by only releasing documents on the main thread and not starting two speculative parsers for the same nsParser. r+sr=jst 
Bug 458440 - Don't create a speculative parser for an empty string. Also, avoid doing work that the scanner will happily do for us. r+sr=jst 
Bug 458145 - Don't allow random tags to close the body unexpectedly. r+sr=jst 
Temporarily disable speculative parsing to see its effect on tinderbox crashiness. r+sr=jst 
Bug 457299 - nsScriptSecurityManager doesn't suspend the request on the current context when it starts using the safe context. r+sr=bzbarsky 
No bug - Drop the request before the ResumeRequest hiding under Pop to avoid deadlocks. r=bent sr=sicking 
Bug 458959. this.JSON is enumerable. r+sr=mrbkap 
Bug 459160 - json.cpp misuses rooting api. r=mrbkap 
Bug 457919 - Delete unused GCC_OPT_BUG makefile variable (r=mrbkap) 
Bug 458983: dead stuff in nsHTMLElement r+sr=mrbkap 
Bug 448564.  Better handling of sink context switches.  r=mrbkap, sr=bzbarsky 
Bug 458355 - ecma_3/Operators/11.4.1-002.js fail; r=brendan 
Bug 456831 - TM: Trace JSOP_SETLOCALPOP (r=mrbkap). 
Bug 458431 - expression-ordering fix for traced Math.max(0,-0), r=mrbkap 
Bug 455973 - TM: "Assertion failure: !cx->throwing" with getter that throws (r=mrbkap). 
Bug 457920 - regexp-dna.js and generality want JSOP_GETELEM(dense array, "0") (r=mrbkap/gal). 
Bug 381843 - Move for-var-in and for-let-in hoisting from the emitter to the parser (r=mrbkap). 
js1_8/genexps/regress-380237-0[34].js fail, regression from introduction of JSOP_RESUME (458356, r=gal). 
Merge mozilla-central -> tracemonkey 
Re-merge tracemonkey->mozilla-central 
Re merge to pick up bz's backout 
Re-re-re-merge 
Bug 459606 - Restore long-standing mozilla change to return a non-empty string for the no_digits case. r=crowder 
Bug 457310 - Don't potentially run code with an exception still on cx. r+sr=jst 
Bug 455633 - Protect against the weird Sandbox global object case when creating XPCNativeWrappers. r+sr=bzbarsky 
Bug 459653 -  Hang with DOMAttrModified and removing attributes, r=igor,sr=mrbkap 
Bug 459656 - Implementing nsIThreadJSContextStack in nsXPConnect. r+sr=mrbkap 
Bug 458983: dead stuff in nsHTMLElement r+sr=mrbkap 
Bug 411726 -- Time offset and zone code are set wrong for some locales, r=mrbkap 
Move Access-Control implemenation fully in to nsCrossSiteListenerProxy.cpp from and make some additional cleanup. No behavioral changes. r/sr=mrbkap b=459770 
(Bug 411726 -- Time offset and zone code are set wrong for some locales, r=mrbkap) 
Break out Access-Control code from nsXMLHttpRequest.cpp. r/sr=mrbkap b=459770 
Break out Access-Control code from nsXMLHttpRequest.cpp. r/sr=mrbkap b=459770
Break out Access-Control code from nsXMLHttpRequest.cpp. r/sr=mrbkap b=459770. Relanding with some things removed to see if they caused leak. 
Bug 396851 - Check to see if we're UniversalXPConnect-enabled to allow privileged web pages to unwrap XOWs. r+sr=bzbarsky 
Bug 453310 - Reparameterize GetNewOrUsed and move some work around. r+sr=brendan 
Bug 459906 - Avoid weird XPConnect wrapping behavior in setTimeout. r=zeniko 
Bug 455971 - Clear Function and Object (and any other properties) off of the outer object so that Function always refers to the inner window's function. This ensures that the implict Function and explicit window.Function forms refer to the same object. r+sr=brendan 
Bug 459738 - Makefile.ref: js{builtins,interp}.cpp are compiled without -MMD. r=mrbkap. 
Add a builtin for RegExp.test (459766, r=mrbkap). 
Bug 460180 - Always reload pn1 since it is null if we found the end of the list. r=brendan 
Bug 460452 - NaN is a boolish false. Also constant fold booleans next to operator NOT. r=brendan 
Bug 460886 - Substring needs to validate its arguments. r=brendan 
Bug 441479 - for-in loops should use one backward branch (with downward goto on entry; r=mrbkap). 
Bug 461235 - "Assertion failure: pos == GET_UINT16(pc)" decompiling function with array comprehension (r=mrbkap). 
Bug 461307 - Crash [@ QuoteString] with for(/x/[''] in []) (r=mrbkap). 
Bug 455971 - Clear Function and Object (and any other properties) off of the outer object so that Function always refers to the inner window's function. This ensures that the implict Function and explicit window.Function forms refer to the same object. r+sr=brendan 
Bug 461549 - Traceable print and shapeOf functions for js shell. r=mrbkap. 
Merge mozilla-central -> tracemonkey 
Bug 454561 - disable tracing when JavaScript-Debugger is enabled. r,sr=mrbkap 
Bug 461031 - Bring a little more sanity to parser notifications of the content sink. This should help increase responsiveness, especially on pages with lots of inline scripts. r+sr=jst 
Add tag soup HTML parser tests to mochitest suite. b=458563 r+sr=mrbkap 
Bug 456692 - "Assertion failure: slot < fp2->script->nslots" with nested eval (r=mrbkap). 
Bug 370461 - Fix the scope returned from Components.utils.lookupFunction. r=bzbarsky sr=jst 
Bug 451680 - Use a more reliable function to compile and execute XBL. r+sr=bzbarsky 
Fix warnings. No bug. r+sr=jst 
Bug 458851 - TM: for-in loops skip every other value in certain cases (r=gal/mrbkap). 
Bug 456692 - "Assertion failure: slot < fp2->script->nslots" with nested eval (r=mrbkap). 
Bug 462879 - "Assertion failure: UPVAR_FRAME_SKIP(uva->vector[i]) == 1" with nested eval (r=mrbkap). 
Bug 462910 - Add a JS_ValueToSource API. r=brendan 
Interpreter directly emits the this object found in the property cache for JSOP_CALLNAME, so do the same in the tracer (462989, r=mrbkap). 
Bug 463259 - "Assertion failure: VALUE_IS_FUNCTION(cx, fval)" (r=mrbkap). 
Bug 443071 - Assertion failure with "for (;;[]=[])" (r=mrbkap). 
SRC and HREF attributes turned into clickable links in view source. p=cbartley r+sr=mrbkap a=beltzner b=17612 
Bug 458440 - Turn speculative parsing back on and clean up the code a little. r+sr=jst 
Bug 458440 - Attempt to work around speculative parsing crash. r+sr=dbaron 
Bug 462272: Record dependency on generated header javascript-trace.h, r=mrbkap, NPOB
Bug 464727.  Skip newlines too, instead of skipping tabs twice and newlines not at all.  r+sr=mrbkap, a=beltzner 
Follow-on fixes for bug 17612 r+sr=mrbkap a=beltzner (grudgingly given that I should have filed a new bug) 
Bug 463715 - Be less wasteful when emitting escapes. r=sayrer 
Bug 465220 - nested imacro abort not cleanly handled (botches assertions) (r=mrbkap, a=beltzner). 
Bug 464202 - nsGlobalWindow leak running browser-chrome Mochitests. r=mrbkap a=beltzner 
Bug 464754 - nsIContentPolicy.shouldLoad() called without context for scripts. r/sr=bz a=beltzner 
bug 453157 - watchdog thread as an alternative to operation count. r=igor,mrbkap a1.9.0b2=blocker 
original patch r=mrbkap, a=beltzner 
bug 453157 - watchdog thread as an alternative to operation count. r=igor,mrbkap a1.9.0b2=beltzner 
Bug 465901 - DVG confused by |let|. r=brendan a=sayrer 
Pushing on a CLOSED TREE with a=josh 
bug 453157 - using watchdog thread as an alternative to the operation count. r=igor,mrbkap a1.9.0b2=beltzner (CLOSED TREE) 
bug 453157 - using watchdog thread as an alternative to the operation count. r=igor,mrbkap a19b2=beltzner (CLOSED TREE) 
bug 453157 - watchdog thread as an alternative to operation counting, r=igor,mrbkap a19b2=beltzner (CLOSED TREE) 
r=igor,mrbkap a191=blocker 
(Patch from mrbkap, jimb, and Waldo.) 
Fix bug 435474 - Provide a readline function for xpcshell to read a line from stdin. r/sr=mrbkap,a191=beltzner,p=philipp,dbo 
Bug 456284 - JSExtendedClass requires an equality hook. r=crowder, a191=beltzner. 
Bug 464498 - Nuke warnings in XSLT. r/sr=sicking, a191=beltzner. 
Bug 464788 - Fix warnings in XPConnect. r/sr=jst, a191=beltzner. 
Bug 465626 - Fix GCC warning about using rv uninitialized. r+sr=jst, a191=beltzner. 
Bug 454142.  r=brendan, r=igor, a=beltzner 
Bug 464174.  r=sicking, sr=sicking, a=beltzner 
Bug 461917.  Do a better job of reporting pending exceptions when compiling an event listener.  r=mrbkap, sr=jst 
Bug 449657 - JS_SealObject fails on Array objects (r=mrbkap, a=sayrer). 
Bug 460437 - 'innerHtml doesn't update DOM when Html markup goes from Invalid to Valid'. r+sr=mrbkap. 
Bug 461180: Don't depend on type coercion when checking trace test results. r=mrbkap
Bug 461180: Use 'uneval' when printing expected and actual test results. r=mrbkap 
Bug 461180: Fix result comparison function for trace tests. r=mrbkap
Bug 467985 - |./js -b| crashes.  r=mrbkap 
Bug 460865 - Read barrier for cx->fp. r=mrbkap, r=dmandelin. 
Bug 464092 - Censor access to block objects when they're the parents of functions. r=igor a=beltzner 
Bug 466765 - Don't start the speculative parser twice. r+sr=jst 
Bug 444322 - Ignore OnDataAvailable calls when we're executing a script. r+sr=bzbarsky 
Bug 462851 - Protect against enumerating the call object's prototype. r=brendan a=sayrer 
bug 458099 - DOMOperationCallback can get a JSContext with no global object. r=peterv sr=mrbkap 
Bug 469940 - Automatic semicolon insertion wrongly done after var with multi-line initializer (r=mrbkap, a=sayrer). 
Bug 469927 - TM: much slower than interpreter with short loop with |let| (r=mrbkap, a=sayrer). 
Bug 460706 - Handle misplaced ContinueInterruptedParsing calls during synchronous XMLHttpRequest. r+sr=sicking 
Bug 455629 - Test that we actually do wrap the return value of nsISVGDocument::getSVGDocument in a XOW. r=bzbarsky 
Bug 468581 - Use a better function to compute principals. r=brendan 
Bug 468552 - Enforce 'funobj' conditions in the XPCNativeWrapper case. r+sr=jst 
Bug 468562 - "ASSERTION: Inserting multiple children without flushing"; r+sr=mrbkap 
Add a crashtest for bug 460706. r=sicking 
Bug 446026 -  restore utility of eval(s, o). r=mrbkap 
Bug 461180: Add coverage tests for traceable math native functions. r=mrbkap
Bug 469621 - Protect the new scope object from garbage collection. r=crowder 
Bug 469582 - Add -j to the ./js usage string if the tracer is enabled. r=brendan 
Bug 469761 - Protect against apply on a non-function. r=gal 
Bug 469927 - TM: much slower than interpreter with short loop with |let| (r=mrbkap). 
bug 453157 - watchdog thread as an alternative to operation count. r=igor,mrbkap 
Bug 470758 - Don't generate upvars on the left side of a for-in loop. r=brendan 
bug 471044 - fixing upgvar detection for for-in loop. r=mrbkap 
Bug 467210, r=mrbkap, sr=jst, a=blocking1.9+. 
Bug 468538 - 'Crash [@ nsParser::ParseFragment] setting innerHTML in mixed-content document'. r+sr=mrbkap, a=blocking1.9+ 
Bug 466826 - 'Running mochitest asserts: ###!!! ASSERTION: should be executing script: 'mContext->fp', file /mozilla/dom/src/base/nsJSEnvironment.cpp, line 3318'. r=bz, sr=mrbkap, a=blocking1.9+ 
Bug 469302 - Page source code after form submit shows initial form page instead of new page, r=gavin, sr=mrbkap 
Fixing bug 470992. Fix incorrect argument type in nsGlobalWindow::SetTimeout/Interval(). r+sr=mrbkap@gmail.com 
Bug 411726 - Use localtime_r when available, to improve Date reporting for locales like Venezuela on platforms like OS X.  r=mrbkap, r=ted (for build changes) 
Bug 471366 - Deal with XPCNativeWrapper.prototype correctly. r+sr=jst 
Bug 470720 - Don't automatically unwrap XOWs or SJOWs in XPCNativeWrappers. r+sr=jst 
Bug 458020 - Ensure that the display is correct when evaluating a script in a stack frame. r=brendan 
Bustage fix from bug 458020 
Bug 471560 - This assertion isn't correct, since it's fine to *create* a constructor cross-origins as long as the calling script can't *use* it. r=bent sr=jst 
r=mrbkap sr=dveditz 
Bug 463997: JS regression test bug with 'with (window) ...', r=mrbkap 
bug 453157 -  watchdog thread as an alternative to operation count. r=myself,mrbkap 
Bug 470129 - Skip parentheses when doing optimizations based on parse node type. r=igor 
Add a crashtest for bug 460706. r=sicking 
Backed out changeset e62d412d6251. The crashtest is randomly crashing. 
Merging backout. a=crowder for checkin into a CLOSED TREE 
Add ability to mark JSDHashTable/PLDHashTable as immutable and thus prevent RECURSION_LEVEL assertions from firing due to lookups racing on multiple threads.  (Bug 469004)  r=brendan,mrbkap 
Bug 461555: Don't clear out the parser until all deferred scripts have executed to ensure that a document.write in a deferred script doesn't clear the page. r/sr=mrbkap 
Bug 472787 - Eagerly set the return value. r=brendan 
Fix the vim modeline. 
Bug 472440: JS tracing crash, typo in record_JSOP_CALL_GVAR, r=mrbkap 
Bug 473631 - Don't attempt to compile a null buffer. r=igor 
View Source Linkification should only linkify "safe" URLs.  p=cbartley, r=mrbkap, sr=bzbarsky, b=467852 
Bug 473437 - DumpJSStack() can set a pending exception in cx. r+sr=jst 
Bug 472794 - Deal with XPCNativeWrapper.prototype properly. r+sr=jst 
Bug 316582 - Clean up this function. r+sr=jst 
Bug 422340 Firefox 3 beta 4 gives unhelpful slowscript warning on leaving gmail, r+sr=mrbkap 
Bug 464314 - view-source link-browsing doesn't decode entities. r+sr=mrbkap 
Bug 472674 - Allow XPCNativeWrapper to unwrap SJOWs again. r+sr=jst 
Backed out changeset 5d3af3ff9639. It doesn't allow UniversalXPConnect scripts to arbitrarily unwrap XPCNativeWrappers. 
Bug 473540 - Fix leak in nsViewSourceHTML.cpp, r+sr=mrbkap 
bug 473721 - fixing JS_GetOperationLimit to return the proper limit. r=mrbkap 
Bug 473709 - Protect |str| across the call to js_NewRegExp. r=jwalden 
Bug 364188. <param> should not close open <div> elements. r+sr=mrbkap 
Bug 472674 - Allow XPCNativeWrapper to unwrap SJOWs again. r+sr=jst 
Fix bustage from bug 472674 
Bug 473861 - 'Workers: Using functions (rather than attributes) for message/error handlers doesn't work'. r+sr=mrbkap, a=sicking 
Add missing return (from bug 473845). 
bug 470914 - fixing build bustage in xpcshell, GetCurrentDirectoryW doesn't exist on windows ce, punt on that platform r+sr=mrbkap 
Bug 453955 - "Assertion failure: sprop->setter != js_watch_set || pobj != obj, at jsdbgapi.c" (r=mrbkap). 
Bug 461555: Don't clear out the parser until all deferred scripts have executed to ensure that a document.write in a deferred script doesn't clear the page. r/sr=mrbkap 
Bug 462428 - Make __lookup[GS]etter__ work on quickstubbed properties by faking it for XPConnect prototype objects only. r=jorendorff sr=brendan 
Fixing bug 474866. Make the plugin instance peer have a weak reference to its owner, and make the owner tell the peer once it's no longer its owner so we don't have reference cycles, yet the instance can hold on to its peer while being cached between pages. r+sr=mrbkap@gmail.com 
Bug 461555: Don't clear out the parser until all deferred scripts have executed to ensure that a document.write in a deferred script doesn't clear the page. r/sr=mrbkap 
Bug 475291 - Avoid roundtripping arbitrary jsids through JSAtom *s. r=brendan 
Bug 475185 - Fast natives don't enforce minargs, so we have to do it ourselves. r=jorendorff sr=brendan 
Bug 461555: Don't clear out the parser until all deferred scripts have executed to ensure that a document.write in a deferred script doesn't clear the page. r/sr=mrbkap 
More bug 461555 fixes to fix orange by making sure to remove deferred-scripts' onloadblocker when the parser is terminated. r/sr=mrbkap 
Bug 474236 - Propagate EOF flags harder. r=brendan 
Bug 474236 - Only throw errors when we have to. r=brendan 
Bug 453955 - "Assertion failure: sprop->setter != js_watch_set || pobj != obj, at jsdbgapi.c" (r=mrbkap). 
Bug 453955 - "Assertion failure: sprop->setter != js_watch_set || pobj != obj, at jsdbgapi.c" (r=mrbkap, relanding). 
bug 475146 - fixing gczeal checks in RefillDoubleFreeList. r=mrbkap 
Bug 467499 - Pass the proper size argument to ResizeSlots. r=shaver/crowder 
Bug 475426 - GetPDA returns n copies of the first entry. Bug noticed by Mads Bondo Dydensborg <mbd@dbc.dk>. r=brendan 
Bug 475449 - JS shell gets stuck on EOF. r=brendan 
Bug 475480 - Fix warnings created by the speculative parsing landing. r+sr=sicking 
Bug 475185 - Add a crashtest. 
Bug 454184 - Implement eval caching (r=mrbkap). 
Bug 454184 - Implement eval caching (r=mrbkap). 
Bug 454184 - Implement eval caching (r=mrbkap). 
Bug 475469 - Don't assume cx->fp is a scripted frame. r=dmandelin 
bug 445873 - let callers of Components.utils.Sandbox specify JS version; r+sr=mrbkap 
Bug 475834 - Multiline comments with newlines in them should not decompose to nothing. r=brendan 
bug 470914 followup - don't normalize symlinks in xpcshell's __LOCATION__. r+sr=mrbkap 
Bug 474537 - Don't use a static array, since this can be called on multiple threads. r+sr=jst 
Add a crashtest for bug 460706. r=sicking 
Bug 475396 - Disable upvar optimizations under JS_EvaluateUCInStackFrame because we can't vouch for the display being right. r=brendan 
Disable this test since it's randomly crashing on tinderbox. 
Add some logging code to see if bug 474537 is still around. 
Bug 476643 - mozilla code uses some JS-internal APIs and needs to bail off trace before doing so. This shouldn't actually affect runtime now, because XPConnect doesn't use traceable natives. But in the 1.9.2 future we want to use traceable natives r=mrbkap r=jorendorff 
Bug 460882. r+sr=mrbkap, a=blocking1.9.1 
Bug 469397 - (0.5).toFixed(0) is 0, should be 1. r=bz,mrbkap 
Bug 477128 - Don't throw if XPCNativeWrapper is called as a function but passed a primitive value to allow for safe primitive testing. r+sr=jst 
Re-merge mc to tm 
Bug 477053 - Protect against evil E4X jsvals in args_resolve. r=brendan 
Bug 476940 - Report an error when a script tries to use duplicate flags on a regexp. r=brendan 
Bug 477174 - Always release this file descriptor. r=brendan 
Bug 469405 - Handle an __iterator__ implementation returning a primitive value on trace. r=brendan 
Substitute operation counting with a watchdog thread (477187, r=brendan/mrbkap/jst, sr=brendan/jst). 
Substitute operation counting with a watchdog thread (477187, 2nd attempt, r=brendan/mrbkap/jst, sr=brendan/jst). 
Bug 477918 - Don't cast the narrower type to a wider type and write to it. r+sr=jst 
Bug 446689 - xpcshell's load() function doesn't close file handle; r+sr=mrbkap 
Bug 460882. r+sr=mrbkap. 
Bug 478699 - Tell the scanner it's incremental so we don't preload partial tokens. r+sr=jst 
Substitute operation counting with a watchdog thread (477187, 3nd attempt, r=brendan/mrbkap/jst, sr=brendan/jst). 
Bug 477758 - If we fall into the regexp getter case, we need to pass the original object in, not the prototype. r=brendan 
Bug 475334 - Don't trigger debugger hooks until frame initialization is complete. r=mrbkap 
Bug 472450 - Don't record after js_GetScopeChain, since we can't successfully recover from a side exit. r=gal 
Bug 478047 - Assignments to a property that has a getter but not a setter should throw a TypeError. r=igor 
Bug 468840 refix: count JS_realloc memory more accurately, r=mrbkap 
Bug 478317 - Don't jump based on uninitialized memory. r=dmandelin 
Bug 478314 - Eagerly call f2i to root out constant values. r=gal 
Bug 478314 - Improve this error message and the corresponding comment to help future debuggers. r=gal 
Bug 477143 - jsstack.js static analysis error in js_GetPropertyHelper. r=mrbkap. 
Bug 476643 - JS_REQUIRES_STACK errors in nsXPCWrappedJSClass::CallMethod. Mozilla code uses some JS-internal APIs and needs to bail off trace before doing so. This shouldn't affect performance now becuase XPConnect methods are not traceable yet. r=mrbkap, sr=mrbkap. 
Bug 422986 - client.mk doesn't support parallel make. r=ted 
Bug 437922 - use JS_MAX instead of the max() macro in prmjtime due to mingw-w64 bustage; r=mrbkap 
Fix for bug 471395 ( "Illegal Value" exception when accessing XHR request within an extension). r=mrbkap, sr=jst. 
Bug 478340 - TM: kill many of the warnings when building 'js'. r=mrbkap 
Fix bustage from checkin for bug Bug 479566 
Fix compiler warning in jstracer.cpp. No bug, r=brendan/jorendorff 
Fix build bustage from bug 479109. 
Bug 479551 - Assertion failure: (cx)->requestDepth || (cx)->thread == (cx)->runtime->gcThread, at js/src/jsapi.cpp:957 after typing EOF at js shell prompt. r=igor and mrbkap. 
Bug 480035 - Don't iloop if we GC exactly once. r=gal 
Remove unreachable printf since tinderbox isn't hitting it (bug 474537). 
Bug 479288 - Move wrapping back into the outerObject hook. r+sr=bent/jst 
Bug 435151 - XPCSafeJSObjectWrapper's construct hook was not correct. r+sr=jst 
Bug 476967 - Report strict warnings again. r+sr=jst 
Bug 477431 - The JS spec says that we have to iterate over string properties only. r+sr=jst 
Bug 478433 - Use a better method to create this function. r+sr=jst 
Bug 479499 - Gracefully handle receiving more data while inside the expat driver. r+sr=peterv 
bug 477706 - fixing most VC 2005 warnings. r=gal,mrbkap 
Add a crashtest for bug 460706. 
Add a mochitest for bug 477431. 
Bug 480199 - Add assertEq function to JS shell. r=mrbkap. 
Bug 480096 - Don't leave the last argument lying around in case someone accidentally uses it. r=brendan 
Bug 480430 - Don't wrap objects that are same-origin but differently scoped. r=jst sr=bzbarsky 
Bug 480430 followup -- don't wrap when the scopes are actually the same (even if they don't have principals. 
Bug 480430 followup -- wrap for different-scope bug same-origin chrome wrappers since we have code that depends on it. 
Bug 481434 - Fix up the logic a bit. r+sr=bzbarsky 
Bug 478438 - Can't access allAccess properties of cross-origin XPCNativeWrappers. r+sr=mrbkap 
Bug 478910 - Unwrap |obj| because you can't use a wrapper as a variables object. r=brendan 
Bug 420642 - Remove a now-unnecessary eval hack. r+sr=jst 
Bug 439110 - xpcshell's load() just silently fails for non-existent files; r=mrbkap 
Chris Pearce - Bug 480889 - Nested <source> elements appear in video's childNodes. r+/sr+ mrbkap 
Browser spuriously sets runtime->anyArrayPrototypeHasElement and makes perf bad (481251, r=mrbkap). 
bug 480700 - macros to cast between function and data pointers are public now. r=brendan,mrbkap 
Bug 481555: creating window properties with class getters instead of stub causes TM aborts, r=mrbkap 
Bug 482384 - Fix GCC warnings about casting between data and function pointers. r+sr=jst 
Bug 482381 - Add JS_GetPropertyDescriptorById to quickly get all information about a given property, possibly off of the prototype chain. r=brendan/jorendorff 
Bug 482381 followup -- use a better name for the "value" field. r=brendan 
Bug 482625 - Fix some warnings and remove some unneeded type declarations. r+sr=jst 
Bug 482830 - Use a principal when compiling -e scripts. r+sr=jst 
Bug 482263 - Avoid re-entering recorder while deep aborting, r=mrbkap. 
Bug 482306 - "Several deadlocks related to nested requests and nsJSContext::CompileEventHandler". r+sr=mrbkap, a=blocking1.9.1+. 
Bug 480185 - 'XPConnect shouldn't poke JS objects manually, should use JSAPI.' patch by Blake Kaplan <mrbkap@gmail.com> and myself. r+sr=jst. 
Bug 480226 - Fix warnings in security/manager/ssl/src; r=kaie 
Bug 457065. TM: Assertion failure: !fp->callee || fp->thisp == JSVAL_TO_OBJECT(fp->argv[-1]). r=mrbkap 
Bug 483975 - Mochitest test_importScripts.html runs fine but needs to check/report success; (Av1) Add |ok(true, ...);|; r+sr=mrbkap 
Bug 483899 - Fix GCC warnings in browser/components/migration/src/. r+sr=jst 

Bug 483899 - Fix GCC warnings in browser/components/migration/src/. r+sr=jst Bug 481127 - Censor NPAPI and Java plugins more aggressively. r+sr=jst 
NEWINIT creates objects with wrong prototype (484104, r=mrbkap). 
jslock.h conflicts with AIX system header priv.h (484010, r=mrbkap). 
Bug 484151 - Initializing non-int elements calls the wrong imacro. Also call the right builtin when setting and initializing non-int properties (r=brendan). 
Bug 483751 - Switch to use the new JSPropertyDescriptor API. Also fix it to return values on the prototype chain (which was sort of the point of its existance...). r+sr=jst 
Bug 480975 - Make document fragments participate correctly in the wrapper cache. r+sr=jst 
Bug 484820.  When closing the head context, flush out notifications on its kids, so we won't forget to notify on them.  r+sr=mrbkap 
nsIDTD-related improvements (bugs 483939, 484121, 484874). r+sr=mrbkap 
Bug 484320, r=dveditz, sr=mrbkap, a=blocking1.9.1 
Bug 457809 and bug 457810 - Speculatively load images and stylesheets (respectively).  r=mrbkap, sr=bz 
bug 426827 - removing incorrect assert. r=mrbkap 
str_match should use js_GetCurrentBytecodePC (484308, r=mrbkap). 
trace JSOP_CALLELEM (484334, r=mrbkap) 
Bug 474369 - get rid of nsVoidArray, parser part; r+sr=mrbkap 
Bug 474369 - get rid of nsVoidArray, xpconnect part; r+sr=mrbkap 
Bug 485217 - Pop the eval context before returning. r+sr=peterv 
Bug 473262 - We can get an interface but no member without idispatch. r+sr=jst 
Bug 485217 - Add a crashtest. 
Bug 485286 - Allocate all of these consistently. r+sr=peterv/sicking (a=ss for checkin into a CLOSED TREE). 
Bug 485605 Clean up JS ID code and fix allocators r=mrbkap sr=jag 
Add a static assertion for another latent LIR opcode numbering constraint.  No bug, r=mrbkap 
bug 485178 - proper stack limits for scatter threads. r=mrbkap 
bug 485178 - proper stack limits for scatter threads. r=mrbkap 
Make js_DumpValue more useful with function jsvals.  r=mrbkap 
Bug 485013 - jsdate.cpp AdjustTime() breaks London (GMT+0) dates when DST activates Mar 29 2009 Summary: jsdate.cpp AdjustTime() breaks London (GMT+0) dates when DST activates Mar 29. r=mrbkap 
b=484599; add calling convention tests to trace-tests and js shell; r=mrbkap 
Bug 485840 - Protect against reentrancy in deferred releases. r+sr=roc 
Fix style inconsistency I just introduced in bug 485840 
Bug 457809 and bug 457810 - Speculatively load images and stylesheets (respectively). r=mrbkap, sr=bzbarsky 
Bug 485286 - Add a crashtest. 
Bug 486029 - Use C++ style casts in more places. r=brendan 
Bug 485022 - TM: Assertion failure: JS_ON_TRACE(cx), at ../jsarray.cpp. r=mrbkap 
Fix for bug 483444. r/sr=mrbkap. 
Bug 484751 - TM: "Assertion failure: !OBJ_GET_CLASS(cx, proto)->getObjectOps, at ../jsobj.cpp".  r=mrbkap 
printf warning police 
Bug 484751 - Followup patch to fix crash in initial checkin, r=mrbkap. 
bug 486124 - removal of unused TCF_HAS_DEFXMLNS. r=mrbkap 
bug 484861 - removal of unsed fields from JSObjectOps. r=mrbkap 
Bug 457809 - Speculatively load images from preloading.  r=mrbkap, sr=bzbarsky 
Bug 477128 - Add a mochitest. 
Bug 483847 - Remove bogo-assertion (and fix compilation warning). r=Waldo 
Bug 457810 - Speculatively load stylesheets from preloading.  r=mrbkap, sr=bzbarsky 
Bug 483179 - TM: JIT embeds stale closure in trace for JSOP_DEFLOCALFUN. r=mrbkap 
bug 485164 - fixing sharp semantic regressions. r=mrbkap 
bug 486139 - removal of JSProperty struct definition. r=mrbkap 
bug 419662 - nested function definitions must come after destructuring argument initializer. r=mrbkap 
upvar2, aka the big one (452598, r=mrbkap). 
upvar2, aka the big one take 2 (452598, r=mrbkap). 
Fix for bug 486585 ("ASSERTION: bad!" in XPCCallContext::XPCCallContext with feed in frame, gc). r/sr=mrbkap. 
Bug 487251 - imacros.c.out generation fails: Error: .igroup/.end name mismatch (r=mrbkap). 
Bug 487215 - A lambda expression that uses arguments might escape, so don't clear the funarg flag. r=brendan 
Bug 487320 - named function objects can escape without detection by the upvar analysis (r=mrbkap). 
Bug 487251 - imacros.c.out generation fails: Error: .igroup/.end name mismatch (r=mrbkap). 
Bug 487173: Making undefined use stub getter/setter so use of global undefined can be traced, r=mrbkap 
Bug 487320 - named function objects can escape without detection by the upvar analysis (r=mrbkap). 
Bug 487271 - Crash [@ js_Invoke ], and missing google-maps background, at padmapper.com (r=mrbkap). 
Bug 487538 - bug 487271 left three tests broken in its wake (r=mrbkap). 
Bug 487209 - erroneous redeclaration of let ... with try {...} catch(e) {var e...} (r=mrbkap). 
Bug 487561 - More cleanup from bug 452498 and bug 487271 patches (r=mrbkap/igor, and this fixes bug 487570). 
Bug 487563 - Crash [@ js_Interpret] (r=mrbkap). 
Test for bug 364188 - param closes open div elements. r+sr=mrbkap 
Bug 487684 - Store the last trace PC to pass into the decompiler. r=igor 
Bug 488034 - Crash [@ js_GetUpvar] or "Assertion failure: (script)->upvarsOffset != 0, at ../jsinterp.cpp" (r=mrbkap). 
Bug 484107 - XPCSafeJSObjectWrapper allows regexp variables to be clobbered. r=mrbkap+sr=brendan 
Bug 487430 - call_enumerate doesn't take upvars into account. r=brendan 
Bug 488272 - Crash [@ RebindLets] (r=mrbkap). 
Bug 488272 - Crash [@ RebindLets] (r=mrbkap). 
Properly compute 'this' object on trace and wrap if necessary (488203, r=mrbkap). 
Bug 488015 - Crash [@ js_GetUpvar ] (also bogus JS errors, also probably Crash [@js_Interpret]) (future r=mrbkap, see bug). 
Bug 488421 - Crash [@ js_ValueToString] or Crash [@ js_ValueToBoolean] or "Assertion failure: slot < fp->script->nslots, at ../jsinterp.cpp" (r=mrbkap). 
Bug 483818: Remove the currently-running-script counter from the parser since it's hard to keep it correct when we're creating a new parser due to document.write etc. r/sr=mrbkap 
Bug 479560, r+sr=jst 
Bug 479624 - Use JSAutoTempValueRooter instead of nsAutoGCRoot in nsJSContext::CallEventHandler. r=mrbkap, sr=jst 
Bug 484180 - Don't call the class getter (especially not the scriptable helper!) for functions. r+sr=jst 
Bug 485868 - Remove code duplication in xpcjsruntime.cpp. r=jst sr=brendan 
Properly calculate 'this' object on trace and side exit if we have to wrap (488203, r=mrbkap). 
Properly calculate 'this' object on trace and side exit if we have to wrap (488203, r=mrbkap,jorendorff). 
Bug 488802 - Crash at [@js_Interpret] on YOMIURI ONLINE (r=mrbkap). 
bug 487930 - removal of JSSLOT_ARRAY_LOOKUP_HOLDER. r=mrbkap 
Bug 339587 - content canvas getImageData always returns null from chrome context; r+sr=mrbkap 
Bug 488843 - Restore missing check for un-optimiziable frames. r=brendan 
Bug 488925 - Check for string indexes in the API entry points. r=brendan 
Bug 488843 - Restore missing check for un-optimiziable frames. r=brendan 
Bug 488690 - "Assertion failure: dn->pn_defn, at ../jsemit.cpp" (r=mrbkap). 
Bug 488963 - "Assertion failure: cg->lexdeps.lookup(atom), at ../jsemit.cpp" (tachyonal r=mrbkap). 
Bug 489079 - Google Calendars disappear with latest trunk of Shredder [Error: Error parsing XML streamReferenceError: gCal is not defined] (r=mrbkap). 
Bug 488265 Use an XPCOM array enumerator instead of rolling our own r+sr=mrbkap 
Bug 489079 - Google Calendars disappear with latest trunk of Shredder [Error: Error parsing XML streamReferenceError: gCal is not defined] (r=mrbkap). 
bug 488995 - fixing error reporting for getter-only properties. r=mrbkap sr=jst 
Bug 489440 - Don't call into JS when asked if we support a wrapper cache. r+sr=peterv 
Bug 489552 - Earth Day Recycling for Fun Kids - Assertion failure: RecycleFuncNameKids, at ../jsparse.cpp:444 (r=mrbkap). 
Bug 488842 - Local Scope Variables are not displayed by default (r=mrbkap). 
Bug 475864 - Move native anonymous content checks into a wrapper so that quickstubs don't sidestep them. r=jst sr=bzbarsky 
Bug 475864 - Distinguish between "there is no JS code running" and "there are only native frames on the stack." Also clean up the rest of the code's handling of null fp. 
Fix for bug 488561 (Typo in dom_quickstubs.qsconf). r=bent, sr=mrbkap. 
Testcase for bug 483444 (XSLT stylesheet compiler crashes). r/sr=mrbkap. 
Bug 490339 - Unexpected ReferenceError when using "new Function()" (r=mrbkap). 
Bug 489552 - Earth Day Recycling for Fun Kids - Assertion failure: RecycleFuncNameKids, at ../jsparse.cpp:444 (r=mrbkap). 
Need an API exposed to control code cache size (474497, r=bent,brendan, sr=mrbkap). 
Bug 488842 - Local Scope Variables are not displayed by default (r=mrbkap). 
Bug 490339 - Unexpected ReferenceError when using "new Function()" (r=mrbkap). 
Bug 375250 - Reject (JSON is fixed now) E4X masquerading as JS source (r=igor/mrbkap). 
Bug 375250 - Reject (JSON is fixed now) E4X masquerading as JS source (r=igor/mrbkap). 
ug 490741 - Crash [@ js_GetUpvar] on datepick (r=mrbkap). 
Bug 478438 trivial follow-up: remove unneeded 'typedef' keyword to fix compile warning. r=bnewman sr=mrbkap 
Bug 491017 - Allow easy building of Narcissus through the autoconf build system. r=jimb 
ug 490741 - Crash [@ js_GetUpvar] on datepick (r=mrbkap). 
Fixing bug 489251. Crash on shutdown after touching window.java. r+sr=mrbkap@gmail.com 
Bug 491617 - Expose this as a friendly API. r=gal 
Bug 491806 - "Assertion failure: (uintN)i < ss->top, at ../jsopcode.cpp" with uneval, for, yield (r=mrbkap). 
Bug 492150 - Unexpected error occurred when japascript.options.strict is true (r=mrbkap). 
Bug 452189 - regression (from firefox 2): prototype setters not called by inline cache for [[put]] (r=mrbkap). 
Bug 490191 - "Assertion failure: slot < fp->script->nslots, at ../jsinterp.cpp" with defineGetter, eval (r=mrbkap). 
Bug 490818 - Packed JS that works in Firefox 3.0 and all other browsers fails in Firefox 3.5 (r=mrbkap). 
Bug 491806 - "Assertion failure: (uintN)i < ss->top, at ../jsopcode.cpp" with uneval, for, yield (r=mrbkap). 
Bug 490818 - Packed JS that works in Firefox 3.0 and all other browsers fails in Firefox 3.5 (r=mrbkap). 
Bug 452189 - regression (from firefox 2): prototype setters not called by inline cache for [[put]] (r=mrbkap). 
Bug 490191 - "Assertion failure: slot < fp->script->nslots, at ../jsinterp.cpp" with defineGetter, eval (r=mrbkap). 
Bug 492150 - Unexpected error occurred when japascript.options.strict is true (r=mrbkap). 
Fixing bug 484040. Don't fall off trace when accessing 'document' in JS. r+sr=mrbkap@gmail.com 
Bug 483672 - Give regular JS objects that have been reflected into C++ a security policy that follows the same-origin model. Also teach caps about "same origin" for these cases. r=jst sr=bzbarsky 
bug 490364 - fixing bad typo in js_SetProtoOrParent. r=mrbkap 
Bug 461861, r=mrbkap, sr=jst 
Only the global object has to be wrapped on trace, which we can do statically and abort on With objects used as 'this' (492028, r=mrbkap). 
Bug 492914 - TM: trace aborts due to flat closure analysis bug (r=mrbkap). 
bug 492483 - fixing !JS_THREADSAFE build failure. r=mrbkap. 
Bug 490937 - Eagerly start prefetching URIs that we've found when we're done with our section of the document. Don't wait for the parser to tell us to go ahead. r+sr=jst 
Bug 493074 - Compute fewer things to try to clear up a performance regression. r+sr=jst 
Bug 491646 - Expose js_StrictlyEqual() to consumers. r=mrbkap. 
Bug 489034 - let declaration getting lost in certain situations (r=mrbkap). 
Bug 492912 - Clean up the way that TraceRecorder::elem interacts with the rest of the world. r=gal 
Bug 493315 - Random cleanup in jsdbgapi.cpp. r=sayrer 
Bug 493177 - Browser crashes in loading of certain page.[@ js_Interpret] (r=mrbkap). 
Bug 493177 - Browser crashes in loading of certain page.[@ js_Interpret] (r=mrbkap; take 2). 
bug 492483 - fixing !JS_THREADSAFE build failure. r=mrbkap. 
Bug 493281 - Find our object. r+sr=jst 
Bug 491219 - Make SOWs wrap more deeply. r+sr=jst 
Bug 493466 - TM: youtube.com customization broken (r=mrbkap). 
Bug 481566: Add prefs to control making the content sink more responsive. r/sr=mrbkap 
Bug 493760: fix bad typo in patch for bug 493466 (superluminal r=mrbkap). 
Bug 410486.  Make sure to be in a request when reporting a pending exception.  r=dveditz, sr=mrbkap. 
Bug 489671.  Make sure the error reporter doesn't suppress our error reports.  r=mrbkap, sr=jst 
Bug 493366 -  Assertion failure: (cx)->requestDepth || (cx)->thread == (cx)->runtime->gcThread, at mozilla/js/src/jsapi.cpp:5196, r+sr=mrbkap 
Bug 493760: fix bad typo in patch for bug 493466 (superluminal r=mrbkap). 
Bug 493760: the real fix for problem left in wake of patch for bug 493466 (r=mrbkap). 
bug 493720 - using the proper assert to assert the the GC is not running. r=mrbkap 
Wrong callee is restored when side-exiting from a trace (493657, r=brendan,mrbkap). 
Fixing bug 494051. Don't fall off trace when accessing the global property 'window'. r+sr=mrbkap@gmail.com 
Bug 493495.  Protect against recursive attempts to report a security exception in cases when the URI objects involved can't be accessed due to being implemented as a JS component.  r+sr=mrbkap 
Fix GCC warnings about the argument to %p not being a void *. rs=jorendorff 
Bug 480205 -  Implement a wrapper for exposing chrome objects to content (aka COWs). r+sr=jst sr=bzbarsky on some parts. 
Bug 493495 followup.  Just cut off the recursion if it gets too deep.  r+sr=mrbkap 
Fix for bug 494445. r/sr=mrbkap. 
Bug 462704 - [jsd] incorrect lineExtent when a while loop ends a method (r=mrbkap). 
Bug 494544 - Uninitialized variable undefined after assignment whose initializer is a closure capturing that var (r=mrbkap). 
Bug 494954 - JS_GetScriptLineExtent() does not returns the right value (r=mrbkap). 
Bug 488730 - Count newlines correctly when skipping whitespace. r+sr=sicking 
Bug 495663 - Count newlines correctly if we have an alternate ending position. r+sr=sicking 
Detect global object wrapping at recording time and on trace (495699, r=mrbkap). 
Fall off trace if 'this' is a 'with' object (496057, r=mrbkap). 
Bug 495843 - Crash [@ js_Interpret] or Assertion failure: cg->stackDepth == stackDepth, at ../jsemit.cpp. r=brendan 
bug 494645 - new "-r" option to the dis function disassemble recursively. r=mrbkap 
Bug 484459.  Give SandboxClass a convert method so it doesn't end up delegating that to the prototype.  r+sr=mrbkap 
Bug 496113 - Unwrap 'with' objects before calling into getters to restore API compatibility. r=brendan 
Bug 496319: correctly unpack FrameInfo::argc, r=mrbkap 
Bug 494235: wrap escaping optimized closures for the debugger API (r=igor/mrbkap). 
Censor call object and substitute it with global object in getThis (496325, r=mrbkap). 
Censor block objects in addition to call objects when accessing 'this' (496507, r=mrbkap). 
Fast ultimate fighting web-compat followup for 496605 (r=mrbkap). 
Skip let binding not in scope (in let head, e.g.) and find any shadowed binding (496532, r=mrbkap). 
Fix destructuring binding to follow the cheezy dominance relation rules of the upvar analysis (496134, r=mrbkap). 
Bug 496245 - Assertion failure: fun->u.i.script->upvarsOffset. r=brendan/dmandelin 
Fix destructuring binding to follow the cheezy dominance relation rules of the upvar analysis (496134, r=mrbkap; take 2). 
Add static analysis incantation, plus assert cx->fp for sanity (496824, r=mrbkap). 
Bug 496870 - Emit JSOP_STARTXMLEXPR before potentially emitting any LC nodes in a list. r=Waldo 
Bug 497102 - Add missing call. r+sr=bzbarsky 
Bug 497119 -  Don't assume that we have a cx->fp (or that fp is on cx->fp at all). Set up display as it would have been when fp was active, though. r=brendan 
Bug 492560: Prevent modal dialogs from making the slow-script dialog coming up. r/sr=mrbkap 
Bug 496486 - Don't let our wrapped natives get garbage collected out from under us. r+sr=bzbarsky 
Bug 441714 - Protect caps against SJOWs. r+sr=dveditz 
Bug 497998 - Remove obsolete assertion. r=brendan 
Bug 497119 -  Don't assume that we have a cx->fp (or that fp is on cx->fp at all). Set up display as it would have been when fp was active, though. r=brendan 
Bug 497998 - Remove obsolete assertion. r=brendan 
Bug 498395 - "Assertion failure: !(pn->pn_dflags & flag), at ../jsparse.h". r=mrbkap, r=brendan. 
Bug 498993 - Don't mistake initialization for assignment when the assignment is hidden by a secon var declaration. r=brendan/jorendorff 
Fix for bug 498897. r/sr=mrbkap. 
Fix for bug 484821 (Have a separate hash for main-thread only XPCWrappedNativeProto). r/sr=mrbkap. 
Fix for bug 499777 (Cannot convert WrappedNative to function (NS_ERROR_XPC_CANT_CONVERT_WN_TO_FUN)). r/sr=mrbkap. 
Fix for bug 499787 (Remove one AddRef/Release pair from GatherProtoScriptableCreateInfo). r/sr=mrbkap. 
Backed out c8297c309ab3 (Fix for bug 499777 (Cannot convert WrappedNative to function (NS_ERROR_XPC_CANT_CONVERT_WN_TO_FUN)). r/sr=mrbkap.) to fix orange. 
Backed out c8297c309ab3 (Fix for bug 499777 (Cannot convert WrappedNative to function (NS_ERROR_XPC_CANT_CONVERT_WN_TO_FUN)). r/sr=mrbkap.) to fix orange. 
Bug 484121 (1/6) - Decompose nsHTMLTokenizer::GetFlags. r+sr=mrbkap 
Bug 484121 (2/6) - Add nsIDTD::GetMode to eliminate heinous const_cast. r+sr=mrbkap 
Bug 484121 (3/6) - Get rid of nsIDTD::Will{Resume,Interrupt}Parse. r+sr=mrbkap 
Bug 484121 (4/6) - Let the parser call nsIContentSink::{Will,Did}BuildModel directly. r+sr=mrbkap 
Bug 484121 (5/6) - Avoid needlessly passing nsIContentSink parameters to nsIDTD methods. r+sr=mrbkap 
Bug 484121 (6/6) - Don't let DTDs hold parser references. r+sr=mrbkap 
Check for end of proto chain when walking it (499169, r=mrbkap). 
Fix for bug 499777 (Cannot convert WrappedNative to function (NS_ERROR_XPC_CANT_CONVERT_WN_TO_FUN)). r/sr=mrbkap. 
Fixing bug 484744. Revert an IID change that broke the old Java plugin. r+sr=mrbkap@gmail.com 
Pick up the current system timezone when a Date object is created (492056, r=mrbkap). 
Bug 487949 - Land HTML5 parser on trunk preffed off r=mrbkap, sr=jonas 
Bug 497780 -  onmouseout's MouseEvent.relatedTarget is a chrome element and is completely inaccessible, r=mrbkap@gmail.com, sr=bz 
Bug 487949 - Land HTML5 parser on trunk preffed off r=mrbkap, sr=jonas 
Bug 487949 - Land HTML5 parser on trunk preffed off r=mrbkap, sr=jonas 
Bug 483689. Add fflush to print() and dump() in xpcshell, and do some cleanup. r=mrbkap 
Bug 501091 - Avoid overlap with platform defines in HTML5 element/attribute name object names. r=jonas, sr=mrbkap 
Check for end of proto chain when walking it (499169, r=mrbkap). 
Bug 501241 - xpcshell fails to build when setting EDITLINE. r=mrbkap 
Bug 500931 - Ensure that weak reference wrappers return the right object when called upon. r=bent sr=jst 
Backed out changeset 291552e67a3b due to leaks. 
Merge backout. 
Bug 498000 - Throw a better error when toString is called cross-origin on an XPCNativeWrapper from an unprivileged context. r+sr=bzbarsky 
Bug 496441 - Some random cleanup: remove an unnecessary macro. r+sr=jst 
Bug 496441 - Random cleanup: only calculate the callee once. r+sr=jst 
Bug 434766 - Don't try to use the selection if we don't need one. r+sr=peterv 
Bug 500846 - Calculate sObjectClass in non-browser embeddings. r+sr=bzbarsky 
Fix build bustage from bug 500846. 
Bug 500691 - Call JS_ClearScope before XPConnect tries to update our outer window's scope's concept of what {Function,Object}.prototype are so that we forward correctly to the inner window's versions. r=jst sr=bzbarsky 
Bug 501577 - Add a missing call to Release in nsXPCWrappedJS::GetNewOrUsed. Also remove a hack needed to get around the missing release. r+sr=peterv 
Bug 500931 - Ensure that weak reference wrappers return the right object when called upon. r=bent sr=jst 
Fix for bug 482788 (Lightweight DOM wrappers). r=jst, sr=mrbkap. 
Bug 502103 - Crash [@ NS_NewEditorKeyListener] with <isindex action="">. r+sr=mrbkap 
Fixing bug 502137. Removing dead code relating to plugin scripting, and updating some comments. r+sr=mrbkap@gmail.com 
Fixing bug 501725. Use nsDependentSubstring() on strings that are not null terminated. r+sr=mrbkap@gmail.com 
Fixing bug 501531. Make some functions static. r+sr=mrbkap@gmail.com 
Bug 501270 - Make pseudo-frames have call objects if they're around a heaveyweight function to preserve engine invariants. r=brendan 
Bug 457809 - Speculatively load images from preloading.  r=mrbkap, sr=bzbarsky 
Bug 502600 - Make quirky doctype list comparisons work. r+sr=mrbkap 
Bug 456721 - Control GC frequency/a high water mark of Tracemonkey via about:config; r+sr=(brendan + mrbkap) 
Adding test for bug 303267.  r=mrbkap 
Bug 502449 - Now that our pseudo-frame can have a call object it needs slots, too. r=igor 
Bug 503286 - Use the right sp for sp_adj to account for tree calls fiddling with state.sp after we've deep bailed. r=jorendorff 
Bug 503817 - Deal with xpconnect handing us weird this objects. r=gal 
Add a crashtest for bug 503286. r=gal 
Make uneval(window) always return something that can be evaled (bug 380959).  r=mrbkap. 
Bug 501015 - Address code style comments from timeless. r+sr=mrbkap 
Bug 504220: document.body and window should contain onhashchange attribute r=mrbkap, sr=mrbkap 
Bug 503406 - TM: Trace calling a user-attached function to RegExp (r=mrbkap). 
Bug 501840 - Avoid a warning when a cycle collection participant doesn't use tmp. r+sr=peterv 
Bug 502687 - GCGraphBuilder::AddNode crashes on OOM. r=dbaron 
Bug 502260 - Check mFlushTimer for null in nsHtml5TreeBuilder::DoUnlink. r=mrbkap 
Fix for bug 504146 (Crash [@ nsGenericElement::cycleCollection::Traverse] with focus() method, popup, menulist, treecols). r=jst, sr=mrbkap. 
Bug 503406 - TM: Trace calling a user-attached function to RegExp (r=mrbkap). 
Bug 504590 - Don't return a "joined" function object, since we don't support them yet. r=brendan 
Fix Windows build bustage. rs=brendan 
Bug 499790 - common sub-expression elim for repeated (PND_ASSIGNED | PND_FUNARG), r=mrbkap. 
r=jorendorff sr=mrbkap 
Bug 503926 - Don't call QueryInterface on content JS objects. r=bzbarsky sr=jst 
Bug 505305 - Don't store pointers into a mutable string. r=gal 
Bug 480205 -  Implement a wrapper for exposing chrome objects to content (aka COWs). r+sr=jst sr=bzbarsky on some parts. 
Bug 505680 - xpcshell for Symbian. r=mrbkap 
bug 474358 - ASSERTION: Inner window detected in Equality hook, isOuterWindow, p=me, r=timeless, sr=mrbkap 
Fix memory leak introduced by changeset 3915e2d2c748 (bug 503080). r=mrbkap, no bug#. 
Fixing bug 477974. Plug a few holes where a frame could change the size/position of the containing window. r+sr=mrbkap@gmail.com 
Bug 106386 - Correct misspellings in source code (old); Misspellings in /js/; r=mrbkap 
Bug 488731 - Avoid shape regeneration and property cache purge during the GC (r=mrbkap). 
Bug 505988. Don't unwrap when we shouldn't. r=bz 
Fixing bug 503598. Adding support for drag n' drop funcitonality for local files. r=enndeakin@gmail.com, sr=mrbkap@gmail.com/jonas@sicking.cc 
Fixing bug 492713. Remove security checks that are no longer needed. r+sr=mrbkap@gmail.com 
Bug 507047. Remove unnecessary toString override from COWs. r=jst 
Bug 497013 - Fix some re-entrancy bugs in the parser. r+sr=sicking 
Bug 508483 - Don't try to create XPCNativeWrappers around a double-wrapped object. r+sr=jst 
Fix bug 505988. r=bzbarsky sr=jst 
Bug 504877 - Check for UniversalXPConnect access further down on the stack chain. r=jst sr=bzbarsky 
Bug 502959 - Restore code to make caps allow wrapping same-origin wrappedjs objects. r=jst sr=bzbarsky 
Backed out changeset 5ea7f2882982. It's causing mochitest orange. 
Merge backout of orange-causing changeset. 
Bug 505217 - Don't wrap slim wrappers in SOWs. r+sr=peterv 
Bug 508982 - Don't try to double-rewrap properties. It's a very expensive no-op. r+sr=jst 
Bug 493281 - Add a crashtest. 
Fix bug 508752. r+sr=jst 
Bug 506838 - Deal with GetCxSubjectPrincipalAndFrame returning a non-scripted frame. r+sr=jst 
Bug 509583 - Deal with empty arrays the same way we deal with regular arrays. r+sr=jst 
Backed out changeset 577258550954. Fixing mochitest-chrome bustage. 
Finish merging. 
r=mrbkap 
r=mrbkap 
Bug 505718 - 'mochitest-plain timeout (hanging?) during shutdown on Windows'. Worker-related. r=mrbkap, sr=jst. 
bug 493457 - uniform access to private slots. r=mrbkap, sr=jwalden 
Bug 505494 - Unwrap invisible wrappers when they're passed to Function.prototype.apply. r=mrbkap 
Fixed DomInterfaceConstants trying to box out of range integers (bug 509590, r+sr=mrbkap). 
Bug 509824 - Don't call into the script security manager off the main thread. r=bent sr=jst 
Fix bug 508752. r+sr=jst 
Bug 509075 - Update this function to use shiny new APIs that don't require multiple searches for the property. r=jorendorff sr=jst 
Bug 510651:  Fold nsIFrameDebug into nsFrame.  r=dbaron  sr=mrbkap 
Bug 504968 - [HTML5] "###!!! ASSERTION: QueryInterface needed" in nsHtml5Parser::FinalizeSniffing. r=hsivonen sr=mrbkap 
Bug 505599 - [HTML5] GenerateNamedCharactersCpp.java should generate static member declarations for VALUES and WINDOWS_1252 as well as NAMES. r=hsivonen sr=mrbkap 
Bug 505602 - [HTML5] Reduce amount of nsHtml5NamedCharacters generated code. r=hsivonen sr=mrbkap 
Fix compiler warnings on x86-64 (and maybe even miscompilation) by forcing this value to be the right width. 
Bug 509510: Make Object.getPrototypeOf reject primitives, not coerce them. r=mrbkap 
Bug 509510: Update tests to match final ECMA 5 spec. r=mrbkap 
bug 509143 - js_CloneRegExp is missing a call to js_SetLastIndex. r=mrbkap 
Bug 511836 - Assertion failure: JSVAL_IS_INT(v), at ../jsapi.h. Iterator.prototype not initialized properly. r=mrbkap. 
bug 509143 - js_CloneRegExp is missing a call to js_SetLastIndex. r=mrbkap 
Bug 512518 - nsRegressionTester.cpp doesn't compile in an optimized build. r=dbaron 
Bug 502973 - Suppress EOF upon Terminate() in HTML5 parser. r=mrbkap. 
Bug 512589 - Initialize some more members. r=peterv sr=peterv 
bug 503137  -  xpcshell.exe needs an --environ cli option to work with xpcshell unittests on windows mobile r+sr=mrbkap 
Bug 500644 - PAC: crash when using PAC-based manual proxy config and the attached testcase. r=mrbkap sr=brendan 
Fixing bug 504862. Sanitize modal dialog argument handling. r=mrbkap@gmail.com, sr=bzbarsky@mit.edu 
Clean up this backup file that landed for bug 513183 
Bug 514554 - Don't skip state transitions without initializing members. r=peterv sr=jst 
Bug 515475 - Get rid of a spurious security check in js_InternalGetOrSet that isn't needed anymore. r=brendan 
Bug 509557 - Don't do a bunch of extra work and create a bunch of extra objects during window creation. 
Bug 509557 - Initialize the prototype's flags so that we can always assume that an XPCNativeWrapper's flags are integers. r=jst sr=bzbarsky 
Fix bustage from bug 509557. 
Fix bustage. 
Bug 516102 - Refactor XPCNativeWrapper's constructor into callable-from-JS and callable-from-C++ functions. r+sr=jst 
No bug - Fix warning when tracing is not on. r=jorendorff 
Bug 512897 - Innerize the scope chain to protect from native callers passing an outer object. r=brendan 
Reset nativeVp only after the native call returns (513981, r=mrbkap). 
Bug 505587 - Implement ES5 Object.getOwnPropertyDescriptor.  r=mrbkap 
Set nativeVp immediately before the native call (514999, r=mrbkap). 
Bug 513428 - Ignore transparent wrappers when deciding if something is an array or not. r=brendan 
Bug 412571 - replace thisp with thisv (r=brendan,mrbkap) 
Bug 516623 - jsnum.cpp:87: warning: integer overflow in expression.  r=mrbkap 
Bug 516623 - Followups to change signed-type overflow to unsigned-type overflow, because only the latter has defined behavior.  r=mrbkap 
Bug 516815 - Give shell JS a way to tell if the given object is an inner or outer object. Also correctly outerize in the shell for the thisObject hook. r=jorendorff 
No bug - Force the type here to be wide enough. r=gal/someone who can do bit math 
Bug 516897 - Give the pseudo frame an sp that the GC can appreciate. r=waldo 
Bug 513160 - Rework how we calculate this on trace. 
Bug 517041 - Instead of giving pseudo frames an sp, protect against null sps during GC. r=brendan 
Merge tracemonkey to mozilla-central. 
Bug 516862: Backported a change from dtoa.c upstream made on 2009-03-01. [r=crowder r=mrbkap]
Bug 503451 - remove GeckoActiveXObject/COMObject, and similar functions which aren't usable by content except that content can still detect which COM objects are present on the system r=mrbkap sr=jst 
Backed out changeset af649bce14da. Trying to fix performance regressions. 
Merge backout. 
Backed out changeset 5f449dffdff5. Trying to fix Tp4 heap size regression. 
Merge the backout. 
Bug 517163 - Add missing call to morph slim wrappers when wrapping them in XPCNativeWrappers. r+sr=jst 
Bug 505915 - Throw exceptions eagerly when we try to convert a cross-origin security wrapper to a C++ object. r=jst 
Backed out changeset a01f270b961a to fix tinderbox orange. 
Merge backout. 
Bug 499642 - Split the HTML5 parser into stream parser, doc.write parser and tree op executor. r=bnewman, sr=mrbkap. 
Bug 517250 - Fix a bad assert. r=waldo 
No bug - Fix GCC warning by removing unused 'typedef' keyword. r=graydon 
Bug 517349 - Remove an incorrect assertion (we already do the work to make the condition not matter. r=dvander 
Propagate USE2DEF flags in LinkUseToDef, duh (510783, r=mrbkap). 
Remove now-redundant USE2DEF flags propagation before LinkUseToDef, which does it (510783 followup, r=mrbkap). 
Bug 517721 - Deal with incelem on NULL. r=gal 
Bug 518731 - Ensure the count of non-hole elements in the array returned by Object.keys(O) is correct.  r=mrbkap 
bug 517749 -  removal of weakRoots.newborn = null. r=mrbkap 
Bug 517640. TM: we don't substitute the global object for apply(null, ...). r=mrbkap 
Bug 495325 - Follow ES about indirect eval being global eval. r=brendan/igor 
Bug 518765 - Fix break/continue <label> handling in Narcissus. r=mrbkap 
Fix Zimbra indirect eval crash. r=brendan 
Add a trace test and a requested comment for bug 519129. 
Bug 519498 - Follow XPCOM rules about reading values after a failure. r=sayrer 
Bug 519337 - Don't read the sentinel value from a string. r=sicking 
Bug 514435 - Change up wrapperization a little. r=jst sr=sicking 
Bug 505915 - Throw exceptions eagerly when we try to convert a cross-origin security wrapper to a C++ object. r=jst 
Bug 519145 - Make iteration over XPCNWs work again. r=jst 
Bug 504021 - Add an API to the script security manager to clamp principals for a given context. r=jst/bzbarsky sr=dveditz 
Bug 518991 - Implement access controls in COWs. For now, this is opt-in default unsafe. r=jst 
Bug 518991 - Implement access controls in COWs. For now, this is opt-in default unsafe. r=jst 
Fixing bug 504862. Sanitize modal dialog argument handling. r=mrbkap@gmail.com, sr=bzbarsky@mit.edu 
Bug 518104 - Implement HTML5 changes to <script defer>. r=hsivonen, sr=mrbkap. (Tests fixed and code merged to tip by hsivonen.) 
Deoptimize upvar-for-eval if in for-in loop LHS position (520513, r=mrbkap). 
Bug 520891 - nsHashtable::Put returns null on both failure and when we're adding a new entry. Assume the latter since it's correct more of the time. r=bsmedberg 
Fix for bug 517196 (The JSClass of wrappers shouldn't change when morphing from slim to XPCWrappedNative). r=mrbkap. 
Bug 517990: Remove unused 'TS' parameter from NewNameNode and NewBindingNode. r=mrbkap 
Fix for bug 517196 (The JSClass of wrappers shouldn't change when morphing from slim to XPCWrappedNative). r=mrbkap. 
Part 2 of fix for bug 517196 (The JSClass of wrappers shouldn't change when morphing from slim to XPCWrappedNative). r=mrbkap. 
Bug 519901 - Allow deleting props from XPCNativeWrappers. r=bzbarsky 
Bug 519901 - Add mochitests. 
sr=mrbkap. First patch! Yay!! 
Bug 522764 - Add mochitests for COWs. r=mrbkap 
Make this message not catch the tinderbox's error parser. 
Bug 519843 - better behavior of js shell under Windows Mobile (no TTY), r=mrbkap 
Attempting to wallpaper over the topcrash reported in bug 408116. r+sr=jst@mozilla.com 
Bug 514073 - [@ XPCIDispatchExtension::Enumerate], r=mrbkap 
Bug 504877 - Check for UniversalXPConnect access further down on the stack chain. r=jst sr=bzbarsky 
bug 504877 - Track a last minute change made to make more mochitests happy. 
Bug 524522 - Tinderbox debug build unit tests don't capture a stack for JS_ASSERT assertion failure. r=mrbkap. 
Bug 517665 -  XPCJSStackFrame::CreateStack cause permanent memory, r=peterv,mrbkap 
Bug 523257 -  remove some ComputeThis code duplication. r=mrbkap 
Bug 520511 - Add some tvrs. r=brendan 
Bug 522123: Test case for indirect eval scope chain bug. r=mrbkap 
Bug 522123: Don't reify lazy scope chain blocks twice in 'eval'. r=mrbkap 
Bug 522430 - Don't hand out unexpected objects. r=jst sr=sicking 
Bug 520164 - Protect the interpreter from non-expected scope chains and variable objects. r=igor 
Bug 521668: Don't parse more data from the network, even if pumping the event loop from a event handler rather than from a <script>. r=mrbkap 
Don't morph when not needed in GetWrapperForObject. r=mrbkap. 
Bug 522839 - Deal with OOM when creating a context for a new worker thread. r=bent 
Bug 524690 - Explicitly disable the crashreporter if we have a debugger. r=ted 
Bug 521970 - Remove the ContinueParsing() method. r&sr=mrbkap. 
Bug 520572 - Set watchpoints on the object that's guaranteed to see all changes. r=brendan 
Bug 461170 - Detect when typeof is applied to an expression before constant folding so we correctly throw unbound name exceptions from the folded expression. r=brendan 
Bug 461170 - Mark this test as passing. 
Bug 520572 - Test watch() on an outer object. r=brendan/bc 
Bug 528126 - Ensure the GC can see the new object. r=brendan 
Bug 520386. Don't clear scope while executing code in that scope. r=bzbarsky@mit.edu, sr=jst@mozilla.org 
Remove tests that are failing due to bug in speculative parser. r=mrbkap 
Bug 514559: Forbid octal literals or escape sequences in strict mode. r=mrbkap 
Bug 514576: Forbid 'with' statements in strict mode code. r=mrbkap 
Beware CALLEE_UPVAR_SLOT when adjusting upvar cookie to skip over args to reach vars in the upar's home frame -- the callee is a special case with a magic slot that must not be changed (528082, r=mrbkap). 
Bug 514580: Forbid duplicate formal parameter names in strict mode code. r=mrbkap
Bug 514562: Forbid assignments to 'eval' and 'arguments' in strict mode code. r=mrbkap
Bug 514575: Forbid rebinding 'eval' or 'arguments' in ES5 strict mode code. r=mrbkap 
Bug 519719 - TM: crash [@ JS_GetFrameThis] - SynthesizeFrame passes partly-uninitialized JSStackFrame to callHook. r=mrbkap. 
Bug 509354 - Crash [@ DecompileDestructuringLHS] with destructuring and "arguments". r=mrbkap. 
Bug 530537 - Fix the decompiler precedence of JSOP_CONCATN. r=lw 
Bug 530537 - Don't over-parenthesize JSOP_CONCATN. r=brendan over IRC 
Bug 531222 - Don't access the SSM off the main thread. r=bent sr+a=jst 
Bug 532259 - Protect against a null script. r=jst a=sayrer 
Bug 468506 - JS_GetFrameThis needs to call js_ComputeThis in more cases. r=brendan 
bug 531682 - fixing eval(source, scope) to match 191, 192 semantics. r=mrbkap 
Bug 531972: Add parent dir jstests.list entries; call reportCompare as needed; fix anonymous function objects in js/src/tests/ecma_5/strict/13.1.js. r=bclary, r=mrbkap
Bug 532254: Give TCF_FUN_PARAM_EVAL a distinct value. r=mrbkap
Extra assertions, control flow cleanup in putProperty, and a crucial scope hashtable fix to removeProperty (stored was not reloaded from *spp; got rid of this ancient over-optimization by hand-coded 'register allocation'; 532096, r=mrbkap). 
Bustage fix, r=mrbkap 
Bug 533481 - Don't call into jsd from worker threads. r=bent/jorendorff 
Bug 533636.  Speed up IsSecurityWrapper.  r=mrbkap 
Bug 467477 - View Source should linkify xlink:href. r=mrbkap 
Bug 530364 - Replace PR_MIN/PR_MAX with NS_MIN/NS_MAX in /parser, r=mrbkap 
Fix for bug 534362 (Allow modifications to Location.prototype). r=mrbkap. 
Bug 523769 - Don't call into plugin hooks (specifically NPObject.deallocate) while mid-GC, r=jst+mrbkap 
Bug 534694 - Fix building layout-debug with libxul. r=dbaron sr=jst CLOSED TREE 
Bug 518621 - JS_ReportErrorNumber ignores exception type for user-generated messages. r=mrbkap 
Bug 522621 - Use namespaces in the wrapper code and generally clean up the internal interfaces between the wrappers. r=jst 
Bug 535079 - Get the XPCNativeWrapper class without compiling and running JS code. r=jst sr=sicking 
Bug 532469 - Don't allow deleting arbitrary properties. r=jst 
Bug 532124 - Set aside the frame chain when wrapping for chrome so we don't get confused by any content code on the stack. r=jst 
Fix scope chain traversal with let blocks (bug 523793, r=dmandelin,mrbkap). 
Bug 535703 - JS_SealObject crash with deep=true. r=mrbkap. 
Bug 535641 - Move this declaration around.  r=jst 
Bug 535746 - Make sure that the parent is the right object.  r=jst  sr=sicking 
Bug 533596 - Implement XPCNativeWrapper.unwrap. r=peterv sr=jst 
Bug 529269 - Don't do anything special for toString, just forward it along. r=jst 
Bug 531364 - Change up the order of these calls. r=peterv sr=bzbarsky 
Bug 535685 - Make xpcwrappedjs deal with dipper parameter properly. r=peterv 
Bug 536562 - Don't crash on null. r=dbaron 
Bug 536512 - Ignore security wrappers when computing instanceof. r=brendan 
Don't read before the beginning of a string in Atob.  (Bug 494105)  r=mrbkap 
sr=mrbkap 
Bug 531364 - Add a function call here. r=peterv sr=bzbarsky 
Bug 492840 - ES5: Implement Object.create.  r=mrbkap 
Disassemble function upvars a bit (496921, r=mrbkap). 
Bug 528644: do not generate JSOP_GETUPVAR in a generator called from eval, r=mrbkap 
Fix for bug 428229 (Unable to override addEventListener), add security check to nsGlobalWindow::AddEventListener. r=mrbkap, sr=jst. 
Bug 539362 - Get rid of hidden function warnings. r=bzbarsky 
No bug. Add a wrapper test. rs=sicking 
Bug 540642 - Call CanLoadImage before preloading images too. r=bzbarsky sr=dbaron 
bug 515433: CSP Core patch by sstamm and bsterne, r=mrbkap, sr=jst 
b=533663; use js typed arrays in webgl; xpconnect portion; r=mrbkap 
b=533663; use js typed arrays in webgl; r=jmuizelaar,mrbkap,brendan 
Bug 530505: Rev IID on parser interfaces for Gecko 1.9.3 r=mrbkap 
Bug 541742 - Make XPCNativeWrapper.unwrap work. r=bzbarsky 
fix some warnings and add some xpconnect flair, r=mrbkap 
Bug 519843 - "JS shell on WinCE should run as if it NEVER has a tty, not as if it ALWAYS does" [r=mrbkap] 
Bug 537673 - Don't constant-fold a parenthesized callee expression. r=jorendoff 
No bug. Fix GCC warnings. rs=brendan 
Bustage fix -- We can't assert that constant folding worked. 
Bug 538440 - We never jit DOM workers. r=mrbkap. 
Bug 540528: don't reset scopeChain JSStackFrame when leaving trace if it was already set by interpreter, r=mrbkap 
Bug 540243: don't use JSOP_GETUPVAR if def-use chain crosses a generator lexical scope, r=mrbkap 
Bug 541239: don't use upvar for variables in eval if they cross a generator, r=mrbkap 
Bug 543696: Remove unused nsIScriptSecurityManager::CheckConnect. r/sr=mrbkap 
Bug 295506 - Variable tabulator width instead of fixed width of 4 spaces. r=mrbkap 
Bug 543558 - Make sure we're in a request when calling JS_SaveFrameChain/JS_RestoreFrameChain. r=mrbkap 
Bug 514081 - Don't overload the parent slot in SJOWs. r=jst 
Bug 544544 - Make sure DataContainerEvent's classinfo interfaces are complete. r=smaug 
In the JS shell, evalcx() sandboxes should have JSCLASS_GLOBAL_FLAGS. This permits the JIT to run. No bug, r=mrbkap on IRC. 
Bug 542091 - remove JS_PushArguments[VA] (r=mrbkap,dveditz) 
Bug 521456 - Propagate the callness of eval while decompiling, so that a NewExpression containing an eval() is properly parenthesized.  r=mrbkap 
Bug 545275 - Remove JS_HAS_FILE_OBJECT support as it's rather broken (and unlikely to be fixed soon) and the presented API isn't very good.  r=mrbkap 
Bug 542797 - change obj_eval from JSNative to JSFastNative (r=mrbkap) 
Bug 546668 - obj_eval should still call js_GetScriptedCaller (r=mrbkap) 
No bug. Make this constructor protected instead of private so that subclasses can access it. r=luke 
js_TryMethod suppresses 'too much recursion' exception, going in circles indefinitely (bug 547086, r=mrbkap). 
calculating 'this' fails if the object has no parent (547483, r=mrbkap). 
Test whether obj IsCallable instead of VALUE_IS_FUNCTION for call and apply (547046, r=mrbkap). 
Fix bogus assertion (537854, r=mrbkap). 
Bug 546103, Remove remnant MOZ_PERF_METRICS from parser/, r=mrbkap 
Fix bug 541530. r=jst sr=brendan 
Fix build bustage from bug 541530. 
Fix bug 541530. r=jst sr=brendan 
bug 515443 CSP no-eval support. r=mrbkap,brendan 
Bug 534136 Part 2: Use 16bit-char buffers inside atoms. r=bz sr=mrbkap 
Bug 549452: Clean up nsGlobalWindow::SetNewDocument. r=mrbkap sr=jst 
Bug 549539: Send a notification after a new window is created, but before any script inside it has run. r=mrbkap sr=bz 
Bug 536137 - SJOWs don't enumerate properties named 'next'. r=jst 
Bug 533600 - Write a function to figure out what type of wrapper to create. r=jst, peterv, bz 
Bug 524994 - Flatten out wrapper hierarchy. r=jst 
Bug 542428 - Make wrappers aware of each other. r=jst 
Bug 550356 - Enumeration over COWs should work. r=jst 
Fix bug 552090. r=sicking sr=jst 
Try to fix bustage. r=sicking 
Bug 550275 - 'Implement the HTML5 structured clone algorithm'. r=jst+mrbkap, sr=jst. 
Bug 552516 - Don't create a temporary context for the new sandbox object. r=igor 
Bug 553448 - nsScriptSecurityManager::ContentSecurityPolicyPermitsJSAction should return JS_TRUE when no subjectPrincipal exists. r=mrbkap sr=dveditz 
Bug 546573 - EnsureInnerWindow from wrappers. r=jst sr=bzbarsky 
Bug 545291 - Don't lookup non-quickstubbed properties. r=jorendorff 
Bug 522430 - Assert that this bad case doesn't happen. r=jst 
Bug 371694 - Protect ourselves against null values. r=dveditz 
Backed out changeset 07e47cdf85ad. We hit it on tinderbox. 
Merge backout of changeset 07e47cdf85ad 
Fix guard object used as temporary.  (Bug 555099)  r=mrbkap 
Bug 542864 - Convert the right variable to an id. r=jorendorff 
Bug 549617 - JS_EvaluateUCInStackFrame doesn't see variables in flat closure (r=mrbkap). 
Fix CallPropertyOp to cope with non-int arguments id (549951, r=mrbkap). 
Fix latent bug, exposed by fix for 549617, where JS_EvaluateUCInStackFrame looks like eval and confuses the compiler into writing into the empty script singleton-const (550045, r=mrbkap). 
Bug 555109 - Reparent wrappers harder. r=jst, sr=peterv. 
Bug 393119: Followup bustage fix for mingw. r=mrbkap 
bug 551680 - replacing JS_(Suspend|Resume)Request with JSAutoSuspendRequest. r=mrbkap 
Bug 480850 - Add JSAPI function JS_New. r=mrbkap. 
Fix warnings. rs=jorendorff 
Bug 526793 - Add gczeal() function to xpcshell. r=mrbkap 
Report proper typeof for XPCNativeWrapper(obj) and XPCNativeWrapper(fun) (553407, r=mrbkap). 
Bug 542858 - Don't pretend that the complex global object is a function. r=jorendorff 
Bug 515496 - Eliminate extra security check when computing this. r=jorendorff. 
Fix for bug 554432 (Allow non-scriptable types for QS arguments). r=mrbkap. 
Fix for bug 519614 (Having to QI javascript scriptable helpers to nsIXPCScriptable is silly). r=mrbkap. 
Bug 554833 - Define 'document' on XPCNativeWrapped windows properly. r=jst 
Bug 386635 - Automatically wrap sandboxes in security wrappers to make them easier to use safely. r=jst 
Bug 386635 - Compatibility hacks to make evalInSandbox continue to work for GreaseMonkey. r=jst 
Bug 527102 - Try to prevent timeouts by splitting this test up. r=sicking 
Fix bug 554448. r=jst sr=sicking 
Bug 557346 - Try harder to fill report->ucmessage in when reporting errors. 
Bug 558182 - 'Workers: Don't assume we always get a JSErrorReport in DOMWorkerErrorReporter'. r=mrbkap. 
Bug 533882 - Don't call into CAPs when we don't have to. r=jst sr=bzbarsky 
Bug 557728 - Split constructors into called-from-script and called-from-api. r=vlad sr=jst 
Fixing bug 534666. Limit the length of a string in a text fragment. r=jonas@sicking.cc, sr=mrbkap@gmail.com 
Named native functions lacking JSFUN_BOUND_METHOD entrain the global of the object in which they are bound, not the binding object itself, via parent (557969, r=mrbkap). 
Bug 559006 - Wrong behavior with JSClass::convert hook and JIT. r=mrbkap. 
Bug 559962 - Refactor XPCWrappedNative::CallMethod. r=mrbkap 
Bug 346485. Implement HTML5 <output> element. r=smaug,hsivonen,mrbkap,sr=jst 
Fix sharpSlots vs. with grudge-match (561011, r=mrbkap). 
Backed out changeset 1af19eedbde2 -- Fix sharpSlots vs. with grudge-match (561011, r=mrbkap). 
Bug 560126 - funobj is uselessly set in WrapFunction, r=mrbkap 
Bug 497846 - Change the expectation of 311366-unknown-block-3.html fail if the HTML5 parser isn't enabled. r=mrbkap. 
Bug 559231 - Don't assert if there's no code running. r=jst 
Fix bug 554449. r=jst sr=peterv 
Bug 346485 - "Implement output element" [r=smaug,hsivonen,mrbkap,timeless,roc sr=jst] 
bug 532730 - Give a warning here since we're about to terminate the script without any warning. r=jst sr=sicking 
Fix bug 532730. r=jst sr=sicking 
Bug 559476 - Do a fast copy of dense primitive arrays when making a structured clone. r=mrbkap+jst. 
Fix for bug 558979 ("ASSERTION: What kind of object is this" with appendChild, setting __proto__). r=mrbkap. 
Bug 560095 - Use mozilla::services::GetObserverService(). r=biesi,dveditz,gavin,josh,jst,mrbkap,roc,sdwilsh,shaver,sicking,smontagu,surkov 
Bug 531303 - Instantiating a JS component from a background thread crashes (JS_ASSERT), r=mrbkap 
Use same source note offset bias/origin for both of SRC_IF_ELSE's offsets (562028, r=mrbkap). 
Use same source note offset bias/origin for both of SRC_IF_ELSE's offsets, but note second offset is optional (0 if absent; 562028, r=mrbkap). 
Resolve sharpSlots vs. var-in-with grudge match (561011, r=mrbkap). 
Bug 562193 - Implement Components.utils.getGlobalForObject(obj), as a supported alternative to parent-chain-walking.  r=mrbkap 
Bug 558540 - about:sessionrestore asserts because of the wrong wrapper types. r=jst 
Bug 563826 - Don't accidentally hold on to windows accessed via numeric properties. r=jst 
Bug 560351 - Don't forget to actually throw the exception. r=peterv 
Bug 552560 - Remove support for __parent__.  r=mrbkap 
Bug 552560 - Test fixups/removals since parent() exists only in the shell, not the browser.  r=mrbkap 
Fix bug 563243. r=jorendorff 
Bug 504947 - Some Virus Scans report Trojan horse in 485217.xsl rs=mrbkap 
Bug 546573 - EnsureInnerWindow from wrappers. r=jst sr=bzbarsky 
Bug 564076: Small parser cleanup changes. (r=mrbkap) 
Bug 513065 - Part 1, avoid thisObject when unwrapping With objects. r=mrbkap. 
Bug 513065 - Part 2, avoid thisObject in obj_getProto (left over from __parent__). r=mrbkap. 
Bug 513065 - Part 3, compute scope in the engine before calling the thisObject hook. r=mrbkap. 
add missing parens in expression for clarity (no bug, r=mrbkap) 
Bug 564954 - Call the class hook even if not NEW_ENUMERATE. r=gal 
Bug 565521 - Don't call the getter on the prototype object, call it on the original object instead. r=gal 
Bug 565521 - Add a test. r=sayrer 
Implement ES Harmony Proxies (bug 546590, r=mrbkap). 
Fix hard-case destructurinv vs. for(var ...=... in ...) bug (558633, r=mrbkap). 
Avoid calling nsXPConnect::GetWrapperFor in the common case of wrapping a global object in its own scope. r=jst 
Don't push call contexts when we don't have to. r=jst 
Avoid calling XPCWrappedNative::GetWrappedNativeOfJSObject when we know we already have a wrapped native's JSObject. r=jst 
Fix bustage. 
Bug 513065 - Part 3, Stay on trace when calculating scope in thisObject hook. r=mrbkap. 
Fix JSD to use JSCLASS_GLOBAL_FLAGS (bug 561923 part 1.5, r=mrbkap). 
Add a GC mark hook to C++ proxy handlers (567055, r=mrbkap). 
Bug 566773 - Don't force indirect eval to have a callobj. r=brendan 
Bug 564980.  Use JSString::length directly instead of JS_GetStringLength in some places in xpconnect.  r=mrbkap 
Bug 566846 - Make sure the engine knows that wrapper iterators are real iterators. r=gal 
Bug 545314 - Force an inner window here so that we return a working location object. r=peterv 
Bug 517636 - Assigning through wrappers defeats the "fast expando" optimization. r=jst 
Fix bustage. 
Bug 563491: Don't run code to set window status while we're inside a script blocker. r=mrbkap 
Stringify property names when invoking scripted proxy handlers (568051, r=mrbkap). 
Bug 568379, part 1 - Remove hasStringArgs weirdness from XPCNativeWrapper constructor. r=mrbkap. 
Bug 568379, part 2 - Remove support for "shallow" XPCNativeWrappers, thus eliminate FLAG_DEEP. r=mrbkap. 
Bug 533592, part 1 - Remove uses of and support for xpcnativewrappers=no/yes in manifests. (The default has been yes for some time and we will now only have that behavior.) r=mrbkap. 
Bug 533592, part 2 - Get rid of BYPASS code in XPCNativeWrappers. r=mrbkap. 
Don't re-run resolve hooks after a standard class was delete (569306, r=mrbkap). 
Fix bug 567069. r=jorendorff/luke 
Bug 564330 - Throw an exception for real when an E4X object is passed to a variant through a quickstub. r=peterv 
Bug 565351 - Disallow passing E4X values through SJOWs. r=jst 
Bug 562008 - HTML5 section DOM elements should be of type HTMLElement; r=mrbkap,sicking,timeless,ehsan sr=jst 
Bug 572149 - Deal with an abort when about to *start* executing an imacro. r=gal 
Bug 534398 - Implement Heads Up Display console, js workspaces and related tools (r=dietrich, r=mrbkap) 
Bug 562008 - HTML5 section DOM elements should be of type HTMLElement; r=mrbkap,sicking,timeless,ehsan sr=jst 
Bug 534398 - Implement Heads Up Display console, js workspaces and related tools (r=dietrich, r=mrbkap) 
Bug 534398 - Implement Heads Up Display console, js workspaces and related tools (r=dietrich, r=mrbkap) 
Fix bug 572130. r=jst 
Bug 553448 - nsScriptSecurityManager::ContentSecurityPolicyPermitsJSAction should return JS_TRUE when no subjectPrincipal exists. r=mrbkap sr=dveditz 
Bug 480850 - Add JSAPI function JS_New (identical to tracemonkey/rev/869bebcf1f21). r=mrbkap. 
Bug 516522 - CPOW: Cross-Process (JavaScript) Object Wrapper. r=mrbkap r=bent sr=jst 
Bug 540126 - CPOW: Let PObjectWrapper actors use ContentProcessParent::RequestRunToCompletion(). r=mrbkap sr=jst 
Bug 541003 - CPOW: Support throwing arbitrary exceptions from content to chrome. r=mrbkap
CPOW-specific exceptions (bug 541003). r=mrbkap 
Back out this line of unwanted changesets. 
Delete one unwanted head on the default branch. 
Back out another line of unwanted changesets. 
Bring electrolysis down to one head on the default branch. 
r=mrbkap 
Bug 576351 - Make this assertion not fire if the caller has UniversalXPConnect. r=jorendorff 
Bug 578150: Protect against the docshell loosing its document before we've had time to notify on it. r=mrbkap 
Bug 567048 - Cache same-origin XOWs in the wrapped native's object. r=jst 
Bug 566651 - Actually store the result in vp. r=jorendorff 
Bug 567451 - Inline some functions that have no business appearing in profiles. r=jst 
Bug 553597 - Add a mochitest. r=bzbarsky 
Eagerly calculate 'this' for 'with' objects (570655, r=brendan/mrbkap). 
bug 571661 - removal of unused xpconnect-specific auto request classes. r=mrbkap 
bug 572411 - removal of JSObjectOps::checkAccess. r=mrbkap 
Bug 572149 - Deal with an abort when about to *start* executing an imacro. r=gal 
Remove incorrect return. rs=lumpy 
Bug 565230 - Don't try to resolve standard classes if an XPCNativeWrapper is resolving through us. r=gal 
Backed out changeset 5e948055cc43 
Merge backout of 5e948055cc43. 
Slow arrays don't need custom objectops (571810, r=mrbkap). 
Bug 561279 - Don't assume there is only one stack frame in global code. r=jorendorff 
Add test. 
Bug 564208 - Don't run getters while enumerating. r=jst 
Bug 569022 - XPCNativeWrapper is a proper MakeSOW candidate. r=jst 
Bug 572233 - Don't accidentally wrap an object on the prototype chain. r=jst 
Backed out changeset 6346e45d7034. 
Merge backout of changeset 6346e45d7034 
Implement runtime-wide wrap hook (574299, r=mrbkap). 
Implement new content wrappers (574502, r=mrbkap). 
Bug 570622 - TM: eagerly call thisObject hook and cache result in global objects. r=mrbkap. 
Fix horrible bug in EvalInContext when the result is an object. rs=mrbkap. 
Fix warnings (no bug, r=mrbkap). 
Implement new chrome wrappers (574539, r=mrbkap). 
Bug 574990 - cx->globalObject needs to be innerized before it can be used. r=gal 
Bug 574517 - Separate the inner and outer windows' JS classes. r=jst 
Bug 575431 - Re-marry nsGlobalWindow to JS (instead of being language-agnostic). r=jst 
Restore lost null check. 
Add another missing null check. 
More bustage fixing. 
Bug 568886 -  Instead of severing the stack in SJOW, function.caller should refuse to return an object from a different compartment. r=gal, r=mrbkap. 
Bug 568885 - Put Cu.Sandbox globals in a separate compartment from non-sandbox objects in the same domain. r=gal, sr=mrbkap. 
When reifying an iterator into a new compartment, close the original iterator (575486, r=mrbkap). 
Implement remaining cross compartment wrappers (574924, r=mrbkap). 
Bug 576148: Factor out js::UpvarCookie. (r=mrbkap, dvander) 
Implement remaining cross compartment wrappers (574924, r=mrbkap). 
Compartments can get GCed while we allocate the first object inside of them (576722, r=mrbkap). 
Bug 578392 - Don't assume things about comparing non-nsISupports pointers. r=bsmedberg 
Fix bustage from bug 578392 (r=sayrer on the bustage fix). 
Bug 577684 - Jetpack should push the JS context on to the XPConnect stack when running message receivers, r=mrbkap 
Bug 577472 - Quickstub string handling shouldn't addref/release the string buffer, r=mrbkap 
Fixing at least part of bug 572190. Make JS stack size a factor of size_t so that roughly as much fits on the stack whether we're on a 32 or 64 bit system. r=mrbkap@gmail.com 
Bug 580819 - Don't try to "replace" the transient about:blank content viewer when loading about:blank immediately after it. r=smaug 
Bug 579782 - Deal with a null context when closing the window. r=jst 
Fix bug 576616. r=jst 
Fixing bustage. 
Backed out changeset 50ea31d46c0e. The newly added assertion is asserting. 
Finish merging backout of changeset 50ea31d46c0e 
Bug 580819 - Don't try to "replace" the transient about:blank content viewer when loading about:blank immediately after it. r=smaug 
Bug 575795 - Clean up the nsIScriptContext interface to the global object to be able to split the work that nsIScriptContext::InitContext does out. r=jst 
Bug 579140 - Address review comments in xdr and xpconnect (r=igor,mrbkap) 
bug 552266 -  Allow for only one JSContext to be in a request on a given thread. r=mrbkap 
Bug 579275 - Don't treat null as a primitive this value. r=luke 
Bug 579616 - Fix leak when a cloned node has an XBL binding attached to it: clean up the cycle when the ownerdoc goes away and we will no longer be able to traverse the cycle. r=sicking 
Bug 563106 - Tie XPConnect to compartments. r=jorendorff/gal/jst 
Bug 580411 - AutoCompartment and JS_Enter/LeaveCrossCompartmentCall should support the trivial case of not changing compartments. r=mrbkap. 
Bug 573841  - Assertion of non-null-terminated string on returning a ctypes array.readString(). r=mrbkap, a=sayrer 
bug 580458 - trigger operation callback once per thread, not once per cx. r=gal,mrbkap 
bug 552266 - - asserting that autorooters are used only under a request. r=mrbkap 
Bug 581574 - Remove JSVAL_IS_UNDERLYING_TYPE_OF_PRIVATE (r=mrbkap) 
Bug 531675 - Ignore the second argument of eval, except to warn once per JSScript (per function, or per global script for uses not in functions) that it's not supported.  (Again.)  r=mrbkap 
Bug 570858 - 'ChromeWorker doesn't exist from browser.xul/overlay js'. r=mrbkap. 
Bug 582100 - Only enumerate exposed properties. r=gal 
Bug 583262 - Remove security checks on f.prototype.constructor property at last. r=mrbkap. 
Bug 583850 - Assert that certain security checks in the JS engine never fail. r=mrbkap. 
Backed out changeset c6131ed87e9c. Jason Orendorff — Bug 583262 - Remove security checks on f.prototype.constructor property at last. r=mrbkap. Causing nightly topcrash. 
Backed out changeset c6131ed87e9c. Jason Orendorff — Bug 583262 - Remove security checks on f.prototype.constructor property at last. r=mrbkap. Causing nightly topcrash. 
Bug 584551 - Do things that require entering a request on the old compartment before entering a request on the new one. r=igor a=blocking-beta3 
Bug 584551 - Do things that require entering a request on the old compartment before entering a request on the new one. r=igor a=blocking-beta3 
bug 583155 - reduce log noise from jsreftest in the browser, r=mrbkap,jorendorff. 
Bug 574975 - Split inner/outer scriptable helpers, make the outer window not global. r=jst. 
Bug 546573 - EnsureInnerWindow from wrappers. r=jst sr=bzbarsky 
Bug 584260 - Delay creating the outer window JS object until the last possible second. r=jst 
Bug 584551 - Do things that require entering a request on the old compartment before entering a request on the new one. r=igor 
Bug 584261 - Initialize the tab element before attaching the browser. r=gavin 
Bug 583200 - Don't assert things about SHEntries if session history is disabled. 
Fix bug 584180. 
Fix bug 584512. 
Bug 579183 - loosen-up StackSegment invariants - part 2 - xpconnect (r=mrbkap) 
Bug 580544 - Don't bother trying to use the global object as a constructor. r=jorendorff 
Bug 577750 - Make computing global this a little simpler. r=jorendorff 
Bug 585228 - The inner window doesn't need a NewEnumerate hook. r=jst 
Bug 585228 - Make the outer window not have an outerObject hook and the inner window not have an innerObject hook. r=jst 
Bug 585228 - Move forwarding code out of the inner window's resolve hook and don't give it an addProperty hook since it doesn't need it. r=jst 
Bug 585209 - Add a few mochitests about location objects. r=jst 
Bug 585224 - Move the location object to the inner window (though still parenting the JS object to the outer). r=jst 
Bug 585501: innerize window before using it as a scope chain in NPN_Evaluate, r=mrbkap 
Fix bustage from bug 577750 
Bug 585209 followup -- don't use top incorrectly. 
Bug 587182 -  Implicit native wrapper in content code assertion fix. r=gal 
Bug 586083 - Make the outer window not be a global object. r=jst 
Bug 514077 - Get rid of MirrorWrappedNativeParent to simplify the parent chains of XPCNativeWrappers. r=jorendorff 
Bug 514077 - Make XPCNativeWrappers' parent chains follow their wrapped native's chains when they change. r=jorendorff 
Bug 586152 - The outer window is not a true global object, but it represents one; therefore, we need to innerize before checking for its global-ness. r=jorendorff 
Bug 586157 - Deal with setting __proto__ on outer windows. r=jst 
Bug 533635 - Don't automatically wrap iframe elements in XOWs. Rely on XPConnect wrapping for the right security wrappers. r=peterv 
Backout 33addcc556b8 to c8bb41305006 (at the request of mrbkap) 
Bug 585232 - let jsvals flow both ways through XPConnect (r=mrbkap) 
Bug 586083 - Make the outer window not be a global object. r=jst 
Bug 514077 - Get rid of MirrorWrappedNativeParent to simplify the parent chains of XPCNativeWrappers. r=jorendorff 
Bug 514077 - Make XPCNativeWrappers' parent chains follow their wrapped native's chains when they change. r=jorendorff 
Bug 586152 - The outer window is not a true global object, but it represents one; therefore, we need to innerize before checking for its global-ness. r=jorendorff 
Bug 586157 - Deal with setting __proto__ on outer windows. r=jst 
Bug 533635 - Don't automatically wrap iframe elements in XOWs. Rely on XPConnect wrapping for the right security wrappers. r=peterv 
Bug 589015 - js_watch_set doesn't need that crazy dummy frame (r=mrbkap) 
Bug 588929, don't throw when getting/setting visibility of *bars, r=jst, sr=mrbkap, a=blocking 
Bug 589340 - factor out / weaken dummy frames (r=mrbkap) 
Fix for bug 582649 (Too-much-recursion crash with setUserData [@ * | XPCConvert::JSArray2Native]). r=mrbkap, a=bsmedberg. 
Bug 590812: Fix XML pretty printing. r=mrbkap a=blocker 
Bug 589340, part 2 - pick up straggler in JSCrossCompartmentWrapper (r=mrbkap) 
Bug 590319 - TM: Global Object created in JetpackChild needs its own compartment r=mrbkap 
Bug 590325 - TM: Global Object created in CentralizedAdminPrefManagerInit needs its own compartment r=mrbkap 
Bug 590326 - TM: Global Object created in TestXPC needs its own compartment r=mrbkap 
Bug 590346 - TM: Global Object created in GlobalForLocation needs its own compartment r=mrbkap 
Bug 555840 - Implement datalist element. r=sicking,mrbkap,ehsan sr=smaug a2.0=roc 
Bug 590333 - TM: Global Object created in xpcthreadcontext needs its own compartment r=mrbkap 
Bug 581263 - remove slow natives (r=waldo,mrbkap) 
No bug - Don't assert in js_DumpObject on non-native objects. rs=brendan 
Bug 592741 - TM: set right compartment in nsXPCWrappedJSClass::CallQueryInterfaceOnJSObject r=mrbkap 
Bug 592869 - TM: set right compartment in XPCNativeMember::Resolve r=mrbkap 
Bug 592871 - TM: compartment for Global Object created in nsXULPDGlobalObject::EnsureScriptEnvironment r=mrbkap 
Bug 592930 - TM: set right compartment for mozJSComponentLoader::ModuleEntry::Clear r=mrbkap 
Disable mochitest bug484107. (r=mrbkap, b=596134) 
Bug 587931: Implement document.currentScript and beforescriptexecute/afterscriptexecute events. r=mrbkap a=sicking 
Bug 580033 - JS_Save/RestoreFrameChain should update cx->compartment. r=gal,mrbkap. 
Bug 571289 - Don't use nsScriptSecurityManager off the main thread. r=mrbkap, a2.0=blocking 
Bug 587931: Don't fire error if a <script> is canceled. r=mrbkap a=jst 
Bug 583232 followup -- actually add the functions to jsapi.h. r=gal 
Bug 597104 - Innerize cx->globalObject before using it. r=gal 
Bug 597109 - Deal with PropertyStub as being equivalent to NULL to mean "no getter" or "no setter". r=gal 
Bug 597114 - Actually pass the new value when calling setters and set argc correctly. r=gal 
Bug 597116 - We need to set vp for non-SHARED properties, even if they have a native getter. r=gal 
Bug 597118 - Give proxy handler the ability to have an innerObject hook. r=gal 
Fix warning. No bug. rs=jorendorff 
Bug 580033 - JS_Save/RestoreFrameChain should update cx->compartment. r=mrbkap. 
Bug 595668 - create XPCCallContext in XPC_NW_Construct (r=mrbkap) 
Bug 595668 - create XPCCallContext in XPC_NW_Construct (r=mrbkap) 
No bug. Fix some nits and warning fixes. 
Always create a dummy stack frame when crossing compartment boundaries (bug 600015, r=mrbkap). 
Make functions per compartment, and deep copy instead of clone them if needed (584789, r=mrbkap). 
Make functions per compartment, and deep copy instead of clone them if needed (584789, r=mrbkap). 
Bug 600402 - don't copy strings that are in the same compartment already r=mrbkap 
Fix hiding warnings. r=peterv 
Bug 580128 - Give objects a way to inform XPConnect that they implement their own JS object in a way that does not involve wrapped natives. r=peterv 
bug 580128 - Give API consumers a way to perform "brain transplants" on an object. r=gal 
Bug 580128 - Make the system principal consistent over the strings it gives out. r=peterv 
bug 580128 - Don't assume that we have a wrapped native object here. r=gal 
bug 580128 - Create a proxy for the outer window and use it. Note: this turns on new wrappers for all objects. r=peterv 
bug 580128 - Now that we use a proxy for the outer window, nsOuterWindowSH is unused (except for PreCreate). Nuke it. r=peterv 
bug 580128 - Fix code that expects XPConnect to hand outer windows to C++ from JS. r=peterv 
bug 580128 - The rewrap hook needs to know what parent to use when creating wrappers. r=gal 
bug 580128 - Make AccessCheck work (fixing bad calls/missing assumptions). r=gal/peterv 
bug 580128 - Temporary fixes to XrayWrapper - note: these were mostly overridden by later patches. r=gal 
Bug 580128 - Fix a leak caused by holding a non-cycle collectable object instead of a cycle-collectable one. r=peterv 
Bug 580128 - Preliminary fixes to make .wrappedJSObject on XrayWrappers work. Overridden by later patches. r=gal 
bug 580128 - Give windows a .wrappedJSObject property to help out old consumers of XPCNativeWrappers. r=peterv 
bug 580128 - Make the Window constructor be defined on new windows. r=peterv 
bug 580128 - Allow calling functions cross origin. r=gal 
bug 580128 - Prepare objects for wrapping. r=peterv 
bug 580128 - Fix a bug in early XrayWrappers that allowed Holders to get in here. r=gal 
bug 580128 - Make evalInSandbox work with the new wrappers. r=peterv 
bug 580128 - Chrome sandboxes cause this assertion to box: use plain cross compartment wrappers when we see them. r=jst 
bug 580128 - Propagate whether we're getting or setting to getPropertyDescriptor. r=gal 
bug 603152 - Inner windows principals must remain constant. If we want to change them, change the inner window instead. r=bz 
bug 580128 - Don't allow fast getting of nsGlobalWindow's wrapper cache. r=peterv 
bug 580128 - Set nsGlobalChromeWindows' principals to chrome even before they know it. r=jst 
bug 580128 - Make compartment warnings real. r=jst 
bug 580128 - Make sure nsDOMClassInfo uses the right compartment for objects that it defines on wrappers (both security and not). r=jst 
bug 580128 - .wrappedJSObject returns a wrapper that pushes principals. r=gal 
bug 580128 - Rewrite XrayWrapper so the wrapped object is in the wrapped object slot and the holder goes in an extra slot. r=gal 
bug 580128 - Make xpcconvert trust cx->compartment when called from JS. r=peterv 
Bug 580128 - Fix compartment warnings by entering. r=gal/peterv/jst/mrbkap/jorendorff (and written by all of us too). 
bug 580128 - Pass the XrayWrapper itself to scriptable helpers (and related cleanup) since the holder doesn't have enough smarts to do lookups, etc. r=gal 
bug 580128 - Pass the right resolve flags to ResolveNativeHandler. r=peterv/jst 
bug 580128 - Avoid using the parent chain of proxies for anything because it's often wrong. r=jst 
Bug 580128 - Use compartments instead of global objects to see if we should use slim wrappers. r=peterv 
bug 580033 - Make JS_Save/RestoreFrameChain set cx->compartment. r=mrbkap 
bug 580128 - Make js_DumpStackFrame deal with dummy frames. r=jst 
bug 580128 - Wrap values in the array. r=jst 
bug 580128 - Fix bugs dealing with transplanting when navigating. r=gal 
bug 580128 - Outerize in JS instead of in the rewrap hook so the identity in the wrapper map stays constant. r=gal 
bug 580128 - Forward to outer in AreDialogsBlocked. r=mrbkap 
Fix dom/tests/mochitest/general/file_frameElementWrapping.html to deal with proxies. r=mrbkap 
bug 580128 - Loosen our policy on what you're to see on cross-origin errors. r=jst 
bug 580128 - Deal with null principals (for e.g. dom worker compartments). r=mrbkap 
bug 580128 - Make the component loader work for content scripts with UniversalXPConnect. r=mrbkap 
Bug 580128 - Always wrap Location objects in wrappers, even for same origin. r=mrbkap/gal 
bug 580128 - Stop returning the old wrappers from their constructors. r=jst 
bug 580128 - Enter the right compartment when calling toString. r=jst 
bug 580128 - Allow unwrapping XrayWrappers via XPCNativeWrapper.unwrap. r=jst 
bug 580128 - Find the true caller through the wrappers. r=jst 
bug 580128 - Give XrayWrappers a flag they can query for. r=mrbkap 
bug 580128 - Use the shiny new API for finding XrayWrappers. r=jst 
bug 580128 - Implement XrayWrapper::toString. r=jst 
bug 580128 - Allow API consumers to pass in a new object altogether before trying to wrap in a security wrapper. r=gal/peterv 
bug 580128 - Clean up our passing from JS-into-C++ story. r=peterv/mrbkap 
bug 580128 - Add a test about double wrapped native objects in security wrappers. r=jst 
bug 580128 - Fix more compartment warnings. Work of multiple people. r=gal/peterv/jst 
Bug 580128 - Small cleanups in XrayWrapper and first stab at enumeration. r=mrbkap 
Make functions per compartment, and deep copy instead of clone them if needed (584789, r=mrbkap). 
Bug 580128. Fix various mochi chrome tests to work with the new wrappers. r=mrbkap@gmail.com 
bug 580128 - Attempt to make the XPCNativeWrapper constructor create XrayWrappers. r=jst 
bug 580128 - Bad attempt to make .wrappedJSObject on raw windows only apply to chrome. Fixed later r=nobody I hope! 
Bug 580128. Call JS_ClearScope on the holder object for XrayWrappers around windows when navigating. r=mrbkap 
Bug 580128. Add more asserts to the interpreter to check that we're on the right compartment. r=mrbkap@gmail.com 
bug 580128 - Try to make test_wrappers-2.xul work a little better. 
bug 580128 - Deal better with compartments around the xray holder object. r=gal 
bug 580128 - Make the XPCNativeWrapper constructor work to actually construct XrayWrappers. r=jst 
Bug 580128. Use JS_WrapObject() in xpcJSWeakReference::Get() since it's the right API to use here. r=mrbkap@gmail.com 
bug 580128 - Allow access when both sites have set document.domain. r=mrbkap 
bug 580128 - Allow proxies to answer the "hasInstance" question. r=mrbkap 
bug 580128 - Fix compartment mistakes around document.domain stuff. r=mrbkap 
Bug 580128. Update mochi tests to the new wrappers. r=mrbkap@gmail.com 
bug 580128 - Don't think the outer window isn't "native". r=mrbkap 
bug 580128 - Remove vestiges of old wrappers from nsDOMClassInfo. r=mrbkap 
bug 580128 - Fix evalInSandbox returning objects in the wrong compartment. r=jst 
Bug 580128. Remove usage of old wrapper type which isn't needed any more. r=mrbkap@gmail.com 
bug 580128 - Remove old wrappers. r=mrbkap 
Mainly just fix ExposedPropertiesOnly::check to ignore non-enumerable properties and return true when no property is found. r=mrbkap 
bug 580128 - Remove test that uses an obsolete wrapper. r=mrbkap 
bug 580128 - Fix getting doubled wrapped objects in XPConnect. r=mrbkap 
bug 580128 - Use scopes when we have them to wrap into the right scopes. r=peterv 
bug 580128 - Only expose same-compartment window.wrappedJSObject to chrome callers. r=jst 
bug 580128 - Distinguish between XOW XrayWrappers and XPCNW XrayWrappers and use the new knowledge in a few places. r=gal 
bug 580128 - Make document.domain affect how we look up properties in addition to the security check. r=gal 
bug 580128 - Attempt to fix file:// URIs all ending up in the same compartment. r=peterv 
bug 580128 - Move test that tests for existence of XrayWrapper's into chrome, and fix lookupMethod bug that was triggered by the test move. r=mrbkap 
bug 580128 - The window is named Window, not WindowProxy. r=gal 
bug 580128 - Remove test that no longer works right. r=mrbkap 
bug 580128 - Make e4x anyname etc be per compartment, not in the default compartment. r=mrbkap 
bug 580128 - Fix evalInSandbox. r=mrbkap 
Bug 580128. Disable test that is not ready for the new wrappers yet. r=mrbkap@gmail.com 
Bug 580128. Properly switch compartments and wrap values when running xpcshell tests. r=mrbkap@gmail.com 
bug 580128 - Fix compartment bugs in XrayWrapper. r=mrbkap 
Bug 580128 - Fix NativeWrapper(window).document. r=mrbkap 
bug 580128 - Initialize vp before calling property op in JSProxyHandler::get. r=mrbkap 
bug 580128 - Fix js_PrintObjectSlotName. r=mrbkap 
Bug 580128. Remove XrayUtils::JSSLOT_PROXY_OBJ to fix leaks. r=mrbkap. 
bug 580128 - Revert bogus change to which scope we use in nsXPCWrappedJSClass::CallMethod. r=jst Many thanks to Margaret and sdwilsh who helped track this one down. 
Bug 580128. Remove unnecessary .wrappedJSObject gets that don't work with the new wrappers. r=jst@mozilla.com 
bug 580128 - Define Error constructor in the sealed global for CTypes. r=jst/mrbkap/gal 
bug 580128 - Don't create multiple wrappers for global objects (like BackstagePass). r=mrbkap 
bug 580128 - Don't create slim wrappers when crossing compartments. r=mrbkap 
bug 580128 - Cross origin wrapper needs no waive xray flag. r=mrbkap 
bug 580128 - Reparent proxies when we pull them out of the map in order to try to keep their parents sembling something current. r=jst 
bug 580128 - Outerize inner windows. r=jst 
Bug 580128. Disable reftests that don't play well with brain transplants yet. r=mrbkap@gmail.com 
bug 580128 - Fix test_printpreview.xul. r=mrbkap 
bug 580128 - Implement deep wrapping for .wrappedJSObject. r=mrbkap 
Bug 580128. Remove .wrappedJSObject gets that don't work with the new wrappers. r=mrbkap@gmail.com 
Bug 580128. Disable tests that don't play well with brain transplants yet. r=mrbkap@gmail.com 
bug 580128 - Create SOWs same and cross compartment. r=jst 
bug 580128 - By default properties created by property assignment are enumerable. r=gal 
bug 580128 - split expando properties onto a separate object and implement enumeration. r=mrbkap 
bug 580128 - Allow chrome://global/ scripts to unwrap SOWs going into C++. r=peterv/jst 
Bug 580128. Remove cross origin string wrappers from hash when the wrapped string dies. r=mrbkap.
As a note: this bug took peterv and mrbkap 7 hours to track down using replay debugging after spending hours trying to even catch it on a replay debugging box. 
Bug 580128 - Deal with the outer object hook failing a little more gracefully. r=jst 
Bug 603533 - We need to hold a strong reference when forwarding to the outer window. r=jst 
Fix anyname_finalize to look in the right compartment, to avoid dangling pointer. Likely fix for bug 603270. r=mrbkap over IRC. 
Fix for bug 603677 (Crash on startup due to GetProto on an XPCWrappedNative being null with Bugzilla Tweaks jetpack installed), compartments followup. r=mrbkap. 
Fix for bug 603531 ("ASSERTION: bad outer object hook" and crash [@ js::gc::Cell::compartment]), compartments followup. r=mrbkap. 
Bug 603816 - Don't assume that target->data is non-null. r=peterv 
Revert unintended changes. 
Bug 604108 - Grab the right compartment to check if we're finalizing the functionNamespaceObject. r=peterv 
Bug 603845 - Protect ourselves against compartments that have null principals. r=gal 
Fix use of uninitialized variable, bug 584917 followup. r=mrbkap 
Bug 604087 - Deal with GC happening during JS_TransplantWrappers. r=jst/gal 
Bug 604087 - Minor tweaks to JS_TransplantWrapper and JSAutoEnterCompartment. r=mrbkap 
Add a test for bug 604087. r=gal 
Merge mozilla-central into tracemonkey 
Bug 580128. Disable a few more browser-chrome tests that don't agree with compartments yet. r=mrbkap@gmail.com. CLOSED TREE 
Bug 603535 - nsIEventListenerService.getEventTargetChainFor failure on TM nightly, r=mrbkap, a=blocking 
Don't try to waive Xray wrapper for primitives (604361, r=mrbkap). 
Bug 604363 - Don't create Xray wrappers for chrome objects in sandboxes. r=peterv a=blocking beta7 
Fix bustage. a=orange 
Fix more orange. a=orange 
Bug 604368 - Successfully get principals off of sandboxes too. r=peterv a=blocking beta7 
Bug 604368 - Protect against the this translator returning a this object from another domain. r=peterv, a=blocking 
Fix for bug 604362 (Don't rewrap XPCWrappedNatives that don't have classinfo). r=mrbkap, a=blocking 
Fix bug 593602. r=gal, a=blocking 
Bug 604368 - Share some code so that bug fixes fix both parts. r=peterv a=blocking beta7 
Bug 580128. Disable a few more browser-chrome tests that don't agree with compartments yet. r=mrbkap@gmail.com. CLOSED TREE 
Don't try to waive Xray wrapper for primitives (604361, r=mrbkap). 
Bug 604363 - Don't create Xray wrappers for chrome objects in sandboxes. r=peterv 
Fix bustage. a=orange 
Fix more orange. a=orange 
Bug 604368 - Successfully get principals off of sandboxes too. r=peterv 
Bug 604368 - Protect against the this translator returning a this object from another domain. r=peterv 
Fix bug 593602. r=gal 
Bug 604797 - Wrap values in nsJSCID::CreateInstance. r=peterv 
Bug 604476 - Do a full property resolve when enumerating. r=gal 
Fix for bug 604362 (Don't rewrap XPCWrappedNatives that don't have classinfo). r=mrbkap. 
Bug 604368 - Share some code so that bug fixes fix both parts. r=peterv a=blocking beta7 
Fix for bug 604957 (Change sandbox constructor to take one optional argument instead of two). r=mrbkap, a=blocking. 
Bug 604826 - Make constructors on Xray wrappers work properly again. r=peterv 
Bug 604365 - Don't accidentally share JSSLOT_PROXY_EXTRA with functions. r=peterv 
Fix bug 605167. r=peterv 
Followup fix for bug 605167. a=blocking beta 7 
Bug 604493 - Composition Window broken on trunk builds due to tracemonkey landing. r=mrbkap, a=beltzner 
Bug 604826 - Make constructors on Xray wrappers work properly again. r=peterv 
Bug 604365 - Don't accidentally share JSSLOT_PROXY_EXTRA with functions. r=peterv 
Fix bug 605167. r=peterv 
Followup fix for bug 605167 
Fix for bug 604957 (Change sandbox constructor to take one optional argument instead of two). r=mrbkap, a=blocking. 
Bug 605492 part 1.  Add an nsIScriptError2 interface that exposes an outer window id, and set the window id for script errors coming through the DOM JS error reporter.  r=mrbkap 
Bug 605492 part 2.  Add a way to get an outer window object given its window id via windowutils.  r=mrbkap 
Bug 605492 part 1.  Add an nsIScriptError2 interface that exposes an outer window id, and set the window id for script errors coming through the DOM JS error reporter.  r=mrbkap 
Bug 605492 part 2.  Add a way to get an outer window object given its window id via windowutils.  r=mrbkap, a=blocker 
Bug 606371 - Use scopeChain and AccessCheck to determine if a script is chrome [r=mrbkap a=blocking-fennec] 
Bug 606357 - Make jsd values not compartment mismatch. r=gal 
Bug 606106 - Avoid tripping an assertion under CC. r=gal 
Bug 605696 - Refuse to create location objects without an outer window. r=jst 
Bug 604449 - Protect against an outer window that has already been closed. r=jst 
Bug 604341 - Ensure that we're in the right compartment when we create plugin objects' wrapper JS objects. r=jst a=blocking beta 7 
Bug 604430 - Make the wantXrays flag apply to values obtained off of the sandbox object itself. r=peterv 
Remove obsolete wrappedObject extended class hook (604523, r=mrbkap/vlad/dvander). 
Remove obsolete wrappedObject extended class hook (604523, r=mrbkap/vlad/dvander). 
Bug 603858 - Don't assume we always have a stack frame. r=jwalden 
Bug 599672 - Give the regexp statics a parent. r=cdleary 
Remove obsolete wrappedObject extended class hook (604523, r=mrbkap/vlad/dvander). 
Don't wrap StopIteration singleton, just translate it to the current global's StopIteration object and freeze StopIteration at birth (606573, r=mrbkap). 
Bug 606357 - Make jsd values not compartment mismatch. r=gal 
Bug 606106 - Avoid tripping an assertion under CC. r=gal 
Bug 605696 - Refuse to create location objects without an outer window. r=jst 
Bug 604449 - Protect against an outer window that has already been closed. r=jst 
Bug 604341 - Ensure that we're in the right compartment when we create plugin objects' wrapper JS objects. r=jst a=blocking beta 7 
Bug 604430 - Make the wantXrays flag apply to values obtained off of the sandbox object itself. r=peterv 
Fix for bug 607284 (getOwnPropertyDescriptor on a proxy misbehaves). r=mrbkap. 
Bug 606875 - Object.prototype.toString no longer works for arrays created in sandboxes or windows from a different principal. r=mrbkap, a=blocker 
Bug 606585 - Make the compartment map use principals properly. r=peterv/bz, a=beta7+ 
Bug 607174 - Add assertions to jsdbgapi.cpp and enter compartments where it isn't possible for the caller to do so. landing with r=gal, a=beta7+ 
Bug 601829 - Protect ourselves against a null sandbox. r=jst 
Bug 607174 - Add assertions to jsdbgapi.cpp and enter compartments where it isn't possible for the caller to do so. landing with r=gal 
Revert accidental change. 
Bug 601299: Find RegExpStatics in cx->globalObject if necessary. (r=mrbkap) 
Bug 607724: Minor scope chain function cleanup. (r=mrbkap) 
Bug 606585 - Make the compartment map use principals properly. r=peterv/bz 
Bug 607799 - Make typeof wrapper(regexp) be function. 
Bug 596031 - 'this' is wrong in getters and setters when a proxy object is on the prototype chain. r=brendan 
Backed out changeset f76fd418024c. This was never meant to be checked in. 
Merge backout. 
Backed out changeset fcd3fcf8a35c. It broke deep wrapping. 
Merge backout. 
Bug 607767 - Don't let XPConnect objetcs pretend to have an inner object hook, since that confuses us. r=peterv, a=beta7+ 
Bug 596031 - 'this' is wrong in getters and setters when a proxy object is on the prototype chain. r=brendan/jorendorff/gal 
bug 607767 - Fix rewrapping native objects across compartment boundaries. r=jst 
Bug 602223 - Use the global object instead of the parent so we're sure to have a non-null parent. r=gal a=blocking beta7 
Fix bustage from bug 602223. a=bustage 
Fix more bustage. a=bustage 
Fix more bustage. a=bustage 
A last attempt at fixing orange. a=orange 
Bug 608963 - Deal with an Xray wrapper being delegated to on the proto chain. r=gal a=blocking beta7 
Bug 609141 - Compartments mismatch in jsdScript::GetFunctionSource. r=sayrer 
Bug 609496 - Get rid of compartment-obsoleted code. r=jst a=blocking betaN 
Bug 609794 - Make sure we successfully delete the InstallTrigger getter from the window. r=mossop 
Bug 610078 - Return the value when we found it on a proxy. r=brendan a=blocking betaN 
Add a test for bug 541530. a=tests 
Bug 609139 - Propagate interfaces more eagerly. r=jst a=blocking beta8 
Fix bustage from bug 609794. a=bustage 
Bug 605760 - Deal with null a subject principal here. r=jst 
Bug 571849 - Fix enumerateOwn and the Iterate constructor on Xray wrappers. r=gal a=blocking 
Bug 610714: Add nsIDOMGlobalPropertyInitializer, which allows "JavaScript Global Properties" to know about the window they're being attached to, r=mrbkap, a=blocking 
Bug 611166 - Use window's context for tracking modal state. r=mrbkap, a=me 
Bug 609626 - Investigate max native stack limit differences, r=mrbkap, a=blocking 
Fixing bug 585787. Compare compartments instead of global objects in quickstubs when deteremining whether we need to wrap the return value or not. r=mrbkap@gmail.com, a=bzbarsky 
Bug 609066 - nsIJetpack.registerReceiver doesn't recognize functions wrapped in a proxy, throws NS_ERROR_ILLEGAL_VALUE. Don't use JS_ObjectIsFunction, instead use JS_TypeOfValue to determine whether we have a legal receiver. r?mrbkap 
Bug 596031 - 'this' is wrong in getters and setters when a proxy object is on the prototype chain. r=brendan/jorendorff/gal 
Switch compartments when walking stacks (bug 608800, r=mrbkap). 
Bug 609141 - Compartments mismatch in jsdScript::GetFunctionSource. r=sayrer 
Bug 608959 - Don't call non-scripted getters with a proxy as its |this|, because that would require most non-scripted getters to unwrap and maybe do some prototype-chain walking.  r=mrbkap 
Lazy resolution of standard classes changes the shape of Object.prototype (610697, r=mrbkap). 
Bug 592992 - hoist outerizing from js::Invoke to js::ExternalInvoke (r=mrbkap) 
Bug 605760 - Deal with null a subject principal here. r=jst 
Bug 571849 - Fix enumerateOwn and the Iterate constructor on Xray wrappers. r=gal 
Lots of MISMATCH_EXITS exits due to protohazardshape on voxel rendering demo (550391, r=mrbkap). 
Bug 583262 - Function.prototype.constructor should use stub getter/setter.  r=mrbkap, patch independently conceived by jorendorff and me in different bugs :-) 
Bug 601536 - get rid of intermittent "runTest is not defined" errors by moving the iframe down below the script that its onload calls into, r=mrbkap, a=test 
Bug 612237 extra ";" after JS_DECL_USE_GUARD_OBJECT_NOTIFIER r=mrbkap a=benjamin 
Bug 612836 - Second verse, same as the first (see also bug 602223): Use the global object instead of the parent so we're sure to have a non-null parent. r=gal, a=blocker 
Bug 606709. Ensure that a traced inner window's outer window gets traced too, so that the inner doesn't outlive its outer window. r=mrbkap@gmail.com, a=blocker 
bug 601803 - Support adopting a node cross-compartment. r=gal/jst, a=blocker 
r=mrbkap, a=benjamin 
bug 601803 - Support adopting a node cross-compartment. r=gal/jst 
Fix bug 612835. r=gal 
Bug 611401 - Avoid potential problems by doing this wrapping ourselves. r=gal 
Bug 610941 - Don't resolve prototypes for things that aren't windows. r=jst 
Attempt to fix Windows bustage. 
Backout due to bustage 
Merge backout 
bug 601803 - Support adopting a node cross-compartment. r=gal/jst 
Preserve identity for deep wrapping (bug 610390, r=mrbkap, a=b8). 
Bug 614757 - Properly deep wrap via call/construct. r=gal 
Bug 617093 - Kill the dead XOW cache. r=jst 
Bug 610941 - Don't resolve prototypes for things that aren't windows. r=jst 
Bug 616786 - warning: kXPCVARIANT_CID defined but not used. r=mrbkap a=gavin 
Bug 612150 - Eliminating JS_GetFunctionName. r=mrbkap 
Bug 614578 - Removal of nsAutoGCRoot. r=mrbkap 
Dump JS stack and information about the object for the assertion about using XPConnect on a scope with no Components in scope.  (Bug 510489)  r=mrbkap  a2.0=DEBUG-only 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 1; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 2; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 3; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
Bug 606498 - Make sure the new nsIScriptError2 is used in all possible places- part 4; r=bzbarsky,dbaron,mrbkap sr=jst a=blocking2.0 
b=586938; missing VIEWPORT property on WebGL context; r=mrbkap,a=b 
Bug 616397.  Make |new Image| work again in Greasemonkey scripts.  r=mrbkap, a=blocker 
Bug 594699 - Null check this to return to pre-bug 532730 behavior in pathological cases. r=jst a=blocking-betaN 
Bug 612267 - window.__proto__ doesn't correspond to Window.prototype. r=jst a=blocking-betaN 
Bug 616989 - Allow loading a subscript through security wrappers. r=jst a=blocking-betaN 
Bug 611401 - Avoid potential problems by doing this wrapping ourselves. r=gal a=blocking-betaN 
Bug 549459.  Don't show information about the object principal in the error string.  r=mrbkap a=blocker 
Bug 616412: Fix use-before-init bug. r=mrbkap a=a 
Bug 612267 - window.__proto__ doesn't correspond to Window.prototype. r=jst 
Fix bug 606645. r=gal 
Bug 616989 - Allow loading a subscript through security wrappers. r=jst 
Bug 617836 - Don't create a JS object since we will (by definition) have no work to do on it if it's newly created. r=jst 
Bug 609440, part 3 - remove fallible public APIs, update mozilla (r=bent,jst,mrbkap,waldo,sdwilsh) 
Bug 612624 - Fix a missing OmitPrivateMemory in dtoa. r=mrbkap 
Bug 618871 - Try again to fix accessing content constructors from chrome through Xray wrappers. r=jst@mozilla.com, a=blocker 
Bug 616992 - Give nsDOMConstructors a precreate hook so that we don't accidentally create more than one wrapper object for them. r=jst@mozilla.com, gal@uci.edu, a=blocker 
Bug 624540 - Assertion failure: compartment mismatch in cycle collector during xpcom-shutdown. r=gal, a=blocking2.0+ 
Bug 612025 - Windows can be xray-wrapped too. r=gal@uci.edu, a=blocker 
Fix bug 617879. r=jst@mozilla.com, a=blocker 
Fix bug 614151. r=jst@mozilla.com, a=blocker 
Maintain identity and proto of .wrappedJSObject wrappers (bug 620486, r=mrbkap). 
Bug 616841, part 1: Refactor use of JSLocaleCallbacks to make them easier to share among various JSContexts. r=bz sr=mrbkap 
Fix DumpJSStack on dummy frames to not try to treat arbitrary memory as the |this| value. r=gal NPOTB 
Bug 623117 - JetPack class Handle depends on invalid unqualified lookup into dependent bases of class templates; r=mrbkap a=bsmedberg 
Unwrap before applying waiver wrapper (bug 626290, r=mrbkap). 
Distinguish between wrappers and proxies in WN::Unwrap (bug 623614, r=mrbkap). 
Bug 623810. First part, fix moving wrappers from one scope to another. r=mrbkap@gmail.com, a=blocker 
Global Object created in CentralizedAdminPrefManagerInit needs its own compartment (bug 590325, r=mrbkap). 
Bug 625251 - nsJSEnvironment should enter the compartment before converting arguments to jsvals (r=mrbkap) 
Bug 613515 - JS properties set from chrome are lost. r=mrbkap@gmail.com, a=blocker 
Cache eval CSP check (bug 614137, r=mrbkap, a=dmandelin). 
Catch chrome eval escaping into content (bug 625559, r=gal). 
r=mrbkap 
Bug 627302 - Don't violate COM rules by forgetting to check the return value. r+a=jst 
Bug 611485 - Don't enter the foreign compartment when calling through Xray wrappers. r=gal 
Fix bustage from bug 611485. r=gal 
Fix bug 628231. r=jst@mozilla.com, a=blocker 
Fix bug 628231. r=jst, a=blocker 
Silenty return undefined instead of throwing when content tries to access non-exposed chrome properties (bug 594999, r=mrbkap). 
Tests for bug 594999 (r=mrbkap). 
Fix bug 691359. r=jst@mozilla.com, a=blocker 
Bug 621764 - tab-modal prompt in Gmail eventually triggers slow-script dialog for nsPrompter.js. r=mrbkap, sr=jst, a=blocker 
Bug 577913 mark DEBUG only variables as ifdef DEBUG in xpconnect; r=mrbkap a=jst 
try: -b do -p linux,win32 -u all 
Bug 630716 - Use a better method of comparing URIs for determining whether two compartments are same origin. r=bzbarsky, r=gal, a=blocker 
Bug 577918 - mark DEBUG only variables as ifdef DEBUG in parser r=mrbkap a=jst 
Bug 611652: clear values instead of scope when global window is cleared, r=brendan,enn,jeff,mrbkap,smaug 
Bug 631490. Fix compartment mismatch when dealing with certain types of global properties. r=mrbkap@gmail.com, a=blocker 
Bug 615834 - get rid of annoying build warning. r+a=merge error 
Backed out changeset e706761cecfd due to mochitest orange. 
Finish backing out bug 631225 
Bug 627954, part 2: ensure nsXPCConvert::VariantData2JS et al are in the correct compartment (r=mrbkap) 
Fixing bug 623810. r=jst@mozilla.org, gal@uci.edu, a=blocker. 
Bug 630072. Fix issue with wrappers holding objects from old scopes alive. r=mrbkap@gmail.com, a=blocker 
Bug 633879 - Stop wrappers from holding old scopes alive. r=mrbkap@gmail.com,jst@mozilla.com, a=blocker 
Bug 633520 - Un-break scope of XPCCallContext in WrapperFactory::PrepareForWrapping (r=mrbkap) 
Bug 633879 - Stop wrappers from holding old scopes alive. r=mrbkap@gmail.com,jst@mozilla.com, a=blocker 
Xray wrappers don't cache resolved native properties on the holder object (bug 633382, r=mrbkap, a=blocker). 
Don't crash when reaching a non-wrapper along the proto chain of a wrapper (bug 634236, r=mrbkap). 
Bug 634055 - Check argc here. r=gal 
Xray wrappers don't cache resolved native properties on the holder object (bug 633382, r=mrbkap/jst, a=blocker). 
Fix GC/CC scheduling (bug 630932, patch by gal/smaug, r=mrbkap). a=blocker 
Bug 629227 - ObjectIsNativeWrapper lies for document.domain. a=blocker 
Xray wrappers don't cache resolved native properties on the holder object (bug 633382, r=mrbkap/jst, a=blocker). 
Fix GC/CC scheduling (bug 630932, patch by gal/smaug, r=mrbkap). 
Bug 631135 - Objects created by or on behalf of fast natives and property ops (getters or setters) are parented to the wrong proto and global.  r=lw,jst,mrbkap,bz, a=jst 
Followup fix for bug 631135 to use the right method to compute calling scope when calling evalInSandbox.  r=mrbkap, a=reported-extension-bustage 
Bug 631135 - Objects created by or on behalf of fast natives and property ops (getters or setters) are parented to the wrong proto and global.  r=lw,jst,mrbkap,bz, a=jst 
Followup fix for bug 631135 to use the right method to compute calling scope when calling evalInSandbox.  r=mrbkap 
Fixing bug 623810. r=jst@mozilla.org, gal@uci.edu, a=blocker. CLOSED TREE 
Fix bug 636097 (r=gal, a=blocker). 
Bug 633133 - Resolve ids and names in HTMLSelectElement. part 2/2. r=jst, a=blocker 
Fix bug 636097 (r=gal, a=blocker). 
Bug 634594 - Ensure XPCCallContext string cache is aligned (r=mrbkap,a=pavlov) 
Bug 636811 - Use JSSCRIPT_NO_SCRIPT_RVAL in js component loader, r=mrbkap 
r=mrbkap 
r=mrbkap 
r=mrbkap 
Bug 634594 - Ensure XPCCallContext string cache is aligned (r=mrbkap) 
Bug 639737 - JS_THIS_OBJECT can fail and we need to catch when it does. r=jst 
Bug 638026 - Make sure we hold onto the right JS object here. r=jst 
Bug 639501 - Setters can cause the handler to change. r=gal 
Fix some stuff brendan pointed out. 
Bug 606388 - Re-enable browser_popupUI.js. It is trying to use == to compare an Xray wrapper with a SJOW. r=jst 
Bug 640375: Fix CTypes marking code compartment assertion. (r=mrbkap) 
Bug 587103.  Properly scope external calls in templated functions to fix compilation with some compilers.  r=mrbkap 
Bug 621000.  Implement GetNativeStackBaseImpl for AIX.  r=mrbkap 
Bug 621004.  Make jsval_layout look nicer on AIX.  r=mrbkap 
Bug 621021.  Silence some compiler warnings on AIX.  r=mrbkap 
Bug 621026.  Define JS_64BIT for some more compilers.  r=mrbkap 
Bug 621027.  Fix AIX compiler warnings due to not explicitly saying what kind of inheritance we're doing. r=mrbkap 
Bug 621043 - AIX: avmplus.h fails in xlC due to GCC-isms only on #ifdef __powerpc__.  r=mrbkap. 
Bug 396512 - Provide a way to get disassembly output.  Original patch by crowder, back in the day, when everything was more hardcore.  r=mrbkap 
Fix for bug 637116 (Leak documents+windows with replaceState, focus, event handler closure). r=mrbkap. 
Bug 642026 - Enumerate standard classes. r=jst 
Bug 642022 - Deal with the return value being in a different compartment. r=gal 
Fix bug 643450. r=peterv 
Bug 641378 - Don't try to treat an nsXPCWrappedJS as the interface we asked for. r=peterv 
Bug 641342 - Treat chrome DOM objects like DOM objects. r=gal/jst 
Follow-up from bug 625760: define remoteXUL strings after netErrorApp.dtd include. rs=mrbkap 
Backed out changeset 652bd0eed005 (bug 641342). It's causing orange. 
Finish backing out changeset 652bd0eed005 
Bug 644753: Turn ILLEGAL_RANGE NS_ASSERTIONs to warnings. (r=mrbkap) 
Bug 641048 - adding proper constructor/destrictor to JSTHread/ThreadData 641048. r=luke r=mrbkap 
Bug 647337 - rm script filename prefix and flag stuff (r=mrbkap) 
Bug 628669: Provide support for relative URLs in Components utils import (JSM, JS modules) r=bsmedberg r=mrbkap
Bug 648465 - TabChild::ProvideWindow needs to tell the caller that the window is new; r=smaug 
Bug 648465 - TabChild::ProvideWindow needs to tell the caller that the window is new; r=smaug 
Fix for bug 649872  (Remove XPCONNECT_STANDALONE). r=mrbkap. 
Bug 621031 - Fix jsstr.cpp #pragma pack for AIX. r=mrbkap 
Bug 651980 - 'Intermittent dom/src/threads/test/test_chromeWorkerJSM.xul | Test timed out'. r=mrbkap. 
Bug 648206 - Deal with JS engine annoyances. r=gal 
Bug 618176 - Skip multiple wrappers when deciding whether this object is an array. r=gal 
Bug 602994 - Clean up eval, remove unneeded security checks, assert equivalence of principal lookup (r=waldo,mrbkap) 
Bug 650617 - Fix AssertInnerizedScopeChain typo from 602994 (r=mrbkap) 
bug 649502: Expose histograms to JS r=mrbkap 
Bug 502644.  Correctly append UTF8 data to an nsAString when linkifying things in view-source; don't use AppendWithConversion.  r=mrbkap 
Bug 653631 - Fix faulty inlining of js_GetScriptedCaller (r=mrbkap) 
Bug 653309 - Don't break compartment rules. Hold the XPCWrappedNative pointer directly in the holder. r=gal 
Bug 651298 - Remove this assertion because document.domain makes it false. r=luke 
Bug 645160 - jsdIStackFrame is incorrectly truncated at indirect eval calls. r=mrbkap. 
Bug 656171 - Use object principals finder in PrincipalsForCompiledCode, for now (r=mrbkap) 
Make the xpcshell have a findObjectPrincipals function to clean up after Luke's orange. No bug. r=luke 
Bug 641342 - Treat chrome DOM objects like DOM objects. r=gal/jst 
Fixing bustage from bug 641342. 
Bug 656171 - Use object principals finder in PrincipalsForCompiledCode, this time with hacks to fix xpcshell hacks (r=mrbkap) 
Bug 657709: Cleanup histogram API r=mrbkap 
Bug 560112 - Implement HTML5 dataset attribute. r=sicking,mrbkap 
Bug 650273 - Force a frame here. r=luke 
Bug 656460 - Skip dummy frames when getting function.caller. r=luke 
Bug 538143 [@ XPCJSStackFrame::CreateStack] should not use recursion. r=mrbkap 
Bug 654370 - Initialize bp to false to avoid reading random memory. r=gal 
Fix compilation warning on Linux. 
Bug 655921 - Check for Function being forbidden before creating the function private which would ordinarily be returned.  Also create that function private with an explicitly specified parent, that being the Function function's global object.  r=mrbkap 
Fix bug 657267. r=bz 

Fix bug 657267. r=bz Bug 643393 - Speed up nsJSContext::GetGlobalObject. r=peterv 
Attempting to fix bustage. r=bustage fix 
Disable this test on Maemo for now. 
Fix merge mistake. 
[Bug 658351] xpcconvert.cpp should have extra assertions before blindly converting a PRBool into a JSVal r=mrbkap 
Bug 657292 - Don't create Xray wrappers in debugger compartments. r=gal 
Disable this test on Android as well since it's broken in Electrolysis. r=vingtetun 
Bug 644325 - Enter the listener's compartment sooner, and use the correct scope for wrapping to avoid compartment mismatches. r=mrbkap 
Bug 658351 - Add extra assertions to jsval.h to check for malformed JSBools r=mrbkap 
Bug 660771 parser should use mozilla::Preferences r=roc+mrbkap 
Bug 645532 - Make content process xpcshell print newlines. r=mrbkap 
bug 658560 - Don't call WaiveXray on an object that's already in the right compartment as that will leak the WaiveXrayWrapperWrapper to the calling JS code. r=gal 
Disable this test on Android as well since it's broken in Electrolysis. r=vingtetun 
Bug 657292 - Don't create Xray wrappers in debugger compartments. r=gal 
bug 658510 - eliminating JSCOMPARTMENT_NEW and associated compartment initialization race. r=mrbkap 
Bug 659462 - remove no-op JS_ClearNewbornRoots and uses in xpconnect (r=mrbkap) 
Bug 656171 - Just remove this mutual subsumption assertion; with document.domain it's not strictly true (r=mrbkap) 
Bug 655098 - Root the jsid stored in NPObjectMemberPrivate.methodName, r=cdleary,mrbkap 
Bug 656462, part 4 - Simplify stack code, keep track of native calls, create new iterator over native/scripted callstack, make JS_SaveFrameChain fallible (r=waldo,mrbkap) 
Bug 662114 - Don't use DummyFrameGuard directly to avoid Windows DLL-linkage warnings. r=luke 
Bug 662086: Convert recently-added comment in jsval.h to be C-style, to fix build warning. r=mrbkap DONTBUILD 
Bug 655089 - change CC_KIND macro to a function to avoid double call; r=mrbkap 
Bug 662000 part 1: Remove interfaces and tests. r=mrbkap 
Bug 662000 part 2: Remove XPC_IDISPATCH_SUPPORT from the build-system and XPConnect. r=mrbkap 
Bug 660771 part.2 remove unnecessary code r=mrbkap 
Bug 481603: Add a way to unload JS modules loaded with Components.utils.import. r=mrbkap 
Bug 658069 - Rename GlobalObject::isEvalAllowed to indicate its actual meaning better.  r=mrbkap 
Bug 656519 - Avoid a malloc (and a finalizer) by storing the malloc'd array in our slots instead of in a separate malloc'd structure in our private field. r=mrbkap 
Bug 656519 - Do a small size optimization for arraybuffer objects, possibly avoiding a second malloc entirely for small array buffers. r=mrbkap 
Bug 656519 - Add an interpreter fast-path for getting length from a typed array. r=mrbkap 
Bug 656519 - Fix consumers outside SpiderMonkey to use new ArrayBuffer APIs. r=mrbkap 
Make sure non-SpiderMonkey users don't require knowledge about JSObject when using ArrayBuffers. r=mrbkap 
Backed out changeset 8b3dc129aed8. Missing bug number in the commit (bug 664577). 
Bug 664577 - Make sure non-SpiderMonkey users don't require knowledge about JSObject when using ArrayBuffers. r=mrbkap 
Bug 662000 part 1: Remove interfaces and tests. r=mrbkap 
Bug 662000 part 2: Remove XPC_IDISPATCH_SUPPORT from the build-system and XPConnect. r=mrbkap 
Bug 664821 - Use WrapNative correctly and wrap objects array to avoid compartment errors. r=mrbkap 
Bug 664821 - Use WrapNative correctly and wrap objects array to avoid compartment errors. r=mrbkap 
Bug 660517 - Kill XML objects as prototypes.  r=mrbkap 
Bug 661927 - Add Cu.schedulePreciseGC to allow for a GC to run with no JS code running. r=mrbkap 
Bug 661927 - Add Cu.schedulePreciseGC to allow for a GC to run with no JS code running. r=mrbkap 
Bug 634156 - Come up with a way of creating an API in content that exposes real content objects without using a sandbox. r/sr=jst/mossop/gal 
Bug 660797 - Don't accidentally lift the prototype property onto the element itself. r=jorendorff 
Fix bustage from bug 634156. 
Bug 646574 - dis() is broken when the function being disassembled has upvars.  r=mrbkap 
Bug 664689 - Deal with wrappers-around-wrappers here. r=gal 
Bug 667630 - Don't treat the payload of a jsval as a pointer and make sure we unroot the value. r=luke 
Bug 665914 - ArrayBuffer.prototype['byteLength'] crashes. r=mrbkap 
Bug 665355 - Fix __proto__ recursion. r=mrbkap 
Bug 665355 - Make delegate object and ArrayBuffer share same prototype. r=mrbkap 
Bug 666599 - Fix ArrayBuffer::obj_lookupProperty. r=mrbkap 
Bug 647653: Add a constructor for DOM File objects in the component scope. r=mrbkap 
Bug 667915 - Don't let content JS consume all the stack and cause chrome JS to OOM (r=waldo,mrbkap) 
Bug 669721 - Annotate xpc::CompartmentPrivate for trace-refcnt. r=mrbkap 
Bug 657418 - Test for NULL principals in EvalCacheLookup (r=mrbkap,a=asa) 
Bug 649537 - 'Workers: Make one OS thread and JS runtime per worker, and lose XPConnect'. r=sicking+mrbkap. 
Bug 671046 - unwrap function objects if needed before JS_GetFunctionId for NS_FUNCTION_TIMER (r=mrbkap) 
Bug 671080 - Assert on unexpected cross-compartment pointers in opt builds (r=mrbkap) 
Fix bug 653926. r=jst 
Backed out changeset 1e6392dd7c14 due to build bustage. 
Merge backout. 
Bug 649537 - 'Workers: Make one OS thread and JS runtime per worker, and lose XPConnect'. r=sicking+mrbkap.
Workers: Make one OS thread and JS runtime per worker, and lose XPConnect'. r=sicking+mrbkap. Add extra directory to prevent tests from timing out 
Bug 649537 - 'Workers: Make one OS thread and JS runtime per worker, and lose XPConnect'. r=sicking+mrbkap. 
Bug 649537 - 'Workers: Make one OS thread and JS runtime per worker, and lose XPConnect'. r=sicking+mrbkap. Add workaround for bug 666963. 
Bug 672026 - Ensure that there is an object principals finder during early startup (r=mrbkap) 
Bug 672283 - eval cache should hit if both 'principals' and 'script->principals' are null (r=mrbkap) 
Fix bug 653926. r=jst 
Bug 672026 - JSObject::principals should return the compartment's principals if there is no object-principals-finder (r=mrbkap) 
Bug 649537 - 'Workers: Make one OS thread and JS runtime per worker, and lose XPConnect'. r=sicking+mrbkap.
Bug 649537 - 'Workers: Make one OS thread and JS runtime per worker, and lose XPConnect'. r=sicking+mrbkap. Add workaround for bug 666963. 
Bug 673503 - Make sure the prototype here is in the right compartment. r=wmccloskey 
Bug 672687 - Add more asserts for cross-compartment pointers in proxies (r=mrbkap) 
Bug 673094 - Because " and > are weak LTR characters, we need to be more forceful in our attempts to have view-source be LTR. r=ehsan 
Fix bug 674182. r=jst 
Bug 669228 - Don't use the dummy global as a real global. r=jorendorff 
Bug 674965: simplify .error selectors in viewsource.css r=mrbkap 
Bug 671453.  Fix use of [implicit_jscontext] with non-quickstubbed setters.  r=mrbkap 
Bug 667047 - Ensure proper __proto__ behaviour as a normal property after setting it to null once. r=mrbkap 
Bug 664249 - Inline TypedArray properties into slots. r=mrbkap 
Bug 664249 - API fixes for inlined TypedArray properties. r=mrbkap 
Bug 671630 - Add an atom for 'BYTES_PER_ELEMENT' in anticipation of its use in future changes.  r=mrbkap 
Bug 675068 - Remove unused XPCCallContext::GetSafeJSContext (r=mrbkap) 
Bug 675068 - change off-main-thread cycle collection not to use a (thread-local) safe JS context (r=mrbkap) 
Bug 675567 - Fix PRBool/JSBool mixups, r=mrbkap 
Bug 669217 - Remove nsISecurityCheckedComponent from videocontrols. r=mrbkap 
Bug 667047 - Ensure proper __proto__ behaviour as a normal property after setting it to null once. r=mrbkap 
Bug 664249 - Inline TypedArray properties into slots. r=mrbkap 
Bug 664249 - API fixes for inlined TypedArray properties. r=mrbkap 
Bug 671630 - Convert typed-array initialization code from being 'templatized' by a macro to being templatized by, well, a template.  r=mrbkap 
Bug 671630 - Make initializing the various typed arrays (but not ArrayBuffer) non-generic.  r=mrbkap 
Bug 671630 - Make initializing the ArrayBuffer class non-generic.  r=mrbkap 
Bug 674800 - Print address of XPTCStub with nsXPCWrappedJS. r=mrbkap 
Bug 676708 - Remove split global stuff from the shell.  r=mrbkap 
Bug 429070 - do not expose Components.interfaces and Components.interfaceByID to content; r=mrbkap 
Store base of data directly in typed arrays, bug 677743. r=mrbkap 
Bug 676937 - Make entering a compartment and pushing a dummy frame an atomic stack operation (r=mrbkap) 
[INFER] Fix colorized spew bug with ANSI reset codes. r=mrbkap 
(no bug) Use C-style instead of C++-style comment in jsopcode.h. rs=mrbkap 
Bug 677880 - Rename nsIScriptableInterfaces and nsIScriptableInterfacesByID. r=mrbkap 
Bug 677864 - Fixes components members class description. r=mrbkap 
Bug 679879 - Change JSFunction macros to methods. Part 1, remove the macro uses from caps. r=mrbkap. 
Bug 676937 - Make entering a compartment and pushing a dummy frame an atomic stack operation (r=mrbkap) 
Bug 677864: fixes components members class description; r=mrbkap 
Bug 679494 - Wrap value returned from nsDOMMessageEvent::GetData. r=mrbkap 
Bug 673331 - Add identifying information to system compartments.  r=mrbkap. 
Bug 681061 - Avoid compartment mismatch error when displaying a growl notification. r=mrbkap 
Bug 676937 - Make entering a compartment and pushing a dummy frame an atomic stack operation (r=mrbkap) 
Bug 676937 - Make entering a compartment and pushing a dummy frame an atomic stack operation (r=mrbkap) 
Bug 676934 - Limit number of stack frame objects created by XPCJSStackFrame::CreateStack (r=mrbkap) 
Fix bug 670319. r=jst 
Bug 679877 - Allow properties to be resolved on these objects. r=jst 
Bug 671148 - De-bogosify test_EvalInSandbox.xul's handling of iframes. r=peterv 
Bug 639720.  Get rid of the Window class setter so that SETNAME on the global is faster in the browser.  r=mrbkap 
Bug 639720.  Get rid of the Window class setter so that SETNAME on the global is faster in the browser.  r=mrbkap 
Bug 639720.  Get rid of the Window class setter so that SETNAME on the global is faster in the browser.  r=mrbkap 
Bug 684115 - Test what happens when chrome takes an XHR from one origin and sticks it in another origin. r=sicking 
Bug 684135 - Protect against calling this function during shutdown. r=bzbarsky 
Bug 682946 - Remove useless flags local. r=jst 
Bug 481282 - fix uninitialized variable warning in nsXPConnect::Traverse. r=mrbkap 
Bug 581474 - Possible uninitialized variable use in nsXPCWrappedJS::GetNewOrUsed; r=mrbkap 
Bug 684544.  Restore missing null-check for location setter.  r=mrbkap 
Bug 684544.  Restore missing null-check for location setter.  r=mrbkap 
Bug 685688 - Don't use standard-class-style storage for the Generator class: just store the generator [[Prototype]] in a one-off slot in the global object.  r=mrbkap 
Bug 679551 - 'Workers: Deadlock in WorkerPrivate::BlockAndCollectRuntimeStats if worker is blocked (LastPass extension)'. r=mrbkap. 
Bug 684447.  Eliminate the Equality hook on windows, and stub out their class equality hook.  r=mrbkap 
Bug 679551 - 'Workers: Deadlock in WorkerPrivate::BlockAndCollectRuntimeStats if worker is blocked (LastPass extension)'. r=mrbkap. 
Bug 684083 - Avoid null dereference when using Components.utils.getWeakReference(undefined). r=mrbkap 
Bug 683400 - SandboxDump should flush stderr after writing output. r=mrbkap 
Bug 660233.  Move nodePrincipal, baseURIObject, and documentURIObject from classinfo to XrayWrapper.  r=mrbkap 
Bug 679861 - Normalize jsvals before handing them to APIs. r=gal 
Bug 660233 part 1.  Fix tests that assume UniversalXPConnect in otherwise-untrusted pages will get one nodePrincipal, documentURIObject, baseURIObject properties.  r=mrbkap 
Bug 660233 part 2.  Move nodePrincipal, baseURIObject, and documentURIObject from classinfo to XrayWrapper and to DOM prototypes in chrome documents.  r=mrbkap 
Bug 683802 - Remove mAutoString micro-optimization. r=mrbkap 
Bug 683802 - Move the loop contents of ConvertIndependentParams into a separate method (without re-indentation). r=mrbkap 
Bug 683802 - Separate reindentation from previous patch for easier review. No other changes. r=mrbkap 
Bug 683802 - Factor dipper handling out into a helper method. r=mrbkap 
Bug 683802 - Always store jsvals directly within the val union (fixes bug 655878). r=mrbkap 
Bug 683802 - Define and restrict the semantics of PTR_IS_DATA. r=mrbkap 
Bug 683802 - Use an explicit indicator for direct vs indirect calling semantics. r=mrbkap 
Bug 683802 - Add jsval to the XPTCMiniVariant union for type safety. r=mrbkap 
Bug 683802 - Coalesce type-specific cleanup indicators. r=mrbkap 
Bug 683802 - Eliminate questionable support for [shared] parameters. r=mrbkap
Bug 683802 - Remove XPC_JSArgumentFormatter and friends. r=mrbkap
Bug 683802 - Force allocation for sized PWSTRINGs in XPCWrappedNative argument conversion. r=mrbkap
Bug 683802 - Pass useAllocator=false only for wrappedjs dipper params. Everything else can allocate. r=mrbkap
Bug 683802 - Remove mAutoString micro-optimization. r=mrbkap 
Bug 683802 - Move the loop contents of ConvertIndependentParams into a separate method (without re-indentation). r=mrbkap 
Bug 683802 - Separate reindentation from previous patch for easier review. No other changes. r=mrbkap 
Bug 683802 - Factor dipper handling out into a helper method. r=mrbkap 
Bug 683802 - Always store jsvals directly within the val union (fixes bug 655878). r=mrbkap 
Bug 683802 - Define and restrict the semantics of PTR_IS_DATA. r=mrbkap 
Bug 683802 - Use an explicit indicator for direct vs indirect calling semantics. r=mrbkap 
Bug 683802 - Add jsval to the XPTCMiniVariant union for type safety. r=mrbkap 
Bug 683802 - Coalesce type-specific cleanup indicators. r=mrbkap 
Bug 683802 - Eliminate questionable support for [shared] parameters. r=mrbkap
Bug 683802 - Remove XPC_JSArgumentFormatter and friends. r=mrbkap
Bug 683802 - Force allocation for sized PWSTRINGs in XPCWrappedNative argument conversion. r=mrbkap
Bug 683802 - Pass useAllocator=false only for wrappedjs dipper params. Everything else can allocate. r=mrbkap
Bug 581473: Fix uninitialized variable warnings in XPCConvert::JSData2Native. r=mrbkap 
Bug 684039: Don't use JSArenaPool in nsJSEnvironment. (r=mrbkap) 
Bug 683361, part 3 - add ProxyHandler::nativeCall (r=mrbkap) 
Bug 684039: Don't use JSArenaPool in nsJSEnvironment. (r=mrbkap) 
Bug 688416: Test for Bug 502959 relies on XHR event listener being an nsIDOMEventListener. r=mrbkap 
Bug 688776: test_doublewrappedcompartments.xul relies on XHR event listener being a wrapped JSObject. r=mrbkap 
Bug 688417: Test for Bug 505915 expects setting xhr.onreadystatechange to unwrap the object passed in. r=mrbkap 
Bug 684418 - Remove a couple uses of enablePrivilege in mochitest. r=jmaher 
Bug 657260 - Handle NULL return from JS_NewExternalString in XPCStringConvert::ReadableToJSVal. r=mrbkap 
Bug 648801 (new DOM list bindings) - Add a way to test whether a particular object is the function object for a particular JSNative. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Add js_GetCompartmentPrivate friend API. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Give proxies two extra slots, not just one. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Create a basic proxy-based nodelist implementation. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Make .length much faster by avoiding having to look it up every time. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Basic support for .item(). r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Don't relookup .item() every time. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Hook up the new code so we actually create the proxy wrappers. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Templatize the proxy handler. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Implement namedItem on HTMLCollections. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Cache prototypes and pick up function value from the proto slot instead of caching it locally. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Hook up new dom bindings to the CC. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - First stab at implementing an Xray wrapper that can wrap proxy DOM implementations. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Add holder to proxy Xray and make the new nodelist deal with string IDs. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Support expandos on the new proxy-based DOM bindings. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Hook up remaining NodeList/HTMLCollection implementations to new proxy-based DOM bindings. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Make HTMLCollection['string'] work. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Make new proxy-based DOM bindings use the correct scope. r=mrbkap. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Return named items in more places (get[Own]PropertyDescriptor/hasOwn). r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Set up prototypes and constructors. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Fix iteration. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Fix wrapping of parent. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Refactor namedItem a bit. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Don't include dombindings.cpp into dom_quickstubs.cpp. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Fix instanceof nsIDOMFoo. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Add a pref (dom.new_bindings) to enable/disable new bindings. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Stop using nsDOMClassInfo's jsids in new DOM bindings. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Support more properties than 'length'. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Fix GetNativeOfWrapper/GetJSObjectOfWrapper/xpc_OkToHandOutWrapper/quickstubs to deal with the new DOM bindings. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Optimize conversion to ints a bit. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Share obj_toString implementation. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Implement more of XrayProxy. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Rename xpc::dom to mozilla::dom::binding. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Renaming. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Move some code around. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Prepare for more DOM list implementations. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Support prototypes other than Object for the new proxy-based DOM binding. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Support setting of properties on new DOM bindings. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Generate new DOM bindings. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Generate setters on new DOM bindings. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Bring order of getters/setters in line with WebIDL. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Add new dom binding for nsHTMLOptionCollection. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Add comments. r=bz/jst/mrbkap. 
Bug 648801 (new DOM list bindings) - Turn on new DOM bindings. r=bz/jst/mrbkap. 
Bug 632064 - remove JS_GetScopeChain (r=mrbkap) 
Bug 690961. r=mrbkap 
Bug 690825 - Add a SecurityWrapper base between JS transparent wrappers and XPConnect security wrappers (r=mrbkap) 
Bug 679509 - Test that plugin conversion hooks properly convert to a primitive value.  r=mrbkap 
Fix for bug 693301 (Remove ConstructProxyObject) - switch outer window creation to nsWrapperCache::WrapObject. r=mrbkap. 
Bug 692722 - implement xpcshell -d for running in debug mode (r=mrbkap) 
Bug 688277, part 2 - Expose way to get weak map keys to JS for testing. r=mrbkap 
Bug 673188: Compile regexps lazily. (r=mrbkap) 
Bug 691411 - Move js/src/xpconnect to js/xpconnect and rename source files while we're at it. r=khuey, sr=mrbkap 
Bug 688012 - Remove trailing whitespace within XPConnect. r=mrbkap
Bug 688012 - Move all multi-line continuation backslashes to column 79 (where possible). r=mrbkap
Bug 688012 - Fix alignment of arguments and tests relative to parens. r=mrbkap
Bug 688012 - Add space between keyword and paren for: if, for, while, and switch. r=mrbkap
Bug 688012 - Move the open-brace for if, else, for, while, and switch to the same line as the keyword or condition. r=mrbkap
Bug 688012 - Hoist 'else' clauses to the line of the previous close-curly-brace. r=mrbkap
Bug 688012 - Manual fixup of multi-line c++ cast alignment. r=mrbkap 
Bug 688012 - Manual fixup of overzealous brace hoisting. r=mrbkap 
Fix for bug 694009 (crash mozilla::dom::binding::instanceIsProxy) - clear cache when wrapper is finalized. r=mrbkap. 
Bug 679509 - Make sure convert hooks in plugin code always return a primitive value.  r=mrbkap, r=luke, r=jst 
Bug 665279 - Resolve interface constants properly through Xray wrappers. r=peterv 
Fix for bug 669096 (Injecting function from chrome extends the lifetime of navigated-away inner window). r=mrbkap. 
Bug 680482, part 2 - change debug string for grey globals to help analysis scripts. r=mrbkap 
bug 695685 - Make JS module/component dump go to stdout and flush. r=mrbkap 
Bug 669949, part 1: Add Components.utils interfaces for playing with callee JSContext params. r=mrbkap sr=jst 
Bug 696668 - Give nsIScriptContext::CallEventHandler a JSObject scope parameter; r=mrbkap 
Bug 698584 - Fix crash in RegExp.test in case of OOM. r=mrbkap 
Bug 687220 - 'XHR POST in worker with null body and upload load event listener leads to Assertion failure'. r=mrbkap. 
Bug 698584 - Fix crash in RegExp.test in case of OOM. r=mrbkap 
Bug 625639 - fix XPCConvert error handling (r=mrbkap) 
Bug 677788 - Remove array/string 'capacity' argument from XPCConvert. r=mrbkap
Bug 677788 - Remove use of length_is xpt value from gecko. r=mrbkap 
Bug 698584 - Fix crash in RegExp.test in case of OOM. r=mrbkap 
Bug 684938 - Proxy nsXPCWrappedJS::Release to the main thread. r=mrbkap. 
Bug 658178 - 'Make XHR2 response/responseType work in Web Workers'. r=jst+sicking+mrbkap. 
Bug 700668 - Don't enumerate all compartments for every traversal of a XPCWrappedNative. r=mrbkap. 
Bug 698299 - rm bogus assert in SecurityWrapper::nativeCall (r=mrbkap) 
Bug 696660 - Outparamdel nsIScriptRuntime::CreateContext; r=mrbkap 
Bug 692722 - implement xpcshell -d for running in debug mode (r=mrbkap) 
Bug 705280 - Quickstub nsIDOMHTMLDocument.*. r=mrbkap
Bug 692342 - Remove use of IsReference() within XPConnect. r=mrbkap
Bug 692342 - Remove the obviously superfluous uses of IsPointer(). r=mrbkap
Bug 692342 - Introduce deprecated_IsPointer() to handle the cases that are too mucky to figure out right now. r=mrbkap 
Bug 692342 - Simplify cleanup code in ConvertIndependentParameter(). r=mrbkap
Bug 692342 - Create a ConvertDependentParam(i) method to match ConvertIndependentParam(i) (modulo reindentation). r=mrbkap 
Bug 692342 - Reindentation from previous patch (no other changes). r=mrbkap 
Bug 692342 - Remove check for !IsInterfacePointer(), given the code a few lines above. r=mrbkap 
Bug 692342 - Move a call to SetValNeedsCleanup() to an equivalent location. r=mrbkap 
Bug 692342 - Reorder in/out/inout handling in XPCWrappedNative parameter conversion. r=mrbkap
Bug 692342 - Move some things below Do datum_type resolution in ConvertDependentParam. r=mrbkap 
Bug 692342 - Coalesce cleanup flagging within ConvertDependentParam. r=mrbkap
Bug 692342 - Assert against arrays of jsvals, since we don't handle them. r=mrbkap 
Bug 692342 - Coalesce cleanup flagging even further. r=mrbkap
Bug 692342 - Assert !IsArithmetic() rather than IsPointer(). r=mrbkap
Bug 692342 - Get rid of the large and unnecessary table-driven reflectability detector. r=mrbkap
Bug 692342 - Remove IsPointer() and IsReference() accessors and flag the bits as deprecated. r=mrbkap 
Bug 620452 - Always define sharpnum to prevent compiler error when JS_HAS_SHARP_VARS is undefined. r=mrbkap 
Bug 699279 - Run GC_SHRINK collection cycle when under memory pressure; r=mrbkap
Bug 691797: Optimize RegExp.prototype.test with leading .* (r=mrbkap) 
Bug 705280 - (1/2) Quickstub nsIDOMHTMLDocument.head. r=mrbkap 
Bug 705280 - (2/2) Custom quickstub nsIDOMHTMLDocument.head and change nsIDOMHTMLDocument.body custom quickstub. r=mrbkap 
Bug 691797: Optimize RegExp.prototype.test with leading .*, take 2. (r=mrbkap,luke) 
Bug 705651, simplify message manager, and remove certainly useless comment about OMIT_COMPONENTS_OBJECT, r=mrbkap 
Fixing bug 690952. Move window.navigator from the outer window to the inner window, and stop persisting it across same origin page navigations. r=mrbkap@gmail.com 
Bug 698621 - Part 1: Implement cross-thread dispatching for web workers. r=bent 
Bug 698621 - Part 2: Implement telephony worker shell. r=bent 
Bug 704723 - Add memory reporter for XPConnect.  r=mrbkap. 
Bug 706301 - Don't cache own properties on XrayProxy. r=mrbkap 
Bug 706301 - Tests. r=mrbkap 
Bug 707883 - Rename Radio -> RadioManager to better reflect what this does. r=bent 
Bug 707883 - Move RadioManager from dom/telephony to dom/system/b2g and then make the worker component the only stuff in dom/telephony. The idea is that the RadioManager is a generic component that manages several workers implemented in various dom/* directories. r=bent 
Bug 707883 - Rename nsIRadio{Interface,Callback} -> nsITelephone{Interface,Callback} since this is not at all generic. r=bent 
Bug 707883 - Make nsITelephonyWorker more generic in preparation for more workers. r=bent 
Bug 707883 - Add a hunk of the patch that went missing in the downstream -> upstream conversion. r=bent DONTBUILD since this is only a packaging change 
Bug 707883 - Add a hunk of the patch that went missing in the downstream -> upstream conversion, take 2 using the right filename. r=bent DONTBUILD for the same reason as before 
Bug 708215 - Report errors from the safe JS context. r=bent 
Bug 695843 part 7 - Use the URI string as the key for the various mozJSComponentLoader hashtables. r=mrbkap 
Bug 695843 part 8 - Properly handle jar-in-jars when importing modules. r=mrbkap 
Bug 708446 - Part 1: Implement nsIAudioManager to communicate with audio subsystem. r=mrbkap 
Bug 708446 - Part 2: Update audio system state when call state changes. r=mrbkap 
Bug 708446 - Part 3: Implement mute and speaker. r=mrbkap a=khuey 
Bug 648252 - Remove nsViewSourceHTML from the tree. r=mrbkap, a=khuey. 
Bug 708405.  Make sure to propagate out failures from JS_HasPropertyById in the old nodelist resolve hook.  r=mrbkap 
Bug 624621 - Allow embeddings to attach an extra 'origin' principal to scripts (r=mrbkap) 
Bug 624621 part 2.  Add an origin principal argument on nsIScriptContext::EvaluateString and pass that through to the JS engine.  r=mrbkap 
Bug 624621 part 3. Use the pre-redirect filename as the script filename and the channel principal as the origin principal, and base our cross-origin check on the origin principal. r=mrbkap 
Bug 624621 part 2.  Add an origin principal argument on nsIScriptContext::EvaluateString and pass that through to the JS engine.  r=mrbkap 
Bug 624621 part 3. Use the pre-redirect filename as the script filename and the channel principal as the origin principal, and base our cross-origin check on the origin principal. r=mrbkap 
Bug 712448 - 'Slim wrappers do not use deferred release mechanism'. r=mrbkap. 
Bug 624621 part 2.  Add an origin principal argument on nsIScriptContext::EvaluateString and pass that through to the JS engine.  r=mrbkap 
Bug 624621 part 3. Use the pre-redirect filename as the script filename and the channel principal as the origin principal, and base our cross-origin check on the origin principal. r=mrbkap 
Bug 709569, a tool for webidl dictionary-like interfaces, r=khuey,mrbkap 
Bug 712858 - Remove lingering XPT_TDP_POINTER uses in XPConnect. r=mrbkap 
Bug 712341 - Make dump in workers show up in adb logcat. r=bent 
Bug 707749 - For document.write move the navigator forward to the new inner window. r=jst 
Bug 712629 - Make Wifi work under gonk. There are large parts of this that are still sketches, but this gets us limping along. r=gal 
Bug 463122 - Propagate mozJSComponentLoader exceptions that occur while executing the script. r=mrbkap 
Bug 713728 - 'Workers: Need a shutdown observer topic'. r=mrbkap. 
Bug 713069 - 'Remove AutoEnterCompartment calls from finalizers and assert'. r=mrbkap. 
Bug 677294 - part 2: need a way to create new JS scopes and run scripts against them (same compartment); r=mrbkap 
Bug 714760 - Remove obsolete tests for the HTML parser. r=mrbkap. 
Bug 689118 - Protect against JSVAL_IS_OBJECT(null) being true. r=luke 
Bug 714350 - Remove nsXPConnect::RestoreWrappedNativePrototype (r=mrbkap) 
Bug 714353 - Remove nsIXPCScriptable::Trace (r=mrbkap) 
Bug 714418 - Remove nsIXPCScriptable::DONT_SHARE_PROTOTYPE (r=bholley, sr=mrbkap) 
Bug 715498 - Revive the -c "compile only" option for the JS shell. r=cdleary 
Bug 622301 - Don't use XPCWrappedNative::GetWrappedNativeOfJSObject in quickstub unwrapping. r=mrbkap 
Bug 622301 - Remove now-obsolete 'callee' parameter. r=mrbkap 
Bug 715417 - Eliminate getPrincipalArray and globalPrivilegesEnabled from JSPrincipals. r=mrbkap 
Bug 655261 - Remove nsIParserFilter from the tree. r=mrbkap. 
No bug - Fix build bustage. Follow up from bug 716541. r=mrbkap 
Bug 714459 - 'Rename RadioManager / nsIRadioWorker'. r=mrbkap. 
Bug 717198 - Remove the tag observer code from the tree. r=mrbkap. 
Bug 717203 - Remove obsolete speculative parsing code. r=mrbkap. 
Bug 714547 - SecurityWrapper should not interfere with same-document.domain access (r=mrbkap) 
Bug 677079 - Part i: Expose errorReporter in jsapi.h; r=mrbkap 
Bug 622301 - Don't use XPCWrappedNative::GetWrappedNativeOfJSObject in quickstub unwrapping. r=mrbkap 
Bug 622301 - Remove now-obsolete 'callee' parameter. r=mrbkap 
Bug 716167 - Add a release-mode assertion that XPConnect is never used off the main thread. r=mrbkap 
Bug 718001 - Run DHCP when wpa_supplicants connects to a network so auto-connects get DHCP and DNS love too. r=gal 
Bug 712683 - Don't use GetMessage for SmsEvent implementation. r=mrbkap
Bug 674725 - Part V - Implement SmsRequest. r=smaug,mrbkap 
Bug 674725 - Part Z - Allow sending to multiple recipients with send(). r=mrbkap 
Bug 674725 - Part AH - Allow to pass a SmsMessage or an id to delete(). r=mrbkap 
Bug 674725 - Part AI - Implement SmsFilter. r=smaug,mrbkap 
Bug 718100 - 'Web workers should GC more'. r=mrbkap. 
Bug 718311. r=mrbkap. 
Bug 718679 - ipToString in nsWifiWorker.js uses wrong byte order, r=mrbkap 
Bug 702353 - Implement Proxy-Based XPCOM Wrappers in SpecialPowers. r=mrbkap,ted 
Bug 719841 - Do not innerize an object assigned to __proto__. r=mrbkap 
Bug 720650 - Remove nsLoggingSink. r=mrbkap. 
Bug 720686, add some cycle collection optimizations to XPC, f=mrbkap,r=mccr8 
Bug 664737 - Make GetNext use a belt as well as its braces. r=bzbarsky 
Bug 720305 - Deal with odd getters and setters. r=jwalden 
Bug 718733 - Allow JSAPI tests to create compartments with principals. r=jorendorff 
Fix for bug 693811 ("Assertion failure: shouldCacheProtoShape(cx, proto, &shouldCache) && shouldCache" in ListBase::nativeGet). r=mrbkap. 
Do not innerize an object assigned to __proto__ or used as the target of a with statement. Bug 719841, r=mrbkap. 
Bug 722318 - Ask wpa_supplicant if it had already connected before we connected to it. r=gal 
Bug 722071 - Implement array style indexing for SVGStringList. r=mrbkap. 
Bug 722734.  Add const signatures for converting back and forth between JS::Class and JSClass.  r=mrbkap 
Bug 681556 - Default sandboxName to the caller's filename.  r=mrbkap. 
Fix for bug 693811 ("Assertion failure: shouldCacheProtoShape(cx, proto, &shouldCache) && shouldCache" in ListBase::nativeGet). r=mrbkap. 
Bug 723111 - Add an option to js::UnwrapObject so that it doesn't stop at outer windows when unwrapping. This is useful for cases where we are trying to find the wrapped native for a security wrapper. r=bzbarsky 
Do not innerize an object assigned to __proto__ or used as the target of a with statement. Bug 719841, r=mrbkap. 
Bug 723111 - Add an option to js::UnwrapObject so that it doesn't stop at outer windows when unwrapping. This is useful for cases where we are trying to find the wrapped native for a security wrapper. r=bzbarsky 
Bug 722594 - Remove xpc_CreateMTGlobalObject and mMTCompartmentMap (r=mrbkap) 
Bug 723894 - Crash when Web IDL dictionary object is null; r=mrbkap 
Bug 622301 - Don't use XPCWrappedNative::GetWrappedNativeOfJSObject in quickstub unwrapping. r=mrbkap 
Bug 622301 - Remove now-obsolete 'callee' parameter. r=mrbkap 
Bug 725750 - Restore auto-Mozilla network joining hack. r=gal 
Bug 714590 - Use the helper jsclass format everywhere. r=mrbkap 
Bug 728029 - Make networks objects. r=cjones 
Bug 728029 - Only attempt to connect to Mozilla or Mozilla Guest after we actually have scan results. r=cjones 
Bug 728029 - Try to force a connection to Mozilla Guest, even if it's not broadcasting. r=cjones 
Bug 728029 - Fix yet another race condition. Now we'll try to connect to Mozilla/Mozilla Guest once we both have scan results *and* we're INACTIVE. r=cjones 
Backout these patches since they were checked in with the wrong bug number (bug 727680). 
Bug 727680 - Make networks objects. r=cjones 
Bug 727680 - Only attempt to connect to Mozilla or Mozilla Guest after we actually have scan results. r=cjones 
Bug 727680 - Try to force a connection to Mozilla Guest, even if it's not broadcasting. r=cjones 
Bug 727680 - Fix yet another race condition. Now we'll try to connect to Mozilla/Mozilla Guest once we both have scan results *and* we're INACTIVE. r=cjones 
Bug 718543 - Preserve SpecialPowers wrapper identity with a WeakMap cache. r=mrbkap 
Bug 727690 - Kill any existing connections on startup so we can successfully reconnect after we've been killed. r=gal 
Bug 725750 - Modify this hack to include "mozilla demo". rs=cjones 
Bug 727957 - Automatically connect to wifi on akami. r=gal 
Bug 729943 - Add a codepath to simply reconnect to an existing wpa_supplicant for non-broken Androids. r=cjones 
Bug 729943 - Fix a potential race if b2g died between associating to the access point and running DHCP. Also move state tracking to the manager. r=cjones 
Bug 730006 - Aggressively add our new networks now that they won't prevent us from connecting to other networks. r=cjones 
Bug 722626: Implement DOMRequest object. r=mrbkap 
Bug 730074: Use JSCLASS_NO_OPTIONAL_MEMBERS in JSClass definition within XrayWrapper.cpp, to fix build warning about missing braces. r=mrbkap 
Fix for bug 691707 (Enumerating new proxy-based DOM bindings should enumerate the prototype too). r=mrbkap. 
Fix for bug 691707 (Enumerating new proxy-based DOM bindings should enumerate the prototype too). r=mrbkap. 
Fix for bug 637099 (Remove JS_ClearScope calls on windows). r=mrbkap. 
Bug 729586 - Kill DHCP on disconnect so that reconnection works. r=gal DONTBUILD 
Bug 720580 - Indicate free bits in nsIXPCScriptable.idl. r=mrbkap 
Bug 720580 - Introduce a flag for global natives and assert that we have it. r=mrbkap 
Bug 720580 - Remove unnecessary aIID parameter from nsIXPConnect::InitClassesWithNewWrappedGlobal. r=mrbkap 
Bug 720580 - Stop passing aExtraPtr to InitClassesWithNewWrapedGlobal. r=mrbkap
Bug 720580 - Stop passing isGlobal everywhere and use the nsIXPCScriptable flags instead. r=mrbkap 
Bug 720580 - Move the AutoMarkingWrappedNativePtr in XPCWrappedNative::{GetNewOrUsed,Morph} closer to where we need it. r=mrbkap 
Bug 720580 - Use nsRefPtr instead of manual AddRef/Release in XPCWrappedNative::{GetNewOrUsed,Morph}. r=mrbkap 
Bug 720580 - Modify the semantics of XPCWrappedNative::FinishCreate() so that it doesn't muck around with the refcounts of its inparam. r=mrbkap
Bug 720580 - Make JSID class initialization happen on demand. r=mrbkap 
Bug 720580 - Manually resolve |Object| on the global in XPCWrappedNativeScope::SetGlobal() to avoid calling into the XPConnect resolve hook too early. r=mrbkap 
Bug 720580 - Accept an explicit native global during XPCWrappedNativeScope creation. r=mrbkap 
Bug 720580 - Factor out the call to PostCreatePrototype into a helper method. r=mrbkap 
Bug 720580 - Make the call to PostCreatePrototype optional. r=mrbkap 
Bug 720580 - Call TraceDOMPrototypes via TraceXPCGlobal, and avoid the verification process for wrapped natives. r=mrbkap 
Bug 720580 - Introduce XPCWrappedNative::WrapNewGlobal. r=mrbkap 
Bug 720580 - Kill temporary globals. r=mrbkap
Bug 720580 - Do the last bit of wrapped global initialization once the dust has settled. r=mrbkap 
Bug 720580 - Assert against creating globals in xpc_NewSystemInheritingJSObject. r=mrbkap
Bug 720580 - Assert that we have the global jsclass flag if and only if we're a global. r=mrbkap 
Bug 731845 - XPCWrappedNative::ReparentWrapperIfFound should handle preserved wrappers. r=mrbkap 
Bug 731845 - XPCWrappedNative::ReparentWrapperIfFound should handle preserved wrappers. r=mrbkap 
Bug 733606 - Only call FinishInitForWrappedGlobal when we just created a global. r=mrbkap
Remove JS_GetScriptedCaller (bug 732652, r=luke,mrbkap,bholley,smaug,bent). 
Bug 732982 - Expose a wifi API to the DOM. The API is very much a work in progress and will change soon. r=cjones/fabrice/vigntetun DONTBUILD 
Bug 727884 - Make nsWrapperCache::WrapObject take a JSObject scope instead of XPCWrappedNativeScope. r=peterv 
Bug 734910 - Enter the compartment of the new global before calling FinishInitForNewWrappedGlobal. r=mrbkap 
Bug 734475 - Take the full union of native sets when bringing non-PreCreate XPWNs across compartments. r=mrbkap 
Bug 736196 - Fix a small bug in internal dhcp notifications (clear dhcpInfo when we don't have any). Don't write out fake passwords in our configs. Make sure that we enable networks upon creation so they're enabled in the config file. r=cjones 
Bug 736087 - Rename nsDOMWifiManager to DOMWifiManager. r=philikon 
Bug 736087 - Remove the ns prefix from the WifiWorker component. r=philikon DONTBUILD 
Bug 737376 - Shut down the wifi system on shutdown. r=cjones 
Bug 736092 - Notify on the 'connecting' state so the UI can update itself properly. r=cjones 
Bug 737029 - Use DOMRequestHelper.jsm in DOMWifiManager.js. r=fabrice DONTBUILD 
Bug 672961 - CSP blocks domains incorrectly when on a site with non-standard port. r=mrbkap 
Bug 738593 - Rename IsProxy to IsDOMBinding; r=mrbkap 
Bug 733984 - Stop specializing createHolder, and simplify holder creation in WrapperFactory::Rewrap. r=mrbkap 
Bug 733984 - Clarify the security characteristics of Location objects. r=mrbkap
Bug 733984 - Use the Location security policy even for content accessing chrome. r=mrbkap
Bug 733984 - Apply Location wrappers for same-origin cross-compartment wrapping. r=mrbkap
Bug 667388 - Make the chrome-to-content Xray wrapper derive CrossCompartmentWrapper. r=mrbkap
Bug 667388 - Introduce the PUNCTURE wrapper action. r=mrbkap 
Bug 667388 - Handle wrappers during structured clone. r=mrbkap
Bug 667388 - Tests. r=mrbkap 
Bug 733984 - Explicitly disallow shadowing on location wrappers. r=mrbkap
Bug 738874 - Don't allow non-classinfo XPCWNs to be wrapped cross-compartment. r=mrbkap 
Bug 739335: Fix wifi on Gingerbread gonk. r=cjones (npotb) 
Bug 736114 - Fire an event every 5 seconds containing the signal strength and link speed of the connection. Also add a synchronous API for clients that don't want to wait for the signal. r=cjones DONTBUILD 
Bug 736114 - Fix dumb typo. r=vingtetun DONTBUILD 
Bug 739234 - Deal with the odd case on a desktop computer where the backend error'd out. r=vingtetun 
Bug 738996 - Remove agnostic Hold/DropScriptObject nsContentUtils functions; r=mrbkap 
Bug 738868 - Switch JSObject2JSObjectMap to new HashTable; r=mrbkap 
Bug 738063 - B2G Wifi: Consolidate ctypes-related worker code. r=mrbkap,cjones 
Bug 722671: Components.utils.getWeakReference should get a reference to the underlying native object if possible. r=mrbkap 
Bug 736096 - Reprioritize networks when the priorities get too high to prevent overflow. r=cjones 
get. r=cjones DONTBUILD 
Bug 739452, part 1: Catch errors in importing cutils, since (unfortunately) this code also runs on desktop builds. r=mrbkap 
Bug 739796 - Make js_TransplantObjectWithWrapper and GetSameCompartmentSecurityWrapper play nicely together. r=mrbkap 
Bug 739825 - Push principals when entering compartments in structured clone. r=mrbkap 
Bug 742778 - Turn off the debug mode by default for dom/wifi. r=mrbkap 
Bug 742797 - Fix shutdown on ICS. r=cjones DONTBUILD 
Bug 736091 - Add a forgetNetwork function that forgets the requested network. If the requested network is the current network, we reconnect to the next available network. r=cjones 
Bug 743603 - B2G Wifi: minor code readability improvement. r=mrbkap 
Backed out changeset 22521568cf79. It accidentally removed a file. 
Bug 743603 - B2G Wifi: minor code readability improvement. r=mrbkap 
Bug 742778 - Turn off the debug mode by default for dom/wifi. r=mrbkap 
Bug 742780 follow-up: unbreak RIL and Wifi. r=mrbkap 
Bug 743614 - Deal with failure more gracefully. r=cjones 
Bug 744417 - Fix mistakes in the initial implementation of forgetNetwork. r=mrbkap 
Bug 743941 - Some small fixes to state tracking. Also move some logic out of the manager. r=cjones 
Bug 744034 - Link the script context to the outer window earlier to ensure that we always have TI for content. r=mrbkap 
Bug 743575 - Try to get line number if at all possible when reporting warnings to the error console.  r=mrbkap 
Bug 743843 - Introduce the options object for Components.Exception. r=Ms2ger,sr=mrbkap 
Bug 740079 - Provide a synchronous API to get precise information about the current connection status. r=cjones f=kaze 
Remove simple JS_FrameIterator use from content, DOM, and caps (bug 744617, r=mrbkap). 
Remove more uses of JS_FrameIterator (bug 744617, r=mrbkap). 
Bug 745114 - Collapse the various status change callbacks into a single callback. r=cjones a=b2g-only 
Bug 717122 - Network Manager interface for Wifi. r=gal,mrbkap a=b2g-only 
Bug 722775 - rm sameGroupAs. r=mrbkap 
Bug 650353 - Implement Compartment-Per-Global in XPConnect. r=mrbkap 
Bug 745211 - Remove SetScriptContext from nsIScriptGlobalObject; r=mrbkap 
Bug 743961 - Null-check context pushing callbacks. r=mrbkap 
Bug 753612 - Properly close wifi connection so 3G-data can get its own route. r=mrbkap,philipp 
Bug 753277 - Factor out CCW remapping from JS_TransplantObject and add comments. r=mrbkap 
Bug 753277 - Rename |obj| to |newIdentity| in JS_TransplantObject. r=mrbkap 
Bug 753277 - Make js_TransplantObjectWithWrapper use RemapWrappers. r=mrbkap 
Bug 753277 - Rename |obj| to |newWrapper| in js_TransplantObjectWithWrapper. r=mrbkap 
Bug 753277 - Rename tobj to wrapperGuts, and avoid going through the SCSW on the other side unnecessarily. r=mrbkap
Bug 753277 - Assert that all cross-scope wrapper reparenting operations are cross-compartment, and remove the conditional. r=mrbkap
Bug 754044 - Pass stopAtOuter=false in GetWrappedNativeOfJSObject, because that's what we mean. r=mrbkap 
Bug 754044 - Alter the semantics of UnwrapObject{,Checked} to check for outer windows on the initial wrapper passed. r=mrbkap
Bug 754044 - Simplify the logic surrounding the prewrap callback in jscompartment.cpp. r=mrbkap 
Bug 754044 - Introduce sameCompartmentWrapObjectCallback. r=mrbkap
Bug 754044 - Apply same-compartment security wrappers in same-compartment wrapping callback. r=mrbkap 
Bug 754044 - Remove manual injection of same-compartment security wrappers, and make sure to call JS_Wrap* instead. r=mrbkap 
Bug 754311 - Null out the private of soon-to-be-transplanted reflectors _after_ copying their properties onto the holder. r=mrbkap 
Backed out changeset ad106d37ee43. The bug number in the changeset was wrong. 
Merge backout of patch for bug 682305 which landed with the wrong bug # in the comment. 
Bug 756584 - Crashtest for bug 720305. r=dveditz 
Bug 553102 - Fix test_cows.xul. r=mrbkap 
Bug 553102 - Waive COW checks on SpecialPowers wrapper objects. r=mrbkap 
Bug 755631 - Remove extraneous exceptions in Cross Origin Wrappers. r=mrbkap 
Bug 752038 - Avoid getting confused by PreCreate giving a different answer when we wrap objects cross-compartment during reparenting. r=mrbkap 
Bug 760076 - Make |construct| use Wrapper::CALL. r=mrbkap 
Bug 736102 - Decide on units for Wifi + MobileConnection signal strength. r=mrbkap 
Bug 723206 - Constructors implemented in JS from IDL should be allowed to have arguments [r=mrbkap] 
Bug 751858 - Actually throw when we deny access. r=bholley 
Bug 759082 - Remove nsIScriptContext::InitOuterWindow; r=mrbkap 
Bug 758415 - Refactor slim wrapper reserved slots so that we can use the same slot for expando objects in the non-slim case. r=mrbkap
Bug 758415 - Implement expando object infrastructure for WN Xrays. r=mrbkap
Bug 758415 - Copy expando objects during object transplanting. r=mrbkap 
Bug 758415 - Expose AutoIdVector wrapping. r=mrbkap 
Bug 758415 - Switch WN Xrays to use the new expando infrastructure. r=mrbkap 
Bug 758415 - Rip out old expando architecture. r=mrbkap 
Bug 758415 - Remove double-wrapping infrastructure for Location objects. r=mrbkap
Bug 758415 - Tests. r=mrbkap 
Bug 657938 (1/2) - Implement the content part of the meter element. f=mounir r=smaug,mrbkap 
Bug 640904 - Null-check after EnsureInnerWindow in nsWindowSH::GetProperty. r=mrbkap 
Bug 754202 - Pull subject principals directly off the compartment. r=mrbkap
Bug 754202 - Disallow calling EvaluateString{,WithValue} with a principal that doesn't match the global. r=mrbkap 
Bug 754202 - Remove context pushing/popping API. r=mrbkap
Bug 754202 - Remove mContextPrincipal usage from within nsScriptSecurityManager. r=mrbkap 
Bug 754202 - Remove NoWaiverWrapper. r=mrbkap
Bug 762529 - Handle constructors properly in SpecialPowers wrappers. r=mrbkap 
Bug 764503 - WifiStatusChangeEvent IDL and implementation don't match. r=mrbkap 
Bug 762436 - Get rid of the nsresult return value for nsIXPCScriptable::GetScriptableFlags(); r=mrbkap 
Bug 763381 - Pass cx around in more places. r=mrbkap 
Bug 763381 - Fix up compartment situation for expando objects. r=mrbkap 
Bug 763301 - Put SpecialPowers Xray detection in a try/catch. r=mrbkap 
Bug 764315 - Trigger reification for QuickStubbed accessors in SpecialPowers wrappers before calling Object.getOwnPropertyDescriptor. r=mrbkap 
Bug 763433 - Clarify compartment semantics for ExposedPropertiesOnly. r=mrbkap 
Bug 763433 - Clarify compartment situation in Xray wrapper. r=mrbkap
Bug 765436 - Remove WrappedNative2WrapperMap; r=mrbkap
Bug 764916 - Replace nsDOMClassInfo::ThrowJSException with xpc::Throw. r=mrbkap 
Bug 766378 - adds a createArrayIn() call to create JS arrays in a given scope [r=mrbkap] 
Bug 753162 - Don't assume that we end up in the same compartment as we started in CrossCompartmentWrapper. r=mrbkap 
Bug 755255 - Hoist mJSContextStack into XPCJSRuntime. r=mrbkap 
Bug 755255 - Add a convenience function to grab the JS runtime. r=mrbkap
Bug 755255 - Make consumers of GetJSContextStack go through XPCJSRuntime. r=mrbkap 
Bug 755255 - Hoist mCallContext into XPCJSRuntime. r=mrbkap 
Bug 755255 - Make consumers of mCallContext go through XPCJSRuntime. r=mrbkap 
Bug 755255 - Hoist pending exception junk into XPCJSRuntime. r=mrbkap 
Bug 755255 - Hoist auto root list into XPCJSRuntime. r=mrbkap 
Bug 755255 - Remove Usage of XPCPerThreadData::IsMainThread. r=mrbkap 
Bug 755255 - Hoist Resolving* machinery into XPCJSRuntime. r=mrbkap 
Bug 755255 - Remove threadsafety checking machinery. r=mrbkap 
Bug 755255 - Remove mThreadData from XPCCallContext. r=mrbkap 
Bug 755255 - Remove thread iteration in XPCJSRuntime. r=mrbkap 
Bug 755255 - Remove XPCPerThreadData. r=mrbkap
Bug 755255 - Rename XPCThreadContext.cpp to XPCJSContextStack.cpp, since that's all that's left. r=mrbkap 
Bug 758344 - Make ContextHolder implement nsIScriptContextPrincipal. r=mrbkap 
Bug 768905 - Don't react to 'connecting' events when we're already connected. r=gal DONTBUILD 
Bug 754495, part 8 - do merging CCs when there's a gray global. r=smaug,mrbkap 
Bug 768905 - Don't react to 'connecting' events when we're already connected. r=gal DONTBUILD 
Bug 769248 - Don't overwrite a good BSSID with a bad one. r=gal 
Bug 769265 - Fix these calls. r=bent 
Bug 754202 - Pull subject principals directly off the compartment. r=mrbkap It would be nice to check these principals against the principals acquired using the old mechanism. Unfortunately, they often differ. Because CAPS uses JS stack frames, any time we enter a compartment and do an operation (even throwing an Access-Denied exception) without running any JS code, we'll end up with a different principal.
Bug 754202 - Disallow calling EvaluateString{,WithValue} with a principal that doesn't match the global. r=mrbkap 
Bug 754202 - Remove context pushing/popping API. r=mrbkap Each one of these uses grabs the principal off of an object for pushing, but also enters the compartment of that object. So we shouldn't need this anymore.
Bug 754202 - Remove mContextPrincipal usage from within nsScriptSecurityManager. r=mrbkap 
Bug 754202 - Remove NoWaiverWrapper. r=mrbkap
Bug 754202 - Check principal in IsCapabilityEnabled when there's no code on the stack. r=mrbkap 
Bug 754202 - Scope the push of the safe js context such that it doesn't include the call to XHR::Send. r=mrbkap,bent 
Bug 766497 - Dispatch events for wifi going up and down and handle multiple requests to bring it up and down at the same time. r=gal 
Bug 769227 - Wait a little bit before starting wpa_supplicant on the otoro. r=gal DONTBUILD 
Bug 766497 - Dispatch events for wifi going up and down and handle multiple requests to bring it up and down at the same time. r=gal DONTBUILD (missed this review comment in the original checkin) 
Bug 769585 - Fix vim modelines. DONTBUILD rs=mrbkap 
Bug 769648 - Get rid of __exposedProps__ warnings. r=gal 
Bug 766497 - Fix typo. r=gal DONTBUILD 
Bug 771908 - Get rid of Wrapper::leave; r=bholley, sr=mrbkap 
Bug 655649 - Recompute cross-compartment wrappers when setting document.domain. r=mrbkap 
Bug 655649 - Use Subsumes Rather than Equals in XPConnect wrapper computation. r=mrbkap
Bug 655649 - Stop doing dynamic security checks for document.domain. r=mrbkap 
Bug 601277 - Better tests for document.domain. r=mrbkap 
Bug 772801 - Deal with drivers that don't support active/passive scanning. r=mwu DONTBUILD 
Bug 772700 - 'IndexedDB - OOP from a JS component or JSM doesn't work'. r=khuey+mrbkap. 
Bug 772700 - 'IndexedDB - OOP from a JS component or JSM doesn't work'. r=khuey+mrbkap. 
Bug 773527 - Make signal strength and linkspeed info work on Otoro ICS. r=gal DONTBUILD 
Bug 740744: Asynchronous dbus events for bluetooth, Start/StopDiscovery and device event firing; r=bent sr=mrbkap 
Bug 774585: Remove unused argument in nsScriptSecurityManager. r=mrbkap 
Bug 770429, do uri load check earlier to avoid running code unnecessarily, r=mrbkap 
Bug 774245 - Factor out single-level checked unwrapping into a helper function. r=mrbkap 
Bug 774245 - Add WrapperFactory and XrayWrapper machinery to allow same-compartment Xray wrapping. r=mrbkap 
Bug 774245 - Re-implement moz_bug_r_a4 trickery. r=mrbkap
Bug 774245 - Reimplement LookupMethod. r=mrbkap 
Bug 774245 - Tests. r=mrbkap 
Bug 775354 - Add a static method to be able to compute the origin based on nsPrincipal algorithm. r=mrbkap 
Bug 762519 - Send xpconnect stack dump output and javascript dump output to the win debugger when attached. r=ehsan, mrbkap 
Bug 772292 - Convert JSObject2WrappedJSMap to a new-style HashTable; r=mrbkap 
Bug 775354 - Add a static method to be able to compute the origin based on nsPrincipal algorithm. r=mrbkap 
Bug 758258 - part 5 - Add GetAppCodebasePrincipal and GetNoAppCodebasePrincipal to nsIScriptSecurityManager. r=mrbkap sr=sicking 
Bug 774585: Fix xpc-sandbox creation code to create the correct principals. r=mrbkap 
Toggling off and on the Wifi Checkbox will not scan wifi networks anymore (bug 774876, r=gal). 
Bug 773962 - Refactor Xray waiving logic to allow simple lookups in the waiver map without creating a waiver. r=mrbkap 
Bug 773962 - Fix up waivers after transplanting. r=mrbkap 
Bug 773962 - Introduce Cu.recomputeWrappers. r=mrbkap
Bug 773962 - Tests. r=mrbkap 
Bug 772288 - Waive Xray for target objects in Cu.import. r=mrbkap 
Bug 776333 - Morph slim wrappers in LookupMethod. r=mrbkap 
Bug 760109 - Don't force wrappers to use the wrapped proto if they decide to use something different. r=mrbkap 
Bug 760109 - When COWing objects with standard prototypes, use the prototype in the home compartment instead. r=mrbkap 
Bug 760109 - Introduce an explicit ChromeObjectWrapper. r=mrbkap
Bug 760109 - Override traps in ChromeObjectWrapper to bounce lookups to the local prototype chain. r=mrbkap 
Bug 760109 - Tests. rs=mrbkap 
Bug 777904 - Fix typo. Also handle an error case better. r=gal DONTBUILD 
Bug 776824 - Add isInBrowserElement to nsIPrincipal. r=mrbkap sr=sicking 
Bug 761511: Patch 1 - Boilerplate for BluetoothPropertyEvent DOM Object r=bent; sr=mrbkap 
Bug 761511: Patch 2 - Added BluetoothPropertyContainer base class and utility functions; r=mrbkap 
Bug 761511: Patch 3 - Update Manager/Adapter/Device objects to be BluetoothPropertyObjects, and add class specific setters; r=mrbkap 
Bug 779886 - wifiMangager.connectionInformation throws when we're not connected. r=bent DONTBUILD 
Bug 779626: Javascript-global-constructor objects should be passed a window reference; r=mrbkap 
Bug 779331 - Settings API: new permissions. r=mrbkap 
Bug 778384: Hook bluetooth up to permissions manager; r=mrbkap 
Bug 779384: Hook bluetooth up to permissions manager; r=mrbkap 
Bug 768306 - Patch 1: Fix error handling in unpacking DBus replies, set up DBus blocking call handling thread; r=mrbkap 
Bug 768306 - Patch 2: Change BluetoothAdapter initialization to get properties via off main thread blocking calls when creating Adapter object; r=mrbkap 
Bug 776328 - Only create holders for WNs. r=mrbkap 
Bug 780066 - Ensure that WifiManager's state is correct after shutting down. r=vchang DONTBUILD 
Bug 780465 - Add support for Wi-Fi Protected Setup functionality (WPS). r=mrbkap DONTBUILD 
Bug 781476 - Cross-compartment wrap same-origin objects with PreCreate even if PreCreate requests one wrapper per scope. r=mrbkap 
Bug 695292 - Port SimpleTest.executeSoon() to SpecialPowers. r=mrbkap
Bug 777671 - Final version: add function getPairedDevices() in nsIDOMBluetoothAdapter, r=qdot, sr=mrbkap
Bug 730992 - Patch 1: The DOM boilerplate for BluetoothPairingEvent, r=qdot, sr=mrbkap
Bug 730992 - Patch 2: The machinery in Bluetooth*Service, r=qdot, sr=mrbkap
Bug 730992 - Patch 3: Hooking things up to BluetoothAdapter, r=qdot, sr=mrbkap
Bug 783416 - Stop saving the prototype in WindowStateHolder (r=mrbkap) 
Bug 695292 - Port SimpleTest.executeSoon() to SpecialPowers. r=mrbkap
Bug 553102 - Make content-> access default to deny if __exposedProps__ is not defined. r=mrbkap 
Bug 777705 - Default policy for expanded principals. r=mrbkap 
Bug 783431 - Fix js array initialization for bluetooth and telephony; r=mrbkap 
Bug 783742 - Add support for WPS PIN method. r=mrbkap 
Bug 777203 - Respond to requests by sending our response directly back to the manager instead of broadcasting the response everywhere. r=gwagner 
Bug 777203 - Keep a list of managers that are interested in wifi events and send notifications only to them instead of broadcasting notifications to the world. r=gwagner DONTBUILD 
Bug 783742 - Add support for WPS PIN method. r=mrbkap 
Bug 777203 - Respond to requests by sending our response directly back to the manager instead of broadcasting the response everywhere. r=gwagner 
Bug 777203 - Keep a list of managers that are interested in wifi events and send notifications only to them instead of broadcasting notifications to the world. r=gwagner DONTBUILD 
Bug 783934 - Final Version: Add events onconnected and ondisconnected in BluetoothDevice, r=qdot, sr=mrbkap 
Bug 668558 - remove JSSecurityCallbacks::subsumePrincipals (r=mrbkap) 
Bug 784551 - remove JSSecurityCallbacks::findObjectPrincipals (r=mrbkap) 
Bug 784678 - Error when calling postCancel and postSuccess in an activity : followup [r=mrbkap] 
Bug 784895 - Remove unnecessary token pasting. r=mrbkap. 
Bug 625199 - remove unnecessary uses of 'parent' that can now use cx->global (r=mrbkap) 
Bug 625199 - kill dummy frames (r=mrbkap) 
Fix for bug 785188 (Make Xrays work with newest DOM list bindings). r=mrbkap. 
Bug 780370 - Clarify the compartment situation in ChromeObjectWrapper. r=mrbkap
Bug 780370 - Remap objects from standard prototypes even if they're explicitly exposed. r=mrbkap 
Bug 765527. r=mrbkap 
Bug 783976 - WiFi list can't displayed after enabling/disabling WiFi repeatedly. r=mrbkap 
Bug 738244 - Supporting DOM specific collection properties through xray wrappers; r=mrbkap 
Bug 749371 - Break JS_ClearScope into two not-as-bad functions (r=mrbkap) 
Bug 785975 - Reconnect to the network after DHCP fails. r=vchang 
Bug 786283 - Report to the caller when a scan request fails. r=vchang 
Bug 736089 - Handle broken wifi configurations more gracefully, r=mrbkap DONTBUILD 
Bug 786283 - Followup fixes to avoid notifying the same DOM request twice. r=vchang DONTBUILD 
Bug 786283 backout - this doesn't work the way it should (android doesn't send failure back for failed scans). r=backout 
Bug 785233 - Don't overwrite indexeddb property. r=mrbkap 
Bug 785634 - Handle NULL defaultCompartmentObject_ in JSContext::saveFrameChain (r=mrbkap) 
Bug 735547 - Support Wifi/USB Tethering, Part 2: Wifi changes. r=mrbkap 
Bug 786771 - Fix for 'ASSERTION: Must have an actor here'. r=mrbkap. 
Bug 786596 - v1: get device type information. r=qdot, sr=mrbkap 
Bug 777665 - patch 1: Hook up settings to Bluetooth. r=qdot, sr=mrbkap 
Bug 778360 - Don't try to reconnect to a running wpa_supplicant since that confuses the network manager. Instead, ensure that it's well and truly dead before starting. r=gwagner f=hub 
Bug 768394 - Catch up with changes in ifc_reset_connections on ICS. r=gal 
Bug 786283 - Report to the caller when a scan request fails. r=vchang DONTBUILD 
Bug 786468 - Support alternate nsIRadioInterfaceLayer implementations. r=philikon,mrbkap 
Bug 729877 - B2G Wifi: hook up to settings API. r=mrbkap 
Bug 785067 - Outparamdel nsGlobalWindow::SaveWindowState; r=mrbkap 
Bug 785642 - Return failure from nsDocShell::CaptureState if SaveWindowState returns null; r=mrbkap 
Bug 756299: Patch 1 - IPC Socket Functions; r=mrbkap 
Bug 756299: Patch 2 - IPC Socket Creation Functions and Type Additions; r=mrbkap 
Bug 788914 - Remove enablePrivilege from bug 585922 tests. r=mrbkap
Bug 788914 - Generate vanilla cross-compartment wrappers when UniversalXPConnect is enabled. r=mrbkap 
Bug 788914 - Recompute cross-compartment wrappers when UniversalXPConnect is enabled. r=mrbkap 
Bug 788914 - Remove dynamic UniversalXPConnect checks sprinkled around the wrapper code. r=mrbkap 
Bug 788914 - Kill partially transparent wrappers. r=mrbkap 
Bug 788914 - Kill the XOW flag. r=mrbkap
No bug: Fix new uses of getLock that crept in. irc-r=mrbkap 
Bug 788914 - Remove enablePrivilege from bug 585922 tests. r=mrbkap
Bug 788914 - Generate vanilla cross-compartment wrappers when UniversalXPConnect is enabled. r=mrbkap 
Bug 788914 - Recompute cross-compartment wrappers when UniversalXPConnect is enabled. r=mrbkap 
Bug 788914 - Remove dynamic UniversalXPConnect checks sprinkled around the wrapper code. r=mrbkap 
Bug 788914 - Kill partially transparent wrappers. r=mrbkap 
Bug 788914 - Kill the XOW flag. r=mrbkap
Bug 788914 - Remove enablePrivilege from bug 585922 tests. r=mrbkap
Bug 788914 - Generate vanilla cross-compartment wrappers when UniversalXPConnect is enabled. r=mrbkap 
Bug 788914 - Recompute cross-compartment wrappers when UniversalXPConnect is enabled. r=mrbkap 
Bug 788914 - Remove dynamic UniversalXPConnect checks sprinkled around the wrapper code. r=mrbkap 
Bug 788914 - Kill partially transparent wrappers. r=mrbkap 
Bug 788914 - Kill the XOW flag. r=mrbkap
Bug 723894 - Crash when Web IDL dictionary object is null; r=mrbkap 
Remove JS_FrameIterator (bug 732653, r=luke,mrbkap). 
Forbid JITing annotated frames (bug 763233, r=mrbkap,jandem). 
Bug 789713 - Ignore domain when computing whether to share non-PreCreate WNs cross-compartment. r=mrbkap 
Bug 789014 - Final version: Broadcast bonding-related events via system message, r=qdot, r=mrbkap 
Bug 790133 - Final version: Fire devicecreated event with a BluetoothDevice, r=qdot, sr=mrbkap 
Bug 791144 - Remove useless __exposedProps__ [r=mrbkap] 
Bug 790133 - Final version: Fire devicecreated event with a BluetoothDevice, r=qdot, sr=mrbkap 
Bug 790133 - Final version: Fire devicecreated event with a BluetoothDevice, r=qdot, sr=mrbkap 
Bug 791823: Creating system message for pairing requires js request; r=mrbkap 
Bug 792235 - rm JS_SuspendRequest (r=mrbkap) 
Bug 791910 - Deal with dead managers in our list. r=cjones 
Bug 792036 - Refactor AttachComponentsObject API to allow an explicit target. r=mrbkap
Bug 792036 - Factor out glue code to get the JS Components object for a scope. r=mrbkap 
Bug 792036 - Add a SpecialPowers API to provide access to the Components object in various forms. r=mrbkap,ted
Bug 784733 - Define wifi power saving mode api interface. r=mrbkap 
Bug 784733 - Implementation of wifi power saving mode api interface. r=mrbkap 
Bug 787421 - nsIWifi.idl changes. r=mrbkap 
Bug 787421 - Wifi implementation. r=mrbkap 
Bug 787552 - Expose the IP address and MAC address to content. r=vchang f=kaze 
Bug 791392 - Expose configured networks to content. r=vchang f=kaze 
Bug 795047 - Add support for hidden networks. r=vchang 
Bug 794514 - patch 1: Update DOM API, r=qdot, sr=mrbkap 
Bug 794912 - Remove dynamic privilege check in isCrossOriginAccessPermitted. r=mrbkap 
Bug 795275 - Clean up isSystemOnlyAccessPermitted. r=mrbkap
Bug 795275 - Introduce an explicit mechanism for determining if a script is from XBL. r=mrbkap
Bug 795275 - Turn Components into a JS value getter for content scopes. r=mrbkap 
Bug 795275 - Warn about content access to |Components|. r=mrbkap 
Bug 795275 - Telemetry. r=mrbkap 
Bug 784766 - Verify that we only talk to processes that have permission to talk to us. r=cjones 
Bug 792952, B2G wifi scanning js. r=mrbkap 
Bug 791911 - Listen for our child message managers dying and remove them from our list of managers to 'broadcast' to. r=gwagner 
Bug 739780 - Switch Telephony.cpp to use nsTArrayHelpers.h implementation of nsTArrayToJSArray. r=khuey, r=mrbkap 
Bug 797583 - Remove bogus assertion. r=mrbkap 
Bug 790231 - Add a way of telling if a scan result supports WPS. r=mrbkap 
Bug 791506 - Allow specifying a BSSID for WPS to speed up connection times. r=mrbkap 
Bug 797569 - Added AutoREquest for success value rooting in DOMRequest; r=mrbkap 
Bug 789224 - Remove chrome check in xpc_EvalInSandbox. r=mrbkap
Bug 797204 - Consolidate XBL filename hack logic into nsContentUtils. r=mrbkap
Bug 797204 - Remove API. r=mrbkap
Bug 798123 - Replace the array conversion functions in BluetoothUtils.cpp with those in nsTArrayHelpers.h. r=mrbkap 
Bug 802590 - patch 1: DOM API change, sr=mrbkap, r=qdot 
Bug 793969 - Define an identity transformation at the Xray layer. r=mrbkap 
Bug 792405 - move sTop_id case in nsWindowSH::NewResolve. r=mrbkap 
Bug 789224 - Remove miscellaneous UniversalXPConnect checks sprinkled throughout gecko. r=mrbkap 
Bug 789224 - Remove capability manager stuff in nsScriptSecurityManager. r=mrbkap 
Bug 789224 - Remove principal capability and preference infrastructure. r=mrbkap 
Bug 789224 - Remove signed script security checks. r=mrbkap 
Bug 789224 - Remove CAPS_HACKER debugging instrumentation. r=mrbkap
Bug 801576 - Forbid cross-origin access to the History object. r=mrbkap 
Bug 801576 - Fix sandbox test. r=mrbkap 
Bug 801576 - Add tests for the same-origin policy. r=mrbkap 
Bug 797821 - Remove the dependency of XPCWrappedNativeScope instantiation on XPCCallContext and expose the raw constructor. r=mrbkap 
Bug 797821 - Remove CreateNewGlobal. r=mrbkap
Bug 797821 - Simplify the call signature for XPC::CreateGlobalObject. r=mrbkap 
Bug 797821 - Loosen the CompartmentPrivate contract so that having one does not imply being in the compartment set. r=mrbkap
Bug 797821 - Stop passing wantXrays directly to CreateGlobalObject. r=mrbkap
Bug 797821 - Allow compartment privates to be lazily created when using them just for storing about:memory URIs. r=mrbkap
Bug 797821 - Stop making nsXBLDocumentInfo and nsXULPrototypeDocument globals with XPConnect. r=mrbkap
Bug 797821 - Stop storing mScriptObjectPrincipal. r=mrbkap 
Bug 797821 - Remove unused aNative parameter to XPCWrappedNativeScope creation. r=mrbkap 
Bug 797821 - Remove xpc_NewSystemInheritingJSObject and cached mJSPrototypeObject. r=mrbkap
Bug 797821 - Create XPCWrappedNativeScopes immediately after global creation. r=mrbkap 
Bug 797821 - Replace usage of XPCWrappedNativeScope::FindInJSObjectScope(ccx, obj) with GetObjectScope(obj). r=mrbkap 
Bug 797821 - Remove FindInJSObjectScope and friends. r=mrbkap
Bug 797821 - Don't pass XPCONNECT_GLOBAL_FLAGS for xbl and xul document gSharedGlobalClass. r=mrbkap
Bug 797821 - Decide whether we need to trace DOM stuff based on more relevant information than JSCLASS_XPCONNECT_GLOBAL. r=mrbkap
Bug 797821 - Remove JSCLASS_XPCONNECT_GLOBAL flag. r=mrbkap 
Bug 797821 - Removed the unused reserved slot for XPConnect globals. r=mrbkap 
Bug 797821 - Hoist XPConnect-y stuff out of the compartment private and into the XPCWrappedNativeScope. r=mrbkap
Bug 797821 - Remove the XPConnect Compartment Set. r=mrbkap 
Bug 802418 - Turn on background scanning when we're disconnected to work around wpa_supplicant's sched_scan getting stuck. r=vchang 
Bug 798491: Add an option to stick all chrome JSMs/JS components in the same compartment. r=mrbkap,philikon 
Bug 798491: Add an option to stick all chrome JSMs/JS components in the same compartment. r=mrbkap,philikon 
Bug 804630 - Tests for exposing prototype properties on a derived object. r=mrbkap 
Bug 803669 - convert nsScannerBufferList to use mozilla::LinkedList; r=mrbkap 
Bug 798491: Add an option to stick all chrome JSMs/JS components in the same compartment. r=mrbkap,philikon 
Bug 805807 - Make Components wrapper throw on denial. r=mrbkap
Bug 805807 - Rearchitect filtering policies so that check() doesn't throw on denial. r=mrbkap
Bug 799825 - [wifi] Unable to connect to WPA Network. r=mrbkap 
Bug 799825 - [wifi] Unable to connect to WPA Network. r=mrbkap 
Bug 805807 - Make Components wrapper throw on denial. r=mrbkap
Bug 805807 - Rearchitect filtering policies so that check() doesn't throw on denial. r=mrbkap
Bug 806611 - Control wifi debug output based on a setting. r=vchang 
Bug 806611 - Make wpa_supplicant noisy when debug is enabled for wifi. r=vchang 
Bug 793969 - Tests. r=mrbkap 
Bug 808730 - Implement the 'IfFound' parent of ReparentWrapperIfFound. r=mrbkap
Bug 808611 - Move valueOf to nsIDOMLocation. r=mrbkap 
Bug 808457 - Add Telemetry for Components.lookupMethod and Components.interfaces. r=mrbkap 
Bug 803669 - convert nsScannerBufferList to use mozilla::LinkedList; r=mrbkap 
Bug 808879 - Patch 1: Expose connection status for system app, r=qdot, sr=mrbkap 
Bug 806751 - Pile more garbage into GetWrappedNativeOfJSObject. r=mrbkap 
Bug 786438 - Handle WEP authentication fail. r=mrbkap 
Bug 807148 - Rejigger the way that we turn on background scanning. a=gal/vchang 
Bug 805807 - Filter setters. r=mrbkap 
Bug 807242 - [Wifi]: onconnected() function is not called when receiving CTRL-EVENT-CONNECTED event. r=mrbkap 
Bug 809218 - Expose atob and btoa functions in xpcshell; r=mrbkap 
Bug 806965 - Initialize new child processes with the current offline state. r=jlebar 
Bug 809288 - nsGeolocationService GetInstance / GetGeolocationService inconsistencies. r=mrbkap a=blocking-basecamp 
Bug 736104 - Change object key of configure network, and return array to gaia instead of object. r=mrbkap 
Bug 736104 - Provide network connection status. r=mrbkap 
Bug 736104 - Expose capabilities to DOM. r=mrbkap 
Bug 810743 - First check for pending exceptions, _then_ examine the invoke result. r=mrbkap 
Bug 809674 - Fail at call time when invoking an XPCWrappedJS method with [implicit_jscontext] or [optional_argc]. r=mrbkap
Bug 800915 - Clarify and refine the semantics of SecurityWrapper so that it is used if and only if unwrapping is unsafe. r=mrbkap
Bug 800915 - Add infrastructure to flag security wrappers as unsafe to unwrap. r=mrbkap 
Bug 800915 - Reimplement PUNCTURE consumers in terms of isSafeToUnwrap() and remove PUNCTURE API. r=mrbkap 
Bug 811100 - Use the compartment's global for our global instead of always walking our parent chain. r=luke 
Bug 810987: When sharing a global, don't import properties onto the global, import them onto the appropriate 'this' object. r=mrbkap 
Bug 809666: Define ctypes and perf properties on the 'this' object, not the global, when sharing globals. r=mrbkap 
Bug 810987: When sharing a global, don't import properties onto the global, import them onto the appropriate 'this' object. r=mrbkap 
Bug 809666: Define ctypes and perf properties on the 'this' object, not the global, when sharing globals. r=mrbkap 
Bug 800915 - Clarify and refine the semantics of SecurityWrapper so that it is used if and only if unwrapping is unsafe. r=mrbkap
Bug 800915 - Add infrastructure to flag security wrappers as unsafe to unwrap. r=mrbkap 
Bug 800915 - Reimplement PUNCTURE consumers in terms of isSafeToUnwrap() and remove PUNCTURE API. r=mrbkap 
Bug 569506 - Tearoff tests. r=mrbkap 
Bug 811414 - nsISettingsServiceCallback shouldn't use [implicit_jscontext]. Followup. r=mrbkap 
Bug 809674 - Fail at call time when invoking an XPCWrappedJS method with [implicit_jscontext] or [optional_argc]. r=mrbkap
Bug 811784: Account for subscripts when figuring out what object to stick properties on. r=mrbkap 
Bug 811784: Account for subscripts when figuring out what object to stick properties on. r=mrbkap 
Bug 812716 - Desktop Notifications: Race in nsDOMDesktopNotification constructor. r=dougt 
Bug 813357 - Actually hand off our copy of the notification request to IPDL. r=gwagner 
Bug 808608 - Rescue expando sharing tests. r=mrbkap
Bug 808608 - Implement shadowing protection in nsDOMClassInfo. r=mrbkap
Bug 808608 - Remove unnecessary outparam. r=mrbkap 
Bug 808608 - Remove specialized Location security wrappers. r=mrbkap 
Bug 808608 - Remove Xray shadowing protection infrastructure. r=mrbkap
Bug 812717 - Use the correct nsISupports pointer. r=dougt 
Bug 812415 - Use wrapperSubsumes rather than isChrome in XPCNativeWrapper.unwrap. r=mrbkap
Bug 807136 - Enable schedule scan recovery based on device property. r=mrbkap 
Bug 811833 - [System] When the device is woken from sleep, wifi does not automatically connect to the network. r=mrbkap 
Bug 813762: Teach OS.File about compartment sharing. r=mrbkap 
Bug 811784: Account for subscripts when figuring out what object to stick properties on. r=mrbkap 
Bug 814102: Make the 'this' object used when compartment sharing a FakeBackstagePass. r=mrbkap 
Bug 817983 - Disconnect first so that we force ourselves to actually try again. r=vchang 
Don't hoist typeguards that are guaranteed to bail. (bug 818791, r=dvander) (also fix a comment for mrbkap) 
Bug 813901 - Throw COW exceptions in the wrapper's scope. r=mrbkap 
Bug 813901 - Validate __exposedProps__. r=mrbkap
Bug 815070 - [Wifi Tethering] Wait driver ready before turning on Wifi tethering. r=mrbkap a=blocking-basecamp 
Bug 820185 - Fix the copy constructor to not use uninitialized members. r=bent 
Bug 819164 - reply_len is only valid before we call readString because of UTF-8 interpretation so do our string fixup based on that. r=gal 
Bug 818716 - Move XBL detection into nsContentUtils and remove filename hack. r=mrbkap 
Bug 821158 - Extract a number out of the size_t-containing object. r=jst 
Bug 813880 - Unable to disable network when user connects to wep network with incorrect password. r=mrbkap 
Bug 806531 - Incorrect WPA-EAP username/password does not trigger incorrect password prompt, retries with bad password forever. r=mrbkap 
Bug 821539 - Don't expose ad-hoc networks in the regular network list. r=vchang 
Bug 814026, r=mrbkap. 
Bug 823117 - Don't shadow parameters with local variables. r=vchang 
Bug 822494 - Protect against two calls to associate racing against each other to add the network. r=vchang 
Bug 790054 - Don't offer to connect to WPA-EAP access points. Continue to allow connecting to already-configured access points. r=vchang 
Bug 790054 - Allow WPA-EAP networks based on a gecko pref. r=fabrice 
Bug 783129 - Implementation of document.register without shadow DOM support. r=mrbkap, bent 
Bug 823225.  Move .wrappedJSObject from nsWindowSH::GetProperty to the outer window get hook.  r=mrbkap 
Bug 826410 - Add a missing interface to MediaElement's QI impl. r=jst 
Bug 827274 - 'crash in [@ anonymous namespace::CTypesActivityCallback(JSContext*, js::CTypesActivityType)], add ctypes closure support to new worker memory reporting mechanism. r=khuey+mrbkap, a=jlebar. 
Bug 827274 - Fix bustage, r=mrbkap. 
Bug 827274 - 'crash in [@ anonymous namespace::CTypesActivityCallback(JSContext*, js::CTypesActivityType)], add ctypes closure support to new worker memory reporting mechanism. r=khuey+mrbkap. 
Bug 820458 - Try harder to avoid notifying for the same request twice. r=vchang 
Bug 825049 - Wi-Fi hotspot fails if password contains space. r=mrbkap 
Bug 828909 - Sanitize Wi-Fi hotspot username and password r=mrbkap 
Bug 829309 - Assertion re-entering a hashtable in nsAudioChannelService, r=mrbkap 
Bug 823400 - Wifi toggle should not write settings db twice. r=mrbkap 
Bug 829529 - [Wifi hotspot] Wifi hotspot settings should be disabled automatically when we turn on wifi. r=mrbkap 
Bug 828395 - System messages handler is fired twice if there was already an handler for b.html contained into an iframe a.html and the page navigate to b.html r=fabrice,genelian 
Bug 830616 - A follow-up for bug 828395 to fix some buggy logic in handling the targets of system message. r=mrbkap,benjaminchen 
Bug 823348 - Uninline UniversalXPConnect management. r=mrbkap
Bug 823348 - Don't set universalXPConnectEnabled for chrome compartments. r=mrbkap
Bug 823348 - Remove broken and unused __scriptOnly__ check. r=mrbkap
Bug 823348 - Do a better job of lying about the holder and make assertions fatal. r=mrbkap
Bug 823348 - Make NNXOWs use an explicitly opaque Policy. r=mrbkap
Bug 823348 - Flip off the wantXrays for chrome sandboxes. r=mrbkap
Bug 823348 - Use EnsureCompartmentPrivate In Rewrap and stop checking for null. r=mrbkap 
Bug 823348 - Use GetXrayType for content->chrome Xray wrappers. r=mrbkap
Bug 823348 - Precompute various parameters in Rewrap. r=mrbkap
Bug 823348 - Move COW prototype remapping out of wrapper selection. r=mrbkap
Bug 823348 - Hoist special cases to the top of WrapperFactory::Rewrap. r=mrbkap
Bug 823348 - Replace security wrapper enumeration with a more rule-based approach. r=mrbkap 
Bug 823348 - Stop checking for Xray waivers in the Xray machinery. r=mrbkap
Bug 823348 - Tests. r=mrbkap
Bug 831716 - [Settings] [Internet sharing][wifi] Tapping Wi-fi hotspot/wifi ON disable Wi-fi connection forever. r=mrbkap, dflanagan 
Bug 831076 - Outerize at the very beginning of XPConnect wrapping and remove other outerization checks. r=mrbkap 
Bug 831076 - Outerize during same-compartment wrapping so that JS_Wrap* is guaranteed to outerize. r=mrbkap 
Bug 831076 - Enter a compartment in jsd. r=mrbkap 
Bug 831076 - Add assertSameCompartment to JS_ObjectToOuterObject, and clean up classinfo hook. r=mrbkap 
Bug 838182 - Part a: Remove nsWindowSH::SecurityCheckOnAddDelProp and nsWindowSH::SecurityCheckOnSetProp; r=mrbkap 
Bug 838182 - Part b: Remove dead code handling outer windows in nsDOMClassInfo::PreCreate; r=mrbkap 
Bug 479499 - Re-enable this crashtest since it appears to no longer hang. r=peterv 
Bug 812669 - Remove XPConnect equality hooks. r=mrbkap 
Bug 839116 followup.  Stop depending on <html> elements having a content-visible QueryInterface in the poor CLOSED TREE.  r=mrbkap 
Bug 834732 - Get rid of footgun bool param for nsCxPusher and use an explicit enum. r=mrbkap
Bug 834732 - Make SafeAutoJSContext actually push something. r=mrbkap
Bug 834732 - Make nsDocShell::AddState push the JSContext if it grabs one, and remove push in nsStructuredCloneContainer. r=mrbkap
Bug 834732 - Move cx pushing into nsPluginProtoChainInstallRunner. r=mrbkap
Bug 834732 - Remove PushBehavior. r=mrbkap
Bug 834732 - Make nsCxPusher.Push(JSContext*) infallible. r=mrbkap
Bug 834732 - Implement stricter cx handling in xpc_EvalInSandbox. r=mrbkap 
Bug 834732 - Push a cx in nsWindowSH::NewResolve. r=mrbkap 
Bug 834732 - Push a cx in nsPrincipal::SetDomain. r=mrbkap 
Bug 834732 - Push a cx in AdoptNode. r=mrbkap 
Bug 834732 - Improve pushing in nsJSEnvironment. r=mrbkap 
Bug 834732 - Assert proper cx stack handling in WrapperFactory::Rewrap. r=mrbkap 
Bug 819158 - Introduce stopAtOuter for UnwrapObjectChecked. r=mrbkap
Bug 841234 - PhoneNumberJS: fix typo with lastKnownMcc. r=mrbkap 
Bug 836301 - Assert against JSID_VOID in JSID wrapping. r=mrbkap
Bug 836301 - Stop using JSRESOLVE_ASSIGNING to determine GET vs SET. r=mrbkap
Bug 836301 - Add Special handling to allow us to call enter() for defineProperty on Xrays. r=mrbkap 
Bug 836301 - Stop enter()ing with CALL for nativeCall. r=mrbkap
Bug 836301 - Add tracking for whether we have a non-trivial enter() trap. r=mrbkap
Bug 836301 - Hoist enter() into BaseProxyHandler. r=mrbkap 
Bug 836301 - Introduce an RAII class for entering policies. r=mrbkap
Bug 836301 - Hoist enter() calls from {Xray,}Wrapper::foo into Proxy::foo. r=mrbkap 
Bug 836301 - Hoist some assertions, remove a bunch of no-op trap overrides, and add assertions that we've entered our policy. r=mrbkap 
Bug 836301 - Assert against JSID_VOID in JSID wrapping. r=mrbkap
Bug 836301 - Stop using JSRESOLVE_ASSIGNING to determine GET vs SET. r=mrbkap
Bug 836301 - Add Special handling to allow us to call enter() for defineProperty on Xrays. r=mrbkap 
Bug 836301 - Stop enter()ing with CALL for nativeCall. r=mrbkap
Bug 836301 - Add tracking for whether we have a non-trivial enter() trap. r=mrbkap
Bug 836301 - Hoist enter() into BaseProxyHandler. r=mrbkap 
Bug 836301 - Introduce an RAII class for entering policies. r=mrbkap
Bug 836301 - Hoist enter() calls from {Xray,}Wrapper::foo into Proxy::foo. r=mrbkap 
Bug 836301 - Hoist some assertions, remove a bunch of no-op trap overrides, and add assertions that we've entered our policy. r=mrbkap 
Bug 812693 - Remove GetJSObjectOfWrapper. r=mrbkap 
Bug 834732 - Get rid of footgun bool param for nsCxPusher and use an explicit enum. r=mrbkap
Bug 834732 - Make SafeAutoJSContext actually push something. r=mrbkap
Bug 834732 - Make nsDocShell::AddState push the JSContext if it grabs one, and remove push in nsStructuredCloneContainer. r=mrbkap
Bug 834732 - Move cx pushing into nsPluginProtoChainInstallRunner. r=mrbkap
Bug 834732 - Remove PushBehavior. r=mrbkap
Bug 834732 - Make nsCxPusher.Push(JSContext*) infallible. r=mrbkap
Bug 834732 - Implement stricter cx handling in xpc_EvalInSandbox. r=mrbkap 
Bug 834732 - Push a cx in nsWindowSH::NewResolve. r=mrbkap 
Bug 834732 - Push a cx in nsPrincipal::SetDomain. r=mrbkap 
Bug 834732 - Push a cx in AdoptNode. r=mrbkap 
Bug 834732 - Improve pushing in nsJSEnvironment. r=mrbkap 
Bug 834732 - Introduce AutoPushJSContext. r=mrbkap
Bug 834732 - Audit callers of GetNativeContext and use AutoPushJSContext where appropriate. r=mrbkap 
Bug 834732 - Assert proper cx stack handling in WrapperFactory::Rewrap. r=mrbkap 
Bug 845201 - Pass mayThrow=true to iterate. r=mrbkap
Bug 846067 - Add a missing interface to the QI impl. r=jlebar 
Bug 783129 - Implementation of document.register without shadow DOM support. r=mrbkap 
Bug 790732 - Remove the aTarget parameter from AttachComponentsObject. r=mrbkap
Bug 790732 - Stop attaching Components in InitClasses. r=mrbkap
Bug 790732 - Remove Components warning and Telemetry. r=mrbkap 
Bug 790732 - Omit Components object for content scopes. r=mrbkap 
Bug 846615 - Re-implement UnixSocket's shutdown sequence to avoid running any code on deleted UnixSocketImpls, r=bent 
Bug 846615 - Remove some functionality that is no longer needed, r=bent 
Bug 825697 - Check for all wrapper types. r=mrbkap 
Bug 805807 - Tests. r=mrbkap 
Bug 815924 - Wifi hotspot (tethering / internet sharing) should be disabled if data connection is not established r=mrbkap, swu. 
Bug 850000 - Don't clobber exceptions set in security wrapper check() hooks. r=mrbkap 
Bug 813901 - Tests. r=mrbkap 
Bug 849730 - Let objectClassIs through for COWs. r=mrbkap 
Bug 850517 - Factor out child window lookup into a helper. r=mrbkap 
Bug 850517 - Support named window access via Xray. r=mrbkap 
Bug 850517 - Switch named children resolution to pure getters on the global scope polluter. r=mrbkap
Bug 850517 - Remove nsWindowSH::GetProperty. r=mrbkap
Bug 844431 - B2G MMS: provide nsIDOMMobileMessageManager interface (with sendMMS() first) (part 2, nsIDOMMozMmsMessage). r=vicamo,mounir,mrbkap sr=sicking a=leo+ 
Bug 658909 - Make isSafeToUnwrap pseudo-dynamic for SOWs. r=mrbkap
Bug 658909 - Remove unnecessary ccx param. r=mrbkap 
Bug 658909 - Initialize the same fields in both XPCCallContext constructors. r=mrbkap
Bug 658909 - Set args at XPCCallContext construct time in XPC_WN_GetterSetter. r=mrbkap
Bug 658909 - Implement carefully-checked unwrapping in XPCCallContext. r=mrbkap 
Bug 658909 - Use JS_{,Strict}PropertyOp instead of null when defining value props in nsDOMClassInfo. r=mrbkap
Bug 658909 - Add a hack to support calling nohelper XPCWN methods without the proper |this|. r=mrbkap 
Bug 658909 - Stop doing all the crazy stuff in GetWrappedNativeOfJSObject. r=mrbkap 
Bug 658909 - Add a new, much simpler API for getting WNs from JS objects. r=mrbkap 
Bug 658909 - Remove GWNOJO from MarkWrappedNative. r=mrbkap 
Bug 658909 - Remove GWNOJO for helper stubs. r=mrbkap 
Bug 658909 - Remove GWNOJO from JSObject2NativeInterface. r=mrbkap 
Bug 658909 - Remove GWNOJO from JSValToXPCException. r=mrbkap 
Bug 658909 - Remove GWNOJO from XPCJSID. r=mrbkap 
Bug 658909 - Remove GWNOJO from XPCVariant. r=mrbkap
Bug 658909 - Remove GWNOJO from nsXPConnect. r=mrbkap 
Bug 658909 - Remove GWNOJO from AccessCheck. r=mrbkap 
Bug 658909 - Remove GWNOJO from nsDOMClassInfo. r=mrbkap 
Bug 658909 - Remove GWNOJO from PreserveWrapper. r=mrbkap 
Bug 658909 - Port tearoff-handling guts of GWNOJO to XPCCallContext and remove GWNOJO. r=mrbkap 
Bug 658909 - Tests. r=mrbkap 
Bug 850000 - Don't clobber exceptions set in security wrapper check() hooks. r=mrbkap 
Bug 813901 - Tests. r=mrbkap 
Bug 850676 - test_mixed_content_blocker_bug803225.html is causing docshell/test/navigation tests to fail. r=tanvi 
Bug 851418 - Unscope the pusher in CompileEventHandlerInternal. r=mrbkap 
Bug 823227 - Stop pref-controlling the GSP. r=mrbkap 
Bug 851770 - UnixSocket should only build when needed; r=mrbkap 
Bug 853283 - Grab the window directly from the navigator in nsNavigatorSH::NewResolve. r=mrbkap 
Bug 658909 - Make isSafeToUnwrap pseudo-dynamic for SOWs. r=mrbkap
Bug 658909 - Remove unnecessary ccx param. r=mrbkap 
Bug 658909 - Initialize the same fields in both XPCCallContext constructors. r=mrbkap
Bug 658909 - Set args at XPCCallContext construct time in XPC_WN_GetterSetter. r=mrbkap
Bug 658909 - Implement carefully-checked unwrapping in XPCCallContext. r=mrbkap 
Bug 658909 - Use JS_{,Strict}PropertyOp instead of null when defining value props in nsDOMClassInfo. r=mrbkap
Bug 658909 - Add a hack to support calling nohelper XPCWN methods without the proper |this|. r=mrbkap 
Bug 658909 - Stop doing all the crazy stuff in GetWrappedNativeOfJSObject. r=mrbkap 
Bug 658909 - Add a new, much simpler API for getting WNs from JS objects. r=mrbkap 
Bug 658909 - Remove GWNOJO from MarkWrappedNative. r=mrbkap 
Bug 658909 - Remove GWNOJO for helper stubs. r=mrbkap 
Bug 658909 - Remove GWNOJO from JSObject2NativeInterface. r=mrbkap 
Bug 658909 - Remove GWNOJO from JSValToXPCException. r=mrbkap 
Bug 658909 - Remove GWNOJO from XPCJSID. r=mrbkap 
Bug 658909 - Remove GWNOJO from XPCVariant. r=mrbkap
Bug 658909 - Remove GWNOJO from nsXPConnect. r=mrbkap 
Bug 658909 - Remove GWNOJO from AccessCheck. r=mrbkap 
Bug 658909 - Remove GWNOJO from nsDOMClassInfo. r=mrbkap 
Bug 658909 - Remove GWNOJO from PreserveWrapper. r=mrbkap 
Bug 658909 - Port tearoff-handling guts of GWNOJO to XPCCallContext and remove GWNOJO. r=mrbkap 
Bug 658909 - Tests. r=mrbkap 
Bug 851895 - Don't assert against a failure in CanCallNow. r=mrbkap
Bug 851895 - Expand the this-fixup hack to include Cu. r=mrbkap 
Bug 851895 - Tests. r=mrbkap 
Bug 853283 - Grab the window directly from the navigator in nsNavigatorSH::NewResolve. r=mrbkap 
Bug 658909 - Make isSafeToUnwrap pseudo-dynamic for SOWs. r=mrbkap
Bug 658909 - Remove unnecessary ccx param. r=mrbkap 
Bug 658909 - Initialize the same fields in both XPCCallContext constructors. r=mrbkap
Bug 658909 - Set args at XPCCallContext construct time in XPC_WN_GetterSetter. r=mrbkap
Bug 658909 - Implement carefully-checked unwrapping in XPCCallContext. r=mrbkap 
Bug 658909 - Use JS_{,Strict}PropertyOp instead of null when defining value props in nsDOMClassInfo. r=mrbkap
Bug 658909 - Add a hack to support calling nohelper XPCWN methods without the proper |this|. r=mrbkap 
Bug 658909 - Stop doing all the crazy stuff in GetWrappedNativeOfJSObject. r=mrbkap 
Bug 658909 - Add a new, much simpler API for getting WNs from JS objects. r=mrbkap 
Bug 658909 - Remove GWNOJO from MarkWrappedNative. r=mrbkap 
Bug 658909 - Remove GWNOJO for helper stubs. r=mrbkap 
Bug 658909 - Remove GWNOJO from JSObject2NativeInterface. r=mrbkap 
Bug 658909 - Remove GWNOJO from JSValToXPCException. r=mrbkap 
Bug 658909 - Remove GWNOJO from XPCJSID. r=mrbkap 
Bug 658909 - Remove GWNOJO from XPCVariant. r=mrbkap
Bug 658909 - Remove GWNOJO from nsXPConnect. r=mrbkap 
Bug 658909 - Remove GWNOJO from AccessCheck. r=mrbkap 
Bug 658909 - Remove GWNOJO from nsDOMClassInfo. r=mrbkap 
Bug 658909 - Remove GWNOJO from PreserveWrapper. r=mrbkap 
Bug 658909 - Port tearoff-handling guts of GWNOJO to XPCCallContext and remove GWNOJO. r=mrbkap 
Bug 658909 - Tests. r=mrbkap 
Bug 851895 - Don't assert against a failure in CanCallNow. r=mrbkap
Bug 851895 - Expand the this-fixup hack to include Cu. r=mrbkap 
Bug 851895 - Tests. r=mrbkap 
Bug 845211 - [Wi-Fi] "undefined" sometimes showed to Wi-Fi MAC address value of Settings. r=mrbkap 
Bug 818976 - Part 2: Implement template element interface. r=mrbkap,bz 
Bug 854604 - Null-check funobj. r=mrbkap
Bug 790732 - Remove the aTarget parameter from AttachComponentsObject. r=mrbkap
Bug 790732 - Stop attaching Components in InitClasses. r=mrbkap
Bug 790732 - Make Components console warning test pref-aware. r=mrbkap 
Bug 790732 - Define a lazily-resolved shim for Components. r=mrbkap 
Bug 790732 - Omit Components object for content scopes. r=mrbkap 
Bug 790732 - Components shim telemetry. r=mrbkap 
Bug 790732 - Components shim tests. r=mrbkap 
Bug 790732 - Remove the aTarget parameter from AttachComponentsObject. r=mrbkap
Bug 790732 - Stop attaching Components in InitClasses. r=mrbkap
Bug 790732 - Make Components console warning test pref-aware. r=mrbkap 
Bug 790732 - Define a lazily-resolved shim for Components. r=mrbkap 
Bug 790732 - Omit Components object for content scopes. r=mrbkap 
Bug 790732 - Components shim telemetry. r=mrbkap 
Bug 790732 - Components shim tests. r=mrbkap 
Bug 853200 - Remove unused event handlers from idl, r=echou, sr=mrbkap 
Bug 852436 - nsWrapperCache::WrapObject returning false means failure, even if there's no pending exception. r=bz 
Bug 853709 - Deny accessor definitions in SecurityWrapper. r=mrbkap 
Bug 854480 - Remove old-style unwrapping from nsDOMClassInfo. r=mrbkap 
Bug 854480 - Remove old-style unwrapping from QuickStubs. r=mrbkap 
Bug 854480 - Remove old-style unwrapping from XPCWrappedJSClass. r=mrbkap
Bug 854480 - Remove old-style unwrapping from GetNativeOfWrapper. r=mrbkap 
Bug 854480 - Remove old-style unwrapping infrastructure. r=mrbkap 
Bug 854480 - Remove SCRIPT_ACCESS_ONLY. r=mrbkap 
Bug 855453 - Move UnixSocket connect delay to main thread cancelable task; r=mrbkap 
Bug 856257 - Clean up nsXPConnect sandbox API a bit. r=mrbkap 
Bug 856257 - Use a sandbox in nsJSConfigTriggers. r=mrbkap 
Bug 856849 - Poison nsGlobalWindow::mJSObject when it's finalized (r=mrbkap) 
Bug 845862 - Transitively apply waivers for accessor descriptors. r=mrbkap 
Bug 843829 - Fix incorrect test. r=mrbkap
Bug 843829 - Apply transitive waivers for nativeCall. r=mrbkap 
Bug 843829 - Stop using IsTransparent for XBL field access, and explicitly waive instead. r=mrbkap 
Bug 843829 - Explicitly add a waiver in FieldGetter and FieldSetter. r=mrbkap 
Bug 843829 - Wrap unwaived content JS objects in opaque wrappers for XBL scopes. r=mrbkap 
Bug 845862 - Transitively apply waivers for accessor descriptors. r=mrbkap 
Bug 843829 - Fix incorrect test. r=mrbkap
Bug 843829 - Apply transitive waivers for nativeCall. r=mrbkap 
Bug 843829 - Stop using IsTransparent for XBL field access, and explicitly waive instead. r=mrbkap 
Bug 843829 - Explicitly add a waiver in FieldGetter and FieldSetter. r=mrbkap 
Bug 843829 - Wrap unwaived content JS objects in opaque wrappers for XBL scopes. r=mrbkap 
Bug 851046 - New interface: BluetoothSocketObserver. r=mrbkap
Bug 851046 - New class: BluetoothSocket. r=mrbkap
Bug 851046 - Use (Bluetooth*Managers)->Disconnect() instead of (Bluetooth*Managers)->CloseSocket() since managers are not UnixSocketConsumer anymore. r=mrbkap 
Bug 851046 - Apply BluetoothSocket to BluetoothOppManager. r=mrbkap 
Bug 851046 - Apply BluetoothSocket to BluetoothHfpManager. r=mrbkap 
Bug 851046 - Apply BluetoothSocket to BluetoothScoManager. r=mrbkap 
Bug 851046 - Remove function ListenSocketViaService(). r=mrbkap
Bug 851046 - Add BluetoothSocket* as an argument of callback functions in BluetoothSocketObserver. r=mrbkap
Bug 851046 - Small misc fixes. r=mrbkap
Bug 851965 - Remove this crashtest due to hanging. r=gwagner 
Bug 855036 - Don't treat a string as an object. r=gwagner 
Bug 851046: Patch 2 - New Class: BluetoothSocket; r=mrbkap 
Bug 851046: Patch 3 - Replace (Bluetooth*Managers)->CloseSocket() with (Bluetooth*Managers)->Disconnect(); r=mrbkap 
Bug 851046: Patch 4 - Apply BluetoothSocket to BluetoothOppManager; r=mrbkap 
Bug 851046: Patch 5 - Apply BluetoothSocket to BluetoothHfpManager; r=mrbkap 
Bug 851046: Patch 6 - Apply BluetoothSocket to BluetoothScoManager; r=mrbkap 
Bug 851046: Patch 7 - Remove function ListenSocketViaService(); r=mrbkap 
Bug 851046: Patch 8 - Add BluetoothSocket* as an argument of callback functions in BluetoothSocketObserver; r=mrbkap 
Bug 851046: Patch 9 - Small misc fixes; r=mrbkap 
Bug 851046: Patch 1 - New interface: BluetoothSocketObserver; r=mrbkap 
Bug 851046: Patch 2 - New Class: BluetoothSocket; r=mrbkap 
Bug 851046: Patch 3 - Replace (Bluetooth*Managers)->CloseSocket() with (Bluetooth*Managers)->Disconnect(); r=mrbkap 
Bug 851046: Patch 4 - Apply BluetoothSocket to BluetoothOppManager; r=mrbkap 
Bug 851046: Patch 5 - Apply BluetoothSocket to BluetoothHfpManager; r=mrbkap 
Bug 851046: Patch 6 - Apply BluetoothSocket to BluetoothScoManager; r=mrbkap 
Bug 851046: Patch 7 - Remove function ListenSocketViaService(); r=mrbkap 
Bug 851046: Patch 8 - Add BluetoothSocket* as an argument of callback functions in BluetoothSocketObserver; r=mrbkap 
Bug 851046: Patch 9 - Small misc fixes; r=mrbkap 
Bug 839467 - Remove JSContext pushing in AdoptNode. r=mrbkap 
Bug 839467 - Remove aCx parameter to CloneAndAdopt. r=mrbkap
Bug 856840 - Kill FindWrapper. r=mrbkap 
Bug 849739 2/5: DOM. r=mounir,mrbkap 
Bug 844705 - Add comment to mReadFileThread. r=mrbkap 
Bug 849739 2/4: DOM. r=mounir,mrbkap 
Bug 847744: Part 4 - IPC implementation for MMS send(). r=jdm,vicamo,mrbkap 
Bug 840098. r=bz 
Bug 859957 - Simplify [[DefaultValue]] security wrapping setup. r=mrbkap,gabor,ejpbruel 
Bug 859486 - Add system property to enable the unloading of Wi-Fi drivers r=mrbkap 
Bug 823803 - Manage two server sockets (RFCOMM/EL2CAP) in BluetoothOppManager, r=mrbkap, r=gyeh
Bug 857820 part.3 Drop <blink> support from HTML parser r=mrbkap 
Bug 854302 - [Buri][WIFI]Cann't disconnect WIFI when connect AP use WPS. r=mrbkap 
Bug 855062 - Add initialization function for DOMRequest FireSuccessAsync; r=mrbkap 
Bug 862462 - Make sure BluetoothAdapter unroots before destruction; r=mrbkap 
Bug 860166 - Use two server sockets to listen to both HFP and HSP services, r=gyeh, r=mrbkap 
Bug 815110 - Change DOMWifiManager so it returns null instead of creating the object if the caller doesn't have the correct permission. r=mrbkap 
Bug 864558 - Fix some minor issues with SMS sending and filtering.  r=mounir, r=mrbkap taking into consideration a comment by bz 
Bug 850157 - Add GetConnectedDevices() in nsIDOMBluetoothAdapter.idl, r=echou, sr= mrbkap 
Bug 868122 - Calculate the JS_SaveFrameChain optimization by directly examining the principal of the default compartment. r=mrbkap,gabor 
Bug 756067 - Remove js::GetOwnerThread. r=mrbkap 
Bug 868675 - Introduce a Cu API for waiving/unwaiving. r=gabor,sr=mrbkap
Bug 869086 - Make textbox.xml resilient against the changes in bug 653881. r=gavin 
Bug 860166 - Create new class BluetoothProfileManagerBase, r=mrbkap
Bug 860166 - New mechanism for establishing outboung Bluetooth connection, r=mrbkap
Bug 830213 - Patch 1: Add ConnectSco, DisconnectSco, IsScoConnected in nsIDOMBluetoothAdapter, r=echou, sr=mrbkap 
Bug 830213 - Patch 2: Implementation of ConnectSco/DisconnectSco/IsScoConnected in BluetoothHfpManager, r=echou, sr=mrbkap 
Bug 871788 - RILContentHelper.js line: 987: JavaScript Error: "setting a property that has only a getter". r=mrbkap 
Bug 871299 - Remove JS_GetGlobalObject from SystemWorkerManager and RIL. r=mrbkap 
Bug 866823 - Don't create waivers in WaiveXrayAndWrap if the caller has no business waiving. r=gabor,mrbkap 
Bug 866823 - Handle standard prototype remapping in PrepareForWrapping. r=gabor,mrbkap 
Bug 862380 - Pass the entered id in addition to the wrapper action to Policy::deny. r=mrbkap 
Bug 862380 - Silently fail for enumerate-like operations on XOWs. r=mrbkap 
Bug 862380 - Tests. r=mrbkap 
Bug 874318 - Don't allow CALL on XOWs. r=mrbkap 
Bug 860435 - Don't use an iterator that's already at the end of the stack. r=terrence 
Bug 858101 - Run the DefaultValue algorithm directly on the wrapper for Xrays. r=mrbkap 
Bug 858101 - Fix other tests. r=mrbkap 
Bug 877862 - Propagate exceptions from PrepareForWrapping. r=mrbkap 
Bug 877862 - Propagate exceptions from PrepareForWrapping. r=mrbkap 
Bug 877478 - Move crashtests that now error-out to chrome tests. r=mrbkap
Bug 877478 - Add a SpecialPowers API for wrapping callbacks and callback objects. r=mrbkap 
Bug 877478 - Fix mochitests with problematic callbacks to use the new API. r=mrbkap 
Bug 877478 - Have SpecialPowers.addObserver modify the observe callback to wrap arguments. r=mrbkap
Bug 877478 - Fix test to use SpecialPowers.{add,remove}Observer. r=mrbkap
Bug 877478 - Fix tests that depend on creating verboten instances in content. r=mrbkap
Bug 877478 - Remove FullTrustSecMan junk. r=mrbkap
Bug 877478 - Remove SetSecurityManagerForJSContext and related APIs. r=mrbkap
Bug 877478 - Move all consumers of GetAppropriateSecurityManager to GetDefaultSecurityManager and rm the former. r=mrbkap 
Bug 877478 - Remove the machinery for security managers in XPCContext. r=mrbkap 
Bug 872907 - Patch 1: Implement BluetoothA2dpManager, r=echou, r=mrbkap 
Bug 872907 - Patch 2: Implement SendSinkMessage in BluetoothService, r=echou, r=mrbkap 
Bug 872907 - Patch 3: Handle Sink property change, r=echou, r=mrbkap 
Bug 872907 - Patch 4: Implement NotifyStatusChagned() and NotifyAudioManager(), r=echou, r=mrbkap 
Bug 868913 - [Buri][Tethering]PC can't display RNDIS com port when reset handset. r=mrbkap 
Bug 877760 - XPConnect always logs an error when a component doesn't implement a method. r=mrbkap 
Bug 881517 - Just use Object.prototype for vanilla XPCWNs. r=mrbkap 
Bug 881517 - Remove mPrototypeNoHelper machinery. r=mrbkap
Bug 882193 - Remove nsIDocumentRegister. r=mrbkap. 
Bug 868913 - Part 2: Fix the wifi initial start problem. r=mrbkap 
Bug 882551 - Patch 1: BluetoothProfileManagerBase inherits nsIObserver, r=qdot, r=mrbkap, r=echou 
Bug 882551 - Patch 2: Remove BluetoothHfpManagerObserver, r=qdot, r=mrbkap, r=echou 
Bug 882551 - Patch 3: Remove BluetoothOppManagerObserver, r=qdot, r=mrbkap, r=echou 
Bug 882551 - Patch 4: Remove BluetoothA2dpManagerObserver, r=qdot, r=mrbkap, r=echou 
Bug 882551 - Patch 5: Change return type of internal functions, r=qdot, r=mrbkap, r=echou 
Bug 864335 - Remove GetScriptGlobalObject. r=mrbkap 
Bug 786700 - Wifi: Add the ability to set a static IP instead of using DHCP. r=vchang, r=mrbkap 
Bug 653881 - Rework XBL insertion points and clean up related code to more closely follow the Web Components model. Instead of maintaining a hashtable of insertion points in bindings (and removing insertions points from the tree) leave the insertion points in the tree as explicit placeholders and teach all other relevant code how to walk the explicit children of elements via two iterators (ExplicitChildIterator and FlattenedChildIterator). Note that this patch does not maintain 100% compatibility with the previous code: there are bug fixes and behavior changes included. For example, by having explicit insertion points in the bindings, it is now easier to handle dynamic changes to the bound element correctly (as well as, eventually, handling dynamic changes to the binding correctly). Patch originally by sicking. r=bzbarsky 
Bug 653881 - Bump the assertion count for 382745-1.xhtml. r=bz 
Bug 872317 - Make the download indicator toolbar button work with the changes in bug 653881. r=mak77 

Bug 872317 - Make the download indicator toolbar button work with the changes in bug 653881. r=mak77 Bug 887950 - Fix the notificationbar code to deal with additional <xbl:children> elements. r=mstange 
Bug 653881 - Add a compatibility hack to allow <xbl:children> elements to be optional when selecting via the child CSS selector. This allows old CSS selectors selecting default content to continue working in the new world. r=dbaron 
Bug 888235 - Use CSSIntSize for nsGlobalWindow::GetInnerWidth/Height; f=kats r=mrbkap 
Bug 888318 - Use CSSIntPoint for nsGlobalWindow::ScrollTo; f=kats r=mrbkap 
Bug 888749 - Don't be confused by <children> elements. r=dao 
Bug 787442 - Turn on wifi/usb tethering simultaneously. r=mrbkap 
Backout patch for bug 887950 in favor of the compatibility hack that landed. 
Backout patch for bug 875165 in favor of the compatibility hack that landed. 
Bug 891088 - Rename nsXBLChildrenElement -> mozilla::dom::XBLChildrenElement. r=peterv 
Bug 860123. r=ehsan 
Bug 890193.  Make the XML prettyprinter actually drop its binding when it unhooks, and remove the now-dead concept of "style binding" in the process.  r=mrbkap 
Bug 890775 - Not all xbl:children elements should be treated specially. r=peterv 
Reftests for bug 890775 - r=peterv 
Bug 888787 - Restore old XBL behavior when a child of the bound element didn't match any of the <children/> in the binding. r=sicking 
Bug 888787 - Add reftests. r=sicking 
Bug 889911 - Introduce xpc::SystemErrorReporter, roughly based on mozJSComponentLoader's error reporter. r=mrbkap 
Bug 889911 - Replace mozJSLoaderErrorReporter with SystemErrorReporter and remove the former. r=mrbkap 
Bug 889911 - Fix tests that unconditionally throw for things reported to the console. r=mrbkap
Bug 889911 - Switch xpcshell to SystemErrorReporter with a little bit of special magic. r=mrbkap
Bug 889911 - Introduce xpc::SystemErrorReporter, roughly based on mozJSComponentLoader's error reporter. r=mrbkap 
Bug 889911 - Switch xpcshell to SystemErrorReporter with a little bit of special magic. r=mrbkap
Bug 889714 - Removed unused ShouldReportWarnings and ShouldCompoleOnly [sic] machinery. r=mrbkap
Bug 889714 - Remove unused ExitCode machinery. r=mrbkap
Bug 889714 - Reduce the number of places where we pull |env| off cx. r=mrbkap 
Bug 889714 - Stash the XPCShellEnvironment instance on the global, rather than the cx. r=mrbkap
Bug 889714 - Stop manually holding onto system JSPrincipals. r=mrbkap 
Bug 889714 - Use SystemErrorReporter instead of ScriptErrorReporter. r=mrbkap
Bug 889714 - Use the SafeJSContext in XPCShellEnvironment. r=mrbkap 
Bug 889714 - Remove ContextCallback junk. r=mrbkap
Bug 889911 - Introduce xpc::SystemErrorReporter, roughly based on mozJSComponentLoader's error reporter. r=mrbkap 
Bug 889911 - Replace mozJSLoaderErrorReporter with SystemErrorReporter and remove the former. r=mrbkap 
Bug 889911 - Fix tests that unconditionally throw for things reported to the console. r=mrbkap
Bug 889911 - Switch xpcshell to SystemErrorReporter with a little bit of special magic. r=mrbkap
Bug 889714 - Removed unused ShouldReportWarnings and ShouldCompoleOnly [sic] machinery. r=mrbkap
Bug 889714 - Remove unused ExitCode machinery. r=mrbkap
Bug 889714 - Reduce the number of places where we pull |env| off cx. r=mrbkap 
Bug 889714 - Stash the XPCShellEnvironment instance on the global, rather than the cx. r=mrbkap
Bug 889714 - Stop manually holding onto system JSPrincipals. r=mrbkap 
Bug 889714 - Use SystemErrorReporter instead of ScriptErrorReporter. r=mrbkap
Bug 889714 - Use the SafeJSContext in XPCShellEnvironment. r=mrbkap 
Bug 889714 - Remove ContextCallback junk. r=mrbkap
Bug 893546 - Fix memory leakage in BluetoothHfpManager.cpp, r=mrbkap 
Bug 796061 - Part 1: Remove mBindingTable from nsBindingManager. r=mrbkap 
Bug 796061 - Part 2: Remove mInsertionParentTable from nsBindingManager. r=mrbkap 
Bug 887334 - Conditionally enter a compartment in WorkerPrivate::DoRunLoop. r=mrbkap 
Bug 891884 - toBlob should support the quality parameter as toDataURL does r=joedrew sr=mrbkap 
Bug 895129 - Fix a typo in the original patch: we should be ignoring xul:observes. r=sicking 
Bug 883766 - JavaScript Warning: "reference to undefined property ret.value" {file: "resource://gre/modules/wifi_worker.js" line: 71} r=mrbkap 
Bug 891884 - toBlob should support the quality parameter as toDataURL does r=joedrew sr=mrbkap 
Bug 894741 - [Buri][WIFI]State has no change when connect AP by WPS. r=mrbkap 
Bug 894737 - [Buri][WIFI-hotspot]Wi-Fi hotspot will be turn off automatic when change the security. r=mrbkap 
Bug 896352 - JavaScript Warning: "reference to undefined property params.interfaceList". r=mrbkap 
Bug 896413 - dnsmasq is not deleted when wifi hotspot is turned off. r=mrbkap 
Bug 896385 - Use nsInterfaceHashtable for nsXBLPrototypeBinding::mInterfaceTable; r=mrbkap 
Bug 891884 - toBlob should support the quality parameter as toDataURL does r=joedrew sr=mrbkap 
Bug 870043 - Factor the watchdog machinery into a helper class. r=mrbkap
Bug 870043 - Add a script-accessible statistics for various watchdog events. r=mrbkap
Bug 870043 - Add support for scripted operation callbacks in XPCShell. r=mrbkap 
Bug 870043 - Add a way to simulate the JSRuntime activity callback from xpcshell. r=mrbkap
Bug 870043 - Watchdog tests. r=mrbkap 
Bug 870043 - Disable the watchdog on b2g. r=mrbkap 
Bug 895805 - Ensure nsBindingManager hashtable is initialized before use. r=mrbkap 
Bug 842948 - Patch 1: Implement API for AVRCP 1.3, r=echou, sr=mrbkap 
Bug 897676 - Null out |si| if we end up using that of the proto in WrapNewGlobal. r=mrbkap 
Bug 897676 - Null out |si| if we end up using that of the proto in WrapNewGlobal. r=mrbkap 
Bug 898811 - Use the system error reporter for XBL compilation. r=mrbkap
Bug 898136 - Remove nsIDOMGlobalObjectConstructor. r=mrbkap 
Bug 803669 - convert nsScannerBufferList to use mozilla::LinkedList; r=mrbkap 
Bug 885388 - Make compilation scopes invisible to the debugger. r=mrbkap 
Bug 880854. When attaching XBL bindings to elements in a static document, sync-load the bindings document so that delayed changes to the shadow DOM don't mess up, for example, printing. r=mrbkap 
Bug 853221 - Patch 2: Distribute events from BluetoothAdapter, r=smaug, sr=mrbkap 
Bug 897386 - Hack to allow adopted browsers to still have XBL bindings. r=sicking 
Bug 887485 - Wifi code needs to issue fwreload to netd as part of initialization. r=mrbkap 
Bug 898926 - xbl:children elements are insertion points if they're inactive. r=sicking 
Bug 898926 - Add reftest. r=sicking 
Bug 891257 - Disconnect gracefully when the user turns off Bluetooth, r=mrbkap 
Bug 902865 - (jb-gonk) Adapt to netd protocol changes for Wifi tethering. r=mrbkap 
Bug 901364 - Hoist slow script prompt machinery into nsGlobalWindow. r=mrbkap 
Bug 901364 - Implement a replacement operation callback in XPConnect. r=mrbkap 
Bug 901364 - Switch to the XPConnect operation callback for DOM windows. r=mrbkap 
Bug 901364 - Make operation callbacks runtime-wide. r=mrbkap 
Bug 901364 - Remove a bunch of now-unused modal state tracking machinery. r=mrbkap 
Bug 903912 - Remove the internals of the old parser since it's only used for about:blank. r=hsivonen 
Bug 651124 - Remove GetChildAt() usage in nsBindingManager. r=mrbkap 
Bug 889795 - Reply 'Authorize' signal for supported profile, r=echou, sr=mrbkap 
Bug 903212 - Add a GC when popping a script entry point. r=mrbkap
Bug 903212 - Remove ScriptEvaluated, and simplify callers. r=mrbkap 
Bug 903212 - Remove nsIXPCScriptNotify machinery. r=mrbkap 
Bug 851353 - Make sure the incoming node's JSObject is up to date. r=bzbarsky 
Bug 897871 - Wifi - Improve wifi startup time. r=mrbkap 
Bug 900855 - Wait driver load and unload complete before proceed next request. r=mrbkap 
Bug 904631 - "System JS : ERROR jar:file:///system/b2g/omni.ja!/components/WifiWorker.js:2889. r=mrbkap 
Bug 904631 - "System JS : ERROR jar:file:///system/b2g/omni.ja!/components/WifiWorker.js:2889. r=mrbkap 
Bug 905364 - Stop using the SafeJSContext in nsScriptSecurityManager::Init. r=mrbkap
Bug 901106 - Remove nsIScriptRuntime. r=mrbkap
Bug 901106 - Get rid of vestigial nsJSRuntime instance and make it a namespace. r=mrbkap
Bug 901106 - Make nsJSRuntime initialization infallible and do it implicitly in the nsJSContext constructor. r=mrbkap
Bug 901106 - Eliminate the nsJSRuntime namespace. r=mrbkap 
Bug 905230 - Use LinkedList for nsXBLJSClass; r=mrbkap 
Bug 897871 - Wifi - Improve wifi startup time. r=mrbkap 
Bug 888227 - Initialize WifiWorker::macAddress to null. r=mrbkap 
Bug 891891 - Print diagnostics when an XPCWrappedJS is QI-ed off-main-thread. r=mrbkap
Bug 903891 - Default the iid to nsISupports in NativeInterface2JSObject, and assert |Interface| when getting an XPCWrappedNative. r=mrbkap 
Bug 907971 - Remove builtinclass from nsIAlarmHalService to allow the browser-helper to override it for desktop b2g. r=gene.lian@mozilla.com 
bug 908347 - rm nsIElementObserver r=mrbkap 
bug 908347 - rm useless includes in nsToken.h r=mrbkap 
bug 908347 - remove HTMLContentSink::AddAttribute() r=mrbkap
bug 908347 - CreateContentObject() doesn't need a parser node r=mrbkap 
bug 908347 - SinkContext::OpenContainer() only needs a tag r=mrbkap 
bug 908347 - OpenBody() doesn't need a parser node r=mrbkap 
bug 908347 - HTMLContentSink::OpenContainer() doesn't need a parser node either r=mrbkap 
bug 908347 - rm the bits of nsIHTMLContentSink nobody calls r=mrbkap 
bug 908347 - kill nsIParserNode r=mrbkap 
bug 908347 - gut nsHTMLTokenizer a bit more r=mrbkap 
bug 908347 - remove nsIHTMLCOntentSink::IsEnabled r=mrbkap 
bug 908347 - make Open / Close Container() take an enum with only html and body elements r=mrbkap 
bug 908347 - remove OpenHeadContext() r=mrbkap 
bug 908347 - rm nsIDebugDumpContent r=mrbkap 
bug 908347 -  make a bunch of html content sink stuff explicitly only deal with html:body r=mrbkap 
bug 908347 - remove text handling from html content sink r=mrbkap 
bug 908347 - remove AddLeaf() r=mrbkap 
bug 908347 - remove logging stuff for html content sink r=mrbkap
bug 908347 - rename CloseContainer() to CloseBody() r=mrbkap 
Bug 864932 - Rewrite wifi workers in c++ r=mrbkap 
Bug 909065 - Call property_get and property_set directly from WifiWorker.js r=mrbkap 
Bug 860123 - Part 1: Disallow extending or collapsing selections across documents; r=ehsan 
Bug 908019 - Split up watchdog tests to run in parallel. r=mrbkap
Bug 910863 - Skip firing the operation callback if a debugger is attached. r=mrbkap,glandium 
Bug 911085 - Workers postMessage has to set its return value, r=mrbkap 
Bug 912044 - Initialize rv so we don't use it uninitialized. r=bz 
Bug 860123 - Part 1: Disallow extending or collapsing selections across documents; r=ehsan 
Bug 860123 - Use the right window's selection in some tests; r=ehsan 
Bug 910974 - Patch 1: Dispatch events when remote device queries current play status, r=echou, sr=mrbkap 
Bug 910484 - Use a pointer to hold a global static variable to avoid assertion, r=mrbkap
Bug 912086 - Several Workers methods do not set their return value. r=mrbkap 
Bug 906305 - Patch 2: Make parameter service UUID of Connect() optional, r=echou, sr=mrbkap 
Bug 905364 - Stop using the SafeJSContext in nsScriptSecurityManager::Init. r=mrbkap
Bug 897678 - Make worker code stop using propertyops, as a step toward removing propertyops altogether.  r=mrbkap 
Bug 870704 - [Buri][Shira-49020] There is no option to configure a proxy for WiFi connections. r=vchang, sr=mrbkap 
Bug 906631 - 0002. Check state in queued command callback. r=vchang, r=mrbkap 
Bug 916364 - Remove the unused mNumConsumed int. r=mrbkap 
Bug 912379 - Unwrap before translating StopIteration. r=mrbkap
Fix bug 916404. r=mccr8 
Bug 917515 - Check for null before checking the document. r=ehsan 
Bug 921519 - Really disable the slow script dialog on b2g. r=bholley 
Bug 921454 - Skip unwrap safety assertion for cross-compartment SOWs. r=mrbkap
Bug 927201 - Add null check before trying to close observer service. r=mrbkap 
Bug 851353 - Add crashtest. r=bholley 
Bug 840098 - Add mochitest. r=bzbarsky 
Bug 851353 - Disable this test that only fails on android. 
Bug 922009 - MOZ_CRASH when trying to transplant objects with SCSWs. r=mrbkap 
Bug 925638 - Patch 3/3: webidl file change, r=echou, sr=mrbkap 
Bug 928476 - Add telemetry to measure cross-global adopts. r=mrbkap,nfroyd 
Bug 853356 - Part 1: Add new permissions and prompt for mutiple permissions request. r=fabrice, felipc, wjohnston, mrbkap, jimm 
Bug 912015 - Support multiple wap_supplicant connections. r=mrbkap 
Bug 931664 - Fix -Wunused-variable warning in nsScanner.cpp. r=mrbkap 
Bug 924702 - Rewrite the app:// protocol handler in c++ r=jduell,mrbkap 
Bug 924702 - Fix an XPCOM violation, compartment mismatch and rooting error. r=fabrice 
Bug 923961 - Force b2g-desktop to composite on OSX. r=mstange 
Bug 932303: Mark parser/htmlparser/src as FAIL_ON_WARNINGS. r=mrbkap 
Bug 853356 - Part1 Add new permissions and prompt for mutiple permissions request. r=fabrice, felipc, wjohnston, mrbkap, jimm 
Bug 853356 - Part1 Add new permissions and prompt for mutiple permissions request. r=fabrice, felipc, wjohnston, mrbkap, jimm 
Bug 855326 - CSP 1.1 nonce-source for scripts and styles. r=mrbkap r=dholbert r=geekboy 
Bug 855326 - CSP 1.1 nonce-source for scripts and styles r=mrbkap r=dholbert r=geekboy 
Bug 902654 - refactor CSP call sites for readability r=dholbert r=mrbkap 
Bug 933113 - Modify Pair/Unpair interface for Gaia being able to Pair/Unpair with only BD address, r=gyeh, sr=mrbkap
Bug 934000 - Minor SMS bugfixes. r=mrbkap 
Bug 866823 - Tests. r=gabor,mrbkap 
Bug 858101 - Tests. r=mrbkap 
Bug 673569 - Let each frame script have its own anonymous scope (r=smaug,Waldo,mrbkap,bsmedberg) 
Bug 921991 - B2G BT: support multiple sim cards, r=echou, r=mrbkap 
Bug 936933 XBL should get the command controller directly from the window root r=mrbkap 
Bug 943804 Always clear insertion points of cleared inserted children r=mrbkap 
Bug 939518 - Part a: move support files for dom-level1-core into manifests; r=mrbkap 
Bug 939518 - Part b: move support files for dom-level2-core into manifests; r=mrbkap 
Bug 939518 - Part c: move support files for dom-level2-html into manifests; r=mrbkap 
Bug 866689 - Add more inner / outer window assertions; r=mrbkap 
Bug 942104 - Add an event "ondiscoverystatechanged", r=gyeh, sr=mrbkap 
Bug 806506 - Part 1: Implement ShadowRoot interface with DOM accessor methods. r=mrbkap,ehsan 
Bug 806506 - Part 2: Implement innerHTML on ShadowRoot. r=mrbkap 
Bug 854736 - Implement HTML content element. r=mrbkap 
Bug 929885 - Implement web components ShadowRoot style sheet behavior. r=mrbkap 
Bug 933483 - Don't fire events (and especially request animation frame events) when we're in a modal dialog. Also protect ourselves from resuming events on a closed window. r=smaug 
Bug 811635 - Part 1: Webidls/idls for WifiP2pManager and WifiP2pStatusChangeEvent. r=vchang, sr=mrbkap 
Bug 673569 - Let each frame script have its own anonymous scope (r=smaug,Waldo,mrbkap,bsmedberg) 
Bug 933483 - Don't fire events (and especially request animation frame events) when we're in a modal dialog. r=smaug 
Bug 933219 - Fix compartment mismatch in MobileMessageManager::Send. r=gwagner 
Bug 933219 - Fix compartment mismatch in MobileMessageManager::Delete. r=gwagner 
Bug 843910 - Expose document state changes via observer service r=mrbkap 
Bug 944309: Change null check for window from assert to full check/fail in Notification.cpp; r=mrbkap r=mhenretty 
Bug 853356 - Part1 Add new permissions and prompt for mutiple permissions request. r=fabrice, felipc, wjohnston, mrbkap, jimm 
Bug 946437 - Fix cycle collection crash dealing with mobile connection arrays. r=hsinyi 
Bug 913734 - Remove custom privilege setup for cut/copy/paste. r=mrbkap 
Bug 913734 - Stop storing security policies on XPCWrappedNativeProtos. r=mrbkap
Bug 913734 - Stop consulting domain policies in CAPS. r=mrbkap
Bug 913734 - Remove now-unused policy machinery. r=mrbkap 
Bug 913734 - Remove EnabledID() machinery. r=mrbkap 
Bug 913734 - Remove namespace mozilla::hotness. r=mrbkap 
Bug 933483 - Don't fire events (and especially request animation frame events) when we're in a modal dialog. r=smaug 
Bug 914762 - Switch Workers to use a normal nsThread event loop, r=mrbkap. 
Bug 673569 - Let each frame script have its own anonymous scope (r=smaug,Waldo,mrbkap,bsmedberg) 
Bug 933483 - Don't fire events (and especially request animation frame events) when we're in a modal dialog. r=smaug 
Bug 952183 - reuseGlobal doesn't account for scripts being recycled (r=mrbkap,khuey) 
Bug 887538 - Implement web components shadow element. r=mrbkap 
Bug 958780 - B2G Crash during FTU. r=smaug 
Bug 883975 - CSP 1.1 hash-source. r=sstamm, r=dholbert, r=mrbkap 
Bug 951948 - Make nsJSID.initialize [noscript]. r=mrbkap
Bug 951948 - Stop using nsISecurityCheckedComponent for nsJSID. r=mrbkap 
Bug 951948 - Remove most nsIXPCScriptable junk on nsXPCComponents. r=mrbkap 
Bug 951948 - Remove nsISecurityCheckedComponents stuff from Components. r=mrbkap
Bug 951948 - Make AttachComponentsObject a non-static method on XPCWrappedNativeScope. r=mrbkap 
Bug 951948 - Get rid of manual nsIClassInfo and nsIXPCScriptable implementations for nsXPCComponents. r=mrbkap
Bug 951948 - Separate out the unprivileged parts of nsXPCComponents into a separate interface and class. r=mrbkap 
Bug 951948 - Store nsXPCComponentsBase on XPCWrappedNativeScope, so that we can have either. r=mrbkap 
Bug 951948 - Add a way for automation to force the creation of a privileged Components object for an unprivileged scope. r=ted,r=mrbkap 
Bug 951948 - Use nsXPCComponentsBase for everything but system-principaled scopes. r=mrbkap 
Bug 951948 - Remove Components wrappers. r=mrbkap
Bug 811635 - Part 1: WebIDLs/IDLs for WifiP2pManager and WifiP2pStatusChangeEvent. r=vchang, sr=mrbkap 
Bug 811635 - Part 6: DOM API test. r=vchang, r=mrbkap 
Bug 950407 - Fix ES6 Proxy forwarding, and apropriately throw on indirect ArrayBuffer __proto__ sets. (r=bholley,Waldo sr=mrbkap) 
Bug 794943 - Remove nsISecurityCheckedComponent IID push from Components.interfaces{,ById}. r=mrbkap
Bug 794943 - Remove custom support for nsISecurityCheckedComponent in nsXPCWrappedJS. r=mrbkap 
Bug 794943 - Remove checks for nsISecurityCheckedComponent in caps. r=mrbkap 
Bug 794943 - Remove nsISecurityCheckedComponent interface. r=mrbkap 
Bug 794943 - Remove CheckXPCPermissions. r=mrbkap 
Bug 961054 - Don't invoke SetLastResult until the completion of an XPCWN method call. r=mrbkap 
Bug 958324 - Remove same-compartment security wrappers for WNs. r=peterv,r=mrbkap
Bug 957688 - Make ComputeStackString pass a principal and remove checkAccess call. r=mrbkap
Bug 957688 - Remove JS_CheckAccess. r=mrbkap
Bug 957688 - Remove side-effect-free calls to js::CheckAccess. r=mrbkap
Bug 957688 - Remove side-effect-y call to js::CheckAccess, and remove js::CheckAccess itself. r=mrbkap
Bug 957688 - Remove checkObjectAccess security callback. r=mrbkap
Bug 957688 - Remove checkAccess nsIXPCScriptable hook. r=mrbkap 
Bug 957688 - Remove checkaccess junk from the XBL compilation scope. r=mrbkap
Bug 957688 - Kill off checkAccess. r=mrbkap 
Bug 957688 - Remove nsIScriptSecurityManager::CheckPropertyAccess. r=mrbkap 
Bug 957688 - Remove nsIXPCSecurityManager::CanAccess and nsScriptSecurityManager::CheckPropertyAccessImpl. r=mrbkap
Bug 959585, clear capturing content before entering modal state, r=mrbkap, f=enn 
Bug 811635 - Part 1: WebIDLs/IDLs for WifiP2pManager and WifiP2pStatusChangeEvent. r=vchang, sr=mrbkap 
Bug 811635 - Part 6: DOM API test. r=mrbkap, r=bz 
Bug 965082 - Unify duplicate bits of state of proxies. r=mrbkap,r=gabor
Bug 965082 - Only run the {get,set}PrototypeOf override for non-SecurityWrappers. r=mrbkap,r=gabor 
Bug 965082 - Tests. r=mrbkap,r=gabor 
Bug 966102 - Squelch a bunch of warnings starting child processes. r=bsmedberg 
Bug 966398 - Kill nsIBidiKeyboard::SetLangFromBidiLevel. r=roc 
Bug 966498 - Refactor nsGlobalWindow::Alert and nsGlobalWindow::Confirm to not be exactly the same. r=bzbarsky 
Bug 966498 - Get rid of unnecessary reinterpret_casts and avoid some unnecessary work. r=bzbarsky 
Bug 962604 - Add ActorDestroy handling to CPOWs (r=mrbkap) 
Bug 956218 - '(PBackground) Add a mechanism for communicating with a non-main I/O thread via thread and process links'. r=mrbkap. 
Bug 956218 - '(PBackground) Add a mechanism for communicating with a non-main I/O thread via thread and process links'. r=mrbkap. 
Bug 967206 - Remove !mDoc->EventHandlingSuppressed() assertion in ~nsGlobalWindow; r=mrbkap 
Bug 853356 - gUM video permisson prompt. r=fabrice, felipc, wjohnston, mrbkap, jimm, jesup, khuey, jsmith 
Bug 965921 - Handle addons that expose JS-implemented XPCOM components to content. r=mrbkap 
Bug 965901 - Track and assert the policy action in AutoEnterPolicy/assertEnteredPolicy. r=gabor sr=mrbkap 
Bug 965901 - Add an ENUMERATE policy action. r=gabor sr=mrbkap 
Bug 956382 - Introduce an explicit API to do principal checks with document.domain. r=mrbkap 
Bug 956382 - Add AccessCheck::subsumesConsideringDomain and clean up other implementations. r=mrbkap
Bug 956382 - Consider document.domain when computing security wrappers. r=mrbkap 
Bug 956382 - Consider document.domain when deciding whether to return contentDocument. r=mrbkap 
Bug 956382 - Consider document.domain when doing Location security checks. r=mrbkap 
Bug 956382 - Consider document.domain for showModalDialog's dialogArguments and returnValue. r=mrbkap 
Bug 956382 - Consider document.domain in wacky postMessage security check. r=mrbkap
Bug 956382 - Remove useless security checks in nsDocument. r=mrbkap
Bug 956382 - Ignore document.domain by default. r=mrbkap 
Bug 956382 - Hoist nsScriptSecurityManager::CheckSameOriginPrincipal into nsPrincipal::EqualsConsideringDomain. r=mrbkap 
Bug 956382 - Remove unused CAPS gunk. r=mrbkap 
Bug 956382 - Remove usage of explicit *IgnoringDomain variants. r=mrbkap 
Bug 956382 - Remove implementations of *IgnoringDomain variants. r=mrbkap 
(mrbkap, I, and ehoogeveen have all seen lowercase lately.) 
Bug 965346 - Part 1: Ensure that callback is called, even when reply is null. r=mrbkap 
Bug 974546 - SpecialPowers wrappers should catch, wrap, and rethrow exceptions for callables. r=mrbkap 
Bug 856140 - Sync our document.registerElement implementation to the current version of the spec. r=mrbkap 
a non-main I/O thread via thread and process links'. r=mrbkap+khuey+bsmedberg. 
Bug 976790 - Fix assertion failure, r=mrbkap. 
Bug 976790 - Fix assertion failure, r=mrbkap. 
Bug 956704 - Introduce a mechanism for only suppressing animation frames. r=smaug 
Bug 956704 - Only suppress animation frames when entering a modal state. r=smaug 
Bug 977248:  Remove quirk.css rule that selects on an attribute that was only set by the old HTML parser.  r=mrbkap 
Bug 976651 - Encapsulate the Read of a new nsXBLPrototypeBinding::Read a little better. r=mrbkap 
Bug 976318 - Template element contents owner document should be an inert template document. r=mrbkap 
Bug 978468 - Add some MOZ_FINAL to XBL. r=mrbkap 
Bug 978398 - Rename custom element callbacks from enteredView/leftView to attached/detached. r=mrbkap 
Bug 960820 - Ignore contexts and saved frame chains for exception stack, and rely on the principal check. r=luke,mrbkap sr=bz
Bug 980097 - Make copying the PID easier. r=khuey 
Bug 969273: Move JSPrincipals-related types and functions to their own header. r=mrbkap
Bug 969273: Implement a toy principal type for the JS shell, for testing. r=mrbkap r=waldo 
Bug 980586 - Remove old e10s prompt code. r=smaug 
Bug 982909 - Consistently use inner window when calling OpenJS. r=jst, r=mrbkap 
Bug 982906 - No free lunches! r=bzbarsky 
Bug 983899, part 1 - Delete some trailing whitespace in XBL. r=mrbkap 
Bug 983899, part 2 - Convert nsXBLService::gClassTable to nsDataHashtable. r=mrbkap 
Bug 976704 - Make opaque security wrappers non-callable. r=gabor,sr=mrbkap 
Bug 984708 - Make sure we clear out the shutdown timer no matter what. r=bent 
Bug 886110 - Convert WifiManager to WebIDL. r=mrbkap 
Bug 976479 - Don't race to destroy top level protocols off the main thread. r=nical 
Bug 981202 - Create js-ified param representations in the System Junk Scope. r=mrbkap,f=vicamo 
Bug 958326 - Remove same-compartment security wrapper machinery. r=mrbkap 
Bug 984712 - Associate document with existing custom elements registry as specified. r=mrbkap 
Bug 987031 - Use kNamespaceID_Unknown to match any namespace in the web components custom element registry. r=mrbkap 
Bug 977762 - 'Provide a mechanism to get the PContentParent associated with a PBackgroundParent'. r=mrbkap. 
Bug 977819 - 'Allow PBackgroundChild implementors to hook into the threadlocal space'. r=mrbkap. 
Bug 971222 - Small cleanup around prompt code. r=bzbarsky 
Bug 899648 - Initial patch to make tab-modal prompts work. Original patch from Tom Schuster <evilpies@gmail.com>. r=dolske 
Bug 988655 - Stop returning true for shadow DOM nodes in nsIContent::IsInAnonymousSubtree. r=mrbkap 
Bug 986730 - Fix up a bunch of tests that assume that they can touch AC in content. r=mrbkap 
Bug 986730 - Run the FeedWriter sandbox with an expanded principal. r=mrbkap 
Bug 992578, part 1 - Delete trailing whitespace in nsXBLPrototypeResources. r=mrbkap 
Bug 992578, part 2 - Make nsXBLResourceLoader::mLoader private. r=mrbkap 
Bug 992578, part 3 - Make nsXBLResourceLoader::mLoader an nsRefPtr. r=mrbkap 
Bug 992578, part 4 - Convert nsXBLPrototypeBinding::mResources to an nsAutoPtr. r=mrbkap 
Bug 993772 - Stop serializing principals along with scripts. r=mrbkap
Bug 993772 - Introduce a singleton compilation scope. r=mrbkap 
Bug 993772 - Switch to the singleton compilation scope for XBL compilation. r=mrbkap 
Bug 993772 - Remove nsXBLDocGlobalObject. r=mrbkap 
Bug 993772 - Switch to the singleton compilation scope for XUL prototype compilation. r=mrbkap 
Bug 993772 - Remove nsXULPDGlobalObject. r=mrbkap 
Bug 997066 - Add MozWifiNetwork parameter to Webidl. r=mrbkap 
Bug 999717 - Fix gcc -Wlogical-op warning in js. r=mrbkap 
Bug 992571 - Don't rebuild anything in FlushSkinSheets if there's no doc. r=mrbkap 
Bug 1001094 - Give nsJSID classinfo. r=mrbkap 
Bug 996151 - Clear out XBL binding and insertion parent of content even if nsBindingManager is destroyed. r=mrbkap 
Bug 1002729 - Avoid problems with ternary expressions and static const integers with no definition. r=jesup 
Bug 1003766, StopSyncLoopRunnable::Cancel should call base class Cancel. r=mrbkap. 
Bug 1003766, StopSyncLoopRunnable::Cancel should call base class Cancel. r=mrbkap. 
Bug 917102 - 0001. WebIDL changes. r=mrbkap, r=ehsan 
Bug 917102 - 0002. Add Wifi certificate service. r=mrbkap, r=keeler 
Bug 917102 - 0003. DOM API implementation. r=mrbkap 
Bug 917176 - 0001. WebIDL change. r=mrbkap 
Bug 917176 - 0002. DOM API implementation. r=mrbkap, r=briansmith 
Bug 917175 - 0001. WebIDL change. r=mrbkap 
Bug 917175 - 0003. DOM API implementation. r=mrbkap 
Bug 917175 - 0002. Backend. r=mrbkap,briansmith 
Bug 745468 - 0001. Support WPA-EAP configure parameters. r=vchang, r=mrbkap 
Bug 745468 - 0002. Support WPA-EAP connection state. r=vchang, r=mrbkap 
Bug 978892 - [e10s] Avoid racing when creating PJavaScript object (r=mrbkap) 
Bug 979949 - Expose compositor fill ratio to JS for automation. r=benwa,mrbkap. 
Bug 996785 - Move global CPOW functions to top level (r=mrbkap) 
Bug 996785 - Rename CPOW object map (r=mrbkap) 
Bug 996785 - Rename CPOW findObject (r=mrbkap) 
Bug 996785 - Rename CPOW toValue (r=mrbkap) 
Bug 996785 - Rename CPOW makeId/unwrap (r=mrbkap) 
Bug 996785 - Use separate maps for local and remote CPOW objects (r=mrbkap) 
Bug 996785 - Move CPOW wrapper owner code (r=mrbkap) 
Bug 996785 - Move CPOW wrapper answering code (r=mrbkap) 
Bug 996785 - Use more descriptive IPDL types for CPOW value variants (r=mrbkap) 
Bug 996785 - Distinguish local and remote CPOW objects in IPDL (r=mrbkap) 
Bug 996785 - Fix existing CPOW uses to prepare for weak references (r=mrbkap) 
Bug 996785 - Bidirectional CPOWs (r=mrbkap) 
Bug 996785 - Fix CPOW wrapping and compartment ownership (r=mrbkap) 
Bug 996785 - New CPOW tests for bidirectionality and Xray behavior (r=mrbkap) 
Bug 988386 - Collect telemetry on <script> elements' JS language versions. r=mrbkap r=till 
Bug 996996 - Move fopen into non-sanboxed process. r=mrbkap 
Bug 877072 - HTML Imports part1. r=mrbkap 
Bug 1002314 - 0001. WebIDL Change. r=ehsan, r=mrbkap 
Bug 1002314 - 0002. Provide WiFi capability info. r=mrbkap, r=vchang 
Bug 999271 - Implement web components getDestinationInsertionPoints() extension to Element interface. r=mrbkap 
Bug 942104 - Add an event listener "ondiscoverystatechanged", r=gyeh, r=mrbkap 
Bug 1014296 - Add a couple of missing variable declarations (and set strict mode to prevent them from coming back). r=bholley/billm 
Bug 942104 - Add an event listener "ondiscoverystatechanged", r=gyeh, r=mrbkap 
Bug 996996 - Correct indention in ContentChild.cpp and ContenParent.cpp. r=mrbkap 
Bug 957742 - Logging for CPOWs (r=mrbkap) 
Bug 1014993 - Add Cu.isCrossProcessWrapper (r=mrbkap) 
Bug 1014993 - Add special toString method to CPOWs (r=mrbkap) 
Bug 774582 - Unable to know if there is a user connected to Wifi tethering network. r=mrbkap 
Bug 774582 part2 - Unable to know if there is a user connected to Wifi tethering network. r=mrbkap 
Bug 1015576 - fixing performance regression on android. r=mrbkap 
Bug 1019319 - part 1: Import interface should be preffed; r=mrbkap 
Bug 1019319 - part 2: Import as link type should be prefed. r=mrbkap 
Bug 775499 - 0001. WebIDL changes to support subject match setting. r=ehsan, r=mrbkap 
Bug 1018107 - Use the CC macros for nsXULPrototypeDocument::mPrototypeWaiters; r=mrbkap 
Bug 1026008 Incorrect XBL behaviour with multiple insertion points r=mrbkap 
Bug 1026008 Incorrect XBL behaviour with multiple insertion points r=mrbkap 
Bug 993197 - Asynchronize nsILoginManager::autoCompleteSearch. r=dolske 
Bug 995489 - Generalize AutoCompleteE10S.jsm for use from other code. r=felipe 
Bug 949617 - Make the login manager work in e10s. r=dolske 
Bug 1029128 - Fix bug in failure case biting debugging mochitest failures. r=dolske 
Bug 1029128 - Fix strict-mode error in the JSON storage file. r=dolske 
Bug 993197 - Asynchronize nsILoginManager::autoCompleteSearch. r=dolske 
Bug 995489 - Generalize AutoCompleteE10S.jsm for use from other code. r=felipe 
Bug 949617 - Make the login manager work in e10s. r=dolske 
Bug 1029128 - Fix bug in failure case biting debugging mochitest failures. r=dolske 
Bug 1029128 - Fix strict-mode error in the JSON storage file. r=dolske 
Bug 1029128 - Fix strict-mode error in the JSON storage file. r=dolske 
Bug 1029128 - Fix bug in failure case biting debugging mochitest failures. r=dolske 
Bug 993197 - Asynchronize nsILoginManager::autoCompleteSearch. r=dolske 
Bug 995489 - Generalize AutoCompleteE10S.jsm for use from other code. r=felipe 
Bug 949617 - Make the login manager work in e10s. r=dolske/mconley/mfinkle/jimm 
Bug 1031074 - Don't unblock scripts if we never blocked them. r=gabor 
Bug 1031440 - Start moving mozInlineSpellChecker off of nsIDOM* APIs. r=ehsan 
Bug 1031440 - Fix an unused variable and a single-use variable pointed out by Neil. r=khuey 
Bug 1029202 - Allow CPOW receivers to be non-CPOWs (r=mrbkap) 
Bug 1017109 - Add construct hook for CPOWs (r=mrbkap) 
Bug 1027461 - Handle an error condition in imports more gracefully in debug builds. 
Bug 693555 - Update inline spell checker underlining for multiprocess.r=ehsan,mrbkap 
Bug 1029248 - Add helpers to simplify CPOW unwrapping (r=mrbkap) 
Bug 1029248 - Allow CPOWs to QI to non-scriptable interfaces (r=mrbkap) 
Bug 1033948 - 0001. Change API naming in webIDL. r=mrbkap 
Bug 1024098, Add some helpers for principal verification with PBackground. r=mrbkap. 
Bug 1035394 - Fix dangerous public destructors in content/xul - r=mrbkap 
Original patch from billm. 
Original patch from billm. 
Bug 1034244 - Check only for WN Xrays when deciding whether the prototype is useless. r=mrbkap 
Bug 1034244 - Include TypedArrays in SpecialPowers Xray waiving list. r=mrbkap
Bug 1034244 - Follow the prototype chain of the underlying object in SpecialPowers wrapping. r=mrbkap 
Bug 1034244 - Hoist SpecialPowers Xray waiving into a separate function so that we can apply it at each stage when climbing the prototype chain. r=mrbkap 
Bug 966395 - Use a puppet bidi keyboard in child processes. r=mrbkap/masayuki 
Bug 1001957 - Fix some review comments I missed in my previous checkin. r=mccr8 
Bug 1029248 - Clean up CPOW unwrapping (r=mrbkap) 
Bug 1029248 - Allow CPOWs to be converted to native interfaces (r=mrbkap) 
Bug 1031609 - Basic e10s add-on shim architecture and content-policy shims (r=mconley,mrbkap) 
Bug 1031609 - Sandbox shim (r=mconley,mrbkap) 
Bug 693555 - Update inline spellchecker underlining for multiprocess(e10s).r=ehsan, mrbkap 
Bug 1016875 - Part1: Fixing leaking of mImportParent. r=mrbkap 
Bug 1016875 - Part2: Ensure mDocument in ImportLoader::OnStopRequest. r=mrbkap 
Bug 1016875 - Part3: Events in HTML imports should not bubble. r=mrbkap 
Bug 1016875 - Part4: Removing mChannel in ImportLoader. r=mrbkap 
Bug 1016875 - Part5: Redirection test for Imports. r=mrbkap 
Bug 1016875 - Part6: CORS and other security checks for imports. r=mrbkap 
Bug 1016875 - Part7: Imports should have their own LoadGroup. r=mrbkap 
Bug 1016875 - Part8: handling imports with non-http uri. r=mrbkap 
Bug 1016875 - part9: System should only import other system documents. r=mrbkap 
Bug 1016875 - Part10: Principal() for ImportLoader. r=mrbkap 
Bug 1039162 - Don't use |for each| in XPCOMUtils.jsm. r=mrbkap.
Bug 1016875 - Part10: GetPrincipal for imports. r=mrbkap 
Bug 1037276 - [Flame][Wifi] wps-timedout event doesn't match the enum ConnectionStatus defined in webidl. r=mrbkap, chulee 
Bug 1038844 - Implement a COW opt-out for automation. r=gabor,sr=mrbkap 
Bug 1038844 - Use the opt-out for the SpecialPowers scope. r=mrbkap,r=ted 
Bug 952201 - Make installing addons from web content work correctly in e10s. r=bmcbride@mozilla.com 
Bug 1039162 (attempt 2) - Don't use |for each| in XPCOMUtils.jsm. r=mrbkap. 
Bug 1041770 - Update missed reference. r=mrbkap
Bug 966395 - Use a puppet bidi keyboard in child processes. r=mrbkap/masayuki 
Bug 687194 - Update content processes when dynamic chrome registration occurs. r=mossop 
Bug 1041246 - Disable crashtests in e10s that use <keygen> (r=mrbkap) 
Bug 1041881 - Don't take template parameters by value to avoid accidentally constructing objects. r=khuey 
Bug 687194 - Basic test for chrome registration/unregistration. r=mossop 
Bug 687194 - Basic test for chrome registration/unregistration. r=Mossop 
Bug 687194 followup - don't run this test on Android. r=bent 
Bug 930355 - 0001. WebIDL Change - Add API to set wifi enable. r=mrbkap 
Bug 1027898 - Implement most of nsIContentPrefService2 for e10s. r=adw 
Bug 936367 - Support wifi hotspot enable API. r=vchang, r=ptheriault, sr=mrbkap 
Bug 1036233 - Implement pairing methods of Bluetooth API v2. r=btian, r=mrbkap
Bug 1036234 - Implement pairing event handlers of BluetoothAdapter. r=btian, r=mrbkap
Bug 1027898 - Implement most of nsIContentPrefService2 for e10s. r=adw 
Bug 1041822 - Add LookupOrAdd to nsClassHashtable. r=bsmedberg 
Bug 1051102 - Make mPackagesHash be a more modern hashtable. r=bsmedberg 
Bug 1036233 - Implement pairing methods of Bluetooth API v2. r=btian, r=mrbkap
Bug 1036234 - Implement pairing event handlers of BluetoothAdapter. r=btian, r=mrbkap
Bug 1052213 - Reduce default size of Native2WrappedNativeMaps. r=mrbkap. 
Bug 263049. Hack nsTypeAheadFind to search XMLPrettyPrinter's pretty-printed DOM when the root node has an XBL binding. r=mrbkap 
Bug 1041917 - Make it possible to transition from non-remote to remote browsers while browsing away from about: pages. r=billm. feedback=mrbkap. 
Bug 1051017 - Add browser.contentWindowAsCPOW and browser.contentDocumentAsCPOW (r=mconley,mrbkap) 
Bug 1051127 - Add an env var for CPOW logging (r=mrbkap) 
Bug 1057601 - Use UncheckedUnwrap in CPOW code (r=mrbkap) 
Bug 929376 - Part 1: Move 'IsConnected' from BluetoothManager.webidl to BluetoothAdapter.webidl and make it asynchronous. sr=mrbkap 
Bug 929376 - Part 1: Move 'IsConnected' from BluetoothManager.webidl to BluetoothAdapter.webidl and make it asynchronous. sr=mrbkap 
Bug 1057923 - Flatten parser/htmlparser/{public,src}/ into parent directory. r=mrbkap 
Bug 1055456 - Add null check to fix crash in [@ nsTypeAheadFind::GetSearchContainers]. r=mrbkap 
Bug 877072 - Script execution order for nested imports. r=mrbkap 
Bug 877072 - Script execution order for imports. r=mrbkap 
Bug 1038531 - Unify NetworkWorker. r=mrbkap r=fabrice 
Bug 1045987 - Fix doorhanger notifications for the login manager. r=billm/dolske 
Bug 1060042 - CPOWs need a hasInstance hook (r=mrbkap) 
Bug 1018988 - Set up a low integrity temp directory when using the Windows content sandbox. r=mrbkap r=tabraldes r=froydnj 
Bug 1001090 - Part 4: Fix errors in chrome code. (r=zombie,gavin,fitzgen,dcamp,bgrins,fabrice,gwagner,margaret,mrbkap,mak,njn,vicamo) 
Bug 1038756: Callsites creating a channel in /parser/ (r=mrbkap) 
Bug 1038756: Callsites creating a channel in /js/ (r=mrbkap) 
Bug 877072 - Script execution order for imports. r=mrbkap 
Bug 877072 - Script execution order for imports. r=mrbkap 
Bug 1038531 - Unify NetworkWorker. r=fabrice r=mrbkap 
Bug 853709 - Tests. r=mrbkap 
Bug 877072 - Script execution order for imports. r=mrbkap 
Bug 1061469 - Part 1: Cyclic test for Imports 1. r=mrbkap 
Bug 1061469 - Part 2: ImportManager::AddLoaderWithNewURI should only return main referrers. r=mrbkap 
Bug 1061469 - Part 3: Cyclic test for Imports 2. r=mrbkap 
Bug 1061469 - part 4: Cyclic test for Imports 3. r=mrbkap 
Bug 1061469 - part 5: Fixing up update for Imports. r=mrbkap 
Bug 1061469 - part 6: Cyclic test for Imports 4. r=mrbkap 
Bug 1061469 - part 7: Cyclic test for Imports 5. r=mrbkap 
Bug 1061469 - part 8: Encoding for Imports. r=mrbkap 
Bug 1061469 - part 9: defaultView should be null for imports. r=mrbkap 
nest spellchecking calls, so it can go back to being 'sync' (r=billm). 
Bug 1061469 - Part 1: Cyclic test for Imports 1. r=mrbkap 
Bug 1061469 - Part 2: ImportManager::AddLoaderWithNewURI should only return main referrers. r=mrbkap 
Bug 1061469 - Part 3: Cyclic test for Imports 2. r=mrbkap 
Bug 1061469 - part 4: Cyclic test for Imports 3. r=mrbkap 
Bug 1061469 - part 5: Fixing up update for Imports. r=mrbkap 
Bug 1061469 - part 6: Cyclic test for Imports 4. r=mrbkap 
Bug 1061469 - part 7: Cyclic test for Imports 5. r=mrbkap 
Bug 1061469 - part 8: Encoding for Imports. r=mrbkap 
Bug 1064211 - Check nsDocument::sProcessingStack contains a value before processing it. r=mrbkap 
Bug 1080007 - Fix "octal literals and octal escape sequences are deprecated" warning in testing/specialpowers. r=mrbkap. 
bug 1074917 - teach atk to get states from proxies r=surkov, davidb, mrbkap
Bug 1064211 - Keep CustomElementData alive while on processing stack. r=mrbkap 
Bug 928362: Support ad-hoc mode for Wifi, r=vchang, r=mrbkap
Bug 1077587 - Handle non-existent properties in CPOW descriptor code (r=mrbkap) 
Bug 1068811 - Make middle-mouse-click paste work in X11. r=billm 
bug 1074917 - teach atk to get states from proxies r=surkov, davidb, mrbkap
Bug 1068811 - Make middle-mouse-click paste work in X11. r=billm/jimm 
Bug 1049299 - Correctly calculate 3rd-party cookie status for content-process HTTP channels. r=jduell 
Bug 1058392 - Fix printing of JSStrings (and jsids) in certain versions of gdb. r=sfink 
Bug 1056018 - Mark the a few IPC calls as urgent priority to deal with edge cases involving CPOWs. r=billm (with one bugfix written by him and r=me) 
Bug 1056018 - Mark the a few IPC calls as urgent priority to deal with edge cases involving CPOWs. r=billm (with one bugfix written by him and r=me) 
Bug 1061469 - part9: test: defaultView should be null for imports. r=mrbkap 
Bug 1061469 - part10: Removing intermittent import test. r=mrbkap 
Bug 1091964 - [e10s] Cache isCallable and isConstructor for CPOWs (r=mrbkap) 
Bug 1091970 - [e10s] Cache object tag in add-on shims for remote objects (r=mrbkap) 
Bug 1093028 - Imports should block DOMContentLoaded of the parent. r=mrbkap 
Bug 1091287: Switch to the right browser before displaying a login prompt. r=mrbkap 
Bug 1091964 - [e10s] Cache isCallable and isConstructor for CPOWs (r=mrbkap) 
Bug 1091970 - [e10s] Cache object tag in add-on shims for remote objects (r=mrbkap) 
Bug 1093028 - Imports should block DOMContentLoaded of the parent. r=mrbkap 
Bug 1088183: Propagate the top window URI to the parent http channel through HttpChannelOpenArgs (a=kwierso,r=jduell,mrbkap) 
Bug 1096530 - Make sure we notify our listener if we were canceled before we redirected. r=mcmanus 
Bug 1088457 - Make nsChannelClassifier deal properly with e10s. r=mmc/sworkman 
bug 1092163 - Allow e10s to be enabled with tracking protection. r=blassey 
Bug 1088457 followup -- fix b2g's build. CLOSED TREE 
Bug 1098666 - Don't crash when getting this through CPOWs. r=billm 
Bug 1096635 - Update XBL insertion parent for dynamic default content. r=mrbkap 
Bug 1093607 - Enable this test. r=mmc/sworkman 

Bug 1093607 - Enable this test. r=mmc/sworkman Bug 1102052 - Crash for PBackground protocol errors, r=mrbkap. 
Bug 582297 - Make <keygen> work in e10s. r=billm/dkeeler 
Bug 948194 - Fix races related to CPOWs and tab switching. Original patch by Alexandru Tifrea. r=seth 
Bug 1102410 - Regression test to ensure that multiple shimmed nsIAboutModule's can be accessed from the content process. feedback=ally, r=mrbkap,billm. 
Bug 1106713 - fixing up CSP checks for imports. r=mrbkap 
Bug 1072980 - Don't allow CPOWs to be passed to C++ functions (r=mrbkap) 
Bug 1072980 - Add test for passing CPOWs to C++ (r=mrbkap) 
Bug 1102637 - [e10s] Log the address of objects sent using CPOWs (r=mrbkap) 
Bug 1102637 - [e10s] Control CPOW logging with env var (r=mrbkap) 
Bug 1102640 - [e10s] Shouldn't be able to create CPOWs to the inner window (r=mrbkap) 
Bug 1113313 - Rename these functions to better reflect what they do. r=billm 
Bug 1116697 - Fix nsScriptError::InitWithWindowID to work better off the main thread, r=mrbkap. 
Bug 1118535 - Don't let PBackgroundChild actors leak HANDLEs on Windows, r=mrbkap. 
Bug 1118618 - [e10s] Slow script/plugin hang UI (r=mrbkap,mconley) 
Bug 1118618 - [e10s] Slow script/plugin hang UI (r=mrbkap,mconley) 
Bug 1118618 - [e10s] Slow script/plugin hang UI (r=mrbkap,mconley,bent) 
Bug 1055508 - Make the findbar respect the search clipboard as well as prefillwithselection in e10s. r=mikedeboer 
Bug 1123956 - [e10s] Tweak timeout values for slow script UI (r=mrbkap) 
Bug 1120613 - Handle functions and objects that claim to be functions as well. r=billm 
Bug 1122948 - .hash shouldn't be encoded/decoded for WorkerLocation. r=mrbkap 
Bug 1069416 - Part 2: Remove JS_HAS_SYMBOLS from js tests. r=evilpie,mrbkap 
Bug 1072980 - Don't allow CPOWs to be passed to C++ code (r=mrbkap,ally,mconley) 
bug 832837 - move insecure form submission warning from nsSecureBrowserUIImpl to the HTML form implementation r=mrbkap r=phlsa
Bug 1108930 - Part 6: Call WeakMap with new in xpconnect. r=mrbkap 
bug 832837 - move insecure form submission warning from nsSecureBrowserUIImpl to the HTML form implementation r=mrbkap r=phlsa
Bug 1120395 - Deal with shutdown without crashing. r=mmc/gcp 
Bug 1050035 (part 2) - Remove the fallible version of PL_DHashTableInit(). r=froydnj,mrbkap.
Bug 1129325 - Remove nonstandard let blocks from dom. r=mrbkap 
Bug 1117337 - Get rid of this generic path in favor of explicit (de)serialization of URIs. r=bent 
Bug 1117337 - Properly serialize moz-icon URIs. r=bent 
Bug 1117337 - Make icon URIs constructable via XPCOM. r=seth 
Bug 1117337 - Get rid of this generic path in favor of explicit (de)serialization of URIs. r=bent 
Bug 1117337 - Properly serialize moz-icon URIs. r=bent 
Bug 1131317 - Always unwrap objects before wrapping them in XPCWrappedJS (r=mrbkap) 
Bug 1084504 - fix Mixed Content Blocking for redirects in e10s. r=mrbkap 
Bug 1084504 - Enable browser_mcb_redirect.js test for mixed content redirects. r=mrbkap 
Bug 1128798 - [e10s] Make a version of nsIContentPolicy that doesn't pass the node as a parameter (r=mrbkap,tanvi,ckerschb) 
Bug 1119335 - support ideal/exact constraint syntax. r=mrbkap, r=mt 
Bug 1087646 - Properly serialize nullprincipal URIs across IPC. r=bzbarsky 
Bug 1087646 - fast-path null principal'd documents. r=mcmanus 
Bug 1087646 - Add a test. r=smaug 
Bug 1077002 - Give a better error message when showModalDialog is used in e10s. r=bholley 
Bug 1077002 - Add a test. r=jimm 
Bug 1137325.  Remove the parent() function from xpcshell.  r=mrbkap 
Bug 1137025 - Add a telemetry probe to see how often Window.showModalDialog is used. r=jst, a=me 
Bug 1139099: Dispatch DOMDocElementInserted to match the document-element-inserted observer notification. r=mrbkap 
Bug 1131406 - Don't lose information about JS URIs when serializing them. r=billm 
Bug 1131406 - Fix IPC serialization for nsSimpleNestedURI. r=billm 
Bug 1131406 - Fix IPC serialization for nsHostObjectURI. r=billm 
Bug 1140636 - Test CPOW function identity. r=billm 
Bug 1134006 - Avoid IPC for domElement.QueryInterface(nsISupports) and nsIClassInfo. r=billm 
Bug 1049476 - 0001. webidl change - Support user certificate parameter. r=mrbkap 
Bug 1134006 - Avoid IPC for domElement.QueryInterface(nsISupports) and nsIClassInfo. r=billm 
Bug 1135731 - fix encoding inconsistency in NS_NewXBLProtoImpl; r=mrbkap 
Bug 1136514 - Add ReadRemoteRssi in GATT client. f=jocelyn, r=btian, r=mrbkap 

it disabled as it fails due to Bug 940206. Bug 1112040 - Report invalid regular expressions to the console. r=bholley 
Bug 1112040 - Add a mochitest. r=bholley 
Bug 1130028 - Custom elements, set registered prototype in compartment of caller of registerElement. r=mrbkap 
Bug 1086684 - Stash the full path for file inputs to avoid doing IPC at inopportune times. r=ehsan 
Bug 1086684 - Add a mochitest. r=mconley 
Bug 1114515 - Part 3: Implement GATT client DiscoverServices API. r=btian, r=mrbkap
Bug 1114515 - Par h4: Implement Service, Characteristic, Descriptor interfaces for GATT client DiscoverServices API. r=btian, r=mrbkap
Bug 1126014 - DomainPolicy support for e10s. r=mrbkap 
Bug 997325 - Implement main process scriptable only flag in XPIDL (r=mrbkap) 
Bug 1145854 - Don't leak WrapperOwner::className's string. r=billm 
Bug 1086684 - Stash the full path for file inputs to avoid doing IPC at inopportune times. r=ehsan/bent/gps 
Bug 1086684 - Add a mochitest. r=mconley 
Bug 1058551 - Support redirects to data: URIs. r=honza 
Bug 1086684 - disable this test on Android. a=KWierso to land on a CLOSED TREE 
Bug 1149395 - Improve test case for mozSetFileArray recompartmenting. r=mrbkap
Bug 1152066 - Remove ugly dynamic loading code now that we can assume this symbol exists. r=roc 
Bug 1132343 - Patch1: Add accept/reject method in BluetoothPairingHandle interface for supporting consent and displaypasskey pairing requests. r=shuang, r=mrbkap 
Bug 1140951 - Implement start/stopNotifications for GATT client API. r=shuang, r=mrbkap 
Bug 1142229, part 1 - Clean up and refactor test cases for the Nuwa process. r=mrbkap 
Bug 966395 - Correctly propagate the input language's direction on OSX. r=masayuki/mrbkap
Gtk patch written by mrbkap@mozilla.com, with r=roc 
Bug 1152482 - Make the separator work in the autocomplete popup. r=felipe 
Bug 1149420 - Make the IndexedDB permissions prompt work in e10s. r=bent/mfinkle 
Bug 1106235 - [e10s] Make autocompletion dropdown menu honour RTL. r=mrbkap. 
Bug 1114788, disable failing test on workers, r=mrbkap. 
Bug 1140952 - Implement read/write value of a characteristic for GATT client API (webapi part). f=jocelyn, r=shawnjohnjr, r=mrbkap 
Bug 1140952 - Implement read/write value of a descriptor for GATT client API (webapi part). f=jocelyn, r=btian, r=mrbkap 
Bug 1152653 - Implement BluetoothGatt.oncharacteristicchanged. r=jocelyn, r=mrbkap 
Bug 1155214 - Mark nsIBidiKeyboard as builtinclass; r=mrbkap
Bug 1141661 - No need to manually convert this URI anymore. r=mossop 
Bug 1141661 - Load chrome before processing delayed frame scripts. r=smaug 
Bug 992772 - Use mms specific network interface to do DNS lookup. r=echen, r=btseng, r=mrbkap 
Bug 1015796 - Use sequence<DOMString> as the type of attribute |attrs| in BluetoothAttributeEvent instead of any. r=btian, r=mrbkap 
Bug 1124076 - Properly detect certs when loaded and prompt to import them. r=sworkman/dkeeler 
Bug 1153977 - Make the spellchecker's constructor async. r=billm 

Bug 1153977 - Make the spellchecker's constructor async. r=billm Bug 1153922 - Add a SandboxOptions option for creating the sandbox in a fresh JS::Zone. r=mrbkap 
Bug 1124076 - Properly detect certs when loaded and prompt to import them. r=sworkman/dkeeler 
Bug 1156939 - don't stash a reference to a CPOW and then spin the event loop. r=mconley 

Bug 1156939 - don't stash a reference to a CPOW and then spin the event loop. r=mconley Bug 1124076 followup - fix the build when PR_LOGGING is not defined. r=mrbkap 
Bug 1063444 - Implement LE scan related methods and LE device event. r=joliu, r=mrbkap 
Bug 922212 - Add console.dirxml. r=bgrins, r=mrbkap 
Bug 1158791 - Try harder to avoid Gtk-Critical errors in xpcshell tests. r=karlt 
Bug 1146955 - Unify pluginID for GMP and runID for NPAPI plugins to use the same internal incrementor. r=jesup, mrbkap. 
Bug 1146955 - Make the GMP pluginID a uint32_t, and dispatch it in the PluginCrashed event. r=jesup r=mrbkap 
Bug 1155494 - Add a 'compressall' message flag. f=handyman r=billm (parts of this patch were written by handyman with r=billm) 
Bug 1155494 seems to need a clobber. 
Bug 1103375 - Fix some crashes triggered from about:memory. r=mrbkap.
Bug 1167412 - Always register testing JS modules. r=ted 
Bug 1024437 - Get rid of a deprecated API. r=MattN 
Bug 1024437 - Make <datalist> work in e10s. r=MattN 
Bug 1162330 - Prepare satchel mochitests for e10s and turn a few of them on. r=MattN 
We need to detect when this happens and open the popup in the parent. 
displayed in the autocomplete popup. 
Bug 1162329 - Implement autocompletion entry deletion for e10s. r=felipe 
bug 1169640 - use nsIPrompt instead of nsIPromptService for insecure form submission r=mrbkap
Bug 1171305 - Remove lots of now-unnecessary null-checks involving XPCMaps. r=mrbkap.
Bug 1077651 Measure frame uniformity by synthesizing native events. r=kats,mrbkap 
Bug 418986 - Resist fingerprinting by preventing exposure of screen and system info. r=mrbkap, r=heycam 
Bug 1044351 - prevent popup blocker from blocking windows opened by loaded javascript: URIs by allowing popups for such loads from the location bar. r=mak/mrbkap 

Bug 1044351 - prevent popup blocker from blocking windows opened by loaded javascript: URIs by allowing popups for such loads from the location bar. r=mak/mrbkap Bug 1111555 - Don't accidentally cancel downloads if we think we're exiting private browsing. r=ehsan 
Bug 1151840 - Make a couple of messages urgent to deal with CPOWs properly. r=billm 

Back out 298c695564e9 (bug 1044351) for timeouts in browser_library_middleclick.js and friendsBug 1044351 - prevent popup blocker from blocking windows opened by loaded javascript: URIs by allowing popups for such loads from the location bar. r=mak/mrbkap 

Bug 1044351 - prevent popup blocker from blocking windows opened by loaded javascript: URIs by allowing popups for such loads from the location bar. r=mak/mrbkap 
Back out a1a682a3d489 (bug 1044351) for Windows opt failures in browser_bookmarksProperties.jsBug 1044351 - prevent popup blocker from blocking windows opened by loaded javascript: URIs by allowing popups for such loads from the location bar. r=mak/mrbkap 

Bug 1044351 - prevent popup blocker from blocking windows opened by loaded javascript: URIs by allowing popups for such loads from the location bar. r=mak/mrbkap Bug 1103651 - Merge content/test/unit/ into dom/base/test/unit/. r=mrbkap 
Bug 1103651 - Move content/test/reftest into dom/tests/. r=mrbkap 
Bug 1174594 (part 1) - Remove uses of PL_DHashTableEnumerate from XPConnect. r=mrbkap.
Bug 1174594 (part 2) - Use a more sensible type for UNMARK_{ONLY,AND_SWEEP}. r=mrbkap. 
Bug 1174594 (part 3) - Remove ShutdownData. r=mrbkap.
Bug 1143006 - Show warning for http-on-* in child process (r=mrbkap) 
Bug 1176749. nsIScriptError.idl should use nsStringGlue.h, not nsString.h. r=mrbkap 
Bug 1173573 - Fix possible crash initializing sessionstorage. r=honzab 
Bug 1169268 - Handle CFHTML data better. r=ndeakin 
Bug 1168223 - Fix a crash caused by unexpected flushes under nsIEditor::SetFlags. r=ehsan 
Bug 1151848 - Bump the priority of this message so that cpowWindow.screen works without crashing. r=billm 
Bug 1177013 - Use sendRpcMessage for context menu (r=mrbkap) 
Bug 1177013 - Add-on install test changes (r=mrbkap) 
Bug 1179982 - Fix all compile errors in dom/workers on non-unified build. r=mrbkap 
Bug 1177013 - Use sendRpcMessage for context menu (r=mrbkap) 
Bug 1177013 - Add-on install test changes (r=mrbkap) 
Bug 1173947 - Make getRandomValues message be urgent (r=mrbkap) 
Bug 1182357 - Implement support for optional size_is for arrays passed from JS. r=mrbkap
Bug 1182357 - Add an API to mint nsExpandedPrincipals. r=mrbkap 
Bug 1182966 - Part 1: Use nsTHashTable::Iterator in DomainSet::CloneSet. r=mrbkap 
Bug 1182966 - Part 2: Stop referring to the nsI class for no apparent reason in DomainPolicy. r=mrbkap 
Bug 1182966 - Part 3: Add some final annotations to DomainSet. r=mrbkap 
Bug 1180827 - Fix reuse of previous search results. r=MattN 
Bug 1180827 - Get rid of a couple of setTimeouts/flaky test requests. r=MattN 
Bug 1175803 - Store redirect chain within loadInfo - part 3 e10s (r=mrbkap,mayhemer) 
Bug 1139953 - Pass a dummy channel into the cookie service so that nsICookiePermission can compute private browsing mode correctly. r=jdm 

Bug 1139953 - Pass a dummy channel into the cookie service so that nsICookiePermission can compute private browsing mode correctly. r=jdm Bug 1186920 - Fix b2g applications that use cookies. r=gwagner 
Bug 1144631 - Make FTP with auth prompts work in e10s. r=billm/dragana 
Bug 1187410 - Use GetNameShared() in XPCNativeInterface::NewInstance() to avoid a leak. r=mrbkap
Bug 1181478 - Expose BluetoothGattServer object in BluetoothAdapter. r=btian, r=mrbkap 
Bug 1152512 - Use the latest JavaScript version when parsing AutoConfig files. r=mrbkap 
Bug 1152512 - Use the latest JavaScript version when parsing AutoConfig files. r=mrbkap 
Bug 1181478 - Expose BluetoothGattServer object in BluetoothAdapter. r=btian, r=mrbkap, a=me 
Bug 1189964 - Fix a crash handling drags on dying windows. r=smaug 
Bug 940206 - Implement Navigator.registerContentHandler and Navigator.registerProtocolHandler for e10s. r=dao 

Bug 940206 - Implement Navigator.registerContentHandler and Navigator.registerProtocolHandler for e10s. r=dao Bug 1189964 - Fix bustage. r=bustage CLOSED TREE 
Bug 661604 - Re-enable this test because it works now. rs=wchen and try 
bug 1180916 - witching tab generates 4 frames (4 full runs of the RefreshDriver), freeze the refresh driver while switching tabs r=mconley, mrbkap 
Bug 1192693 - [01] Remove legacy bluetooth manager, adapter, and device webidl files, r=joliu, r=mrbkap 
Bug 1192693 - [02] Remove bluetooth1 folder and rename webidl files, r=joliu, r=mrbkap 
Bug 1180554 - Dispatch events to PBAP event handlers when the PBAP requests comes. r=btian, r=mrbkap 
Bug 1180554 - Dispatch events to PBAP event handlers when the PBAP requests comes. r=btian, r=mrbkap 
Bug 1181480 - Add and implement GATT server connection related Web APIs. r=btian, r=mrbkap 
Bug 1194886 - Don't create files in tests. r=jld 
Bug 1196815 - Mark passing tests as passing. r=jst 
Bug 1194370 - Use SpecialPowers harder. r=wchen 
Bug 1197378 - Make docshell tests pass in e10s. r=billm 
CLOSED TREE Bug 1180554 - Dispatch events to PBAP event handlers when the PBAP requests comes. r=btian, r=mrbkap 
Bug 974770 - Get rid of dom.mozInputMethod.testing in test scripts. r=kanru, r=mrbkap 
Bug 1104616 - Proxy video capture access to the main process. r=jesup,glandium,mrbkap 
Bug 1200484 (part 2) - Use JS column numbers in ReportWrapperDenial(). r=mrbkap. 
Bug 1200484 (part 4) - Expose the column number in nsJSUtils::GetCallingLocation(). r=mrbkap.
Bug 1200484 (part 5) - Use JS column numbers in XPCNativeInterface::NewInstance(). r=mrbkap. 
Bug 1200124 - Correct PBAP order mapping, r=shuang, r=mrbkap 
Bug 1193637 - Use IsMap() in HTMLImageElement::PreHandleEvent; r=mrbkap 
Bug 1197791 - hide password for uri in error and web console. r=michal r=mrbkap 
Bug 1121052 - Reset the zoom level for crashed tab pages. 
Bug 1200477 - Allow building with WebRTC disabled. r=glandium,mrbkap 
Bug 1204610 - Use a smart pointer in nsNullPrincipalURI. r=mrbkap 
Bug 1018062 - Rip the sandbox code out of FeedWriter.js. r=Mano 
Bug 1202424 - Free shared memory when IPC system shuts down, not after. r=mrbkap 
Bug 1201597 - Part 1: Implement an nsIOutputStream for ipc::FileDescriptor; r=mrbkap 
save heap snapsots into; r=mrbkap 
Bug 1181479: Implement GATT Server service management; r=jocelyn, r=mrbkap 
Bug 1181479: Implement GATT Server service management; r=jocelyn, r=mrbkap 
Bug 1181483: Implement GATT server characteristic notification; r=jocelyn, r=mrbkap 
Bug 1193625 - Fallback to ASCII if AutoConfig UTF-8 conversion fails. r=Mossop, mrbkap 
Bug 1207496 - Part 2: Remove use of expression closure from services/crypt/. r=mrbkap 
Bug 1188545 - Disentangle service workers from shared workers and refactor event dispatching code into a separate class.  r=nsm,mrbkap 
Bug 1188545 - Disentangle service workers from shared workers and refactor event dispatching code into a separate class.  r=nsm,mrbkap 
Bug 1184017 - [MAP] Dispatch events to MAP event handlers, r=btian, sr=mrbkap 
Bug 1167627 - Part 1: Use mozinfo in dom/. r=mrbkap 
Bug 1210370 - Close wpa_supplicant before we shutdown nsIWifiProxyService. r=mrbkap 
Bug 1095236 - Simplify browser_test_new_window_from_content.js to use BrowserTestUtils. r=mrbkap 
Bug 1095236 - Disable dialog=1 support for windows opened from content. r=mrbkap 
Bug 1095236 - Test that windows opened from content with dialog=1 still open. r=mrbkap. 
Bug 1095236 - Simplify browser_test_new_window_from_content.js to use BrowserTestUtils. r=mrbkap 
Bug 1095236 - Disable dialog=1 support for windows opened from content. r=mrbkap 
Bug 1095236 - Test that windows opened from content with dialog=1 still open. r=mrbkap.
Bug 1165558 - Return valid dispositions even if there wasn't a header. r=bz 
Bug 1159385 - Make browser_pdfjs_main.js e10s compatible. r=mconley 
Bug 1159385 - Make browser_pdfjs_navigation.js e10s-compatible. r=yury 
Bug 1159385 - Make browser_pdfjs_views.js e10s-compatible. r=yury 
Bug 1159385 - Make browser_pdfjs_zoom.js e10s-compatible. r=yury 
Bug 1212986 - Background ChildImpl should delete its Transport. r=mrbkap 
Bug 1165558 - Return valid dispositions even if there wasn't a header. r=bz 
Bug 1215781 - Use MOZ_UTF16 to generate sTagUnicodeTable. r=mrbkap 
Bug 1207539 - Remove !JS_IsRunning(aCx) assertion from RilConsumer::ConnectWorkerToRIL; r=mrbkap
Bug 1169268 - Don't crash when pasting files. r=ndeakin 
Bug 1217585 - Enable browser_bug902350.js mochitest in e10s. r=mrbkap 
Bug 1194534 - Disable two failing tests. r=billm 
Bug 1219842 - Enable a bunch of mochitest-plain tests under e10s. r=mrbkap 
Bug 1215167 - Forbid unsafe browser CPOWs (disabled by default for now) (r=mrbkap) 
Bug 1220324 - Remove old debugging code and reenable test_x-frame-options.html. r=mrbkap 
bug 1190018 - External protocol handlers don't work in e10s r=mrbkap 
Bug 1220732 - Enable some bc tests. r=mrbkap 
Bug 1215167 - Forbid unsafe browser CPOWs (disabled by default for now) (r=mrbkap) 
Bug 1168298 - Support OBEX authentication procedure, r=shuang, r=mrbkap 
Bug 1211769 - [MAP] Pack MAP replies to OBEX response packets, r=btain, sr=mrbkap 
Bug 1222562, part 1 - Fix use of addPermission in test_tcpsocket_enabled_with_perm.html and test_xhr_parameters.html. r=mrbkap 
Bug 1222562, part 2 - Add some comments about failing tests. r=mrbkap 
Bug 1222562, part 3 - Enable a single test in uriloader. r=mrbkap 
Bug 1223635 - Coerce this to a boolean. r=billm 

Bug 1223635 - Coerce this to a boolean. r=billm 
Backed out changeset b4c4ffc473ba (bug 1223635) for mass m(bc) bustage CLOSED TREE Bug 1223635 - Coerce this to a boolean. r=billm 

Bug 1223635 - Coerce this to a boolean. r=billm Bug 1159385 - Make PDFJS browser-chrome tests e10s compatible. r=yury 
bug 1190018 - External protocol handlers don't work in e10s r=mrbkap 
Bug 1187781 (part 1) - Replace nsBaseHashtable::EnumerateRead() calls in dom/xbl/ with iterators. r=mrbkap. 
Bug 1187781 (part 2) - Replace nsBaseHashtable::EnumerateRead() calls in dom/xbl/ with iterators. r=mrbkap. 
Bug 1187781 (part 3) - Replace nsBaseHashtable::EnumerateRead() calls in dom/xbl/ with iterators. r=mrbkap. 
Bug 1187781 (part 4) - Replace nsBaseHashtable::EnumerateRead() calls in dom/xbl/ with iterators. r=mrbkap. 
Bug 1187781 (part 5) - Replace nsBaseHashtable::EnumerateRead() calls in dom/xbl/ with iterators. r=mrbkap. 
Bug 1159385 - Make PDFJS browser-chrome tests e10s compatible. r=yury 
Bug 1225942 - Enable some M1 e10s tests that seem to work. r=mrbkap 
Bug 1196159 - Set nsGlobalWindow::mIsClosed properly after window.close(). r=billm 
Bug 1187146 - Replace nsBaseHashtable::Enumerate() calls in js/xpconnect/ with iterators. r=mrbkap. 
Bug 1220752 - Fix and enable browser_bug1058164.js for e10s now that bug 918634 has landed. r=mrbkap
Bug 1171215 - Compute third-partyness in the loadinfo instead of nsIHttpChannelInternal so that other protocols correctly respect the third-party cookie pref. r=sicking/ckerschb 
Bug 1176214 - Part 13: Changes to ipc.  r=mrbkap 
Bug 1116478 - Open web content handlers in the proper tab in e10s. r=billm 
Bug 1230351: Replace ThirdPartyUtil::IsThirdPartyInternal's warning-spammy NS_ENSURE_ARG with an equivalent check that lacks the warning. r=mrbkap 
Bug 1102025 - Make this test pass in e10s. r=bholley 
Bug 1225829 - Use a temporary string to avoid string type confusion via references. r=jimm 
Bug 1231695 - Don't use contentWindow on remote browsers. r=mccr8 
Bug 1231879 - Fix tests: getElementById returns null on failure, not undefined, r=mrbkap 
